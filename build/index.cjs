"use strict";var fP=Object.create;var qx=Object.defineProperty;var pP=Object.getOwnPropertyDescriptor;var yP=Object.getOwnPropertyNames;var gP=Object.getPrototypeOf,vP=Object.prototype.hasOwnProperty;var Vn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),_x=(e,t)=>{for(var n in t)qx(e,n,{get:t[n],enumerable:!0})},bP=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of yP(t))!vP.call(e,r)&&r!==n&&qx(e,r,{get:()=>t[r],enumerable:!(i=pP(t,r))||i.enumerable});return e};var bs=(e,t,n)=>(n=e!=null?fP(gP(e)):{},bP(t||!e||!e.__esModule?qx(n,"default",{value:e,enumerable:!0}):n,e));var F7=Vn((gpt,V2)=>{(function(){var e;function t(n,i){var r=this instanceof t?this:e;if(r.reset(i),typeof n=="string"&&n.length>0&&r.hash(n),r!==this)return r}t.prototype.hash=function(n){var i,r,a,s,c;switch(c=n.length,this.len+=c,r=this.k1,a=0,this.rem){case 0:r^=c>a?n.charCodeAt(a++)&65535:0;case 1:r^=c>a?(n.charCodeAt(a++)&65535)<<8:0;case 2:r^=c>a?(n.charCodeAt(a++)&65535)<<16:0;case 3:r^=c>a?(n.charCodeAt(a)&255)<<24:0,r^=c>a?(n.charCodeAt(a++)&65280)>>8:0}if(this.rem=c+this.rem&3,c-=this.rem,c>0){for(i=this.h1;r=r*11601+(r&65535)*3432906752&4294967295,r=r<<15|r>>>17,r=r*13715+(r&65535)*461832192&4294967295,i^=r,i=i<<13|i>>>19,i=i*5+3864292196&4294967295,!(a>=c);)r=n.charCodeAt(a++)&65535^(n.charCodeAt(a++)&65535)<<8^(n.charCodeAt(a++)&65535)<<16,s=n.charCodeAt(a++),r^=(s&255)<<24^(s&65280)>>8;switch(r=0,this.rem){case 3:r^=(n.charCodeAt(a+2)&65535)<<16;case 2:r^=(n.charCodeAt(a+1)&65535)<<8;case 1:r^=n.charCodeAt(a)&65535}this.h1=i}return this.k1=r,this},t.prototype.result=function(){var n,i;return n=this.k1,i=this.h1,n>0&&(n=n*11601+(n&65535)*3432906752&4294967295,n=n<<15|n>>>17,n=n*13715+(n&65535)*461832192&4294967295,i^=n),i^=this.len,i^=i>>>16,i=i*51819+(i&65535)*2246770688&4294967295,i^=i>>>13,i=i*44597+(i&65535)*3266445312&4294967295,i^=i>>>16,i>>>0},t.prototype.reset=function(n){return this.h1=typeof n=="number"?n:0,this.rem=this.k1=this.len=0,this},e=new t,typeof V2<"u"?V2.exports=t:this.MurmurHash3=t})()});var L7=Vn(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.signals=void 0;Cu.signals=[];Cu.signals.push("SIGHUP","SIGINT","SIGTERM");process.platform!=="win32"&&Cu.signals.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Cu.signals.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT")});var B7=Vn(is=>{"use strict";var N1;Object.defineProperty(is,"__esModule",{value:!0});is.unload=is.load=is.onExit=is.signals=void 0;var P1=L7();Object.defineProperty(is,"signals",{enumerable:!0,get:function(){return P1.signals}});var k1=e=>!!e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function",q2=Symbol.for("signal-exit emitter"),_2=globalThis,wH=Object.defineProperty.bind(Object),$2=class{emitted={afterExit:!1,exit:!1};listeners={afterExit:[],exit:[]};count=0;id=Math.random();constructor(){if(_2[q2])return _2[q2];wH(_2,q2,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(t,n){this.listeners[t].push(n)}removeListener(t,n){let i=this.listeners[t],r=i.indexOf(n);r!==-1&&(r===0&&i.length===1?i.length=0:i.splice(r,1))}emit(t,n,i){if(this.emitted[t])return!1;this.emitted[t]=!0;let r=!1;for(let a of this.listeners[t])r=a(n,i)===!0||r;return t==="exit"&&(r=this.emit("afterExit",n,i)||r),r}},F1=class{},TH=e=>({onExit(t,n){return e.onExit(t,n)},load(){return e.load()},unload(){return e.unload()}}),W2=class extends F1{onExit(){return()=>{}}load(){}unload(){}},H2=class extends F1{#e=j2.platform==="win32"?"SIGINT":"SIGHUP";#t=new $2;#n;#i;#o;#r={};#a=!1;constructor(t){super(),this.#n=t,this.#r={};for(let n of P1.signals)this.#r[n]=()=>{let i=this.#n.listeners(n),{count:r}=this.#t,a=t;if(typeof a.__signal_exit_emitter__=="object"&&typeof a.__signal_exit_emitter__.count=="number"&&(r+=a.__signal_exit_emitter__.count),i.length===r){this.unload();let s=this.#t.emit("exit",null,n),c=n==="SIGHUP"?this.#e:n;s||t.kill(t.pid,c)}};this.#o=t.reallyExit,this.#i=t.emit}onExit(t,n){if(!k1(this.#n))return()=>{};this.#a===!1&&this.load();let i=n?.alwaysLast?"afterExit":"exit";return this.#t.on(i,t),()=>{this.#t.removeListener(i,t),this.#t.listeners.exit.length===0&&this.#t.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#a){this.#a=!0,this.#t.count+=1;for(let t of P1.signals)try{let n=this.#r[t];n&&this.#n.on(t,n)}catch{}this.#n.emit=(t,...n)=>this.#c(t,...n),this.#n.reallyExit=t=>this.#s(t)}}unload(){this.#a&&(this.#a=!1,P1.signals.forEach(t=>{let n=this.#r[t];if(!n)throw new Error("Listener not defined for signal: "+t);try{this.#n.removeListener(t,n)}catch{}}),this.#n.emit=this.#i,this.#n.reallyExit=this.#o,this.#t.count-=1)}#s(t){return k1(this.#n)?(this.#n.exitCode=t||0,this.#t.emit("exit",this.#n.exitCode,null),this.#o.call(this.#n,this.#n.exitCode)):0}#c(t,...n){let i=this.#i;if(t==="exit"&&k1(this.#n)){typeof n[0]=="number"&&(this.#n.exitCode=n[0]);let r=i.call(this.#n,t,...n);return this.#t.emit("exit",this.#n.exitCode,null),r}else return i.call(this.#n,t,...n)}},j2=globalThis.process;N1=TH(k1(j2)?new H2(j2):new W2),is.onExit=N1.onExit,is.load=N1.load,is.unload=N1.unload});var V7=Vn((xpt,h0)=>{"use strict";h0.exports=OH;h0.exports.sync=DH;h0.exports._getTmpname=G2;h0.exports._cleanupOnExit=z2;var ti=require("fs"),CH=F7(),{onExit:U7}=B7(),SH=require("path"),{promisify:$o}=require("util"),Zc={},IH=function(){try{return require("worker_threads").threadId}catch{return 0}}(),AH=0;function G2(e){return e+"."+CH(__filename).hash(String(process.pid)).hash(String(IH)).hash(String(++AH)).result()}function z2(e){return()=>{try{ti.unlinkSync(typeof e=="function"?e():e)}catch{}}}function MH(e){return new Promise(t=>{Zc[e]||(Zc[e]=[]),Zc[e].push(t),Zc[e].length===1&&t()})}function L1(e){return e.code==="ENOSYS"||(!process.getuid||process.getuid()!==0)&&(e.code==="EINVAL"||e.code==="EPERM")}async function EH(e,t,n={}){typeof n=="string"&&(n={encoding:n});let i,r,a=U7(z2(()=>r)),s=SH.resolve(e);try{await MH(s);let c=await $o(ti.realpath)(e).catch(()=>e);if(r=G2(c),!n.mode||!n.chown){let l=await $o(ti.stat)(c).catch(()=>{});l&&(n.mode==null&&(n.mode=l.mode),n.chown==null&&process.getuid&&(n.chown={uid:l.uid,gid:l.gid}))}i=await $o(ti.open)(r,"w",n.mode),n.tmpfileCreated&&await n.tmpfileCreated(r),ArrayBuffer.isView(t)?await $o(ti.write)(i,t,0,t.length,0):t!=null&&await $o(ti.write)(i,String(t),0,String(n.encoding||"utf8")),n.fsync!==!1&&await $o(ti.fsync)(i),await $o(ti.close)(i),i=null,n.chown&&await $o(ti.chown)(r,n.chown.uid,n.chown.gid).catch(l=>{if(!L1(l))throw l}),n.mode&&await $o(ti.chmod)(r,n.mode).catch(l=>{if(!L1(l))throw l}),await $o(ti.rename)(r,c)}finally{i&&await $o(ti.close)(i).catch(()=>{}),a(),await $o(ti.unlink)(r).catch(()=>{}),Zc[s].shift(),Zc[s].length>0?Zc[s][0]():delete Zc[s]}}async function OH(e,t,n,i){n instanceof Function&&(i=n,n={});let r=EH(e,t,n);if(i)try{let a=await r;return i(a)}catch(a){return i(a)}return r}function DH(e,t,n){typeof n=="string"?n={encoding:n}:n||(n={});try{e=ti.realpathSync(e)}catch{}let i=G2(e);if(!n.mode||!n.chown)try{let l=ti.statSync(e);n=Object.assign({},n),n.mode||(n.mode=l.mode),!n.chown&&process.getuid&&(n.chown={uid:l.uid,gid:l.gid})}catch{}let r,a=z2(i),s=U7(a),c=!0;try{if(r=ti.openSync(i,"w",n.mode||438),n.tmpfileCreated&&n.tmpfileCreated(i),ArrayBuffer.isView(t)?ti.writeSync(r,t,0,t.length,0):t!=null&&ti.writeSync(r,String(t),0,String(n.encoding||"utf8")),n.fsync!==!1&&ti.fsyncSync(r),ti.closeSync(r),r=null,n.chown)try{ti.chownSync(i,n.chown.uid,n.chown.gid)}catch(l){if(!L1(l))throw l}if(n.mode)try{ti.chmodSync(i,n.mode)}catch(l){if(!L1(l))throw l}ti.renameSync(i,e),c=!1}finally{if(r)try{ti.closeSync(r)}catch{}s(),c&&a()}}});var q7=Vn(f0=>{(function(){var e,t,n,i,r,a,s,c,l,d,f,g,b,w;b=require("path"),g=require("fs"),f=require("events"),w=V7().sync,t="---.EMPTY_STRING.---",s=function(O){var D,y,S,L,H;for(L=g.readdirSync(O),H=[],D=0,y=L.length;D<y;D++)S=L[D],H.push(l(b.join(O,S)));return H},l=function(O){return g.statSync(O).isDirectory()?(s(O),g.rmdirSync(O)):g.unlinkSync(O)},c=function(O){var D;return O===""?D=t:D=`${O}`,D},r=class extends Error{constructor(D="Unknown error."){super(),this.message=D,Error.captureStackTrace!=null&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}toString(){return`${this.name}: ${this.message}`}},a=class{constructor(D,y,S,L,H="localStorage"){this.key=D,this.oldValue=y,this.newValue=S,this.url=L,this.storageArea=H}},i=class K2{constructor(D,y){if(this.key=D,this.index=y,!(this instanceof K2))return new K2(this.key,this.index)}},d=function(){var O;return O=function(){},O.prototype=Object.create(null),new O},n=function(){var O;class D extends f.EventEmitter{constructor(S,L=5*1024*1024){var H;return super(),this._location=S,this.quota=L,this instanceof D?(this._location=b.resolve(this._location),O[this._location]!=null?O[this._location]:(this.length=0,this._bytesInUse=0,this._keys=[],this._metaKeyMap=d(),this._eventUrl="pid:"+process.pid,this._init(),this._QUOTA_EXCEEDED_ERR=r,typeof Proxy<"u"&&Proxy!==null?(H={set:(oe,z,Q)=>(this[z]!=null?this[z]=Q:this.setItem(z,Q),!0),get:(oe,z)=>this[z]!=null?this[z]:this.getItem(z),ownKeys:oe=>this._keys.map(function(z){return z===t?"":z}),getOwnPropertyDescriptor:(oe,z)=>({value:this[z],enumerable:!0,configurable:!0})},O[this._location]=new Proxy(this,H),O[this._location]):(O[this._location]=this,O[this._location]))):new D(this._location,this.quota)}_init(){var S,L;try{if(L=g.statSync(this._location),L!=null&&!L.isDirectory())throw new Error(`A file exists at the location '${this._location}' when trying to create/open localStorage`);this._sync()}catch(H){if(S=H,S.code!=="ENOENT")throw S;try{g.mkdirSync(this._location,{recursive:!0})}catch(oe){if(S=oe,S.code!=="EEXIST")throw S}}}_sync(){var S,L,H,oe,z,Q,N,q;for(this._bytesInUse=0,this.length=0,H=g.readdirSync(this._location),z=oe=0,N=H.length;oe<N;z=++oe)Q=H[z],L=decodeURIComponent(Q),this._keys.push(L),S=new i(Q,z),this._metaKeyMap[L]=S,q=this._getStat(Q),q?.size!=null&&(S.size=q.size,this._bytesInUse+=q.size);return this.length=H.length}setItem(S,L){var H,oe,z,Q,N,q,G,te,K,ae;if(N=this.listenerCount("storage"),te=null,N&&(te=this.getItem(S)),S=c(S),H=encodeURIComponent(S).replace(/[!'()]/g,escape).replace(/\*/g,"%2A"),Q=b.join(this._location,H),K=`${L}`,ae=K.length,q=this._metaKeyMap[S],z=!!q,z?G=q.size:G=0,this._bytesInUse-G+ae>this.quota)throw new r;if(w(Q,K,{encoding:"utf8"}),z||(q=new i(H,this._keys.push(S)-1),q.size=ae,this._metaKeyMap[S]=q,this.length+=1,this._bytesInUse+=ae),N)return oe=new a(S,te,L,this._eventUrl),this.emit("storage",oe)}getItem(S){var L,H;return S=c(S),H=this._metaKeyMap[S],H?(L=b.join(this._location,H.key),g.readFileSync(L,"utf8")):null}_getStat(S){var L;S=c(S),L=b.join(this._location,encodeURIComponent(S));try{return g.statSync(L)}catch{return null}}removeItem(S){var L,H,oe,z,Q,N,q,G,te;if(S=c(S),N=this._metaKeyMap[S],N){oe=this.listenerCount("storage"),q=null,oe&&(q=this.getItem(S)),delete this._metaKeyMap[S],this.length-=1,this._bytesInUse-=N.size,H=b.join(this._location,N.key),this._keys.splice(N.index,1),G=this._metaKeyMap;for(z in G)te=G[z],Q=this._metaKeyMap[z],Q.index>N.index&&(Q.index-=1);if(l(H),oe)return L=new a(S,q,null,this._eventUrl),this.emit("storage",L)}}key(S){var L;return L=this._keys[S],L===t?"":L}clear(){var S;if(s(this._location),this._metaKeyMap=d(),this._keys=[],this.length=0,this._bytesInUse=0,this.listenerCount("storage"))return S=new a(null,null,null,this._eventUrl),this.emit("storage",S)}_getBytesInUse(){return this._bytesInUse}_deleteLocation(){return delete O[this._location],l(this._location),this._metaKeyMap={},this._keys=[],this.length=0,this._bytesInUse=0}}return O={},D}.call(this),e=class extends n{setItem(D,y){var S;return S=JSON.stringify(y),super.setItem(D,S)}getItem(D){return JSON.parse(super.getItem(D))}},f0.LocalStorage=n,f0.JSONStorage=e,f0.QUOTA_EXCEEDED_ERR=r}).call(f0)});var HE=Vn((WAt,WE)=>{"use strict";var l4=require("fs"),tj=require("util"),nj=require("path"),Ta,d4=class{constructor(t){t=t||{},this.directory=t.directory||"./locales",this.updateFiles=typeof t.updateFiles=="boolean"?t.updateFiles:!0,this.locale=t.locale||"en",this.fallbackToLanguage=typeof t.fallbackToLanguage=="boolean"?t.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...t){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let n=t.shift(),i=function(){};return typeof t[t.length-1]=="function"&&(i=t.pop()),i=i||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][n]&&this.updateFiles?(this.cache[this.locale][n]=n,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:i})):i(),Ta.format.apply(Ta.format,[this.cache[this.locale][n]||n].concat(t))}__n(){let t=Array.prototype.slice.call(arguments),n=t.shift(),i=t.shift(),r=t.shift(),a=function(){};typeof t[t.length-1]=="function"&&(a=t.pop()),this.cache[this.locale]||this._readLocaleFile();let s=r===1?n:i;this.cache[this.locale][n]&&(s=this.cache[this.locale][n][r===1?"one":"other"]),!this.cache[this.locale][n]&&this.updateFiles?(this.cache[this.locale][n]={one:n,other:i},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:a})):a();let c=[s];return~s.indexOf("%d")&&c.push(r),Ta.format.apply(Ta.format,c.concat(t))}setLocale(t){this.locale=t}getLocale(){return this.locale}updateLocale(t){this.cache[this.locale]||this._readLocaleFile();for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(this.cache[this.locale][n]=t[n])}_taggedLiteral(t,...n){let i="";return t.forEach(function(r,a){let s=n[a+1];i+=r,typeof s<"u"&&(i+="%s")}),this.__.apply(this,[i].concat([].slice.call(n,1)))}_enqueueWrite(t){this.writeQueue.push(t),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let t=this,n=this.writeQueue[0],i=n.directory,r=n.locale,a=n.cb,s=this._resolveLocaleFile(i,r),c=JSON.stringify(this.cache[r],null,2);Ta.fs.writeFile(s,c,"utf-8",function(l){t.writeQueue.shift(),t.writeQueue.length>0&&t._processWriteQueue(),a(l)})}_readLocaleFile(){let t={},n=this._resolveLocaleFile(this.directory,this.locale);try{Ta.fs.readFileSync&&(t=JSON.parse(Ta.fs.readFileSync(n,"utf-8")))}catch(i){if(i instanceof SyntaxError&&(i.message="syntax error in "+n),i.code==="ENOENT")t={};else throw i}this.cache[this.locale]=t}_resolveLocaleFile(t,n){let i=Ta.resolve(t,"./",n+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(i)&&~n.lastIndexOf("_")){let r=Ta.resolve(t,"./",n.split("_")[0]+".json");this._fileExistsSync(r)&&(i=r)}return i}_fileExistsSync(t){return Ta.exists(t)}};function ij(e,t){Ta=t;let n=new d4(e);return{__:n.__.bind(n),__n:n.__n.bind(n),setLocale:n.setLocale.bind(n),getLocale:n.getLocale.bind(n),updateLocale:n.updateLocale.bind(n),locale:n.locale}}var rj={fs:{readFileSync:l4.readFileSync,writeFile:l4.writeFile},format:tj.format,resolve:nj.resolve,exists:e=>{try{return l4.statSync(e).isFile()}catch{return!1}}},oj=e=>ij(e,rj);WE.exports=oj});var y4=Vn((HAt,QE)=>{"use strict";var aj=require("util"),jE=require("path"),sj=require("fs");function q0(e){if(e!==e.toLowerCase()&&e!==e.toUpperCase()||(e=e.toLowerCase()),e.indexOf("-")===-1&&e.indexOf("_")===-1)return e;{let n="",i=!1,r=e.match(/^-+/);for(let a=r?r[0].length:0;a<e.length;a++){let s=e.charAt(a);i&&(i=!1,s=s.toUpperCase()),a!==0&&(s==="-"||s==="_")?i=!0:s!=="-"&&s!=="_"&&(n+=s)}return n}}function XE(e,t){let n=e.toLowerCase();t=t||"-";let i="";for(let r=0;r<e.length;r++){let a=n.charAt(r),s=e.charAt(r);a!==s&&r>0?i+=`${t}${n.charAt(r)}`:i+=s}return i}function YE(e){return e==null?!1:typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^0[^.]/.test(e)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}function cj(e){if(Array.isArray(e))return e.map(s=>typeof s!="string"?s+"":s);e=e.trim();let t=0,n=null,i=null,r=null,a=[];for(let s=0;s<e.length;s++){if(n=i,i=e.charAt(s),i===" "&&!r){n!==" "&&t++;continue}i===r?r=null:(i==="'"||i==='"')&&!r&&(r=i),a[t]||(a[t]=""),a[t]+=i}return a}var Ca;(function(e){e.BOOLEAN="boolean",e.STRING="string",e.NUMBER="number",e.ARRAY="array"})(Ca||(Ca={}));var ac,p4=class{constructor(t){ac=t}parse(t,n){let i=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},n),r=cj(t),a=typeof t=="string",s=lj(Object.assign(Object.create(null),i.alias)),c=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},i.configuration),l=Object.assign(Object.create(null),i.default),d=i.configObjects||[],f=i.envPrefix,g=c["populate--"],b=g?"--":"_",w=Object.create(null),O=Object.create(null),D=i.__||ac.format,y={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},S=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,L=new RegExp("^--"+c["negation-prefix"]+"(.+)");[].concat(i.array||[]).filter(Boolean).forEach(function(le){let xe=typeof le=="object"?le.key:le,et=Object.keys(le).map(function(ke){return{boolean:"bools",string:"strings",number:"numbers"}[ke]}).filter(Boolean).pop();et&&(y[et][xe]=!0),y.arrays[xe]=!0,y.keys.push(xe)}),[].concat(i.boolean||[]).filter(Boolean).forEach(function(le){y.bools[le]=!0,y.keys.push(le)}),[].concat(i.string||[]).filter(Boolean).forEach(function(le){y.strings[le]=!0,y.keys.push(le)}),[].concat(i.number||[]).filter(Boolean).forEach(function(le){y.numbers[le]=!0,y.keys.push(le)}),[].concat(i.count||[]).filter(Boolean).forEach(function(le){y.counts[le]=!0,y.keys.push(le)}),[].concat(i.normalize||[]).filter(Boolean).forEach(function(le){y.normalize[le]=!0,y.keys.push(le)}),typeof i.narg=="object"&&Object.entries(i.narg).forEach(([le,xe])=>{typeof xe=="number"&&(y.nargs[le]=xe,y.keys.push(le))}),typeof i.coerce=="object"&&Object.entries(i.coerce).forEach(([le,xe])=>{typeof xe=="function"&&(y.coercions[le]=xe,y.keys.push(le))}),typeof i.config<"u"&&(Array.isArray(i.config)||typeof i.config=="string"?[].concat(i.config).filter(Boolean).forEach(function(le){y.configs[le]=!0}):typeof i.config=="object"&&Object.entries(i.config).forEach(([le,xe])=>{(typeof xe=="boolean"||typeof xe=="function")&&(y.configs[le]=xe)})),F(i.key,s,i.default,y.arrays),Object.keys(l).forEach(function(le){(y.aliases[le]||[]).forEach(function(xe){l[xe]=l[le]})});let H=null;qu();let oe=[],z=Object.assign(Object.create(null),{_:[]}),Q={};for(let le=0;le<r.length;le++){let xe=r[le],et=xe.replace(/^-{3,}/,"---"),ke,ge,pt,at,It,yi;if(xe!=="--"&&/^-/.test(xe)&&pi(xe))N(xe);else if(et.match(/^---+(=|$)/)){N(xe);continue}else if(xe.match(/^--.+=/)||!c["short-option-groups"]&&xe.match(/^-.+=/))at=xe.match(/^--?([^=]+)=([\s\S]*)$/),at!==null&&Array.isArray(at)&&at.length>=3&&(Ve(at[1],y.arrays)?le=G(le,at[1],r,at[2]):Ve(at[1],y.nargs)!==!1?le=q(le,at[1],r,at[2]):te(at[1],at[2],!0));else if(xe.match(L)&&c["boolean-negation"])at=xe.match(L),at!==null&&Array.isArray(at)&&at.length>=2&&(ge=at[1],te(ge,Ve(ge,y.arrays)?[!1]:!1));else if(xe.match(/^--.+/)||!c["short-option-groups"]&&xe.match(/^-[^-]+/))at=xe.match(/^--?(.+)/),at!==null&&Array.isArray(at)&&at.length>=2&&(ge=at[1],Ve(ge,y.arrays)?le=G(le,ge,r):Ve(ge,y.nargs)!==!1?le=q(le,ge,r):(It=r[le+1],It!==void 0&&(!It.match(/^-/)||It.match(S))&&!Ve(ge,y.bools)&&!Ve(ge,y.counts)||/^(true|false)$/.test(It)?(te(ge,It),le++):te(ge,Ar(ge))));else if(xe.match(/^-.\..+=/))at=xe.match(/^-([^=]+)=([\s\S]*)$/),at!==null&&Array.isArray(at)&&at.length>=3&&te(at[1],at[2]);else if(xe.match(/^-.\..+/)&&!xe.match(S))It=r[le+1],at=xe.match(/^-(.\..+)/),at!==null&&Array.isArray(at)&&at.length>=2&&(ge=at[1],It!==void 0&&!It.match(/^-/)&&!Ve(ge,y.bools)&&!Ve(ge,y.counts)?(te(ge,It),le++):te(ge,Ar(ge)));else if(xe.match(/^-[^-]+/)&&!xe.match(S)){pt=xe.slice(1,-1).split(""),ke=!1;for(let Sn=0;Sn<pt.length;Sn++){if(It=xe.slice(Sn+2),pt[Sn+1]&&pt[Sn+1]==="="){yi=xe.slice(Sn+3),ge=pt[Sn],Ve(ge,y.arrays)?le=G(le,ge,r,yi):Ve(ge,y.nargs)!==!1?le=q(le,ge,r,yi):te(ge,yi),ke=!0;break}if(It==="-"){te(pt[Sn],It);continue}if(/[A-Za-z]/.test(pt[Sn])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(It)&&Ve(It,y.bools)===!1){te(pt[Sn],It),ke=!0;break}if(pt[Sn+1]&&pt[Sn+1].match(/\W/)){te(pt[Sn],It),ke=!0;break}else te(pt[Sn],Ar(pt[Sn]))}ge=xe.slice(-1)[0],!ke&&ge!=="-"&&(Ve(ge,y.arrays)?le=G(le,ge,r):Ve(ge,y.nargs)!==!1?le=q(le,ge,r):(It=r[le+1],It!==void 0&&(!/^(-|--)[^-]/.test(It)||It.match(S))&&!Ve(ge,y.bools)&&!Ve(ge,y.counts)||/^(true|false)$/.test(It)?(te(ge,It),le++):te(ge,Ar(ge))))}else if(xe.match(/^-[0-9]$/)&&xe.match(S)&&Ve(xe.slice(1),y.bools))ge=xe.slice(1),te(ge,Ar(ge));else if(xe==="--"){oe=r.slice(le+1);break}else if(c["halt-at-non-option"]){oe=r.slice(le);break}else N(xe)}tt(z,!0),tt(z,!1),he(z),Le(),Gt(z,y.aliases,l,!0),St(z),c["set-placeholder-key"]&&qt(z),Object.keys(y.counts).forEach(function(le){Ze(z,le.split("."))||te(le,0)}),g&&oe.length&&(z[b]=[]),oe.forEach(function(le){z[b].push(le)}),c["camel-case-expansion"]&&c["strip-dashed"]&&Object.keys(z).filter(le=>le!=="--"&&le.includes("-")).forEach(le=>{delete z[le]}),c["strip-aliased"]&&[].concat(...Object.keys(s).map(le=>s[le])).forEach(le=>{c["camel-case-expansion"]&&le.includes("-")&&delete z[le.split(".").map(xe=>q0(xe)).join(".")],delete z[le]});function N(le){let xe=pe("_",le);(typeof xe=="string"||typeof xe=="number")&&z._.push(xe)}function q(le,xe,et,ke){let ge,pt=Ve(xe,y.nargs);if(pt=typeof pt!="number"||isNaN(pt)?1:pt,pt===0)return sr(ke)||(H=Error(D("Argument unexpected for: %s",xe))),te(xe,Ar(xe)),le;let at=sr(ke)?0:1;if(c["nargs-eats-options"])et.length-(le+1)+at<pt&&(H=Error(D("Not enough arguments following: %s",xe))),at=pt;else{for(ge=le+1;ge<et.length&&(!et[ge].match(/^-[^0-9]/)||et[ge].match(S)||pi(et[ge]));ge++)at++;at<pt&&(H=Error(D("Not enough arguments following: %s",xe)))}let It=Math.min(at,pt);for(!sr(ke)&&It>0&&(te(xe,ke),It--),ge=le+1;ge<It+le+1;ge++)te(xe,et[ge]);return le+It}function G(le,xe,et,ke){let ge=[],pt=ke||et[le+1],at=Ve(xe,y.nargs);if(Ve(xe,y.bools)&&!/^(true|false)$/.test(pt))ge.push(!0);else if(sr(pt)||sr(ke)&&/^-/.test(pt)&&!S.test(pt)&&!pi(pt)){if(l[xe]!==void 0){let It=l[xe];ge=Array.isArray(It)?It:[It]}}else{sr(ke)||ge.push(ae(xe,ke,!0));for(let It=le+1;It<et.length&&!(!c["greedy-arrays"]&&ge.length>0||at&&typeof at=="number"&&ge.length>=at||(pt=et[It],/^-/.test(pt)&&!S.test(pt)&&!pi(pt)));It++)le=It,ge.push(ae(xe,pt,a))}return typeof at=="number"&&(at&&ge.length<at||isNaN(at)&&ge.length===0)&&(H=Error(D("Not enough arguments following: %s",xe))),te(xe,ge),le}function te(le,xe,et=a){if(/-/.test(le)&&c["camel-case-expansion"]){let pt=le.split(".").map(function(at){return q0(at)}).join(".");K(le,pt)}let ke=ae(le,xe,et),ge=le.split(".");ft(z,ge,ke),y.aliases[le]&&y.aliases[le].forEach(function(pt){let at=pt.split(".");ft(z,at,ke)}),ge.length>1&&c["dot-notation"]&&(y.aliases[ge[0]]||[]).forEach(function(pt){let at=pt.split("."),It=[].concat(ge);It.shift(),at=at.concat(It),(y.aliases[le]||[]).includes(at.join("."))||ft(z,at,ke)}),Ve(le,y.normalize)&&!Ve(le,y.arrays)&&[le].concat(y.aliases[le]||[]).forEach(function(at){Object.defineProperty(Q,at,{enumerable:!0,get(){return xe},set(It){xe=typeof It=="string"?ac.normalize(It):It}})})}function K(le,xe){y.aliases[le]&&y.aliases[le].length||(y.aliases[le]=[xe],w[xe]=!0),y.aliases[xe]&&y.aliases[xe].length||K(xe,le)}function ae(le,xe,et){et&&(xe=dj(xe)),(Ve(le,y.bools)||Ve(le,y.counts))&&typeof xe=="string"&&(xe=xe==="true");let ke=Array.isArray(xe)?xe.map(function(ge){return pe(le,ge)}):pe(le,xe);return Ve(le,y.counts)&&(sr(ke)||typeof ke=="boolean")&&(ke=u4()),Ve(le,y.normalize)&&Ve(le,y.arrays)&&(Array.isArray(xe)?ke=xe.map(ge=>ac.normalize(ge)):ke=ac.normalize(xe)),ke}function pe(le,xe){return!c["parse-positional-numbers"]&&le==="_"||!Ve(le,y.strings)&&!Ve(le,y.bools)&&!Array.isArray(xe)&&(YE(xe)&&c["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${xe}`)))||!sr(xe)&&Ve(le,y.numbers))&&(xe=Number(xe)),xe}function he(le){let xe=Object.create(null);Gt(xe,y.aliases,l),Object.keys(y.configs).forEach(function(et){let ke=le[et]||xe[et];if(ke)try{let ge=null,pt=ac.resolve(ac.cwd(),ke),at=y.configs[et];if(typeof at=="function"){try{ge=at(pt)}catch(It){ge=It}if(ge instanceof Error){H=ge;return}}else ge=ac.require(pt);Ce(ge)}catch(ge){ge.name==="PermissionDenied"?H=ge:le[et]&&(H=Error(D("Invalid JSON config file: %s",ke)))}})}function Ce(le,xe){Object.keys(le).forEach(function(et){let ke=le[et],ge=xe?xe+"."+et:et;typeof ke=="object"&&ke!==null&&!Array.isArray(ke)&&c["dot-notation"]?Ce(ke,ge):(!Ze(z,ge.split("."))||Ve(ge,y.arrays)&&c["combine-arrays"])&&te(ge,ke)})}function Le(){typeof d<"u"&&d.forEach(function(le){Ce(le)})}function tt(le,xe){if(typeof f>"u")return;let et=typeof f=="string"?f:"",ke=ac.env();Object.keys(ke).forEach(function(ge){if(et===""||ge.lastIndexOf(et,0)===0){let pt=ge.split("__").map(function(at,It){return It===0&&(at=at.substring(et.length)),q0(at)});(xe&&y.configs[pt.join(".")]||!xe)&&!Ze(le,pt)&&te(pt.join("."),ke[ge])}})}function St(le){let xe,et=new Set;Object.keys(le).forEach(function(ke){if(!et.has(ke)&&(xe=Ve(ke,y.coercions),typeof xe=="function"))try{let ge=pe(ke,xe(le[ke]));[].concat(y.aliases[ke]||[],ke).forEach(pt=>{et.add(pt),le[pt]=ge})}catch(ge){H=ge}})}function qt(le){return y.keys.forEach(xe=>{~xe.indexOf(".")||typeof le[xe]>"u"&&(le[xe]=void 0)}),le}function Gt(le,xe,et,ke=!1){Object.keys(et).forEach(function(ge){Ze(le,ge.split("."))||(ft(le,ge.split("."),et[ge]),ke&&(O[ge]=!0),(xe[ge]||[]).forEach(function(pt){Ze(le,pt.split("."))||ft(le,pt.split("."),et[ge])}))})}function Ze(le,xe){let et=le;c["dot-notation"]||(xe=[xe.join(".")]),xe.slice(0,-1).forEach(function(ge){et=et[ge]||{}});let ke=xe[xe.length-1];return typeof et!="object"?!1:ke in et}function ft(le,xe,et){let ke=le;c["dot-notation"]||(xe=[xe.join(".")]),xe.slice(0,-1).forEach(function(yi){yi=GE(yi),typeof ke=="object"&&ke[yi]===void 0&&(ke[yi]={}),typeof ke[yi]!="object"||Array.isArray(ke[yi])?(Array.isArray(ke[yi])?ke[yi].push({}):ke[yi]=[ke[yi],{}],ke=ke[yi][ke[yi].length-1]):ke=ke[yi]});let ge=GE(xe[xe.length-1]),pt=Ve(xe.join("."),y.arrays),at=Array.isArray(et),It=c["duplicate-arguments-array"];!It&&Ve(ge,y.nargs)&&(It=!0,(!sr(ke[ge])&&y.nargs[ge]===1||Array.isArray(ke[ge])&&ke[ge].length===y.nargs[ge])&&(ke[ge]=void 0)),et===u4()?ke[ge]=u4(ke[ge]):Array.isArray(ke[ge])?It&&pt&&at?ke[ge]=c["flatten-duplicate-arrays"]?ke[ge].concat(et):(Array.isArray(ke[ge][0])?ke[ge]:[ke[ge]]).concat([et]):!It&&!!pt==!!at?ke[ge]=et:ke[ge]=ke[ge].concat([et]):ke[ge]===void 0&&pt?ke[ge]=at?et:[et]:It&&!(ke[ge]===void 0||Ve(ge,y.counts)||Ve(ge,y.bools))?ke[ge]=[ke[ge],et]:ke[ge]=et}function F(...le){le.forEach(function(xe){Object.keys(xe||{}).forEach(function(et){y.aliases[et]||(y.aliases[et]=[].concat(s[et]||[]),y.aliases[et].concat(et).forEach(function(ke){if(/-/.test(ke)&&c["camel-case-expansion"]){let ge=q0(ke);ge!==et&&y.aliases[et].indexOf(ge)===-1&&(y.aliases[et].push(ge),w[ge]=!0)}}),y.aliases[et].concat(et).forEach(function(ke){if(ke.length>1&&/[A-Z]/.test(ke)&&c["camel-case-expansion"]){let ge=XE(ke,"-");ge!==et&&y.aliases[et].indexOf(ge)===-1&&(y.aliases[et].push(ge),w[ge]=!0)}}),y.aliases[et].forEach(function(ke){y.aliases[ke]=[et].concat(y.aliases[et].filter(function(ge){return ke!==ge}))}))})})}function Ve(le,xe){let et=[].concat(y.aliases[le]||[],le),ke=Object.keys(xe),ge=et.find(pt=>ke.includes(pt));return ge?xe[ge]:!1}function ln(le){let xe=Object.keys(y);return[].concat(xe.map(ke=>y[ke])).some(function(ke){return Array.isArray(ke)?ke.includes(le):ke[le]})}function _t(le,...xe){return[].concat(...xe).some(function(ke){let ge=le.match(ke);return ge&&ln(ge[1])})}function Mn(le){if(le.match(S)||!le.match(/^-[^-]+/))return!1;let xe=!0,et,ke=le.slice(1).split("");for(let ge=0;ge<ke.length;ge++){if(et=le.slice(ge+2),!ln(ke[ge])){xe=!1;break}if(ke[ge+1]&&ke[ge+1]==="="||et==="-"||/[A-Za-z]/.test(ke[ge])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(et)||ke[ge+1]&&ke[ge+1].match(/\W/))break}return xe}function pi(le){return c["unknown-options-as-args"]&&ar(le)}function ar(le){return le=le.replace(/^-{3,}/,"--"),le.match(S)||Mn(le)?!1:!_t(le,/^-+([^=]+?)=[\s\S]*$/,L,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function Ar(le){return!Ve(le,y.bools)&&!Ve(le,y.counts)&&`${le}`in l?l[le]:_r(Ia(le))}function _r(le){return{[Ca.BOOLEAN]:!0,[Ca.STRING]:"",[Ca.NUMBER]:void 0,[Ca.ARRAY]:[]}[le]}function Ia(le){let xe=Ca.BOOLEAN;return Ve(le,y.strings)?xe=Ca.STRING:Ve(le,y.numbers)?xe=Ca.NUMBER:Ve(le,y.bools)?xe=Ca.BOOLEAN:Ve(le,y.arrays)&&(xe=Ca.ARRAY),xe}function sr(le){return le===void 0}function qu(){Object.keys(y.counts).find(le=>Ve(le,y.arrays)?(H=Error(D("Invalid configuration: %s, opts.count excludes opts.array.",le)),!0):Ve(le,y.nargs)?(H=Error(D("Invalid configuration: %s, opts.count excludes opts.narg.",le)),!0):!1)}return{aliases:Object.assign({},y.aliases),argv:Object.assign(Q,z),configuration:c,defaulted:Object.assign({},O),error:H,newAliases:Object.assign({},w)}}};function lj(e){let t=[],n=Object.create(null),i=!0;for(Object.keys(e).forEach(function(r){t.push([].concat(e[r],r))});i;){i=!1;for(let r=0;r<t.length;r++)for(let a=r+1;a<t.length;a++)if(t[r].filter(function(c){return t[a].indexOf(c)!==-1}).length){t[r]=t[r].concat(t[a]),t.splice(a,1),i=!0;break}}return t.forEach(function(r){r=r.filter(function(s,c,l){return l.indexOf(s)===c});let a=r.pop();a!==void 0&&typeof a=="string"&&(n[a]=r)}),n}function u4(e){return e!==void 0?e+1:1}function GE(e){return e==="__proto__"?"___proto___":e}function dj(e){return typeof e=="string"&&(e[0]==="'"||e[0]==='"')&&e[e.length-1]===e[0]?e.substring(1,e.length-1):e}var m4,h4,f4,zE=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12,KE=(h4=(m4=process==null?void 0:process.versions)===null||m4===void 0?void 0:m4.node)!==null&&h4!==void 0?h4:(f4=process==null?void 0:process.version)===null||f4===void 0?void 0:f4.slice(1);if(KE&&Number(KE.match(/^([^.]+)/)[1])<zE)throw Error(`yargs parser supports a minimum Node.js version of ${zE}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var uj=process?process.env:{},ZE=new p4({cwd:process.cwd,env:()=>uj,format:aj.format,normalize:jE.normalize,resolve:jE.resolve,require:e=>{if(typeof require<"u")return require(e);if(e.match(/\.json$/))return JSON.parse(sj.readFileSync(e,"utf8"));throw Error("only .json config files are supported in ESM")}}),_0=function(t,n){return ZE.parse(t.slice(),n).argv};_0.detailed=function(e,t){return ZE.parse(e.slice(),t)};_0.camelCase=q0;_0.decamelize=XE;_0.looksLikeNumber=YE;QE.exports=_0});var Zb=Vn((jAt,JE)=>{"use strict";JE.exports=({onlyFirst:e=!1}={})=>{let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}});var t9=Vn((GAt,e9)=>{"use strict";var mj=Zb();e9.exports=e=>typeof e=="string"?e.replace(mj(),""):e});var i9=Vn((zAt,g4)=>{"use strict";var n9=e=>Number.isNaN(e)?!1:e>=4352&&(e<=4447||e===9001||e===9002||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141);g4.exports=n9;g4.exports.default=n9});var o9=Vn((KAt,r9)=>{"use strict";r9.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}});var Qb=Vn((XAt,v4)=>{"use strict";var hj=t9(),fj=i9(),pj=o9(),a9=e=>{if(typeof e!="string"||e.length===0||(e=hj(e),e.length===0))return 0;e=e.replace(pj(),"  ");let t=0;for(let n=0;n<e.length;n++){let i=e.codePointAt(n);i<=31||i>=127&&i<=159||i>=768&&i<=879||(i>65535&&n++,t+=fj(i)?2:1)}return t};v4.exports=a9;v4.exports.default=a9});var c9=Vn((YAt,s9)=>{"use strict";var yj=Zb();s9.exports=e=>typeof e=="string"?e.replace(yj(),""):e});var d9=Vn((ZAt,l9)=>{"use strict";var gj=Zb();l9.exports=e=>typeof e=="string"?e.replace(gj(),""):e});var m9=Vn((QAt,u9)=>{"use strict";u9.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var b4=Vn((JAt,f9)=>{var $0=m9(),h9={};for(let e of Object.keys($0))h9[$0[e]]=e;var Tt={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};f9.exports=Tt;for(let e of Object.keys(Tt)){if(!("channels"in Tt[e]))throw new Error("missing channels property: "+e);if(!("labels"in Tt[e]))throw new Error("missing channel labels property: "+e);if(Tt[e].labels.length!==Tt[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:n}=Tt[e];delete Tt[e].channels,delete Tt[e].labels,Object.defineProperty(Tt[e],"channels",{value:t}),Object.defineProperty(Tt[e],"labels",{value:n})}Tt.rgb.hsl=function(e){let t=e[0]/255,n=e[1]/255,i=e[2]/255,r=Math.min(t,n,i),a=Math.max(t,n,i),s=a-r,c,l;a===r?c=0:t===a?c=(n-i)/s:n===a?c=2+(i-t)/s:i===a&&(c=4+(t-n)/s),c=Math.min(c*60,360),c<0&&(c+=360);let d=(r+a)/2;return a===r?l=0:d<=.5?l=s/(a+r):l=s/(2-a-r),[c,l*100,d*100]};Tt.rgb.hsv=function(e){let t,n,i,r,a,s=e[0]/255,c=e[1]/255,l=e[2]/255,d=Math.max(s,c,l),f=d-Math.min(s,c,l),g=function(b){return(d-b)/6/f+1/2};return f===0?(r=0,a=0):(a=f/d,t=g(s),n=g(c),i=g(l),s===d?r=i-n:c===d?r=1/3+t-i:l===d&&(r=2/3+n-t),r<0?r+=1:r>1&&(r-=1)),[r*360,a*100,d*100]};Tt.rgb.hwb=function(e){let t=e[0],n=e[1],i=e[2],r=Tt.rgb.hsl(e)[0],a=1/255*Math.min(t,Math.min(n,i));return i=1-1/255*Math.max(t,Math.max(n,i)),[r,a*100,i*100]};Tt.rgb.cmyk=function(e){let t=e[0]/255,n=e[1]/255,i=e[2]/255,r=Math.min(1-t,1-n,1-i),a=(1-t-r)/(1-r)||0,s=(1-n-r)/(1-r)||0,c=(1-i-r)/(1-r)||0;return[a*100,s*100,c*100,r*100]};function vj(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}Tt.rgb.keyword=function(e){let t=h9[e];if(t)return t;let n=1/0,i;for(let r of Object.keys($0)){let a=$0[r],s=vj(e,a);s<n&&(n=s,i=r)}return i};Tt.keyword.rgb=function(e){return $0[e]};Tt.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,i=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92;let r=t*.4124+n*.3576+i*.1805,a=t*.2126+n*.7152+i*.0722,s=t*.0193+n*.1192+i*.9505;return[r*100,a*100,s*100]};Tt.rgb.lab=function(e){let t=Tt.rgb.xyz(e),n=t[0],i=t[1],r=t[2];n/=95.047,i/=100,r/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;let a=116*i-16,s=500*(n-i),c=200*(i-r);return[a,s,c]};Tt.hsl.rgb=function(e){let t=e[0]/360,n=e[1]/100,i=e[2]/100,r,a,s;if(n===0)return s=i*255,[s,s,s];i<.5?r=i*(1+n):r=i+n-i*n;let c=2*i-r,l=[0,0,0];for(let d=0;d<3;d++)a=t+1/3*-(d-1),a<0&&a++,a>1&&a--,6*a<1?s=c+(r-c)*6*a:2*a<1?s=r:3*a<2?s=c+(r-c)*(2/3-a)*6:s=c,l[d]=s*255;return l};Tt.hsl.hsv=function(e){let t=e[0],n=e[1]/100,i=e[2]/100,r=n,a=Math.max(i,.01);i*=2,n*=i<=1?i:2-i,r*=a<=1?a:2-a;let s=(i+n)/2,c=i===0?2*r/(a+r):2*n/(i+n);return[t,c*100,s*100]};Tt.hsv.rgb=function(e){let t=e[0]/60,n=e[1]/100,i=e[2]/100,r=Math.floor(t)%6,a=t-Math.floor(t),s=255*i*(1-n),c=255*i*(1-n*a),l=255*i*(1-n*(1-a));switch(i*=255,r){case 0:return[i,l,s];case 1:return[c,i,s];case 2:return[s,i,l];case 3:return[s,c,i];case 4:return[l,s,i];case 5:return[i,s,c]}};Tt.hsv.hsl=function(e){let t=e[0],n=e[1]/100,i=e[2]/100,r=Math.max(i,.01),a,s;s=(2-n)*i;let c=(2-n)*r;return a=n*r,a/=c<=1?c:2-c,a=a||0,s/=2,[t,a*100,s*100]};Tt.hwb.rgb=function(e){let t=e[0]/360,n=e[1]/100,i=e[2]/100,r=n+i,a;r>1&&(n/=r,i/=r);let s=Math.floor(6*t),c=1-i;a=6*t-s,s&1&&(a=1-a);let l=n+a*(c-n),d,f,g;switch(s){default:case 6:case 0:d=c,f=l,g=n;break;case 1:d=l,f=c,g=n;break;case 2:d=n,f=c,g=l;break;case 3:d=n,f=l,g=c;break;case 4:d=l,f=n,g=c;break;case 5:d=c,f=n,g=l;break}return[d*255,f*255,g*255]};Tt.cmyk.rgb=function(e){let t=e[0]/100,n=e[1]/100,i=e[2]/100,r=e[3]/100,a=1-Math.min(1,t*(1-r)+r),s=1-Math.min(1,n*(1-r)+r),c=1-Math.min(1,i*(1-r)+r);return[a*255,s*255,c*255]};Tt.xyz.rgb=function(e){let t=e[0]/100,n=e[1]/100,i=e[2]/100,r,a,s;return r=t*3.2406+n*-1.5372+i*-.4986,a=t*-.9689+n*1.8758+i*.0415,s=t*.0557+n*-.204+i*1.057,r=r>.0031308?1.055*r**(1/2.4)-.055:r*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,r=Math.min(Math.max(0,r),1),a=Math.min(Math.max(0,a),1),s=Math.min(Math.max(0,s),1),[r*255,a*255,s*255]};Tt.xyz.lab=function(e){let t=e[0],n=e[1],i=e[2];t/=95.047,n/=100,i/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let r=116*n-16,a=500*(t-n),s=200*(n-i);return[r,a,s]};Tt.lab.xyz=function(e){let t=e[0],n=e[1],i=e[2],r,a,s;a=(t+16)/116,r=n/500+a,s=a-i/200;let c=a**3,l=r**3,d=s**3;return a=c>.008856?c:(a-16/116)/7.787,r=l>.008856?l:(r-16/116)/7.787,s=d>.008856?d:(s-16/116)/7.787,r*=95.047,a*=100,s*=108.883,[r,a,s]};Tt.lab.lch=function(e){let t=e[0],n=e[1],i=e[2],r;r=Math.atan2(i,n)*360/2/Math.PI,r<0&&(r+=360);let s=Math.sqrt(n*n+i*i);return[t,s,r]};Tt.lch.lab=function(e){let t=e[0],n=e[1],r=e[2]/360*2*Math.PI,a=n*Math.cos(r),s=n*Math.sin(r);return[t,a,s]};Tt.rgb.ansi16=function(e,t=null){let[n,i,r]=e,a=t===null?Tt.rgb.hsv(e)[2]:t;if(a=Math.round(a/50),a===0)return 30;let s=30+(Math.round(r/255)<<2|Math.round(i/255)<<1|Math.round(n/255));return a===2&&(s+=60),s};Tt.hsv.ansi16=function(e){return Tt.rgb.ansi16(Tt.hsv.rgb(e),e[2])};Tt.rgb.ansi256=function(e){let t=e[0],n=e[1],i=e[2];return t===n&&n===i?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5)};Tt.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let n=(~~(e>50)+1)*.5,i=(t&1)*n*255,r=(t>>1&1)*n*255,a=(t>>2&1)*n*255;return[i,r,a]};Tt.ansi256.rgb=function(e){if(e>=232){let a=(e-232)*10+8;return[a,a,a]}e-=16;let t,n=Math.floor(e/36)/5*255,i=Math.floor((t=e%36)/6)/5*255,r=t%6/5*255;return[n,i,r]};Tt.rgb.hex=function(e){let n=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(n.length)+n};Tt.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];t[0].length===3&&(n=n.split("").map(c=>c+c).join(""));let i=parseInt(n,16),r=i>>16&255,a=i>>8&255,s=i&255;return[r,a,s]};Tt.rgb.hcg=function(e){let t=e[0]/255,n=e[1]/255,i=e[2]/255,r=Math.max(Math.max(t,n),i),a=Math.min(Math.min(t,n),i),s=r-a,c,l;return s<1?c=a/(1-s):c=0,s<=0?l=0:r===t?l=(n-i)/s%6:r===n?l=2+(i-t)/s:l=4+(t-n)/s,l/=6,l%=1,[l*360,s*100,c*100]};Tt.hsl.hcg=function(e){let t=e[1]/100,n=e[2]/100,i=n<.5?2*t*n:2*t*(1-n),r=0;return i<1&&(r=(n-.5*i)/(1-i)),[e[0],i*100,r*100]};Tt.hsv.hcg=function(e){let t=e[1]/100,n=e[2]/100,i=t*n,r=0;return i<1&&(r=(n-i)/(1-i)),[e[0],i*100,r*100]};Tt.hcg.rgb=function(e){let t=e[0]/360,n=e[1]/100,i=e[2]/100;if(n===0)return[i*255,i*255,i*255];let r=[0,0,0],a=t%1*6,s=a%1,c=1-s,l=0;switch(Math.floor(a)){case 0:r[0]=1,r[1]=s,r[2]=0;break;case 1:r[0]=c,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=s;break;case 3:r[0]=0,r[1]=c,r[2]=1;break;case 4:r[0]=s,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=c}return l=(1-n)*i,[(n*r[0]+l)*255,(n*r[1]+l)*255,(n*r[2]+l)*255]};Tt.hcg.hsv=function(e){let t=e[1]/100,n=e[2]/100,i=t+n*(1-t),r=0;return i>0&&(r=t/i),[e[0],r*100,i*100]};Tt.hcg.hsl=function(e){let t=e[1]/100,i=e[2]/100*(1-t)+.5*t,r=0;return i>0&&i<.5?r=t/(2*i):i>=.5&&i<1&&(r=t/(2*(1-i))),[e[0],r*100,i*100]};Tt.hcg.hwb=function(e){let t=e[1]/100,n=e[2]/100,i=t+n*(1-t);return[e[0],(i-t)*100,(1-i)*100]};Tt.hwb.hcg=function(e){let t=e[1]/100,i=1-e[2]/100,r=i-t,a=0;return r<1&&(a=(i-r)/(1-r)),[e[0],r*100,a*100]};Tt.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};Tt.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};Tt.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};Tt.gray.hsl=function(e){return[0,0,e[0]]};Tt.gray.hsv=Tt.gray.hsl;Tt.gray.hwb=function(e){return[0,100,e[0]]};Tt.gray.cmyk=function(e){return[0,0,0,e[0]]};Tt.gray.lab=function(e){return[e[0],0,0]};Tt.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,i=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(i.length)+i};Tt.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var y9=Vn((eMt,p9)=>{var Jb=b4();function bj(){let e={},t=Object.keys(Jb);for(let n=t.length,i=0;i<n;i++)e[t[i]]={distance:-1,parent:null};return e}function xj(e){let t=bj(),n=[e];for(t[e].distance=0;n.length;){let i=n.pop(),r=Object.keys(Jb[i]);for(let a=r.length,s=0;s<a;s++){let c=r[s],l=t[c];l.distance===-1&&(l.distance=t[i].distance+1,l.parent=i,n.unshift(c))}}return t}function wj(e,t){return function(n){return t(e(n))}}function Tj(e,t){let n=[t[e].parent,e],i=Jb[t[e].parent][e],r=t[e].parent;for(;t[r].parent;)n.unshift(t[r].parent),i=wj(Jb[t[r].parent][r],i),r=t[r].parent;return i.conversion=n,i}p9.exports=function(e){let t=xj(e),n={},i=Object.keys(t);for(let r=i.length,a=0;a<r;a++){let s=i[a];t[s].parent!==null&&(n[s]=Tj(s,t))}return n}});var v9=Vn((tMt,g9)=>{var x4=b4(),Cj=y9(),rf={},Sj=Object.keys(x4);function Ij(e){let t=function(...n){let i=n[0];return i==null?i:(i.length>1&&(n=i),e(n))};return"conversion"in e&&(t.conversion=e.conversion),t}function Aj(e){let t=function(...n){let i=n[0];if(i==null)return i;i.length>1&&(n=i);let r=e(n);if(typeof r=="object")for(let a=r.length,s=0;s<a;s++)r[s]=Math.round(r[s]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}Sj.forEach(e=>{rf[e]={},Object.defineProperty(rf[e],"channels",{value:x4[e].channels}),Object.defineProperty(rf[e],"labels",{value:x4[e].labels});let t=Cj(e);Object.keys(t).forEach(i=>{let r=t[i];rf[e][i]=Aj(r),rf[e][i].raw=Ij(r)})});g9.exports=rf});var S9=Vn((nMt,C9)=>{"use strict";var b9=(e,t)=>(...n)=>`\x1B[${e(...n)+t}m`,x9=(e,t)=>(...n)=>{let i=e(...n);return`\x1B[${38+t};5;${i}m`},w9=(e,t)=>(...n)=>{let i=e(...n);return`\x1B[${38+t};2;${i[0]};${i[1]};${i[2]}m`},ex=e=>e,T9=(e,t,n)=>[e,t,n],of=(e,t,n)=>{Object.defineProperty(e,t,{get:()=>{let i=n();return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0}),i},enumerable:!0,configurable:!0})},w4,af=(e,t,n,i)=>{w4===void 0&&(w4=v9());let r=i?10:0,a={};for(let[s,c]of Object.entries(w4)){let l=s==="ansi16"?"ansi":s;s===t?a[l]=e(n,r):typeof c=="object"&&(a[l]=e(c[t],r))}return a};function Mj(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[n,i]of Object.entries(t)){for(let[r,a]of Object.entries(i))t[r]={open:`\x1B[${a[0]}m`,close:`\x1B[${a[1]}m`},i[r]=t[r],e.set(a[0],a[1]);Object.defineProperty(t,n,{value:i,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1B[39m",t.bgColor.close="\x1B[49m",of(t.color,"ansi",()=>af(b9,"ansi16",ex,!1)),of(t.color,"ansi256",()=>af(x9,"ansi256",ex,!1)),of(t.color,"ansi16m",()=>af(w9,"rgb",T9,!1)),of(t.bgColor,"ansi",()=>af(b9,"ansi16",ex,!0)),of(t.bgColor,"ansi256",()=>af(x9,"ansi256",ex,!0)),of(t.bgColor,"ansi16m",()=>af(w9,"rgb",T9,!0)),t}Object.defineProperty(C9,"exports",{enumerable:!0,get:Mj})});var D9=Vn((iMt,O9)=>{"use strict";var W0=Qb(),Ej=d9(),Oj=S9(),tx=new Set(["\x1B","\x9B"]),Dj=39,C4="\x07",M9="[",Rj="]",E9="m",S4=`${Rj}8;;`,I9=e=>`${tx.values().next().value}${M9}${e}${E9}`,A9=e=>`${tx.values().next().value}${S4}${e}${C4}`,Nj=e=>e.split(" ").map(t=>W0(t)),T4=(e,t,n)=>{let i=[...t],r=!1,a=!1,s=W0(Ej(e[e.length-1]));for(let[c,l]of i.entries()){let d=W0(l);if(s+d<=n?e[e.length-1]+=l:(e.push(l),s=0),tx.has(l)&&(r=!0,a=i.slice(c+1).join("").startsWith(S4)),r){a?l===C4&&(r=!1,a=!1):l===E9&&(r=!1);continue}s+=d,s===n&&c<i.length-1&&(e.push(""),s=0)}!s&&e[e.length-1].length>0&&e.length>1&&(e[e.length-2]+=e.pop())},Pj=e=>{let t=e.split(" "),n=t.length;for(;n>0&&!(W0(t[n-1])>0);)n--;return n===t.length?e:t.slice(0,n).join(" ")+t.slice(n).join("")},kj=(e,t,n={})=>{if(n.trim!==!1&&e.trim()==="")return"";let i="",r,a,s=Nj(e),c=[""];for(let[d,f]of e.split(" ").entries()){n.trim!==!1&&(c[c.length-1]=c[c.length-1].trimStart());let g=W0(c[c.length-1]);if(d!==0&&(g>=t&&(n.wordWrap===!1||n.trim===!1)&&(c.push(""),g=0),(g>0||n.trim===!1)&&(c[c.length-1]+=" ",g++)),n.hard&&s[d]>t){let b=t-g,w=1+Math.floor((s[d]-b-1)/t);Math.floor((s[d]-1)/t)<w&&c.push(""),T4(c,f,t);continue}if(g+s[d]>t&&g>0&&s[d]>0){if(n.wordWrap===!1&&g<t){T4(c,f,t);continue}c.push("")}if(g+s[d]>t&&n.wordWrap===!1){T4(c,f,t);continue}c[c.length-1]+=f}n.trim!==!1&&(c=c.map(Pj));let l=[...c.join(`
`)];for(let[d,f]of l.entries()){if(i+=f,tx.has(f)){let{groups:b}=new RegExp(`(?:\\${M9}(?<code>\\d+)m|\\${S4}(?<uri>.*)${C4})`).exec(l.slice(d).join(""))||{groups:{}};if(b.code!==void 0){let w=Number.parseFloat(b.code);r=w===Dj?void 0:w}else b.uri!==void 0&&(a=b.uri.length===0?void 0:b.uri)}let g=Oj.codes.get(Number(r));l[d+1]===`
`?(a&&(i+=A9("")),r&&g&&(i+=I9(g))):f===`
`&&(r&&g&&(i+=I9(r)),a&&(i+=A9(a)))}return i};O9.exports=(e,t,n)=>String(e).normalize().replace(/\r\n/g,`
`).split(`
`).map(i=>kj(i,t,n)).join(`
`)});var P9=Vn((rMt,N9)=>{"use strict";var Fj={right:qj,center:_j},Lj=0,nx=1,Bj=2,ix=3,I4=class{constructor(t){var n;this.width=t.width,this.wrap=(n=t.wrap)!==null&&n!==void 0?n:!0,this.rows=[]}span(...t){let n=this.div(...t);n.span=!0}resetOutput(){this.rows=[]}div(...t){if(t.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...t)&&typeof t[0]=="string")return this.applyLayoutDSL(t[0]);let n=t.map(i=>typeof i=="string"?this.colFromString(i):i);return this.rows.push(n),n}shouldApplyLayoutDSL(...t){return t.length===1&&typeof t[0]=="string"&&/[\t\n]/.test(t[0])}applyLayoutDSL(t){let n=t.split(`
`).map(r=>r.split("	")),i=0;return n.forEach(r=>{r.length>1&&vo.stringWidth(r[0])>i&&(i=Math.min(Math.floor(this.width*.5),vo.stringWidth(r[0])))}),n.forEach(r=>{this.div(...r.map((a,s)=>({text:a.trim(),padding:this.measurePadding(a),width:s===0&&r.length>1?i:void 0})))}),this.rows[this.rows.length-1]}colFromString(t){return{text:t,padding:this.measurePadding(t)}}measurePadding(t){let n=vo.stripAnsi(t);return[0,n.match(/\s*$/)[0].length,0,n.match(/^\s*/)[0].length]}toString(){let t=[];return this.rows.forEach(n=>{this.rowToString(n,t)}),t.filter(n=>!n.hidden).map(n=>n.text).join(`
`)}rowToString(t,n){return this.rasterize(t).forEach((i,r)=>{let a="";i.forEach((s,c)=>{let{width:l}=t[c],d=this.negatePadding(t[c]),f=s;if(d>vo.stringWidth(s)&&(f+=" ".repeat(d-vo.stringWidth(s))),t[c].align&&t[c].align!=="left"&&this.wrap){let b=Fj[t[c].align];f=b(f,d),vo.stringWidth(f)<d&&(f+=" ".repeat((l||0)-vo.stringWidth(f)-1))}let g=t[c].padding||[0,0,0,0];g[ix]&&(a+=" ".repeat(g[ix])),a+=R9(t[c],f,"| "),a+=f,a+=R9(t[c],f," |"),g[nx]&&(a+=" ".repeat(g[nx])),r===0&&n.length>0&&(a=this.renderInline(a,n[n.length-1]))}),n.push({text:a.replace(/ +$/,""),span:t.span})}),n}renderInline(t,n){let i=t.match(/^ */),r=i?i[0].length:0,a=n.text,s=vo.stringWidth(a.trimRight());return n.span?this.wrap?r<s?t:(n.hidden=!0,a.trimRight()+" ".repeat(r-s)+t.trimLeft()):(n.hidden=!0,a+t):t}rasterize(t){let n=[],i=this.columnWidths(t),r;return t.forEach((a,s)=>{a.width=i[s],this.wrap?r=vo.wrap(a.text,this.negatePadding(a),{hard:!0}).split(`
`):r=a.text.split(`
`),a.border&&(r.unshift("."+"-".repeat(this.negatePadding(a)+2)+"."),r.push("'"+"-".repeat(this.negatePadding(a)+2)+"'")),a.padding&&(r.unshift(...new Array(a.padding[Lj]||0).fill("")),r.push(...new Array(a.padding[Bj]||0).fill(""))),r.forEach((c,l)=>{n[l]||n.push([]);let d=n[l];for(let f=0;f<s;f++)d[f]===void 0&&d.push("");d.push(c)})}),n}negatePadding(t){let n=t.width||0;return t.padding&&(n-=(t.padding[ix]||0)+(t.padding[nx]||0)),t.border&&(n-=4),n}columnWidths(t){if(!this.wrap)return t.map(s=>s.width||vo.stringWidth(s.text));let n=t.length,i=this.width,r=t.map(s=>{if(s.width)return n--,i-=s.width,s.width}),a=n?Math.floor(i/n):0;return r.map((s,c)=>s===void 0?Math.max(a,Uj(t[c])):s)}};function R9(e,t,n){return e.border?/[.']-+[.']/.test(t)?"":t.trim().length!==0?n:"  ":""}function Uj(e){let t=e.padding||[],n=1+(t[ix]||0)+(t[nx]||0);return e.border?n+4:n}function Vj(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}function qj(e,t){e=e.trim();let n=vo.stringWidth(e);return n<t?" ".repeat(t-n)+e:e}function _j(e,t){e=e.trim();let n=vo.stringWidth(e);return n>=t?e:" ".repeat(t-n>>1)+e}var vo;function $j(e,t){return vo=t,new I4({width:e?.width||Vj(),wrap:e?.wrap})}var Wj=Qb(),Hj=c9(),jj=D9();function Gj(e){return $j(e,{stringWidth:Wj,stripAnsi:Hj,wrap:jj})}N9.exports=Gj});var B9=Vn((oMt,L9)=>{var{dirname:k9,resolve:F9}=require("path"),{readdirSync:zj,statSync:Kj}=require("fs");L9.exports=function(e,t){let n=F9(".",e),i;for(Kj(n).isDirectory()||(n=k9(n));;){if(i=t(n,zj(n)),i)return F9(n,i);if(n=k9(i=n),i===n)break}}});var V9=Vn((aMt,U9)=>{"use strict";U9.exports=function(t){if(t===void 0&&(t=2),t>=Error.stackTraceLimit)throw new TypeError("getCallerFile(position) requires position be less then Error.stackTraceLimit but position was: `"+t+"` and Error.stackTraceLimit was: `"+Error.stackTraceLimit+"`");var n=Error.prepareStackTrace;Error.prepareStackTrace=function(r,a){return a};var i=new Error().stack;if(Error.prepareStackTrace=n,i!==null&&typeof i=="object")return i[t]?i[t].getFileName():void 0}});var W9=Vn((sMt,M4)=>{"use strict";var q9=require("fs"),Xj=require("path").join,Yj=require("path").resolve,_9=require("path").dirname,A4={extensions:["js","json","coffee"],recurse:!0,rename:function(e){return e},visit:function(e){return e}};function Zj(e,t,n){return new RegExp("\\.("+n.extensions.join("|")+")$","i").test(t)&&!(n.include&&n.include instanceof RegExp&&!n.include.test(e))&&!(n.include&&typeof n.include=="function"&&!n.include(e,t))&&!(n.exclude&&n.exclude instanceof RegExp&&n.exclude.test(e))&&!(n.exclude&&typeof n.exclude=="function"&&n.exclude(e,t))}function $9(e,t,n){var i={};t&&!n&&typeof t!="string"&&(n=t,t=null),n=n||{};for(var r in A4)typeof n[r]>"u"&&(n[r]=A4[r]);return t=t?Yj(_9(e.filename),t):_9(e.filename),q9.readdirSync(t).forEach(function(a){var s=Xj(t,a),c,l,d;q9.statSync(s).isDirectory()&&n.recurse?(c=$9(e,s,n),Object.keys(c).length&&(i[n.rename(a,s,a)]=c)):s!==e.filename&&Zj(s,a,n)&&(l=a.substring(0,a.lastIndexOf(".")),d=e.require(s),i[n.rename(l,s,a)]=n.visit(d,s,a)||d)}),i}M4.exports=$9;M4.exports.defaults=A4});var TO=Vn((cMt,wO)=>{"use strict";var H9=require("assert"),er=class e extends Error{constructor(t){super(t||"yargs error"),this.name="YError",Error.captureStackTrace&&Error.captureStackTrace(this,e)}},H0,E4=[];function px(e,t,n,i){H0=i;let r={};if(Object.prototype.hasOwnProperty.call(e,"extends")){if(typeof e.extends!="string")return r;let a=/\.json|\..*rc$/.test(e.extends),s=null;if(a)s=function(c,l){return H0.path.resolve(c,l)}(t,e.extends);else try{s=require.resolve(e.extends)}catch{return e}(function(c){if(E4.indexOf(c)>-1)throw new er(`Circular extended configurations: '${c}'.`)})(s),E4.push(s),r=a?JSON.parse(H0.readFileSync(s,"utf8")):require(e.extends),delete e.extends,r=px(r,H0.path.dirname(s),n,H0)}return E4=[],n?vO(r,e):Object.assign({},r,e)}function vO(e,t){let n={};function i(r){return r&&typeof r=="object"&&!Array.isArray(r)}Object.assign(n,e);for(let r of Object.keys(t))i(t[r])&&i(n[r])?n[r]=vO(e[r],t[r]):n[r]=t[r];return n}function mf(e){let t=e.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,i=t.shift();if(!i)throw new Error(`No command found in: ${e}`);let r={cmd:i.replace(n,""),demanded:[],optional:[]};return t.forEach((a,s)=>{let c=!1;a=a.replace(/\s/g,""),/\.+[\]>]/.test(a)&&s===t.length-1&&(c=!0),/^\[/.test(a)?r.optional.push({cmd:a.replace(n,"").split("|"),variadic:c}):r.demanded.push({cmd:a.replace(n,"").split("|"),variadic:c})}),r}var Qj=["first","second","third","fourth","fifth","sixth"];function bt(e,t,n){try{let i=0,[r,a,s]=typeof e=="object"?[{demanded:[],optional:[]},e,t]:[mf(`cmd ${e}`),t,n],c=[].slice.call(a);for(;c.length&&c[c.length-1]===void 0;)c.pop();let l=s||c.length;if(l<r.demanded.length)throw new er(`Not enough arguments provided. Expected ${r.demanded.length} but received ${c.length}.`);let d=r.demanded.length+r.optional.length;if(l>d)throw new er(`Too many arguments provided. Expected max ${d} but received ${l}.`);r.demanded.forEach(f=>{let g=j9(c.shift());f.cmd.filter(b=>b===g||b==="*").length===0&&G9(g,f.cmd,i),i+=1}),r.optional.forEach(f=>{if(c.length===0)return;let g=j9(c.shift());f.cmd.filter(b=>b===g||b==="*").length===0&&G9(g,f.cmd,i),i+=1})}catch(i){console.warn(i.stack)}}function j9(e){return Array.isArray(e)?"array":e===null?"null":typeof e}function G9(e,t,n){throw new er(`Invalid ${Qj[n]||"manyith"} argument. Expected ${t.join(" or ")} but received ${e}.`)}function wi(e){return!!e&&!!e.then&&typeof e.then=="function"}function Sa(e,t,n,i){n.assert.notStrictEqual(e,t,i)}function z9(e,t){t.assert.strictEqual(typeof e,"string")}function fx(e){return Object.keys(e)}function uf(e={},t=()=>!0){let n={};return fx(e).forEach(i=>{t(i,e[i])&&(n[i]=e[i])}),n}function bO(){return process.versions.electron&&!process.defaultApp?0:1}function xO(){return process.argv[bO()]}var Jj=Object.freeze({__proto__:null,hideBin:function(e){return e.slice(bO()+1)},getProcessArgvBin:xO});function j(e,t,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:t.get(e)}function gt(e,t,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n}var W4=class{constructor(t){this.globalMiddleware=[],this.frozens=[],this.yargs=t}addMiddleware(t,n,i=!0,r=!1){if(bt("<array|function> [boolean] [boolean] [boolean]",[t,n,i],arguments.length),Array.isArray(t)){for(let a=0;a<t.length;a++){if(typeof t[a]!="function")throw Error("middleware must be a function");let s=t[a];s.applyBeforeValidation=n,s.global=i}Array.prototype.push.apply(this.globalMiddleware,t)}else if(typeof t=="function"){let a=t;a.applyBeforeValidation=n,a.global=i,a.mutates=r,this.globalMiddleware.push(t)}return this.yargs}addCoerceMiddleware(t,n){let i=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(r=>{let a=[...i[n]||[],n];return!r.option||!a.includes(r.option)}),t.option=n,this.addMiddleware(t,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let t=this.frozens.pop();t!==void 0&&(this.globalMiddleware=t)}reset(){this.globalMiddleware=this.globalMiddleware.filter(t=>t.global)}};function K0(e,t,n,i){return n.reduce((r,a)=>{if(a.applyBeforeValidation!==i)return r;if(a.mutates){if(a.applied)return r;a.applied=!0}if(wi(r))return r.then(s=>Promise.all([s,a(s,t)])).then(([s,c])=>Object.assign(s,c));{let s=a(r,t);return wi(s)?s.then(c=>Object.assign(r,c)):Object.assign(r,s)}},e)}function X0(e,t,n=i=>{throw i}){try{let i=typeof e=="function"?e():e;return wi(i)?i.then(r=>t(r)):t(i)}catch(i){return n(i)}}var sf=/(^\*)|(^\$0)/,H4=class{constructor(t,n,i,r){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=r,this.usage=t,this.globalMiddleware=i,this.validation=n}addDirectory(t,n,i,r){typeof(r=r||{}).recurse!="boolean"&&(r.recurse=!1),Array.isArray(r.extensions)||(r.extensions=["js"]);let a=typeof r.visit=="function"?r.visit:s=>s;r.visit=(s,c,l)=>{let d=a(s,c,l);if(d){if(this.requireCache.has(c))return d;this.requireCache.add(c),this.addHandler(d)}return d},this.shim.requireDirectory({require:n,filename:i},t,r)}addHandler(t,n,i,r,a,s){let c=[],l=function(d){return d?d.map(f=>(f.applyBeforeValidation=!1,f)):[]}(a);if(r=r||(()=>{}),Array.isArray(t))if(function(d){return d.every(f=>typeof f=="string")}(t))[t,...c]=t;else for(let d of t)this.addHandler(d);else{if(function(d){return typeof d=="object"&&!Array.isArray(d)}(t)){let d=Array.isArray(t.command)||typeof t.command=="string"?t.command:this.moduleName(t);return t.aliases&&(d=[].concat(d).concat(t.aliases)),void this.addHandler(d,this.extractDesc(t),t.builder,t.handler,t.middlewares,t.deprecated)}if(K9(i))return void this.addHandler([t].concat(c),n,i.builder,i.handler,i.middlewares,i.deprecated)}if(typeof t=="string"){let d=mf(t);c=c.map(b=>mf(b).cmd);let f=!1,g=[d.cmd].concat(c).filter(b=>!sf.test(b)||(f=!0,!1));g.length===0&&f&&g.push("$0"),f&&(d.cmd=g[0],c=g.slice(1),t=t.replace(sf,d.cmd)),c.forEach(b=>{this.aliasMap[b]=d.cmd}),n!==!1&&this.usage.command(t,n,f,c,s),this.handlers[d.cmd]={original:t,description:n,handler:r,builder:i||{},middlewares:l,deprecated:s,demanded:d.demanded,optional:d.optional},f&&(this.defaultCommand=this.handlers[d.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(t,n,i,r,a,s){let c=this.handlers[t]||this.handlers[this.aliasMap[t]]||this.defaultCommand,l=n.getInternalMethods().getContext(),d=l.commands.slice(),f=!t;t&&(l.commands.push(t),l.fullCommands.push(c.original));let g=this.applyBuilderUpdateUsageAndParse(f,c,n,i.aliases,d,r,a,s);return wi(g)?g.then(b=>this.applyMiddlewareAndGetResult(f,c,b.innerArgv,l,a,b.aliases,n)):this.applyMiddlewareAndGetResult(f,c,g.innerArgv,l,a,g.aliases,n)}applyBuilderUpdateUsageAndParse(t,n,i,r,a,s,c,l){let d=n.builder,f=i;if(j4(d)){i.getInternalMethods().getUsageInstance().freeze();let g=d(i.getInternalMethods().reset(r),l);if(wi(g))return g.then(b=>{var w;return f=(w=b)&&typeof w.getInternalMethods=="function"?b:i,this.parseAndUpdateUsage(t,n,f,a,s,c)})}else(function(g){return typeof g=="object"})(d)&&(i.getInternalMethods().getUsageInstance().freeze(),f=i.getInternalMethods().reset(r),Object.keys(n.builder).forEach(g=>{f.option(g,d[g])}));return this.parseAndUpdateUsage(t,n,f,a,s,c)}parseAndUpdateUsage(t,n,i,r,a,s){t&&i.getInternalMethods().getUsageInstance().unfreeze(!0),this.shouldUpdateUsage(i)&&i.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(r,n),n.description);let c=i.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,a,s);return wi(c)?c.then(l=>({aliases:i.parsed.aliases,innerArgv:l})):{aliases:i.parsed.aliases,innerArgv:c}}shouldUpdateUsage(t){return!t.getInternalMethods().getUsageInstance().getUsageDisabled()&&t.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(t,n){let i=sf.test(n.original)?n.original.replace(sf,"").trim():n.original,r=t.filter(a=>!sf.test(a));return r.push(i),`$0 ${r.join(" ")}`}handleValidationAndGetResult(t,n,i,r,a,s,c,l){if(!s.getInternalMethods().getHasOutput()){let d=s.getInternalMethods().runValidation(a,l,s.parsed.error,t);i=X0(i,f=>(d(f),f))}if(n.handler&&!s.getInternalMethods().getHasOutput()){s.getInternalMethods().setHasOutput();let d=!!s.getOptions().configuration["populate--"];s.getInternalMethods().postProcess(i,d,!1,!1),i=X0(i=K0(i,s,c,!1),f=>{let g=n.handler(f);return wi(g)?g.then(()=>f):f}),t||s.getInternalMethods().getUsageInstance().cacheHelpMessage(),wi(i)&&!s.getInternalMethods().hasParseCallback()&&i.catch(f=>{try{s.getInternalMethods().getUsageInstance().fail(null,f)}catch{}})}return t||(r.commands.pop(),r.fullCommands.pop()),i}applyMiddlewareAndGetResult(t,n,i,r,a,s,c){let l={};if(a)return i;c.getInternalMethods().getHasOutput()||(l=this.populatePositionals(n,i,r,c));let d=this.globalMiddleware.getMiddleware().slice(0).concat(n.middlewares),f=K0(i,c,d,!0);return wi(f)?f.then(g=>this.handleValidationAndGetResult(t,n,g,r,s,c,d,l)):this.handleValidationAndGetResult(t,n,f,r,s,c,d,l)}populatePositionals(t,n,i,r){n._=n._.slice(i.commands.length);let a=t.demanded.slice(0),s=t.optional.slice(0),c={};for(this.validation.positionalCount(a.length,n._.length);a.length;){let l=a.shift();this.populatePositional(l,n,c)}for(;s.length;){let l=s.shift();this.populatePositional(l,n,c)}return n._=i.commands.concat(n._.map(l=>""+l)),this.postProcessPositionals(n,c,this.cmdToParseOptions(t.original),r),c}populatePositional(t,n,i){let r=t.cmd[0];t.variadic?i[r]=n._.splice(0).map(String):n._.length&&(i[r]=[String(n._.shift())])}cmdToParseOptions(t){let n={array:[],default:{},alias:{},demand:{}},i=mf(t);return i.demanded.forEach(r=>{let[a,...s]=r.cmd;r.variadic&&(n.array.push(a),n.default[a]=[]),n.alias[a]=s,n.demand[a]=!0}),i.optional.forEach(r=>{let[a,...s]=r.cmd;r.variadic&&(n.array.push(a),n.default[a]=[]),n.alias[a]=s}),n}postProcessPositionals(t,n,i,r){let a=Object.assign({},r.getOptions());a.default=Object.assign(i.default,a.default);for(let d of Object.keys(i.alias))a.alias[d]=(a.alias[d]||[]).concat(i.alias[d]);a.array=a.array.concat(i.array),a.config={};let s=[];if(Object.keys(n).forEach(d=>{n[d].map(f=>{a.configuration["unknown-options-as-args"]&&(a.key[d]=!0),s.push(`--${d}`),s.push(f)})}),!s.length)return;let c=Object.assign({},a.configuration,{"populate--":!1}),l=this.shim.Parser.detailed(s,Object.assign({},a,{configuration:c}));if(l.error)r.getInternalMethods().getUsageInstance().fail(l.error.message,l.error);else{let d=Object.keys(n);Object.keys(n).forEach(f=>{d.push(...l.aliases[f])}),Object.keys(l.argv).forEach(f=>{d.includes(f)&&(n[f]||(n[f]=l.argv[f]),!this.isInConfigs(r,f)&&!this.isDefaulted(r,f)&&Object.prototype.hasOwnProperty.call(t,f)&&Object.prototype.hasOwnProperty.call(l.argv,f)&&(Array.isArray(t[f])||Array.isArray(l.argv[f]))?t[f]=[].concat(t[f],l.argv[f]):t[f]=l.argv[f])})}}isDefaulted(t,n){let{default:i}=t.getOptions();return Object.prototype.hasOwnProperty.call(i,n)||Object.prototype.hasOwnProperty.call(i,this.shim.Parser.camelCase(n))}isInConfigs(t,n){let{configObjects:i}=t.getOptions();return i.some(r=>Object.prototype.hasOwnProperty.call(r,n))||i.some(r=>Object.prototype.hasOwnProperty.call(r,this.shim.Parser.camelCase(n)))}runDefaultBuilderOn(t){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(t)){let i=sf.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");t.getInternalMethods().getUsageInstance().usage(i,this.defaultCommand.description)}let n=this.defaultCommand.builder;if(j4(n))return n(t,!0);K9(n)||Object.keys(n).forEach(i=>{t.option(i,n[i])})}moduleName(t){let n=function(i){if(typeof require>"u")return null;for(let r,a=0,s=Object.keys(require.cache);a<s.length;a++)if(r=require.cache[s[a]],r.exports===i)return r;return null}(t);if(!n)throw new Error(`No command name given for module: ${this.shim.inspect(t)}`);return this.commandFromFilename(n.filename)}commandFromFilename(t){return this.shim.path.basename(t,this.shim.path.extname(t))}extractDesc({describe:t,description:n,desc:i}){for(let r of[t,n,i]){if(typeof r=="string"||r===!1)return r;Sa(r,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let t=this.frozens.pop();Sa(t,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=t}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function K9(e){return typeof e=="object"&&!!e.builder&&typeof e.handler=="function"}function j4(e){return typeof e=="function"}function z0(e){typeof process<"u"&&[process.stdout,process.stderr].forEach(t=>{let n=t;n._handle&&n.isTTY&&typeof n._handle.setBlocking=="function"&&n._handle.setBlocking(e)})}function eG(e){return typeof e=="boolean"}function tG(e,t){let n=t.y18n.__,i={},r=[];i.failFn=function(q){r.push(q)};let a=null,s=null,c=!0;i.showHelpOnFail=function(q=!0,G){let[te,K]=typeof q=="string"?[!0,q]:[q,G];return e.getInternalMethods().isGlobalContext()&&(s=K),a=K,c=te,i};let l=!1;i.fail=function(q,G){let te=e.getInternalMethods().getLoggerInstance();if(!r.length){if(e.getExitProcess()&&z0(!0),!l){l=!0,c&&(e.showHelp("error"),te.error()),(q||G)&&te.error(q||G);let K=a||s;K&&((q||G)&&te.error(""),te.error(K))}if(G=G||new er(q),e.getExitProcess())return e.exit(1);if(e.getInternalMethods().hasParseCallback())return e.exit(1,G);throw G}for(let K=r.length-1;K>=0;--K){let ae=r[K];if(eG(ae)){if(G)throw G;if(q)throw Error(q)}else ae(q,G,i)}};let d=[],f=!1;i.usage=(q,G)=>q===null?(f=!0,d=[],i):(f=!1,d.push([q,G||""]),i),i.getUsage=()=>d,i.getUsageDisabled=()=>f,i.getPositionalGroupName=()=>n("Positionals:");let g=[];i.example=(q,G)=>{g.push([q,G||""])};let b=[];i.command=function(q,G,te,K,ae=!1){te&&(b=b.map(pe=>(pe[2]=!1,pe))),b.push([q,G||"",te,K,ae])},i.getCommands=()=>b;let w={};i.describe=function(q,G){Array.isArray(q)?q.forEach(te=>{i.describe(te,G)}):typeof q=="object"?Object.keys(q).forEach(te=>{i.describe(te,q[te])}):w[q]=G},i.getDescriptions=()=>w;let O=[];i.epilog=q=>{O.push(q)};let D,y=!1;i.wrap=q=>{y=!0,D=q},i.getWrap=()=>t.getEnv("YARGS_DISABLE_WRAP")?null:(y||(D=function(){return t.process.stdColumns?Math.min(80,t.process.stdColumns):80}(),y=!0),D);let S="__yargsString__:";function L(q,G,te){let K=0;return Array.isArray(q)||(q=Object.values(q).map(ae=>[ae])),q.forEach(ae=>{K=Math.max(t.stringWidth(te?`${te} ${rx(ae[0])}`:rx(ae[0]))+X9(ae[0]),K)}),G&&(K=Math.min(K,parseInt((.5*G).toString(),10))),K}let H;function oe(q){return e.getOptions().hiddenOptions.indexOf(q)<0||e.parsed.argv[e.getOptions().showHiddenOpt]}function z(q,G){let te=`[${n("default:")} `;if(q===void 0&&!G)return null;if(G)te+=G;else switch(typeof q){case"string":te+=`"${q}"`;break;case"object":te+=JSON.stringify(q);break;default:te+=q}return`${te}]`}i.deferY18nLookup=q=>S+q,i.help=function(){if(H)return H;(function(){let Ze=e.getDemandedOptions(),ft=e.getOptions();(Object.keys(ft.alias)||[]).forEach(F=>{ft.alias[F].forEach(Ve=>{w[Ve]&&i.describe(F,w[Ve]),Ve in Ze&&e.demandOption(F,Ze[Ve]),ft.boolean.includes(Ve)&&e.boolean(F),ft.count.includes(Ve)&&e.count(F),ft.string.includes(Ve)&&e.string(F),ft.normalize.includes(Ve)&&e.normalize(F),ft.array.includes(Ve)&&e.array(F),ft.number.includes(Ve)&&e.number(F)})})})();let q=e.customScriptName?e.$0:t.path.basename(e.$0),G=e.getDemandedOptions(),te=e.getDemandedCommands(),K=e.getDeprecatedOptions(),ae=e.getGroups(),pe=e.getOptions(),he=[];he=he.concat(Object.keys(w)),he=he.concat(Object.keys(G)),he=he.concat(Object.keys(te)),he=he.concat(Object.keys(pe.default)),he=he.filter(oe),he=Object.keys(he.reduce((Ze,ft)=>(ft!=="_"&&(Ze[ft]=!0),Ze),{}));let Ce=i.getWrap(),Le=t.cliui({width:Ce,wrap:!!Ce});if(!f){if(d.length)d.forEach(Ze=>{Le.div({text:`${Ze[0].replace(/\$0/g,q)}`}),Ze[1]&&Le.div({text:`${Ze[1]}`,padding:[1,0,0,0]})}),Le.div();else if(b.length){let Ze=null;Ze=te._?`${q} <${n("command")}>
`:`${q} [${n("command")}]
`,Le.div(`${Ze}`)}}if(b.length>1||b.length===1&&!b[0][2]){Le.div(n("Commands:"));let Ze=e.getInternalMethods().getContext(),ft=Ze.commands.length?`${Ze.commands.join(" ")} `:"";e.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(b=b.sort((Ve,ln)=>Ve[0].localeCompare(ln[0])));let F=q?`${q} `:"";b.forEach(Ve=>{let ln=`${F}${ft}${Ve[0].replace(/^\$0 ?/,"")}`;Le.span({text:ln,padding:[0,2,0,2],width:L(b,Ce,`${q}${ft}`)+4},{text:Ve[1]});let _t=[];Ve[2]&&_t.push(`[${n("default")}]`),Ve[3]&&Ve[3].length&&_t.push(`[${n("aliases:")} ${Ve[3].join(", ")}]`),Ve[4]&&(typeof Ve[4]=="string"?_t.push(`[${n("deprecated: %s",Ve[4])}]`):_t.push(`[${n("deprecated")}]`)),_t.length?Le.div({text:_t.join(" "),padding:[0,0,0,2],align:"right"}):Le.div()}),Le.div()}let tt=(Object.keys(pe.alias)||[]).concat(Object.keys(e.parsed.newAliases)||[]);he=he.filter(Ze=>!e.parsed.newAliases[Ze]&&tt.every(ft=>(pe.alias[ft]||[]).indexOf(Ze)===-1));let St=n("Options:");ae[St]||(ae[St]=[]),function(Ze,ft,F,Ve){let ln=[],_t=null;Object.keys(F).forEach(Mn=>{ln=ln.concat(F[Mn])}),Ze.forEach(Mn=>{_t=[Mn].concat(ft[Mn]),_t.some(pi=>ln.indexOf(pi)!==-1)||F[Ve].push(Mn)})}(he,pe.alias,ae,St);let qt=Ze=>/^--/.test(rx(Ze)),Gt=Object.keys(ae).filter(Ze=>ae[Ze].length>0).map(Ze=>({groupName:Ze,normalizedKeys:ae[Ze].filter(oe).map(ft=>{if(tt.includes(ft))return ft;for(let F,Ve=0;(F=tt[Ve])!==void 0;Ve++)if((pe.alias[F]||[]).includes(ft))return F;return ft})})).filter(({normalizedKeys:Ze})=>Ze.length>0).map(({groupName:Ze,normalizedKeys:ft})=>{let F=ft.reduce((Ve,ln)=>(Ve[ln]=[ln].concat(pe.alias[ln]||[]).map(_t=>Ze===i.getPositionalGroupName()?_t:(/^[0-9]$/.test(_t)?pe.boolean.includes(ln)?"-":"--":_t.length>1?"--":"-")+_t).sort((_t,Mn)=>qt(_t)===qt(Mn)?0:qt(_t)?1:-1).join(", "),Ve),{});return{groupName:Ze,normalizedKeys:ft,switches:F}});if(Gt.filter(({groupName:Ze})=>Ze!==i.getPositionalGroupName()).some(({normalizedKeys:Ze,switches:ft})=>!Ze.every(F=>qt(ft[F])))&&Gt.filter(({groupName:Ze})=>Ze!==i.getPositionalGroupName()).forEach(({normalizedKeys:Ze,switches:ft})=>{Ze.forEach(F=>{var Ve,ln;qt(ft[F])&&(ft[F]=(Ve=ft[F],ln=4,K4(Ve)?{text:Ve.text,indentation:Ve.indentation+ln}:{text:Ve,indentation:ln}))})}),Gt.forEach(({groupName:Ze,normalizedKeys:ft,switches:F})=>{Le.div(Ze),ft.forEach(Ve=>{let ln=F[Ve],_t=w[Ve]||"",Mn=null;_t.includes(S)&&(_t=n(_t.substring(16))),pe.boolean.includes(Ve)&&(Mn=`[${n("boolean")}]`),pe.count.includes(Ve)&&(Mn=`[${n("count")}]`),pe.string.includes(Ve)&&(Mn=`[${n("string")}]`),pe.normalize.includes(Ve)&&(Mn=`[${n("string")}]`),pe.array.includes(Ve)&&(Mn=`[${n("array")}]`),pe.number.includes(Ve)&&(Mn=`[${n("number")}]`);let pi=[Ve in K?(ar=K[Ve],typeof ar=="string"?`[${n("deprecated: %s",ar)}]`:`[${n("deprecated")}]`):null,Mn,Ve in G?`[${n("required")}]`:null,pe.choices&&pe.choices[Ve]?`[${n("choices:")} ${i.stringifiedValues(pe.choices[Ve])}]`:null,z(pe.default[Ve],pe.defaultDescription[Ve])].filter(Boolean).join(" ");var ar;Le.span({text:rx(ln),padding:[0,2,0,2+X9(ln)],width:L(F,Ce)+4},_t);let Ar=e.getInternalMethods().getUsageConfiguration()["hide-types"]===!0;pi&&!Ar?Le.div({text:pi,padding:[0,0,0,2],align:"right"}):Le.div()}),Le.div()}),g.length&&(Le.div(n("Examples:")),g.forEach(Ze=>{Ze[0]=Ze[0].replace(/\$0/g,q)}),g.forEach(Ze=>{Ze[1]===""?Le.div({text:Ze[0],padding:[0,2,0,2]}):Le.div({text:Ze[0],padding:[0,2,0,2],width:L(g,Ce)+4},{text:Ze[1]})}),Le.div()),O.length>0){let Ze=O.map(ft=>ft.replace(/\$0/g,q)).join(`
`);Le.div(`${Ze}
`)}return Le.toString().replace(/\s*$/,"")},i.cacheHelpMessage=function(){H=this.help()},i.clearCachedHelpMessage=function(){H=void 0},i.hasCachedHelpMessage=function(){return!!H},i.showHelp=q=>{let G=e.getInternalMethods().getLoggerInstance();q||(q="error"),(typeof q=="function"?q:G[q])(i.help())},i.functionDescription=q=>["(",q.name?t.Parser.decamelize(q.name,"-"):n("generated-value"),")"].join(""),i.stringifiedValues=function(q,G){let te="",K=G||", ",ae=[].concat(q);return q&&ae.length&&ae.forEach(pe=>{te.length&&(te+=K),te+=JSON.stringify(pe)}),te};let Q=null;i.version=q=>{Q=q},i.showVersion=q=>{let G=e.getInternalMethods().getLoggerInstance();q||(q="error"),(typeof q=="function"?q:G[q])(Q)},i.reset=function(q){return a=null,l=!1,d=[],f=!1,O=[],g=[],b=[],w=uf(w,G=>!q[G]),i};let N=[];return i.freeze=function(){N.push({failMessage:a,failureOutput:l,usages:d,usageDisabled:f,epilogs:O,examples:g,commands:b,descriptions:w})},i.unfreeze=function(q=!1){let G=N.pop();G&&(q?(w={...G.descriptions,...w},b=[...G.commands,...b],d=[...G.usages,...d],g=[...G.examples,...g],O=[...G.epilogs,...O]):{failMessage:a,failureOutput:l,usages:d,usageDisabled:f,epilogs:O,examples:g,commands:b,descriptions:w}=G)},i}function K4(e){return typeof e=="object"}function X9(e){return K4(e)?e.indentation:0}function rx(e){return K4(e)?e.text:e}var G4=class{constructor(t,n,i,r){var a,s,c;this.yargs=t,this.usage=n,this.command=i,this.shim=r,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.indexAfterLastReset=0,this.zshShell=(c=((a=this.shim.getEnv("SHELL"))===null||a===void 0?void 0:a.includes("zsh"))||((s=this.shim.getEnv("ZSH_NAME"))===null||s===void 0?void 0:s.includes("zsh")))!==null&&c!==void 0&&c}defaultCompletion(t,n,i,r){let a=this.command.getCommandHandlers();for(let c=0,l=t.length;c<l;++c)if(a[t[c]]&&a[t[c]].builder){let d=a[t[c]].builder;if(j4(d)){this.indexAfterLastReset=c+1;let f=this.yargs.getInternalMethods().reset();return d(f,!0),f.argv}}let s=[];this.commandCompletions(s,t,i),this.optionCompletions(s,t,n,i),this.choicesFromOptionsCompletions(s,t,n,i),this.choicesFromPositionalsCompletions(s,t,n,i),r(null,s)}commandCompletions(t,n,i){let r=this.yargs.getInternalMethods().getContext().commands;i.match(/^-/)||r[r.length-1]===i||this.previousArgHasChoices(n)||this.usage.getCommands().forEach(a=>{let s=mf(a[0]).cmd;if(n.indexOf(s)===-1)if(this.zshShell){let c=a[1]||"";t.push(s.replace(/:/g,"\\:")+":"+c)}else t.push(s)})}optionCompletions(t,n,i,r){if((r.match(/^-/)||r===""&&t.length===0)&&!this.previousArgHasChoices(n)){let a=this.yargs.getOptions(),s=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(a.key).forEach(c=>{let l=!!a.configuration["boolean-negation"]&&a.boolean.includes(c);s.includes(c)||a.hiddenOptions.includes(c)||this.argsContainKey(n,c,l)||this.completeOptionKey(c,t,r,l&&!!a.default[c])})}}choicesFromOptionsCompletions(t,n,i,r){if(this.previousArgHasChoices(n)){let a=this.getPreviousArgChoices(n);a&&a.length>0&&t.push(...a.map(s=>s.replace(/:/g,"\\:")))}}choicesFromPositionalsCompletions(t,n,i,r){if(r===""&&t.length>0&&this.previousArgHasChoices(n))return;let a=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[],s=Math.max(this.indexAfterLastReset,this.yargs.getInternalMethods().getContext().commands.length+1),c=a[i._.length-s-1];if(!c)return;let l=this.yargs.getOptions().choices[c]||[];for(let d of l)d.startsWith(r)&&t.push(d.replace(/:/g,"\\:"))}getPreviousArgChoices(t){if(t.length<1)return;let n=t[t.length-1],i="";if(!n.startsWith("-")&&t.length>1&&(i=n,n=t[t.length-2]),!n.startsWith("-"))return;let r=n.replace(/^-+/,""),a=this.yargs.getOptions(),s=[r,...this.yargs.getAliases()[r]||[]],c;for(let l of s)if(Object.prototype.hasOwnProperty.call(a.key,l)&&Array.isArray(a.choices[l])){c=a.choices[l];break}return c?c.filter(l=>!i||l.startsWith(i)):void 0}previousArgHasChoices(t){let n=this.getPreviousArgChoices(t);return n!==void 0&&n.length>0}argsContainKey(t,n,i){let r=a=>t.indexOf((/^[^0-9]$/.test(a)?"-":"--")+a)!==-1;if(r(n)||i&&r(`no-${n}`))return!0;if(this.aliases){for(let a of this.aliases[n])if(r(a))return!0}return!1}completeOptionKey(t,n,i,r){var a,s,c,l;let d=t;if(this.zshShell){let g=this.usage.getDescriptions(),b=(s=(a=this==null?void 0:this.aliases)===null||a===void 0?void 0:a[t])===null||s===void 0?void 0:s.find(D=>{let y=g[D];return typeof y=="string"&&y.length>0}),w=b?g[b]:void 0,O=(l=(c=g[t])!==null&&c!==void 0?c:w)!==null&&l!==void 0?l:"";d=`${t.replace(/:/g,"\\:")}:${O.replace("__yargsString__:","").replace(/(\r\n|\n|\r)/gm," ")}`}let f=!/^--/.test(i)&&(g=>/^[^0-9]$/.test(g))(t)?"-":"--";n.push(f+d),r&&n.push(f+"no-"+d)}customCompletion(t,n,i,r){if(Sa(this.customCompletionFunction,null,this.shim),this.customCompletionFunction.length<3){let a=this.customCompletionFunction(i,n);return wi(a)?a.then(s=>{this.shim.process.nextTick(()=>{r(null,s)})}).catch(s=>{this.shim.process.nextTick(()=>{r(s,void 0)})}):r(null,a)}return function(a){return a.length>3}(this.customCompletionFunction)?this.customCompletionFunction(i,n,(a=r)=>this.defaultCompletion(t,n,i,a),a=>{r(null,a)}):this.customCompletionFunction(i,n,a=>{r(null,a)})}getCompletion(t,n){let i=t.length?t[t.length-1]:"",r=this.yargs.parse(t,!0),a=this.customCompletionFunction?s=>this.customCompletion(t,s,i,n):s=>this.defaultCompletion(t,s,i,n);return wi(r)?r.then(a):a(r)}generateCompletionScript(t,n){let i=this.zshShell?`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zprofile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`:`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,r=this.shim.path.basename(t);return t.match(/\.js$/)&&(t=`./${t}`),i=i.replace(/{{app_name}}/g,r),i=i.replace(/{{completion_command}}/g,n),i.replace(/{{app_path}}/g,t)}registerFunction(t){this.customCompletionFunction=t}setParsed(t){this.aliases=t.aliases}};function nG(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;let n=[],i,r;for(i=0;i<=t.length;i++)n[i]=[i];for(r=0;r<=e.length;r++)n[0][r]=r;for(i=1;i<=t.length;i++)for(r=1;r<=e.length;r++)t.charAt(i-1)===e.charAt(r-1)?n[i][r]=n[i-1][r-1]:i>1&&r>1&&t.charAt(i-2)===e.charAt(r-1)&&t.charAt(i-1)===e.charAt(r-2)?n[i][r]=n[i-2][r-2]+1:n[i][r]=Math.min(n[i-1][r-1]+1,Math.min(n[i][r-1]+1,n[i-1][r]+1));return n[t.length][e.length]}var Y9=["$0","--","_"],xi,Du,j0,Go,bo,ox,dl,Ru,ax,zo,sx,Ko,cs,xo,Xo,cx,cf,Ji,At,lx,dx,wo,Nu,lf,Pu,ul,ux,kt,ku,Fu,Lu,Vt,mx,ls,fi,Z9=Symbol("copyDoubleDash"),Q9=Symbol("copyDoubleDash"),O4=Symbol("deleteFromParserHintObject"),J9=Symbol("emitWarning"),eO=Symbol("freeze"),tO=Symbol("getDollarZero"),Bu=Symbol("getParserConfiguration"),nO=Symbol("getUsageConfiguration"),D4=Symbol("guessLocale"),iO=Symbol("guessVersion"),rO=Symbol("parsePositionalNumbers"),R4=Symbol("pkgUp"),ml=Symbol("populateParserHintArray"),df=Symbol("populateParserHintSingleValueDictionary"),N4=Symbol("populateParserHintArrayDictionary"),P4=Symbol("populateParserHintDictionary"),k4=Symbol("sanitizeKey"),F4=Symbol("setKey"),L4=Symbol("unfreeze"),oO=Symbol("validateAsync"),aO=Symbol("getCommandInstance"),sO=Symbol("getContext"),cO=Symbol("getHasOutput"),lO=Symbol("getLoggerInstance"),dO=Symbol("getParseContext"),uO=Symbol("getUsageInstance"),mO=Symbol("getValidationInstance"),hx=Symbol("hasParseCallback"),hO=Symbol("isGlobalContext"),Uu=Symbol("postProcess"),fO=Symbol("rebase"),B4=Symbol("reset"),G0=Symbol("runYargsParserAndExecuteCommands"),U4=Symbol("runValidation"),pO=Symbol("setHasOutput"),Vu=Symbol("kTrackManuallySetKeys"),z4=class{constructor(t=[],n,i,r){this.customScriptName=!1,this.parsed=!1,xi.set(this,void 0),Du.set(this,void 0),j0.set(this,{commands:[],fullCommands:[]}),Go.set(this,null),bo.set(this,null),ox.set(this,"show-hidden"),dl.set(this,null),Ru.set(this,!0),ax.set(this,{}),zo.set(this,!0),sx.set(this,[]),Ko.set(this,void 0),cs.set(this,{}),xo.set(this,!1),Xo.set(this,null),cx.set(this,!0),cf.set(this,void 0),Ji.set(this,""),At.set(this,void 0),lx.set(this,void 0),dx.set(this,{}),wo.set(this,null),Nu.set(this,null),lf.set(this,{}),Pu.set(this,{}),ul.set(this,void 0),ux.set(this,!1),kt.set(this,void 0),ku.set(this,!1),Fu.set(this,!1),Lu.set(this,!1),Vt.set(this,void 0),mx.set(this,{}),ls.set(this,null),fi.set(this,void 0),gt(this,kt,r,"f"),gt(this,ul,t,"f"),gt(this,Du,n,"f"),gt(this,lx,i,"f"),gt(this,Ko,new W4(this),"f"),this.$0=this[tO](),this[B4](),gt(this,xi,j(this,xi,"f"),"f"),gt(this,Vt,j(this,Vt,"f"),"f"),gt(this,fi,j(this,fi,"f"),"f"),gt(this,At,j(this,At,"f"),"f"),j(this,At,"f").showHiddenOpt=j(this,ox,"f"),gt(this,cf,this[Q9](),"f")}addHelpOpt(t,n){return bt("[string|boolean] [string]",[t,n],arguments.length),j(this,Xo,"f")&&(this[O4](j(this,Xo,"f")),gt(this,Xo,null,"f")),t===!1&&n===void 0||(gt(this,Xo,typeof t=="string"?t:"help","f"),this.boolean(j(this,Xo,"f")),this.describe(j(this,Xo,"f"),n||j(this,Vt,"f").deferY18nLookup("Show help"))),this}help(t,n){return this.addHelpOpt(t,n)}addShowHiddenOpt(t,n){if(bt("[string|boolean] [string]",[t,n],arguments.length),t===!1&&n===void 0)return this;let i=typeof t=="string"?t:j(this,ox,"f");return this.boolean(i),this.describe(i,n||j(this,Vt,"f").deferY18nLookup("Show hidden options")),j(this,At,"f").showHiddenOpt=i,this}showHidden(t,n){return this.addShowHiddenOpt(t,n)}alias(t,n){return bt("<object|string|array> [string|array]",[t,n],arguments.length),this[N4](this.alias.bind(this),"alias",t,n),this}array(t){return bt("<array|string>",[t],arguments.length),this[ml]("array",t),this[Vu](t),this}boolean(t){return bt("<array|string>",[t],arguments.length),this[ml]("boolean",t),this[Vu](t),this}check(t,n){return bt("<function> [boolean]",[t,n],arguments.length),this.middleware((i,r)=>X0(()=>t(i,r.getOptions()),a=>(a?(typeof a=="string"||a instanceof Error)&&j(this,Vt,"f").fail(a.toString(),a):j(this,Vt,"f").fail(j(this,kt,"f").y18n.__("Argument check failed: %s",t.toString())),i),a=>(j(this,Vt,"f").fail(a.message?a.message:a.toString(),a),i)),!1,n),this}choices(t,n){return bt("<object|string|array> [string|array]",[t,n],arguments.length),this[N4](this.choices.bind(this),"choices",t,n),this}coerce(t,n){if(bt("<object|string|array> [function]",[t,n],arguments.length),Array.isArray(t)){if(!n)throw new er("coerce callback must be provided");for(let i of t)this.coerce(i,n);return this}if(typeof t=="object"){for(let i of Object.keys(t))this.coerce(i,t[i]);return this}if(!n)throw new er("coerce callback must be provided");return j(this,At,"f").key[t]=!0,j(this,Ko,"f").addCoerceMiddleware((i,r)=>{let a;return Object.prototype.hasOwnProperty.call(i,t)?X0(()=>(a=r.getAliases(),n(i[t])),s=>{i[t]=s;let c=r.getInternalMethods().getParserConfiguration()["strip-aliased"];if(a[t]&&c!==!0)for(let l of a[t])i[l]=s;return i},s=>{throw new er(s.message)}):i},t),this}conflicts(t,n){return bt("<string|object> [string|array]",[t,n],arguments.length),j(this,fi,"f").conflicts(t,n),this}config(t="config",n,i){return bt("[object|string] [string|function] [function]",[t,n,i],arguments.length),typeof t!="object"||Array.isArray(t)?(typeof n=="function"&&(i=n,n=void 0),this.describe(t,n||j(this,Vt,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(t)?t:[t]).forEach(r=>{j(this,At,"f").config[r]=i||!0}),this):(t=px(t,j(this,Du,"f"),this[Bu]()["deep-merge-config"]||!1,j(this,kt,"f")),j(this,At,"f").configObjects=(j(this,At,"f").configObjects||[]).concat(t),this)}completion(t,n,i){return bt("[string] [string|boolean|function] [function]",[t,n,i],arguments.length),typeof n=="function"&&(i=n,n=void 0),gt(this,bo,t||j(this,bo,"f")||"completion","f"),n||n===!1||(n="generate completion script"),this.command(j(this,bo,"f"),n),i&&j(this,Go,"f").registerFunction(i),this}command(t,n,i,r,a,s){return bt("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[t,n,i,r,a,s],arguments.length),j(this,xi,"f").addHandler(t,n,i,r,a,s),this}commands(t,n,i,r,a,s){return this.command(t,n,i,r,a,s)}commandDir(t,n){bt("<string> [object]",[t,n],arguments.length);let i=j(this,lx,"f")||j(this,kt,"f").require;return j(this,xi,"f").addDirectory(t,i,j(this,kt,"f").getCallerFile(),n),this}count(t){return bt("<array|string>",[t],arguments.length),this[ml]("count",t),this[Vu](t),this}default(t,n,i){return bt("<object|string|array> [*] [string]",[t,n,i],arguments.length),i&&(z9(t,j(this,kt,"f")),j(this,At,"f").defaultDescription[t]=i),typeof n=="function"&&(z9(t,j(this,kt,"f")),j(this,At,"f").defaultDescription[t]||(j(this,At,"f").defaultDescription[t]=j(this,Vt,"f").functionDescription(n)),n=n.call()),this[df](this.default.bind(this),"default",t,n),this}defaults(t,n,i){return this.default(t,n,i)}demandCommand(t=1,n,i,r){return bt("[number] [number|string] [string|null|undefined] [string|null|undefined]",[t,n,i,r],arguments.length),typeof n!="number"&&(i=n,n=1/0),this.global("_",!1),j(this,At,"f").demandedCommands._={min:t,max:n,minMsg:i,maxMsg:r},this}demand(t,n,i){return Array.isArray(n)?(n.forEach(r=>{Sa(i,!0,j(this,kt,"f")),this.demandOption(r,i)}),n=1/0):typeof n!="number"&&(i=n,n=1/0),typeof t=="number"?(Sa(i,!0,j(this,kt,"f")),this.demandCommand(t,n,i,i)):Array.isArray(t)?t.forEach(r=>{Sa(i,!0,j(this,kt,"f")),this.demandOption(r,i)}):typeof i=="string"?this.demandOption(t,i):i!==!0&&i!==void 0||this.demandOption(t),this}demandOption(t,n){return bt("<object|string|array> [string]",[t,n],arguments.length),this[df](this.demandOption.bind(this),"demandedOptions",t,n),this}deprecateOption(t,n){return bt("<string> [string|boolean]",[t,n],arguments.length),j(this,At,"f").deprecatedOptions[t]=n,this}describe(t,n){return bt("<object|string|array> [string]",[t,n],arguments.length),this[F4](t,!0),j(this,Vt,"f").describe(t,n),this}detectLocale(t){return bt("<boolean>",[t],arguments.length),gt(this,Ru,t,"f"),this}env(t){return bt("[string|boolean]",[t],arguments.length),t===!1?delete j(this,At,"f").envPrefix:j(this,At,"f").envPrefix=t||"",this}epilogue(t){return bt("<string>",[t],arguments.length),j(this,Vt,"f").epilog(t),this}epilog(t){return this.epilogue(t)}example(t,n){return bt("<string|array> [string]",[t,n],arguments.length),Array.isArray(t)?t.forEach(i=>this.example(...i)):j(this,Vt,"f").example(t,n),this}exit(t,n){gt(this,xo,!0,"f"),gt(this,dl,n,"f"),j(this,zo,"f")&&j(this,kt,"f").process.exit(t)}exitProcess(t=!0){return bt("[boolean]",[t],arguments.length),gt(this,zo,t,"f"),this}fail(t){if(bt("<function|boolean>",[t],arguments.length),typeof t=="boolean"&&t!==!1)throw new er("Invalid first argument. Expected function or boolean 'false'");return j(this,Vt,"f").failFn(t),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(t,n){return bt("<array> [function]",[t,n],arguments.length),n?j(this,Go,"f").getCompletion(t,n):new Promise((i,r)=>{j(this,Go,"f").getCompletion(t,(a,s)=>{a?r(a):i(s)})})}getDemandedOptions(){return bt([],0),j(this,At,"f").demandedOptions}getDemandedCommands(){return bt([],0),j(this,At,"f").demandedCommands}getDeprecatedOptions(){return bt([],0),j(this,At,"f").deprecatedOptions}getDetectLocale(){return j(this,Ru,"f")}getExitProcess(){return j(this,zo,"f")}getGroups(){return Object.assign({},j(this,cs,"f"),j(this,Pu,"f"))}getHelp(){if(gt(this,xo,!0,"f"),!j(this,Vt,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[G0](j(this,ul,"f"),void 0,void 0,0,!0);if(wi(n))return n.then(()=>j(this,Vt,"f").help())}let t=j(this,xi,"f").runDefaultBuilderOn(this);if(wi(t))return t.then(()=>j(this,Vt,"f").help())}return Promise.resolve(j(this,Vt,"f").help())}getOptions(){return j(this,At,"f")}getStrict(){return j(this,ku,"f")}getStrictCommands(){return j(this,Fu,"f")}getStrictOptions(){return j(this,Lu,"f")}global(t,n){return bt("<string|array> [boolean]",[t,n],arguments.length),t=[].concat(t),n!==!1?j(this,At,"f").local=j(this,At,"f").local.filter(i=>t.indexOf(i)===-1):t.forEach(i=>{j(this,At,"f").local.includes(i)||j(this,At,"f").local.push(i)}),this}group(t,n){bt("<string|array> <string>",[t,n],arguments.length);let i=j(this,Pu,"f")[n]||j(this,cs,"f")[n];j(this,Pu,"f")[n]&&delete j(this,Pu,"f")[n];let r={};return j(this,cs,"f")[n]=(i||[]).concat(t).filter(a=>!r[a]&&(r[a]=!0)),this}hide(t){return bt("<string>",[t],arguments.length),j(this,At,"f").hiddenOptions.push(t),this}implies(t,n){return bt("<string|object> [number|string|array]",[t,n],arguments.length),j(this,fi,"f").implies(t,n),this}locale(t){return bt("[string]",[t],arguments.length),t===void 0?(this[D4](),j(this,kt,"f").y18n.getLocale()):(gt(this,Ru,!1,"f"),j(this,kt,"f").y18n.setLocale(t),this)}middleware(t,n,i){return j(this,Ko,"f").addMiddleware(t,!!n,i)}nargs(t,n){return bt("<string|object|array> [number]",[t,n],arguments.length),this[df](this.nargs.bind(this),"narg",t,n),this}normalize(t){return bt("<array|string>",[t],arguments.length),this[ml]("normalize",t),this}number(t){return bt("<array|string>",[t],arguments.length),this[ml]("number",t),this[Vu](t),this}option(t,n){if(bt("<string|object> [object]",[t,n],arguments.length),typeof t=="object")Object.keys(t).forEach(i=>{this.options(i,t[i])});else{typeof n!="object"&&(n={}),this[Vu](t),!j(this,ls,"f")||t!=="version"&&n?.alias!=="version"||this[J9](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),j(this,At,"f").key[t]=!0,n.alias&&this.alias(t,n.alias);let i=n.deprecate||n.deprecated;i&&this.deprecateOption(t,i);let r=n.demand||n.required||n.require;r&&this.demand(t,r),n.demandOption&&this.demandOption(t,typeof n.demandOption=="string"?n.demandOption:void 0),n.conflicts&&this.conflicts(t,n.conflicts),"default"in n&&this.default(t,n.default),n.implies!==void 0&&this.implies(t,n.implies),n.nargs!==void 0&&this.nargs(t,n.nargs),n.config&&this.config(t,n.configParser),n.normalize&&this.normalize(t),n.choices&&this.choices(t,n.choices),n.coerce&&this.coerce(t,n.coerce),n.group&&this.group(t,n.group),(n.boolean||n.type==="boolean")&&(this.boolean(t),n.alias&&this.boolean(n.alias)),(n.array||n.type==="array")&&(this.array(t),n.alias&&this.array(n.alias)),(n.number||n.type==="number")&&(this.number(t),n.alias&&this.number(n.alias)),(n.string||n.type==="string")&&(this.string(t),n.alias&&this.string(n.alias)),(n.count||n.type==="count")&&this.count(t),typeof n.global=="boolean"&&this.global(t,n.global),n.defaultDescription&&(j(this,At,"f").defaultDescription[t]=n.defaultDescription),n.skipValidation&&this.skipValidation(t);let a=n.describe||n.description||n.desc,s=j(this,Vt,"f").getDescriptions();Object.prototype.hasOwnProperty.call(s,t)&&typeof a!="string"||this.describe(t,a),n.hidden&&this.hide(t),n.requiresArg&&this.requiresArg(t)}return this}options(t,n){return this.option(t,n)}parse(t,n,i){bt("[string|array] [function|boolean|object] [function]",[t,n,i],arguments.length),this[eO](),t===void 0&&(t=j(this,ul,"f")),typeof n=="object"&&(gt(this,Nu,n,"f"),n=i),typeof n=="function"&&(gt(this,wo,n,"f"),n=!1),n||gt(this,ul,t,"f"),j(this,wo,"f")&&gt(this,zo,!1,"f");let r=this[G0](t,!!n),a=this.parsed;return j(this,Go,"f").setParsed(this.parsed),wi(r)?r.then(s=>(j(this,wo,"f")&&j(this,wo,"f").call(this,j(this,dl,"f"),s,j(this,Ji,"f")),s)).catch(s=>{throw j(this,wo,"f")&&j(this,wo,"f")(s,this.parsed.argv,j(this,Ji,"f")),s}).finally(()=>{this[L4](),this.parsed=a}):(j(this,wo,"f")&&j(this,wo,"f").call(this,j(this,dl,"f"),r,j(this,Ji,"f")),this[L4](),this.parsed=a,r)}parseAsync(t,n,i){let r=this.parse(t,n,i);return wi(r)?r:Promise.resolve(r)}parseSync(t,n,i){let r=this.parse(t,n,i);if(wi(r))throw new er(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return r}parserConfiguration(t){return bt("<object>",[t],arguments.length),gt(this,dx,t,"f"),this}pkgConf(t,n){bt("<string> [string]",[t,n],arguments.length);let i=null,r=this[R4](n||j(this,Du,"f"));return r[t]&&typeof r[t]=="object"&&(i=px(r[t],n||j(this,Du,"f"),this[Bu]()["deep-merge-config"]||!1,j(this,kt,"f")),j(this,At,"f").configObjects=(j(this,At,"f").configObjects||[]).concat(i)),this}positional(t,n){bt("<string> <object>",[t,n],arguments.length);let i=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];n=uf(n,(s,c)=>!(s==="type"&&!["string","number","boolean"].includes(c))&&i.includes(s));let r=j(this,j0,"f").fullCommands[j(this,j0,"f").fullCommands.length-1],a=r?j(this,xi,"f").cmdToParseOptions(r):{array:[],alias:{},default:{},demand:{}};return fx(a).forEach(s=>{let c=a[s];Array.isArray(c)?c.indexOf(t)!==-1&&(n[s]=!0):c[t]&&!(s in n)&&(n[s]=c[t])}),this.group(t,j(this,Vt,"f").getPositionalGroupName()),this.option(t,n)}recommendCommands(t=!0){return bt("[boolean]",[t],arguments.length),gt(this,ux,t,"f"),this}required(t,n,i){return this.demand(t,n,i)}require(t,n,i){return this.demand(t,n,i)}requiresArg(t){return bt("<array|string|object> [number]",[t],arguments.length),typeof t=="string"&&j(this,At,"f").narg[t]||this[df](this.requiresArg.bind(this),"narg",t,NaN),this}showCompletionScript(t,n){return bt("[string] [string]",[t,n],arguments.length),t=t||this.$0,j(this,cf,"f").log(j(this,Go,"f").generateCompletionScript(t,n||j(this,bo,"f")||"completion")),this}showHelp(t){if(bt("[string|function]",[t],arguments.length),gt(this,xo,!0,"f"),!j(this,Vt,"f").hasCachedHelpMessage()){if(!this.parsed){let i=this[G0](j(this,ul,"f"),void 0,void 0,0,!0);if(wi(i))return i.then(()=>{j(this,Vt,"f").showHelp(t)}),this}let n=j(this,xi,"f").runDefaultBuilderOn(this);if(wi(n))return n.then(()=>{j(this,Vt,"f").showHelp(t)}),this}return j(this,Vt,"f").showHelp(t),this}scriptName(t){return this.customScriptName=!0,this.$0=t,this}showHelpOnFail(t,n){return bt("[boolean|string] [string]",[t,n],arguments.length),j(this,Vt,"f").showHelpOnFail(t,n),this}showVersion(t){return bt("[string|function]",[t],arguments.length),j(this,Vt,"f").showVersion(t),this}skipValidation(t){return bt("<array|string>",[t],arguments.length),this[ml]("skipValidation",t),this}strict(t){return bt("[boolean]",[t],arguments.length),gt(this,ku,t!==!1,"f"),this}strictCommands(t){return bt("[boolean]",[t],arguments.length),gt(this,Fu,t!==!1,"f"),this}strictOptions(t){return bt("[boolean]",[t],arguments.length),gt(this,Lu,t!==!1,"f"),this}string(t){return bt("<array|string>",[t],arguments.length),this[ml]("string",t),this[Vu](t),this}terminalWidth(){return bt([],0),j(this,kt,"f").process.stdColumns}updateLocale(t){return this.updateStrings(t)}updateStrings(t){return bt("<object>",[t],arguments.length),gt(this,Ru,!1,"f"),j(this,kt,"f").y18n.updateLocale(t),this}usage(t,n,i,r){if(bt("<string|null|undefined> [string|boolean] [function|object] [function]",[t,n,i,r],arguments.length),n!==void 0){if(Sa(t,null,j(this,kt,"f")),(t||"").match(/^\$0( |$)/))return this.command(t,n,i,r);throw new er(".usage() description must start with $0 if being used as alias for .command()")}return j(this,Vt,"f").usage(t),this}usageConfiguration(t){return bt("<object>",[t],arguments.length),gt(this,mx,t,"f"),this}version(t,n,i){let r="version";if(bt("[boolean|string] [string] [string]",[t,n,i],arguments.length),j(this,ls,"f")&&(this[O4](j(this,ls,"f")),j(this,Vt,"f").version(void 0),gt(this,ls,null,"f")),arguments.length===0)i=this[iO](),t=r;else if(arguments.length===1){if(t===!1)return this;i=t,t=r}else arguments.length===2&&(i=n,n=void 0);return gt(this,ls,typeof t=="string"?t:r,"f"),n=n||j(this,Vt,"f").deferY18nLookup("Show version number"),j(this,Vt,"f").version(i||void 0),this.boolean(j(this,ls,"f")),this.describe(j(this,ls,"f"),n),this}wrap(t){return bt("<number|null|undefined>",[t],arguments.length),j(this,Vt,"f").wrap(t),this}[(xi=new WeakMap,Du=new WeakMap,j0=new WeakMap,Go=new WeakMap,bo=new WeakMap,ox=new WeakMap,dl=new WeakMap,Ru=new WeakMap,ax=new WeakMap,zo=new WeakMap,sx=new WeakMap,Ko=new WeakMap,cs=new WeakMap,xo=new WeakMap,Xo=new WeakMap,cx=new WeakMap,cf=new WeakMap,Ji=new WeakMap,At=new WeakMap,lx=new WeakMap,dx=new WeakMap,wo=new WeakMap,Nu=new WeakMap,lf=new WeakMap,Pu=new WeakMap,ul=new WeakMap,ux=new WeakMap,kt=new WeakMap,ku=new WeakMap,Fu=new WeakMap,Lu=new WeakMap,Vt=new WeakMap,mx=new WeakMap,ls=new WeakMap,fi=new WeakMap,Z9)](t){if(!t._||!t["--"])return t;t._.push.apply(t._,t["--"]);try{delete t["--"]}catch{}return t}[Q9](){return{log:(...t)=>{this[hx]()||console.log(...t),gt(this,xo,!0,"f"),j(this,Ji,"f").length&&gt(this,Ji,j(this,Ji,"f")+`
`,"f"),gt(this,Ji,j(this,Ji,"f")+t.join(" "),"f")},error:(...t)=>{this[hx]()||console.error(...t),gt(this,xo,!0,"f"),j(this,Ji,"f").length&&gt(this,Ji,j(this,Ji,"f")+`
`,"f"),gt(this,Ji,j(this,Ji,"f")+t.join(" "),"f")}}}[O4](t){fx(j(this,At,"f")).forEach(n=>{if(n==="configObjects")return;let i=j(this,At,"f")[n];Array.isArray(i)?i.includes(t)&&i.splice(i.indexOf(t),1):typeof i=="object"&&delete i[t]}),delete j(this,Vt,"f").getDescriptions()[t]}[J9](t,n,i){j(this,ax,"f")[i]||(j(this,kt,"f").process.emitWarning(t,n),j(this,ax,"f")[i]=!0)}[eO](){j(this,sx,"f").push({options:j(this,At,"f"),configObjects:j(this,At,"f").configObjects.slice(0),exitProcess:j(this,zo,"f"),groups:j(this,cs,"f"),strict:j(this,ku,"f"),strictCommands:j(this,Fu,"f"),strictOptions:j(this,Lu,"f"),completionCommand:j(this,bo,"f"),output:j(this,Ji,"f"),exitError:j(this,dl,"f"),hasOutput:j(this,xo,"f"),parsed:this.parsed,parseFn:j(this,wo,"f"),parseContext:j(this,Nu,"f")}),j(this,Vt,"f").freeze(),j(this,fi,"f").freeze(),j(this,xi,"f").freeze(),j(this,Ko,"f").freeze()}[tO](){let t,n="";return t=/\b(node|iojs|electron)(\.exe)?$/.test(j(this,kt,"f").process.argv()[0])?j(this,kt,"f").process.argv().slice(1,2):j(this,kt,"f").process.argv().slice(0,1),n=t.map(i=>{let r=this[fO](j(this,Du,"f"),i);return i.match(/^(\/|([a-zA-Z]:)?\\)/)&&r.length<i.length?r:i}).join(" ").trim(),j(this,kt,"f").getEnv("_")&&j(this,kt,"f").getProcessArgvBin()===j(this,kt,"f").getEnv("_")&&(n=j(this,kt,"f").getEnv("_").replace(`${j(this,kt,"f").path.dirname(j(this,kt,"f").process.execPath())}/`,"")),n}[Bu](){return j(this,dx,"f")}[nO](){return j(this,mx,"f")}[D4](){if(!j(this,Ru,"f"))return;let t=j(this,kt,"f").getEnv("LC_ALL")||j(this,kt,"f").getEnv("LC_MESSAGES")||j(this,kt,"f").getEnv("LANG")||j(this,kt,"f").getEnv("LANGUAGE")||"en_US";this.locale(t.replace(/[.:].*/,""))}[iO](){return this[R4]().version||"unknown"}[rO](t){let n=t["--"]?t["--"]:t._;for(let i,r=0;(i=n[r])!==void 0;r++)j(this,kt,"f").Parser.looksLikeNumber(i)&&Number.isSafeInteger(Math.floor(parseFloat(`${i}`)))&&(n[r]=Number(i));return t}[R4](t){let n=t||"*";if(j(this,lf,"f")[n])return j(this,lf,"f")[n];let i={};try{let r=t||j(this,kt,"f").mainFilename;!t&&j(this,kt,"f").path.extname(r)&&(r=j(this,kt,"f").path.dirname(r));let a=j(this,kt,"f").findUp(r,(s,c)=>c.includes("package.json")?"package.json":void 0);Sa(a,void 0,j(this,kt,"f")),i=JSON.parse(j(this,kt,"f").readFileSync(a,"utf8"))}catch{}return j(this,lf,"f")[n]=i||{},j(this,lf,"f")[n]}[ml](t,n){(n=[].concat(n)).forEach(i=>{i=this[k4](i),j(this,At,"f")[t].push(i)})}[df](t,n,i,r){this[P4](t,n,i,r,(a,s,c)=>{j(this,At,"f")[a][s]=c})}[N4](t,n,i,r){this[P4](t,n,i,r,(a,s,c)=>{j(this,At,"f")[a][s]=(j(this,At,"f")[a][s]||[]).concat(c)})}[P4](t,n,i,r,a){if(Array.isArray(i))i.forEach(s=>{t(s,r)});else if((s=>typeof s=="object")(i))for(let s of fx(i))t(s,i[s]);else a(n,this[k4](i),r)}[k4](t){return t==="__proto__"?"___proto___":t}[F4](t,n){return this[df](this[F4].bind(this),"key",t,n),this}[L4](){var t,n,i,r,a,s,c,l,d,f,g,b;let w=j(this,sx,"f").pop(),O;Sa(w,void 0,j(this,kt,"f")),t=this,n=this,i=this,r=this,a=this,s=this,c=this,l=this,d=this,f=this,g=this,b=this,{options:{set value(D){gt(t,At,D,"f")}}.value,configObjects:O,exitProcess:{set value(D){gt(n,zo,D,"f")}}.value,groups:{set value(D){gt(i,cs,D,"f")}}.value,output:{set value(D){gt(r,Ji,D,"f")}}.value,exitError:{set value(D){gt(a,dl,D,"f")}}.value,hasOutput:{set value(D){gt(s,xo,D,"f")}}.value,parsed:this.parsed,strict:{set value(D){gt(c,ku,D,"f")}}.value,strictCommands:{set value(D){gt(l,Fu,D,"f")}}.value,strictOptions:{set value(D){gt(d,Lu,D,"f")}}.value,completionCommand:{set value(D){gt(f,bo,D,"f")}}.value,parseFn:{set value(D){gt(g,wo,D,"f")}}.value,parseContext:{set value(D){gt(b,Nu,D,"f")}}.value}=w,j(this,At,"f").configObjects=O,j(this,Vt,"f").unfreeze(),j(this,fi,"f").unfreeze(),j(this,xi,"f").unfreeze(),j(this,Ko,"f").unfreeze()}[oO](t,n){return X0(n,i=>(t(i),i))}getInternalMethods(){return{getCommandInstance:this[aO].bind(this),getContext:this[sO].bind(this),getHasOutput:this[cO].bind(this),getLoggerInstance:this[lO].bind(this),getParseContext:this[dO].bind(this),getParserConfiguration:this[Bu].bind(this),getUsageConfiguration:this[nO].bind(this),getUsageInstance:this[uO].bind(this),getValidationInstance:this[mO].bind(this),hasParseCallback:this[hx].bind(this),isGlobalContext:this[hO].bind(this),postProcess:this[Uu].bind(this),reset:this[B4].bind(this),runValidation:this[U4].bind(this),runYargsParserAndExecuteCommands:this[G0].bind(this),setHasOutput:this[pO].bind(this)}}[aO](){return j(this,xi,"f")}[sO](){return j(this,j0,"f")}[cO](){return j(this,xo,"f")}[lO](){return j(this,cf,"f")}[dO](){return j(this,Nu,"f")||{}}[uO](){return j(this,Vt,"f")}[mO](){return j(this,fi,"f")}[hx](){return!!j(this,wo,"f")}[hO](){return j(this,cx,"f")}[Uu](t,n,i,r){return i||wi(t)?t:(n||(t=this[Z9](t)),(this[Bu]()["parse-positional-numbers"]||this[Bu]()["parse-positional-numbers"]===void 0)&&(t=this[rO](t)),r&&(t=K0(t,this,j(this,Ko,"f").getMiddleware(),!1)),t)}[B4](t={}){gt(this,At,j(this,At,"f")||{},"f");let n={};n.local=j(this,At,"f").local||[],n.configObjects=j(this,At,"f").configObjects||[];let i={};return n.local.forEach(r=>{i[r]=!0,(t[r]||[]).forEach(a=>{i[a]=!0})}),Object.assign(j(this,Pu,"f"),Object.keys(j(this,cs,"f")).reduce((r,a)=>{let s=j(this,cs,"f")[a].filter(c=>!(c in i));return s.length>0&&(r[a]=s),r},{})),gt(this,cs,{},"f"),["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"].forEach(r=>{n[r]=(j(this,At,"f")[r]||[]).filter(a=>!i[a])}),["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"].forEach(r=>{n[r]=uf(j(this,At,"f")[r],a=>!i[a])}),n.envPrefix=j(this,At,"f").envPrefix,gt(this,At,n,"f"),gt(this,Vt,j(this,Vt,"f")?j(this,Vt,"f").reset(i):tG(this,j(this,kt,"f")),"f"),gt(this,fi,j(this,fi,"f")?j(this,fi,"f").reset(i):function(r,a,s){let c=s.y18n.__,l=s.y18n.__n,d={nonOptionCount:function(O){let D=r.getDemandedCommands(),y=O._.length+(O["--"]?O["--"].length:0)-r.getInternalMethods().getContext().commands.length;D._&&(y<D._.min||y>D._.max)&&(y<D._.min?D._.minMsg!==void 0?a.fail(D._.minMsg?D._.minMsg.replace(/\$0/g,y.toString()).replace(/\$1/,D._.min.toString()):null):a.fail(l("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",y,y.toString(),D._.min.toString())):y>D._.max&&(D._.maxMsg!==void 0?a.fail(D._.maxMsg?D._.maxMsg.replace(/\$0/g,y.toString()).replace(/\$1/,D._.max.toString()):null):a.fail(l("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",y,y.toString(),D._.max.toString()))))},positionalCount:function(O,D){D<O&&a.fail(l("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",D,D+"",O+""))},requiredArguments:function(O,D){let y=null;for(let S of Object.keys(D))Object.prototype.hasOwnProperty.call(O,S)&&O[S]!==void 0||(y=y||{},y[S]=D[S]);if(y){let S=[];for(let H of Object.keys(y)){let oe=y[H];oe&&S.indexOf(oe)<0&&S.push(oe)}let L=S.length?`
${S.join(`
`)}`:"";a.fail(l("Missing required argument: %s","Missing required arguments: %s",Object.keys(y).length,Object.keys(y).join(", ")+L))}},unknownArguments:function(O,D,y,S,L=!0){var H;let oe=r.getInternalMethods().getCommandInstance().getCommands(),z=[],Q=r.getInternalMethods().getContext();if(Object.keys(O).forEach(N=>{Y9.includes(N)||Object.prototype.hasOwnProperty.call(y,N)||Object.prototype.hasOwnProperty.call(r.getInternalMethods().getParseContext(),N)||d.isValidAndSomeAliasIsNotNew(N,D)||z.push(N)}),L&&(Q.commands.length>0||oe.length>0||S)&&O._.slice(Q.commands.length).forEach(N=>{oe.includes(""+N)||z.push(""+N)}),L){let N=((H=r.getDemandedCommands()._)===null||H===void 0?void 0:H.max)||0,q=Q.commands.length+N;q<O._.length&&O._.slice(q).forEach(G=>{G=String(G),Q.commands.includes(G)||z.includes(G)||z.push(G)})}z.length&&a.fail(l("Unknown argument: %s","Unknown arguments: %s",z.length,z.map(N=>N.trim()?N:`"${N}"`).join(", ")))},unknownCommands:function(O){let D=r.getInternalMethods().getCommandInstance().getCommands(),y=[],S=r.getInternalMethods().getContext();return(S.commands.length>0||D.length>0)&&O._.slice(S.commands.length).forEach(L=>{D.includes(""+L)||y.push(""+L)}),y.length>0&&(a.fail(l("Unknown command: %s","Unknown commands: %s",y.length,y.join(", "))),!0)},isValidAndSomeAliasIsNotNew:function(O,D){if(!Object.prototype.hasOwnProperty.call(D,O))return!1;let y=r.parsed.newAliases;return[O,...D[O]].some(S=>!Object.prototype.hasOwnProperty.call(y,S)||!y[O])},limitedChoices:function(O){let D=r.getOptions(),y={};if(!Object.keys(D.choices).length)return;Object.keys(O).forEach(H=>{Y9.indexOf(H)===-1&&Object.prototype.hasOwnProperty.call(D.choices,H)&&[].concat(O[H]).forEach(oe=>{D.choices[H].indexOf(oe)===-1&&oe!==void 0&&(y[H]=(y[H]||[]).concat(oe))})});let S=Object.keys(y);if(!S.length)return;let L=c("Invalid values:");S.forEach(H=>{L+=`
  ${c("Argument: %s, Given: %s, Choices: %s",H,a.stringifiedValues(y[H]),a.stringifiedValues(D.choices[H]))}`}),a.fail(L)}},f={};function g(O,D){let y=Number(D);return typeof(D=isNaN(y)?D:y)=="number"?D=O._.length>=D:D.match(/^--no-.+/)?(D=D.match(/^--no-(.+)/)[1],D=!Object.prototype.hasOwnProperty.call(O,D)):D=Object.prototype.hasOwnProperty.call(O,D),D}d.implies=function(O,D){bt("<string|object> [array|number|string]",[O,D],arguments.length),typeof O=="object"?Object.keys(O).forEach(y=>{d.implies(y,O[y])}):(r.global(O),f[O]||(f[O]=[]),Array.isArray(D)?D.forEach(y=>d.implies(O,y)):(Sa(D,void 0,s),f[O].push(D)))},d.getImplied=function(){return f},d.implications=function(O){let D=[];if(Object.keys(f).forEach(y=>{let S=y;(f[y]||[]).forEach(L=>{let H=S,oe=L;H=g(O,H),L=g(O,L),H&&!L&&D.push(` ${S} -> ${oe}`)})}),D.length){let y=`${c("Implications failed:")}
`;D.forEach(S=>{y+=S}),a.fail(y)}};let b={};d.conflicts=function(O,D){bt("<string|object> [array|string]",[O,D],arguments.length),typeof O=="object"?Object.keys(O).forEach(y=>{d.conflicts(y,O[y])}):(r.global(O),b[O]||(b[O]=[]),Array.isArray(D)?D.forEach(y=>d.conflicts(O,y)):b[O].push(D))},d.getConflicting=()=>b,d.conflicting=function(O){Object.keys(O).forEach(D=>{b[D]&&b[D].forEach(y=>{y&&O[D]!==void 0&&O[y]!==void 0&&a.fail(c("Arguments %s and %s are mutually exclusive",D,y))})}),r.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(b).forEach(D=>{b[D].forEach(y=>{y&&O[s.Parser.camelCase(D)]!==void 0&&O[s.Parser.camelCase(y)]!==void 0&&a.fail(c("Arguments %s and %s are mutually exclusive",D,y))})})},d.recommendCommands=function(O,D){D=D.sort((L,H)=>H.length-L.length);let y=null,S=1/0;for(let L,H=0;(L=D[H])!==void 0;H++){let oe=nG(O,L);oe<=3&&oe<S&&(S=oe,y=L)}y&&a.fail(c("Did you mean %s?",y))},d.reset=function(O){return f=uf(f,D=>!O[D]),b=uf(b,D=>!O[D]),d};let w=[];return d.freeze=function(){w.push({implied:f,conflicting:b})},d.unfreeze=function(){let O=w.pop();Sa(O,void 0,s),{implied:f,conflicting:b}=O},d}(this,j(this,Vt,"f"),j(this,kt,"f")),"f"),gt(this,xi,j(this,xi,"f")?j(this,xi,"f").reset():function(r,a,s,c){return new H4(r,a,s,c)}(j(this,Vt,"f"),j(this,fi,"f"),j(this,Ko,"f"),j(this,kt,"f")),"f"),j(this,Go,"f")||gt(this,Go,function(r,a,s,c){return new G4(r,a,s,c)}(this,j(this,Vt,"f"),j(this,xi,"f"),j(this,kt,"f")),"f"),j(this,Ko,"f").reset(),gt(this,bo,null,"f"),gt(this,Ji,"","f"),gt(this,dl,null,"f"),gt(this,xo,!1,"f"),this.parsed=!1,this}[fO](t,n){return j(this,kt,"f").path.relative(t,n)}[G0](t,n,i,r=0,a=!1){let s=!!i||a;t=t||j(this,ul,"f"),j(this,At,"f").__=j(this,kt,"f").y18n.__,j(this,At,"f").configuration=this[Bu]();let c=!!j(this,At,"f").configuration["populate--"],l=Object.assign({},j(this,At,"f").configuration,{"populate--":!0}),d=j(this,kt,"f").Parser.detailed(t,Object.assign({},j(this,At,"f"),{configuration:{"parse-positional-numbers":!1,...l}})),f=Object.assign(d.argv,j(this,Nu,"f")),g,b=d.aliases,w=!1,O=!1;Object.keys(f).forEach(D=>{D===j(this,Xo,"f")&&f[D]?w=!0:D===j(this,ls,"f")&&f[D]&&(O=!0)}),f.$0=this.$0,this.parsed=d,r===0&&j(this,Vt,"f").clearCachedHelpMessage();try{if(this[D4](),n)return this[Uu](f,c,!!i,!1);j(this,Xo,"f")&&[j(this,Xo,"f")].concat(b[j(this,Xo,"f")]||[]).filter(L=>L.length>1).includes(""+f._[f._.length-1])&&(f._.pop(),w=!0),gt(this,cx,!1,"f");let D=j(this,xi,"f").getCommands(),y=j(this,Go,"f").completionKey in f,S=w||y||a;if(f._.length){if(D.length){let L;for(let H,oe=r||0;f._[oe]!==void 0;oe++){if(H=String(f._[oe]),D.includes(H)&&H!==j(this,bo,"f")){let z=j(this,xi,"f").runCommand(H,this,d,oe+1,a,w||O||a);return this[Uu](z,c,!!i,!1)}if(!L&&H!==j(this,bo,"f")){L=H;break}}!j(this,xi,"f").hasDefaultCommand()&&j(this,ux,"f")&&L&&!S&&j(this,fi,"f").recommendCommands(L,D)}j(this,bo,"f")&&f._.includes(j(this,bo,"f"))&&!y&&(j(this,zo,"f")&&z0(!0),this.showCompletionScript(),this.exit(0))}if(j(this,xi,"f").hasDefaultCommand()&&!S){let L=j(this,xi,"f").runCommand(null,this,d,0,a,w||O||a);return this[Uu](L,c,!!i,!1)}if(y){j(this,zo,"f")&&z0(!0);let L=(t=[].concat(t)).slice(t.indexOf(`--${j(this,Go,"f").completionKey}`)+1);return j(this,Go,"f").getCompletion(L,(H,oe)=>{if(H)throw new er(H.message);(oe||[]).forEach(z=>{j(this,cf,"f").log(z)}),this.exit(0)}),this[Uu](f,!c,!!i,!1)}if(j(this,xo,"f")||(w?(j(this,zo,"f")&&z0(!0),s=!0,this.showHelp("log"),this.exit(0)):O&&(j(this,zo,"f")&&z0(!0),s=!0,j(this,Vt,"f").showVersion("log"),this.exit(0))),!s&&j(this,At,"f").skipValidation.length>0&&(s=Object.keys(f).some(L=>j(this,At,"f").skipValidation.indexOf(L)>=0&&f[L]===!0)),!s){if(d.error)throw new er(d.error.message);if(!y){let L=this[U4](b,{},d.error);i||(g=K0(f,this,j(this,Ko,"f").getMiddleware(),!0)),g=this[oO](L,g??f),wi(g)&&!i&&(g=g.then(()=>K0(f,this,j(this,Ko,"f").getMiddleware(),!1)))}}}catch(D){if(!(D instanceof er))throw D;j(this,Vt,"f").fail(D.message,D)}return this[Uu](g??f,c,!!i,!0)}[U4](t,n,i,r){let a={...this.getDemandedOptions()};return s=>{if(i)throw new er(i.message);j(this,fi,"f").nonOptionCount(s),j(this,fi,"f").requiredArguments(s,a);let c=!1;j(this,Fu,"f")&&(c=j(this,fi,"f").unknownCommands(s)),j(this,ku,"f")&&!c?j(this,fi,"f").unknownArguments(s,t,n,!!r):j(this,Lu,"f")&&j(this,fi,"f").unknownArguments(s,t,{},!1,!1),j(this,fi,"f").limitedChoices(s),j(this,fi,"f").implications(s),j(this,fi,"f").conflicting(s)}}[pO](){gt(this,xo,!0,"f")}[Vu](t){if(typeof t=="string")j(this,At,"f").key[t]=!0;else for(let n of t)j(this,At,"f").key[n]=!0}},V4,q4,{readFileSync:iG}=require("fs"),{inspect:rG}=require("util"),{resolve:oG}=require("path"),aG=HE(),sG=y4(),_4,yO={assert:{notStrictEqual:H9.notStrictEqual,strictEqual:H9.strictEqual},cliui:P9(),findUp:B9(),getEnv:e=>process.env[e],getCallerFile:V9(),getProcessArgvBin:xO,inspect:rG,mainFilename:(q4=(V4=require==null?void 0:require.main)===null||V4===void 0?void 0:V4.filename)!==null&&q4!==void 0?q4:process.cwd(),Parser:sG,path:require("path"),process:{argv:()=>process.argv,cwd:process.cwd,emitWarning:(e,t)=>process.emitWarning(e,t),execPath:()=>process.execPath,exit:e=>{process.exit(e)},nextTick:process.nextTick,stdColumns:process.stdout.columns!==void 0?process.stdout.columns:null},readFileSync:iG,require,requireDirectory:W9(),stringWidth:Qb(),y18n:aG({directory:oG(__dirname,"../locales"),updateFiles:!1})},gO=!((_4=process==null?void 0:process.env)===null||_4===void 0)&&_4.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12;if(process&&process.version&&Number(process.version.match(/v([^.]+)/)[1])<gO)throw Error(`yargs supports a minimum Node.js version of ${gO}. Read our version support policy: https://github.com/yargs/yargs#supported-nodejs-versions`);var cG=y4(),$4,lG={applyExtends:px,cjsPlatformShim:yO,Yargs:($4=yO,(e=[],t=$4.process.cwd(),n)=>{let i=new z4(e,t,n,$4);return Object.defineProperty(i,"argv",{get:()=>i.parse(),enumerable:!0}),i.help(),i.version(),i}),argsert:bt,isPromise:wi,objFilter:uf,parseCommand:mf,Parser:cG,processArgv:Jj,YError:er};wO.exports=lG});var Z4=Vn((Y4,hf)=>{(function(e,t){typeof Y4=="object"&&typeof hf<"u"?hf.exports=t():typeof define=="function"&&define.amd?define(t):e.moment=t()})(Y4,function(){"use strict";var e;function t(){return e.apply(null,arguments)}function n(u){e=u}function i(u){return u instanceof Array||Object.prototype.toString.call(u)==="[object Array]"}function r(u){return u!=null&&Object.prototype.toString.call(u)==="[object Object]"}function a(u,v){return Object.prototype.hasOwnProperty.call(u,v)}function s(u){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(u).length===0;var v;for(v in u)if(a(u,v))return!1;return!0}function c(u){return u===void 0}function l(u){return typeof u=="number"||Object.prototype.toString.call(u)==="[object Number]"}function d(u){return u instanceof Date||Object.prototype.toString.call(u)==="[object Date]"}function f(u,v){var T=[],E,_=u.length;for(E=0;E<_;++E)T.push(v(u[E],E));return T}function g(u,v){for(var T in v)a(v,T)&&(u[T]=v[T]);return a(v,"toString")&&(u.toString=v.toString),a(v,"valueOf")&&(u.valueOf=v.valueOf),u}function b(u,v,T,E){return xI(u,v,T,E,!0).utc()}function w(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function O(u){return u._pf==null&&(u._pf=w()),u._pf}var D;Array.prototype.some?D=Array.prototype.some:D=function(u){var v=Object(this),T=v.length>>>0,E;for(E=0;E<T;E++)if(E in v&&u.call(this,v[E],E,v))return!0;return!1};function y(u){var v=null,T=!1,E=u._d&&!isNaN(u._d.getTime());if(E&&(v=O(u),T=D.call(v.parsedDateParts,function(_){return _!=null}),E=v.overflow<0&&!v.empty&&!v.invalidEra&&!v.invalidMonth&&!v.invalidWeekday&&!v.weekdayMismatch&&!v.nullInput&&!v.invalidFormat&&!v.userInvalidated&&(!v.meridiem||v.meridiem&&T),u._strict&&(E=E&&v.charsLeftOver===0&&v.unusedTokens.length===0&&v.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(u))u._isValid=E;else return E;return u._isValid}function S(u){var v=b(NaN);return u!=null?g(O(v),u):O(v).userInvalidated=!0,v}var L=t.momentProperties=[],H=!1;function oe(u,v){var T,E,_,se=L.length;if(c(v._isAMomentObject)||(u._isAMomentObject=v._isAMomentObject),c(v._i)||(u._i=v._i),c(v._f)||(u._f=v._f),c(v._l)||(u._l=v._l),c(v._strict)||(u._strict=v._strict),c(v._tzm)||(u._tzm=v._tzm),c(v._isUTC)||(u._isUTC=v._isUTC),c(v._offset)||(u._offset=v._offset),c(v._pf)||(u._pf=O(v)),c(v._locale)||(u._locale=v._locale),se>0)for(T=0;T<se;T++)E=L[T],_=v[E],c(_)||(u[E]=_);return u}function z(u){oe(this,u),this._d=new Date(u._d!=null?u._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),H===!1&&(H=!0,t.updateOffset(this),H=!1)}function Q(u){return u instanceof z||u!=null&&u._isAMomentObject!=null}function N(u){t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+u)}function q(u,v){var T=!0;return g(function(){if(t.deprecationHandler!=null&&t.deprecationHandler(null,u),T){var E=[],_,se,Ee,dt=arguments.length;for(se=0;se<dt;se++){if(_="",typeof arguments[se]=="object"){_+=`
[`+se+"] ";for(Ee in arguments[0])a(arguments[0],Ee)&&(_+=Ee+": "+arguments[0][Ee]+", ");_=_.slice(0,-2)}else _=arguments[se];E.push(_)}N(u+`
Arguments: `+Array.prototype.slice.call(E).join("")+`
`+new Error().stack),T=!1}return v.apply(this,arguments)},v)}var G={};function te(u,v){t.deprecationHandler!=null&&t.deprecationHandler(u,v),G[u]||(N(v),G[u]=!0)}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;function K(u){return typeof Function<"u"&&u instanceof Function||Object.prototype.toString.call(u)==="[object Function]"}function ae(u){var v,T;for(T in u)a(u,T)&&(v=u[T],K(v)?this[T]=v:this["_"+T]=v);this._config=u,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function pe(u,v){var T=g({},u),E;for(E in v)a(v,E)&&(r(u[E])&&r(v[E])?(T[E]={},g(T[E],u[E]),g(T[E],v[E])):v[E]!=null?T[E]=v[E]:delete T[E]);for(E in u)a(u,E)&&!a(v,E)&&r(u[E])&&(T[E]=g({},T[E]));return T}function he(u){u!=null&&this.set(u)}var Ce;Object.keys?Ce=Object.keys:Ce=function(u){var v,T=[];for(v in u)a(u,v)&&T.push(v);return T};var Le={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function tt(u,v,T){var E=this._calendar[u]||this._calendar.sameElse;return K(E)?E.call(v,T):E}function St(u,v,T){var E=""+Math.abs(u),_=v-E.length,se=u>=0;return(se?T?"+":"":"-")+Math.pow(10,Math.max(0,_)).toString().substr(1)+E}var qt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Gt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ze={},ft={};function F(u,v,T,E){var _=E;typeof E=="string"&&(_=function(){return this[E]()}),u&&(ft[u]=_),v&&(ft[v[0]]=function(){return St(_.apply(this,arguments),v[1],v[2])}),T&&(ft[T]=function(){return this.localeData().ordinal(_.apply(this,arguments),u)})}function Ve(u){return u.match(/\[[\s\S]/)?u.replace(/^\[|\]$/g,""):u.replace(/\\/g,"")}function ln(u){var v=u.match(qt),T,E;for(T=0,E=v.length;T<E;T++)ft[v[T]]?v[T]=ft[v[T]]:v[T]=Ve(v[T]);return function(_){var se="",Ee;for(Ee=0;Ee<E;Ee++)se+=K(v[Ee])?v[Ee].call(_,u):v[Ee];return se}}function _t(u,v){return u.isValid()?(v=Mn(v,u.localeData()),Ze[v]=Ze[v]||ln(v),Ze[v](u)):u.localeData().invalidDate()}function Mn(u,v){var T=5;function E(_){return v.longDateFormat(_)||_}for(Gt.lastIndex=0;T>=0&&Gt.test(u);)u=u.replace(Gt,E),Gt.lastIndex=0,T-=1;return u}var pi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function ar(u){var v=this._longDateFormat[u],T=this._longDateFormat[u.toUpperCase()];return v||!T?v:(this._longDateFormat[u]=T.match(qt).map(function(E){return E==="MMMM"||E==="MM"||E==="DD"||E==="dddd"?E.slice(1):E}).join(""),this._longDateFormat[u])}var Ar="Invalid date";function _r(){return this._invalidDate}var Ia="%d",sr=/\d{1,2}/;function qu(u){return this._ordinal.replace("%d",u)}var le={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function xe(u,v,T,E){var _=this._relativeTime[T];return K(_)?_(u,v,T,E):_.replace(/%d/i,u)}function et(u,v){var T=this._relativeTime[u>0?"future":"past"];return K(T)?T(v):T.replace(/%s/i,v)}var ke={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ge(u){return typeof u=="string"?ke[u]||ke[u.toLowerCase()]:void 0}function pt(u){var v={},T,E;for(E in u)a(u,E)&&(T=ge(E),T&&(v[T]=u[E]));return v}var at={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function It(u){var v=[],T;for(T in u)a(u,T)&&v.push({unit:T,priority:at[T]});return v.sort(function(E,_){return E.priority-_.priority}),v}var yi=/\d/,Sn=/\d\d/,tI=/\d{3}/,vx=/\d{4}/,ey=/[+-]?\d{6}/,Wn=/\d\d?/,nI=/\d\d\d\d?/,iI=/\d\d\d\d\d\d?/,ty=/\d{1,3}/,bx=/\d{1,4}/,ny=/[+-]?\d{1,6}/,_u=/\d+/,iy=/[+-]?\d+/,PO=/Z|[+-]\d\d:?\d\d/gi,ry=/Z|[+-]\d\d(?::?\d\d)?/gi,kO=/[+-]?\d+(\.\d{1,3})?/,ff=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,$u=/^[1-9]\d?/,xx=/^([1-9]\d|\d)/,oy;oy={};function ut(u,v,T){oy[u]=K(v)?v:function(E,_){return E&&T?T:v}}function FO(u,v){return a(oy,u)?oy[u](v._strict,v._locale):new RegExp(LO(u))}function LO(u){return ds(u.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(v,T,E,_,se){return T||E||_||se}))}function ds(u){return u.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function To(u){return u<0?Math.ceil(u)||0:Math.floor(u)}function tn(u){var v=+u,T=0;return v!==0&&isFinite(v)&&(T=To(v)),T}var wx={};function En(u,v){var T,E=v,_;for(typeof u=="string"&&(u=[u]),l(v)&&(E=function(se,Ee){Ee[v]=tn(se)}),_=u.length,T=0;T<_;T++)wx[u[T]]=E}function pf(u,v){En(u,function(T,E,_,se){_._w=_._w||{},v(T,_._w,_,se)})}function BO(u,v,T){v!=null&&a(wx,u)&&wx[u](v,T._a,T,u)}function ay(u){return u%4===0&&u%100!==0||u%400===0}var cr=0,us=1,Aa=2,Ri=3,Yo=4,ms=5,fl=6,UO=7,VO=8;F("Y",0,0,function(){var u=this.year();return u<=9999?St(u,4):"+"+u}),F(0,["YY",2],0,function(){return this.year()%100}),F(0,["YYYY",4],0,"year"),F(0,["YYYYY",5],0,"year"),F(0,["YYYYYY",6,!0],0,"year"),ut("Y",iy),ut("YY",Wn,Sn),ut("YYYY",bx,vx),ut("YYYYY",ny,ey),ut("YYYYYY",ny,ey),En(["YYYYY","YYYYYY"],cr),En("YYYY",function(u,v){v[cr]=u.length===2?t.parseTwoDigitYear(u):tn(u)}),En("YY",function(u,v){v[cr]=t.parseTwoDigitYear(u)}),En("Y",function(u,v){v[cr]=parseInt(u,10)});function yf(u){return ay(u)?366:365}t.parseTwoDigitYear=function(u){return tn(u)+(tn(u)>68?1900:2e3)};var rI=Wu("FullYear",!0);function qO(){return ay(this.year())}function Wu(u,v){return function(T){return T!=null?(oI(this,u,T),t.updateOffset(this,v),this):gf(this,u)}}function gf(u,v){if(!u.isValid())return NaN;var T=u._d,E=u._isUTC;switch(v){case"Milliseconds":return E?T.getUTCMilliseconds():T.getMilliseconds();case"Seconds":return E?T.getUTCSeconds():T.getSeconds();case"Minutes":return E?T.getUTCMinutes():T.getMinutes();case"Hours":return E?T.getUTCHours():T.getHours();case"Date":return E?T.getUTCDate():T.getDate();case"Day":return E?T.getUTCDay():T.getDay();case"Month":return E?T.getUTCMonth():T.getMonth();case"FullYear":return E?T.getUTCFullYear():T.getFullYear();default:return NaN}}function oI(u,v,T){var E,_,se,Ee,dt;if(!(!u.isValid()||isNaN(T))){switch(E=u._d,_=u._isUTC,v){case"Milliseconds":return void(_?E.setUTCMilliseconds(T):E.setMilliseconds(T));case"Seconds":return void(_?E.setUTCSeconds(T):E.setSeconds(T));case"Minutes":return void(_?E.setUTCMinutes(T):E.setMinutes(T));case"Hours":return void(_?E.setUTCHours(T):E.setHours(T));case"Date":return void(_?E.setUTCDate(T):E.setDate(T));case"FullYear":break;default:return}se=T,Ee=u.month(),dt=u.date(),dt=dt===29&&Ee===1&&!ay(se)?28:dt,_?E.setUTCFullYear(se,Ee,dt):E.setFullYear(se,Ee,dt)}}function _O(u){return u=ge(u),K(this[u])?this[u]():this}function $O(u,v){if(typeof u=="object"){u=pt(u);var T=It(u),E,_=T.length;for(E=0;E<_;E++)this[T[E].unit](u[T[E].unit])}else if(u=ge(u),K(this[u]))return this[u](v);return this}function WO(u,v){return(u%v+v)%v}var gi;Array.prototype.indexOf?gi=Array.prototype.indexOf:gi=function(u){var v;for(v=0;v<this.length;++v)if(this[v]===u)return v;return-1};function Tx(u,v){if(isNaN(u)||isNaN(v))return NaN;var T=WO(v,12);return u+=(v-T)/12,T===1?ay(u)?29:28:31-T%7%2}F("M",["MM",2],"Mo",function(){return this.month()+1}),F("MMM",0,0,function(u){return this.localeData().monthsShort(this,u)}),F("MMMM",0,0,function(u){return this.localeData().months(this,u)}),ut("M",Wn,$u),ut("MM",Wn,Sn),ut("MMM",function(u,v){return v.monthsShortRegex(u)}),ut("MMMM",function(u,v){return v.monthsRegex(u)}),En(["M","MM"],function(u,v){v[us]=tn(u)-1}),En(["MMM","MMMM"],function(u,v,T,E){var _=T._locale.monthsParse(u,E,T._strict);_!=null?v[us]=_:O(T).invalidMonth=u});var HO="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),aI="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),sI=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,jO=ff,GO=ff;function zO(u,v){return u?i(this._months)?this._months[u.month()]:this._months[(this._months.isFormat||sI).test(v)?"format":"standalone"][u.month()]:i(this._months)?this._months:this._months.standalone}function KO(u,v){return u?i(this._monthsShort)?this._monthsShort[u.month()]:this._monthsShort[sI.test(v)?"format":"standalone"][u.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function XO(u,v,T){var E,_,se,Ee=u.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],E=0;E<12;++E)se=b([2e3,E]),this._shortMonthsParse[E]=this.monthsShort(se,"").toLocaleLowerCase(),this._longMonthsParse[E]=this.months(se,"").toLocaleLowerCase();return T?v==="MMM"?(_=gi.call(this._shortMonthsParse,Ee),_!==-1?_:null):(_=gi.call(this._longMonthsParse,Ee),_!==-1?_:null):v==="MMM"?(_=gi.call(this._shortMonthsParse,Ee),_!==-1?_:(_=gi.call(this._longMonthsParse,Ee),_!==-1?_:null)):(_=gi.call(this._longMonthsParse,Ee),_!==-1?_:(_=gi.call(this._shortMonthsParse,Ee),_!==-1?_:null))}function YO(u,v,T){var E,_,se;if(this._monthsParseExact)return XO.call(this,u,v,T);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),E=0;E<12;E++){if(_=b([2e3,E]),T&&!this._longMonthsParse[E]&&(this._longMonthsParse[E]=new RegExp("^"+this.months(_,"").replace(".","")+"$","i"),this._shortMonthsParse[E]=new RegExp("^"+this.monthsShort(_,"").replace(".","")+"$","i")),!T&&!this._monthsParse[E]&&(se="^"+this.months(_,"")+"|^"+this.monthsShort(_,""),this._monthsParse[E]=new RegExp(se.replace(".",""),"i")),T&&v==="MMMM"&&this._longMonthsParse[E].test(u))return E;if(T&&v==="MMM"&&this._shortMonthsParse[E].test(u))return E;if(!T&&this._monthsParse[E].test(u))return E}}function cI(u,v){if(!u.isValid())return u;if(typeof v=="string"){if(/^\d+$/.test(v))v=tn(v);else if(v=u.localeData().monthsParse(v),!l(v))return u}var T=v,E=u.date();return E=E<29?E:Math.min(E,Tx(u.year(),T)),u._isUTC?u._d.setUTCMonth(T,E):u._d.setMonth(T,E),u}function lI(u){return u!=null?(cI(this,u),t.updateOffset(this,!0),this):gf(this,"Month")}function ZO(){return Tx(this.year(),this.month())}function QO(u){return this._monthsParseExact?(a(this,"_monthsRegex")||dI.call(this),u?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=jO),this._monthsShortStrictRegex&&u?this._monthsShortStrictRegex:this._monthsShortRegex)}function JO(u){return this._monthsParseExact?(a(this,"_monthsRegex")||dI.call(this),u?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=GO),this._monthsStrictRegex&&u?this._monthsStrictRegex:this._monthsRegex)}function dI(){function u(Lt,sn){return sn.length-Lt.length}var v=[],T=[],E=[],_,se,Ee,dt;for(_=0;_<12;_++)se=b([2e3,_]),Ee=ds(this.monthsShort(se,"")),dt=ds(this.months(se,"")),v.push(Ee),T.push(dt),E.push(dt),E.push(Ee);v.sort(u),T.sort(u),E.sort(u),this._monthsRegex=new RegExp("^("+E.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+T.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+v.join("|")+")","i")}function eD(u,v,T,E,_,se,Ee){var dt;return u<100&&u>=0?(dt=new Date(u+400,v,T,E,_,se,Ee),isFinite(dt.getFullYear())&&dt.setFullYear(u)):dt=new Date(u,v,T,E,_,se,Ee),dt}function vf(u){var v,T;return u<100&&u>=0?(T=Array.prototype.slice.call(arguments),T[0]=u+400,v=new Date(Date.UTC.apply(null,T)),isFinite(v.getUTCFullYear())&&v.setUTCFullYear(u)):v=new Date(Date.UTC.apply(null,arguments)),v}function sy(u,v,T){var E=7+v-T,_=(7+vf(u,0,E).getUTCDay()-v)%7;return-_+E-1}function uI(u,v,T,E,_){var se=(7+T-E)%7,Ee=sy(u,E,_),dt=1+7*(v-1)+se+Ee,Lt,sn;return dt<=0?(Lt=u-1,sn=yf(Lt)+dt):dt>yf(u)?(Lt=u+1,sn=dt-yf(u)):(Lt=u,sn=dt),{year:Lt,dayOfYear:sn}}function bf(u,v,T){var E=sy(u.year(),v,T),_=Math.floor((u.dayOfYear()-E-1)/7)+1,se,Ee;return _<1?(Ee=u.year()-1,se=_+hs(Ee,v,T)):_>hs(u.year(),v,T)?(se=_-hs(u.year(),v,T),Ee=u.year()+1):(Ee=u.year(),se=_),{week:se,year:Ee}}function hs(u,v,T){var E=sy(u,v,T),_=sy(u+1,v,T);return(yf(u)-E+_)/7}F("w",["ww",2],"wo","week"),F("W",["WW",2],"Wo","isoWeek"),ut("w",Wn,$u),ut("ww",Wn,Sn),ut("W",Wn,$u),ut("WW",Wn,Sn),pf(["w","ww","W","WW"],function(u,v,T,E){v[E.substr(0,1)]=tn(u)});function tD(u){return bf(u,this._week.dow,this._week.doy).week}var nD={dow:0,doy:6};function iD(){return this._week.dow}function rD(){return this._week.doy}function oD(u){var v=this.localeData().week(this);return u==null?v:this.add((u-v)*7,"d")}function aD(u){var v=bf(this,1,4).week;return u==null?v:this.add((u-v)*7,"d")}F("d",0,"do","day"),F("dd",0,0,function(u){return this.localeData().weekdaysMin(this,u)}),F("ddd",0,0,function(u){return this.localeData().weekdaysShort(this,u)}),F("dddd",0,0,function(u){return this.localeData().weekdays(this,u)}),F("e",0,0,"weekday"),F("E",0,0,"isoWeekday"),ut("d",Wn),ut("e",Wn),ut("E",Wn),ut("dd",function(u,v){return v.weekdaysMinRegex(u)}),ut("ddd",function(u,v){return v.weekdaysShortRegex(u)}),ut("dddd",function(u,v){return v.weekdaysRegex(u)}),pf(["dd","ddd","dddd"],function(u,v,T,E){var _=T._locale.weekdaysParse(u,E,T._strict);_!=null?v.d=_:O(T).invalidWeekday=u}),pf(["d","e","E"],function(u,v,T,E){v[E]=tn(u)});function sD(u,v){return typeof u!="string"?u:isNaN(u)?(u=v.weekdaysParse(u),typeof u=="number"?u:null):parseInt(u,10)}function cD(u,v){return typeof u=="string"?v.weekdaysParse(u)%7||7:isNaN(u)?null:u}function Cx(u,v){return u.slice(v,7).concat(u.slice(0,v))}var lD="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),mI="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),dD="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),uD=ff,mD=ff,hD=ff;function fD(u,v){var T=i(this._weekdays)?this._weekdays:this._weekdays[u&&u!==!0&&this._weekdays.isFormat.test(v)?"format":"standalone"];return u===!0?Cx(T,this._week.dow):u?T[u.day()]:T}function pD(u){return u===!0?Cx(this._weekdaysShort,this._week.dow):u?this._weekdaysShort[u.day()]:this._weekdaysShort}function yD(u){return u===!0?Cx(this._weekdaysMin,this._week.dow):u?this._weekdaysMin[u.day()]:this._weekdaysMin}function gD(u,v,T){var E,_,se,Ee=u.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],E=0;E<7;++E)se=b([2e3,1]).day(E),this._minWeekdaysParse[E]=this.weekdaysMin(se,"").toLocaleLowerCase(),this._shortWeekdaysParse[E]=this.weekdaysShort(se,"").toLocaleLowerCase(),this._weekdaysParse[E]=this.weekdays(se,"").toLocaleLowerCase();return T?v==="dddd"?(_=gi.call(this._weekdaysParse,Ee),_!==-1?_:null):v==="ddd"?(_=gi.call(this._shortWeekdaysParse,Ee),_!==-1?_:null):(_=gi.call(this._minWeekdaysParse,Ee),_!==-1?_:null):v==="dddd"?(_=gi.call(this._weekdaysParse,Ee),_!==-1||(_=gi.call(this._shortWeekdaysParse,Ee),_!==-1)?_:(_=gi.call(this._minWeekdaysParse,Ee),_!==-1?_:null)):v==="ddd"?(_=gi.call(this._shortWeekdaysParse,Ee),_!==-1||(_=gi.call(this._weekdaysParse,Ee),_!==-1)?_:(_=gi.call(this._minWeekdaysParse,Ee),_!==-1?_:null)):(_=gi.call(this._minWeekdaysParse,Ee),_!==-1||(_=gi.call(this._weekdaysParse,Ee),_!==-1)?_:(_=gi.call(this._shortWeekdaysParse,Ee),_!==-1?_:null))}function vD(u,v,T){var E,_,se;if(this._weekdaysParseExact)return gD.call(this,u,v,T);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),E=0;E<7;E++){if(_=b([2e3,1]).day(E),T&&!this._fullWeekdaysParse[E]&&(this._fullWeekdaysParse[E]=new RegExp("^"+this.weekdays(_,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[E]=new RegExp("^"+this.weekdaysShort(_,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[E]=new RegExp("^"+this.weekdaysMin(_,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[E]||(se="^"+this.weekdays(_,"")+"|^"+this.weekdaysShort(_,"")+"|^"+this.weekdaysMin(_,""),this._weekdaysParse[E]=new RegExp(se.replace(".",""),"i")),T&&v==="dddd"&&this._fullWeekdaysParse[E].test(u))return E;if(T&&v==="ddd"&&this._shortWeekdaysParse[E].test(u))return E;if(T&&v==="dd"&&this._minWeekdaysParse[E].test(u))return E;if(!T&&this._weekdaysParse[E].test(u))return E}}function bD(u){if(!this.isValid())return u!=null?this:NaN;var v=gf(this,"Day");return u!=null?(u=sD(u,this.localeData()),this.add(u-v,"d")):v}function xD(u){if(!this.isValid())return u!=null?this:NaN;var v=(this.day()+7-this.localeData()._week.dow)%7;return u==null?v:this.add(u-v,"d")}function wD(u){if(!this.isValid())return u!=null?this:NaN;if(u!=null){var v=cD(u,this.localeData());return this.day(this.day()%7?v:v-7)}else return this.day()||7}function TD(u){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Sx.call(this),u?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=uD),this._weekdaysStrictRegex&&u?this._weekdaysStrictRegex:this._weekdaysRegex)}function CD(u){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Sx.call(this),u?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=mD),this._weekdaysShortStrictRegex&&u?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function SD(u){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Sx.call(this),u?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=hD),this._weekdaysMinStrictRegex&&u?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Sx(){function u(Mr,vs){return vs.length-Mr.length}var v=[],T=[],E=[],_=[],se,Ee,dt,Lt,sn;for(se=0;se<7;se++)Ee=b([2e3,1]).day(se),dt=ds(this.weekdaysMin(Ee,"")),Lt=ds(this.weekdaysShort(Ee,"")),sn=ds(this.weekdays(Ee,"")),v.push(dt),T.push(Lt),E.push(sn),_.push(dt),_.push(Lt),_.push(sn);v.sort(u),T.sort(u),E.sort(u),_.sort(u),this._weekdaysRegex=new RegExp("^("+_.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+E.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+T.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+v.join("|")+")","i")}function Ix(){return this.hours()%12||12}function ID(){return this.hours()||24}F("H",["HH",2],0,"hour"),F("h",["hh",2],0,Ix),F("k",["kk",2],0,ID),F("hmm",0,0,function(){return""+Ix.apply(this)+St(this.minutes(),2)}),F("hmmss",0,0,function(){return""+Ix.apply(this)+St(this.minutes(),2)+St(this.seconds(),2)}),F("Hmm",0,0,function(){return""+this.hours()+St(this.minutes(),2)}),F("Hmmss",0,0,function(){return""+this.hours()+St(this.minutes(),2)+St(this.seconds(),2)});function hI(u,v){F(u,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),v)})}hI("a",!0),hI("A",!1);function fI(u,v){return v._meridiemParse}ut("a",fI),ut("A",fI),ut("H",Wn,xx),ut("h",Wn,$u),ut("k",Wn,$u),ut("HH",Wn,Sn),ut("hh",Wn,Sn),ut("kk",Wn,Sn),ut("hmm",nI),ut("hmmss",iI),ut("Hmm",nI),ut("Hmmss",iI),En(["H","HH"],Ri),En(["k","kk"],function(u,v,T){var E=tn(u);v[Ri]=E===24?0:E}),En(["a","A"],function(u,v,T){T._isPm=T._locale.isPM(u),T._meridiem=u}),En(["h","hh"],function(u,v,T){v[Ri]=tn(u),O(T).bigHour=!0}),En("hmm",function(u,v,T){var E=u.length-2;v[Ri]=tn(u.substr(0,E)),v[Yo]=tn(u.substr(E)),O(T).bigHour=!0}),En("hmmss",function(u,v,T){var E=u.length-4,_=u.length-2;v[Ri]=tn(u.substr(0,E)),v[Yo]=tn(u.substr(E,2)),v[ms]=tn(u.substr(_)),O(T).bigHour=!0}),En("Hmm",function(u,v,T){var E=u.length-2;v[Ri]=tn(u.substr(0,E)),v[Yo]=tn(u.substr(E))}),En("Hmmss",function(u,v,T){var E=u.length-4,_=u.length-2;v[Ri]=tn(u.substr(0,E)),v[Yo]=tn(u.substr(E,2)),v[ms]=tn(u.substr(_))});function AD(u){return(u+"").toLowerCase().charAt(0)==="p"}var MD=/[ap]\.?m?\.?/i,ED=Wu("Hours",!0);function OD(u,v,T){return u>11?T?"pm":"PM":T?"am":"AM"}var pI={calendar:Le,longDateFormat:pi,invalidDate:Ar,ordinal:Ia,dayOfMonthOrdinalParse:sr,relativeTime:le,months:HO,monthsShort:aI,week:nD,weekdays:lD,weekdaysMin:dD,weekdaysShort:mI,meridiemParse:MD},Xn={},xf={},wf;function DD(u,v){var T,E=Math.min(u.length,v.length);for(T=0;T<E;T+=1)if(u[T]!==v[T])return T;return E}function yI(u){return u&&u.toLowerCase().replace("_","-")}function RD(u){for(var v=0,T,E,_,se;v<u.length;){for(se=yI(u[v]).split("-"),T=se.length,E=yI(u[v+1]),E=E?E.split("-"):null;T>0;){if(_=cy(se.slice(0,T).join("-")),_)return _;if(E&&E.length>=T&&DD(se,E)>=T-1)break;T--}v++}return wf}function ND(u){return!!(u&&u.match("^[^/\\\\]*$"))}function cy(u){var v=null,T;if(Xn[u]===void 0&&typeof hf<"u"&&hf&&hf.exports&&ND(u))try{v=wf._abbr,T=require,T("./locale/"+u),sc(v)}catch{Xn[u]=null}return Xn[u]}function sc(u,v){var T;return u&&(c(v)?T=fs(u):T=Ax(u,v),T?wf=T:typeof console<"u"&&console.warn&&console.warn("Locale "+u+" not found. Did you forget to load it?")),wf._abbr}function Ax(u,v){if(v!==null){var T,E=pI;if(v.abbr=u,Xn[u]!=null)te("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),E=Xn[u]._config;else if(v.parentLocale!=null)if(Xn[v.parentLocale]!=null)E=Xn[v.parentLocale]._config;else if(T=cy(v.parentLocale),T!=null)E=T._config;else return xf[v.parentLocale]||(xf[v.parentLocale]=[]),xf[v.parentLocale].push({name:u,config:v}),null;return Xn[u]=new he(pe(E,v)),xf[u]&&xf[u].forEach(function(_){Ax(_.name,_.config)}),sc(u),Xn[u]}else return delete Xn[u],null}function PD(u,v){if(v!=null){var T,E,_=pI;Xn[u]!=null&&Xn[u].parentLocale!=null?Xn[u].set(pe(Xn[u]._config,v)):(E=cy(u),E!=null&&(_=E._config),v=pe(_,v),E==null&&(v.abbr=u),T=new he(v),T.parentLocale=Xn[u],Xn[u]=T),sc(u)}else Xn[u]!=null&&(Xn[u].parentLocale!=null?(Xn[u]=Xn[u].parentLocale,u===sc()&&sc(u)):Xn[u]!=null&&delete Xn[u]);return Xn[u]}function fs(u){var v;if(u&&u._locale&&u._locale._abbr&&(u=u._locale._abbr),!u)return wf;if(!i(u)){if(v=cy(u),v)return v;u=[u]}return RD(u)}function kD(){return Ce(Xn)}function Mx(u){var v,T=u._a;return T&&O(u).overflow===-2&&(v=T[us]<0||T[us]>11?us:T[Aa]<1||T[Aa]>Tx(T[cr],T[us])?Aa:T[Ri]<0||T[Ri]>24||T[Ri]===24&&(T[Yo]!==0||T[ms]!==0||T[fl]!==0)?Ri:T[Yo]<0||T[Yo]>59?Yo:T[ms]<0||T[ms]>59?ms:T[fl]<0||T[fl]>999?fl:-1,O(u)._overflowDayOfYear&&(v<cr||v>Aa)&&(v=Aa),O(u)._overflowWeeks&&v===-1&&(v=UO),O(u)._overflowWeekday&&v===-1&&(v=VO),O(u).overflow=v),u}var FD=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,LD=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,BD=/Z|[+-]\d\d(?::?\d\d)?/,ly=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ex=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],UD=/^\/?Date\((-?\d+)/i,VD=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,qD={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function gI(u){var v,T,E=u._i,_=FD.exec(E)||LD.exec(E),se,Ee,dt,Lt,sn=ly.length,Mr=Ex.length;if(_){for(O(u).iso=!0,v=0,T=sn;v<T;v++)if(ly[v][1].exec(_[1])){Ee=ly[v][0],se=ly[v][2]!==!1;break}if(Ee==null){u._isValid=!1;return}if(_[3]){for(v=0,T=Mr;v<T;v++)if(Ex[v][1].exec(_[3])){dt=(_[2]||" ")+Ex[v][0];break}if(dt==null){u._isValid=!1;return}}if(!se&&dt!=null){u._isValid=!1;return}if(_[4])if(BD.exec(_[4]))Lt="Z";else{u._isValid=!1;return}u._f=Ee+(dt||"")+(Lt||""),Dx(u)}else u._isValid=!1}function _D(u,v,T,E,_,se){var Ee=[$D(u),aI.indexOf(v),parseInt(T,10),parseInt(E,10),parseInt(_,10)];return se&&Ee.push(parseInt(se,10)),Ee}function $D(u){var v=parseInt(u,10);return v<=49?2e3+v:v<=999?1900+v:v}function WD(u){return u.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function HD(u,v,T){if(u){var E=mI.indexOf(u),_=new Date(v[0],v[1],v[2]).getDay();if(E!==_)return O(T).weekdayMismatch=!0,T._isValid=!1,!1}return!0}function jD(u,v,T){if(u)return qD[u];if(v)return 0;var E=parseInt(T,10),_=E%100,se=(E-_)/100;return se*60+_}function vI(u){var v=VD.exec(WD(u._i)),T;if(v){if(T=_D(v[4],v[3],v[2],v[5],v[6],v[7]),!HD(v[1],T,u))return;u._a=T,u._tzm=jD(v[8],v[9],v[10]),u._d=vf.apply(null,u._a),u._d.setUTCMinutes(u._d.getUTCMinutes()-u._tzm),O(u).rfc2822=!0}else u._isValid=!1}function GD(u){var v=UD.exec(u._i);if(v!==null){u._d=new Date(+v[1]);return}if(gI(u),u._isValid===!1)delete u._isValid;else return;if(vI(u),u._isValid===!1)delete u._isValid;else return;u._strict?u._isValid=!1:t.createFromInputFallback(u)}t.createFromInputFallback=q("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(u){u._d=new Date(u._i+(u._useUTC?" UTC":""))});function Hu(u,v,T){return u??v??T}function zD(u){var v=new Date(t.now());return u._useUTC?[v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()]:[v.getFullYear(),v.getMonth(),v.getDate()]}function Ox(u){var v,T,E=[],_,se,Ee;if(!u._d){for(_=zD(u),u._w&&u._a[Aa]==null&&u._a[us]==null&&KD(u),u._dayOfYear!=null&&(Ee=Hu(u._a[cr],_[cr]),(u._dayOfYear>yf(Ee)||u._dayOfYear===0)&&(O(u)._overflowDayOfYear=!0),T=vf(Ee,0,u._dayOfYear),u._a[us]=T.getUTCMonth(),u._a[Aa]=T.getUTCDate()),v=0;v<3&&u._a[v]==null;++v)u._a[v]=E[v]=_[v];for(;v<7;v++)u._a[v]=E[v]=u._a[v]==null?v===2?1:0:u._a[v];u._a[Ri]===24&&u._a[Yo]===0&&u._a[ms]===0&&u._a[fl]===0&&(u._nextDay=!0,u._a[Ri]=0),u._d=(u._useUTC?vf:eD).apply(null,E),se=u._useUTC?u._d.getUTCDay():u._d.getDay(),u._tzm!=null&&u._d.setUTCMinutes(u._d.getUTCMinutes()-u._tzm),u._nextDay&&(u._a[Ri]=24),u._w&&typeof u._w.d<"u"&&u._w.d!==se&&(O(u).weekdayMismatch=!0)}}function KD(u){var v,T,E,_,se,Ee,dt,Lt,sn;v=u._w,v.GG!=null||v.W!=null||v.E!=null?(se=1,Ee=4,T=Hu(v.GG,u._a[cr],bf(Hn(),1,4).year),E=Hu(v.W,1),_=Hu(v.E,1),(_<1||_>7)&&(Lt=!0)):(se=u._locale._week.dow,Ee=u._locale._week.doy,sn=bf(Hn(),se,Ee),T=Hu(v.gg,u._a[cr],sn.year),E=Hu(v.w,sn.week),v.d!=null?(_=v.d,(_<0||_>6)&&(Lt=!0)):v.e!=null?(_=v.e+se,(v.e<0||v.e>6)&&(Lt=!0)):_=se),E<1||E>hs(T,se,Ee)?O(u)._overflowWeeks=!0:Lt!=null?O(u)._overflowWeekday=!0:(dt=uI(T,E,_,se,Ee),u._a[cr]=dt.year,u._dayOfYear=dt.dayOfYear)}t.ISO_8601=function(){},t.RFC_2822=function(){};function Dx(u){if(u._f===t.ISO_8601){gI(u);return}if(u._f===t.RFC_2822){vI(u);return}u._a=[],O(u).empty=!0;var v=""+u._i,T,E,_,se,Ee,dt=v.length,Lt=0,sn,Mr;for(_=Mn(u._f,u._locale).match(qt)||[],Mr=_.length,T=0;T<Mr;T++)se=_[T],E=(v.match(FO(se,u))||[])[0],E&&(Ee=v.substr(0,v.indexOf(E)),Ee.length>0&&O(u).unusedInput.push(Ee),v=v.slice(v.indexOf(E)+E.length),Lt+=E.length),ft[se]?(E?O(u).empty=!1:O(u).unusedTokens.push(se),BO(se,E,u)):u._strict&&!E&&O(u).unusedTokens.push(se);O(u).charsLeftOver=dt-Lt,v.length>0&&O(u).unusedInput.push(v),u._a[Ri]<=12&&O(u).bigHour===!0&&u._a[Ri]>0&&(O(u).bigHour=void 0),O(u).parsedDateParts=u._a.slice(0),O(u).meridiem=u._meridiem,u._a[Ri]=XD(u._locale,u._a[Ri],u._meridiem),sn=O(u).era,sn!==null&&(u._a[cr]=u._locale.erasConvertYear(sn,u._a[cr])),Ox(u),Mx(u)}function XD(u,v,T){var E;return T==null?v:u.meridiemHour!=null?u.meridiemHour(v,T):(u.isPM!=null&&(E=u.isPM(T),E&&v<12&&(v+=12),!E&&v===12&&(v=0)),v)}function YD(u){var v,T,E,_,se,Ee,dt=!1,Lt=u._f.length;if(Lt===0){O(u).invalidFormat=!0,u._d=new Date(NaN);return}for(_=0;_<Lt;_++)se=0,Ee=!1,v=oe({},u),u._useUTC!=null&&(v._useUTC=u._useUTC),v._f=u._f[_],Dx(v),y(v)&&(Ee=!0),se+=O(v).charsLeftOver,se+=O(v).unusedTokens.length*10,O(v).score=se,dt?se<E&&(E=se,T=v):(E==null||se<E||Ee)&&(E=se,T=v,Ee&&(dt=!0));g(u,T||v)}function ZD(u){if(!u._d){var v=pt(u._i),T=v.day===void 0?v.date:v.day;u._a=f([v.year,v.month,T,v.hour,v.minute,v.second,v.millisecond],function(E){return E&&parseInt(E,10)}),Ox(u)}}function QD(u){var v=new z(Mx(bI(u)));return v._nextDay&&(v.add(1,"d"),v._nextDay=void 0),v}function bI(u){var v=u._i,T=u._f;return u._locale=u._locale||fs(u._l),v===null||T===void 0&&v===""?S({nullInput:!0}):(typeof v=="string"&&(u._i=v=u._locale.preparse(v)),Q(v)?new z(Mx(v)):(d(v)?u._d=v:i(T)?YD(u):T?Dx(u):JD(u),y(u)||(u._d=null),u))}function JD(u){var v=u._i;c(v)?u._d=new Date(t.now()):d(v)?u._d=new Date(v.valueOf()):typeof v=="string"?GD(u):i(v)?(u._a=f(v.slice(0),function(T){return parseInt(T,10)}),Ox(u)):r(v)?ZD(u):l(v)?u._d=new Date(v):t.createFromInputFallback(u)}function xI(u,v,T,E,_){var se={};return(v===!0||v===!1)&&(E=v,v=void 0),(T===!0||T===!1)&&(E=T,T=void 0),(r(u)&&s(u)||i(u)&&u.length===0)&&(u=void 0),se._isAMomentObject=!0,se._useUTC=se._isUTC=_,se._l=T,se._i=u,se._f=v,se._strict=E,QD(se)}function Hn(u,v,T,E){return xI(u,v,T,E,!1)}var eR=q("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var u=Hn.apply(null,arguments);return this.isValid()&&u.isValid()?u<this?this:u:S()}),tR=q("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var u=Hn.apply(null,arguments);return this.isValid()&&u.isValid()?u>this?this:u:S()});function wI(u,v){var T,E;if(v.length===1&&i(v[0])&&(v=v[0]),!v.length)return Hn();for(T=v[0],E=1;E<v.length;++E)(!v[E].isValid()||v[E][u](T))&&(T=v[E]);return T}function nR(){var u=[].slice.call(arguments,0);return wI("isBefore",u)}function iR(){var u=[].slice.call(arguments,0);return wI("isAfter",u)}var rR=function(){return Date.now?Date.now():+new Date},Tf=["year","quarter","month","week","day","hour","minute","second","millisecond"];function oR(u){var v,T=!1,E,_=Tf.length;for(v in u)if(a(u,v)&&!(gi.call(Tf,v)!==-1&&(u[v]==null||!isNaN(u[v]))))return!1;for(E=0;E<_;++E)if(u[Tf[E]]){if(T)return!1;parseFloat(u[Tf[E]])!==tn(u[Tf[E]])&&(T=!0)}return!0}function aR(){return this._isValid}function sR(){return Zo(NaN)}function dy(u){var v=pt(u),T=v.year||0,E=v.quarter||0,_=v.month||0,se=v.week||v.isoWeek||0,Ee=v.day||0,dt=v.hour||0,Lt=v.minute||0,sn=v.second||0,Mr=v.millisecond||0;this._isValid=oR(v),this._milliseconds=+Mr+sn*1e3+Lt*6e4+dt*1e3*60*60,this._days=+Ee+se*7,this._months=+_+E*3+T*12,this._data={},this._locale=fs(),this._bubble()}function uy(u){return u instanceof dy}function Rx(u){return u<0?Math.round(-1*u)*-1:Math.round(u)}function cR(u,v,T){var E=Math.min(u.length,v.length),_=Math.abs(u.length-v.length),se=0,Ee;for(Ee=0;Ee<E;Ee++)(T&&u[Ee]!==v[Ee]||!T&&tn(u[Ee])!==tn(v[Ee]))&&se++;return se+_}function TI(u,v){F(u,0,0,function(){var T=this.utcOffset(),E="+";return T<0&&(T=-T,E="-"),E+St(~~(T/60),2)+v+St(~~T%60,2)})}TI("Z",":"),TI("ZZ",""),ut("Z",ry),ut("ZZ",ry),En(["Z","ZZ"],function(u,v,T){T._useUTC=!0,T._tzm=Nx(ry,u)});var lR=/([\+\-]|\d\d)/gi;function Nx(u,v){var T=(v||"").match(u),E,_,se;return T===null?null:(E=T[T.length-1]||[],_=(E+"").match(lR)||["-",0,0],se=+(_[1]*60)+tn(_[2]),se===0?0:_[0]==="+"?se:-se)}function Px(u,v){var T,E;return v._isUTC?(T=v.clone(),E=(Q(u)||d(u)?u.valueOf():Hn(u).valueOf())-T.valueOf(),T._d.setTime(T._d.valueOf()+E),t.updateOffset(T,!1),T):Hn(u).local()}function kx(u){return-Math.round(u._d.getTimezoneOffset())}t.updateOffset=function(){};function dR(u,v,T){var E=this._offset||0,_;if(!this.isValid())return u!=null?this:NaN;if(u!=null){if(typeof u=="string"){if(u=Nx(ry,u),u===null)return this}else Math.abs(u)<16&&!T&&(u=u*60);return!this._isUTC&&v&&(_=kx(this)),this._offset=u,this._isUTC=!0,_!=null&&this.add(_,"m"),E!==u&&(!v||this._changeInProgress?AI(this,Zo(u-E,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?E:kx(this)}function uR(u,v){return u!=null?(typeof u!="string"&&(u=-u),this.utcOffset(u,v),this):-this.utcOffset()}function mR(u){return this.utcOffset(0,u)}function hR(u){return this._isUTC&&(this.utcOffset(0,u),this._isUTC=!1,u&&this.subtract(kx(this),"m")),this}function fR(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var u=Nx(PO,this._i);u!=null?this.utcOffset(u):this.utcOffset(0,!0)}return this}function pR(u){return this.isValid()?(u=u?Hn(u).utcOffset():0,(this.utcOffset()-u)%60===0):!1}function yR(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function gR(){if(!c(this._isDSTShifted))return this._isDSTShifted;var u={},v;return oe(u,this),u=bI(u),u._a?(v=u._isUTC?b(u._a):Hn(u._a),this._isDSTShifted=this.isValid()&&cR(u._a,v.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function vR(){return this.isValid()?!this._isUTC:!1}function bR(){return this.isValid()?this._isUTC:!1}function CI(){return this.isValid()?this._isUTC&&this._offset===0:!1}var xR=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,wR=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Zo(u,v){var T=u,E=null,_,se,Ee;return uy(u)?T={ms:u._milliseconds,d:u._days,M:u._months}:l(u)||!isNaN(+u)?(T={},v?T[v]=+u:T.milliseconds=+u):(E=xR.exec(u))?(_=E[1]==="-"?-1:1,T={y:0,d:tn(E[Aa])*_,h:tn(E[Ri])*_,m:tn(E[Yo])*_,s:tn(E[ms])*_,ms:tn(Rx(E[fl]*1e3))*_}):(E=wR.exec(u))?(_=E[1]==="-"?-1:1,T={y:pl(E[2],_),M:pl(E[3],_),w:pl(E[4],_),d:pl(E[5],_),h:pl(E[6],_),m:pl(E[7],_),s:pl(E[8],_)}):T==null?T={}:typeof T=="object"&&("from"in T||"to"in T)&&(Ee=TR(Hn(T.from),Hn(T.to)),T={},T.ms=Ee.milliseconds,T.M=Ee.months),se=new dy(T),uy(u)&&a(u,"_locale")&&(se._locale=u._locale),uy(u)&&a(u,"_isValid")&&(se._isValid=u._isValid),se}Zo.fn=dy.prototype,Zo.invalid=sR;function pl(u,v){var T=u&&parseFloat(u.replace(",","."));return(isNaN(T)?0:T)*v}function SI(u,v){var T={};return T.months=v.month()-u.month()+(v.year()-u.year())*12,u.clone().add(T.months,"M").isAfter(v)&&--T.months,T.milliseconds=+v-+u.clone().add(T.months,"M"),T}function TR(u,v){var T;return u.isValid()&&v.isValid()?(v=Px(v,u),u.isBefore(v)?T=SI(u,v):(T=SI(v,u),T.milliseconds=-T.milliseconds,T.months=-T.months),T):{milliseconds:0,months:0}}function II(u,v){return function(T,E){var _,se;return E!==null&&!isNaN(+E)&&(te(v,"moment()."+v+"(period, number) is deprecated. Please use moment()."+v+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),se=T,T=E,E=se),_=Zo(T,E),AI(this,_,u),this}}function AI(u,v,T,E){var _=v._milliseconds,se=Rx(v._days),Ee=Rx(v._months);u.isValid()&&(E=E??!0,Ee&&cI(u,gf(u,"Month")+Ee*T),se&&oI(u,"Date",gf(u,"Date")+se*T),_&&u._d.setTime(u._d.valueOf()+_*T),E&&t.updateOffset(u,se||Ee))}var CR=II(1,"add"),SR=II(-1,"subtract");function MI(u){return typeof u=="string"||u instanceof String}function IR(u){return Q(u)||d(u)||MI(u)||l(u)||MR(u)||AR(u)||u===null||u===void 0}function AR(u){var v=r(u)&&!s(u),T=!1,E=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],_,se,Ee=E.length;for(_=0;_<Ee;_+=1)se=E[_],T=T||a(u,se);return v&&T}function MR(u){var v=i(u),T=!1;return v&&(T=u.filter(function(E){return!l(E)&&MI(u)}).length===0),v&&T}function ER(u){var v=r(u)&&!s(u),T=!1,E=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],_,se;for(_=0;_<E.length;_+=1)se=E[_],T=T||a(u,se);return v&&T}function OR(u,v){var T=u.diff(v,"days",!0);return T<-6?"sameElse":T<-1?"lastWeek":T<0?"lastDay":T<1?"sameDay":T<2?"nextDay":T<7?"nextWeek":"sameElse"}function DR(u,v){arguments.length===1&&(arguments[0]?IR(arguments[0])?(u=arguments[0],v=void 0):ER(arguments[0])&&(v=arguments[0],u=void 0):(u=void 0,v=void 0));var T=u||Hn(),E=Px(T,this).startOf("day"),_=t.calendarFormat(this,E)||"sameElse",se=v&&(K(v[_])?v[_].call(this,T):v[_]);return this.format(se||this.localeData().calendar(_,this,Hn(T)))}function RR(){return new z(this)}function NR(u,v){var T=Q(u)?u:Hn(u);return this.isValid()&&T.isValid()?(v=ge(v)||"millisecond",v==="millisecond"?this.valueOf()>T.valueOf():T.valueOf()<this.clone().startOf(v).valueOf()):!1}function PR(u,v){var T=Q(u)?u:Hn(u);return this.isValid()&&T.isValid()?(v=ge(v)||"millisecond",v==="millisecond"?this.valueOf()<T.valueOf():this.clone().endOf(v).valueOf()<T.valueOf()):!1}function kR(u,v,T,E){var _=Q(u)?u:Hn(u),se=Q(v)?v:Hn(v);return this.isValid()&&_.isValid()&&se.isValid()?(E=E||"()",(E[0]==="("?this.isAfter(_,T):!this.isBefore(_,T))&&(E[1]===")"?this.isBefore(se,T):!this.isAfter(se,T))):!1}function FR(u,v){var T=Q(u)?u:Hn(u),E;return this.isValid()&&T.isValid()?(v=ge(v)||"millisecond",v==="millisecond"?this.valueOf()===T.valueOf():(E=T.valueOf(),this.clone().startOf(v).valueOf()<=E&&E<=this.clone().endOf(v).valueOf())):!1}function LR(u,v){return this.isSame(u,v)||this.isAfter(u,v)}function BR(u,v){return this.isSame(u,v)||this.isBefore(u,v)}function UR(u,v,T){var E,_,se;if(!this.isValid())return NaN;if(E=Px(u,this),!E.isValid())return NaN;switch(_=(E.utcOffset()-this.utcOffset())*6e4,v=ge(v),v){case"year":se=my(this,E)/12;break;case"month":se=my(this,E);break;case"quarter":se=my(this,E)/3;break;case"second":se=(this-E)/1e3;break;case"minute":se=(this-E)/6e4;break;case"hour":se=(this-E)/36e5;break;case"day":se=(this-E-_)/864e5;break;case"week":se=(this-E-_)/6048e5;break;default:se=this-E}return T?se:To(se)}function my(u,v){if(u.date()<v.date())return-my(v,u);var T=(v.year()-u.year())*12+(v.month()-u.month()),E=u.clone().add(T,"months"),_,se;return v-E<0?(_=u.clone().add(T-1,"months"),se=(v-E)/(E-_)):(_=u.clone().add(T+1,"months"),se=(v-E)/(_-E)),-(T+se)||0}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function VR(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function qR(u){if(!this.isValid())return null;var v=u!==!0,T=v?this.clone().utc():this;return T.year()<0||T.year()>9999?_t(T,v?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):K(Date.prototype.toISOString)?v?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",_t(T,"Z")):_t(T,v?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function _R(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var u="moment",v="",T,E,_,se;return this.isLocal()||(u=this.utcOffset()===0?"moment.utc":"moment.parseZone",v="Z"),T="["+u+'("]',E=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",_="-MM-DD[T]HH:mm:ss.SSS",se=v+'[")]',this.format(T+E+_+se)}function $R(u){u||(u=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var v=_t(this,u);return this.localeData().postformat(v)}function WR(u,v){return this.isValid()&&(Q(u)&&u.isValid()||Hn(u).isValid())?Zo({to:this,from:u}).locale(this.locale()).humanize(!v):this.localeData().invalidDate()}function HR(u){return this.from(Hn(),u)}function jR(u,v){return this.isValid()&&(Q(u)&&u.isValid()||Hn(u).isValid())?Zo({from:this,to:u}).locale(this.locale()).humanize(!v):this.localeData().invalidDate()}function GR(u){return this.to(Hn(),u)}function EI(u){var v;return u===void 0?this._locale._abbr:(v=fs(u),v!=null&&(this._locale=v),this)}var OI=q("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(u){return u===void 0?this.localeData():this.locale(u)});function DI(){return this._locale}var hy=1e3,ju=60*hy,fy=60*ju,RI=(365*400+97)*24*fy;function Gu(u,v){return(u%v+v)%v}function NI(u,v,T){return u<100&&u>=0?new Date(u+400,v,T)-RI:new Date(u,v,T).valueOf()}function PI(u,v,T){return u<100&&u>=0?Date.UTC(u+400,v,T)-RI:Date.UTC(u,v,T)}function zR(u){var v,T;if(u=ge(u),u===void 0||u==="millisecond"||!this.isValid())return this;switch(T=this._isUTC?PI:NI,u){case"year":v=T(this.year(),0,1);break;case"quarter":v=T(this.year(),this.month()-this.month()%3,1);break;case"month":v=T(this.year(),this.month(),1);break;case"week":v=T(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":v=T(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":v=T(this.year(),this.month(),this.date());break;case"hour":v=this._d.valueOf(),v-=Gu(v+(this._isUTC?0:this.utcOffset()*ju),fy);break;case"minute":v=this._d.valueOf(),v-=Gu(v,ju);break;case"second":v=this._d.valueOf(),v-=Gu(v,hy);break}return this._d.setTime(v),t.updateOffset(this,!0),this}function KR(u){var v,T;if(u=ge(u),u===void 0||u==="millisecond"||!this.isValid())return this;switch(T=this._isUTC?PI:NI,u){case"year":v=T(this.year()+1,0,1)-1;break;case"quarter":v=T(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":v=T(this.year(),this.month()+1,1)-1;break;case"week":v=T(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":v=T(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":v=T(this.year(),this.month(),this.date()+1)-1;break;case"hour":v=this._d.valueOf(),v+=fy-Gu(v+(this._isUTC?0:this.utcOffset()*ju),fy)-1;break;case"minute":v=this._d.valueOf(),v+=ju-Gu(v,ju)-1;break;case"second":v=this._d.valueOf(),v+=hy-Gu(v,hy)-1;break}return this._d.setTime(v),t.updateOffset(this,!0),this}function XR(){return this._d.valueOf()-(this._offset||0)*6e4}function YR(){return Math.floor(this.valueOf()/1e3)}function ZR(){return new Date(this.valueOf())}function QR(){var u=this;return[u.year(),u.month(),u.date(),u.hour(),u.minute(),u.second(),u.millisecond()]}function JR(){var u=this;return{years:u.year(),months:u.month(),date:u.date(),hours:u.hours(),minutes:u.minutes(),seconds:u.seconds(),milliseconds:u.milliseconds()}}function eN(){return this.isValid()?this.toISOString():null}function tN(){return y(this)}function nN(){return g({},O(this))}function iN(){return O(this).overflow}function rN(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}F("N",0,0,"eraAbbr"),F("NN",0,0,"eraAbbr"),F("NNN",0,0,"eraAbbr"),F("NNNN",0,0,"eraName"),F("NNNNN",0,0,"eraNarrow"),F("y",["y",1],"yo","eraYear"),F("y",["yy",2],0,"eraYear"),F("y",["yyy",3],0,"eraYear"),F("y",["yyyy",4],0,"eraYear"),ut("N",Fx),ut("NN",Fx),ut("NNN",Fx),ut("NNNN",pN),ut("NNNNN",yN),En(["N","NN","NNN","NNNN","NNNNN"],function(u,v,T,E){var _=T._locale.erasParse(u,E,T._strict);_?O(T).era=_:O(T).invalidEra=u}),ut("y",_u),ut("yy",_u),ut("yyy",_u),ut("yyyy",_u),ut("yo",gN),En(["y","yy","yyy","yyyy"],cr),En(["yo"],function(u,v,T,E){var _;T._locale._eraYearOrdinalRegex&&(_=u.match(T._locale._eraYearOrdinalRegex)),T._locale.eraYearOrdinalParse?v[cr]=T._locale.eraYearOrdinalParse(u,_):v[cr]=parseInt(u,10)});function oN(u,v){var T,E,_,se=this._eras||fs("en")._eras;for(T=0,E=se.length;T<E;++T){switch(typeof se[T].since){case"string":_=t(se[T].since).startOf("day"),se[T].since=_.valueOf();break}switch(typeof se[T].until){case"undefined":se[T].until=1/0;break;case"string":_=t(se[T].until).startOf("day").valueOf(),se[T].until=_.valueOf();break}}return se}function aN(u,v,T){var E,_,se=this.eras(),Ee,dt,Lt;for(u=u.toUpperCase(),E=0,_=se.length;E<_;++E)if(Ee=se[E].name.toUpperCase(),dt=se[E].abbr.toUpperCase(),Lt=se[E].narrow.toUpperCase(),T)switch(v){case"N":case"NN":case"NNN":if(dt===u)return se[E];break;case"NNNN":if(Ee===u)return se[E];break;case"NNNNN":if(Lt===u)return se[E];break}else if([Ee,dt,Lt].indexOf(u)>=0)return se[E]}function sN(u,v){var T=u.since<=u.until?1:-1;return v===void 0?t(u.since).year():t(u.since).year()+(v-u.offset)*T}function cN(){var u,v,T,E=this.localeData().eras();for(u=0,v=E.length;u<v;++u)if(T=this.clone().startOf("day").valueOf(),E[u].since<=T&&T<=E[u].until||E[u].until<=T&&T<=E[u].since)return E[u].name;return""}function lN(){var u,v,T,E=this.localeData().eras();for(u=0,v=E.length;u<v;++u)if(T=this.clone().startOf("day").valueOf(),E[u].since<=T&&T<=E[u].until||E[u].until<=T&&T<=E[u].since)return E[u].narrow;return""}function dN(){var u,v,T,E=this.localeData().eras();for(u=0,v=E.length;u<v;++u)if(T=this.clone().startOf("day").valueOf(),E[u].since<=T&&T<=E[u].until||E[u].until<=T&&T<=E[u].since)return E[u].abbr;return""}function uN(){var u,v,T,E,_=this.localeData().eras();for(u=0,v=_.length;u<v;++u)if(T=_[u].since<=_[u].until?1:-1,E=this.clone().startOf("day").valueOf(),_[u].since<=E&&E<=_[u].until||_[u].until<=E&&E<=_[u].since)return(this.year()-t(_[u].since).year())*T+_[u].offset;return this.year()}function mN(u){return a(this,"_erasNameRegex")||Lx.call(this),u?this._erasNameRegex:this._erasRegex}function hN(u){return a(this,"_erasAbbrRegex")||Lx.call(this),u?this._erasAbbrRegex:this._erasRegex}function fN(u){return a(this,"_erasNarrowRegex")||Lx.call(this),u?this._erasNarrowRegex:this._erasRegex}function Fx(u,v){return v.erasAbbrRegex(u)}function pN(u,v){return v.erasNameRegex(u)}function yN(u,v){return v.erasNarrowRegex(u)}function gN(u,v){return v._eraYearOrdinalRegex||_u}function Lx(){var u=[],v=[],T=[],E=[],_,se,Ee,dt,Lt,sn=this.eras();for(_=0,se=sn.length;_<se;++_)Ee=ds(sn[_].name),dt=ds(sn[_].abbr),Lt=ds(sn[_].narrow),v.push(Ee),u.push(dt),T.push(Lt),E.push(Ee),E.push(dt),E.push(Lt);this._erasRegex=new RegExp("^("+E.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+v.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+u.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+T.join("|")+")","i")}F(0,["gg",2],0,function(){return this.weekYear()%100}),F(0,["GG",2],0,function(){return this.isoWeekYear()%100});function py(u,v){F(0,[u,u.length],0,v)}py("gggg","weekYear"),py("ggggg","weekYear"),py("GGGG","isoWeekYear"),py("GGGGG","isoWeekYear"),ut("G",iy),ut("g",iy),ut("GG",Wn,Sn),ut("gg",Wn,Sn),ut("GGGG",bx,vx),ut("gggg",bx,vx),ut("GGGGG",ny,ey),ut("ggggg",ny,ey),pf(["gggg","ggggg","GGGG","GGGGG"],function(u,v,T,E){v[E.substr(0,2)]=tn(u)}),pf(["gg","GG"],function(u,v,T,E){v[E]=t.parseTwoDigitYear(u)});function vN(u){return kI.call(this,u,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function bN(u){return kI.call(this,u,this.isoWeek(),this.isoWeekday(),1,4)}function xN(){return hs(this.year(),1,4)}function wN(){return hs(this.isoWeekYear(),1,4)}function TN(){var u=this.localeData()._week;return hs(this.year(),u.dow,u.doy)}function CN(){var u=this.localeData()._week;return hs(this.weekYear(),u.dow,u.doy)}function kI(u,v,T,E,_){var se;return u==null?bf(this,E,_).year:(se=hs(u,E,_),v>se&&(v=se),SN.call(this,u,v,T,E,_))}function SN(u,v,T,E,_){var se=uI(u,v,T,E,_),Ee=vf(se.year,0,se.dayOfYear);return this.year(Ee.getUTCFullYear()),this.month(Ee.getUTCMonth()),this.date(Ee.getUTCDate()),this}F("Q",0,"Qo","quarter"),ut("Q",yi),En("Q",function(u,v){v[us]=(tn(u)-1)*3});function IN(u){return u==null?Math.ceil((this.month()+1)/3):this.month((u-1)*3+this.month()%3)}F("D",["DD",2],"Do","date"),ut("D",Wn,$u),ut("DD",Wn,Sn),ut("Do",function(u,v){return u?v._dayOfMonthOrdinalParse||v._ordinalParse:v._dayOfMonthOrdinalParseLenient}),En(["D","DD"],Aa),En("Do",function(u,v){v[Aa]=tn(u.match(Wn)[0])});var FI=Wu("Date",!0);F("DDD",["DDDD",3],"DDDo","dayOfYear"),ut("DDD",ty),ut("DDDD",tI),En(["DDD","DDDD"],function(u,v,T){T._dayOfYear=tn(u)});function AN(u){var v=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return u==null?v:this.add(u-v,"d")}F("m",["mm",2],0,"minute"),ut("m",Wn,xx),ut("mm",Wn,Sn),En(["m","mm"],Yo);var MN=Wu("Minutes",!1);F("s",["ss",2],0,"second"),ut("s",Wn,xx),ut("ss",Wn,Sn),En(["s","ss"],ms);var EN=Wu("Seconds",!1);F("S",0,0,function(){return~~(this.millisecond()/100)}),F(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),F(0,["SSS",3],0,"millisecond"),F(0,["SSSS",4],0,function(){return this.millisecond()*10}),F(0,["SSSSS",5],0,function(){return this.millisecond()*100}),F(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),F(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),F(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),F(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),ut("S",ty,yi),ut("SS",ty,Sn),ut("SSS",ty,tI);var cc,LI;for(cc="SSSS";cc.length<=9;cc+="S")ut(cc,_u);function ON(u,v){v[fl]=tn(("0."+u)*1e3)}for(cc="S";cc.length<=9;cc+="S")En(cc,ON);LI=Wu("Milliseconds",!1),F("z",0,0,"zoneAbbr"),F("zz",0,0,"zoneName");function DN(){return this._isUTC?"UTC":""}function RN(){return this._isUTC?"Coordinated Universal Time":""}var Ge=z.prototype;Ge.add=CR,Ge.calendar=DR,Ge.clone=RR,Ge.diff=UR,Ge.endOf=KR,Ge.format=$R,Ge.from=WR,Ge.fromNow=HR,Ge.to=jR,Ge.toNow=GR,Ge.get=_O,Ge.invalidAt=iN,Ge.isAfter=NR,Ge.isBefore=PR,Ge.isBetween=kR,Ge.isSame=FR,Ge.isSameOrAfter=LR,Ge.isSameOrBefore=BR,Ge.isValid=tN,Ge.lang=OI,Ge.locale=EI,Ge.localeData=DI,Ge.max=tR,Ge.min=eR,Ge.parsingFlags=nN,Ge.set=$O,Ge.startOf=zR,Ge.subtract=SR,Ge.toArray=QR,Ge.toObject=JR,Ge.toDate=ZR,Ge.toISOString=qR,Ge.inspect=_R,typeof Symbol<"u"&&Symbol.for!=null&&(Ge[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Ge.toJSON=eN,Ge.toString=VR,Ge.unix=YR,Ge.valueOf=XR,Ge.creationData=rN,Ge.eraName=cN,Ge.eraNarrow=lN,Ge.eraAbbr=dN,Ge.eraYear=uN,Ge.year=rI,Ge.isLeapYear=qO,Ge.weekYear=vN,Ge.isoWeekYear=bN,Ge.quarter=Ge.quarters=IN,Ge.month=lI,Ge.daysInMonth=ZO,Ge.week=Ge.weeks=oD,Ge.isoWeek=Ge.isoWeeks=aD,Ge.weeksInYear=TN,Ge.weeksInWeekYear=CN,Ge.isoWeeksInYear=xN,Ge.isoWeeksInISOWeekYear=wN,Ge.date=FI,Ge.day=Ge.days=bD,Ge.weekday=xD,Ge.isoWeekday=wD,Ge.dayOfYear=AN,Ge.hour=Ge.hours=ED,Ge.minute=Ge.minutes=MN,Ge.second=Ge.seconds=EN,Ge.millisecond=Ge.milliseconds=LI,Ge.utcOffset=dR,Ge.utc=mR,Ge.local=hR,Ge.parseZone=fR,Ge.hasAlignedHourOffset=pR,Ge.isDST=yR,Ge.isLocal=vR,Ge.isUtcOffset=bR,Ge.isUtc=CI,Ge.isUTC=CI,Ge.zoneAbbr=DN,Ge.zoneName=RN,Ge.dates=q("dates accessor is deprecated. Use date instead.",FI),Ge.months=q("months accessor is deprecated. Use month instead",lI),Ge.years=q("years accessor is deprecated. Use year instead",rI),Ge.zone=q("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",uR),Ge.isDSTShifted=q("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",gR);function NN(u){return Hn(u*1e3)}function PN(){return Hn.apply(null,arguments).parseZone()}function BI(u){return u}var vn=he.prototype;vn.calendar=tt,vn.longDateFormat=ar,vn.invalidDate=_r,vn.ordinal=qu,vn.preparse=BI,vn.postformat=BI,vn.relativeTime=xe,vn.pastFuture=et,vn.set=ae,vn.eras=oN,vn.erasParse=aN,vn.erasConvertYear=sN,vn.erasAbbrRegex=hN,vn.erasNameRegex=mN,vn.erasNarrowRegex=fN,vn.months=zO,vn.monthsShort=KO,vn.monthsParse=YO,vn.monthsRegex=JO,vn.monthsShortRegex=QO,vn.week=tD,vn.firstDayOfYear=rD,vn.firstDayOfWeek=iD,vn.weekdays=fD,vn.weekdaysMin=yD,vn.weekdaysShort=pD,vn.weekdaysParse=vD,vn.weekdaysRegex=TD,vn.weekdaysShortRegex=CD,vn.weekdaysMinRegex=SD,vn.isPM=AD,vn.meridiem=OD;function yy(u,v,T,E){var _=fs(),se=b().set(E,v);return _[T](se,u)}function UI(u,v,T){if(l(u)&&(v=u,u=void 0),u=u||"",v!=null)return yy(u,v,T,"month");var E,_=[];for(E=0;E<12;E++)_[E]=yy(u,E,T,"month");return _}function Bx(u,v,T,E){typeof u=="boolean"?(l(v)&&(T=v,v=void 0),v=v||""):(v=u,T=v,u=!1,l(v)&&(T=v,v=void 0),v=v||"");var _=fs(),se=u?_._week.dow:0,Ee,dt=[];if(T!=null)return yy(v,(T+se)%7,E,"day");for(Ee=0;Ee<7;Ee++)dt[Ee]=yy(v,(Ee+se)%7,E,"day");return dt}function kN(u,v){return UI(u,v,"months")}function FN(u,v){return UI(u,v,"monthsShort")}function LN(u,v,T){return Bx(u,v,T,"weekdays")}function BN(u,v,T){return Bx(u,v,T,"weekdaysShort")}function UN(u,v,T){return Bx(u,v,T,"weekdaysMin")}sc("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(u){var v=u%10,T=tn(u%100/10)===1?"th":v===1?"st":v===2?"nd":v===3?"rd":"th";return u+T}}),t.lang=q("moment.lang is deprecated. Use moment.locale instead.",sc),t.langData=q("moment.langData is deprecated. Use moment.localeData instead.",fs);var ps=Math.abs;function VN(){var u=this._data;return this._milliseconds=ps(this._milliseconds),this._days=ps(this._days),this._months=ps(this._months),u.milliseconds=ps(u.milliseconds),u.seconds=ps(u.seconds),u.minutes=ps(u.minutes),u.hours=ps(u.hours),u.months=ps(u.months),u.years=ps(u.years),this}function VI(u,v,T,E){var _=Zo(v,T);return u._milliseconds+=E*_._milliseconds,u._days+=E*_._days,u._months+=E*_._months,u._bubble()}function qN(u,v){return VI(this,u,v,1)}function _N(u,v){return VI(this,u,v,-1)}function qI(u){return u<0?Math.floor(u):Math.ceil(u)}function $N(){var u=this._milliseconds,v=this._days,T=this._months,E=this._data,_,se,Ee,dt,Lt;return u>=0&&v>=0&&T>=0||u<=0&&v<=0&&T<=0||(u+=qI(Ux(T)+v)*864e5,v=0,T=0),E.milliseconds=u%1e3,_=To(u/1e3),E.seconds=_%60,se=To(_/60),E.minutes=se%60,Ee=To(se/60),E.hours=Ee%24,v+=To(Ee/24),Lt=To(_I(v)),T+=Lt,v-=qI(Ux(Lt)),dt=To(T/12),T%=12,E.days=v,E.months=T,E.years=dt,this}function _I(u){return u*4800/146097}function Ux(u){return u*146097/4800}function WN(u){if(!this.isValid())return NaN;var v,T,E=this._milliseconds;if(u=ge(u),u==="month"||u==="quarter"||u==="year")switch(v=this._days+E/864e5,T=this._months+_I(v),u){case"month":return T;case"quarter":return T/3;case"year":return T/12}else switch(v=this._days+Math.round(Ux(this._months)),u){case"week":return v/7+E/6048e5;case"day":return v+E/864e5;case"hour":return v*24+E/36e5;case"minute":return v*1440+E/6e4;case"second":return v*86400+E/1e3;case"millisecond":return Math.floor(v*864e5)+E;default:throw new Error("Unknown unit "+u)}}function ys(u){return function(){return this.as(u)}}var $I=ys("ms"),HN=ys("s"),jN=ys("m"),GN=ys("h"),zN=ys("d"),KN=ys("w"),XN=ys("M"),YN=ys("Q"),ZN=ys("y"),QN=$I;function JN(){return Zo(this)}function eP(u){return u=ge(u),this.isValid()?this[u+"s"]():NaN}function yl(u){return function(){return this.isValid()?this._data[u]:NaN}}var tP=yl("milliseconds"),nP=yl("seconds"),iP=yl("minutes"),rP=yl("hours"),oP=yl("days"),aP=yl("months"),sP=yl("years");function cP(){return To(this.days()/7)}var gs=Math.round,zu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function lP(u,v,T,E,_){return _.relativeTime(v||1,!!T,u,E)}function dP(u,v,T,E){var _=Zo(u).abs(),se=gs(_.as("s")),Ee=gs(_.as("m")),dt=gs(_.as("h")),Lt=gs(_.as("d")),sn=gs(_.as("M")),Mr=gs(_.as("w")),vs=gs(_.as("y")),lc=se<=T.ss&&["s",se]||se<T.s&&["ss",se]||Ee<=1&&["m"]||Ee<T.m&&["mm",Ee]||dt<=1&&["h"]||dt<T.h&&["hh",dt]||Lt<=1&&["d"]||Lt<T.d&&["dd",Lt];return T.w!=null&&(lc=lc||Mr<=1&&["w"]||Mr<T.w&&["ww",Mr]),lc=lc||sn<=1&&["M"]||sn<T.M&&["MM",sn]||vs<=1&&["y"]||["yy",vs],lc[2]=v,lc[3]=+u>0,lc[4]=E,lP.apply(null,lc)}function uP(u){return u===void 0?gs:typeof u=="function"?(gs=u,!0):!1}function mP(u,v){return zu[u]===void 0?!1:v===void 0?zu[u]:(zu[u]=v,u==="s"&&(zu.ss=v-1),!0)}function hP(u,v){if(!this.isValid())return this.localeData().invalidDate();var T=!1,E=zu,_,se;return typeof u=="object"&&(v=u,u=!1),typeof u=="boolean"&&(T=u),typeof v=="object"&&(E=Object.assign({},zu,v),v.s!=null&&v.ss==null&&(E.ss=v.s-1)),_=this.localeData(),se=dP(this,!T,E,_),T&&(se=_.pastFuture(+this,se)),_.postformat(se)}var Vx=Math.abs;function Ku(u){return(u>0)-(u<0)||+u}function gy(){if(!this.isValid())return this.localeData().invalidDate();var u=Vx(this._milliseconds)/1e3,v=Vx(this._days),T=Vx(this._months),E,_,se,Ee,dt=this.asSeconds(),Lt,sn,Mr,vs;return dt?(E=To(u/60),_=To(E/60),u%=60,E%=60,se=To(T/12),T%=12,Ee=u?u.toFixed(3).replace(/\.?0+$/,""):"",Lt=dt<0?"-":"",sn=Ku(this._months)!==Ku(dt)?"-":"",Mr=Ku(this._days)!==Ku(dt)?"-":"",vs=Ku(this._milliseconds)!==Ku(dt)?"-":"",Lt+"P"+(se?sn+se+"Y":"")+(T?sn+T+"M":"")+(v?Mr+v+"D":"")+(_||E||u?"T":"")+(_?vs+_+"H":"")+(E?vs+E+"M":"")+(u?vs+Ee+"S":"")):"P0D"}var dn=dy.prototype;dn.isValid=aR,dn.abs=VN,dn.add=qN,dn.subtract=_N,dn.as=WN,dn.asMilliseconds=$I,dn.asSeconds=HN,dn.asMinutes=jN,dn.asHours=GN,dn.asDays=zN,dn.asWeeks=KN,dn.asMonths=XN,dn.asQuarters=YN,dn.asYears=ZN,dn.valueOf=QN,dn._bubble=$N,dn.clone=JN,dn.get=eP,dn.milliseconds=tP,dn.seconds=nP,dn.minutes=iP,dn.hours=rP,dn.days=oP,dn.weeks=cP,dn.months=aP,dn.years=sP,dn.humanize=hP,dn.toISOString=gy,dn.toString=gy,dn.toJSON=gy,dn.locale=EI,dn.localeData=DI,dn.toIsoString=q("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",gy),dn.lang=OI,F("X",0,0,"unix"),F("x",0,0,"valueOf"),ut("x",iy),ut("X",kO),En("X",function(u,v,T){T._d=new Date(parseFloat(u)*1e3)}),En("x",function(u,v,T){T._d=new Date(tn(u))});return t.version="2.30.1",n(Hn),t.fn=Ge,t.min=nR,t.max=iR,t.now=rR,t.utc=b,t.unix=NN,t.months=kN,t.isDate=d,t.locale=sc,t.invalid=S,t.duration=Zo,t.isMoment=Q,t.weekdays=LN,t.parseZone=PN,t.localeData=fs,t.isDuration=uy,t.monthsShort=FN,t.weekdaysMin=UN,t.defineLocale=Ax,t.updateLocale=PD,t.locales=kD,t.weekdaysShort=BN,t.normalizeUnits=ge,t.relativeTimeRounding=uP,t.relativeTimeThreshold=mP,t.calendarFormat=OR,t.prototype=Ge,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t})});function xs(e){return e.codePointAt(0)??0}var Xu=[],Wx=new Uint8Array(64),vy=new Uint8Array(64),$x=xs("=");{let e=function(r,a){let s=xs(a)+1;for(let c=xs(r);c<s;c++)Xu[c]=t,Wx[t++]=c};xP=e;let t=0;e("A","Z"),e("a","z"),e("0","9"),e("+","+"),e("/","/");let n=Xu[xs("/")],i=Xu[xs("+")];Xu[xs("_")]=n,Xu[xs("-")]=i,vy.set(Wx),vy[n]=xs("_"),vy[i]=xs("-")}var xP,Yu;(e=>{function t(i,r=!1){let a=r?vy:Wx,s=Math.trunc(i.length/3)*4;if(r){let l=i.length%3;l&&(s+=l+1)}else s+=i.length%3?4:0;let c=new Uint8Array(s);for(let l=0,d=0;d<s;){let f=(i[l++]<<16)+((i[l++]??0)<<8)+(i[l++]??0);c[d++]=a[f>>>18],c[d++]=a[f>>>12&63],l-i.length===2?r||(c[d++]=$x):c[d++]=a[f>>>6&63],l>i.length?r||(c[d++]=$x):c[d++]=a[f&63]}return new TextDecoder("iso-8859-1").decode(c)}e.encode=t;function n(i){if(!i.length)return new Uint8Array;let r=i.length;for(;i.codePointAt(r-1)===$x;)r--;let a=Math.trunc(r/4)*3;switch(r%4){case 3:a+=2;break;case 2:a+=1;break;case 1:throw new Error("Invalid base-64 encoding")}let s=new Uint8Array(a);for(let l=0,d=0;;){let f=function(){if(l>=r)return 0;let b=Xu[i.codePointAt(l++)??-1];if(b===void 0)throw new Error("Invalid base-64 encoding");return b};var c=f;let g=(f()<<18)+(f()<<12)+(f()<<6)+f();if(s[d++]=g>>>16,d<a)s[d++]=g>>>8&255;else break;if(d<a)s[d++]=g&255;else break}return s}e.decode=n})(Yu||(Yu={}));function dc(e){return e?.construction?.error&&(e=e?.construction.error),e==null?Error("Unknown error"):e.message!==void 0?e:new Error(e.toString())}var Hx=Symbol.for("nodejs.util.inspect.custom"),lt=class e extends Error{format(t="plain",n=0){let i=e.formatterFor;typeof i!="function"&&(i=e.defaultFormatterFactory);let r=i(t);typeof r!="function"&&(r=WI);let a=r(this,n);return typeof a!="string"&&(a=`${a}`),a}[Hx](t,n){let i=e.formatterFor;if(typeof i!="function")return this;let r=i(n?.colors?"ansi":"plain");return typeof r!="function"?this:r(this,t)}static accept(t){if(!(t instanceof this))throw t}static reject(t){if(t instanceof this)throw t}static defaultFormatterFactory=()=>WI;static formatterFor=e.defaultFormatterFactory},$r=class extends lt{},Re=class extends lt{},Yt=class extends Re{},ze=class extends lt{},De=class extends lt{},ce=class extends lt{},Zu=class extends ce{constructor(t="This view is read-only"){super(t)}},Qu=class extends AggregateError{constructor(t,n){t=[...t].map(dc),super(t,n)}[Hx]=lt.prototype[Hx];format=lt.prototype.format;static[Symbol.hasInstance](t){return t instanceof lt?!0:AggregateError[Symbol.hasInstance](t)}};function WI(e,t=0){if(e==null)return`${e}`;function n(i,r,a){let{message:s,stack:c,cause:l,errors:d}=i,f;typeof r!="number"||r<0?f="":f="  ".repeat(r);let g=[`${f}${a}${s??"(unknown error)"}`];if(c!=null){let b=c.toString().split(`
`);b.shift(),g.push(...b.map(w=>`${f}  ${w.trim()}`))}if(l!==void 0&&g.push(n(l,r,"Caused by: ")),typeof d?.[Symbol.iterator]=="function"){let b=0;for(let w of d)g.push(n(w,r+1,`Cause #${b++}: `))}return g.join(`
`)}return n(e,t,"")}var Et=(e=>(e[e.Little=0]="Little",e[e.Big=1]="Big",e))(Et||{}),we;(e=>{function t(d){let f=new Array;return f.length=d.length,d.forEach(g=>f.push(g.toString(16).padStart(2,"0"))),f.join("")}e.toHex=t;function n(d){let f="";return d.forEach(g=>f+=String.fromCharCode(g)),btoa(f)}e.toBase64=n;function i(d){return new DataView(d.buffer,d.byteOffset,d.byteLength)}e.dataViewOf=i;function r(d,f){return d.length!==f.length?!1:d.every((g,b)=>f[b]===g)}e.areEqual=r;function a(d){if(d.length===0)return new Uint8Array(0);if(d.length%2!==0)throw new De("Hex string should have an even length.");let f=d.match(/.{1,2}/g)?.map(g=>parseInt(g,16));if(f===void 0)throw new De("Failed to parse the hex string.");return Uint8Array.from(f)}e.fromHex=a;function s(d){let f=atob(d),g="";for(let b=0;b<f.length;b++){let w=f.charCodeAt(b).toString(16);g+=w.length===2?w:"0"+w}return a(g)}e.fromBase64=s;function c(d){return new TextEncoder().encode(d)}e.fromString=c;function l(...d){let f=0;d.forEach(w=>f+=w.length);let g=new Uint8Array(f),b=0;return d.forEach(w=>{g.set(w,b),b+=w.length}),g}e.concat=l})(we||(we={}));var qn=class{constructor(t,n){this.buffer=t,this.dataView=we.dataViewOf(t),this.littleEndian=n===Et.Little}littleEndian;dataView;offset=0;readUInt8(){return this.dataView.getUint8(this.getOffsetAndAdvance(1))}readUInt16(){return this.dataView.getUint16(this.getOffsetAndAdvance(2),this.littleEndian)}readUInt32(){return this.dataView.getUint32(this.getOffsetAndAdvance(4),this.littleEndian)}readUInt64(){return this.dataView.getBigUint64(this.getOffsetAndAdvance(8),this.littleEndian)}readInt8(){return this.dataView.getInt8(this.getOffsetAndAdvance(1))}readInt16(){return this.dataView.getInt16(this.getOffsetAndAdvance(2),this.littleEndian)}readInt32(){return this.dataView.getInt32(this.getOffsetAndAdvance(4),this.littleEndian)}readInt64(){return this.dataView.getBigInt64(this.getOffsetAndAdvance(8),this.littleEndian)}readFloat(){return this.dataView.getFloat32(this.getOffsetAndAdvance(4),this.littleEndian)}readDouble(){return this.dataView.getFloat64(this.getOffsetAndAdvance(8),this.littleEndian)}readUtf8String(t){let n=this.getOffsetAndAdvance(t);return new TextDecoder().decode(this.buffer.subarray(n,n+t))}readByteArray(t){let n=this.getOffsetAndAdvance(t);return this.buffer.subarray(n,n+t)}getRemainingBytesCount(){return this.dataView.byteLength-this.offset}getRemainingBytes(){return this.buffer.subarray(this.offset)}getLength(){return this.dataView.byteLength}setOffset(t){if(t>this.dataView.byteLength)throw new Error(`Offset ${t} is out of bounds.`);this.offset=t}getOffsetAndAdvance(t){let n=this.offset;return this.offset+=t,this.offset>this.dataView.byteLength&&(this.offset=this.dataView.byteLength),n}};var HI=BigInt("18446744073709551615"),by=-128,xy=-32768,wy=-2147483648,jI=BigInt("-9223372036854775808"),Ty=127,Cy=32767,Sy=2147483647,GI=BigInt("9223372036854775807"),zI=-34028234663852886e22,KI=34028234663852886e22;function gl(e){return typeof e=="bigint"?Number(e):e}function vl(e){return typeof e=="number"?BigInt(e):e}function Cf(e,t){return e===void 0?t:t===void 0||e<t?e:t}function Sf(e,t){return e===void 0?t:t===void 0||e>t?e:t}function Qo(e){let t=e.toString(16);return t.length%2===0?t:`0${t}`}function jn(e,t,n){return Math.min(Math.max(e,t),n)}function If(e,t,n,i){let r=e+t;return r<n?r+i+1:r>i?r-i-1:r}function Iy(e,t){return{...e,...t}}function cn(e){return Object.prototype.toString.call(e)==="[object Object]"}var Er=(e=>(e.ObjectId="_objectId",e.TagId="_tag",e.Bytes="_bytes",e.Elements="_elements",e.BitsPadding="_padding",e.TypeOverride="_type",e.RawData="_raw",e))(Er||{}),bl=class extends De{},Co=(e=>(e[e.Boolean=1]="Boolean",e[e.Integer=2]="Integer",e[e.BitString=3]="BitString",e[e.OctetString=4]="OctetString",e[e.Null=5]="Null",e[e.ObjectIdentifier=6]="ObjectIdentifier",e[e.UTF8String=12]="UTF8String",e[e.Sequence=16]="Sequence",e[e.Set=17]="Set",e[e.PrintableString=19]="PrintableString",e[e.T16String=20]="T16String",e[e.IA5String=22]="IA5String",e[e.UtcDate=23]="UtcDate",e[e.GeneralizedTime=24]="GeneralizedTime",e))(Co||{}),Ay=32;var Ma=e=>({_tag:6,_bytes:we.fromHex(e)}),Or=(e,t={})=>({_objectId:Ma(e),...t}),uc=(e,t=0)=>({_tag:3,_bytes:e,_padding:t}),xl=(e,t)=>({_tag:e|128|Ay,_bytes:t===void 0?new Uint8Array(0):On.encode(t)}),My=(e,t)=>({_tag:e|128,_bytes:t}),Ju=(e,t)=>({_type:e,_raw:t}),XI=e=>({_bytes:e}),On=class{static encode(t){if(Array.isArray(t))return this.encodeArray(t);if(t instanceof Uint8Array)return this.encodeOctetString(t);if(t instanceof Date)return this.encodeDate(t);if(typeof t=="string")return this.encodeString(t);if(typeof t=="number"||typeof t=="bigint")return this.encodeInteger(t);if(typeof t=="boolean")return this.encodeBoolean(t);if(t===void 0)return new Uint8Array(0);if(cn(t))if(t._tag!==void 0){let{["_tag"]:n,["_padding"]:i,["_bytes"]:r}=t;if(typeof n!="number")throw new bl("Tag ID is non-numeric");if(i!==void 0&&typeof i!="number")throw new bl("Bits padding is not a numeric byte value");if(r===void 0||!ArrayBuffer.isView(r))throw new bl("DER bytes is not a byte array");return this.encodeAsn1(n,i===void 0?r:we.concat(Uint8Array.of(i),r))}else if(t._type!==void 0&&t._raw!==void 0){if(t._type===2&&t._raw instanceof Uint8Array)return this.encodeInteger(t._raw);if(t._type===3&&typeof t._raw=="number")return this.encodeBitString(t._raw);if(t._type===19&&typeof t._raw=="string")return this.encodePrintableString(t._raw);if(t._type===22&&typeof t._raw=="string")return this.encodeIA5String(t._raw);throw new De(`Unsupported override type ${t._type}`)}else{if(t._bytes!==void 0&&t._bytes instanceof Uint8Array&&Object.keys(t).length===1)return t._bytes;if(t._type===void 0&&t._bytes===void 0)return this.encodeObject(t);throw new De(`Unsupported object type ${typeof t}`)}else throw new De(`Unsupported type ${typeof t}`)}static encodeDate(t){return t.getFullYear()>2049?this.encodeAsn1(24,we.fromString(t.toISOString().replace(/[-:.T]/g,"").slice(0,14)+"Z")):this.encodeAsn1(23,we.fromString(t.toISOString().replace(/[-:.T]/g,"").slice(2,14)+"Z"))}static encodeBoolean(t){return this.encodeAsn1(1,Uint8Array.of(t?255:0))}static encodeArray(t){return this.encodeAsn1(17|Ay,we.concat(...t.map(n=>this.encode(n))))}static encodeOctetString(t){return this.encodeAsn1(4,t)}static encodeObject(t){let n=new Array;for(let i in t)n.push(this.encode(t[i]));return this.encodeAsn1(16|Ay,we.concat(...n))}static encodeString(t){return this.encodeAsn1(12,we.fromString(t))}static encodePrintableString(t){if(!/^[A-Za-z0-9 '()+,-./:=?]*$/g.test(t))throw new De(`String ${t} is not a printable string.`);return this.encodeAsn1(19,we.fromString(t))}static encodeIA5String(t){if(!/^[\x00-\x7F]*$/.test(t))throw new De(`String ${t} is not an IA5 string.`);return this.encodeAsn1(22,we.fromString(t))}static encodeInteger(t){let n=ArrayBuffer.isView(t),i;n?i=t:i=we.fromHex(Qo(t));let r=we.concat(new Uint8Array(1),i),a=we.dataViewOf(r),s=0;for(;!(a.getUint8(s)!==0||a.getUint8(s+1)>=128||(s++,s===r.length-1)););return this.encodeAsn1(2,r.slice(s))}static encodeBitString(t){let n=t.toString(2).padStart(8,"0"),i=n.indexOf("1"),r=Uint8Array.of(parseInt(n.split("").reverse().join(""),2));return this.encode(uc(r,i===-1?8:i))}static encodeLengthBytes(t){let n=new Uint8Array(5),i=we.dataViewOf(n);i.setUint32(1,t);let r=0;for(;!(i.getUint8(r)!==0||(r++,r===4)););let a=n.length-r;return(a>1||i.getUint8(r)>=128)&&(r--,i.setUint8(r,128+a)),n.slice(r)}static encodeAsn1(t,n){return we.concat(Uint8Array.of(t),this.encodeLengthBytes(n.length),n)}static decode(t){return this.decodeRec(new qn(t,Et.Big))}static decodeRec(t){let{tag:n,bytes:i}=this.decodeAsn1(t);if(n===3)return{_tag:n,_bytes:i.slice(1),_padding:i[0]};if(!(n&Ay))return{_tag:n,_bytes:i};let r=new qn(i,Et.Big),a=[];for(;r.getRemainingBytesCount()>0;)a.push(this.decodeRec(r));return{_tag:n,_bytes:i,_elements:a}}static decodeAsn1(t){let n=t.readUInt8(),i=t.readUInt8();if(i&128){let a=i&127;for(i=0;a>0;)i=(i<<8)+t.readUInt8(),a--}let r=t.readByteArray(i);return{tag:n,bytes:r}}};var So;(e=>{e.PublicKeyEcPrime256v1=t=>({type:{algorithm:Ma("2A8648CE3D0201"),curve:Ma("2A8648CE3D030107")},bytes:uc(t)}),e.EcdsaWithSHA256=Or("2A8648CE3D040302")})(So||(So={}));var jx=Or("608648016503040201"),mc;(e=>{e.SubjectKeyIdentifier=t=>Or("551d0e",{value:On.encode(t)}),e.AuthorityKeyIdentifier=t=>Or("551d23",{value:On.encode({id:My(0,t)})}),e.BasicConstraints=t=>{let n={...t};return n?.isCa===!1&&delete n.isCa,Or("551d13",{critical:!0,value:On.encode(n)})},e.ExtendedKeyUsage=t=>{if(t===void 0)return;let n={};return t.forEach(i=>{switch(i){case 1:n.serverAuth=Ma("2b06010505070301");break;case 2:n.clientAuth=Ma("2b06010505070302");break;case 3:n.codeSigning=Ma("2b06010505070303");break;case 4:n.emailProtection=Ma("2b06010505070304");break;case 5:n.timeStamping=Ma("2b06010505070308");break;case 6:n.ocspSigning=Ma("2b06010505070309");break;default:throw new bl(`Unsupported extended key usage value ${i}`)}}),Or("551d25",{critical:!0,value:On.encode(n)})},e.KeyUsage=t=>Or("551d0f",{critical:!0,value:On.encode(Ju(Co.BitString,t))})})(mc||(mc={}));var Af;(e=>{e.Data=t=>Or("2A864886F70D010701",{value:xl(0,t)}),e.SignedData=t=>Or("2a864886f70d010702",{value:xl(0,t)})})(Af||(Af={}));var Qt;(e=>{e.NON_WELL_DEFINED_DATE=new Date("9999-12-31 23:59:59Z");let t=n=>(i,r=!1)=>{let a=i;return r&&(a=Ju(Co.PrintableString,a)),[Or(`5504${n.toString(16).padStart(2,"0")}`,{value:a})]};e.CommonName=t(3),e.SurName=t(4),e.SerialNumber=t(5),e.CountryName=t(6),e.LocalityName=t(7),e.StateOrProvinceName=t(8),e.OrganisationName=t(10),e.OrganizationalUnitName=t(11),e.Title=t(12),e.Name=t(41),e.GivenName=t(42),e.Initials=t(43),e.GenerationQualifier=t(44),e.DnQualifier=t(46),e.Pseudonym=t(65),e.DomainComponent=n=>[Or("06092A864886F70D010901",{value:Ju(Co.IA5String,n)})]})(Qt||(Qt={}));var Dn=class{littleEndian;length=0;chunks=new Array;constructor(t){this.littleEndian=t===Et.Little}writeUInt8(t){this.chunks.push(new Uint8Array([gl(t)])),this.length+=1}writeUInt16(t){let n=new Uint8Array(2);new DataView(n.buffer,0,2).setUint16(0,gl(t),this.littleEndian),this.chunks.push(n),this.length+=2}writeUInt32(t){let n=new Uint8Array(4);new DataView(n.buffer,0,4).setUint32(0,gl(t),this.littleEndian),this.chunks.push(n),this.length+=4}writeUInt64(t){let n=new Uint8Array(8);new DataView(n.buffer,0,8).setBigUint64(0,vl(t),this.littleEndian),this.chunks.push(n),this.length+=8}writeInt8(t){let n=new Uint8Array(1);new DataView(n.buffer,0,1).setInt8(0,gl(t)),this.chunks.push(n),this.length+=1}writeInt16(t){let n=new Uint8Array(2);new DataView(n.buffer,0,2).setInt16(0,gl(t),this.littleEndian),this.chunks.push(n),this.length+=2}writeInt32(t){let n=new Uint8Array(4);new DataView(n.buffer,0,4).setInt32(0,gl(t),this.littleEndian),this.chunks.push(n),this.length+=4}writeInt64(t){let n=new Uint8Array(8);new DataView(n.buffer,0,8).setBigInt64(0,vl(t),this.littleEndian),this.chunks.push(n),this.length+=8}writeFloat(t){let n=new Uint8Array(4);new DataView(n.buffer,0,4).setFloat32(0,t,this.littleEndian),this.chunks.push(n),this.length+=4}writeDouble(t){let n=new Uint8Array(8);new DataView(n.buffer,0,8).setFloat64(0,t,this.littleEndian),this.chunks.push(n),this.length+=8}writeByteArray(t){this.chunks.push(t),this.length+=t.byteLength}toByteArray(){if(this.chunks.length===0)return new Uint8Array(0);if(this.chunks.length===1)return this.chunks[0];let t=new Uint8Array(this.length),n=0;return this.chunks.forEach(i=>{t.set(i,n),n+=i.byteLength}),this.chunks.length=0,this.chunks.push(t),t}};function Wr(e){return e.includes(".")}function Dr(e){return e.includes(":")}function Gx(e){return we.dataViewOf(Ey(e)).getUint32(0)}function Ey(e){let t=new Uint8Array(4),n=e.split(".");for(let i=0;i<4;i++)t[i]=parseInt(n[i]);return t}function zx(e){let t=new Uint16Array(8),n=e.split(":"),i=n.filter(a=>a!=="").length;i!==8&&(n=e.replace("::",":".padEnd((8-i)*2+1,"0:")).split(":"));let r=0;return n.forEach(a=>{a!==""&&(t[r++]=parseInt(a,16))}),t}function YI(e,t,n){if(Wr(e)){if(!Wr(t)||!Wr(n))return!1;let i=Gx(e),r=Gx(t),a=Gx(n);return(i&a)===(r&a)}else{if(Wr(t)||Wr(n))return!1;let i=zx(e),r=zx(t),a=zx(n);for(let s=0;s<16;s++){let c=a[s];if(c===0)return!0;if((i[s]&c)!==(r[s]&c))return!1}}}var Mf=1232,ai=(e,t,n=120,i=!1)=>({name:e,value:t,ttl:n,recordType:12,recordClass:1,flushCache:i}),ZI=(e,t,n=120,i=!1)=>({name:e,value:t,ttl:n,recordType:1,recordClass:1,flushCache:i}),QI=(e,t,n=120,i=!1)=>({name:e,value:t,ttl:n,recordType:28,recordClass:1,flushCache:i}),Oy=(e,t,n=120,i=!1)=>({name:e,value:t,ttl:n,recordType:16,recordClass:1,flushCache:i}),Dy=(e,t,n=120,i=!1)=>({name:e,value:t,ttl:n,recordType:33,recordClass:1,flushCache:i}),Jo=(e=>(e[e.Query=0]="Query",e[e.TruncatedQuery=512]="TruncatedQuery",e[e.Response=33792]="Response",e[e.TruncatedResponse=34304]="TruncatedResponse",e))(Jo||{}),Yn=(e=>(e[e.A=1]="A",e[e.PTR=12]="PTR",e[e.TXT=16]="TXT",e[e.AAAA=28]="AAAA",e[e.SRV=33]="SRV",e[e.NSEC=47]="NSEC",e[e.ANY=255]="ANY",e))(Yn||{}),ws=(e=>(e[e.IN=1]="IN",e[e.ANY=255]="ANY",e))(ws||{}),lr=class{static decode(t){try{let n=new qn(t,Et.Big),i=n.readUInt16(),r=n.readUInt16(),a=n.readUInt16(),s=n.readUInt16(),c=n.readUInt16(),l=n.readUInt16(),d=new Array;for(let w=0;w<a;w++)d.push(this.decodeQuery(n,t));let f=new Array;for(let w=0;w<s;w++)f.push(this.decodeRecord(n,t));let g=new Array;for(let w=0;w<c;w++)g.push(this.decodeRecord(n,t));let b=new Array;for(let w=0;w<l;w++)b.push(this.decodeRecord(n,t));return{transactionId:i,messageType:r,queries:d,answers:f,authorities:g,additionalRecords:b}}catch{return}}static decodeQuery(t,n){let i=this.decodeQName(t,n),r=t.readUInt16(),a=t.readUInt16(),s=(a&32768)!==0,c=a&32767;return{name:i,recordType:r,recordClass:c,uniCastResponse:s}}static decodeRecord(t,n){let i=this.decodeQName(t,n),r=t.readUInt16(),a=t.readUInt16(),s=(a&32768)!==0,c=a&32767,l=t.readUInt32(),d=t.readUInt16(),f=t.readByteArray(d),g=this.decodeRecordValue(f,r,n);return{name:i,recordType:r,recordClass:c,ttl:l,value:g,flushCache:s}}static decodeQName(t,n){let i=new qn(n,Et.Big),r=new Array;for(;;){let a=t.readUInt8();if(a===0)break;if(a&192){let s=t.readUInt8()|(a&63)<<8;i.setOffset(s),r.push(this.decodeQName(i,n));break}r.push(t.readUtf8String(a))}return r.join(".")}static decodeRecordValue(t,n,i){switch(n){case 12:return this.decodeQName(new qn(t,Et.Big),i);case 33:return this.decodeSrvRecord(t,i);case 16:return this.decodeTxtRecord(t);case 28:return this.decodeAaaaRecord(t);case 1:return this.decodeARecord(t);default:return t}}static decodeSrvRecord(t,n){let i=new qn(t,Et.Big),r=i.readUInt16(),a=i.readUInt16(),s=i.readUInt16(),c=this.decodeQName(i,n);return{priority:r,weight:a,port:s,target:c}}static decodeTxtRecord(t){let n=new qn(t,Et.Big),i=new Array,r=0;for(;r<t.length;){let a=n.readUInt8();i.push(n.readUtf8String(a)),r+=a+1}return i}static decodeAaaaRecord(t){let n=new qn(t,Et.Big),i=new Array;for(let a=0;a<8;a++)i.push(n.readUInt16().toString(16));let r=new Array;for(let a=0;a<8;a++){if(i[a]!=="0")continue;let s=a;for(a++;a<8&&i[a]==="0";)a++;r.push({start:s,length:a-s})}if(r.length>0){r.sort((c,l)=>c.length-l.length);let{start:a,length:s}=r[0];i[a]="",i.splice(a+1,s-1)}return i.join(":")}static decodeARecord(t){let n=new qn(t,Et.Big),i=new Array;for(let r=0;r<4;r++)i.push(n.readUInt8().toString());return i.join(".")}static encode({messageType:t,transactionId:n=0,queries:i=[],answers:r=[],authorities:a=[],additionalRecords:s=[]}){if(t===void 0)throw new Re("Message type must be specified!");if(i.length>0&&t!==0&&t!==512)throw new Re("Queries can only be included in query messages!");if(a.length>0)throw new Yt("Authority answers are not supported yet!");let c=new Dn(Et.Big);return c.writeUInt16(n),c.writeUInt16(t),c.writeUInt16(i.length),c.writeUInt16(r.length),c.writeUInt16(a.length),c.writeUInt16(s.length),i.forEach(({name:l,recordClass:d,recordType:f,uniCastResponse:g=!1})=>{c.writeByteArray(this.encodeQName(l)),c.writeUInt16(f),c.writeUInt16(d|(g?32768:0))}),[...r,...a,...s].forEach(l=>{l instanceof Uint8Array?c.writeByteArray(l):c.writeByteArray(this.encodeRecord(l))}),c.toByteArray()}static encodeRecord(t){let{name:n,recordType:i,recordClass:r,ttl:a,value:s,flushCache:c=!1}=t,l=new Dn(Et.Big);l.writeByteArray(this.encodeQName(n)),l.writeUInt16(i),l.writeUInt16(r|(c?32768:0)),l.writeUInt32(a);let d=this.encodeRecordValue(s,i);return l.writeUInt16(d.length),l.writeByteArray(d),l.toByteArray()}static encodeRecordValue(t,n){switch(n){case 12:return this.encodeQName(t);case 33:return this.encodeSrvRecord(t);case 16:return this.encodeTxtRecord(t);case 28:return this.encodeAaaaRecord(t);case 1:return this.encodeARecord(t);default:if(t instanceof Uint8Array)return t;throw new De(`Unsupported record type ${n}`)}}static encodeARecord(t){if(!Wr(t))throw new De(`Invalid A Record value: ${t}`);let n=new Dn(Et.Big);return t.split(".").forEach(i=>{n.writeUInt8(parseInt(i))}),n.toByteArray()}static encodeAaaaRecord(t){if(!Dr(t))throw new De(`Invalid AAAA Record value: ${t}`);let n=new Dn(Et.Big),i=t.split(":");return i.forEach(r=>{if(r===""){let a=8-i.length;for(let s=0;s<a;s++)n.writeUInt16(0)}n.writeUInt16(parseInt(r,16))}),n.toByteArray()}static encodeTxtRecord(t){let n=new Dn(Et.Big);return t.forEach(i=>{let r=we.fromString(i);n.writeUInt8(r.length),n.writeByteArray(r)}),n.toByteArray()}static encodeSrvRecord({priority:t,weight:n,port:i,target:r}){let a=new Dn(Et.Big);return a.writeUInt16(t),a.writeUInt16(n),a.writeUInt16(i),a.writeByteArray(this.encodeQName(r)),a.toByteArray()}static encodeQName(t){let n=new Dn(Et.Big);return t.length>0&&t.split(".").forEach(i=>{let r=we.fromString(i);n.writeUInt8(r.length),n.writeByteArray(r)}),n.writeUInt8(0),n.toByteArray()}};var Ly={};_x(Ly,{Field:()=>Pf,FpDiv:()=>LP,FpInvertBatch:()=>s8,FpIsSquare:()=>BP,FpLegendre:()=>c8,FpPow:()=>a8,FpSqrt:()=>o8,FpSqrtEven:()=>VP,FpSqrtOdd:()=>UP,getFieldBytesLength:()=>tw,getMinHashLength:()=>Fy,hashToPrivateScalar:()=>qP,invert:()=>nm,isNegativeLE:()=>kP,mapHashToField:()=>nw,mod:()=>dr,nLength:()=>Nf,pow:()=>i8,pow2:()=>PP,tonelliShanks:()=>r8,validateField:()=>ky});var Rf={};_x(Rf,{aInRange:()=>pc,abool:()=>wl,abytes:()=>em,bitGet:()=>AP,bitLen:()=>Qx,bitMask:()=>Df,bitSet:()=>MP,bytesToHex:()=>Tl,bytesToNumberBE:()=>Ea,bytesToNumberLE:()=>Ef,concatBytes:()=>tm,createHmacDrbg:()=>Jx,ensureBytes:()=>Hr,equalBytes:()=>SP,hexToBytes:()=>Sl,hexToNumber:()=>Zx,inRange:()=>Of,isBytes:()=>hc,memoized:()=>Py,notImplemented:()=>OP,numberToBytesBE:()=>fc,numberToBytesLE:()=>Ny,numberToHexUnpadded:()=>Cl,numberToVarBytesBE:()=>CP,utf8ToBytes:()=>IP,validateObject:()=>yc});var Yx=BigInt(0),Ry=BigInt(1),wP=BigInt(2);function hc(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function em(e){if(!hc(e))throw new Error("Uint8Array expected")}function wl(e,t){if(typeof t!="boolean")throw new Error(`${e} must be valid boolean, got "${t}".`)}var TP=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Tl(e){em(e);let t="";for(let n=0;n<e.length;n++)t+=TP[e[n]];return t}function Cl(e){let t=e.toString(16);return t.length&1?`0${t}`:t}function Zx(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}var Ts={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function JI(e){if(e>=Ts._0&&e<=Ts._9)return e-Ts._0;if(e>=Ts._A&&e<=Ts._F)return e-(Ts._A-10);if(e>=Ts._a&&e<=Ts._f)return e-(Ts._a-10)}function Sl(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let i=new Uint8Array(n);for(let r=0,a=0;r<n;r++,a+=2){let s=JI(e.charCodeAt(a)),c=JI(e.charCodeAt(a+1));if(s===void 0||c===void 0){let l=e[a]+e[a+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+a)}i[r]=s*16+c}return i}function Ea(e){return Zx(Tl(e))}function Ef(e){return em(e),Zx(Tl(Uint8Array.from(e).reverse()))}function fc(e,t){return Sl(e.toString(16).padStart(t*2,"0"))}function Ny(e,t){return fc(e,t).reverse()}function CP(e){return Sl(Cl(e))}function Hr(e,t,n){let i;if(typeof t=="string")try{i=Sl(t)}catch(a){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${a}`)}else if(hc(t))i=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);let r=i.length;if(typeof n=="number"&&r!==n)throw new Error(`${e} expected ${n} bytes, got ${r}`);return i}function tm(...e){let t=0;for(let i=0;i<e.length;i++){let r=e[i];em(r),t+=r.length}let n=new Uint8Array(t);for(let i=0,r=0;i<e.length;i++){let a=e[i];n.set(a,r),r+=a.length}return n}function SP(e,t){if(e.length!==t.length)return!1;let n=0;for(let i=0;i<e.length;i++)n|=e[i]^t[i];return n===0}function IP(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}var Kx=e=>typeof e=="bigint"&&Yx<=e;function Of(e,t,n){return Kx(e)&&Kx(t)&&Kx(n)&&t<=e&&e<n}function pc(e,t,n,i){if(!Of(t,n,i))throw new Error(`expected valid ${e}: ${n} <= n < ${i}, got ${typeof t} ${t}`)}function Qx(e){let t;for(t=0;e>Yx;e>>=Ry,t+=1);return t}function AP(e,t){return e>>BigInt(t)&Ry}function MP(e,t,n){return e|(n?Ry:Yx)<<BigInt(t)}var Df=e=>(wP<<BigInt(e-1))-Ry,Xx=e=>new Uint8Array(e),e8=e=>Uint8Array.from(e);function Jx(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let i=Xx(e),r=Xx(e),a=0,s=()=>{i.fill(1),r.fill(0),a=0},c=(...g)=>n(r,i,...g),l=(g=Xx())=>{r=c(e8([0]),g),i=c(),g.length!==0&&(r=c(e8([1]),g),i=c())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let g=0,b=[];for(;g<t;){i=c();let w=i.slice();b.push(w),g+=i.length}return tm(...b)};return(g,b)=>{s(),l(g);let w;for(;!(w=b(d()));)l();return s(),w}}var EP={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||hc(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function yc(e,t,n={}){let i=(r,a,s)=>{let c=EP[a];if(typeof c!="function")throw new Error(`Invalid validator "${a}", expected function`);let l=e[r];if(!(s&&l===void 0)&&!c(l,e))throw new Error(`Invalid param ${String(r)}=${l} (${typeof l}), expected ${a}`)};for(let[r,a]of Object.entries(t))i(r,a,!1);for(let[r,a]of Object.entries(n))i(r,a,!0);return e}var OP=()=>{throw new Error("not implemented")};function Py(e){let t=new WeakMap;return(n,...i)=>{let r=t.get(n);if(r!==void 0)return r;let a=e(n,...i);return t.set(n,a),a}}var Ni=BigInt(0),Bn=BigInt(1),gc=BigInt(2),DP=BigInt(3),ew=BigInt(4),t8=BigInt(5),n8=BigInt(8),RP=BigInt(9),NP=BigInt(16);function dr(e,t){let n=e%t;return n>=Ni?n:t+n}function i8(e,t,n){if(n<=Ni||t<Ni)throw new Error("Expected power/modulo > 0");if(n===Bn)return Ni;let i=Bn;for(;t>Ni;)t&Bn&&(i=i*e%n),e=e*e%n,t>>=Bn;return i}function PP(e,t,n){let i=e;for(;t-- >Ni;)i*=i,i%=n;return i}function nm(e,t){if(e===Ni||t<=Ni)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=dr(e,t),i=t,r=Ni,a=Bn,s=Bn,c=Ni;for(;n!==Ni;){let d=i/n,f=i%n,g=r-s*d,b=a-c*d;i=n,n=f,r=s,a=c,s=g,c=b}if(i!==Bn)throw new Error("invert: does not exist");return dr(r,t)}function r8(e){let t=(e-Bn)/gc,n,i,r;for(n=e-Bn,i=0;n%gc===Ni;n/=gc,i++);for(r=gc;r<e&&i8(r,t,e)!==e-Bn;r++);if(i===1){let s=(e+Bn)/ew;return function(l,d){let f=l.pow(d,s);if(!l.eql(l.sqr(f),d))throw new Error("Cannot find square root");return f}}let a=(n+Bn)/gc;return function(c,l){if(c.pow(l,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let d=i,f=c.pow(c.mul(c.ONE,r),n),g=c.pow(l,a),b=c.pow(l,n);for(;!c.eql(b,c.ONE);){if(c.eql(b,c.ZERO))return c.ZERO;let w=1;for(let D=c.sqr(b);w<d&&!c.eql(D,c.ONE);w++)D=c.sqr(D);let O=c.pow(f,Bn<<BigInt(d-w-1));f=c.sqr(O),g=c.mul(g,O),b=c.mul(b,f),d=w}return g}}function o8(e){if(e%ew===DP){let t=(e+Bn)/ew;return function(i,r){let a=i.pow(r,t);if(!i.eql(i.sqr(a),r))throw new Error("Cannot find square root");return a}}if(e%n8===t8){let t=(e-t8)/n8;return function(i,r){let a=i.mul(r,gc),s=i.pow(a,t),c=i.mul(r,s),l=i.mul(i.mul(c,gc),s),d=i.mul(c,i.sub(l,i.ONE));if(!i.eql(i.sqr(d),r))throw new Error("Cannot find square root");return d}}return e%NP,r8(e)}var kP=(e,t)=>(dr(e,t)&Bn)===Bn,FP=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ky(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=FP.reduce((i,r)=>(i[r]="function",i),t);return yc(e,n)}function a8(e,t,n){if(n<Ni)throw new Error("Expected power > 0");if(n===Ni)return e.ONE;if(n===Bn)return t;let i=e.ONE,r=t;for(;n>Ni;)n&Bn&&(i=e.mul(i,r)),r=e.sqr(r),n>>=Bn;return i}function s8(e,t){let n=new Array(t.length),i=t.reduce((a,s,c)=>e.is0(s)?a:(n[c]=a,e.mul(a,s)),e.ONE),r=e.inv(i);return t.reduceRight((a,s,c)=>e.is0(s)?a:(n[c]=e.mul(a,n[c]),e.mul(a,s)),r),n}function LP(e,t,n){return e.mul(t,typeof n=="bigint"?nm(n,e.ORDER):e.inv(n))}function c8(e){let t=(e-Bn)/gc;return(n,i)=>n.pow(i,t)}function BP(e){let t=c8(e.ORDER);return n=>{let i=t(e,n);return e.eql(i,e.ZERO)||e.eql(i,e.ONE)}}function Nf(e,t){let n=t!==void 0?t:e.toString(2).length,i=Math.ceil(n/8);return{nBitLength:n,nByteLength:i}}function Pf(e,t,n=!1,i={}){if(e<=Ni)throw new Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:r,nByteLength:a}=Nf(e,t);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=o8(e),c=Object.freeze({ORDER:e,BITS:r,BYTES:a,MASK:Df(r),ZERO:Ni,ONE:Bn,create:l=>dr(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Ni<=l&&l<e},is0:l=>l===Ni,isOdd:l=>(l&Bn)===Bn,neg:l=>dr(-l,e),eql:(l,d)=>l===d,sqr:l=>dr(l*l,e),add:(l,d)=>dr(l+d,e),sub:(l,d)=>dr(l-d,e),mul:(l,d)=>dr(l*d,e),pow:(l,d)=>a8(c,l,d),div:(l,d)=>dr(l*nm(d,e),e),sqrN:l=>l*l,addN:(l,d)=>l+d,subN:(l,d)=>l-d,mulN:(l,d)=>l*d,inv:l=>nm(l,e),sqrt:i.sqrt||(l=>s(c,l)),invertBatch:l=>s8(c,l),cmov:(l,d,f)=>f?d:l,toBytes:l=>n?Ny(l,a):fc(l,a),fromBytes:l=>{if(l.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${l.length}`);return n?Ef(l):Ea(l)}});return Object.freeze(c)}function UP(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");let n=e.sqrt(t);return e.isOdd(n)?n:e.neg(n)}function VP(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");let n=e.sqrt(t);return e.isOdd(n)?e.neg(n):n}function qP(e,t,n=!1){e=Hr("privateHash",e);let i=e.length,r=Nf(t).nByteLength+8;if(r<24||i<r||i>1024)throw new Error(`hashToPrivateScalar: expected ${r}-1024 bytes of input, got ${i}`);let a=n?Ef(e):Ea(e);return dr(a,t-Bn)+Bn}function tw(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}function Fy(e){let t=tw(e);return t+Math.ceil(t/2)}function nw(e,t,n=!1){let i=e.length,r=tw(t),a=Fy(t);if(i<16||i<a||i>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${i}`);let s=n?Ea(e):Ef(e),c=dr(s,t-Bn)+Bn;return n?Ny(c,r):fc(c,r)}function l8(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function _P(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function im(e,...t){if(!_P(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function d8(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");l8(e.outputLen),l8(e.blockLen)}function rm(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function u8(e,t){im(e);let n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}var Cs=bs(require("node:crypto"),1),Il=Cs&&typeof Cs=="object"&&"webcrypto"in Cs?Cs.webcrypto:Cs&&typeof Cs=="object"&&"randomBytes"in Cs?Cs:void 0;var By=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),ea=(e,t)=>e<<32-t|e>>>t;var oz=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function $P(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function kf(e){return typeof e=="string"&&(e=$P(e)),im(e),e}function m8(...e){let t=0;for(let i=0;i<e.length;i++){let r=e[i];im(r),t+=r.length}let n=new Uint8Array(t);for(let i=0,r=0;i<e.length;i++){let a=e[i];n.set(a,r),r+=a.length}return n}var om=class{clone(){return this._cloneInto()}},az={}.toString;function h8(e){let t=i=>e().update(kf(i)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function f8(e=32){if(Il&&typeof Il.getRandomValues=="function")return Il.getRandomValues(new Uint8Array(e));if(Il&&typeof Il.randomBytes=="function")return Il.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function WP(e,t,n,i){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,i);let r=BigInt(32),a=BigInt(4294967295),s=Number(n>>r&a),c=Number(n&a),l=i?4:0,d=i?0:4;e.setUint32(t+l,s,i),e.setUint32(t+d,c,i)}var p8=(e,t,n)=>e&t^~e&n,y8=(e,t,n)=>e&t^e&n^t&n,Uy=class extends om{constructor(t,n,i,r){super(),this.blockLen=t,this.outputLen=n,this.padOffset=i,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=By(this.buffer)}update(t){rm(this);let{view:n,buffer:i,blockLen:r}=this;t=kf(t);let a=t.length;for(let s=0;s<a;){let c=Math.min(r-this.pos,a-s);if(c===r){let l=By(t);for(;r<=a-s;s+=r)this.process(l,s);continue}i.set(t.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){rm(this),u8(t,this),this.finished=!0;let{buffer:n,view:i,blockLen:r,isLE:a}=this,{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(i,0),s=0);for(let g=s;g<r;g++)n[g]=0;WP(i,r-8,BigInt(this.length*8),a),this.process(i,0);let c=By(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let d=l/4,f=this.get();if(d>f.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<d;g++)c.setUint32(4*g,f[g],a)}digest(){let{buffer:t,outputLen:n}=this;this.digestInto(t);let i=t.slice(0,n);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:n,buffer:i,length:r,finished:a,destroyed:s,pos:c}=this;return t.length=r,t.pos=c,t.finished=a,t.destroyed=s,r%n&&t.buffer.set(i),t}};var HP=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),vc=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bc=new Uint32Array(64),iw=class extends Uy{constructor(){super(64,32,8,!1),this.A=vc[0]|0,this.B=vc[1]|0,this.C=vc[2]|0,this.D=vc[3]|0,this.E=vc[4]|0,this.F=vc[5]|0,this.G=vc[6]|0,this.H=vc[7]|0}get(){let{A:t,B:n,C:i,D:r,E:a,F:s,G:c,H:l}=this;return[t,n,i,r,a,s,c,l]}set(t,n,i,r,a,s,c,l){this.A=t|0,this.B=n|0,this.C=i|0,this.D=r|0,this.E=a|0,this.F=s|0,this.G=c|0,this.H=l|0}process(t,n){for(let g=0;g<16;g++,n+=4)bc[g]=t.getUint32(n,!1);for(let g=16;g<64;g++){let b=bc[g-15],w=bc[g-2],O=ea(b,7)^ea(b,18)^b>>>3,D=ea(w,17)^ea(w,19)^w>>>10;bc[g]=D+bc[g-7]+O+bc[g-16]|0}let{A:i,B:r,C:a,D:s,E:c,F:l,G:d,H:f}=this;for(let g=0;g<64;g++){let b=ea(c,6)^ea(c,11)^ea(c,25),w=f+b+p8(c,l,d)+HP[g]+bc[g]|0,D=(ea(i,2)^ea(i,13)^ea(i,22))+y8(i,r,a)|0;f=d,d=l,l=c,c=s+w|0,s=a,a=r,r=i,i=w+D|0}i=i+this.A|0,r=r+this.B|0,a=a+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,d=d+this.G|0,f=f+this.H|0,this.set(i,r,a,s,c,l,d,f)}roundClean(){bc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var g8=h8(()=>new iw);var Vy=class extends om{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,d8(t);let i=kf(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let r=this.blockLen,a=new Uint8Array(r);a.set(i.length>r?t.create().update(i).digest():i);for(let s=0;s<a.length;s++)a[s]^=54;this.iHash.update(a),this.oHash=t.create();for(let s=0;s<a.length;s++)a[s]^=106;this.oHash.update(a),a.fill(0)}update(t){return rm(this),this.iHash.update(t),this}digestInto(t){rm(this),im(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:n,iHash:i,finished:r,destroyed:a,blockLen:s,outputLen:c}=this;return t=t,t.finished=r,t.destroyed=a,t.blockLen=s,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},rw=(e,t,n)=>new Vy(e,t).update(n).digest();rw.create=(e,t)=>new Vy(e,t);var jP=BigInt(0),ow=BigInt(1),aw=new WeakMap,v8=new WeakMap;function b8(e,t){let n=(a,s)=>{let c=s.negate();return a?c:s},i=a=>{if(!Number.isSafeInteger(a)||a<=0||a>t)throw new Error(`Wrong window size=${a}, should be [1..${t}]`)},r=a=>{i(a);let s=Math.ceil(t/a)+1,c=2**(a-1);return{windows:s,windowSize:c}};return{constTimeNegate:n,unsafeLadder(a,s){let c=e.ZERO,l=a;for(;s>jP;)s&ow&&(c=c.add(l)),l=l.double(),s>>=ow;return c},precomputeWindow(a,s){let{windows:c,windowSize:l}=r(s),d=[],f=a,g=f;for(let b=0;b<c;b++){g=f,d.push(g);for(let w=1;w<l;w++)g=g.add(f),d.push(g);f=g.double()}return d},wNAF(a,s,c){let{windows:l,windowSize:d}=r(a),f=e.ZERO,g=e.BASE,b=BigInt(2**a-1),w=2**a,O=BigInt(a);for(let D=0;D<l;D++){let y=D*d,S=Number(c&b);c>>=O,S>d&&(S-=w,c+=ow);let L=y,H=y+Math.abs(S)-1,oe=D%2!==0,z=S<0;S===0?g=g.add(n(oe,s[L])):f=f.add(n(z,s[H]))}return{p:f,f:g}},wNAFCached(a,s,c){let l=v8.get(a)||1,d=aw.get(a);return d||(d=this.precomputeWindow(a,l),l!==1&&aw.set(a,c(d))),this.wNAF(l,d,s)},setWindowSize(a,s){i(s),v8.set(a,s),aw.delete(a)}}}function x8(e,t,n,i){if(!Array.isArray(n)||!Array.isArray(i)||i.length!==n.length)throw new Error("arrays of points and scalars must have equal length");i.forEach((f,g)=>{if(!t.isValid(f))throw new Error(`wrong scalar at index ${g}`)}),n.forEach((f,g)=>{if(!(f instanceof e))throw new Error(`wrong point at index ${g}`)});let r=Qx(BigInt(n.length)),a=r>12?r-3:r>4?r-2:r?2:1,s=(1<<a)-1,c=new Array(s+1).fill(e.ZERO),l=Math.floor((t.BITS-1)/a)*a,d=e.ZERO;for(let f=l;f>=0;f-=a){c.fill(e.ZERO);for(let b=0;b<i.length;b++){let w=i[b],O=Number(w>>BigInt(f)&BigInt(s));c[O]=c[O].add(n[b])}let g=e.ZERO;for(let b=c.length-1,w=e.ZERO;b>0;b--)w=w.add(c[b]),g=g.add(w);if(d=d.add(g),f!==0)for(let b=0;b<a;b++)d=d.double()}return d}function sw(e){return ky(e.Fp),yc(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Nf(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function w8(e){e.lowS!==void 0&&wl("lowS",e.lowS),e.prehash!==void 0&&wl("prehash",e.prehash)}function GP(e){let t=sw(e);yc(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:n,Fp:i,a:r}=t;if(n){if(!i.eql(r,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}var{bytesToNumberBE:zP,hexToBytes:KP}=Rf,Ss={Err:class extends Error{constructor(t=""){super(t)}},_tlv:{encode:(e,t)=>{let{Err:n}=Ss;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");let i=t.length/2,r=Cl(i);if(r.length/2&128)throw new n("tlv.encode: long form length too big");let a=i>127?Cl(r.length/2|128):"";return`${Cl(e)}${a}${r}${t}`},decode(e,t){let{Err:n}=Ss,i=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[i++]!==e)throw new n("tlv.decode: wrong tlv");let r=t[i++],a=!!(r&128),s=0;if(!a)s=r;else{let l=r&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");let d=t.subarray(i,i+l);if(d.length!==l)throw new n("tlv.decode: length bytes not complete");if(d[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(let f of d)s=s<<8|f;if(i+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}let c=t.subarray(i,i+s);if(c.length!==s)throw new n("tlv.decode: wrong value length");return{v:c,l:t.subarray(i+s)}}},_int:{encode(e){let{Err:t}=Ss;if(e<Is)throw new t("integer: negative integers are not allowed");let n=Cl(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected assertion");return n},decode(e){let{Err:t}=Ss;if(e[0]&128)throw new t("Invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return zP(e)}},toSig(e){let{Err:t,_int:n,_tlv:i}=Ss,r=typeof e=="string"?KP(e):e;em(r);let{v:a,l:s}=i.decode(48,r);if(s.length)throw new t("Invalid signature: left bytes after parsing");let{v:c,l}=i.decode(2,a),{v:d,l:f}=i.decode(2,l);if(f.length)throw new t("Invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(d)}},hexFromSig(e){let{_tlv:t,_int:n}=Ss,i=`${t.encode(2,n.encode(e.r))}${t.encode(2,n.encode(e.s))}`;return t.encode(48,i)}},Is=BigInt(0),qi=BigInt(1),Cz=BigInt(2),T8=BigInt(3),Sz=BigInt(4);function XP(e){let t=GP(e),{Fp:n}=t,i=Pf(t.n,t.nBitLength),r=t.toBytes||((D,y,S)=>{let L=y.toAffine();return tm(Uint8Array.from([4]),n.toBytes(L.x),n.toBytes(L.y))}),a=t.fromBytes||(D=>{let y=D.subarray(1),S=n.fromBytes(y.subarray(0,n.BYTES)),L=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:S,y:L}});function s(D){let{a:y,b:S}=t,L=n.sqr(D),H=n.mul(L,D);return n.add(n.add(H,n.mul(D,y)),S)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function c(D){return Of(D,qi,t.n)}function l(D){let{allowedPrivateKeyLengths:y,nByteLength:S,wrapPrivateKey:L,n:H}=t;if(y&&typeof D!="bigint"){if(hc(D)&&(D=Tl(D)),typeof D!="string"||!y.includes(D.length))throw new Error("Invalid key");D=D.padStart(S*2,"0")}let oe;try{oe=typeof D=="bigint"?D:Ea(Hr("private key",D,S))}catch{throw new Error(`private key must be ${S} bytes, hex or bigint, not ${typeof D}`)}return L&&(oe=dr(oe,H)),pc("private key",oe,qi,H),oe}function d(D){if(!(D instanceof b))throw new Error("ProjectivePoint expected")}let f=Py((D,y)=>{let{px:S,py:L,pz:H}=D;if(n.eql(H,n.ONE))return{x:S,y:L};let oe=D.is0();y==null&&(y=oe?n.ONE:n.inv(H));let z=n.mul(S,y),Q=n.mul(L,y),N=n.mul(H,y);if(oe)return{x:n.ZERO,y:n.ZERO};if(!n.eql(N,n.ONE))throw new Error("invZ was invalid");return{x:z,y:Q}}),g=Py(D=>{if(D.is0()){if(t.allowInfinityPoint&&!n.is0(D.py))return;throw new Error("bad point: ZERO")}let{x:y,y:S}=D.toAffine();if(!n.isValid(y)||!n.isValid(S))throw new Error("bad point: x or y not FE");let L=n.sqr(S),H=s(y);if(!n.eql(L,H))throw new Error("bad point: equation left != right");if(!D.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class b{constructor(y,S,L){if(this.px=y,this.py=S,this.pz=L,y==null||!n.isValid(y))throw new Error("x required");if(S==null||!n.isValid(S))throw new Error("y required");if(L==null||!n.isValid(L))throw new Error("z required");Object.freeze(this)}static fromAffine(y){let{x:S,y:L}=y||{};if(!y||!n.isValid(S)||!n.isValid(L))throw new Error("invalid affine point");if(y instanceof b)throw new Error("projective point not allowed");let H=oe=>n.eql(oe,n.ZERO);return H(S)&&H(L)?b.ZERO:new b(S,L,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){let S=n.invertBatch(y.map(L=>L.pz));return y.map((L,H)=>L.toAffine(S[H])).map(b.fromAffine)}static fromHex(y){let S=b.fromAffine(a(Hr("pointHex",y)));return S.assertValidity(),S}static fromPrivateKey(y){return b.BASE.multiply(l(y))}static msm(y,S){return x8(b,i,y,S)}_setWindowSize(y){O.setWindowSize(this,y)}assertValidity(){g(this)}hasEvenY(){let{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){d(y);let{px:S,py:L,pz:H}=this,{px:oe,py:z,pz:Q}=y,N=n.eql(n.mul(S,Q),n.mul(oe,H)),q=n.eql(n.mul(L,Q),n.mul(z,H));return N&&q}negate(){return new b(this.px,n.neg(this.py),this.pz)}double(){let{a:y,b:S}=t,L=n.mul(S,T8),{px:H,py:oe,pz:z}=this,Q=n.ZERO,N=n.ZERO,q=n.ZERO,G=n.mul(H,H),te=n.mul(oe,oe),K=n.mul(z,z),ae=n.mul(H,oe);return ae=n.add(ae,ae),q=n.mul(H,z),q=n.add(q,q),Q=n.mul(y,q),N=n.mul(L,K),N=n.add(Q,N),Q=n.sub(te,N),N=n.add(te,N),N=n.mul(Q,N),Q=n.mul(ae,Q),q=n.mul(L,q),K=n.mul(y,K),ae=n.sub(G,K),ae=n.mul(y,ae),ae=n.add(ae,q),q=n.add(G,G),G=n.add(q,G),G=n.add(G,K),G=n.mul(G,ae),N=n.add(N,G),K=n.mul(oe,z),K=n.add(K,K),G=n.mul(K,ae),Q=n.sub(Q,G),q=n.mul(K,te),q=n.add(q,q),q=n.add(q,q),new b(Q,N,q)}add(y){d(y);let{px:S,py:L,pz:H}=this,{px:oe,py:z,pz:Q}=y,N=n.ZERO,q=n.ZERO,G=n.ZERO,te=t.a,K=n.mul(t.b,T8),ae=n.mul(S,oe),pe=n.mul(L,z),he=n.mul(H,Q),Ce=n.add(S,L),Le=n.add(oe,z);Ce=n.mul(Ce,Le),Le=n.add(ae,pe),Ce=n.sub(Ce,Le),Le=n.add(S,H);let tt=n.add(oe,Q);return Le=n.mul(Le,tt),tt=n.add(ae,he),Le=n.sub(Le,tt),tt=n.add(L,H),N=n.add(z,Q),tt=n.mul(tt,N),N=n.add(pe,he),tt=n.sub(tt,N),G=n.mul(te,Le),N=n.mul(K,he),G=n.add(N,G),N=n.sub(pe,G),G=n.add(pe,G),q=n.mul(N,G),pe=n.add(ae,ae),pe=n.add(pe,ae),he=n.mul(te,he),Le=n.mul(K,Le),pe=n.add(pe,he),he=n.sub(ae,he),he=n.mul(te,he),Le=n.add(Le,he),ae=n.mul(pe,Le),q=n.add(q,ae),ae=n.mul(tt,Le),N=n.mul(Ce,N),N=n.sub(N,ae),ae=n.mul(Ce,pe),G=n.mul(tt,G),G=n.add(G,ae),new b(N,q,G)}subtract(y){return this.add(y.negate())}is0(){return this.equals(b.ZERO)}wNAF(y){return O.wNAFCached(this,y,b.normalizeZ)}multiplyUnsafe(y){pc("scalar",y,Is,t.n);let S=b.ZERO;if(y===Is)return S;if(y===qi)return this;let{endo:L}=t;if(!L)return O.unsafeLadder(this,y);let{k1neg:H,k1:oe,k2neg:z,k2:Q}=L.splitScalar(y),N=S,q=S,G=this;for(;oe>Is||Q>Is;)oe&qi&&(N=N.add(G)),Q&qi&&(q=q.add(G)),G=G.double(),oe>>=qi,Q>>=qi;return H&&(N=N.negate()),z&&(q=q.negate()),q=new b(n.mul(q.px,L.beta),q.py,q.pz),N.add(q)}multiply(y){let{endo:S,n:L}=t;pc("scalar",y,qi,L);let H,oe;if(S){let{k1neg:z,k1:Q,k2neg:N,k2:q}=S.splitScalar(y),{p:G,f:te}=this.wNAF(Q),{p:K,f:ae}=this.wNAF(q);G=O.constTimeNegate(z,G),K=O.constTimeNegate(N,K),K=new b(n.mul(K.px,S.beta),K.py,K.pz),H=G.add(K),oe=te.add(ae)}else{let{p:z,f:Q}=this.wNAF(y);H=z,oe=Q}return b.normalizeZ([H,oe])[0]}multiplyAndAddUnsafe(y,S,L){let H=b.BASE,oe=(Q,N)=>N===Is||N===qi||!Q.equals(H)?Q.multiplyUnsafe(N):Q.multiply(N),z=oe(this,S).add(oe(y,L));return z.is0()?void 0:z}toAffine(y){return f(this,y)}isTorsionFree(){let{h:y,isTorsionFree:S}=t;if(y===qi)return!0;if(S)return S(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:y,clearCofactor:S}=t;return y===qi?this:S?S(b,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return wl("isCompressed",y),this.assertValidity(),r(b,this,y)}toHex(y=!0){return wl("isCompressed",y),Tl(this.toRawBytes(y))}}b.BASE=new b(t.Gx,t.Gy,n.ONE),b.ZERO=new b(n.ZERO,n.ONE,n.ZERO);let w=t.nBitLength,O=b8(b,t.endo?Math.ceil(w/2):w);return{CURVE:t,ProjectivePoint:b,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:c}}function YP(e){let t=sw(e);return yc(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function C8(e){let t=YP(e),{Fp:n,n:i}=t,r=n.BYTES+1,a=2*n.BYTES+1;function s(he){return dr(he,i)}function c(he){return nm(he,i)}let{ProjectivePoint:l,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:g}=XP({...t,toBytes(he,Ce,Le){let tt=Ce.toAffine(),St=n.toBytes(tt.x),qt=tm;return wl("isCompressed",Le),Le?qt(Uint8Array.from([Ce.hasEvenY()?2:3]),St):qt(Uint8Array.from([4]),St,n.toBytes(tt.y))},fromBytes(he){let Ce=he.length,Le=he[0],tt=he.subarray(1);if(Ce===r&&(Le===2||Le===3)){let St=Ea(tt);if(!Of(St,qi,n.ORDER))throw new Error("Point is not on curve");let qt=f(St),Gt;try{Gt=n.sqrt(qt)}catch(F){let Ve=F instanceof Error?": "+F.message:"";throw new Error("Point is not on curve"+Ve)}let Ze=(Gt&qi)===qi;return(Le&1)===1!==Ze&&(Gt=n.neg(Gt)),{x:St,y:Gt}}else if(Ce===a&&Le===4){let St=n.fromBytes(tt.subarray(0,n.BYTES)),qt=n.fromBytes(tt.subarray(n.BYTES,2*n.BYTES));return{x:St,y:qt}}else throw new Error(`Point of length ${Ce} was invalid. Expected ${r} compressed bytes or ${a} uncompressed bytes`)}}),b=he=>Tl(fc(he,t.nByteLength));function w(he){let Ce=i>>qi;return he>Ce}function O(he){return w(he)?s(-he):he}let D=(he,Ce,Le)=>Ea(he.slice(Ce,Le));class y{constructor(Ce,Le,tt){this.r=Ce,this.s=Le,this.recovery=tt,this.assertValidity()}static fromCompact(Ce){let Le=t.nByteLength;return Ce=Hr("compactSignature",Ce,Le*2),new y(D(Ce,0,Le),D(Ce,Le,2*Le))}static fromDER(Ce){let{r:Le,s:tt}=Ss.toSig(Hr("DER",Ce));return new y(Le,tt)}assertValidity(){pc("r",this.r,qi,i),pc("s",this.s,qi,i)}addRecoveryBit(Ce){return new y(this.r,this.s,Ce)}recoverPublicKey(Ce){let{r:Le,s:tt,recovery:St}=this,qt=Q(Hr("msgHash",Ce));if(St==null||![0,1,2,3].includes(St))throw new Error("recovery id invalid");let Gt=St===2||St===3?Le+t.n:Le;if(Gt>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");let Ze=St&1?"03":"02",ft=l.fromHex(Ze+b(Gt)),F=c(Gt),Ve=s(-qt*F),ln=s(tt*F),_t=l.BASE.multiplyAndAddUnsafe(ft,Ve,ln);if(!_t)throw new Error("point at infinify");return _t.assertValidity(),_t}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return Sl(this.toDERHex())}toDERHex(){return Ss.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Sl(this.toCompactHex())}toCompactHex(){return b(this.r)+b(this.s)}}let S={isValidPrivateKey(he){try{return d(he),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{let he=Fy(t.n);return nw(t.randomBytes(he),t.n)},precompute(he=8,Ce=l.BASE){return Ce._setWindowSize(he),Ce.multiply(BigInt(3)),Ce}};function L(he,Ce=!0){return l.fromPrivateKey(he).toRawBytes(Ce)}function H(he){let Ce=hc(he),Le=typeof he=="string",tt=(Ce||Le)&&he.length;return Ce?tt===r||tt===a:Le?tt===2*r||tt===2*a:he instanceof l}function oe(he,Ce,Le=!0){if(H(he))throw new Error("first arg must be private key");if(!H(Ce))throw new Error("second arg must be public key");return l.fromHex(Ce).multiply(d(he)).toRawBytes(Le)}let z=t.bits2int||function(he){let Ce=Ea(he),Le=he.length*8-t.nBitLength;return Le>0?Ce>>BigInt(Le):Ce},Q=t.bits2int_modN||function(he){return s(z(he))},N=Df(t.nBitLength);function q(he){return pc(`num < 2^${t.nBitLength}`,he,Is,N),fc(he,t.nByteLength)}function G(he,Ce,Le=te){if(["recovered","canonical"].some(pi=>pi in Le))throw new Error("sign() legacy options not supported");let{hash:tt,randomBytes:St}=t,{lowS:qt,prehash:Gt,extraEntropy:Ze}=Le;qt==null&&(qt=!0),he=Hr("msgHash",he),w8(Le),Gt&&(he=Hr("prehashed msgHash",tt(he)));let ft=Q(he),F=d(Ce),Ve=[q(F),q(ft)];if(Ze!=null&&Ze!==!1){let pi=Ze===!0?St(n.BYTES):Ze;Ve.push(Hr("extraEntropy",pi))}let ln=tm(...Ve),_t=ft;function Mn(pi){let ar=z(pi);if(!g(ar))return;let Ar=c(ar),_r=l.BASE.multiply(ar).toAffine(),Ia=s(_r.x);if(Ia===Is)return;let sr=s(Ar*s(_t+Ia*F));if(sr===Is)return;let qu=(_r.x===Ia?0:2)|Number(_r.y&qi),le=sr;return qt&&w(sr)&&(le=O(sr),qu^=1),new y(Ia,le,qu)}return{seed:ln,k2sig:Mn}}let te={lowS:t.lowS,prehash:!1},K={lowS:t.lowS,prehash:!1};function ae(he,Ce,Le=te){let{seed:tt,k2sig:St}=G(he,Ce,Le),qt=t;return Jx(qt.hash.outputLen,qt.nByteLength,qt.hmac)(tt,St)}l.BASE._setWindowSize(8);function pe(he,Ce,Le,tt=K){let St=he;if(Ce=Hr("msgHash",Ce),Le=Hr("publicKey",Le),"strict"in tt)throw new Error("options.strict was renamed to lowS");w8(tt);let{lowS:qt,prehash:Gt}=tt,Ze,ft;try{if(typeof St=="string"||hc(St))try{Ze=y.fromDER(St)}catch(_r){if(!(_r instanceof Ss.Err))throw _r;Ze=y.fromCompact(St)}else if(typeof St=="object"&&typeof St.r=="bigint"&&typeof St.s=="bigint"){let{r:_r,s:Ia}=St;Ze=new y(_r,Ia)}else throw new Error("PARSE");ft=l.fromHex(Le)}catch(_r){if(_r.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(qt&&Ze.hasHighS())return!1;Gt&&(Ce=t.hash(Ce));let{r:F,s:Ve}=Ze,ln=Q(Ce),_t=c(Ve),Mn=s(ln*_t),pi=s(F*_t),ar=l.BASE.multiplyAndAddUnsafe(ft,Mn,pi)?.toAffine();return ar?s(ar.x)===F:!1}return{CURVE:t,getPublicKey:L,getSharedSecret:oe,sign:ae,verify:pe,ProjectivePoint:l,Signature:y,utils:S}}function ZP(e){return{hash:e,hmac:(t,...n)=>rw(e,t,m8(...n)),randomBytes:f8}}function S8(e,t){let n=i=>C8({...e,...ZP(i)});return Object.freeze({...n(t),create:n})}var I8=Pf(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),QP=I8.create(BigInt("-3")),JP=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),A8=S8({a:QP,b:JP,Fp:I8,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},g8);var As={p256:A8,...Rf,...Ly},ek=32,cw="aes-128-ccm",Ml="sha256",qy="prime256v1",lw=32,_y=16,$y=16,Al=class extends lt{},qe=class e{static get=()=>{throw new $r("No provider configured")};static encrypt=(t,n,i,r)=>e.get().encrypt(t,n,i,r);static decrypt=(t,n,i,r)=>e.get().decrypt(t,n,i,r);static getRandomData=t=>e.get().getRandomData(t);static getRandom=()=>e.get().getRandomData(ek);static getRandomUInt16=()=>new qn(e.get().getRandomData(2),Et.Little).readUInt16();static getRandomUInt32=()=>new qn(e.get().getRandomData(4),Et.Little).readUInt32();static getRandomBigUInt64=()=>new qn(e.get().getRandomData(8),Et.Little).readUInt64();static getRandomBigInt=(t,n)=>{let{bytesToNumberBE:i}=As;if(n===void 0)return i(e.getRandomData(t));for(;;){let r=i(e.getRandomData(t));if(r<n)return r}};static ecdhGeneratePublicKey=()=>e.get().ecdhGeneratePublicKey();static ecdhGeneratePublicKeyAndSecret=t=>e.get().ecdhGeneratePublicKeyAndSecret(t);static ecdhGenerateSecret=(t,n)=>e.get().ecdhGenerateSecret(t,n);static hash=t=>e.get().hash(t);static pbkdf2=(t,n,i,r)=>e.get().pbkdf2(t,n,i,r);static hkdf=(t,n,i,r)=>e.get().hkdf(t,n,i,r);static hmac=(t,n)=>e.get().hmac(t,n);static sign=(t,n,i)=>e.get().sign(t,n,i);static verify=(t,n,i,r)=>e.get().verify(t,n,i,r);static createKeyPair=()=>e.get().createKeyPair()};typeof MatterHooks<"u"&&MatterHooks.cryptoSetup?.(qe);var{numberToBytesBE:M8,p256:{ProjectivePoint:tk}}=As,ur=class extends lt{},nk=["crv","d","dp","dq","e","ext","k","key_ops","kty","n","oth","p","q","qi","use","x","y"];var ik={"2a8648ce3d030107":"P-256","0103840022":"P-384","0103840023":"P-521"};function E8(e,t,n){if((t&&t._tag===Co.Integer&&t._bytes&&t._bytes.length===1&&t._bytes[0])!==n)throw new ur(`${e} key version mismatch`)}function mw(e,t){let n=t&&t._tag===Co.ObjectIdentifier&&t._bytes?.length>1&&t._bytes;if(n)return n;throw new ur(`Missing object in ${e} key`)}function dw(e,t){let n=mw(e,t),i=ik[we.toHex(n)];if(i)return i;throw new ur(`Unsupported ${e} EC curve`)}function uw(e,t,n=Co.OctetString){let i=t&&t._tag===n&&t._bytes?.length>1&&t._bytes;if(i)return i;throw new lt(`Missing ${e} key node`)}var Wy;(e=>{e.sec1={set:function(t){let n=On.decode(t),i=n?._elements?.[0];E8("SEC 1",i,1);let r=n?._elements?.[2]?._elements?.[0],a=dw("SEC 1",r),s=n?._elements?.[1],c=uw("SEC 1",s);this.type="EC",this.curve=a,this.privateBits=c},get:function(){throw new Yt("SEC1 export not implemented")}},e.pkcs8={set:function(t){let n=On.decode(t),i=n?._elements?.[0];E8("PKCS #8",i,0);let r=n?._elements?.[1]?._elements,a=mw("PKCS #8",r?.[0]);if(we.toHex(a)!=="2a8648ce3d0201")throw new ur("Unsupported PKCS #8 decryption algorithm");let s=dw("PKCS #8",r?.[1]),c=n?._elements?.[2]._bytes;if(c==null)throw new ur("Invalid PKCS #8 key");let l=On.decode(c),d=uw("PKCS #8",l?._elements?.[1]);this.type="EC",this.curve=s,this.privateBits=d},get:function(){throw new Yt("PKCS #8 export not implemented")}},e.spki={set:function(t){let n=On.decode(t),i=n?._elements?.[0]?._elements,r=mw("SPKI",i?.[0]);if(we.toHex(r)!=="2a8648ce3d0201")throw new ur("Unsupported SPKI decryption algorithm");let a=dw("SPKI",i?.[1]),s=uw("SPKI",n?._elements?.[1],Co.BitString);this.type="EC",this.curve=a,this.publicBits=s},get:function(){throw new Yt("SPKI export not implemented")}},e.publicBits={set:function(t){if(!(t.length%2))throw new ur("Invalid public key encoding");switch(t[0]){case 2:case 3:throw new ur("Unsupported public key compression");case 4:break;case 5:throw new ur("Illegal public key format specifier")}let n=(t.length-1)/2;hw(this,n),this.type="EC",this.xBits=t.slice(1,n+1),this.yBits=t.slice(n+1)},get:function(){if(!(this.xBits===void 0||this.yBits===void 0))return new Uint8Array([4,...this.xBits,...this.yBits])}},e.keyPairBits={set:function(t){this.publicBits=t.publicKey,this.privateBits=t.privateKey},get:function(){let t=this.publicBits,n=this.privateBits;if(!(t===void 0||n===void 0))return{publicKey:t,privateKey:n}}}})(Wy||(Wy={}));var O8=(e=>(e.algorithm="alg",e.curve="crv",e.type="kty",e.operations="key_ops",e.private="d",e.extractable="ext",e))(O8||{}),D8=(e=>(e.privateBits="d",e.xBits="x",e.yBits="y",e))(D8||{}),R8=(e=>(e.publicKey="publicBits",e.privateKey="privateBits",e.keyPair="keyPairBits",e))(R8||{});function hw(e,t){if(!e.curve)switch(t){case 66:e.curve="P-521";break;case 48:e.curve="P-384";break;case 32:e.curve="P-256";break;default:throw new ur(`Cannot infer named curve from key length ${t}`)}}function N8(e){let t={};for(let r of nk)e[r]!==void 0&&(t[r]=e[r]);function n(r){let a=Object.getOwnPropertyDescriptor(e,r);a&&a.value!==void 0&&(t[r]=a.value)}Object.entries(O8).forEach(([r,a])=>{Object.defineProperty(t,r,{get:()=>t[a],set:s=>t[a]=s}),n(r)}),Object.entries(D8).forEach(([r,a])=>{Object.defineProperty(t,r,{get:()=>t[a]!==void 0&&Yu.decode(t[a]),set:s=>t[a]=s===void 0?void 0:Yu.encode(s,!0)}),n(r)}),Object.entries(Wy).forEach(([r,a])=>{Object.defineProperty(t,r,a)}),Object.keys(Wy).forEach(r=>n(r)),Object.entries(R8).forEach(([r,a])=>{Object.defineProperty(t,r,{get:()=>{let s=t[a];if(s===void 0)throw new ur(`Key field ${a} is not defined`);return s},set:s=>{t[a]=s}}),n(r)});function i(){if(t.type!=="EC")throw new ur("EC key type required to compute public point");if(!t.private)throw new ur("EC private key required to compute public point");let r=t.crv,a;switch(r){case"P-256":a=32;break;default:throw new ur(`Unsupported elliptic curve ${r}`)}let s=tk.fromPrivateKey(t.privateKey);t.xBits=M8(s.x,a),t.yBits=M8(s.y,a)}return t.type==="EC"&&(t.d?hw(t,t.privateKey.length):t.xBits&&hw(t,t.xBits.length),t.d&&(!t.x||!t.y)&&i()),t}function to(e,t){let n,i;return ArrayBuffer.isView(e)?n=e:(n=e.privateKey,i=e.publicKey),N8({type:"EC",privateKey:n,publicKey:i,...t})}function Ms(e,t){return N8({type:"EC",publicKey:e,...t})}var{p256:{ProjectivePoint:xc,CURVE:fw},numberToBytesBE:rk,bytesToNumberBE:P8,mod:k8}=As,pw=xc.fromHex("02886e2f97ace46e55ba9dd7242579f2993b64e16ef3dcab95afd497333d8fa12f"),yw=xc.fromHex("03d8bbd6c639c62937b04d997f38c3770719c629d7014d49a24b4f98baa1292b49"),ok=40,Es=class e{constructor(t,n,i){this.context=t,this.random=n,this.w0=i}static async computeW0W1({iterations:t,salt:n},i){let r=new Dn(Et.Little);r.writeUInt32(i);let a=await qe.pbkdf2(r.toByteArray(),n,t,ok*2),s=k8(P8(a.slice(0,40)),fw.n),c=k8(P8(a.slice(40,80)),fw.n);return{w0:s,w1:c}}static async computeW0L(t,n){let{w0:i,w1:r}=await this.computeW0W1(t,n),a=xc.BASE.multiply(r).toRawBytes(!1);return{w0:i,L:a}}static create(t,n){let i=qe.getRandomBigInt(32,fw.p);return new e(t,i,n)}computeX(){return xc.BASE.multiply(this.random).add(pw.multiply(this.w0)).toRawBytes(!1)}computeY(){return xc.BASE.multiply(this.random).add(yw.multiply(this.w0)).toRawBytes(!1)}async computeSecretAndVerifiersFromY(t,n,i){let r=xc.fromHex(i);try{r.assertValidity()}catch(l){throw new Re(`Y is not on the curve: ${l.message}`)}let a=r.add(yw.multiply(this.w0).negate()),s=a.multiply(this.random),c=a.multiply(t);return this.computeSecretAndVerifiers(n,i,s.toRawBytes(!1),c.toRawBytes(!1))}async computeSecretAndVerifiersFromX(t,n,i){let r=xc.fromHex(n),a=xc.fromHex(t);try{r.assertValidity()}catch(l){throw new Re(`X is not on the curve: ${l.message}`)}let s=r.add(pw.multiply(this.w0).negate()).multiply(this.random),c=a.multiply(this.random);return this.computeSecretAndVerifiers(n,i,s.toRawBytes(!1),c.toRawBytes(!1))}async computeSecretAndVerifiers(t,n,i,r){let a=this.computeTranscriptHash(t,n,i,r),s=a.slice(0,16),c=a.slice(16,32),l=await qe.hkdf(s,new Uint8Array(0),we.fromString("ConfirmationKeys"),32),d=l.slice(0,16),f=l.slice(16,32),g=qe.hmac(d,n),b=qe.hmac(f,t);return{Ke:c,hAY:g,hBX:b}}computeTranscriptHash(t,n,i,r){let a=new Dn(Et.Little);return this.addToContext(a,this.context),this.addToContext(a,we.fromString("")),this.addToContext(a,we.fromString("")),this.addToContext(a,pw.toRawBytes(!1)),this.addToContext(a,yw.toRawBytes(!1)),this.addToContext(a,t),this.addToContext(a,n),this.addToContext(a,i),this.addToContext(a,r),this.addToContext(a,rk(this.w0,32)),qe.hash(a.toByteArray())}addToContext(t,n){t.writeUInt64(n.length),t.writeByteArray(n)}};var Un=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.NOTICE=2]="NOTICE",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.FATAL=5]="FATAL",e))(Un||{});function fe(e,t){return{[fe.presentation]:e,[fe.value]:t}}(e=>{let t;(S=>{S.Message="message",S.List="list",S.Squash="squash",S.Strong="strong",S.Weak="weak",S.Error="error",S.Dictionary="dictionary",S.Via="via"})(t=e.Presentation||(e.Presentation={})),e.presentation=Symbol("presentation"),e.value=Symbol("value");function n(S){let{now:L,level:H,facility:oe,prefix:z,values:Q}=S;return{[e.presentation]:"message",now:L??new Date,level:H??Un.INFO,facility:oe??"Diagnostic",prefix:z??"",values:Q??[]}}e.message=n;function i(S){return e("strong",S)}e.strong=i;function r(S){return e("weak",S)}e.weak=r;function a(S){if(S[e.presentation])return S;let L=new String(S);return Object.defineProperty(L,e.presentation,{value:"via"}),L}e.via=a;function s(S,L,H){let oe=[S,e.strong(L)];return H?.self!==void 0&&oe.push(H.self),H?.children!==void 0&&oe.push(e.list(H.children)),oe}e.node=s;function c(S){return e("list",S)}e.list=c;function l(...S){return e("squash",S)}e.squash=l;function d(S){return{...S,[e.presentation]:"dictionary"}}e.dict=d;function f(S){return gw(S)}e.error=f;function g(S,L){return e(S,L)}e.lifecycle=g;function b(S){return Object.entries(S).map(([L,H])=>e(H,L))}e.lifecycleList=b;function w(S){if(S<0)return`${(S*1e3).toPrecision(3)}\u03BCs`;if(S<1e3)return`${S.toPrecision(3)}ms`;if(S<6e4)return`${(S/1e3).toPrecision(3)}s`;let L;S>864e5?(L=`${Math.floor(S/864e5)}d `,S%=864e5):L="";let H=Math.floor(S/36e5).toString().padStart(2,"0");S%=36e5;let oe=Math.floor(S/6e4).toString().padStart(2,"0");S%=6e4;let z=Math.floor(S).toString().padStart(2,"0");return`${L}${H}:${oe}:${z}`}e.interval=w;function O(){return{startedAt:performance.now(),get time(){return performance.now()-this.startedAt},toString(){return w(this.time)}}}e.elapsed=O;function D(S,L){switch(typeof S){case"boolean":S=new Boolean(S);break;case"number":S=new Number(S);break;case"string":S=new String(S);break}return typeof L=="function"?Object.defineProperty(S,e.value,{get:L}):Object.defineProperty(S,e.value,{value:L}),S}e.upgrade=D;function y(S){return`0x${S.toString(16)}`}e.hex=y})(fe||(fe={}));function gw(e,t={}){let{messagePrefix:n,parentStack:i}=t,r=ak(e,i),{stack:a,stackLines:s}=r,{message:c}=r;n&&(c=`${n} ${c}`),c=fe.upgrade(c,fe("error",c));let l,d;if(typeof e=="object"&&e!==null&&({cause:l,errors:d}=e),a===void 0&&l===void 0&&d===void 0)return c;let f=[c];for(a!==void 0&&f.push(fe("list",a));typeof l=="object"&&l!==null;l=l.cause){let g=gw(l,{messagePrefix:"Caused by:",parentStack:s});g[fe.presentation]==="list"&&(g=g[fe.value]??g),Array.isArray(g)?f.push(...g):f.push(g)}if(Array.isArray(d)){let g=0;f.push(fe.list(d.map(b=>gw(b,{messagePrefix:`Cause #${g++}:`,parentStack:s}))))}return f}function ak(e,t){let n,i;if(e!=null&&(e instanceof Error?(n=e.message,i=e.stack):e.message&&(n=typeof e.message=="string"?n:e.toString())),(n==null||n==="")&&(e instanceof Error?(n=e.constructor.name,n==="Error"&&(n="(unknown error)")):n="(unknown error)"),!i)return{message:n};i=i.toString(),i=i.replace(/^.*?\n\nError: /gs,"Error: "),i.startsWith("Error: ")&&(i=i.slice(7));let r=i.indexOf(n);r!==-1&&(i=i.slice(r+n.length).trim());let a=i.split(`
`).map(l=>l.trim()).filter(l=>l!=="");a[0]==="Error"&&a.shift();let s=!1;if(t){let l=0;e:for(;l<a.length-1;l++){let d=t.indexOf(a[l]);if(d!==-1){d++;for(let f=l+1;f<a.length&&d<t.length;f++,d++)if(a[f]!==t[d])continue e;a=a.slice(0,l+1),s=!0;break}}}let c=Array();for(let l of a){let d=l.match(/^at\s+(?:(.+)\s+\(([^)]+)\)|(<anonymous>))$/);if(d){let g=[fe.weak("at "),d[1]??d[3]];d[2]!==void 0&&g.push(fe.weak(" ("),fe.weak(d[2]),fe.weak(")")),c.push(fe.squash(...g));continue}let f=l.match(/^at\s+(.+)(:\d+:\d+)$/);if(f){c.push(fe.squash(fe.weak("at "),f[1],fe.weak(f[2])));continue}c.push(l)}return s&&c.push(fe.weak("(see parent frames)")),{message:n,stack:c,stackLines:a}}var vw=new Set,ta={add(e){vw.add(e)},delete(e){vw.delete(e)},get[fe.presentation](){return fe.Presentation.List},get[fe.value](){return vw}};var bw=new Set,Ne=class e{static get=()=>sk;now(){return new Date}static now=()=>e.get().now();nowMs(){return this.now().getTime()}static nowMs=()=>e.get().nowMs();getTimer(t,n,i){return new Hy(t,n,i,!1)}static getTimer=(t,n,i)=>e.get().getTimer(t,n,i);getPeriodicTimer(t,n,i){return new Hy(t,n,i,!0)}static getPeriodicTimer=(t,n,i)=>e.get().getPeriodicTimer(t,n,i);static sleep=async(t,n)=>new Promise(i=>e.get().getTimer(t,n,i).start());static register(t){t.elapsed=fe.elapsed(),bw.add(t)}static unregister(t){bw.delete(t)}},sk=new Ne,Hy=class{constructor(t,n,i,r){if(this.name=t,this.intervalMs=n,this.callback=i,this.isPeriodic=r,n<0||n>2147483647)throw new ce(`Invalid intervalMs: ${n}. The value must be between 0 and 32-bit maximum value (2147483647)`)}#e;#t=!1;isRunning=!1;get systemId(){return Number(this.#e)}get utility(){return this.#t}set utility(t){if(t!==this.#t){if(this.#e!=null){let n=this.#e;t?n.unref?.():n.ref?.()}this.#t=t}}start(){return this.isRunning&&this.stop(),Ne.register(this),this.isRunning=!0,this.#e=(this.isPeriodic?setInterval:setTimeout)(()=>{this.isPeriodic||(Ne.unregister(this),this.isRunning=!1),this.callback()},this.intervalMs),this}stop(){return(this.isPeriodic?clearInterval:clearTimeout)(this.#e),Ne.unregister(this),this.isRunning=!1,this}};typeof MatterHooks<"u"&&MatterHooks.timeSetup?.(Ne);ta.add({get[fe.value](){return fe.node("\u23F1","Timers",{children:[...bw].map(e=>[e.name,fe.dict({periodic:e.isPeriodic,interval:fe.interval(e.intervalMs),system:e.systemId,elapsed:e.elapsed})])})}});var ot;(e=>{let t;(i=>{i.Unknown="unknown",i.Inactive="inactive",i.Initializing="initializing",i.Active="active",i.Crashed="crashed",i.Destroying="destroying",i.Destroyed="destroyed"})(t=e.Status||(e.Status={}));function n(i,r){switch(r||(r="dependency"),i){case"active":return;case"inactive":throw new Os(r,"is not initialized");case"initializing":throw new Os(r,"is still initializing");case"crashed":throw new am(r,"initialization failed");case"destroying":throw new jy(r,"is closing");case"destroyed":throw new jy(r,"is closed")}throw new El(r,`status "${i}" is unknown`)}e.assertActive=n})(ot||(ot={}));var El=class extends ce{constructor(t,n){super(`${t} ${n}`)}};var Os=class extends El{},am=class extends El{subject},jy=class extends El{},sm=class extends El{},Gy=class extends Qu{};function Lf(e){return e[0].toUpperCase()+e.slice(1)}function xt(e,t=!1){let n=new Array,i=0,r=!1,a=!1,s=0;function c(f){i<f&&n.push(e.slice(i,f)),a=r=!1}for(;s<e.length;s++){if(e[s]>="A"&&e[s]<="Z"){a&&(c(s),i=s),r=!0;continue}if(e[s]>="a"&&e[s]<="z"){a||r&&(c(s-1),i=s-1),a=!0;continue}c(s),(e[s]>="0"&&e[s]<="9"||e[s]==="$")&&n.push(e[s]),i=s+1}c(s);let l=!1,d=n.map(f=>{let g=f[0];return t||l?g=g.toUpperCase():(g=g.toLowerCase(),l=!0),`${g}${f.slice(1).toLowerCase()}`}).join("");return d=d.replace(/(\d+)Ths/i,"$1ths"),d}function si(e){let t=new Set;function n(r){return r.match(/[a-z_$][a-z_$0-9]*/i)?r:JSON.stringify(r)}function i(r){if(r!==void 0){if(r===null)return"null";if(r[si.SERIALIZE])return r[si.SERIALIZE]();if(typeof r!="function"){if(typeof r=="bigint"||r instanceof BigInt||typeof r=="number"||r instanceof Number)return r.toString();if(typeof r=="string"||r instanceof String)return JSON.stringify(r);if(typeof r=="boolean")return r?"true":"false";if(ArrayBuffer.isView(r)){let a=new DataView(r.buffer,r.byteOffset,r.byteLength),s=Array();for(let c=0;c<a.byteLength;c++)s.push(a.getUint8(c).toString(16).padStart(2,"0"));return s.join("")}if(!t.has(r)){r.toJSON&&(r=JSON.parse(JSON.stringify(r)));try{if(t.add(r),Array.isArray(r))return r.length?`[ ${r.map(i).join(", ")} ]`:"[]";let a=Object.entries(r).map(([s,c])=>[s,i(c)]).filter(([s,c])=>c!==void 0).map(([s,c])=>`${n(s??"")}: ${c}`);return a.length?`{ ${a.join(", ")} }`:"{}"}finally{t.delete(r)}}}}}return i(e)}(e=>{e.SERIALIZE=Symbol("SERIALIZE");function t(i){return typeof i=="string"&&(i=new String(i)),i!=null&&(i[e.SERIALIZE]=function(){return this.toString()}),i}e.asIs=t;function n(i){return i==null||i instanceof Date||ArrayBuffer.isView(i)||i[e.SERIALIZE]?!0:Array.isArray(i)?!1:typeof i!="object"}e.isPrimitive=n})(si||(si={}));function no(e,...t){let n=Array();if(t.length===1)return t[0];for(let i=0;i<t.length;i++)i===t.length-1?n.push(e,t[i]):i===t.length-2?n.push(t[i]):n.push(`${t[i]},`);return n.join(" ")}var ck=2;function _i(e){switch(e===void 0&&(e=_i.ANSI),e){case _i.PLAIN:return _i.plain;case _i.ANSI:return _i.ansi;case _i.HTML:return _i.html;default:throw new ce(`Unsupported log format "${e}"`)}}(e=>{e.PLAIN="plain",e.ANSI="ansi",e.HTML="html",e.plain=lk,e.ansi=uk,e.html=mk})(_i||(_i={}));var F8={[ot.Status.Unknown]:"?",[ot.Status.Inactive]:"\u{1F4A4}",[ot.Status.Initializing]:"\u231B",[ot.Status.Active]:"\u2714",[ot.Status.Crashed]:"\u2717",[ot.Status.Destroying]:"\u2620\uFE0E",[ot.Status.Destroyed]:"\u2620\uFE0E"};function V8(e){let t=!1;return{text(n){return t?(t=!1,`
${"".padStart(e*ck)}${n}`):n},break(){return t=!0,""},indent(n){e++;let i=n();return e--,i}}}function q8(e){return F8[e]??F8[ot.Status.Unknown]}function lk(e,t=0){let n=V8(t),i={...n,message:r=>{let a=_8(jr(r.values,i));return`${zy(r.now)} ${Un[r.level]} ${r.facility} ${r.prefix}${a}`},key:r=>n.text(`${r}: `),value:r=>n.text(r()),strong:r=>n.text(`*${r()}*`),weak:r=>n.text(r()),error:r=>n.text(r()),status:(r,a)=>`${n.text(q8(r))}${a()}`,via:r=>n.text(r)};return jr(e,i)}var dk={reset:0,bold:1,dim:2,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37,default:39,gray:90};function L8(...e){let t=[];for(let n of e){if(n==="normal")continue;let i=dk[n];if(i===void 0)throw new Re(`Invalid ANSI code ${n}`);t.push(i)}return t.length?`\x1B[${t.join(";")}m`:""}var B8={default:{color:"default"},prefix:{color:"default",dim:!0},facility:{color:"gray",bold:!0},debug:{color:"gray"},info:{color:"default"},notice:{color:"green"},warn:{color:"yellow"},error:{color:"red"},fatal:{color:"red",bold:!0},key:{color:"blue"},value:{color:"default",dim:!0},strong:{bold:!0},weak:{dim:!0},ballotCheck:{color:"green"},ballotCross:{color:"red"},unknown:{color:"gray"},inactive:{color:"gray"},initializing:{color:"yellow"},active:{color:"green"},crashed:{color:"red"},destroying:{color:"gray"},destroyed:{color:"gray"},via:{color:"magenta"}};function uk(e,t=0){let n=!1,i=V8(t),r={color:"default",dim:!1,bold:!1},a=["default"];function s(f){return d(a[a.length-1]??"default",f)}let c={message:({now:f,level:g,facility:b,prefix:w,values:O})=>{n=!0,a[0]=(Un[g]??"default").toLowerCase();let D=d("prefix",`${zy(f)} ${Un[g].padEnd(6)}`);b=d("facility",b.length>20?`${b.slice(0,10)}~${b.slice(b.length-9)}`:b.padEnd(20)),w&&(w=d("prefix",w));let y=_8(jr(O,c));return`${D} ${b} ${w}${y}`},text:f=>i.text(s(f)),indent:f=>i.indent(f),break:()=>(n&&(n=!1,a[0]="default"),i.break()),key:f=>i.text(d("key",`${f}: `)),value:f=>{a.push("value");let g=f();return a.pop(),g},strong:f=>{a.push("strong");let g=f();return a.pop(),g},weak:f=>{a.push("weak");let g=f();return a.pop(),g},error:f=>{a.push("error");let g=f();return a.pop(),g},status:(f,g)=>{a.push(f);let b=`${i.text(d(f,q8(f)))}${g()}`;return a.pop(),b},via:f=>i.text(d("via",f))};return jr(e,c)+L8("reset");function l(f){let g=B8[f];if(g===void 0)throw new Re(`Invalid ANSI style "${f}"`);let b=!!g.dim,w=!!g.bold,O=g.color;if(!O)for(let y=a.length;y>0;y--){let S=B8[a[y-1]??"default"].color;if(S){O=S;break}}let D=Array();return(!b&&r.dim||!w&&r.bold)&&(D.push("reset"),r.dim=!1,r.bold=!1,r.color="default"),b!==r.dim&&(D.push("dim"),r.dim=!0),w!==r.bold&&(D.push("bold"),r.bold=!0),O&&O!==r.color&&(D.push(O),r.color=O),L8(...D)}function d(f,g){if(g==="")return g;let b=g.match(/([^✓✔✗✘]+|[✓✔✗✘])/g);if(b===null)throw new Re("ANSI text processing regex failure");return b.map(w=>{let O;switch(w){case"\u2713":case"\u2714":O=l("ballotCheck");break;case"\u2717":case"\u2718":O=l("ballotCross");break;default:O=l(f);break}return`${O}${w}`}).join("")}}function na(e,t){return`<span class="matter-log-${e}">${t}</span>`}function mk(e){function t(i){return i.toString().replace(/</g,"&amp").replace(/</g,"&lt;").replace(/>/g,"&gt;")}let n={message:({now:i,level:r,facility:a,prefix:s,values:c})=>{s=s.replace(/ /g,"&nbsp;");let l=jr(c,n);return na(`line ${Un[r].toLowerCase()}`,`${na("time",zy(i))} ${na("level",Un[r])} ${na("facility",a)} ${s}${l}`)},text:t,break:()=>"<br/>",indent:i=>na("indent",i()),key:i=>na("key",`${t(i)}:`)+" ",value:i=>na("value",i()),strong:i=>`<em>${i()}</em>`,weak:i=>na("weak",i()),error:i=>na("error",i()),status:(i,r)=>na(`status-${i}`,r()),via:i=>na("via",t(i))};return jr(e,n)}function U8(e,t,n){if(e===void 0)return t.text("undefined");if(e===null)return t.text("null");if(e instanceof Uint8Array)return t.text(we.toHex(e));if(e instanceof Error)return jr(fe.error(e),t);if(typeof e=="object"&&Symbol.iterator in e&&!(e instanceof String)){let r=pk(e);return r.length?r.length>1?xw(r,t):ww(r[0]).map(s=>(typeof s=="string"&&!n&&(s=s.trim()),jr(s,t))).join(n?"":" "):""}if(e instanceof Date)return t.text(zy(e));if(typeof e=="object")return e instanceof String?e.toString():t.text(si(e)??"undefined");let i=typeof e=="string"||e instanceof String?e:e.toString().trim();return i.includes(`
`)?xw(i.split(`
`),t):t.text(i)}function xw(e,t){let n=Array();for(let i of e)n.push(jr(i,t)),t.break();return n.join("")}function hk(e,t){return t.indent(()=>xw(e,t))}function fk(e,t){let n=e instanceof Map?e.entries():Object.entries(e),i=[];for(let[r,a]of n)i.length&&i.push(" "),i.push(t.key(r)),i.push(t.value(()=>jr(a,t)));return i.join("")}function ww(e){if(typeof e!="object"||e===null)return e;let t=e[fe.value];if(t){if(t===e)throw new Re("Diagnostic value proxies to itself");return ww(t)}return e}function Tw(e){if(typeof e!="object"||e===null)return;if(fe.presentation in e)return e[fe.presentation];let t=e[fe.value];if(t&&t!==e){if(t===e)throw new Re("Diagnostic value proxies to itself");return Tw(t)}}function jr(e,t){let n=Tw(e);switch(e=ww(e),n){case void 0:return U8(e,t,!1);case fe.Presentation.Message:if(e==null)throw new ce("Diagnostic message is not an object");return t.message(fe.message(e));case fe.Presentation.List:if(typeof e?.[Symbol.iterator]!="function")throw new ce("Diagnostic list is not iterable");return hk(e,t);case fe.Presentation.Squash:return U8(e,t,!0);case fe.Presentation.Strong:return t.strong(()=>jr(e,t));case fe.Presentation.Weak:return t.weak(()=>jr(e,t));case fe.Presentation.Error:return t.error(()=>jr(e,t));case fe.Presentation.Via:return t.via(`${e}`);case fe.Presentation.Dictionary:if(typeof e!="object")throw new ce("Diagnostic dictionary is not an object");return fk(e,t);case ot.Status.Unknown:case ot.Status.Inactive:case ot.Status.Initializing:case ot.Status.Active:case ot.Status.Crashed:case ot.Status.Destroyed:return t.status(n,()=>jr(e,t));default:throw new ce(`Unsupported diagnostic presentation "${n}"`)}}function pk(e){let t,n=Array();for(let i of e){if(Tw(i)===fe.Presentation.List){t=void 0,n.push(i);continue}t?t.push(i):n.push(t=[i])}return n}function zy(e){return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")} ${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}.${e.getMilliseconds().toString().padStart(3,"0")}`}function _8(e){return e.match(/\n\S/s)?e.replace(/\n/gs,`
  `):e}lt.formatterFor===lt.defaultFormatterFactory&&(lt.formatterFor=_i);function Ky(e,t){let n=Ky.console;switch(e){case Un.DEBUG:n.debug(t);break;case Un.INFO:n.info(t);break;case Un.NOTICE:n.info(t);break;case Un.WARN:n.warn(t);break;case Un.ERROR:n.error(t);break;case Un.FATAL:n.error(t);break}}var yk=console;(e=>{e.console=yk})(Ky||(Ky={}));function Cw(e){let t=_i(e);return(n,i,r,a,...s)=>t(fe.message({now:n,level:i,facility:r,prefix:a,values:s}))}var J=class e{constructor(t){this.name=t}static logger=new Array({logIdentifier:"default",logFormatter:_i.plain,log:Ky,defaultLogLevel:Un.DEBUG,logLevels:{}});static nestingLevel=0;static addLogger(t,n,i){if(e.logger.some(r=>r.logIdentifier===t))throw new Yt(`Logger "${t}" already exists`);e.logger.push({logIdentifier:t,logFormatter:Cw(i?.logFormat??_i.PLAIN),log:n,defaultLogLevel:i?.defaultLogLevel??Un.DEBUG,logLevels:i?.logLevels??{}})}static removeLogger(t){let n=e.logger.findIndex(i=>i.logIdentifier===t);if(n===-1)throw new Yt(`Logger "${t}" does not exist`);e.logger.splice(n,1)}static getLoggerforIdentifier(t){let n=e.logger.find(i=>i.logIdentifier===t);if(n===void 0)throw new Yt(`Unknown logger "${t}"`);return n}static set level(t){t===void 0&&(t=Un.DEBUG);let n;if(typeof t=="string"){if(t.match(/^[0-9]+$/))n=Number.parseInt(t);else if(n=Un[t.toUpperCase()],n===void 0)throw new ce(`Unsupported log level "${t}"`)}else n=t;if(Un[n]===void 0)throw new ce(`Unsupported log level "${t}"`);e.defaultLogLevel=n}static set format(t){e.setLogFormatterForLogger("default",Cw(t))}static set logLevels(t){e.setLogLevelsForLogger("default",t)}static get logLevels(){return e.getLoggerforIdentifier("default").logLevels}static set defaultLogLevel(t){e.setDefaultLoglevelForLogger("default",t)}static get defaultLogLevel(){return e.getLoggerforIdentifier("default").defaultLogLevel}static set log(t){e.setLogger("default",t)}static get log(){return e.getLoggerforIdentifier("default").log}static set logFormatter(t){e.setLogFormatterForLogger("default",t)}static get logFormatter(){return e.getLoggerforIdentifier("default").logFormatter}static setFormatForLogger(t,n){let i=e.logger.find(r=>r.logIdentifier===t);if(i)i.logFormatter=Cw(n);else throw new Yt(`Unknown logger "${t}"`)}static setDefaultLoglevelForLogger(t,n){let i=e.logger.find(r=>r.logIdentifier===t);if(i)i.defaultLogLevel=n;else throw new Yt(`Unknown logger "${t}"`)}static setLogLevelsForLogger(t,n){let i=e.logger.find(r=>r.logIdentifier===t);if(i)i.logLevels=n;else throw new Yt(`Unknown logger "${t}"`)}static setLogger(t,n){let i=e.logger.find(r=>r.logIdentifier===t);if(i)i.log=n;else throw new Yt(`Unknown logger "${t}"`)}static setLogFormatterForLogger(t,n){let i=e.logger.find(r=>r.logIdentifier===t);if(i)i.logFormatter=n;else throw new Yt(`Unknown logger "${t}"`)}static get(t){return new e(t)}static toJSON(t){return JSON.stringify(t,(n,i)=>typeof i=="bigint"?i.toString():i instanceof Uint8Array?we.toHex(i):i===void 0?"undefined":i)}static maskString(t,n="*",i){return t.substring(0,i??0)+t.substring(i??0).replace(/./g,n)}static nest(t){this.nestingLevel++;try{return t()}finally{this.nestingLevel--}}static async nestAsync(t){this.nestingLevel++;try{return await t()}finally{this.nestingLevel--}}static reportUnhandledError(t){try{e.get("Logger").fatal("Unhandled error detected:",t)}catch{}}static capture(t,n="default"){if(!e)throw new Error("No logger loaded, cannot capture logs");let i=e.getLoggerforIdentifier(n),r={logFormatter:i.logFormatter,log:i.log,defaultLogLevel:i.defaultLogLevel,logLevels:{...i.logLevels}};try{e.setFormatForLogger(n,_i.PLAIN);let a=new Array;return e.setLogger(n,(s,c)=>a.push({level:s,message:c.replace(/\d{4}-\d\d-\d\d \d\d:\d\d:\d\d\.\d\d\d/,"xxxx-xx-xx xx:xx:xx.xxx")})),t(),a}finally{e.setLogFormatterForLogger(n,r.logFormatter),e.setDefaultLoglevelForLogger(n,r.defaultLogLevel),e.setLogLevelsForLogger(n,r.logLevels),e.setLogger(n,r.log)}}debug=(...t)=>this.log(Un.DEBUG,t);info=(...t)=>this.log(Un.INFO,t);notice=(...t)=>this.log(Un.NOTICE,t);warn=(...t)=>this.log(Un.WARN,t);error=(...t)=>this.log(Un.ERROR,t);fatal=(...t)=>this.log(Un.FATAL,t);log(t,n){e.logger.forEach(i=>{t<(i.logLevels[this.name]??i.defaultLogLevel)||i.log(t,i.logFormatter(Ne.now(),t,this.name,gk(),n))})}};typeof MatterHooks<"u"&&MatterHooks.loggerSetup?.(J);function gk(){return J.nestingLevel?"\u23B8".padEnd(J.nestingLevel*2):""}if(typeof Symbol.dispose!="symbol"&&(Symbol.dispose=Symbol("dispose"),typeof Symbol.dispose!="symbol"))throw new Error("Symbol.dispose is undefined and polyfill installation failed");if(typeof Symbol.asyncDispose!="symbol"&&(Symbol.asyncDispose=Symbol("asyncDispose"),typeof Symbol.asyncDispose!="symbol"))throw new Error("Symbol.asyncDispose is undefined and polyfill installation failed");function Oa(){let e,t,n=new Promise((i,r)=>{e=i,t=r});if(!e||!t)throw new Re("Failed to extract resolve/reject from Promise context");return{promise:n,resolver:e,rejecter:t}}function Bf(e){return new Promise((t,n)=>{let i=0,r=!1;for(let a of e)(typeof a=="function"?a():a).then(c=>{r||(r=!0,t(c))}).catch(c=>{i++,!r&&i===e.length&&n(c)})})}var Pe={is(e){return typeof e=="object"&&e!==null&&typeof e.then=="function"},then(e,t,n){let i=!1;try{let r;if(e instanceof Function?r=e():r=e,Pe.is(r))return r.then(t,n?a=>(i=!0,n?.(a)):void 0);if(t)return t(r)}catch(r){if(n&&!i)return n(r);throw r}},catch(e,t){return this.then(e,void 0,t)},finally(e,t){let n;try{typeof e=="function"?n=e():n=e}finally{if(Pe.is(n))typeof n.finally=="function"?n=n.finally(t):n=n.then(i=>Pe.then(()=>t?.(),()=>i),i=>Pe.then(()=>t?.(),()=>{throw i}));else{let i=t?.();if(Pe.is(i)){let r=n;n=i.then(()=>r)}}}return n},[Symbol.toStringTag]:"MaybePromise"};Pe.toString=()=>"MaybePromise";var vk=J.get("Observable"),Iw=Symbol("consider-observed");function bk(e){throw e}var Uf=class{#e;#t;#n;#i;#o;#r;#a;constructor(t,n){this.#e=t??bk,this.#i=n}[Symbol.dispose](){this.#t=this.#n=void 0,this.#a?.()}get isAsync(){return this.#i}set isAsync(t){this.#i=t}get isObserved(){if(this.#t){for(let t of this.#t)if(t[Iw]!==!1)return!0}if(this.#n){for(let t of this.#n)if(t[Iw]!==!1)return!0}return!1}isObservedBy(t){return!!this.#t?.has(t)}emit(...t){if(!this.#t)return;let n=[...this.#t][Symbol.iterator](),i=r=>{if(r!==void 0)return r;for(let a=n.next();!a.done;a=n.next()){let s,c=a.value;try{s=c(...t)}catch(l){l instanceof Error?this.#e(l,c):this.#e(new Error(`${l}`),c)}if(this.#n?.has(c)&&(this.#n.delete(c),this.#t?.delete(c)),s!==void 0){if(Pe.is(s)){if(!this.isAsync){let l;c.name?l=` "${c.name}"`:l="",s.then(void 0,d=>vk.error(`Unhandled error in async observer${l}:`,d));continue}return s.then(l=>l===void 0?i():l)}return s}}};return i()}on(t){this.#t||(this.#t=new Set),this.#t.add(t)}off(t){this.#t?.delete(t)}once(t){this.on(t),this.#n||(this.#n=new Set),this.#n.add(t)}then(t,n){return new Promise(i=>{this.once((...r)=>{i(r)})}).then(t,n)}async*[Symbol.asyncIterator](){let t=this.#s();try{for(;t;){let n=await t;n&&(t=n.promise,yield n.value)}}finally{this.#r?.()}}#s(){if(this.#o)return this.#o();let t,n=1;function i(){return new Promise(s=>t=s)}let r=i();function a(...s){let c=t;r=i(),c({value:s[0],promise:r})}this.on(a),this.#o=()=>(n++,r),this.#r=()=>{n--||this.#a?.()},this.#a=()=>{this.off(a),t(void 0),this.#a=void 0,this.#r=void 0}}};function xk(e){return new Uf(e)}var ht=xk;function wk(e){return new Uf(e,!0)}var tr=wk;function Sw(e,t){let n=e[t];if(typeof!n?.on!="function")throw new ce(`Invalid event name ${t}`);return n}var Gr=class{emit(t,...n){Sw(this,t).emit(...n)}addListener(t,n){Sw(this,t).on(n)}removeListener(t,n){Sw(this,t).off(n)}get eventNames(){return Object.keys(this).filter(t=>typeof this[t]?.on=="function")}[Symbol.dispose](){for(let t of this.eventNames)this[t][Symbol.dispose]?.()}},Xy=class extends Uf{#e;#t=super.emit.bind(this);constructor(t){super(),Object.defineProperty(this.#t,Iw,{get(){return this.isObserved}}),this.#e=t,this.#e.on(this.#t),this.emit=this.#e.emit.bind(this.#e)}[Symbol.dispose](){this.#e.off(this.#t),super[Symbol.dispose]()}get isAsync(){return this.#e.isAsync}get isObserved(){return this.#e.isObserved}emit},Io=class{#e;#t=new Map;#n=new Map;constructor(t){this.#e=t}on(t,n,i=this.#e){i!==void 0&&(n=n.bind(i)),t.on(n);let r=this.#t.get(t);r===void 0?this.#t.set(t,[n]):r.push(n)}off(t,n,i=this.#e){if(i){let a=this.#n.get(n);if(a===void 0||a.get(i)===void 0)return;a.delete(i),a.size===0&&this.#n.delete(n)}let r=this.#t.get(t);if(r){let a=r.indexOf(n);a!==-1&&r?.splice(a,1)}t.off(n)}close(){for(let[t,n]of this.#t.entries())for(let i of n)t.off(i);this.#t.clear(),this.#n.clear()}};var Jt;(e=>{e.create=Symbol("create")})(Jt||(Jt={}));var $8=J.get("Runtime"),Da=class e{#e=new Set;#t=new Set;#n=ht();#i=!1;#o=ht();#r=ht();#a=ht();constructor(t){t.set(e,this),ta.add(this)}add(t){if(t&&!this.#e.has(t)){if(this.#e.add(t),this.#e.size===1&&this.#o.emit(),t.then){Promise.resolve(t).catch(n=>this.#c(n)).finally(()=>this.delete(t));return}t.construction?.change?t.construction.change.on(n=>{switch(n){case ot.Status.Crashed:this.#c();break;case ot.Status.Destroyed:this.delete(t);break}}):t.then&&t.then&&Promise.resolve(t).catch(n=>this.#c(n)).finally(()=>this.delete(t))}}delete(t){this.#e.has(t)&&(this.#e.delete(t),this.#t.delete(t),this.#n.emit(),!this.#e.size&&(this.cancel(),this.inactive.finally(()=>this.#r.emit())))}get started(){return this.#o}get stopped(){return this.#r}get crashed(){return this.#a}static[Jt.create](t){return new this(t)}cancel(){if(!this.#i){this.#i=!0,$8.notice("Shutting down");for(let t of this.#e){let n=this.#s(t);n&&this.add(n)}}}get inactive(){return this.#e.size?new Promise(t=>{let n=()=>{this.#e.size||(this.#n.off(n),t())};this.#n.on(n)}):Promise.resolve()}async close(){this.cancel(),await this.inactive,ta.delete(this)}[Symbol.asyncDispose](){return this.close()}get[fe.value](){return fe.node("\u{1F6E0}","Workers",{children:[...this.#e].map(t=>{let n=t[e.label];return n===void 0&&(n=t[fe.value],n===void 0&&(n=t.toString())),n})})}#s(t){if(this.#t.has(t))return;let n=()=>{if(this.#t.add(t),t.close)return this.#t.add(t),Promise.resolve(t.close()).finally(()=>this.delete(t));if(t[Symbol.asyncDispose])return this.#t.add(t),Promise.resolve(t[Symbol.asyncDispose]?.()).finally(()=>this.delete(t));if(t[Symbol.dispose]){t[Symbol.dispose]?.(),this.delete(t);return}};if(t.construction){t.construction.onSuccess(n);return}return n()}#c(t){t&&$8.error(t),this.crashed.emit(t),this.cancel()}};(e=>{e.label=Symbol("label")})(Da||(Da={}));var cm=class e{#e={};#t=Array();#n=new Set;constructor(t){t.set(e,this)}static[Jt.create](t){return new this(t)}get[fe.value](){return"Configuration"}get vars(){return this.#e}use(t){let n=new Set;try{this.#t.push(n),t()}finally{this.#t.pop()}let i={variables:n,configurator:t,close:()=>{this.#n.delete(i)}};return this.#n.add(i),i}get(t,n){for(let r of this.#t)r.add(t);switch(typeof n){case"string":return this.string(t)??n;case"number":return this.number(t)??n;case"boolean":return this.boolean(t)??n}let i=this.#e;for(let r of this.#i(t)){if(i===null||typeof i!="object"||Array.isArray(i))return n;i=i[r]}return i??n}has(t){return this.get(t)!==void 0}set(t,n){let i=t.toLowerCase().split("."),r=i.pop(),a=this.#e;for(let s of i){let c=a[s];if(c==null)c=a[s]={};else if(typeof c!="object"||Array.isArray(c))throw new ce(`Can't set ${t} because segment ${s} is not a map`);a=c}if(a[r]!==n){a[r]=n;for(let s of this.#n)s.variables.has(t)&&s.configurator()}}string(t){let n=this.get(t);return n===void 0||typeof n=="string"?n:n===null?"null":n.toString()}boolean(t){let n=this.get(t);switch(n){case void 0:return n;case null:case 0:case!1:case"false":case"off":return!1;default:return!0}}number(t){let n=this.get(t);if(typeof n=="number")return n;if(typeof n=="string")return n=Number.parseFloat(n),Number.isNaN(n)?void 0:n}integer(t,n){let i=this.number(t)??n;if(typeof i=="number")return Math.floor(i)}increment(t){let n=this.integer(t)??0;return this.set(t,n+1),n}addConfigStyle(t){let n=Array(),i=r=>{for(let a in r){let s=r[a];cn(s)?(n.push(a),i(s),n.pop()):this.set([...n,a].join("."),s)}};i(t)}addUnixEnvStyle(t){this.addConfigStyle(Tk(t))}addArgvStyle(t){this.addConfigStyle(Ck(t))}#i(t){return t.toLowerCase().split(".").map(n=>{if(n=n.trim(),n==="")throw new ce(`Variable name ${t} contains empty segments`);return n})}};function Aw(e,t,n){if(!t.length)return;let i=e[t[0]];if(t.length===1){i===void 0&&(e[t[0]]=n);return}typeof i!="object"&&(i=e[t[0]]={}),Aw(i,t.slice(1),n)}function Tk(e){let t={};for(let n in e)if(n.startsWith("MATTER_")){if(e[n]===void 0||e[n]==="")continue;Aw(t,n.slice(7).toLowerCase().split("_"),e[n])}return t}function Ck(e){let t={};for(let n of e){if(!n.startsWith("--"))continue;n=n.slice(2);let i=n.indexOf("="),r,a;i===-1?(r=n,a=!0):(r=n.slice(0,i),a=n.slice(i+1),(a.startsWith("'")&&a.endsWith("'")||a.startsWith('"')&&a.endsWith('"'))&&(a=a.slice(1,-1).replaceAll("\\'","'").replaceAll('\\"','"'))),Aw(t,r.toLowerCase().split("-"),a)}return t}var W8=J.get("Environment"),Rr=class{#e;#t;#n;#i=ht();#o=ht();#r=new Map;constructor(t,n){this.#t=t,this.#n=n}has(t){return this.#e?.get(t)!==void 0||(this.#n?.has(t)??!1)}get(t){let n=this.#e?.get(t)??this.#n?.get(t);if(n)return n;if(t[Jt.create])return this.set(t,n=t[Jt.create](this)),n;throw new sm(`Required dependency ${t.name}`,"is not available")}delete(t,n){if(n!==void 0&&this.#e?.get(t)!==n)return;this.#e?.delete(t),this.#n?.delete(t),this.#o.emit(t,n);let i=this.#r.get(t);i&&i.deleted.emit(n)}async load(t){let n=this.get(t);return await n.construction,n}set(t,n){this.#e||(this.#e=new Map),this.#e.set(t,n),this.#i.emit(t,n);let i=this.#r.get(t);i&&i.added.emit(n)}get name(){return this.#t}get added(){return this.#i}get deleted(){return this.#o}eventsFor(t){let n=this.#r.get(t);return n===void 0&&(n={added:new ht,deleted:new ht},this.#r.set(t,n)),n}static get default(){return Mw}static set default(t){Mw=t,t.vars.use(()=>{J.level=t.vars.get("log.level",J.level),J.format=t.vars.get("log.format",J.format);let n=Mw.vars.number("log.stack.limit");n!==void 0&&(Error.stackTraceLimit=n)})}get vars(){return this.get(cm)}get runtime(){return this.get(Da)}diagnose(){Ne.getTimer("Diagnostics",0,()=>{try{W8.notice("Diagnostics follow",ta)}catch(t){W8.error("Unhandled error gathering diagnostics:",t)}}).start()}loadVariables(){return{}}},Mw=new Rr("default");var Ew=class{constructor(t=285,n=2,i=8){this.prime=t,this.size=Math.floor(Math.pow(2,i)-1);let r=1;for(let a=0;a<this.size;a++)this.exp[a]=r,this.log[r]=a,r=this.multiplyNoLut(r,n);for(let a=this.size;a<this.size*2;a++)this.exp[a]=this.exp[a-this.size]}exp=new Array;log=new Array;size;multiply(t,n){return t===0||n===0?0:this.exp[(this.log[t]+this.log[n])%this.size]}multiplyPolynom(t,n){let i=new Array,r=new Array;for(let a=0;a<t.length;a++)r[a]=this.log[t[a]];for(let a=0;a<n.length;a++){if(n[a]===0)continue;let s=this.log[n[a]];for(let c=0;c<t.length;c++)t[c]!==0&&(i[c+a]^=this.exp[r[c]+s])}return i}power(t,n){return this.exp[this.log[t]*n%this.size]}multiplyNoLut(t,n){let i=0;for(;n>0;)n&1&&(i=i^t),n=n>>1,t=t<<1,t>this.size&&(t=t^this.prime);return i}},Yy=class{galoisField=new Ew;computeErrorCorrection(t,n){let{length:i}=t;if(i+n>this.galoisField.size)throw new De("Message is too long");let r=this.generatePolynom(n),{length:a}=r,s=new Uint8Array(i+a-1);s.set(t,0);for(let c=0;c<i;c++){let l=s[c];if(l!==0)for(let d=0;d<a;d++)s[c+d]^=this.galoisField.multiply(r[d],l)}return s.slice(i)}generatePolynom(t){let n=[1];for(let i=0;i<t;i++)n=this.galoisField.multiplyPolynom(n,[1,this.galoisField.power(2,i)]);return n}};var Vf=class{multiply=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]];inverse=[0,4,3,2,1,5,6,7,8,9];permute=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]];computeChecksum(t){let{length:n}=t,i=0;for(let r=1;r<=n;r++){let a=Number.parseInt(t[n-r]);i=this.multiply[i][this.permute[r%8][a]]}return this.inverse[i]}};var _n=(e=>(e.UDP="udp",e.BLE="ble",e.TCP="tcp",e))(_n||{});var zr=class extends lt{},qf=(e=>(e[e.Unspecified=0]="Unspecified",e[e.WiFi=1]="WiFi",e[e.Ethernet=2]="Ethernet",e[e.Cellular=3]="Cellular",e[e.Thread=4]="Thread",e))(qf||{}),nr=class{static get=()=>{throw new $r("No provider configured")};async close(){}};function lm(e){let t;return()=>(t===void 0&&(t=e()),t)}var Sk=J.get("SimulatedNetwork"),dm=class e{static get=lm(()=>new e);listenersMap=new Map;onUdpData(t,n,i){let r=`${t??"*"}:${n}`,a=this.listenersMap.get(r);return a===void 0&&(a=new Array,this.listenersMap.set(r,a)),a.push(i),{close:async()=>this.offUdpData(t,n,i)}}offUdpData(t,n,i){let r=`${t??"*"}:${n}`,a=this.listenersMap.get(r);if(a===void 0)return;let s=a.filter(c=>c!==i);if(s.length===0){this.listenersMap.delete(r);return}this.listenersMap.set(r,s)}sendUdp(t,n,i,r,a){[`${i}:${r}`,`*:${r}`].forEach(s=>this.listenersMap.get(s)?.forEach(c=>{try{c(e.INTERFACE_NAME,t,n,a)}catch(l){Sk.error(l)}}))}};(e=>{e.INTERFACE_NAME="fakeInterface"})(dm||(dm={}));var mr=class{#e=new Set;#t;#n;#i;constructor(...t){for(let n of t)this.add(n)}[Symbol.iterator](){return this.#e[Symbol.iterator]()}get size(){return this.#e.size}map(t){return[...this].map(t)}find(t){for(let n of this)if(t(n))return n}filter(t){let n=new Array;for(let i of this)t(i)&&n.push(i);return n}has(t){return this.#e.has(t)}add(t){let n=this.create(t);if(!this.#e.has(t)){if(this.#e.add(t),this.#i)for(let i in this.#i){let r=n[i];if(r===void 0)continue;let a=this.#i[i];a===void 0||a.has(r)||a.set(r,n)}this.#t?.emit(n)}}get(t,n){this.#i||(this.#i={});let i=this.#i[t];if(i===void 0){i=new Map;for(let r of this){let a=r[t];a===void 0||i.has(a)||i.set(a,r)}this.#i[t]=i}return i?.get(n)}delete(t){if(!this.#e.delete(t))return!1;if(this.#i)for(let n in this.#i){let i=t[n];if(i===void 0)continue;let r=this.#i[n];r!==void 0&&r.get(i)===t&&r.delete(i)}return this.#n?.emit(t),!0}clear(){this.#e.clear()}get added(){return this.#t===void 0&&(this.#t=ht()),this.#t}get deleted(){return this.#n===void 0&&(this.#n=ht()),this.#n}create(t){return t}};var wc=class extends mr{constructor(...t){super(...t)}async close(){for(let t of this)await t.close()}interfaceFor(t,n){return this.find(i=>i.supports(t,n))}hasInterfaceFor(t,n){return this.interfaceFor(t,n)!==void 0}};var um=class e extends wc{[Jt.create](t){let n=new e;return t.set(e,this),n}};function Ds(e){return e.type==="udp"?`udp://${e.ip}:${e.port}`:`ble://${e.peripheralAddress}`}var Ol=class e{constructor(t){this.server=t}static async create(t,n,i,r,a){return new e(await t.createUdpChannel({listeningPort:i,type:n,netInterface:a,listeningAddress:r}))}supports(t,n){return this.server.supports(t,n)}async openChannel(t){if(t.type!=="udp")throw new zr(`Unsupported address type ${t.type}`);let{ip:n,port:i}=t;return Promise.resolve(new Zy(this.server,n,i))}onData(t){return this.server.onData((n,i,r,a)=>t(new Zy(this.server,i,r),a))}get port(){return this.server.port}async close(){this.server.close()}},Zy=class{constructor(t,n,i){this.server=t,this.peerAddress=n,this.peerPort=i}isReliable=!1;type=_n.UDP;get maxPayloadSize(){return this.server.maxPayloadSize}send(t){return this.server.send(this.peerAddress,this.peerPort,t)}get name(){return`${this.type}://${this.peerAddress}:${this.peerPort}`}async close(){}};var Qy=class{constructor(t,n,i){this.expirationMs=n,this.expireCallback=i,this.periodicTimer=Ne.getPeriodicTimer(fe.upgrade(`${t} cache expiration`,[fe.strong(t),"cache expiration"]),n,()=>this.expire()).start(),this.periodicTimer.utility=!0}knownKeys=new Set;values=new Map;timestamps=new Map;periodicTimer;keys(){return Array.from(this.knownKeys.values())}async deleteEntry(t){let n=this.values.get(t);this.expireCallback!==void 0&&n!==void 0&&await this.expireCallback(t,n),this.values.delete(t),this.timestamps.delete(t)}async clear(){for(let t of this.values.keys())await this.deleteEntry(t);this.values.clear(),this.timestamps.clear()}async close(){await this.clear(),this.knownKeys.clear(),this.periodicTimer.stop()}async expire(){let t=Ne.nowMs();for(let[n,i]of this.timestamps.entries())t-i<this.expirationMs||await this.deleteEntry(n)}},mm=class extends Qy{constructor(t,n,i,r){super(t,i,r),this.generator=n}get(...t){let n=t.join(","),i=this.values.get(n);return i===void 0&&(i=this.generator(...t),this.values.set(n,i),this.knownKeys.add(n)),this.timestamps.set(n,Ne.nowMs()),i}},Jy=class extends Qy{constructor(t,n,i,r){super(t,i,r),this.generator=n}async get(...t){let n=t.join(","),i=this.values.get(n);return i===void 0&&(i=await this.generator(...t),this.values.set(n,i),this.knownKeys.add(n)),this.timestamps.set(n,Ne.nowMs()),i}};var H8=J.get("UdpMulticastServer"),hm=class e{constructor(t,n,i,r,a,s,c){this.network=t,this.broadcastAddressIpv4=n,this.broadcastAddressIpv6=i,this.broadcastPort=r,this.serverIpv4=a,this.serverIpv6=s,this.netInterface=c}static async create({netInterface:t,broadcastAddressIpv4:n,broadcastAddressIpv6:i,listeningPort:r,network:a}){return new e(a,n,i,r,n===void 0?void 0:await a.createUdpChannel({type:"udp4",netInterface:t,listeningPort:r,membershipAddresses:[n]}),await a.createUdpChannel({type:"udp6",netInterface:t,listeningPort:r,membershipAddresses:[i]}),t)}broadcastChannels=new mm("UDP broadcast channel",(t,n)=>this.createBroadcastChannel(t,n),5*60*1e3,async(t,n)=>(await n).close());onMessage(t){this.serverIpv4?.onData((n,i,r,a)=>t(a,i,n)),this.serverIpv6.onData((n,i,r,a)=>t(a,i,n))}async send(t,n,i){if(n=n??this.netInterface,i!==void 0&&n!==void 0)try{await(await this.broadcastChannels.get(n,Wr(i))).send(i,this.broadcastPort,t)}catch(r){H8.info(`${n} ${i}: ${r.message}`)}else{let r=n!==void 0?[{name:n}]:await this.network.getNetInterfaces();await Promise.all(r.map(async({name:a})=>{let{ipV4:s,ipV6:c}=await this.network.getIpMac(a)??{mac:"",ipV4:[],ipV6:[]},l=[...s,...c];await Promise.all(l.map(async d=>{let f=s.includes(d),g=f?this.broadcastAddressIpv4:this.broadcastAddressIpv6;if(g!=null)try{await(await this.broadcastChannels.get(a,f)).send(g,this.broadcastPort,t)}catch(b){H8.info(`${a}: ${b.message}`)}}))}))}}async createBroadcastChannel(t,n){return await this.network.createUdpChannel({type:n?"udp4":"udp6",listeningPort:this.broadcastPort,netInterface:t})}async close(){this.serverIpv4?.close(),this.serverIpv6.close(),await this.broadcastChannels.close()}};var hr=class extends lt{};var _f=class{};var Dl=class e{constructor(t,n){this.storage=t,this.thisContexts=n}get(t,n){let i=this.storage.get(this.thisContexts,t);if(i!==void 0)return Pe.is(i)?i.then(r=>{if(r!==void 0)return r;if(n===void 0)throw new hr(`No value found for key ${t} in context ${this.thisContexts} and no default value specified!`);return n}):i;if(n===void 0)throw new hr(`No value found for key ${t} in context ${this.thisContexts} and no default value specified!`);return n}has(t){let n=this.storage.get(this.thisContexts,t);return n!==void 0?Pe.is(n)?n.then(i=>i!==void 0):!0:!1}set(t,n){return typeof t=="string"?this.storage.set(this.thisContexts,t,n):this.storage.set(this.thisContexts,t)}delete(t){return this.storage.delete(this.thisContexts,t)}createContext(t){if(t.length===0)throw new hr("Context must not be an empty string");if(t.includes("."))throw new hr("Context must not contain dots!");return new e(this.storage,[...this.thisContexts,t])}keys(){return this.storage.keys(this.thisContexts)}values(){return this.storage.values(this.thisContexts)}contexts(){return this.storage.contexts(this.thisContexts)}clear(){let t=this.keys();if(Pe.is(t))return t.then(i=>Promise.all(i.map(r=>this.delete(r))).then(()=>Promise.resolve()));let n=new Array;if(t.forEach(i=>{let r=this.delete(i);r!==void 0&&Pe.is(r)&&n.push(r)}),n.length>0)return Promise.all(n).then(()=>Promise.resolve())}clearAll(){return this.storage.clearAll(this.thisContexts)}};var Ra=class{constructor(t){this.storage=t}initialized=!1;initialize(){if(!this.storage.initialized){let t=this.storage.initialize();if(Pe.is(t))return t.then(()=>{this.initialized=!0})}this.initialized=!0}close(){return this.initialized=!1,this.storage.close()}createContext(t){if(!this.initialized)throw new hr("The storage needs to be initialized first!");if(!t.length)throw new hr("Context must not be an empty string!");if(t.includes("."))throw new hr("Context must not contain dots!");return new Dl(this.storage,[t])}};var Rs=class e{#e;#t;constructor(t,n){t.set(e,this),this.#e=n}static[Jt.create](t){return new this(t)}async open(t){if(this.#e===void 0)throw new $r("Storage is unavailable because no platform implementation is installed");let n=this.#e(t),i=new Ra(n);return await i.initialize(),i}set factory(t){this.#e=t}get location(){return this.#t}set location(t){this.#t=t}[fe.value](){return["Persistence",fe.dict({location:location??"(unknown)",available:!!this.#e})]}};var Rl="__object__",Ns="__value__";function $f(e,t){return JSON.stringify(e,(n,i)=>i===void 0?`{"${Rl}":"Undefined"}`:typeof i=="bigint"?`{"${Rl}":"BigInt","${Ns}":"${i.toString()}"}`:i instanceof Uint8Array?`{"${Rl}":"Uint8Array","${Ns}":"${we.toHex(i)}"}`:cn(i)&&i.type==="Buffer"&&Array.isArray(i.data)?`{"${Rl}":"Uint8Array","${Ns}":"${we.toHex(Uint8Array.from(i.data))}"}`:i instanceof Map?`{"${Rl}":"Map","${Ns}":${JSON.stringify($f(Array.from(i.entries())))}}`:i,t)}function eg(e){return JSON.parse(e,(t,n)=>{if(typeof n=="string"&&n.startsWith(`{"${Rl}":"`)&&n.endsWith("}")){let i=JSON.parse(n),r=i[Rl];switch(r){case"Undefined":return;case"BigInt":return BigInt(i[Ns]);case"Uint8Array":return we.fromHex(i[Ns]);case"Map":return new Map(eg(i[Ns]));case"AttributeId":case"CaseAuthenticatedTag":case"ClusterId":case"CommandId":case"DataVersion":case"DeviceTypeId":case"EndpointNumber":case"EntryIndex":case"EventId":case"FabricIndex":case"FieldId":case"GroupId":case"VendorId":return i[Ns];case"EventNumber":case"FabricId":case"NodeId":return BigInt(i[Ns]);default:throw new De(`Unknown object type: ${r}`)}}return n})}async function io(e,...t){let n=new e(...t);if(n.construction.status===ot.Status.Inactive)throw new ce(`You cannot use asyncNew on ${e.name} because its construction is controlled by another component`);return await n.construction.ready,n}function Mt(e,t){t||j8(e);let n,i,r,a,s,c,l,d,f=!1,g=ot.Status.Inactive,b,w={[Symbol.toStringTag]:"AsyncConstruction",get error(){return d},get status(){return g},get change(){return b===void 0&&(b=ht()),b},get isErrorHandled(){return f},start(...z){if(g!==ot.Status.Inactive)throw new ce(`Cannot initialize ${e} because it is already active`);j8(e),g=ot.Status.Initializing;try{O(()=>e[Mt.construct](...z))}catch(Q){L(Q);return}},assert(z,Q){if(ot.assertActive(g,z??e.constructor.name),!(arguments.length<2)){try{if(Q===void 0)throw new ce("Property is undefined")}catch(N){let q;throw N instanceof Error?q=N:q=new ce(N?.toString()??"(unknown error)"),q.message=`Cannot access ${z}: ${q.message}`,q}return Q}},then(z,Q){let N=Q?()=>Q?.(D()):void 0;return g===ot.Status.Inactive||g===ot.Status.Initializing?(i||(i=new Promise((G,te)=>{r=G,a=te})),i.then(z,N)):(d?Promise.reject(D()):Promise.resolve(e)).then(z,N)},catch(z){return this.then(void 0,z)},onSuccess(z){let Q=()=>{let N=oe("onSuccess");try{let q=z();if(Pe.is(q))return Promise.resolve(q).catch(N)}catch(q){N(q)}};this.then(Q).catch(N=>{am.accept(N)})},onError(z){let Q=N=>{let q=oe("onError");try{let G=z(dc(N));if(Pe.is(G))return G.then(void 0,q)}catch(G){q(G)}};this.ready.catch(Q)},onCompletion(z){let Q=()=>{let N=oe("onCompletion");try{z()}catch(q){N(q)}};this.then(Q,Q)},close(z){let Q=oe("destructor");function N(){y(ot.Status.Destroyed),c&&(c(),c=l=void 0)}let q=e[Mt.destruct],G=q?function(){try{let pe=q.bind(e)();if(pe)return pe.then(void 0,Q).then(N)}catch(pe){Q(pe)}N()}:N,te=z?function(){try{let pe=z();if(pe)return pe.then(void 0,Q).then(G)}catch(pe){Q(pe)}G()}:G;function K(){return g===ot.Status.Destroying||g===ot.Status.Destroyed?w.closed:(y(ot.Status.Destroying),te())}return g===ot.Status.Initializing?this.then(K,K):K()},finally(z){return Promise.prototype.finally.call(this,z)},setStatus(z){if(this.status!==z){switch(g){case z:return;case ot.Status.Destroying:if(z!==ot.Status.Destroyed)throw new ce("Cannog change status because destruction is ongoing");break;case ot.Status.Destroyed:throw new ce("Cannot change status because destruction is final");case ot.Status.Initializing:throw new ce("Cannot change status because initialization is ongoing")}switch(z){case ot.Status.Inactive:i=s=void 0,f=!1,d=void 0;break;case ot.Status.Active:i=s=void 0,d=void 0;break;default:break}y(z)}},crash(z){d=z,y(ot.Status.Crashed)},get ready(){return{[Symbol.toStringTag]:"AsyncConstruction#primary",then(z,Q){let N;return Q&&(f=!0,N=()=>Q(dc(d))),w.then(z,N)},catch(z){return this.then(void 0,z)},finally(z){return Promise.prototype.finally.call(this,z)}}},get closed(){return s===void 0&&(s=new Promise((z,Q)=>{c=z,l=Q})),{[Symbol.toStringTag]:"AsyncConstruction#primary",then(z,Q){let N;return Q&&(f=!0,N=()=>Q(dc(d))),s.then(z,N)},catch(z){return this.then(void 0,z)},finally(z){return Promise.prototype.finally.call(this,z)}}}};return t&&O(t),w;function O(z){g=ot.Status.Initializing,n=z(),Pe.is(n)?n.then(S,L):S()}function D(){if(!f&&d)return f=!0,d;let z;e.toString===Object.prototype.toString?z=e.constructor.name:z=e.toString();let Q=new am(z,"unavailable due to initialization error");return Q.subject=e,Q}function y(z){g!==z&&(g=z,b&&b.emit(g,e))}function S(){if(g===ot.Status.Initializing&&y(ot.Status.Active),r){let z=r;r=a=void 0,z(e)}}function L(z){if(g!==ot.Status.Destroying&&g!==ot.Status.Destroyed&&(d=z,y(ot.Status.Crashed)),a){let Q=a;r=a=void 0,Q(D())}if(l){f=!0;let Q=l;c=l=void 0,Q(z)}f||H(z)}function H(...z){J.get(e.constructor.name).error(...z)}function oe(z){return Q=>{H(`Unhandled error in ${w} ${z}:`,Q)}}}(e=>{function t(n,i){i===void 0&&(i=c=>new Gy(c));let r=[...n],a=r.filter(c=>c.construction.status===ot.Status.Initializing);if(a.length)return Promise.allSettled(a.map(c=>c.construction)).then(()=>t(n,i));let s=Object.values(r).filter(c=>c.construction.status===ot.Status.Crashed);if(s.length){let c;try{c=i(s)}catch(l){c=l}if(c)return Promise.reject(c)}}e.all=t,e.construct=Symbol("construct"),e.destruct=Symbol("destruct")})(Mt||(Mt={}));function j8(e){if(typeof e?.[Mt.construct]!="function")throw new ce(`No initializer defined for ${e}`)}var fm=class extends lt{constructor(t="Unexpected end of stream"){super(t)}},ci=class extends lt{};var tg=class{queue=new Array;pendingRead;closed=!1;async read(t=6e4){let{promise:n,resolver:i,rejecter:r}=Oa();if(this.closed)throw new fm;let a=this.queue.shift();if(a!==void 0)return a;if(this.pendingRead!==void 0)throw new ze("Only one pending read is supported");return this.pendingRead={resolver:i,rejecter:r,timeoutTimer:Ne.getTimer("Queue timeout",t,()=>r(new ci)).start()},n}async write(t){if(this.closed)throw new fm;if(this.pendingRead!==void 0){this.pendingRead.timeoutTimer?.stop(),this.pendingRead.resolver(t),this.pendingRead=void 0;return}this.queue.push(t)}close(){this.closed||(this.closed=!0,this.pendingRead!==void 0&&(this.pendingRead.timeoutTimer?.stop(),this.pendingRead.rejecter(new fm)))}};function Na(e){let t;function n(i){if(typeof i=="object"){if(i===null)return null;let r=t?.get(i);if(r)return r;if(Array.isArray(i))r=i.map(n);else if(ArrayBuffer.isView(i)){let a=i.constructor;r=new a(i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength))}else r=Object.fromEntries(Object.entries(i).map(([a,s])=>[a,n(s)]));return t||(t=new Map),t.set(i,r),r}return i}return n(e)}function Rn(e,t){if(e==null||t===null||t===void 0||typeof e!=typeof t||typeof e!="object"&&typeof t!="object")return e===t;let n=Object.getOwnPropertyNames(e),i=Object.getOwnPropertyNames(t);if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++){let a=n[r];if(typeof e[a]!=typeof t[a])return!1;if(typeof e[a]=="object"){if(!Rn(e[a],t[a]))return!1}else if(e[a]!==t[a])return!1}return!0}function Nr(e){let{base:t,name:n,args:i,mixins:r}=e,a=r?[...r,e]:[e],s=Ak({name:n??(t?`${t.name}$`:"GeneratedClass"),base:t,args:i,mixins:a});for(let c of a)Ik(s,c);return s}function Ik(e,{staticProperties:t,staticDescriptors:n,instanceDescriptors:i}){t&&Object.assign(e,t),n&&Object.defineProperties(e,n),i&&Object.defineProperties(e.prototype,i)}function Ak({name,base,args,mixins}){let _InternalError=Re;if(!name.match(/^(?:\p{L}|[0-9$_])+$/u))throw new Re("Refusing to generate class with untrustworthy name");let ext;base?ext="extends base ":ext="";let code=[`class ${name} ${ext}{`],initialize,instanceProperties;for(let e of mixins){let t=e.initialize;if(t)if(initialize){let n=initialize;initialize=function(...i){n.call(this,...i),t.call(this,...i)}}else initialize=t;e.instanceProperties&&(instanceProperties?instanceProperties={...instanceProperties,...e.instanceProperties}:instanceProperties=e.instanceProperties)}if(args||initialize||instanceProperties){code.push("constructor() {");let e;args?(e="a",code.push("const a = args(...arguments)")):e="arguments",base&&code.push(`super(...${e})`),instanceProperties&&code.push("for (const k in instanceProperties) this[k] = instanceProperties[k]"),initialize&&code.push(`initialize.apply(this, ${e})`),code.push("}")}return code.push("}",name),eval(code.join(`
`))}var Mk=J.get("Mutex"),pm=class{#e;#t;#n=!1;#i;constructor(t,n){this.#e=t,n&&this.run(()=>n)}then(t,n){return(this.#i||Promise.resolve()).then(t,n)}run(t,n){if(this.#n){n?.();return}this.#i?this.#i=this.#i.then(()=>{if(this.#n){n?.();return}return this.#t=n,this.initiateTask(t).finally(()=>{this.#t=void 0})}):this.#i=this.initiateTask(t)}terminate(t){this.#n||(this.#n=!0,this.#t&&this.#t(),t&&(this.#i?this.#i=this.#i.then(()=>this.initiateTask(t)):this.#i=this.initiateTask(t)))}async initiateTask(t){return typeof t=="function"&&(t=t()),Promise.resolve(t).catch(n=>Mk.error(`Error initializing ${this.#e} worker:`,n))}};var Dw=J.get("PromiseQueue"),ng=class{#e;#t=new Array;#n;#i=0;constructor(t=1,n=0){this.#n=t,this.#e=n}add(t){let{promise:n,resolver:i,rejecter:r}=Oa();return Dw.debug("Add promise to queue on place",this.#t.length+1),this.#t.push({func:()=>t().then(i).catch(r),rejecter:r}),this.#o(),n}#o(){if(this.#i>=this.#n||this.#t.length===0)return;Dw.debug("Processing promise from queue ... Current queue length:",this.#t.length,"Already running:",this.#i);let{func:t}=this.#t.shift()??{};t!==void 0&&(this.#i++,t().catch(n=>{throw n}).finally(()=>{Dw.debug("Promise processed ... Still running:",this.#i-1),this.#e>0?Ne.sleep("Queue delay",this.#e).then(()=>this.#r()).catch(n=>{throw n}):this.#r()}))}#r(){this.#i--,this.#o()}clear(t){if(t)for(let{rejecter:n}of this.#t)n();this.#t.length=0}close(){this.clear(!1)}};var Pa=class{definition;get valid(){return!this.errors}constructor(t){this.definition=t}get empty(){for(let[t,n]of Object.entries(this))if(t!=="definition"&&n!==void 0)return!1;return!0}equals(t){return t instanceof this.constructor?Rn(this.valueOf(),t.valueOf()):!1}valueOf(){return this.toString()}error(t,n){this.errors||(this.errors=[]),this.errors.push({code:t,source:`${this.constructor.name} ${si(this.definition)}`,message:n})}extend(t){let n=[...Object.entries(Object.getOwnPropertyDescriptors(this)),...Object.entries(Object.getOwnPropertyDescriptors(t))],i={};for(let[a,s]of n)a==="definition"||a==="errors"||s.value===void 0||(i[a]=s.value);let r=this.constructor;return new r(i)}freeze(){Object.freeze(this)}};var W=(e=>(e[e.View=1]="View",e[e.ProxyView=2]="ProxyView",e[e.Operate=3]="Operate",e[e.Manage=4]="Manage",e[e.Administer=5]="Administer",e))(W||{}),pn=class e extends Pa{get readable(){return!this.rw||this.rw!==e.Rw.Write}get writable(){return!!this.rw&&this.rw!==e.Rw.Read}get fabricScoped(){return this.fabric===e.Fabric.Scoped}get fabricSensitive(){return this.fabric===e.Fabric.Sensitive}get empty(){return(!this.rw||this.rw===e.Rw.Read)&&!this.fabric&&!this.readPriv&&!this.writePriv&&!this.timed}get complete(){return this.rw!==void 0&&(!this.readable||this.rw!==void 0)&&(!this.writable||this.rw!==void 0)}constructor(t){super(t),Array.isArray(t)?this.set(t.flat()):cn(t)?Object.assign(this,t):t!=null&&this.set(Array.from(e.parse(this,t)))}static parse(t,n){if(n=n.toUpperCase(),n==="DERIVED")return[];let i=[];for(let r=0;r<n.length;r++)switch(n[r]){case"R":i.push(e.Rw.Read);break;case"U":i.push(e.Fabric.Unaware);break;case"F":i.push(e.Fabric.Scoped);break;case"S":i.push(e.Fabric.Sensitive);break;case"V":i.push(e.Privilege.View);break;case"O":i.push(e.Privilege.Operate);break;case"M":i.push(e.Privilege.Manage);break;case"A":i.push(e.Privilege.Administer);break;case"T":i.push(e.Timed.Required);break;case"W":i.push(e.Rw.Write);break;case"[":r<n.length-2&&n[r+1]==="W"&&n[r+2]==="]"&&(i.push(e.Rw.ReadWriteOption),r+=2);break;case"*":r<n.length-1&&n[r+1]==="W"&&(i.push(e.Rw.ReadWriteOption),r++);break;case" ":case"	":case`
`:case"\r":case"\f":case"\v":break;default:t.error("UNKNOWN_ACCESS_FLAG",`Unknown flag "${n[r]}"`),r++;break}return i}toString(){let t=[];return this.rw!==void 0&&t.push(this.rw),this.fabric!==void 0&&t.push(this.fabric),this.readPriv===this.writePriv?this.readPriv!==void 0&&t.push(this.readPriv):this.readPriv?this.writePriv?t.push(`${this.readPriv}${this.writePriv}`):t.push(this.readPriv):this.writePriv&&t.push(this.writePriv),this.timed&&t.push(e.Timed.Required),t.join(" ")}set(t){t.forEach(n=>{switch(n){case e.Rw.Read:this.rw||(this.rw=n);break;case e.Rw.Write:this.rw?this.rw===e.Rw.Read&&(this.rw=e.Rw.ReadWrite):this.rw=n;break;case e.Rw.ReadWrite:this.rw!==e.Rw.ReadWriteOption&&(this.rw=n);break;case e.Rw.ReadWriteOption:this.rw=n;break;case e.Fabric.Unaware:this.fabric=e.Fabric.Unaware;break;case e.Fabric.Scoped:this.fabric!==e.Fabric.Sensitive&&(this.fabric=n);break;case e.Fabric.Sensitive:this.fabric=n;break;case e.Privilege.View:this.readPriv=n;break;case e.Privilege.Operate:case e.Privilege.Manage:case e.Privilege.Administer:(!this.readPriv||e.PrivilegeLevel[n]<e.PrivilegeLevel[this.readPriv])&&(this.readPriv=n),(!this.writePriv||e.PrivilegeLevel[n]>e.PrivilegeLevel[this.writePriv])&&(this.writePriv=n);break;case e.Timed.Required:this.timed=!0;break}})}};(e=>{let t;(s=>{s.Read="R",s.Write="W",s.ReadWrite="RW",s.ReadWriteOption="R[W]"})(t=e.Rw||(e.Rw={}));let n;(s=>{s.Unaware="U",s.Scoped="F",s.Sensitive="S"})(n=e.Fabric||(e.Fabric={}));let i;(s=>{s.View="V",s.Operate="O",s.Manage="M",s.Administer="A"})(i=e.Privilege||(e.Privilege={}));let r;(s=>{s.V="View",s.O="Operate",s.M="Manage",s.A="Administer"})(r=e.PrivilegeName||(e.PrivilegeName={})),e.PrivilegeLevel={V:1,O:3,M:4,A:5};let a;(s=>{s.Required="T"})(a=e.Timed||(e.Timed={})),e.R="R",e.W="W",e.RW="RW",e.RWo="R[W]",e.U="U",e.F="F",e.S="S",e.V="V",e.O=["O"],e.M=["M"],e.A=["A"],e.VO=["V","O"],e.VM=["V","M"],e.VA=["V","A"],e.OM=["O","M"],e.OA=["O","A"],e.MA=["M","A"],e.T="T"})(pn||(pn={}));(e=>{e.Default=new e({rw:e.RW,readPriv:"V",writePriv:"O"})})(pn||(pn={}));function Zn(e,t){function n(s){return this.type&&s?`${this.type}#${this.id}`:this.id}function i(s){return this.parent?`${this.parent}.${n.call(this,s)}`:n.call(this,s).toString()}function r(){return this.parent?[...this.parent.toArray(),this.id]:[this.id]}function a(s,c){return{parent:this,id:s,type:c,at:a,toString:i,toArray:r}}return{id:e,type:t,at:a,toString:i,toArray:r}}var ia=(e=>(e.Base="base",e.Utility="utility",e.Application="application",e.Simple="simple",e.Dynamic="dynamic",e.Node="node",e))(ia||{});var Xe=(e=>(e.Fabric="fabric",e.Node="node",e.Endpoint="endpoint",e.Cluster="cluster",e.Command="command",e.Event="event",e.Attribute="attribute",e.DeviceType="deviceType",e.Datatype="datatype",e.Field="field",e.SemanticNamespace="semanticNamespace",e.SemanticTag="semanticTag",e.Requirement="requirement",e.Matter="matter",e))(Xe||{});var en=class extends lt{constructor(t,n){super(`Definition of ${t.path??t}: ${n}`)}};var Qn=class extends Set{constructor(t){if(typeof t=="string"){super([t]);return}t&&typeof t[Symbol.iterator]!="function"&&(t=Object.entries(t).filter(([n,i])=>i).map(([n])=>n)),super(t)}get array(){return Array.from(this)}get record(){return Object.fromEntries(this.map(t=>[t,!0]))}is(t){return Rn([...this].sort(),t?[...t].sort():[])}map(t){return this.array.map(t)}};(e=>{function t(n,i){let r=new e,a=new e,s=i?new Set([...i].map(c=>c.toLowerCase())):void 0;for(let c of n.children)r.add(c.name),(s?.has(c.name.toLowerCase())||c.description&&s?.has(c.description.toLowerCase()))&&a.add(c.name);return{featuresAvailable:r,featuresSupported:a}}e.normalize=t})(Qn||(Qn={}));var zt;(e=>{e.percent="percent",e.celsius="celsius",e.reference="reference",e.properties="properties",e.bytes="bytes";function t(b,w){return b&&b.type===w}e.is=t,e.Invalid=Symbol("invalid");function n(b){return{type:e.reference,name:b}}e.Reference=n;function i(b){return{type:e.celsius,value:b}}e.Celsius=i;function r(b){return{type:e.percent,value:b}}e.Percent=r;function a(b){return{type:e.bytes,value:ArrayBuffer.isView(b)?we.toHex(b):b}}e.Bytes=a;function s(b){return b===null?"null":t(b,e.reference)?b.name:t(b,e.celsius)?`${b.value}\xB0C`:t(b,e.percent)?`${b.value}%';`:t(b,e.properties)?si(b.properties)??"?":b.toString()}e.serialize=s;function c(b,w){if(typeof b=="boolean")return b?1:0;if(typeof b=="number")return b;if(t(b,e.celsius)){switch(w){case"temperature":case"temp-diff":return b.value*100;case"temp-u8":case"temp-s8":return b.value*10}return}if(t(b,e.percent))switch(w){case"percent100ths":return b.value*100;default:return b.value}}e.numericValue=c;function l(b){if(t(b,e.properties))return b.properties}e.objectValue=l;function d(b,w){if(b===null||typeof b!="object"||Array.isArray(b)||b instanceof Date)return b;let O=b.type;switch(O){case"properties":return l(b);case"reference":return;case"percent":case"celsius":return c(b,w);case void 0:throw new De('Field value objects must be wrappers with "type" field');default:throw new De(`Unsupported wrapped object type "${O}"`)}}e.unwrap=d;function f(b){if(t(b,e.reference))return b.name}e.referenced=f;function g(b,w){if(w==null||b==="any")return w;if(w==="null")return null;if(w==="")return b==="string"?"":void 0;if(e.is(w,e.reference))return w;switch(b){case"string":return w.toString();case"boolean":return typeof w=="string"&&(w=w.trim().toLowerCase()),w!=="false"&&w!=="no"&&!!w;case"bitmap":case"enum":if(e.is(w,e.properties)&&b==="bitmap")return w;let O=Number(w);return Number.isNaN(O)?typeof w=="string"?w:void 0:O;case"integer":if(typeof w=="string"){let y;if(w.endsWith("\xB0C")?y=e.celsius:w.endsWith("%")&&(y=e.percent),y)return w=Number.parseInt(w),Number.isNaN(w)?e.Invalid:{type:y,value:w};let S=w.match(/^(0x[0-9a-f]+|0b[01]+|\d+)/i);S&&(w=S[1])}try{switch(typeof w){case"string":case"number":case"bigint":case"boolean":break;default:return e.is(w,e.celsius)||e.is(w,e.percent)?w:e.Invalid}let y=BigInt(w),S=Number(y);return BigInt(S)===y?S:y}catch(y){if(y instanceof SyntaxError)return e.Invalid;throw y}case"float":let D=Number(w);return Number.isNaN(D)?e.Invalid:D.valueOf();case"date":return w instanceof Date?w:typeof w!="string"||(w=new Date(w),Number.isNaN(w.valueOf()))?e.Invalid:w;case"object":if(e.is(w,e.properties))return w;break;case"bytes":if(w==="empty")return;if(e.is(w,e.bytes))return w;if(typeof w=="string"||w instanceof Uint8Array)return a(w);break;case"array":return w==="0"||w==="{0,0}"?void 0:w==="empty"||w==="[]"||w==="{}"?[]:Array.isArray(w)?w:e.Invalid}return e.Invalid}e.cast=g})(zt||(zt={}));var Ao=class extends De{},$e=(e=>(e.any="any",e.boolean="boolean",e.bitmap="bitmap",e.enum="enum",e.integer="integer",e.float="float",e.bytes="bytes",e.array="array",e.object="object",e.string="string",e.date="date",e))($e||{});(e=>{function t(i){switch(i){case"enum":case"bitmap":case"object":return!0;default:return!1}}e.hasChildren=t;function n(i){switch(i){case"boolean":return Boolean;case"integer":return BigInt;case"bitmap":case"enum":case"float":return Number;case"bytes":return Uint8Array;case"array":return Array;case"object":return Object;case"string":return String;case"date":return Date}}e.native=n,e.cast={any(i){return i},boolean(i){if(typeof i=="boolean"||i===null||i===void 0)return i;if(typeof i=="string")switch(i.toLowerCase().trim()){case"":case"0":case"off":case"no":case"false":return!1;case"1":case"on":case"yes":case"true":return!0}if(typeof i=="number"||typeof i=="bigint")return!!i;if(ArrayBuffer.isView(i)){for(let r of new Uint8Array(i.buffer))if(r)return!0;return!1}throw new Ao(`Cannot convert "${i}" to boolean`)},bitmap(i){if(i==null)return i;if(typeof i=="string"&&(i=e.cast.integer(i)),typeof i=="number"){if(Number.isFinite(i))return i}else{if(typeof i=="bigint")return i;if(cn(i))return Object.fromEntries(Object.entries(i).map(([r,a])=>[r,e.cast.integer(a)]))}throw new Ao(`Cannot convert "${i}" to bitmap`)},enum(i){if(typeof i=="string")if(i.trim().match(/^(?:[0-9]+|0x[0-9a-f]+|0b[01]+)$/))i=Number.parseInt(i);else return i;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return i;throw new Ao(`Cannot convert "${i}" to an enum value`)},integer(i){if(i==null)return i;switch(typeof i){case"number":return Math.floor(i);case"bigint":return i;case"boolean":return i?1:0}if(i instanceof Date)return i.getTime();if(typeof i=="string")try{let r=BigInt(i),a=Number.parseInt(i);return r===BigInt(a)?a:r}catch(r){if(!(r instanceof SyntaxError))throw r}throw new Ao(`Cannot convert "${i}" to an integer`)},float(i){if(typeof i=="number"||i===null||i===void 0)return i;if(i instanceof Date)return i.getTime();let r=Number(i);if(!Number.isNaN(r)&&Number.isFinite(i))return r;throw new Ao(`Cannot convert "${i}" to a float`)},bytes(i){if(i==null||i instanceof Uint8Array)return i;if(typeof i=="string")return we.fromHex(i);if(typeof i=="boolean")return new Uint8Array([i?1:0]);if(typeof i=="number"||typeof i=="bigint")return we.fromHex(i.toString(16));throw new Ao(`Cannot convert "${i}" to bytes`)},array(i){if(i==null||Array.isArray(i))return i;if(typeof i=="string")try{let r=JSON.parse(i);if(Array.isArray(r))return r}catch(r){if(!(r instanceof SyntaxError))throw r}throw new Ao(`Cannot convert "${i}" to array`)},object(i){if(i===void 0||typeof i=="object"&&!Array.isArray(i)&&!(i instanceof Date))return i;if(typeof i=="string")try{return JSON.parse(i)}catch(r){if(!(r instanceof SyntaxError))throw r}throw new Ao(`Cannot convert "${i}" to object`)},string(i){return i==null||typeof i=="string"?i:i instanceof Date?i.toISOString():typeof i=="object"||Array.isArray(i)?JSON.stringify(i):i.toString()},date(i){if(i==null||i instanceof Date)return i;if(typeof i=="number"||typeof i=="string"){let r=new Date(i);if(!Number.isNaN(r.getTime()))return r}throw new De}}})($e||($e={}));var jt=(e=>(e.Core="core",e.Cluster="cluster",e.Device="device",e.Namespace="namespace",e))(jt||{});(e=>{let t;(n=>{n.core="Matter Core Specification",n.cluster="Matter Application Cluster Specification",n.device="Matter Device Library Specification",n.namespace="Matter Standard Namespace Specification"})(t=e.Names||(e.Names={})),e.REVISION="1.3.0.1",e.SPECIFICATION_VERSION=16973824,e.DATA_MODEL_REVISION=17,e.INTERACTION_MODEL_REVISION=12})(jt||(jt={}));function G8(e){return e>="A"&&e<="Z"||e>="a"&&e<="z"||e>="0"&&e<="9"||e==="_"}var ym=class{#e;constructor(t=[]){t instanceof Set?this.#e=t:this.#e=new Set(t)}lex(t,n){return Ek(t,n,this.#e)}};(e=>{e.Basic=new e})(ym||(ym={}));function*Ek(e,t,n){let i=e[Symbol.iterator](),r=i.next();if(r.done)return;let a=i.next(),s=1,c=1,l=-1,d=-1;function f(){l=s,d=c}function g(){r=a,r.done||(c++,a=i.next())}function b(){let L=[r.value];for(;a.value!==void 0&&G8(a.value);)g(),L.push(r.value);let H=L.join("");return n.has(H)?{type:H,startLine:l,startChar:d}:{type:"word",value:H,startLine:l,startChar:d}}function w(L){if(L==="0")return 0;if(L==="1")return 1}function O(L){if(L!==void 0&&L>="0"&&L<="9")return L.charCodeAt(0)-48}function D(L){if(L!==void 0){if(L>="0"&&L<="9")return L.charCodeAt(0)-48;if(L>="a"&&L<="f")return 10+L.charCodeAt(0)-97;if(L>="A"&&L<="F")return 10+L.charCodeAt(0)-65}}function y(L){if(f(),L===-1&&g(),r.value==="0"){if(a.value==="x")return g(),g(),S(16,L,D);if(a.value==="b")return g(),g(),S(2,L,w)}return S(10,L,O)}function S(L,H,oe){let z=oe(r.value);if(z===void 0)return t("INVALID_NUMBER","Expected digit following numeric suffix"),{type:"value",value:0,startLine:l,startChar:d};for(;;){let Q=oe(a.value);if(Q===void 0)break;g(),z=z*L+Q}return z*=H,a.value==="%"?(g(),{type:"value",value:zt.Percent(z),startLine:l,startChar:d}):a.value==="\xB0"?(g(),a.value?.toLowerCase()==="C"&&g(),{type:"value",value:zt.Celsius(z),startLine:l,startChar:d}):{type:"value",value:z,startLine:l,startChar:d}}for(;!r.done;){switch(r.value){case"|":case"^":case"&":case".":case",":case"[":case"]":case"(":case")":case"+":case"/":case"*":yield{type:r.value,startLine:s,startChar:c};break;case"-":a.value!==void 0&&(a.value>="0"||a.value<="0")?yield y(-1):yield{type:r.value,startLine:s,startChar:c};break;case"0":yield y(1);break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":yield S(10,1,O);break;case"!":case">":case"<":{let L=r.value;if(a.value==="="){let H=`${L}${a.value}`;g(),yield{type:H,startLine:s,startChar:c}}else yield{type:L,startLine:s,startChar:c}}break;case"=":f(),a.value==="="?g():t("BAD_EQUAL",'"=" must be followed by another "="'),yield{type:"==",startLine:l,startChar:d};break;case`
`:s++,c=0;break;case" ":case"	":case"\r":case"\v":case"\f":break;default:G8(r.value)?(f(),yield b()):t("GARBAGE_CHARACTER",`Unexpected character "${r.value}"`);break}g()}}function z8(e){let t=!1;function n(){if(t)return;let i=e.next();return i.done&&(t=!0),i.value}return{token:n(),peeked:n(),get done(){return this.token===void 0},next(){this.token=this.peeked,this.peeked=n()},get description(){switch(this.token?.type){case void 0:return"end of statement";case"word":return`word "${this.token.value}`;case"number":return`number "${this.token.value}`;default:return this.token?.type.match(/[a-z]/i)?`keyword "${this.token?.type}"`:`operator "${this.token?.type}"`}}}}var Ot=class e extends Pa{ast;get type(){return this.ast.type}get empty(){return this.type===e.Special.Empty}constructor(t){if(super(t),t===void 0){this.ast={type:e.Special.Empty};return}let n;if(typeof t=="string")n=K8(this,t);else if(Array.isArray(t)){let i=t.map(r=>K8(this,r));i.length===1?n=i[0]:n={type:e.Special.Group,param:i}}else n=t.ast;this.ast=n}validateReferences(t){return e.validateReferences(this,this.ast,t)}get isMandatory(){let t=this.ast;if(t.type===e.Flag.Mandatory)return!0;if(t.type===e.Special.Group)for(let n of t.param){if(n.type===e.Flag.Provisional)return!1;if(n.type===e.Flag.Mandatory)return!0}return!1}isApplicable(t,n){let i=t instanceof Set?t:new Set(t),r=n instanceof Set?n:new Set(n);return Dk(i,r,this.ast)!==!1}toString(){return e.serialize(this.ast)}freeze(){gm(this.ast),super.freeze()}};(e=>{let t;(f=>{f.Empty="empty",f.Desc="desc",f.Name="name",f.Value="value",f.Choice="choice",f.Group="group",f.OptionalIf="optionalIf"})(t=e.Special||(e.Special={}));let n;(f=>{f.Mandatory="M",f.Optional="O",f.Provisional="P",f.Deprecated="D",f.Disallowed="X"})(n=e.Flag||(e.Flag={}));let i;(f=>{f.NOT="!",f.EQ="==",f.NE="!=",f.OR="|",f.XOR="^",f.AND="&",f.DOT=".",f.GT=">",f.LT="<",f.GTE=">=",f.LTE="<="})(i=e.Operator||(e.Operator={})),e.M="M",e.O="O",e.P="P",e.D="D",e.X="X",e.EQ="==",e.NE="!=",e.OR="|",e.XOR="^",e.AND="&",e.DOT=".",e.GT=">",e.LT="<",e.GTE=">=",e.LTE="<=";function r(f,g){let b=s(f);return f.type==="group"||g!==void 0&&d(g,f.type)?`(${b})`:b}function a(f,g,b){switch(g.type){case"|":case"^":case"&":case"==":case"!=":case">":case"<":case">=":case"<=":a(f,g.param.lhs,b),a(f,g.param.rhs,b);break;case"!":a(f,g.param,b);break;case"group":for(let w of g.param)a(f,w,b);break;case"name":b(g.param)||f.error(`UNRESOLVED_CONFORMANCE_${g.type.toUpperCase()}`,`Conformance ${g.type} reference "${g.param}" does not resolve`);break}}e.validateReferences=a;function s(f){switch(f.type){case"|":case"^":case"&":case"==":case"!=":case">":case"<":case">=":case"<=":let g=r(f.param.lhs,f.type),b=r(f.param.rhs,f.type);return`${g} ${f.type} ${b}`;case"!":return`!${r(f.param)}`;case"empty":return"";case"desc":return"desc";case"choice":let w=`${r(f.param.expr)}.${f.param.name}`;return f.param.num>1&&(w=`${w}${f.param.num}`),f.param.orMore&&(w=`${w}+`),w;case"group":return f.param.map(O=>s(O)).join(", ");case"optionalIf":return`[${s(f.param)}]`;case"name":case"value":return zt.serialize(f.param);default:return f.type}}e.serialize=s;function c(f){return vm.BinaryOperators.has(f)}e.isBinaryOperator=c;function l(f){let g=vm.BinaryOperatorPrecedence.findIndex(b=>b.indexOf(f)!=-1);return g===-1?void 0:g}e.precedenceOf=l;function d(f,g){let b=l(f);if(b===void 0)return!1;let w=l(g);return w===void 0?!1:b<w}e.isHigherPrecedence=d})(Ot||(Ot={}));var Ok=new Set(Object.values(Ot.Flag));function K8(e,t){t=t.replace(" or "," | ");let n=z8(ym.Basic.lex(t,(f,g)=>e.error(f,g)));return i();function i(f){let g=[];function b(){return g.length===1?g[0]:{type:"group",param:g}}for(;;){if(n.done)return f&&e.error("UNTERMINATED_CONFORMANCE_GROUPING","Unterminated conformance grouping"),b();if(!f&&r("[")){n.next();let O={type:"optionalIf",param:i("]")};O=c(O),g.push(O)}else{let O=a();O&&g.push(O)}if(r(","))n.next();else if(f&&r(f))return n.next(),b()}}function r(f){let{token:g}=n;return g&&g.type===f}function a(){let f=[],g=l();for(g&&f.push(g);n.token&&vm.BinaryOperators.has(n.token.type);)f.push(n.token.type),n.next(),g=l(),g&&f.push(g);return vm.BinaryOperatorPrecedence.forEach(b=>{for(let w=0;w<f.length;w++)if(b.indexOf(f[w+1])!==-1){let[O,D,y]=f.splice(w,3);f.splice(w,0,{type:D,param:{lhs:O,rhs:y}}),w--}}),f[0]}function s(f){let g=f[0],b;return g[0]<"a"||g[0]>"z"?(e.error("INVALID_CHOICE","Choice indicator is not a lowercase letter"),g="?",b=1):f.length>1?(b=Number.parseInt(f[1]),Number.isNaN(b)||b<0||b>9?(e.error("INVALID_CHOICE","Choice indicator may only be a single lowercase letter"),g="?",b=1):g.length>2&&(e.error("INVALID_CHOICE","Choice number followed by unexpected word characters"),g="?")):b=1,{name:g,num:b}}function c(f){if(!r("."))return f;n.next();let g,b;n.token?.type!=="word"?(e.error("INVALID_CHOICE",'Choice indicator (".") not followed by identifier'),g="?",b=1):({name:g,num:b}=s(n.token.value),n.next());let w={name:g,expr:f,num:b};return r("+")&&(w.orMore=!0,n.next()),{type:"choice",param:w}}function l(){let f=d();if(f)return c(f)}function d(){if(!n.token){e.error("PREMATURE_CONFORMANCE_TERMINATION","Terminated with expression expected");return}if(n.token.type==="word"){let f=n.token.value;return n.next(),Ok.has(f)?{type:f}:f.toLowerCase()==="desc"?{type:"desc"}:f==="null"?{type:"value",param:null}:{type:"name",param:f}}if(n.token.type==="value"){let f=n.token.value;return n.next(),{type:"value",param:f}}if(r("!"))return n.next(),{type:"!",param:l()};if(r("("))return n.next(),i(")");e.error("UNEXPECTED_CONFORMANCE_TOKEN",`Unexpected "${n.token.type}"`),n.next()}}var vm;(e=>{e.BinaryOperatorPrecedence=[["&"],["|","^"],[">","<",">=","<="],["==","!="]],e.BinaryOperators=new Set(e.BinaryOperatorPrecedence.flat())})(vm||(vm={}));function Dk(e,t,n){function i(r){switch(r.type){case"name":if(e.has(r.param))return t.has(r.param);break;case"!":let a=i(r.param);if(typeof a=="boolean")return!a;break;case"&":if(!i(r.param.lhs)||!i(r.param.rhs))return!1;break;case"|":if(!i(r.param.lhs)&&!i(r.param.rhs))return!1;break;case"X":return!1;case"optionalIf":return i(r.param);case"group":for(let s of r.param)if(i(s))return!0;return!1}return!0}return i(n)}function gm(e){switch(e.type){case"|":case"^":case"&":case"==":case"!=":case">":case"<":case">=":case"<=":gm(e.param.lhs),gm(e.param.rhs),Object.freeze(e.param);break;case"!":case"optionalIf":gm(e.param);break;case"value":typeof e.param=="object"&&e.param!==null&&Object.freeze(e.param);break;case"choice":gm(e.param.expr),Object.freeze(e.param);break;case"group":for(let t of e.param)gm(t);Object.freeze(e.param);break}Object.freeze(e)}var Pr=class e extends Pa{constructor(t){super(t);let n;switch(typeof t){case"string":if(t.match(/(?:0b[0x ]*x[0x ]*)|(?:0x[0x_]*x[0x_]*)|(?:00[0x]*x)/i))break;n=e.parse(this,t);break;case"number":n={value:t};break;default:n=t,n?.definition&&(this.definition=n.definition);break}n&&(n.desc!==void 0&&(this.desc=n.desc),n.value!==void 0&&(this.value=n.value),n.min!==void 0&&(this.min=n.min),n.max!==void 0&&(this.max=n.max),n.in!==void 0&&(this.in=n.in),n.entry!==void 0&&(this.entry=new e(n.entry)),n.parts!==void 0&&(this.parts=n.parts.map(i=>new e(i))))}test(t,n){function i(a,s=!1){if(!s&&(typeof a=="string"||Array.isArray(a)))return a.length;if(cn(a)){let{type:c,name:l}=a;c===zt.reference&&typeof l=="string"&&(a=i(n?.[xt(l)],s))}return a}if(t===void 0)return!1;if(this.in){let a=i(this.in,!0);return Array.isArray(a)||(a=[a]),a.indexOf(t)!==-1}let r=i(this.value);if(r===t)return!0;if(r!==void 0||t===null)return!1;if(this.min!==void 0&&this.min!==null){let a=i(this.min);if(a!=null&&a>t)return!1}if(this.max!==void 0&&this.max!==null){let a=i(this.max);if(a!=null&&a<t)return!1}return!this.parts?.every(a=>a.test(t,n)===!1)}toString(){return!this.valid&&this.definition?this.definition.toString():e.serialize(this)}freeze(){this.parts&&Object.freeze(this.parts),super.freeze()}};(e=>{function t(s){let c;if(s.match(/^-?0[xb]/)?c=Number.parseInt(s.replace(/[_ ]/g,"")):c=Number.parseFloat(s),typeof s=="string")switch(s.toLowerCase()){case"true":return!0;case"false":return!1}return Number.isNaN(c)?zt.Reference(xt(s)):s.endsWith("%")?zt.Percent(c):s.endsWith("\xB0C")?zt.Celsius(c):c}function n(s,c){switch(c.length){case 0:return;case 1:switch(c[0].toLowerCase()){case"desc":return{desc:!0};case"all":case"any":return{}}let d=t(c[0]);return d==null?void 0:{value:d};case 2:switch(c[0].toLowerCase()){case"min":let f=t(c[1]);return f==null?void 0:{min:f};case"max":let g=t(c[1]);return g==null?void 0:{max:g};case"in":return{in:t(c[1])};default:s.error("INVALID_CONSTRAINT",`Two word constraint "${c.join(" ")}" does not start with "min" or "max"`)}return;case 3:if(c[1].toLowerCase()==="to"){let f=function(O,D){if(c[D].toLowerCase()!==O)return t(c[D])};var l=f;let g={},b=f("min",0);b!=null&&(g.min=b);let w=f("max",2);if(w!=null&&(g.max=w),g.min!==void 0&&g.min!==null||g.max!==void 0&&g.max!==null)return g}return}s.error("INVALID_CONSTRAINT",`Unrecognized value constraint "${c.join(" ")}"`)}function i(s,c){let l=2,d=c[0],f=c[1];function g(){d=f,l===c.length?f=void 0:(f=c[l],l++)}function b(w){let O=Array(),D=Array(),y="";function S(){y&&(D.push(y),y="");let H=n(s,D);return D=Array(),H}function L(){let H=S();H!==void 0&&O.push(H)}for(;d!==void 0;){switch(d){case" ":case"	":case"\r":case`
`:case"\v":case"\f":y&&(D.push(y),y="");break;case"[":g();let H=S(),oe=b(w+1);oe&&(H||(H={}),H.entry=oe),H&&O.push(H);break;case"]":if(!w){s.error("INVALID_CONSTRAINT",'Unexpected "]"');break}return L(),O.length>1?{parts:O}:O[0];case",":L();break;default:y+=d;break}g()}return w&&s.error("INVALID_CONSTRAINT","Unterminated sub-constraint"),L(),O.length<2?O[0]:{parts:O}}return b(0)}e.parse=i;function r(s){return s.desc?"desc":s.value!==void 0&&s.value!==null?`${zt.serialize(s.value)}`:s.min!==void 0&&s.min!==null?s.max===void 0||s.max===null?`min ${zt.serialize(s.min)}`:`${zt.serialize(s.min)} to ${zt.serialize(s.max)}`:s.max!==void 0&&s.max!==null?`max ${zt.serialize(s.max)}`:s.in!==void 0?`in ${zt.serialize(s.in)}`:"all"}function a(s){return s.parts?s.parts.map(a).join(", "):s.entry?`${r(s)}[${a(s.entry)}]`:r(s)}e.serialize=a})(Pr||(Pr={}));var ir=class e extends Pa{constructor(t){super(t),typeof t=="string"?this.parse(this,t):Array.isArray(t)?t.map(n=>this.parse(this,n)):Object.assign(this,t)}parse(t,n){let i=n.toUpperCase();if(i==="DERIVED")return;let r=!1;for(let a of i){if(a===" "||a==="	")continue;if(a==="!"){r=!0;continue}let s=e.Flag[a];if(s){if(this.disallowed?.[s])continue;r?(delete this[s],this.disallowed||(this.disallowed={}),this.disallowed[s]=!0,r=!1):this[s]=!0}else t.error("UNKNOWN_QUALITY_FLAG",`Unknown flag "${a}"`)}}toString(){let t=[];for(let n of e.FlagNames){let i=e.Flag[n];this[i]&&!this.disallowed?.[i]&&t.push(n)}return t.join(" ")}};(e=>{let t;(i=>{i.nullable="X",i.nonvolatile="N",i.fixed="F",i.scene="S",i.reportable="P",i.changesOmitted="C",i.singleton="I",i.quieter="Q",i.largeMessage="L",i.diagnostics="K"})(t=e.Field||(e.Field={}));let n;(i=>{i.X="nullable",i.N="nonvolatile",i.F="fixed",i.S="scene",i.P="reportable",i.C="changesOmitted",i.I="singleton",i.Q="quieter",i.L="largeMessage",i.K="diagnostics"})(n=e.Flag||(e.Flag={})),e.FlagNames=["X","N","F","S","P","C","I","Q","L","K"]})(ir||(ir={}));function Ti(e,t){let n={tag:e};for(let[i,r]of Object.entries(t))r!==void 0&&(n[i]=r);return n}function Mo(e,t){t={...t},t.constraint?.toString().toLowerCase()==="all"&&delete t.constraint;for(let n of["conformance","quality","access","quality"])t[n]===""&&delete t[n];return Ti(e,t)}(e=>{let t;(n=>{n[n.bool=0]="bool",n[n.map=1]="map"})(t=e.Metatype||(e.Metatype={}))})(Mo||(Mo={}));function p(e){return Mo(p.Tag,e)}(e=>{e.Tag=Xe.Attribute})(p||(p={}));function ie(e){return e.quality===""&&delete e.quality,Ti(ie.Tag,e)}(e=>{e.Tag=Xe.Cluster;let t;(n=>{n.EndpointUtility="endpoint",n.NodeUtility="node",n.Application="application"})(t=e.Classification||(e.Classification={}))})(ie||(ie={}));function U(e){return Mo(U.Tag,e)}(e=>{e.Tag=Xe.Command;let t;(n=>{n.Request="request",n.Response="response"})(t=e.Direction||(e.Direction={}))})(U||(U={}));function o(e){return Mo(o.Tag,e)}(e=>{e.Tag=Xe.Field})(o||(o={}));function C(e){return Mo(C.Tag,e)}(e=>{e.Tag=Xe.Datatype;function t(n){let i=Array();for(let[r,a]of Object.entries(n))typeof a=="number"&&i.push(o({id:a,name:r,type:"uint8",default:a}));return i}e.ListValues=t})(C||(C={}));function Oe(e){return Ti(Oe.Tag,e)}(e=>{e.Tag=Xe.DeviceType})(Oe||(Oe={}));function Tc(e){return Ti(Tc.Tag,e)}(e=>{e.Tag=Xe.Endpoint})(Tc||(Tc={}));function Se(e){return Mo(Se.Tag,e)}(e=>{e.Tag=Xe.Event;let t;(i=>{i.Debug="debug",i.Info="info",i.Critical="critical"})(t=e.Priority||(e.Priority={}));let n;(i=>{i[i.debug=0]="debug",i[i.info=1]="info",i[i.critical=2]="critical"})(n=e.PriorityId||(e.PriorityId={}))})(Se||(Se={}));function Cc(e){return Ti(Cc.Tag,e)}(e=>{e.Tag=Xe.Fabric})(Cc||(Cc={}));function ka(e){return Ti(ka.Tag,e)}(e=>{e.Tag=Xe.Matter})(ka||(ka={}));function Sc(e){return Ti(Sc.Tag,e)}(e=>{e.Tag=Xe.Node})(Sc||(Sc={}));function x(e){return{...Ti(x.Tag,e),tag:x.Tag}}(e=>{e.Tag=Xe.Requirement;let t;(n=>{n.ClientCluster="clientCluster",n.ServerCluster="serverCluster",n.Feature="feature",n.Attribute="attribute",n.Command="command",n.Event="event",n.CommandField="commandField"})(t=e.ElementType||(e.ElementType={}))})(x||(x={}));function nn(e){return Ti(nn.Tag,e)}(e=>{e.Tag=Xe.SemanticNamespace})(nn||(nn={}));function We(e){return Ti(We.Tag,e)}(e=>{e.Tag=Xe.SemanticTag})(We||(We={}));var A=ka({name:"Matter",description:"Matter Object Model",revision:"1.3",children:[]});var Rw=ie({name:"Identify",id:3,classification:"endpoint",pics:"I",details:`This cluster supports an endpoint identification state (e.g., flashing a light), that indicates to an observer (e.g., an installer) which of several nodes and/or endpoints it is. It also supports a multicast request that any endpoint that is identifying itself to respond to the initiator.
The state of this cluster may be shared on more than one endpoint on a node.
For Example: Two endpoints on a single node, one a temperature sensor, and one a humidity sensor, may both share the same cluster instance and therefore identification state (e.g. single LED on the node).`,xref:{document:"cluster",section:"1.2"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:4}),p({name:"IdentifyTime",id:0,type:"uint16",access:"RW VO",conformance:"M",default:0,details:`This attribute specifies the remaining length of time, in seconds, that the endpoint will continue to identify itself.
If this attribute is set to a value other than 0 then the device shall enter its identification state, in order to indicate to an observer which of several nodes and/or endpoints it is. It is recommended that this state consists of flashing a light with a period of 0.5 seconds. The IdentifyTime attribute shall be decremented every second while in this state.
If this attribute reaches or is set to the value 0 then the device shall terminate its identification state.`,xref:{document:"cluster",section:"1.2.5.1"}}),p({name:"IdentifyType",id:1,type:"IdentifyTypeEnum",access:"R V",conformance:"M",constraint:"desc",details:`This attribute specifies how the identification state is presented to the user.
This field shall contain one of the values defined in IdentifyTypeEnum. The value None shall NOT be used if the device is capable of presenting its identification state using one of the other methods defined in IdentifyTypeEnum.`,xref:{document:"cluster",section:"1.2.5.2"}}),U({name:"Identify",id:0,access:"M",conformance:"M",direction:"request",response:"status",details:"This command starts or stops the receiving device identifying itself.",xref:{document:"cluster",section:"1.2.6.1"},children:[o({name:"IdentifyTime",id:0,type:"uint16",conformance:"M"})]}),U({name:"TriggerEffect",id:64,access:"M",conformance:"O",direction:"request",response:"status",details:"This command allows the support of feedback to the user, such as a certain light effect. It is used to allow an implementation to provide visual feedback to the user under certain circumstances such as a color light turning green when it has successfully connected to a network. The use of this command and the effects themselves are entirely up to the implementer to use whenever a visual feedback is useful but it is not the same as and does not replace the identify mechanism used during commissioning.",xref:{document:"cluster",section:"1.2.6.2"},children:[o({name:"EffectIdentifier",id:0,type:"EffectIdentifierEnum",conformance:"M",constraint:"desc",details:`This field specifies the identify effect to use and shall contain one of the non-reserved values in EffectIdentifierEnum.
All values of the EffectIdentifierEnum shall be supported. Implementors may deviate from the example light effects in EffectIdentifierEnum, but they SHOULD indicate during testing how they handle each effect.`,xref:{document:"cluster",section:"1.2.6.2.1"}}),o({name:"EffectVariant",id:1,type:"EffectVariantEnum",conformance:"M",constraint:"desc",details:"This field is used to indicate which variant of the effect, indicated in the EffectIdentifier field, SHOULD be triggered. If a device does not support the given variant, it shall use the default variant. This field shall contain one of the values in EffectVariantEnum.",xref:{document:"cluster",section:"1.2.6.2.2"}})]}),C({name:"IdentifyTypeEnum",type:"enum8",xref:{document:"cluster",section:"1.2.4.1"},children:[o({name:"None",id:0,conformance:"M",description:"No presentation."}),o({name:"LightOutput",id:1,conformance:"M",description:"Light output of a lighting product."}),o({name:"VisibleIndicator",id:2,conformance:"M",description:"Typically a small LED."}),o({name:"AudibleBeep",id:3,conformance:"M"}),o({name:"Display",id:4,conformance:"M",description:"Presentation will be visible on display screen."}),o({name:"Actuator",id:5,conformance:"M",description:"Presentation will be conveyed by actuator functionality such as through a window blind operation or in- wall relay."})]}),C({name:"EffectIdentifierEnum",type:"enum8",xref:{document:"cluster",section:"1.2.4.2"},children:[o({name:"Blink",id:0,conformance:"M",description:"e.g., Light is turned on/off once."}),o({name:"Breathe",id:1,conformance:"M",description:"e.g., Light is turned on/off over 1 second and repeated 15 times."}),o({name:"Okay",id:2,conformance:"M",description:"e.g., Colored light turns green for 1 second; non-colored light flashes twice."}),o({name:"ChannelChange",id:11,conformance:"M",description:"e.g., Colored light turns orange for 8 seconds; non-colored light switches to the maximum brightness for 0.5s and then minimum brightness for 7.5s."}),o({name:"FinishEffect",id:254,conformance:"M",description:"Complete the current effect sequence before terminating. e.g., if in the middle of a breathe effect (as above), first complete the current 1s breathe effect and then terminate the effect."}),o({name:"StopEffect",id:255,conformance:"M",description:"Terminate the effect as soon as possible."})]}),C({name:"EffectVariantEnum",type:"enum8",xref:{document:"cluster",section:"1.2.4.3"},children:[o({name:"Default",id:0,conformance:"M",description:"Indicates the default effect is used"})]})]});A.children.push(Rw);var Nw=ie({name:"Groups",id:4,classification:"endpoint",pics:"G",details:`The Groups cluster manages, per endpoint, the content of the node-wide Group Table that is part of the underlying interaction layer.
In a network supporting fabrics, group IDs referenced by attributes or other elements of this cluster are scoped to the accessing fabric.
The Groups cluster is scoped to the endpoint. Groups cluster commands support discovering the endpoint membership in a group, adding the endpoint to a group, removing the endpoint from a group, removing endpoint membership from all groups. All commands defined in this cluster shall only affect groups scoped to the accessing fabric.
When group names are supported, the server stores a name string, which is set by the client for each assigned group and indicated in response to a client request.
Note that configuration of group addresses for outgoing commands is achieved using the Message Layer mechanisms where the Group Table is not involved. Hence this cluster does not play a part in that.`,xref:{document:"cluster",section:"1.3"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:4}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"1.3.4"},children:[o({name:"GN",constraint:"0",default:1,description:"GroupNames",details:"The Group Names feature indicates the ability to store a name for a group when a group is added.",xref:{document:"cluster",section:"1.3.4.1"}})]}),p({name:"NameSupport",id:0,type:"NameSupportBitmap",access:"R V",conformance:"M",constraint:"desc",default:0,quality:"F",details:"This attribute provides legacy, read-only access to whether the Group Names feature is supported. The most significant bit, bit 7 (GroupNames), shall be equal to bit 0 of the FeatureMap attribute (GN Feature). All other bits shall be 0.",xref:{document:"cluster",section:"1.3.6.1"},children:[o({name:"NameSupport",constraint:"7",default:1})]}),U({name:"AddGroup",id:0,access:"F M",conformance:"M",direction:"request",response:"AddGroupResponse",details:"The AddGroup command allows a client to add group membership in a particular group for the server endpoint.",xref:{document:"cluster",section:"1.3.7.1"},children:[o({name:"GroupId",id:0,type:"group-id",conformance:"M",constraint:"min 1",details:"This field shall be used to identify the group and any associated key material to which the server endpoint is to be added.",xref:{document:"cluster",section:"1.3.7.1.1"}}),o({name:"GroupName",id:1,type:"string",conformance:"M",constraint:"max 16",details:`This field may be set to a human-readable name for the group. If the client has no name for the group, the GroupName field shall be set to the empty string.
Support of group names is optional and is indicated by the FeatureMap and NameSupport attribute.`,xref:{document:"cluster",section:"1.3.7.1.2"}})]}),U({name:"ViewGroup",id:1,access:"F O",conformance:"M",direction:"request",response:"ViewGroupResponse",details:"The ViewGroup command allows a client to request that the server responds with a ViewGroupResponse command containing the name string for a particular group.",xref:{document:"cluster",section:"1.3.7.2"},children:[o({name:"GroupId",id:0,type:"group-id",conformance:"M",constraint:"min 1"})]}),U({name:"GetGroupMembership",id:2,access:"F O",conformance:"M",direction:"request",response:"GetGroupMembershipResponse",details:"The GetGroupMembership command allows a client to inquire about the group membership of the server endpoint, in a number of ways.",xref:{document:"cluster",section:"1.3.7.3"},children:[o({name:"GroupList",id:0,type:"list",conformance:"M",constraint:"all[min 1]",children:[o({name:"entry",type:"group-id"})]})]}),U({name:"RemoveGroup",id:3,access:"F M",conformance:"M",direction:"request",response:"RemoveGroupResponse",details:"The RemoveGroup command allows a client to request that the server removes the membership for the server endpoint, if any, in a particular group.",xref:{document:"cluster",section:"1.3.7.4"},children:[o({name:"GroupId",id:0,type:"group-id",conformance:"M",constraint:"min 1"})]}),U({name:"RemoveAllGroups",id:4,access:"F M",conformance:"M",direction:"request",response:"status",details:"The RemoveAllGroups command allows a client to direct the server to remove all group associations for the server endpoint.",xref:{document:"cluster",section:"1.3.7.5"}}),U({name:"AddGroupIfIdentifying",id:5,access:"F M",conformance:"M",direction:"request",response:"status",details:`The AddGroupIfIdentifying command allows a client to add group membership in a particular group for the server endpoint, on condition that the endpoint is identifying itself. Identifying functionality is controlled using the Identify cluster, (see Identify Cluster).
For correct operation of the AddGroupIfIdentifying command, any endpoint that supports the Groups server cluster shall also support the Identify server cluster.
This command might be used to assist configuring group membership in the absence of a commissioning tool.`,xref:{document:"cluster",section:"1.3.7.6"},children:[o({name:"GroupId",id:0,type:"group-id",conformance:"M",constraint:"min 1",details:"This field shall be used to identify the group and any associated key material to which the server endpoint is to be added.",xref:{document:"cluster",section:"1.3.7.6.1"}}),o({name:"GroupName",id:1,type:"string",conformance:"M",constraint:"max 16",details:`This field may be set to a human-readable name for the group. If the client has no name for the group, the GroupName field shall be set to the empty string.
Support of group names is optional and is indicated by the FeatureMap and NameSupport attribute.`,xref:{document:"cluster",section:"1.3.7.6.2"}})]}),U({name:"AddGroupResponse",id:0,conformance:"M",direction:"response",details:"The AddGroupResponse is sent by the Groups cluster server in response to an AddGroup command.",xref:{document:"cluster",section:"1.3.7.7"},children:[o({name:"Status",id:0,type:"status",conformance:"M",constraint:"desc",details:"This field is set according to the Effect on Receipt section of the AddGroup command.",xref:{document:"cluster",section:"1.3.7.7.1"}}),o({name:"GroupId",id:1,type:"group-id",conformance:"M",constraint:"min 1",details:"This field is set to the GroupID field of the received AddGroup command.",xref:{document:"cluster",section:"1.3.7.7.2"}})]}),U({name:"ViewGroupResponse",id:1,conformance:"M",direction:"response",details:"The ViewGroupResponse command is sent by the Groups cluster server in response to a ViewGroup command.",xref:{document:"cluster",section:"1.3.7.8"},children:[o({name:"Status",id:0,type:"status",conformance:"M",constraint:"desc",details:"This field is according to the Effect on Receipt section of the ViewGroup command.",xref:{document:"cluster",section:"1.3.7.8.1"}}),o({name:"GroupId",id:1,type:"group-id",conformance:"M",constraint:"min 1",details:"This field is set to the GroupID field of the received ViewGroup command.",xref:{document:"cluster",section:"1.3.7.8.2"}}),o({name:"GroupName",id:2,type:"string",conformance:"M",constraint:"max 16",details:"If the status is SUCCESS, and group names are supported, this field is set to the group name associated with that group in the Group Table; otherwise it is set to the empty string.",xref:{document:"cluster",section:"1.3.7.8.3"}})]}),U({name:"GetGroupMembershipResponse",id:2,conformance:"M",direction:"response",details:"The GetGroupMembershipResponse command is sent by the Groups cluster server in response to a GetGroupMembership command.",xref:{document:"cluster",section:"1.3.7.9"},children:[o({name:"Capacity",id:0,type:"uint8",conformance:"M",quality:"X",details:`This field shall contain the remaining capacity of the Group Table of the node. The following values apply:
  \u2022 0 - No further groups may be added.
  \u2022 0 < Capacity < 0xFE - Capacity holds the number of groups that may be added.
  \u2022 0xFE - At least 1 further group may be added (exact number is unknown).
  \u2022 null - It is unknown if any further groups may be added.`,xref:{document:"cluster",section:"1.3.7.9.1"}}),o({name:"GroupList",id:1,type:"list",conformance:"M",constraint:"all[min 1]",details:`The GroupList field shall contain either the group IDs of all the groups in the Group Table for which the server endpoint is a member of the group (in the case where the GroupList field of the received GetGroupMembership command was empty), or the group IDs of all the groups in the Group Table for which the server endpoint is a member of the group and for which the group ID was included in the the GroupList field of the received GetGroupMembership command (in the case where the GroupList field of the received GetGroupMembership command was not empty).
Zigbee: If the total number of groups will cause the maximum payload length of a frame to be exceeded, then the GroupList field shall contain only as many groups as will fit.`,xref:{document:"cluster",section:"1.3.7.9.2"},children:[o({name:"entry",type:"group-id"})]})]}),U({name:"RemoveGroupResponse",id:3,conformance:"M",direction:"response",details:"The RemoveGroupResponse command is generated by the server in response to the receipt of a RemoveGroup command.",xref:{document:"cluster",section:"1.3.7.10"},children:[o({name:"Status",id:0,type:"status",conformance:"M",constraint:"desc",details:"This field is according to the Effect on Receipt section of the RemoveGroup command.",xref:{document:"cluster",section:"1.3.7.10.1"}}),o({name:"GroupId",id:1,type:"group-id",conformance:"M",constraint:"min 1",details:"This field is set to the GroupID field of the received RemoveGroup command.",xref:{document:"cluster",section:"1.3.7.10.2"}})]}),C({name:"NameSupportBitmap",type:"map8",xref:{document:"cluster",section:"1.3.5.1"},children:[o({name:"GroupNames",constraint:"7",description:"The ability to store a name for a group."})]})]});A.children.push(Nw);var Pw=ie({name:"ScenesManagement",id:98,classification:"application",pics:"S",details:`The Scenes Management cluster provides attributes and commands for setting up and recalling scenes. Each scene corresponds to a set of stored values of specified attributes for one or more clusters on the same end point as the Scenes Management cluster.
In most cases scenes are associated with a particular group identifier. Scenes may also exist without a group, in which case the value 0 replaces the group identifier. Note that extra care is required in these cases to avoid a scene identifier collision, and that commands related to scenes without a group may only be unicast, i.e., they may not be multicast or broadcast.
NOTE Support for Scenes Management cluster is provisional.`,xref:{document:"cluster",section:"1.4"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"1.4.4"},children:[o({name:"SN",conformance:"O",constraint:"0",description:"SceneNames",details:"This feature indicates the ability to store a name for a scene when a scene is added.",xref:{document:"cluster",section:"1.4.4.1"}})]}),p({name:"LastConfiguredBy",id:0,type:"node-id",access:"R V",conformance:"O",default:null,quality:"X",details:`Indicates the Node ID of the node that last configured the Scene Table.
The null value indicates that the server has not been configured, or that the identifier of the node that last configured the Scenes Management cluster is not known.
The Node ID is scoped to the accessing fabric.`,xref:{document:"cluster",section:"1.4.8.1"}}),p({name:"SceneTableSize",id:1,type:"uint16",access:"R V",conformance:"M",constraint:"desc",default:16,quality:"F",details:"Indicates the number of entries in the Scene Table on this endpoint. This is the total across all fabrics; note that a single fabric cannot use all those entries (see Handling of fabric- scoping). The minimum size of this table, (i.e., the minimum number of scenes to support across all fabrics per endpoint) shall be 16, unless a device type in which this cluster is used, defines a larger value in the device type definition.",xref:{document:"cluster",section:"1.4.8.2"}}),p({name:"FabricSceneInfo",id:2,type:"list",access:"R F V",conformance:"M",constraint:"desc",details:`Indicates a list of fabric scoped information about scenes on this endpoint.
The number of list entries for this attribute shall NOT exceed the number of supported fabrics by the device.`,xref:{document:"cluster",section:"1.4.8.3"},children:[o({name:"entry",type:"SceneInfoStruct"})]}),U({name:"AddScene",id:0,access:"F M",conformance:"M",direction:"request",response:"AddSceneResponse",details:"It is not mandatory for an extension field set to be included in the command for every cluster on that endpoint that has a defined extension field set. Extension field sets may be omitted, including the case of no extension field sets at all.",xref:{document:"cluster",section:"1.4.9.2"},children:[o({name:"GroupId",id:0,type:"group-id",conformance:"M",details:"This field shall indicate the group identifier in the Group Table.",xref:{document:"cluster",section:"1.4.9.2.1"}}),o({name:"SceneId",id:1,type:"uint8",conformance:"M",constraint:"max 254",details:"This field shall indicate the scene identifier in the Scene Table.",xref:{document:"cluster",section:"1.4.9.2.2"}}),o({name:"TransitionTime",id:2,type:"uint32",conformance:"M",constraint:"max 60000000",details:"This field shall indicate the transition time of the scene, measured in milliseconds.",xref:{document:"cluster",section:"1.4.9.2.3"}}),o({name:"SceneName",id:3,type:"string",conformance:"M",constraint:"max 16",details:"This field shall indicate the name of the scene.",xref:{document:"cluster",section:"1.4.9.2.4"}}),o({name:"ExtensionFieldSetStructs",id:4,type:"list",conformance:"M",constraint:"desc",details:"This field shall contains the list of extension fields.",xref:{document:"cluster",section:"1.4.9.2.5"},children:[o({name:"entry",type:"ExtensionFieldSetStruct"})]})]}),U({name:"AddSceneResponse",id:0,conformance:"M",direction:"response",xref:{document:"cluster",section:"1.4.9.3"},children:[o({name:"Status",id:0,type:"status",conformance:"M",constraint:"desc",details:"This field shall be set according to the Effect on Receipt section for AddScene command.",xref:{document:"cluster",section:"1.4.9.3.1"}}),o({name:"GroupId",id:1,type:"group-id",conformance:"M",details:"The GroupID field shall be set to the corresponding field of the received AddScene command.",xref:{document:"cluster",section:"1.4.9.3.2"}}),o({name:"SceneId",id:2,type:"uint8",conformance:"M",constraint:"max 254",details:"The SceneID field shall be set to the corresponding field of the received AddScene command.",xref:{document:"cluster",section:"1.4.9.3.3"}})]}),U({name:"ViewScene",id:1,access:"F O",conformance:"M",direction:"request",response:"ViewSceneResponse",xref:{document:"cluster",section:"1.4.9.4"},children:[o({name:"GroupId",id:0,type:"group-id",conformance:"M",details:"This field shall indicate the group identifier in the Group Table.",xref:{document:"cluster",section:"1.4.9.4.1"}}),o({name:"SceneId",id:1,type:"uint8",conformance:"M",constraint:"max 254",details:"This field shall indicate the scene identifier in the Scene Table.",xref:{document:"cluster",section:"1.4.9.4.2"}})]}),U({name:"ViewSceneResponse",id:1,conformance:"M",direction:"response",xref:{document:"cluster",section:"1.4.9.5"},children:[o({name:"Status",id:0,type:"status",conformance:"M",constraint:"desc",details:"This field shall be set according to the Effect on Receipt section for ViewScene command.",xref:{document:"cluster",section:"1.4.9.5.1"}}),o({name:"GroupId",id:1,type:"group-id",conformance:"M",details:"The GroupID field shall be set to the corresponding field of the received ViewScene command.",xref:{document:"cluster",section:"1.4.9.5.2"}}),o({name:"SceneId",id:2,type:"uint8",conformance:"M",constraint:"max 254",details:"The SceneID field shall be set to the corresponding field of the received ViewScene command.",xref:{document:"cluster",section:"1.4.9.5.3"}}),o({name:"TransitionTime",id:3,type:"uint32",conformance:"desc",constraint:"max 60000000",details:"If the status is SUCCESS, this field shall be copied from the corresponding field in the Scene Table entry, otherwise it shall be omitted.",xref:{document:"cluster",section:"1.4.9.5.4"}}),o({name:"SceneName",id:4,type:"string",conformance:"desc",constraint:"max 16",details:"If the status is SUCCESS, this field shall be copied from the corresponding field in the Scene Table entry, otherwise it shall be omitted.",xref:{document:"cluster",section:"1.4.9.5.5"}}),o({name:"ExtensionFieldSetStructs",id:5,type:"list",conformance:"desc",details:"If the status is SUCCESS, this field shall be copied from the corresponding field in the Scene Table entry, otherwise it shall be omitted.",xref:{document:"cluster",section:"1.4.9.5.6"},children:[o({name:"entry",type:"ExtensionFieldSetStruct"})]})]}),U({name:"RemoveScene",id:2,access:"F M",conformance:"M",direction:"request",response:"RemoveSceneResponse",xref:{document:"cluster",section:"1.4.9.6"},children:[o({name:"GroupId",id:0,type:"group-id",conformance:"M",details:"This field shall indicate the group identifier in the Group Table.",xref:{document:"cluster",section:"1.4.9.6.1"}}),o({name:"SceneId",id:1,type:"uint8",conformance:"M",constraint:"max 254",details:"This field shall indicate the scene identifier in the Scene Table.",xref:{document:"cluster",section:"1.4.9.6.2"}})]}),U({name:"RemoveSceneResponse",id:2,conformance:"M",direction:"response",xref:{document:"cluster",section:"1.4.9.7"},children:[o({name:"Status",id:0,type:"status",conformance:"M",constraint:"desc",details:"This field shall be set according to the Effect on Receipt section for RemoveScene command.",xref:{document:"cluster",section:"1.4.9.7.1"}}),o({name:"GroupId",id:1,type:"group-id",conformance:"M",details:"The GroupID field shall be set to the corresponding field of the received RemoveScene command.",xref:{document:"cluster",section:"1.4.9.7.2"}}),o({name:"SceneId",id:2,type:"uint8",conformance:"M",constraint:"max 254",details:"The SceneID field shall be set to the corresponding field of the received RemoveScene command.",xref:{document:"cluster",section:"1.4.9.7.3"}})]}),U({name:"RemoveAllScenes",id:3,access:"F M",conformance:"M",direction:"request",response:"RemoveAllScenesResponse",xref:{document:"cluster",section:"1.4.9.8"},children:[o({name:"GroupId",id:0,type:"group-id",conformance:"M",details:"This field shall indicate the group identifier in the Group Table.",xref:{document:"cluster",section:"1.4.9.8.1"}})]}),U({name:"RemoveAllScenesResponse",id:3,conformance:"M",direction:"response",xref:{document:"cluster",section:"1.4.9.9"},children:[o({name:"Status",id:0,type:"status",conformance:"M",constraint:"desc",details:"This field shall be set according to the Effect on Receipt section for RemoveAllScenes command.",xref:{document:"cluster",section:"1.4.9.9.1"}}),o({name:"GroupId",id:1,type:"group-id",conformance:"M",details:"The GroupID field shall be set to the corresponding field of the received RemoveAllScenes command.",xref:{document:"cluster",section:"1.4.9.9.2"}})]}),U({name:"StoreScene",id:4,access:"F M",conformance:"M",direction:"request",response:"StoreSceneResponse",xref:{document:"cluster",section:"1.4.9.10"},children:[o({name:"GroupId",id:0,type:"group-id",conformance:"M",details:"This field shall indicate the group identifier in the Group Table.",xref:{document:"cluster",section:"1.4.9.10.1"}}),o({name:"SceneId",id:1,type:"uint8",conformance:"M",constraint:"max 254",details:"This field shall indicate the scene identifier in the Scene Table.",xref:{document:"cluster",section:"1.4.9.10.2"}})]}),U({name:"StoreSceneResponse",id:4,conformance:"M",direction:"response",xref:{document:"cluster",section:"1.4.9.11"},children:[o({name:"Status",id:0,type:"status",conformance:"M",constraint:"desc",details:"This field shall be set according to the Effect on Receipt section for StoreScene command.",xref:{document:"cluster",section:"1.4.9.11.1"}}),o({name:"GroupId",id:1,type:"group-id",conformance:"M",details:"The GroupID field shall be set to the corresponding field of the received StoreScene command.",xref:{document:"cluster",section:"1.4.9.11.2"}}),o({name:"SceneId",id:2,type:"uint8",conformance:"M",constraint:"max 254",details:"The SceneID field shall be set to the corresponding field of the received StoreScene command.",xref:{document:"cluster",section:"1.4.9.11.3"}})]}),U({name:"RecallScene",id:5,access:"F O",conformance:"M",direction:"request",response:"status",xref:{document:"cluster",section:"1.4.9.12"},children:[o({name:"GroupId",id:0,type:"group-id",conformance:"M",details:"This field shall indicate the group identifier in the Group Table.",xref:{document:"cluster",section:"1.4.9.12.1"}}),o({name:"SceneId",id:1,type:"uint8",conformance:"M",constraint:"max 254",details:"This field shall indicate the scene identifier in the Scene Table.",xref:{document:"cluster",section:"1.4.9.12.2"}}),o({name:"TransitionTime",id:2,type:"uint32",conformance:"O",constraint:"max 60000000",quality:"X",details:"This field shall indicate the transition time of the scene, measured in milliseconds.",xref:{document:"cluster",section:"1.4.9.12.3"}})]}),U({name:"GetSceneMembership",id:6,access:"F O",conformance:"M",direction:"request",response:"GetSceneMembershipResponse",details:"This command can be used to get the used scene identifiers within a certain group, for the endpoint that implements this cluster.",xref:{document:"cluster",section:"1.4.9.13"},children:[o({name:"GroupId",id:0,type:"group-id",conformance:"M",details:"This field shall indicate the group identifier in the Group Table.",xref:{document:"cluster",section:"1.4.9.13.1"}})]}),U({name:"GetSceneMembershipResponse",id:6,conformance:"M",direction:"response",xref:{document:"cluster",section:"1.4.9.14"},children:[o({name:"Status",id:0,type:"status",conformance:"M",constraint:"desc",details:"This field shall be set according to the Effect on Receipt section for GetSceneMembership command.",xref:{document:"cluster",section:"1.4.9.14.1"}}),o({name:"Capacity",id:1,type:"uint8",conformance:"M",quality:"X",details:`This field shall contain the remaining capacity of the Scene Table of the server (for all groups for the accessing fabric). The following values apply:
  \u2022 0 - No further scenes may be added.
  \u2022 0 < Capacity < 0xFE - Capacity holds the number of scenes that may be added.
  \u2022 0xFE - At least 1 further scene may be added (exact number is unknown).
  \u2022 null - It is unknown if any further scenes may be added.`,xref:{document:"cluster",section:"1.4.9.14.2"}}),o({name:"GroupId",id:2,type:"group-id",conformance:"M",details:"This field shall be set to the corresponding field of the received GetSceneMembership command.",xref:{document:"cluster",section:"1.4.9.14.3"}}),o({name:"SceneList",id:3,type:"list",conformance:"Status == Success",details:"If the status is not SUCCESS then this field shall be omitted, else this field shall contain the identifiers of all the scenes in the Scene Table with the corresponding Group ID.",xref:{document:"cluster",section:"1.4.9.14.4"},children:[o({name:"entry",type:"uint8"})]})]}),U({name:"CopyScene",id:64,access:"F M",conformance:"O",direction:"request",response:"CopySceneResponse",details:"This command allows a client to efficiently copy scenes from one group/scene identifier pair to another group/scene identifier pair.",xref:{document:"cluster",section:"1.4.9.15"},children:[o({name:"Mode",id:0,type:"CopyModeBitmap",conformance:"M",constraint:"desc",details:`This field shall contain the information of how the scene copy is to proceed.
The CopyAllScenes bit of the Mode indicates whether all scenes are to be copied. If this value is set to 1, all scenes are to be copied and the SceneIdentifierFrom and SceneIdentifierTo fields shall be ignored. Otherwise this bit is set to 0.`,xref:{document:"cluster",section:"1.4.9.15.1"}}),o({name:"GroupIdentifierFrom",id:1,type:"group-id",conformance:"M",details:"This field shall indicate the identifier of the group from which the scene is to be copied. Together with the SceneIdentifierFrom field, this field uniquely identifies the scene to copy from the Scene Table.",xref:{document:"cluster",section:"1.4.9.15.2"}}),o({name:"SceneIdentifierFrom",id:2,type:"uint8",conformance:"M",constraint:"max 254",details:"This field shall indicate the identifier of the scene from which the scene is to be copied. Together with the GroupIdentifierFrom field, this field uniquely identifies the scene to copy from the Scene Table.",xref:{document:"cluster",section:"1.4.9.15.3"}}),o({name:"GroupIdentifierTo",id:3,type:"group-id",conformance:"M",details:"This field shall indicate the identifier of the group to which the scene is to be copied. Together with the SceneIdentifierTo field, this field uniquely identifies the scene to copy to the Scene Table.",xref:{document:"cluster",section:"1.4.9.15.4"}}),o({name:"SceneIdentifierTo",id:4,type:"uint8",conformance:"M",constraint:"max 254",details:"This field shall indicate the identifier of the scene to which the scene is to be copied. Together with the GroupIdentifierTo field, this field uniquely identifies the scene to copy to the Scene Table.",xref:{document:"cluster",section:"1.4.9.15.5"}})]}),U({name:"CopySceneResponse",id:64,conformance:"CopyScene",direction:"response",xref:{document:"cluster",section:"1.4.9.16"},children:[o({name:"Status",id:0,type:"status",conformance:"M",constraint:"desc",details:"This field shall be set according to the Effect on Receipt section for the CopyScene command.",xref:{document:"cluster",section:"1.4.9.16.1"}}),o({name:"GroupIdentifierFrom",id:1,type:"group-id",conformance:"M",details:"This field shall be set to the same values as in the corresponding fields of the received CopyScene command.",xref:{document:"cluster",section:"1.4.9.16.2"}}),o({name:"SceneIdentifierFrom",id:2,type:"uint8",conformance:"M",constraint:"max 254",details:`This field shall be set to the same values as in the corresponding fields of the received CopyScene
command.`,xref:{document:"cluster",section:"1.4.9.16.3"}})]}),C({name:"CopyModeBitmap",type:"map8",xref:{document:"cluster",section:"1.4.7.1"},children:[o({name:"CopyAllScenes",constraint:"0",description:"Copy all scenes in the scene table"})]}),C({name:"SceneInfoStruct",type:"struct",xref:{document:"cluster",section:"1.4.7.2"},children:[o({name:"SceneCount",id:0,type:"uint8",access:"F",conformance:"M",default:0,details:`This field shall indicate the number of scenes currently used in the server\u2019s Scene Table on the endpoint where the Scenes Management cluster appears.
This only includes the count for the associated fabric.`,xref:{document:"cluster",section:"1.4.7.2.1"}}),o({name:"CurrentScene",id:1,type:"uint8",access:"S",conformance:"M",constraint:"desc",default:255,details:"This field shall indicate the scene identifier of the scene last invoked on the associated fabric. If no scene has been invoked, the value of this field shall be 0xFF, the undefined scene identifier.",xref:{document:"cluster",section:"1.4.7.2.2"}}),o({name:"CurrentGroup",id:2,type:"group-id",access:"S",conformance:"M",default:0,details:"This field shall indicate the group identifier of the scene last invoked on the associated fabric, or 0 if the scene last invoked is not associated with a group.",xref:{document:"cluster",section:"1.4.7.2.3"}}),o({name:"SceneValid",id:3,type:"bool",access:"S",conformance:"M",default:!1,details:`This field shall indicate whether the state of the server corresponds to that associated with the CurrentScene and CurrentGroup fields of the SceneInfoStruct they belong to. TRUE indicates that these fields are valid, FALSE indicates that they are not valid.
This field shall be set to False for all other fabrics when an attribute with the Scenes ("S") designation in the Quality column of another cluster present on the same endpoint is modified or when the current scene is modified by a fabric through the RecallScene or StoreScene commands, regardless of the fabric-scoped access quality of the command.
In the event where the SceneValid field is set to False for a fabric, the CurrentScene and CurrentGroup fields shall be the last invoked scene and group for that fabric. In the event where no scene was previously invoked for that fabric, the CurrentScene and CurrentGroup fields shall be their default values.`,xref:{document:"cluster",section:"1.4.7.2.4"}}),o({name:"RemainingCapacity",id:4,type:"uint8",access:"F",conformance:"M",constraint:"max 253",details:"This field shall indicate the remaining capacity of the Scene Table on this endpoint for the accessing fabric. Note that this value may change between reads, even if no entries are added or deleted on the accessing fabric, due to other clients associated with other fabrics adding or deleting entries that impact the resource usage on the device.",xref:{document:"cluster",section:"1.4.7.2.5"}}),o({name:"FabricIndex",id:254,type:"FabricIndex"})]}),C({name:"AttributeValuePairStruct",type:"struct",details:"This data type indicates a combination of an identifier and the value of an attribute.",xref:{document:"cluster",section:"1.4.7.3"},children:[o({name:"AttributeId",id:0,type:"attrib-id",conformance:"M",details:`This field shall be present for all instances in a given ExtensionFieldSetStruct.
The data type of AttributeValue shall be the data type of the attribute indicated by AttributeID.
The AttributeID field shall NOT refer to an attribute without the Scenes ("S") designation in the Quality column of the cluster specification.
  1.4.7.3.2. ValueUnsigned8, ValueSigned8, ValueUnsigned16, ValueSigned16, ValueUnsigned32,              ValueSigned32, ValueUnsigned64, ValueSigned64 Fields
These fields shall indicate the attribute value as part of an extension field set, associated with a given AttributeID under an ExtensionFieldSetStruct\u2019s ClusterID. The proper field shall be present that maps to the data type of the attribute indicated.
  \u2022 Data types bool, map8, and uint8 shall map to ValueUnsigned8.
  \u2022 Data types int8 shall map to ValueSigned8.
  \u2022 Data types map16 and uint16 shall map to ValueUnsigned16.
  \u2022 Data types int16 shall map to ValueSigned16.
  \u2022 Data types map32, uint24, and uint32 shall map to ValueUnsigned32.
  \u2022 Data types int24 and int32 shall map to ValueSigned32.
  \u2022 Data types map64, uint48, uint56 and uint64 shall map to ValueUnsigned64.
  \u2022 Data types int48, int56 and int64 shall map to ValueSigned64.
  \u2022 For nullable attributes, any value that is not a valid numeric value for the attribute\u2019s type     after accounting for range reductions due to being nullable and constraints shall be considered     to have the null value for the type.
  \u2022 For non-nullable attributes, any value that is not a valid numeric value for the attribute\u2019s     type after accounting for constraints shall be considered to have the maximum legal value in     the attribute\u2019s constrained range.
Examples of processing are:
  \u2022 ColorControl cluster CurrentX (AttributeID 0x0003) has a type of uint16 and is not nullable.
    \u25E6 AttributeValue of 0xAB12 would be used as-is, as it is in range.
    \u25E6 AttributeValue of 0xAA0011 is outside of the range of uint16, and would be saturated to the       maximum of the attribute\u2019s constraint range: 0xFEFF.
  \u2022 LevelControl cluster CurrentLevel (AttributeID 0x0000) has a type of uint8 and is nullable.
    \u25E6 AttributeValue of 0xA1 would be used as-is, as it is in range.
    \u25E6 AttributeValue of 0xBB12 is outside the range of nullable uint8, and would be considered as       the null value.`,xref:{document:"cluster",section:"1.4.7.3.1"}}),o({name:"ValueUnsigned8",id:1,type:"uint8",conformance:"O.a"}),o({name:"ValueSigned8",id:2,type:"int8",conformance:"O.a"}),o({name:"ValueUnsigned16",id:3,type:"uint16",conformance:"O.a"}),o({name:"ValueSigned16",id:4,type:"int16",conformance:"O.a"}),o({name:"ValueUnsigned32",id:5,type:"uint32",conformance:"O.a"}),o({name:"ValueSigned32",id:6,type:"int32",conformance:"O.a"}),o({name:"ValueUnsigned64",id:7,type:"uint64",conformance:"O.a"}),o({name:"ValueSigned64",id:8,type:"int64",conformance:"O.a"})]}),C({name:"ExtensionFieldSetStruct",type:"struct",details:"This data type indicates for a given cluster a set of attributes and their values.",xref:{document:"cluster",section:"1.4.7.4"},children:[o({name:"ClusterId",id:0,type:"cluster-id",conformance:"M",details:"This field shall indicate the cluster-id of the cluster whose attributes are in the AttributeValueList field.",xref:{document:"cluster",section:"1.4.7.4.1"}}),o({name:"AttributeValueList",id:1,type:"list",conformance:"M",constraint:"desc",details:`This field shall indicate a set of attributes and their values which are stored as part of a scene.
Attributes which do not have the Scenes ("S") designation in the Quality column of their cluster specification shall NOT be used in the AttributeValueList field.`,xref:{document:"cluster",section:"1.4.7.4.2"},children:[o({name:"entry",type:"AttributeValuePairStruct"})]})]}),C({name:"Logical Scene Table",type:"struct",details:`The Scene Table is used to store information for each scene capable of being invoked on the server. Each scene is defined for a particular group. The Scene Table is defined here as a conceptual illustration to assist in understanding the underlying data to be stored when scenes are defined. Though the Scene Table is defined here using the data model architecture rules and format, the design is not normative.
The Scene table is logically a list of fabric-scoped structs. The logical fields of each Scene Table entry struct are illustrated below. An ExtensionFieldSetStruct may be present for each Scenes-supporting cluster implemented on the same endpoint.`,xref:{document:"cluster",section:"1.4.7.5"},children:[o({name:"SceneGroupId",id:0,type:"group-id",conformance:"M",details:"This field is the group identifier for which this scene applies, or 0 if the scene is not associated with a group.",xref:{document:"cluster",section:"1.4.7.5.1"}}),o({name:"SceneId",id:1,type:"uint8",conformance:"M",constraint:"max 254",details:"This field is unique within this group, which is used to identify this scene.",xref:{document:"cluster",section:"1.4.7.5.2"}}),o({name:"SceneName",id:2,type:"string",conformance:"SN",constraint:"max 16",details:`The field is the name of the scene.
If scene names are not supported, any commands that write a scene name shall simply discard the name, and any command that returns a scene name shall return an empty string.`,xref:{document:"cluster",section:"1.4.7.5.3"}}),o({name:"SceneTransitionTime",id:3,type:"uint32",conformance:"M",constraint:"max 60000000",default:0,details:"This field is the amount of time, in milliseconds, it will take for a cluster to change from its current state to the requested state.",xref:{document:"cluster",section:"1.4.7.5.4"}}),o({name:"ExtensionFields",id:4,type:"list",conformance:"M",default:[],details:'See the Scene Table Extensions subsections of individual clusters. A Scene Table Extension shall only use attributes with the Scene quality. Each ExtensionFieldSetStruct holds a set of values of these attributes for a cluster implemented on the same endpoint where the Scene ("S") designation appears in the quality column. A scene is the aggregate of all such fields across all clusters on the endpoint.',xref:{document:"cluster",section:"1.4.7.5.5"},children:[o({name:"entry",type:"ExtensionFieldSetStruct"})]})]})]});A.children.push(Pw);var kw=ie({name:"OnOff",id:6,classification:"application",pics:"OO",details:"Attributes and commands for turning devices on and off.",xref:{document:"cluster",section:"1.5"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:6}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"1.5.4"},children:[o({name:"LT",conformance:"[!OFFONLY]",constraint:"0",description:"Lighting",details:`This cluster is used for a lighting application.
On receipt of a Level Control cluster command that causes the OnOff attribute to be set to FALSE, the OnTime attribute shall be set to 0.
On receipt of a Level Control cluster command that causes the OnOff attribute to be set to TRUE, if the value of the OnTime attribute is equal to 0, the server shall set the OffWaitTime attribute to 0.`,xref:{document:"cluster",section:"1.5.4.1"}}),o({name:"DF",conformance:"[!OFFONLY]",constraint:"1",description:"DeadFrontBehavior",details:`When this feature is supported, the device exposing this server cluster exhibits "dead front" behavior when the "OnOff" attribute is FALSE (Off). This "dead front" behavior includes:
  \u2022 clusters other than this cluster that are also exposed may respond with failures to Invoke and     Write interactions. Such failure responses when in a "dead front" shall be with an     INVALID_IN_STATE status code.
  \u2022 clusters other than this cluster may change the values of their attributes to best-effort     values, due to the actual values not being defined or available in this state. Device type     specifications that require support for the DF feature SHOULD define what these best-effort     values are.
  \u2022 Report Transactions shall continue to be generated. Such transactions may include best-effort     values as noted above.
  \u2022 Event generation logic for clusters other than this cluster is unchanged (noting possible use     of best-effort attribute values as in the preceding bullets).
When this feature is supported and the OnOff attribute changes from TRUE to FALSE (e.g. when receiving an Off Command, or due to a manual interaction on the device), it shall start executing this "dead front" behavior.
When this feature is supported and the OnOff attribute changes from FALSE to TRUE (e.g. when receiving an On Command, or due to a manual interaction on the device), it shall stop executing this "dead front" behavior.
When this feature is supported, and any change of the "dead front" state leads to changes in attributes of other clusters due to the "dead front" feature, these attribute changes shall NOT be skipped or omitted from the usual processing associated with attribute changes. For example, if an
attribute changes from value 4 to null on "dead front" behavior due to an Off command being received, this change shall be processed for reporting and subscriptions.`,xref:{document:"cluster",section:"1.5.4.2"}}),o({name:"OFFONLY",conformance:"[!LT | DF]",constraint:"2",description:"OffOnly",details:`When this feature is supported, the Off command shall be supported and the On and Toggle commands shall NOT be supported.
This feature is useful for devices which can be turned off via the Off command received by an instance of this cluster but cannot be turned on via commands received by an instance of this cluster due to regulatory requirements.`,xref:{document:"cluster",section:"1.5.4.3"}})]}),p({name:"OnOff",id:0,type:"bool",access:"R V",conformance:"M",default:!1,quality:"N S",details:"This attribute indicates whether the device type implemented on the endpoint is turned off or turned on, in these cases the value of the OnOff attribute equals FALSE, or TRUE respectively.",xref:{document:"cluster",section:"1.5.6.2"}}),p({name:"GlobalSceneControl",id:16384,type:"bool",access:"R V",conformance:"LT",default:!0,details:`In order to support the use case where the user gets back the last setting of a set of devices (e.g. level settings for lights), a global scene is introduced which is stored when the devices are turned off and recalled when the devices are turned on. The global scene is defined as the scene that is stored with group identifier 0 and scene identifier 0.
This attribute is defined in order to prevent a second Off command storing the all-devices-off situation as a global scene, and to prevent a second On command destroying the current settings by going back to the global scene.
This attribute shall be set to TRUE after the reception of a command which causes the OnOff attribute to be set to TRUE, such as a standard On command, a MoveToLevel(WithOnOff) command, a RecallScene command or a OnWithRecallGlobalScene command.
This attribute is set to FALSE after reception of a OffWithEffect command.`,xref:{document:"cluster",section:"1.5.6.3"}}),p({name:"OnTime",id:16385,type:"uint16",access:"RW VO",conformance:"LT",default:0,details:"This attribute specifies the length of time (in 1/10ths second) that the On state shall be maintained before automatically transitioning to the Off state when using the OnWithTimedOff command. This attribute can be written at any time, but writing a value only has effect when in the Timed On state. See OnWithTimedOff for more details.",xref:{document:"cluster",section:"1.5.6.4"}}),p({name:"OffWaitTime",id:16386,type:"uint16",access:"RW VO",conformance:"LT",default:0,details:"This attribute specifies the length of time (in 1/10ths second) that the Off state shall be guarded to prevent another OnWithTimedOff command turning the server back to its On state (e.g., when leaving a room, the lights are turned off but an occupancy sensor detects the leaving person and attempts to turn the lights back on). This attribute can be written at any time, but writing a value only has an effect when in the Timed On state followed by a transition to the Delayed Off state, or in the Delayed Off state. See OnWithTimedOff for more details.",xref:{document:"cluster",section:"1.5.6.5"}}),p({name:"StartUpOnOff",id:16387,type:"StartUpOnOffEnum",access:"RW VM",conformance:"LT",constraint:"desc",quality:"X N",details:`This attribute shall define the desired startup behavior of a device when it is supplied with power and this state shall be reflected in the OnOff attribute. If the value is null, the OnOff attribute is set to its previous value. Otherwise, the behavior is defined in the table defining StartUpOnOffEnum.
This behavior does not apply to reboots associated with OTA. After an OTA restart, the OnOff attribute shall return to its value prior to the restart.`,xref:{document:"cluster",section:"1.5.6.6"}}),U({name:"Off",id:0,access:"O",conformance:"M",direction:"request",response:"status",xref:{document:"cluster",section:"1.5.7.1"}}),U({name:"On",id:1,access:"O",conformance:"!OFFONLY",direction:"request",response:"status",xref:{document:"cluster",section:"1.5.7.2"}}),U({name:"Toggle",id:2,access:"O",conformance:"!OFFONLY",direction:"request",response:"status",xref:{document:"cluster",section:"1.5.7.3"}}),U({name:"OffWithEffect",id:64,access:"O",conformance:"LT",direction:"request",response:"status",details:"The OffWithEffect command allows devices to be turned off using enhanced ways of fading.",xref:{document:"cluster",section:"1.5.7.4"},children:[o({name:"EffectIdentifier",id:0,type:"EffectIdentifierEnum",conformance:"M",constraint:"desc",details:"This field specifies the fading effect to use when turning the device off. This field shall contain one of the non-reserved values listed in EffectIdentifierEnum.",xref:{document:"cluster",section:"1.5.7.4.1"}}),o({name:"EffectVariant",id:1,type:"enum8",conformance:"M",constraint:"desc",default:0,details:"This field is used to indicate which variant of the effect, indicated in the EffectIdentifier field, SHOULD be triggered. If the server does not support the given variant, it shall use the default variant. This field is dependent on the value of the EffectIdentifier field and shall contain one of the non-reserved values listed in either DelayedAllOffEffectVariantEnum or DyingLightEffectVariantEnum.",xref:{document:"cluster",section:"1.5.7.4.2"}})]}),U({name:"OnWithRecallGlobalScene",id:65,access:"O",conformance:"LT",direction:"request",response:"status",details:"This command allows the recall of the settings when the device was turned off.",xref:{document:"cluster",section:"1.5.7.5"}}),U({name:"OnWithTimedOff",id:66,access:"O",conformance:"LT",direction:"request",response:"status",details:"This command allows devices to be turned on for a specific duration with a guarded off duration so that SHOULD the device be subsequently turned off, further OnWithTimedOff commands, received during this time, are prevented from turning the devices back on. Further OnWithTimedOff commands received while the server is turned on, will update the period that the device is turned on.",xref:{document:"cluster",section:"1.5.7.6"},children:[o({name:"OnOffControl",id:0,type:"OnOffControlBitmap",conformance:"M",constraint:"0 to 1",details:"This field contains information on how the server is to be operated.",xref:{document:"cluster",section:"1.5.7.6.1"}}),o({name:"OnTime",id:1,type:"uint16",conformance:"M",constraint:"max 65534",details:"This field is used to adjust the value of the OnTime attribute.",xref:{document:"cluster",section:"1.5.7.6.2"}}),o({name:"OffWaitTime",id:2,type:"uint16",conformance:"M",constraint:"max 65534",details:"This field is used to adjust the value of the OffWaitTime attribute.",xref:{document:"cluster",section:"1.5.7.6.3"}})]}),C({name:"OnOffControlBitmap",type:"map8",xref:{document:"cluster",section:"1.5.5.1"},children:[o({name:"AcceptOnlyWhenOn",constraint:"0",description:"Indicates a command is only accepted when in On state."})]}),C({name:"StartUpOnOffEnum",type:"enum8",xref:{document:"cluster",section:"1.5.5.2"},children:[o({name:"Off",id:0,conformance:"M",description:"Set the OnOff attribute to FALSE"}),o({name:"On",id:1,conformance:"M",description:"Set the OnOff attribute to TRUE"}),o({name:"Toggle",id:2,conformance:"M",description:"If the previous value of the OnOff attribute is equal to FALSE, set the OnOff attribute to TRUE. If the previous value of the OnOff attribute is equal to TRUE, set the OnOff attribute to FALSE (toggle)."})]}),C({name:"EffectIdentifierEnum",type:"enum8",xref:{document:"cluster",section:"1.5.5.3"},children:[o({name:"DelayedAllOff",id:0,conformance:"M",description:"Delayed All Off"}),o({name:"DyingLight",id:1,conformance:"M",description:"Dying Light"})]}),C({name:"DelayedAllOffEffectVariantEnum",type:"enum8",xref:{document:"cluster",section:"1.5.5.4"},children:[o({name:"DelayedOffFastFade",id:0,conformance:"M",description:"Fade to off in 0.8 seconds"}),o({name:"NoFade",id:1,conformance:"M",description:"No fade"}),o({name:"DelayedOffSlowFade",id:2,conformance:"M",description:"50% dim down in 0.8 seconds then fade to off in 12 seconds"})]}),C({name:"DyingLightEffectVariantEnum",type:"enum8",xref:{document:"cluster",section:"1.5.5.5"},children:[o({name:"DyingLightFadeOff",id:0,conformance:"M",description:"20% dim up in 0.5s then fade to off in 1 second"})]})]});A.children.push(kw);var Fw=ie({name:"LevelControl",id:8,classification:"application",pics:"LVL",details:"This cluster provides an interface for controlling a characteristic of a device that can be set to a level, for example the brightness of a light, the degree of closure of a door, or the power output of a heater.",xref:{document:"cluster",section:"1.6"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:5}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"1.6.4"},children:[o({name:"OO",conformance:"O",constraint:"0",default:1,description:"OnOff",details:"Dependency with the On/Off cluster"}),o({name:"LT",conformance:"O",constraint:"1",default:0,description:"Lighting",details:`This feature supports an interface for controlling the level of a light source. For the CurrentLevel attribute:
A value of 0x00 shall NOT be used.
A value of 0x01 shall indicate the minimum level that can be attained on a device. A value of 0xFE shall indicate the maximum level that can be attained on a device. A value of null shall represent an undefined value.
All other values are application specific gradations from the minimum to the maximum level.`,xref:{document:"cluster",section:"1.6.4.2"}}),o({name:"FQ",conformance:"P",constraint:"2",default:0,description:"Frequency",details:"NOTE The Frequency feature is provisional.",xref:{document:"cluster",section:"1.6.4.3"}})]}),p({name:"CurrentLevel",id:0,type:"uint8",access:"R V",conformance:"M",constraint:"minLevel to maxLevel",default:null,quality:"X N S",details:"Indicates the current level of this device. The meaning of 'level' is device dependent.",xref:{document:"cluster",section:"1.6.6.2"}}),p({name:"RemainingTime",id:1,type:"uint16",access:"R V",conformance:"LT",default:0,details:"Indicates the time remaining until the current command is complete - it is specified in 1/10ths of a second.",xref:{document:"cluster",section:"1.6.6.3"}}),p({name:"MinLevel",id:2,type:"uint8",access:"R V",conformance:"[LT]",constraint:"1 to maxLevel",default:1,details:"Indicates the minimum value of CurrentLevel that is capable of being assigned.",xref:{document:"cluster",section:"1.6.6.4"}}),p({name:"MinLevel",id:2,type:"uint8",access:"R V",conformance:"[!LT]",constraint:"0 to maxLevel",default:0,details:"Indicates the minimum value of CurrentLevel that is capable of being assigned.",xref:{document:"cluster",section:"1.6.6.4"}}),p({name:"MaxLevel",id:3,type:"uint8",access:"R V",conformance:"O",constraint:"minLevel to 254",default:254,details:"Indicates the maximum value of CurrentLevel that is capable of being assigned.",xref:{document:"cluster",section:"1.6.6.5"}}),p({name:"CurrentFrequency",id:4,type:"uint16",access:"R V",conformance:"FQ",constraint:"minFrequency to maxFrequency",default:0,quality:"S P",details:"Indicates the frequency at which the device is at CurrentLevel. A CurrentFrequency of 0 is unknown.",xref:{document:"cluster",section:"1.6.6.6"}}),p({name:"MinFrequency",id:5,type:"uint16",access:"R V",conformance:"FQ",constraint:"0 to maxFrequency",default:0,details:"Indicates the minimum value of CurrentFrequency that is capable of being assigned. MinFrequency shall be less than or equal to MaxFrequency. A value of 0 indicates undefined.",xref:{document:"cluster",section:"1.6.6.7"}}),p({name:"MaxFrequency",id:6,type:"uint16",access:"R V",conformance:"FQ",constraint:"min minFrequency",default:0,details:"Indicates the maximum value of CurrentFrequency that is capable of being assigned. MaxFrequency shall be greater than or equal to MinFrequency. A value of 0 indicates undefined.",xref:{document:"cluster",section:"1.6.6.8"}}),p({name:"OnOffTransitionTime",id:16,type:"uint16",access:"RW VO",conformance:"O",default:0,details:`Indicates the time taken to move to or from the target level when On or Off commands are received by an On/Off cluster on the same endpoint. It is specified in 1/10ths of a second.
The actual time taken SHOULD be as close to OnOffTransitionTime as the device is able. Please note that if the device is not able to move at a variable rate, the OnOffTransitionTime attribute SHOULD NOT be implemented.`,xref:{document:"cluster",section:"1.6.6.10"}}),p({name:"OnLevel",id:17,type:"uint8",access:"RW VO",conformance:"M",constraint:"minLevel to maxLevel",default:null,quality:"X",details:`Indicates the value that the CurrentLevel attribute is set to when the OnOff attribute of an On/Off cluster on the same endpoint is set to TRUE, as a result of processing an On/Off cluster command. If the OnLevel attribute is not implemented, or is set to the null value, it has no effect. For more details see Effect of On/Off Commands on the CurrentLevel Attribute.
OnLevel represents a mandatory field that was previously not present or optional. Implementers should be aware that older devices may not implement it.`,xref:{document:"cluster",section:"1.6.6.11"}}),p({name:"OnTransitionTime",id:18,type:"uint16",access:"RW VO",conformance:"O",default:null,quality:"X",details:"Indicates the time taken to move the current level from the minimum level to the maximum level when an On command is received by an On/Off cluster on the same endpoint. It is specified in 1/10ths of a second. If this attribute is not implemented, or contains a null value, the OnOffTransitionTime shall be used instead.",xref:{document:"cluster",section:"1.6.6.12"}}),p({name:"OffTransitionTime",id:19,type:"uint16",access:"RW VO",conformance:"O",default:null,quality:"X",details:"Indicates the time taken to move the current level from the maximum level to the minimum level when an Off command is received by an On/Off cluster on the same endpoint. It is specified in 1/10ths of a second. If this attribute is not implemented, or contains a null value, the OnOffTransitionTime shall be used instead.",xref:{document:"cluster",section:"1.6.6.13"}}),p({name:"DefaultMoveRate",id:20,type:"uint8",access:"RW VO",conformance:"O",quality:"X",details:"Indicates the movement rate, in units per second, when a Move command is received with a null value Rate parameter.",xref:{document:"cluster",section:"1.6.6.14"}}),p({name:"Options",id:15,type:"OptionsBitmap",access:"RW VO",conformance:"M",constraint:"desc",default:0,details:`Indicates the selected options of the device.
The Options attribute is a bitmap that determines the default behavior of some cluster commands. Each command that is dependent on the Options attribute shall first construct a temporary Options bitmap that is in effect during the command processing. The temporary Options bitmap has the same format and meaning as the Options attribute, but includes any bits that may be overridden by command fields.
This attribute is meant to be changed only during commissioning.
Command execution shall NOT continue beyond the Options processing if all of these criteria are true:
  \u2022 The command is one of the \u2018without On/Off\u2019 commands: Move, Move to Level, Step, or Stop.
  \u2022 The On/Off cluster exists on the same endpoint as this cluster.
  \u2022 The OnOff attribute of the On/Off cluster, on this endpoint, is FALSE.
  \u2022 The value of the ExecuteIfOff bit is 0.`,xref:{document:"cluster",section:"1.6.6.9"}}),p({name:"StartUpCurrentLevel",id:16384,type:"uint8",access:"RW VM",conformance:"LT",constraint:"desc",quality:"X N",details:`Indicates the desired startup level for a device when it is supplied with power and this level shall be reflected in the CurrentLevel attribute. The values of the StartUpCurrentLevel attribute are listed below:
This behavior does not apply to reboots associated with OTA. After an OTA restart, the CurrentLevel attribute shall return to its value prior to the restart.`,xref:{document:"cluster",section:"1.6.6.15"}}),U({name:"MoveToLevel",id:0,access:"O",conformance:"M",direction:"request",response:"status",xref:{document:"cluster",section:"1.6.7.1"},children:[o({name:"Level",id:0,type:"uint8",conformance:"M",constraint:"0 to 254"}),o({name:"TransitionTime",id:1,type:"uint16",conformance:"M",quality:"X"}),o({name:"OptionsMask",id:2,type:"Options",conformance:"M",constraint:"desc",default:0}),o({name:"OptionsOverride",id:3,type:"Options",conformance:"M",constraint:"desc",default:0})]}),U({name:"Move",id:1,access:"O",conformance:"M",direction:"request",response:"status",xref:{document:"cluster",section:"1.6.7.2"},children:[o({name:"MoveMode",id:0,type:"MoveModeEnum",conformance:"M",constraint:"desc",details:"This field shall be one of the non-reserved values in MoveModeEnum.",xref:{document:"cluster",section:"1.6.7.2.1"}}),o({name:"Rate",id:1,type:"uint8",conformance:"M",quality:"X",details:"This field shall indicate the rate of movement in units per second. The actual rate of movement SHOULD be as close to this rate as the device is able. If the Rate field is equal to null, then the value in DefaultMoveRate attribute shall be used. However, if the Rate field is equal to null and the DefaultMoveRate attribute is not supported, or if the Rate field is equal to null and the value of the DefaultMoveRate attribute is equal to null, then the device SHOULD move as fast as it is able. If the device is not able to move at a variable rate, this field may be disregarded.",xref:{document:"cluster",section:"1.6.7.2.2"}}),o({name:"OptionsMask",id:2,type:"Options",conformance:"M",constraint:"desc",default:0}),o({name:"OptionsOverride",id:3,type:"Options",conformance:"M",constraint:"desc",default:0})]}),U({name:"Step",id:2,access:"O",conformance:"M",direction:"request",response:"status",xref:{document:"cluster",section:"1.6.7.3"},children:[o({name:"StepMode",id:0,type:"StepModeEnum",conformance:"M",constraint:"desc",details:"This field shall be one of the non-reserved values in StepModeEnum.",xref:{document:"cluster",section:"1.6.7.3.1"}}),o({name:"StepSize",id:1,type:"uint8",conformance:"M",details:"This field shall indicate the change to CurrentLevel.",xref:{document:"cluster",section:"1.6.7.3.2"}}),o({name:"TransitionTime",id:2,type:"uint16",conformance:"M",quality:"X",details:`This field shall indicate the time that shall be taken to perform the step, in tenths of a second. A step is a change in the CurrentLevel of StepSize units. The actual time taken SHOULD be as close to this as the device is able. If the TransitionTime field is equal to null, the device SHOULD move as fast as it is able.
If the device is not able to move at a variable rate, the TransitionTime field may be disregarded.`,xref:{document:"cluster",section:"1.6.7.3.3"}}),o({name:"OptionsMask",id:3,type:"Options",conformance:"M",constraint:"desc",default:0}),o({name:"OptionsOverride",id:4,type:"Options",conformance:"M",constraint:"desc",default:0})]}),U({name:"Stop",id:3,access:"O",conformance:"M",direction:"request",response:"status",xref:{document:"cluster",section:"1.6.7.4"},children:[o({name:"OptionsMask",id:0,type:"Options",conformance:"M",constraint:"desc",default:0}),o({name:"OptionsOverride",id:1,type:"Options",conformance:"M",constraint:"desc",default:0})]}),U({name:"MoveToLevelWithOnOff",id:4,type:"MoveToLevel",access:"O",conformance:"M",direction:"request",response:"status",xref:{document:"cluster",section:"1.6.7"}}),U({name:"MoveWithOnOff",id:5,type:"Move",access:"O",conformance:"M",direction:"request",response:"status",xref:{document:"cluster",section:"1.6.7"}}),U({name:"StepWithOnOff",id:6,type:"Step",access:"O",conformance:"M",direction:"request",response:"status",xref:{document:"cluster",section:"1.6.7"}}),U({name:"StopWithOnOff",id:7,type:"Stop",access:"O",conformance:"M",direction:"request",response:"status",xref:{document:"cluster",section:"1.6.7"}}),U({name:"MoveToClosestFrequency",id:8,access:"O",conformance:"FQ",direction:"request",response:"status",xref:{document:"cluster",section:"1.6.7.5"},children:[o({name:"Frequency",id:0,type:"uint16",conformance:"M",default:0})]}),C({name:"OptionsBitmap",type:"map8",xref:{document:"cluster",section:"1.6.5.1"},children:[o({name:"ExecuteIfOff",constraint:"0",description:"Dependency on On/Off cluster",details:"This bit indicates if this cluster has a dependency with the On/Off cluster.",xref:{document:"cluster",section:"1.6.5.1.1"}}),o({name:"CoupleColorTempToLevel",constraint:"1",description:"Dependency on Color Control cluster",details:"This bit indicates if this cluster has a dependency with the Color Control cluster.",xref:{document:"cluster",section:"1.6.5.1.2"}})]}),C({name:"MoveModeEnum",type:"enum8",xref:{document:"cluster",section:"1.6.5.2"},children:[o({name:"Up",id:0,conformance:"M",description:"Increase the level"}),o({name:"Down",id:1,conformance:"M",description:"Decrease the level"})]}),C({name:"StepModeEnum",type:"enum8",xref:{document:"cluster",section:"1.6.5.3"},children:[o({name:"Up",id:0,conformance:"M",description:"Step upwards"}),o({name:"Down",id:1,conformance:"M",description:"Step downwards"})]})]});A.children.push(Fw);var Lw=ie({name:"PulseWidthModulation",id:28,type:"LevelControl",pics:"LVL"});A.children.push(Lw);var Bw=ie({name:"BooleanState",id:69,classification:"application",pics:"BOOL",details:"This cluster provides an interface to a boolean state.",xref:{document:"cluster",section:"1.7"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"StateValue",id:0,type:"bool",access:"R V",conformance:"M",quality:"P",details:`This represents a boolean state.
The semantics of this boolean state are defined by the device type using this cluster.
For example, in a Contact Sensor device type, FALSE=open or no contact, TRUE=closed or contact.`,xref:{document:"cluster",section:"1.7.4.1"}}),Se({name:"StateChange",id:0,access:"V",conformance:"O",priority:"info",details:"If this event is supported, it shall be generated when the StateValue attribute changes.",xref:{document:"cluster",section:"1.7.5.1"},children:[o({name:"StateValue",id:0,type:"bool",conformance:"M",details:"This field shall indicate the new value of the StateValue attribute.",xref:{document:"cluster",section:"1.7.5.1.1"}})]})]});A.children.push(Bw);var Uw=ie({name:"BooleanStateConfiguration",id:128,classification:"application",pics:"BOOLCFG",details:"This cluster is used to configure a boolean sensor, including optional state change alarm features and configuration of the sensitivity level associated with the sensor.",xref:{document:"cluster",section:"1.8"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"1.8.4"},children:[o({name:"VIS",conformance:"O",constraint:"0",description:"Visual",details:"Supports visual alarms"}),o({name:"AUD",conformance:"O",constraint:"1",description:"Audible",details:"Supports audible alarms"}),o({name:"SPRS",conformance:"[VIS | AUD]",constraint:"2",description:"AlarmSuppress",details:`This feature shall indicate that the device is able to suppress the supported alarm modes, when the user acknowledges the alarm. This is intended to stop visual and/or audible alarms, when the user has become aware that the sensor is triggered, but it is no longer desired to have the alarm modes active on the device, e.g.:
  \u2022 The triggering cause have been resolved by the user, but the sensor has not yet stopped     detecting the triggering cause.
  \u2022 The user is not able to address the triggering cause, but is aware of the alarm and     suppress/acknowledge it be addressed at a later point.
Acknowledge of alarms will for the remainder of this cluster be referred to as suppress.
A suppressed alarm is still considered active and will remain so unless it is actively disabled or the triggering condition is not longer present. The action of suppressing an alarm mode is only applicable to and is intended to stop the physical alarming, e.g. emitting a sound or blinking a light; it does not impact alarm reporting in AlarmsActive.`,xref:{document:"cluster",section:"1.8.4.1"}}),o({name:"SENSLVL",conformance:"O",constraint:"3",description:"SensitivityLevel",details:"Supports ability to set sensor sensitivity"})]}),p({name:"CurrentSensitivityLevel",id:0,type:"uint8",access:"RW VO",conformance:"SENSLVL",constraint:"max SupportedSensitivityLevels - 1",quality:"N",details:`Indicates the currently selected sensitivity level.
If a write interaction to this attribute contains an unsupported sensitivity value, a CONSTRAINT_ERROR status shall be returned.`,xref:{document:"cluster",section:"1.8.6.1"}}),p({name:"SupportedSensitivityLevels",id:1,type:"uint8",access:"R V",conformance:"SENSLVL",constraint:"2 to 10",quality:"F",details:`Indicates the number of supported sensitivity levels by the device.
These supported sensitivity levels shall be ordered by sensitivity, where a value of 0 shall be considered the lowest sensitivity level (least sensitive) and the highest supported value shall be considered the highest sensitivity level.
The number of supported sensitivity levels SHOULD represent unique sensitivity levels supported by the device.`,xref:{document:"cluster",section:"1.8.6.2"}}),p({name:"DefaultSensitivityLevel",id:2,type:"uint8",access:"R V",conformance:"[SENSLVL]",constraint:"max SupportedSensitivityLevels - 1",quality:"F",details:"Indicates the default sensitivity level selected by the manufacturer.",xref:{document:"cluster",section:"1.8.6.3"}}),p({name:"AlarmsActive",id:3,type:"AlarmModeBitmap",access:"R V",conformance:"VIS | AUD",default:0,details:`Indicates which specific alarm modes on the server are currently active. When the sensor is no longer triggered, this attribute shall be set to the inactive state, by setting the bit to 0, for all supported alarm modes.
If an alarm mode is not supported, the bit indicating this alarm mode shall always be 0. A bit shall indicate whether the alarm mode inactive or not:
  \u2022 0 = Inactive
  \u2022 1 = Active`,xref:{document:"cluster",section:"1.8.6.4"}}),p({name:"AlarmsSuppressed",id:4,type:"AlarmModeBitmap",access:"R V",conformance:"SPRS",default:0,details:`Indicates which specific alarm modes on the server are currently suppressed. When the sensor is no longer triggered, this attribute shall be set to the unsuppressed state, by setting the bit to 0, for all supported alarm modes.
If an alarm mode is not supported, the bit indicating this alarm mode shall always be 0. A bit shall indicate whether the alarm mode is suppressed or not:
  \u2022 0 = Not suppressed
  \u2022 1 = Suppressed`,xref:{document:"cluster",section:"1.8.6.5"}}),p({name:"AlarmsEnabled",id:5,type:"AlarmModeBitmap",access:"R V",conformance:"[VIS | AUD]",quality:"N",details:`Indicates the alarm modes that will be emitted if the sensor is triggered. If an alarm mode is not supported, the bit indicating this alarm mode shall always be 0.
A bit shall indicate whether the alarm mode is enabled or disabled:
  \u2022 0 = Disabled
  \u2022 1 = Enabled`,xref:{document:"cluster",section:"1.8.6.6"}}),p({name:"AlarmsSupported",id:6,type:"AlarmModeBitmap",access:"R V",conformance:"VIS | AUD",default:0,quality:"F",details:`Indicates the alarms supported by the sensor. A bit shall indicate whether the alarm mode is supported:
  \u2022 0 = Not supported
  \u2022 1 = Supported`,xref:{document:"cluster",section:"1.8.6.7"}}),p({name:"SensorFault",id:7,type:"SensorFaultBitmap",access:"R V",conformance:"O",default:0,details:"Indicates any faults registered by the device.",xref:{document:"cluster",section:"1.8.6.8"}}),Se({name:"AlarmsStateChanged",id:0,access:"V",conformance:"VIS | AUD",priority:"info",details:`This event shall be generated after any bits in the AlarmsActive and/or AlarmsSuppressed attributes change. This may occur in situations such as when internal processing by the server determines that an alarm mode becomes active or inactive, or when the SuppressAlarm or EnableDisableAlarm commands are processed in a way that some alarm modes becomes suppressed, active or inactive.
If several alarm modes change state at the same time, a single event combining multiple changes may be emitted instead of multiple events each representing a single change.`,xref:{document:"cluster",section:"1.8.8.1"},children:[o({name:"AlarmsActive",id:0,type:"AlarmModeBitmap",conformance:"M",details:"This field shall indicate the state of active alarm modes, as indicated by the AlarmsActive attribute, at the time the event was generated.",xref:{document:"cluster",section:"1.8.8.1.1"}}),o({name:"AlarmsSuppressed",id:1,type:"AlarmModeBitmap",conformance:"SPRS",details:"This field shall indicate the state of suppressed alarm modes, as indicated by the AlarmsSuppressed attribute, at the time the event was generated.",xref:{document:"cluster",section:"1.8.8.1.2"}})]}),Se({name:"SensorFault",id:1,access:"V",conformance:"O",priority:"info",details:"This event shall be generated when the device registers or clears a fault.",xref:{document:"cluster",section:"1.8.8.2"},children:[o({name:"SensorFault",id:0,type:"SensorFaultBitmap",conformance:"M",details:"This field shall indicate the value of the SensorFault attribute, at the time this event is generated.",xref:{document:"cluster",section:"1.8.8.2.1"}})]}),U({name:"SuppressAlarm",id:0,access:"O",conformance:"SPRS",direction:"request",response:"status",xref:{document:"cluster",section:"1.8.7.1"},children:[o({name:"AlarmsToSuppress",id:0,type:"AlarmModeBitmap",conformance:"M",details:"This field shall indicate the alarm modes to suppress.",xref:{document:"cluster",section:"1.8.7.1.1"}})]}),U({name:"EnableDisableAlarm",id:1,access:"O",conformance:"VIS | AUD",direction:"request",response:"status",xref:{document:"cluster",section:"1.8.7.2"},children:[o({name:"AlarmsToEnableDisable",id:0,type:"AlarmModeBitmap",conformance:"M",details:"This field shall indicate the alarm modes to either enable or disable depending on the bit status, as specified for the AlarmsEnabled attribute.",xref:{document:"cluster",section:"1.8.7.2.1"}})]}),C({name:"AlarmModeBitmap",type:"map8",xref:{document:"cluster",section:"1.8.5.1"},children:[o({name:"Visual",constraint:"0",description:"Visual alarming"}),o({name:"Audible",constraint:"1",description:"Audible alarming"})]}),C({name:"SensorFaultBitmap",type:"map16",xref:{document:"cluster",section:"1.8.5.2"},children:[o({name:"GeneralFault",constraint:"0",description:"Unspecified fault detected"})]})]});A.children.push(Uw);var Vw=ie({name:"ModeSelect",id:80,classification:"application",pics:"MOD",details:`This cluster provides an interface for controlling a characteristic of a device that can be set to one of several predefined values. For example, the light pattern of a disco ball, the mode of a massage chair, or the wash cycle of a laundry machine.
The server allows the client to set a mode on the server. A mode is one of a list of options that may be presented by a client for a user choice, or understood by the client, via the semantic tags on the mode.
A semantic tag is either a standard tag within a standard category namespace, or a manufacturer specific tag, within the namespace of the vendor ID of the manufacturer. If there is no semantic tag, the mode is anonymous, and the selection is made by the user solely based on the Label string.
Each cluster ID that indicates this specification shall define a distinct purpose for the cluster instance. For example: A LightBlinking cluster ID supports blinking modes for a light (and is described that way).
An anonymous mode shall support the derived cluster purpose. A manufacturer specific semantic tag shall support the derived cluster purpose. An anonymous mode shall NOT replace the meaning of a standard semantic tag, when one exists, for the cluster purpose.`,xref:{document:"cluster",section:"1.9"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:2}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"1.9.4"},children:[o({name:"DEPONOFF",constraint:"0",description:"OnOff",details:"This feature creates a dependency between an OnOff cluster instance and this cluster instance on the same endpoint. See OnMode for more information.",xref:{document:"cluster",section:"1.9.4.1"}})]}),p({name:"Description",id:0,type:"string",access:"R V",conformance:"M",constraint:"max 64",quality:"F",details:`This attribute describes the purpose of the server, in readable text.
For example, a coffee machine may have a Mode Select cluster for the amount of milk to add, and another Mode Select cluster for the amount of sugar to add. In this case, the first instance can have the description Milk and the second instance can have the description Sugar. This allows the user to tell the purpose of each of the instances.`,xref:{document:"cluster",section:"1.9.6.2"}}),p({name:"StandardNamespace",id:1,type:"enum16",access:"R V",conformance:"M",constraint:"desc",default:null,quality:"X F",details:`This attribute, when not null, shall indicate a single standard namespace for any standard semantic tag value supported in this or any other cluster instance with the same value of this attribute. A
null value indicates no standard namespace, and therefore, no standard semantic tags are provided in this cluster instance. Each standard namespace and corresponding values and value meanings shall be defined in another document.`,xref:{document:"cluster",section:"1.9.6.3"}}),p({name:"SupportedModes",id:2,type:"list",access:"R V",conformance:"M",constraint:"max 255",quality:"F",details:"This attribute is the list of supported modes that may be selected for the CurrentMode attribute. Each item in this list represents a unique mode as indicated by the Mode field of the ModeOptionStruct. Each entry in this list shall have a unique value for the Mode field.",xref:{document:"cluster",section:"1.9.6.4"},children:[o({name:"entry",type:"ModeOptionStruct"})]}),p({name:"CurrentMode",id:3,type:"uint8",access:"R V",conformance:"M",constraint:"desc",quality:"N S",details:`This attribute represents the current mode of the server.
The value of this field must match the Mode field of one of the entries in the SupportedModes
attribute.`,xref:{document:"cluster",section:"1.9.6.5"}}),p({name:"StartUpMode",id:4,type:"uint8",access:"RW VO",conformance:"O",constraint:"desc",quality:"X N",details:`The StartUpMode attribute value indicates the desired startup mode for the server when it is supplied with power.
If this attribute is not null, the CurrentMode attribute shall be set to the StartUpMode value, when the server is powered up, except in the case when the OnMode attribute overrides the StartUpMode attribute (see OnModeWithPowerUp).
This behavior does not apply to reboots associated with OTA. After an OTA restart, the CurrentMode attribute shall return to its value prior to the restart.
The value of this field shall match the Mode field of one of the entries in the SupportedModes
attribute.
If this attribute is not implemented, or is set to the null value, it shall have no effect.`,xref:{document:"cluster",section:"1.9.6.6"}}),p({name:"OnMode",id:5,type:"uint8",access:"RW VO",conformance:"DEPONOFF",constraint:"desc",default:null,quality:"X N",details:`Indicates the value of CurrentMode that depends on the state of the On/Off cluster on the same endpoint. If this attribute is not present or is set to null, it shall NOT have an effect, otherwise the CurrentMode attribute shall depend on the OnOff attribute of the On/Off cluster
The value of this field shall match the Mode field of one of the entries in the SupportedModes attribute.`,xref:{document:"cluster",section:"1.9.6.7"}}),U({name:"ChangeToMode",id:0,access:"O",conformance:"M",direction:"request",response:"status",details:"On receipt of this command, if the NewMode field indicates a valid mode transition within the supported list, the server shall set the CurrentMode attribute to the NewMode value, otherwise, the server shall respond with an INVALID_COMMAND status response.",xref:{document:"cluster",section:"1.9.7.1"},children:[o({name:"NewMode",id:0,type:"uint8",conformance:"M",constraint:"desc"})]}),C({name:"SemanticTagStruct",type:"struct",details:"A Semantic Tag is meant to be interpreted by the client for the purpose the cluster serves.",xref:{document:"cluster",section:"1.9.5.1"},children:[o({name:"MfgCode",id:0,type:"vendor-id",conformance:"M",constraint:"desc",quality:"F",details:'This field shall indicate a manufacturer code (Vendor ID), and the Value field shall indicate a semantic tag defined by the manufacturer. Each manufacturer code supports a single namespace of values. The same manufacturer code and semantic tag value in separate cluster instances are part of the same namespace and have the same meaning. For example: a manufacturer tag meaning "pinch", has the same meaning in a cluster whose purpose is to choose the amount of sugar, or amount of salt.',xref:{document:"cluster",section:"1.9.5.1.2"}}),o({name:"Value",id:1,type:"uint16",conformance:"M",quality:"F",details:"This field shall indicate the semantic tag within a semantic tag namespace which is either manufacturer specific or standard. For semantic tags in a standard namespace, see Standard Namespace.",xref:{document:"cluster",section:"1.9.5.1.1"}})]}),C({name:"ModeOptionStruct",type:"struct",details:"This is a struct representing a possible mode of the server.",xref:{document:"cluster",section:"1.9.5.2"},children:[o({name:"Label",id:0,type:"string",conformance:"M",constraint:"max 64",quality:"F",details:"This field is readable text that describes the mode option that can be used by a client to indicate to the user what this option means. This field is meant to be readable and understandable by the user.",xref:{document:"cluster",section:"1.9.5.2.1"}}),o({name:"Mode",id:1,type:"uint8",conformance:"M",quality:"F",details:"The Mode field is used to identify the mode option. The value shall be unique for every item in the SupportedModes attribute.",xref:{document:"cluster",section:"1.9.5.2.2"}}),o({name:"SemanticTags",id:2,type:"list",conformance:"M",constraint:"max 64",quality:"F",details:`This field is a list of semantic tags that map to the mode option. This may be used by clients to determine the meaning of the mode option as defined in a standard or manufacturer specific namespace. Semantic tags can help clients look for options that meet certain criteria. A semantic tag shall be either a standard tag or manufacturer specific tag as defined in each SemanticTagStruct list entry.
A mode option may have more than one semantic tag. A mode option may be mapped to a mixture of standard and manufacturer specific semantic tags.
All standard semantic tags are from a single namespace indicated by the StandardNamespace attribute.
For example: A mode labeled "100%" can have both the HIGH (MS) and MAX (standard) semantic tag. Clients seeking the option for either HIGH or MAX will find the same option in this case.`,xref:{document:"cluster",section:"1.9.5.2.3"},children:[o({name:"entry",type:"SemanticTagStruct"})]})]})]});A.children.push(Vw);var qw=ie({name:"ModeBase",classification:"application",pics:"MODB",details:`This cluster provides an interface for controlling a characteristic of a device that can be set to one of several predefined values. For example, the light pattern of a disco ball, the mode of a massage chair, or the wash cycle of a laundry machine.
The server allows the client to set a mode on the server. A mode is one of a list of options that may be presented by a client for a user choice, or understood by the client, via the mode\u2019s tags.
A mode tag is either a standard tag within a standard category namespace, or a manufacturer specific tag, within the namespace of the vendor ID of the manufacturer.
Any derived cluster specification based on this cluster shall support the standard mode tag value definitions and command status definitions defined in this cluster and may define additional standard mode tag values and standard command status values that are supported in the respective derived cluster instances.
Each cluster ID that indicates this specification shall define a distinct purpose for the cluster instance. For example: A LightBlinking cluster ID supports blinking modes for a light (and is described that way).
An anonymous mode shall NOT replace the meaning of a standard mode tag, when one exists, for the cluster purpose.`,xref:{document:"cluster",section:"1.10"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:2}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"1.10.4"},children:[o({name:"DEPONOFF",constraint:"0",description:"OnOff",details:"This feature creates a dependency between an OnOff cluster instance and this cluster instance on the same endpoint. See OnMode for more information.",xref:{document:"cluster",section:"1.10.4.1"}})]}),p({name:"SupportedModes",id:0,type:"list",access:"R V",conformance:"M",constraint:"2 to 255",quality:"F",details:`This attribute shall contain the list of supported modes that may be selected for the CurrentMode attribute. Each item in this list represents a unique mode as indicated by the Mode field of the ModeOptionStruct.
Each entry in this list shall have a unique value for the Mode field. Each entry in this list shall have a unique value for the Label field.`,xref:{document:"cluster",section:"1.10.6.2"},children:[o({name:"entry",type:"ModeOptionStruct"})]}),p({name:"CurrentMode",id:1,type:"uint8",access:"R V",conformance:"M",constraint:"desc",quality:"N S",details:`Indicates the current mode of the server.
The value of this field shall match the Mode field of one of the entries in the SupportedModes attribute.
The value of this attribute may change at any time via an out-of-band interaction outside of the server, such as interactions with a user interface, via internal mode changes due to autonomously progressing through a sequence of operations, on system time-outs or idle delays, or via interactions coming from a fabric other than the one which last executed a ChangeToMode.`,xref:{document:"cluster",section:"1.10.6.3"}}),p({name:"StartUpMode",id:2,type:"uint8",access:"RW VO",conformance:"O",constraint:"desc",quality:"X N",details:`Indicates the desired startup mode for the server when it is supplied with power.
If this attribute is not null, the CurrentMode attribute shall be set to the StartUpMode value, when the server is powered up, except in the case when the OnMode attribute overrides the StartUpMode attribute (see OnModeWithPowerUp).
This behavior does not apply to reboots associated with OTA. After an OTA restart, the CurrentMode attribute shall return to its value prior to the restart.
The value of this field shall match the Mode field of one of the entries in the SupportedModes attribute.
If this attribute is not implemented, or is set to the null value, it shall have no effect.`,xref:{document:"cluster",section:"1.10.6.4"}}),p({name:"OnMode",id:3,type:"uint8",access:"RW VO",conformance:"DEPONOFF",constraint:"desc",default:null,quality:"X N",details:`Indicates whether the value of CurrentMode depends on the state of the On/Off cluster on the same endpoint. If this attribute is not present or is set to null, there is no dependency, otherwise the CurrentMode attribute shall depend on the OnOff attribute in the On/Off cluster
The value of this field shall match the Mode field of one of the entries in the SupportedModes attribute.`,xref:{document:"cluster",section:"1.10.6.5"}}),U({name:"ChangeToMode",id:0,access:"O",conformance:"M",direction:"request",response:"ChangeToModeResponse",details:`This command is used to change device modes.
On receipt of this command the device shall respond with a ChangeToModeResponse command.`,xref:{document:"cluster",section:"1.10.7.1"},children:[o({name:"NewMode",id:0,type:"uint8",conformance:"M",constraint:"desc",details:`If the NewMode field doesn\u2019t match the Mode field of any entry of the SupportedModes list, the ChangeToModeResponse command\u2019s Status field shall indicate UnsupportedMode and the StatusText field shall be included and may be used to indicate the issue, with a human readable string, or include an empty string.
If the NewMode field matches the Mode field of one entry of the SupportedModes list, but the device is not able to transition as requested, the ChangeToModeResponse command shall:
  \u2022 Have the Status set to a product-specific Status value representing the error, or     GenericFailure if a more specific error cannot be provided. See Status Field for details.
  \u2022 Provide a human readable string in the StatusText field.
If the NewMode field matches the Mode field of one entry of the SupportedModes list and the device is able to transition as requested, the server shall transition into the mode associated with NewMode, the ChangeToModeResponse command shall have the Status field set to Success, the StatusText field may be supplied with a human readable string or include an empty string and the CurrentMode field shall be set to the value of the NewMode field.
If the NewMode field is the same as the value of the CurrentMode attribute the ChangeToModeRe
sponse command shall have the Status field set to Success and the StatusText field may be supplied with a human readable string or include an empty string.`,xref:{document:"cluster",section:"1.10.7.1.1"}})]}),U({name:"ChangeToModeResponse",id:1,access:"O",conformance:"M",direction:"response",details:"This command is sent by the device on receipt of the ChangeToMode command.",xref:{document:"cluster",section:"1.10.7.2"},children:[o({name:"Status",id:0,type:"status",conformance:"M",constraint:"desc",xref:{document:"cluster",section:"1.10.7.2.1"}}),o({name:"StatusText",id:1,type:"string",conformance:"[Status == Success], M",constraint:"max 64"})]}),C({name:"ModeTagStruct",type:"struct",details:"A Mode Tag is meant to be interpreted by the client for the purpose the cluster serves.",xref:{document:"cluster",section:"1.10.5.1"},children:[o({name:"MfgCode",id:0,type:"vendor-id",conformance:"O",constraint:"desc",details:`If the MfgCode field exists, the Value field shall be in the manufacturer-specific value range (see Section 1.10.8, \u201CMode Namespace\u201D).
This field shall indicate the manufacturer\u2019s VendorID and it shall determine the meaning of the Value field.
The same manufacturer code and mode tag value in separate cluster instances are part of the same namespace and have the same meaning. For example: a manufacturer tag meaning "pinch" can be used both in a cluster whose purpose is to choose the amount of sugar, or in a cluster whose purpose is to choose the amount of salt.`,xref:{document:"cluster",section:"1.10.5.1.1"}}),o({name:"Value",id:1,type:"enum16",conformance:"M",details:"This field shall indicate the mode tag within a mode tag namespace which is either manufacturer specific or standard.",xref:{document:"cluster",section:"1.10.5.1.2"}})]}),C({name:"ModeOptionStruct",type:"struct",details:"This is a struct representing a possible mode of the server.",xref:{document:"cluster",section:"1.10.5.2"},children:[o({name:"Label",id:0,type:"string",conformance:"M",constraint:"max 64",quality:"F",details:"This field shall indicate readable text that describes the mode option, so that a client can provide it to the user to indicate what this option means. This field is meant to be readable and understandable by the user.",xref:{document:"cluster",section:"1.10.5.2.1"}}),o({name:"Mode",id:1,type:"uint8",conformance:"M",quality:"F",details:"This field is used to identify the mode option.",xref:{document:"cluster",section:"1.10.5.2.2"}}),o({name:"ModeTags",id:2,type:"list",conformance:"M",constraint:"max 8",quality:"F",details:`This field shall contain a list of tags that are associated with the mode option. This may be used by clients to determine the full or the partial semantics of a certain mode, depending on which tags they understand, using standard definitions and/or manufacturer specific namespace definitions.
The standard mode tags are defined in this cluster specification. For the derived cluster instances, if the specification of the derived cluster defines a namespace, the set of standard mode tags also includes the mode tag values from that namespace.
Mode tags can help clients look for options that meet certain criteria, render the user interface, use
the mode in an automation, or to craft help text their voice-driven interfaces. A mode tag shall be either a standard tag or a manufacturer specific tag, as defined in each ModeTagStruct list entry.
A mode option may have more than one mode tag. A mode option may be associated with a mixture of standard and manufacturer specific mode tags. A mode option shall be associated with at least one standard mode tag.
A few examples are provided below.
  \u2022 A mode named "100%" can have both the High (manufacturer specific) and Max (standard) mode tag.     Clients seeking the mode for either High or Max will find the same mode in this case.
  \u2022 A mode that includes a LowEnergy tag can be displayed by the client using a widget icon that     shows a green leaf.
  \u2022 A mode that includes a LowNoise tag may be used by the client when the user wishes for a lower     level of audible sound, less likely to disturb the household\u2019s activities.
  \u2022 A mode that includes a LowEnergy tag (standard, defined in this cluster specification) and also     a Delicate tag (standard, defined in the namespace of a Laundry Mode derived cluster).
  \u2022 A mode that includes both a generic Quick tag (defined here), and Vacuum and Mop tags, (defined     in the RVC Clean cluster that is a derivation of this cluster).`,xref:{document:"cluster",section:"1.10.5.2.3"},children:[o({name:"entry",type:"ModeTagStruct"})]})]}),C({name:"ModeChangeStatus",type:"enum8",children:[o({name:"Success",id:0,description:"Switching to the mode indicated by the NewMode field is allowed and possible. The CurrentMode attribute is set to the value of the NewMode field.",xref:{document:"cluster",section:"1.10.7.2.1.2"}}),o({name:"UnsupportedMode",id:1,description:"The value of the NewMode field doesn\u2019t match any entries in the SupportedMode attribute.",xref:{document:"cluster",section:"1.10.7.2.1.2"}}),o({name:"GenericFailure",id:2,description:"Generic failure code, indicating that switching to the mode indicated by the NewMode field is not allowed or not possible.",xref:{document:"cluster",section:"1.10.7.2.1.2"}}),o({name:"InvalidInMode",id:3,description:"The received request cannot be handled due to the current mode of the device",xref:{document:"cluster",section:"1.10.7.2.1.2"}})]}),C({name:"ModeTag",type:"enum16",children:[o({name:"Auto",id:0,description:"The device decides which options, features and setting values to use.",xref:{document:"cluster",section:"1.10.8"}}),o({name:"Quick",id:1,description:"The mode of the device is optimizing for faster completion.",xref:{document:"cluster",section:"1.10.8"}}),o({name:"Quiet",id:2,description:"The device is silent or barely audible while in this mode.",xref:{document:"cluster",section:"1.10.8"}}),o({name:"LowNoise",id:3,description:"Either the mode is inherently low noise or the device optimizes for that.",xref:{document:"cluster",section:"1.10.8"}}),o({name:"LowEnergy",id:4,description:'The device is optimizing for lower energy usage in this mode. Sometimes called "Eco mode".',xref:{document:"cluster",section:"1.10.8"}}),o({name:"Vacation",id:5,description:"A mode suitable for use during vacations or other extended absences.",xref:{document:"cluster",section:"1.10.8"}}),o({name:"Min",id:6,description:"The mode uses the lowest available setting value.",xref:{document:"cluster",section:"1.10.8"}}),o({name:"Max",id:7,description:"The mode uses the highest available setting value.",xref:{document:"cluster",section:"1.10.8"}}),o({name:"Night",id:8,description:"The mode is recommended or suitable for use during night time.",xref:{document:"cluster",section:"1.10.8"}}),o({name:"Day",id:9,description:"The mode is recommended or suitable for use during day time.",xref:{document:"cluster",section:"1.10.8"}})]})]});A.children.push(qw);var _w=ie({name:"LowPower",id:1288,classification:"application",pics:"LOWPOWER",details:`This cluster provides an interface for managing low power mode on a device.
This cluster would be supported on an endpoint that represents a physical device with a low power mode. This cluster provides a sleep() command to allow clients to manually put the device into low power mode. There is no command here to wake up a sleeping device because that operation often involves other protocols such as Wake On LAN. Most devices automatically enter low power mode based upon inactivity.
The cluster server for Low Power is implemented by a device that supports a low power mode, such as a TV, Set-top box, or Smart Speaker.
NOTE
We have considered a \u201CDisableLowPowerMode\u201D command but have not added it due to suspected issues with energy consumption regulations. This can be added in the future.`,xref:{document:"cluster",section:"1.11"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),U({name:"Sleep",id:0,access:"O",conformance:"M",direction:"request",response:"status",details:"This command shall put the device into low power mode.",xref:{document:"cluster",section:"1.11.4.1"}})]});A.children.push(_w);var $w=ie({name:"WakeOnLan",id:1283,classification:"application",pics:"WAKEONLAN",details:`This cluster provides an interface for managing low power mode on a device that supports the Wake On LAN or Wake On Wireless LAN (WLAN) protocol (see [Wake On LAN]).
This cluster would be supported on IP devices that have a low power mode AND support the ability to be woken up using the Wake on LAN or Wake on WLAN protocol. This cluster provides the device MAC address which is a required input to the Wake on LAN protocol. Besides the MAC address, this cluster provides an optional link-local IPv6 address which is useful to support "Wake on Direct Packet" used by some Ethernet and Wi-Fi devices.
Acting on the MAC address or link-local IPv6 address information does require the caller to be in the same broadcast domain as the destination. To wake the destination up, the caller sends a multicast-based magic UDP packet that contains destination\u2019s MAC address in the UDP payload to FF02::1, the IPv6 all-nodes link-local multicast group address. If the optional link-local address is provided by the destination through this cluster, the caller also sends the magic UDP packet in unicast to that link-local address. This unicast-based method is particularly useful for Wi-Fi devices, since due to lack of MAC layer retransmission mechanism, multicast over Wi-Fi is not as reliable as unicast. If a device provides the link-local address in this cluster, its Ethernet controller or Wi-Fi radio shall respond to the IPv6 neighbor solicitation message for the link-local address without the need to wake host CPU up. In order to receive the magic or neighbor solicitation packets in multicast, the Wi-Fi devices must support Group Temporal Key (GTK) rekey operation in low power mode.
Most devices automatically enter low power mode based upon inactivity.
The cluster server for Wake on LAN or Wake on WLAN is implemented by a device that supports the Wake on LAN/WLAN protocol, such as a TV, Set-top Box, or Smart Speaker.`,xref:{document:"cluster",section:"1.12"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"MacAddress",id:0,type:"string",access:"R V",conformance:"O",constraint:"max 12",quality:"F",details:`Indicates the current MAC address of the device. Only 48-bit MAC Addresses shall be used for this attribute as required by the Wake on LAN protocol.
Format of this attribute shall be an upper-case hex-encoded string representing the hex address, like 12345678ABCD.`,xref:{document:"cluster",section:"1.12.4.1"}}),p({name:"LinkLocalAddress",id:1,type:"ipv6adr",access:"R V",conformance:"O",constraint:"desc",quality:"F",details:`Indicates the current link-local address of the device. Only 128-bit IPv6 link- local addresses shall be used for this attribute.
NOTE
Some companies may consider MAC Address to be protected data subject to PII handling considerations and will therefore choose not to include it or read it. The MAC Address can often be determined using ARP in IPv4 or NDP in IPv6.`,xref:{document:"cluster",section:"1.12.4.2"}})]});A.children.push($w);var Ww=ie({name:"Switch",id:59,classification:"application",pics:"SWTCH",details:`This cluster exposes interactions with a switch device, for the purpose of using those interactions by other devices.
Two types of switch devices are supported: latching switch (e.g. rocker switch) and momentary switch (e.g. push button), distinguished with their feature flags.
Interactions with the switch device are exposed as attributes (for the latching switch) and as events (for both types of switches).
An interested client may subscribe to these attributes/events and thus be informed of the interactions, and can perform actions based on this, for example by sending commands to perform an action such as controlling a light or a window shade.`,xref:{document:"cluster",section:"1.13"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"1.13.4"},children:[o({name:"LS",conformance:"O.a",constraint:"0",description:"LatchingSwitch",details:"This feature is for a switch that maintains its position after being pressed (or turned).",xref:{document:"cluster",section:"1.13.4.1"}}),o({name:"MS",conformance:"O.a",constraint:"1",description:"MomentarySwitch",details:"This feature is for a switch that does not maintain its position after being pressed (or turned). After releasing, it goes back to its idle position.",xref:{document:"cluster",section:"1.13.4.2"}}),o({name:"MSR",conformance:"[MS]",constraint:"2",description:"MomentarySwitchRelease",details:"This feature is for a momentary switch that can distinguish and report release events. When this feature flag MSR is present, MS shall be present as well.",xref:{document:"cluster",section:"1.13.4.3"}}),o({name:"MSL",conformance:"[MS & MSR]",constraint:"3",description:"MomentarySwitchLongPress",details:"This feature is for a momentary switch that can distinguish and report long presses from short presses. When this feature flag MSL is present, MS and MSR shall be present as well.",xref:{document:"cluster",section:"1.13.4.4"}}),o({name:"MSM",conformance:"[MS & MSR]",constraint:"4",description:"MomentarySwitchMultiPress",details:"This feature is for a momentary switch that can distinguish and report double press and potentially multiple presses with more events, such as triple press, etc. When this feature flag MSM is present, MS and MSR shall be present as well.",xref:{document:"cluster",section:"1.13.4.5"}})]}),p({name:"NumberOfPositions",id:0,type:"uint8",access:"R V",conformance:"M",constraint:"min 2",default:2,quality:"F",details:"Indicates the maximum number of positions the switch has. Any kind of switch has a minimum of 2 positions. Also see Multi Position Details for the case NumberOfPositions>2.",xref:{document:"cluster",section:"1.13.5.1"}}),p({name:"CurrentPosition",id:1,type:"uint8",access:"R V",conformance:"M",constraint:"max numberOfPositions1",default:0,quality:"N",details:'Indicates the position of the switch. The valid range is zero to NumberOfPositions-1. CurrentPosition value 0 shall be assigned to the default position of the switch: for example the "open" state of a rocker switch, or the "idle" state of a push button switch.',xref:{document:"cluster",section:"1.13.5.2"}}),p({name:"MultiPressMax",id:2,type:"uint8",access:"R V",conformance:"MSM",constraint:"min 2",default:2,quality:"F",details:"Indicates how many consecutive presses can be detected and reported by a momentary switch which supports multi-press (e.g. it will report the value 3 if it can detect single press, double press and triple press, but not quad press and beyond).",xref:{document:"cluster",section:"1.13.5.3"}}),Se({name:"SwitchLatched",id:0,access:"V",conformance:"LS",priority:"info",details:"This event shall be generated, when the latching switch is moved to a new position. It may have been delayed by debouncing within the switch.",xref:{document:"cluster",section:"1.13.6.1"},children:[o({name:"NewPosition",id:0,type:"uint8",conformance:"M",constraint:"0 to numberOfPositions1",details:"This field shall indicate the new value of the CurrentPosition attribute, i.e. after the move.",xref:{document:"cluster",section:"1.13.6.1.1"}})]}),Se({name:"InitialPress",id:1,access:"V",conformance:"MS",priority:"info",details:"This event shall be generated, when the momentary switch starts to be pressed (after debouncing).",xref:{document:"cluster",section:"1.13.6.2"},children:[o({name:"NewPosition",id:0,type:"uint8",conformance:"M",constraint:"0 to numberOfPositions1",details:"This field shall indicate the new value of the CurrentPosition attribute, i.e. while pressed.",xref:{document:"cluster",section:"1.13.6.2.1"}})]}),Se({name:"LongPress",id:2,access:"V",conformance:"MSL",priority:"info",details:'This event shall be generated, when the momentary switch has been pressed for a "long" time (this time interval is manufacturer determined (e.g. since it depends on the switch physics)).',xref:{document:"cluster",section:"1.13.6.3"},children:[o({name:"NewPosition",id:0,type:"uint8",conformance:"M",constraint:"0 to numberOfPositions1",details:"This field shall indicate the new value of the CurrentPosition attribute, i.e. while pressed.",xref:{document:"cluster",section:"1.13.6.3.1"}})]}),Se({name:"ShortRelease",id:3,access:"V",conformance:"MSR",priority:"info",details:`This event shall be generated, when the momentary switch has been released (after debouncing).
  \u2022 If the server supports the Momentary Switch LongPress (MSL) feature, this event shall be     generated when the switch is released if no LongPress event had been generated since the     previous InitialPress event.
  \u2022 If the server does not support the Momentary Switch LongPress (MSL) feature, this event shall     be generated when the switch is released - even when the switch was pressed for a long time.
  \u2022 Also see Section 1.13.7, \u201CSequence of generated events\u201D.`,xref:{document:"cluster",section:"1.13.6.4"},children:[o({name:"PreviousPosition",id:0,type:"uint8",conformance:"M",constraint:"0 to numberOfPositions1",details:"This field shall indicate the previous value of the CurrentPosition attribute, i.e. just prior to release.",xref:{document:"cluster",section:"1.13.6.4.1"}})]}),Se({name:"LongRelease",id:4,access:"V",conformance:"MSL",priority:"info",details:"This event shall be generated, when the momentary switch has been released (after debouncing) and after having been pressed for a long time, i.e. this event shall be generated when the switch is released if a LongPress event has been generated since the previous InitialPress event. Also see Section 1.13.7, \u201CSequence of generated events\u201D.",xref:{document:"cluster",section:"1.13.6.5"},children:[o({name:"PreviousPosition",id:0,type:"uint8",conformance:"M",constraint:"0 to numberOfPositions1",details:"This field shall indicate the previous value of the CurrentPosition attribute, i.e. just prior to release.",xref:{document:"cluster",section:"1.13.6.5.1"}})]}),Se({name:"MultiPressOngoing",id:5,access:"V",conformance:"MSM",priority:"info",details:"This event shall be generated to indicate how many times the momentary switch has been pressed in a multi-press sequence, during that sequence. See Multi Press Details below.",xref:{document:"cluster",section:"1.13.6.6"},children:[o({name:"NewPosition",id:0,type:"uint8",conformance:"M",constraint:"0 to numberOfPositions1",details:"This field shall indicate the new value of the CurrentPosition attribute, i.e. while pressed.",xref:{document:"cluster",section:"1.13.6.6.1"}}),o({name:"CurrentNumberOfPressesCounted",id:1,type:"uint8",conformance:"M",constraint:"2 to multiPressMax",details:`This field shall contain:
  \u2022 a value of 2 when the second press of a multi-press sequence has been detected,
  \u2022 a value of 3 when the third press of a multi-press sequence has been detected,
  \u2022 a value of N when the Nth press of a multi-press sequence has been detected.`,xref:{document:"cluster",section:"1.13.6.6.2"}})]}),Se({name:"MultiPressComplete",id:6,access:"V",conformance:"MSM",priority:"info",details:`This event shall be generated to indicate how many times the momentary switch has been pressed in a multi-press sequence, after it has been detected that the sequence has ended. See Multi Press Details.
The PreviousPosition field shall indicate the previous value of the CurrentPosition attribute, i.e. just prior to release.
The TotalNumberOfPressesCounted field shall contain:
  \u2022 a value of 1 when there was one press in a multi-press sequence (and the sequence has ended),
    i.e. there was no double press (or more),
  \u2022 a value of 2 when there were exactly two presses in a multi-press sequence (and the sequence     has ended),
  \u2022 a value of 3 when there were exactly three presses in a multi-press sequence (and the sequence     has ended),
  \u2022 a value of N when there were exactly N presses in a multi-press sequence (and the sequence has     ended).`,xref:{document:"cluster",section:"1.13.6.7"},children:[o({name:"PreviousPosition",id:0,type:"uint8",conformance:"M",constraint:"0 to numberOfPositions1"}),o({name:"TotalNumberOfPressesCounted",id:1,type:"uint8",conformance:"M",constraint:"1 to multiPressMax"})]})]});A.children.push(Ww);var Hw=ie({name:"OperationalState",id:96,classification:"application",pics:"OPSTATE",details:`This cluster supports remotely monitoring and, where supported, changing the operational state of any device where a state machine is a part of the operation.
This cluster defines common states, scoped to this cluster (e.g. Stopped, Running, Paused, Error). A derived cluster specification may define more states scoped to the derivation. Manufacturer specific states are supported in this cluster and any derived clusters thereof. When defined in a derived instance, such states are scoped to the derivation.
Actual state transitions are dependent on both the implementation, and the requirements that may additionally be imposed by a derived cluster.
An implementation that supports remotely starting its operation can make use of this cluster\u2019s Start command to do so. A device that supports remote pause or stop of its currently selected operation can similarly make use of this cluster\u2019s Pause and Stop commands to do so. The ability to remotely pause or stop is independent of how the operation was started (for example, an operation started by using a manual button press can be stopped by using a Stop command if the device supports remotely stopping the operation).
Additionally, this cluster provides events for monitoring the operational state of the device.`,xref:{document:"cluster",section:"1.14"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:2}),p({name:"PhaseList",id:0,type:"list",access:"R V",conformance:"M",constraint:"max 32[max 64]",quality:"X",details:`Indicates a list of names of different phases that the device can go through for the selected function or mode. The list may not be in sequence order. For example in a washing machine this could include items such as "pre-soak", "rinse", and "spin". These phases are manufacturer specific and may change when a different function or mode is selected.
A null value indicates that the device does not present phases during its operation. When this attribute\u2019s value is null, the CurrentPhase attribute shall also be set to null.`,xref:{document:"cluster",section:"1.14.5.1"},children:[o({name:"entry",type:"string"})]}),p({name:"CurrentPhase",id:1,type:"uint8",access:"R V",conformance:"M",constraint:"desc",quality:"X",details:`This attribute represents the current phase of operation being performed by the server. This shall be the positional index representing the value from the set provided in the PhaseList Attribute, where the first item in that list is an index of 0. Thus, this attribute shall have a maximum value that is "length(PhaseList) - 1".
Null if the PhaseList attribute is null or if the PhaseList attribute is an empty list.`,xref:{document:"cluster",section:"1.14.5.2"}}),p({name:"CountdownTime",id:2,type:"elapsed-s",access:"R V",conformance:"O",constraint:"max 259200",default:null,quality:"X C",details:`Indicates the estimated time left before the operation is completed, in seconds. Changes to this value shall NOT be reported in a subscription (note the C Quality). A Client implementation may periodically poll this value to ensure alignment of any local rendering of the CountdownTime with the device provided value.
A value of 0 means that the operation has completed.
When this attribute is null, that represents that there is no time currently defined until operation completion. This may happen, for example, because no operation is in progress or because the completion time is unknown.`,xref:{document:"cluster",section:"1.14.5.3"}}),p({name:"OperationalStateList",id:3,type:"list",access:"R V",conformance:"M",constraint:"desc",details:`This attribute describes the set of possible operational states that the device exposes. An operational state is a fundamental device state such as Running or Error. Details of the phase of a device when, for example, in a state of Running are provided by the CurrentPhase attribute.
All devices shall, at a minimum, expose the set of states matching the commands that are also supported by the cluster instance, in addition to Error. The set of possible device states are defined in the OperationalStateEnum. A device type requiring implementation of this cluster shall define the set of states that are applicable to that specific device type.`,xref:{document:"cluster",section:"1.14.5.4"},children:[o({name:"entry",type:"OperationalStateStruct"})]}),p({name:"OperationalState",id:4,type:"OperationalStateEnum",access:"R V",conformance:"M",details:"This attribute specifies the current operational state of a device. This shall be populated with a valid OperationalStateID from the set of values in the OperationalStateList Attribute.",xref:{document:"cluster",section:"1.14.5.5"}}),p({name:"OperationalError",id:5,type:"ErrorStateStruct",access:"R V",conformance:"M",constraint:"desc",details:`This attribute shall specify the details of any current error condition being experienced on the device when the OperationalState attribute is populated with Error. Please see ErrorStateStruct for general requirements on the population of this attribute.
When there is no error detected, this shall have an ErrorStateID of NoError.`,xref:{document:"cluster",section:"1.14.5.6"}}),Se({name:"OperationalError",id:0,access:"V",conformance:"M",priority:"critical",details:`This event is generated when a reportable error condition is detected. A device that generates this event shall also set the OperationalState attribute to Error, indicating an error condition.
This event shall contain the following fields:`,xref:{document:"cluster",section:"1.14.7.1"},children:[o({name:"ErrorState",id:0,type:"ErrorStateStruct",conformance:"M"})]}),Se({name:"OperationCompletion",id:1,access:"V",conformance:"P, O",priority:"info",details:`This event is generated when the overall operation ends, successfully or otherwise. For example, the completion of a cleaning operation in a Robot Vacuum Cleaner, or the completion of a wash cycle in a Washing Machine.
This event shall contain the following fields:`,xref:{document:"cluster",section:"1.14.7.2"},children:[o({name:"CompletionErrorCode",id:0,type:"enum8",conformance:"M",details:"This field provides an indication of the state at the end of the operation. This field shall have a value from the ErrorStateEnum set. A value of NoError indicates success, that is, no error has been detected.",xref:{document:"cluster",section:"1.14.7.2.1"}}),o({name:"TotalOperationalTime",id:1,type:"elapsed-s",conformance:"O",quality:"X",details:"The total operational time, in seconds, from when the operation was started via an initial Start command or manual action, until the operation completed. This includes any time spent while paused. There may be cases whereby the total operational time exceeds the maximum value that can be conveyed by this attribute, in such instances, this attribute shall be populated with null.",xref:{document:"cluster",section:"1.14.7.2.2"}}),o({name:"PausedTime",id:2,type:"elapsed-s",conformance:"O",quality:"X",details:"The total time spent in the paused state, in seconds. There may be cases whereby the total paused time exceeds the maximum value that can be conveyed by this attribute, in such instances, this attribute shall be populated with null.",xref:{document:"cluster",section:"1.14.7.2.3"}})]}),U({name:"Pause",id:0,access:"O",conformance:"Resume, O",direction:"request",response:"OperationalCommandResponse",details:`This command shall be supported if the device supports remotely pausing the operation. If this command is supported, the Resume command shall also be supported.
On receipt of this command, the device shall pause its operation if it is possible based on the current function of the server. For example, if it is at a point where it is safe to do so and/or permitted, but can be restarted from the point at which pause occurred.
If this command is received when already in the Paused state the device shall respond with an OperationalCommandResponse command with an ErrorStateID of NoError but take no further action.
A device that receives this command in any state which is not Pause-compatible shall respond
with an OperationalCommandResponse command with an ErrorStateID of CommandInvalidInState and shall take no further action.
States are defined as Pause-compatible as follows:
  \u2022 For states defined in this cluster specification, in Table 3, \u201CPause Compatibility\u201D.
  \u2022 For states defined by derived cluster specifications, in the corresponding specifications.
  \u2022 For manufacturer-specific states, by the manufacturer.
A device that is unable to honor the Pause command for whatever reason shall respond with an OperationalCommandResponse command with an ErrorStateID of CommandInvalidInState but take no further action.
Otherwise, on success:
  \u2022 The OperationalState attribute shall be set to Paused.
  \u2022 The device shall respond with an OperationalCommandResponse command with an ErrorStateID of     NoError.
The following table defines the compatibility of this cluster\u2019s states with the Pause command.
### Table 3. Pause Compatibility`,xref:{document:"cluster",section:"1.14.6.1"}}),U({name:"Stop",id:1,access:"O",conformance:"Start, O",direction:"request",response:"OperationalCommandResponse",details:`This command shall be supported if the device supports remotely stopping the operation.
On receipt of this command, the device shall stop its operation if it is at a position where it is safe to do so and/or permitted. Restart of the device following the receipt of the Stop command shall require attended operation unless remote start is allowed by the device type and any jurisdiction governing remote operation of the device.
If this command is received when already in the Stopped state the device shall respond with an OperationalCommandResponse command with an ErrorStateID of NoError but take no further action.
A device that is unable to honor the Stop command for whatever reason shall respond with an OperationalCommandResponse command with an ErrorStateID of CommandInvalidInState but take no further action.
Otherwise, on success:
  \u2022 The OperationalState attribute shall be set to Stopped.
  \u2022 The device shall respond with an OperationalCommandResponse command with an ErrorStateID of     NoError.`,xref:{document:"cluster",section:"1.14.6.2"}}),U({name:"Start",id:2,access:"O",conformance:"O",direction:"request",response:"OperationalCommandResponse",details:`This command shall be supported if the device supports remotely starting the operation. If this command is supported, the 'Stop command shall also be supported.
On receipt of this command, the device shall start its operation if it is safe to do so and the device is in an operational state from which it can be started. There may be either regulatory or manufacturer-imposed safety and security requirements that first necessitate some specific action at the device before a Start command can be honored. In such instances, a device shall respond with a status code of CommandInvalidInState if a Start command is received prior to the required on- device action.
If this command is received when already in the Running state the device shall respond with an OperationalCommandResponse command with an ErrorStateID of NoError but take no further action.
A device that is unable to honor the Start command for whatever reason shall respond with an OperationalCommandResponse command with an ErrorStateID of UnableToStartOrResume but take no further action.
Otherwise, on success:
  \u2022 The OperationalState attribute shall be set to Running.
  \u2022 The device shall respond with an OperationalCommandResponse command with an ErrorStateID of     NoError.`,xref:{document:"cluster",section:"1.14.6.3"}}),U({name:"Resume",id:3,access:"O",conformance:"Pause, O",direction:"request",response:"OperationalCommandResponse",details:`This command shall be supported if the device supports remotely resuming the operation. If this command is supported, the Pause command shall also be supported.
On receipt of this command, the device shall resume its operation from the point it was at when it received the Pause command, or from the point when it was paused by means outside of this cluster (for example by manual button press).
If this command is received when already in the Running state the device shall respond with an OperationalCommandResponse command with an ErrorStateID of NoError but take no further action.
A device that receives this command in any state which is not Resume-compatible shall respond with an OperationalCommandResponse command with an ErrorStateID of CommandInvalidInState and shall take no further action.
States are defined as Resume-compatible as follows:
  \u2022 For states defined in this cluster specification, in Table 4, \u201CResume Compatibility\u201D.
  \u2022 For states defined by derived cluster specifications, in the corresponding specifications.
  \u2022 For manufacturer-specific states, by the manufacturer.
The following table defines the compatibility of this cluster\u2019s states with the Resume command.
### Table 4. Resume Compatibility
A device that is unable to honor the Resume command for any other reason shall respond with an OperationalCommandResponse command with an ErrorStateID of UnableToStartOrResume but take no further action.
Otherwise, on success:
  \u2022 The OperationalState attribute shall be set to the most recent non-Error operational state     prior to entering the Paused state.
  \u2022 The device shall respond with an OperationalCommandResponse command with an ErrorStateID of     NoError.`,xref:{document:"cluster",section:"1.14.6.4"}}),U({name:"OperationalCommandResponse",id:4,access:"O",conformance:"Pause | Stop | Start | Resume",direction:"response",details:`This command shall be supported by an implementation if any of the other commands defined by this cluster are supported (i.e. listed in the AcceptedCommandList global attribute). This command shall also be supported by an implementation of a derived cluster as a response to any commands that may be additionally defined therein.
This command shall be generated in response to any of the Start, Stop, Pause, or Resume commands.`,xref:{document:"cluster",section:"1.14.6.5"},children:[o({name:"CommandResponseState",id:0,type:"ErrorStateStruct",conformance:"M",details:"This shall indicate the success or otherwise of the attempted command invocation. On a successful invocation of the attempted command, the ErrorStateID shall be populated with NoError. Please see the individual command sections for additional specific requirements on population.",xref:{document:"cluster",section:"1.14.6.5.1"}})]}),C({name:"OperationalStateEnum",type:"enum8",details:`This type defines the set of known operational state values, and is derived from enum8. The following table defines the applicable ranges for values that are defined within this type. All values that are undefined shall be treated as reserved. As shown by the table, states that may be specific to a certain Device Type or other modality shall be defined in a derived cluster of this cluster.
The derived cluster-specific state definitions shall NOT duplicate any general state definitions. That is, a derived cluster specification of this cluster cannot define states with the same semantics as the general states defined below.
A manufacturer-specific state definition shall NOT duplicate the general state definitions or derived cluster state definitions. That is, a manufacturer-defined state defined for this cluster or a derived cluster thereof cannot define a state with the same semantics as the general states defined below or states defined in a derived cluster. Such manufacturer-specific state definitions shall be scoped in the context of the Vendor ID present in the Basic Information cluster.
The following table defines the generally applicable states.`,xref:{document:"cluster",section:"1.14.4.1"}}),C({name:"OperationalStateStruct",type:"struct",details:"The OperationalStateStruct is used to indicate a possible state of the device.",xref:{document:"cluster",section:"1.14.4.2"},children:[o({name:"OperationalStateId",id:0,type:"OperationalStateEnum",conformance:"M",default:0,details:"This shall be populated with a value from the OperationalStateEnum.",xref:{document:"cluster",section:"1.14.4.2.1"}}),o({name:"OperationalStateLabel",id:1,type:"string",conformance:"desc",constraint:"max 64",details:"This field shall be present if the OperationalStateID is from the set reserved for Manufacturer Specific States, otherwise it shall NOT be present. If present, this shall contain a human-readable description of the operational state.",xref:{document:"cluster",section:"1.14.4.2.2"}})]}),C({name:"ErrorStateEnum",type:"enum8",details:`This type defines the set of known operational error values, and is derived from enum8. The following table defines the applicable ranges for values that are defined within this type. All values that
are undefined shall be treated as reserved. As shown by the table, errors that may be specific to a certain Device Type or other modality shall be defined in a derived cluster of this cluster.
The derived cluster-specific error definitions shall NOT duplicate the general error definitions. That is, a derived cluster specification of this cluster cannot define errors with the same semantics as the general errors defined below.
The manufacturer-specific error definitions shall NOT duplicate the general error definitions or derived cluster-specific error definitions. That is, a manufacturer-defined error defined for this cluster or a derived cluster thereof cannot define errors with the same semantics as the general errors defined below or errors defined in a derived cluster. Such manufacturer-specific error definitions shall be scoped in the context of the Vendor ID present in the Basic Information cluster.
The set of ErrorStateID field values defined in each of the generic or derived Operational State cluster specifications is called ErrorState.`,xref:{document:"cluster",section:"1.14.4.3"}}),C({name:"GeneralErrorStateEnum",type:"enum8",details:"The following table defines the generally applicable ErrorState values.",xref:{document:"cluster",section:"1.14.4.3.1"},children:[o({name:"NoError",id:0,conformance:"M",description:"The device is not in an error state"}),o({name:"UnableToStartOrResume",id:1,conformance:"M",description:"The device is unable to start or resume operation"}),o({name:"UnableToCompleteOperation",id:2,conformance:"M",description:"The device was unable to complete the current operation"}),o({name:"CommandInvalidInState",id:3,conformance:"M",description:"The device cannot process the command in its current state"})]}),C({name:"ErrorStateStruct",type:"struct",xref:{document:"cluster",section:"1.14.4.4"},children:[o({name:"ErrorStateID",id:0,type:"ErrorStateEnum",conformance:"M",default:0,details:"This shall be populated with a value from the ErrorStateEnum.",xref:{document:"cluster",section:"1.14.4.4.1"}}),o({name:"ErrorStateLabel",id:1,type:"string",conformance:"desc",constraint:"max 64",details:'This field shall be present if the ErrorStateID is from the set reserved for Manufacturer Specific Errors, otherwise it shall NOT be present. If present, this shall contain a human-readable description of the ErrorStateID; e.g. for a manufacturer specific ErrorStateID of "0x80" the ErrorStateLabel may contain "My special error".',xref:{document:"cluster",section:"1.14.4.4.2"}}),o({name:"ErrorStateDetails",id:2,type:"string",conformance:"O",constraint:"max 64",details:'This shall be a human-readable string that provides details about the error condition. As an example, if the ErrorStateID indicates that the device is a Robotic Vacuum that is stuck, the ErrorStateDetails contains "left wheel blocked".',xref:{document:"cluster",section:"1.14.4.4.3"}})]})]});A.children.push(Hw);var jw=ie({name:"AlarmBase",classification:"application",pics:"ALARM",details:"This cluster is a base cluster from which clusters for particular alarms for a device type can be derived. Each derivation shall define the values for the AlarmBitmap data type used in this cluster. Each derivation shall define which alarms are latched.",xref:{document:"cluster",section:"1.15"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"1.15.4"},children:[o({name:"RESET",constraint:"0",description:"Reset",details:"This feature indicates that alarms can be reset via the Reset command.",xref:{document:"cluster",section:"1.15.4.1"}})]}),p({name:"Mask",id:0,type:"AlarmBitmap",access:"R V",conformance:"M",default:0,details:"Indicates a bitmap where each bit set in the Mask attribute corresponds to an alarm that shall be enabled.",xref:{document:"cluster",section:"1.15.6.1"}}),p({name:"Latch",id:1,type:"AlarmBitmap",access:"R V",conformance:"RESET",default:0,quality:"F",details:"Indicates a bitmap where each bit set in the Latch attribute shall indicate that the corresponding alarm will be latched when set, and will not reset to inactive when the underlying condition which caused the alarm is no longer present, and so requires an explicit reset using the Reset command.",xref:{document:"cluster",section:"1.15.6.2"}}),p({name:"State",id:2,type:"AlarmBitmap",access:"R V",conformance:"M",default:0,details:"Indicates a bitmap where each bit shall represent the state of an alarm. The value of true means the alarm is active, otherwise the alarm is inactive.",xref:{document:"cluster",section:"1.15.6.3"}}),p({name:"Supported",id:3,type:"AlarmBitmap",access:"R V",conformance:"M",default:0,quality:"F",details:`Indicates a bitmap where each bit shall represent whether or not an alarm is supported. The value of true means the alarm is supported, otherwise the alarm is not supported.
If an alarm is not supported, the corresponding bit in Mask, Latch, and State shall be false.`,xref:{document:"cluster",section:"1.15.6.4"}}),Se({name:"Notify",id:0,access:"V",conformance:"M",priority:"info",details:"This event shall be generated when one or more alarms change state, and shall have these fields:",xref:{document:"cluster",section:"1.15.8.1"},children:[o({name:"Active",id:1,type:"AlarmBitmap",conformance:"M",default:0,details:"This field shall indicate those alarms that have become active.",xref:{document:"cluster",section:"1.15.8.1.1"}}),o({name:"Inactive",id:2,type:"AlarmBitmap",conformance:"M",default:0,details:"This field shall indicate those alarms that have become inactive.",xref:{document:"cluster",section:"1.15.8.1.2"}}),o({name:"State",id:3,type:"AlarmBitmap",conformance:"M",default:0,details:"This field shall be a copy of the new State attribute value that resulted in the event being generated. That is, this field shall have all the bits in Active set and shall NOT have any of the bits in Inactive set.",xref:{document:"cluster",section:"1.15.8.1.4"}}),o({name:"Mask",id:4,type:"AlarmBitmap",conformance:"M",default:0,details:"This field shall be a copy of the Mask attribute when this event was generated.",xref:{document:"cluster",section:"1.15.8.1.3"}})]}),U({name:"Reset",id:0,access:"O",conformance:"RESET",direction:"request",response:"status",details:"This command resets active and latched alarms (if possible). Any generated Notify event shall contain fields that represent the state of the server after the command has been processed.",xref:{document:"cluster",section:"1.15.7.1"},children:[o({name:"Alarms",id:0,type:"AlarmBitmap",conformance:"M",default:0,details:"This field shall indicate a bitmap where each bit set in this field corresponds to an alarm that shall be reset to inactive in the State attribute unless the alarm definition requires manual intervention. If the alarms indicated are successfully reset, the response status code shall be SUCCESS, otherwise, the response status code shall be FAILURE.",xref:{document:"cluster",section:"1.15.7.1.1"}})]}),U({name:"ModifyEnabledAlarms",id:1,access:"O",conformance:"O",direction:"request",response:"status",details:"This command allows a client to request that an alarm be enabled or suppressed at the server.",xref:{document:"cluster",section:"1.15.7.2"},children:[o({name:"Mask",id:0,type:"AlarmBitmap",conformance:"M",default:0,details:`This field shall indicate a bitmap where each bit set in the this field corresponds to an alarm that SHOULD be enabled or suppressed. A value of 1 shall indicate that the alarm SHOULD be enabled while a value of 0 shall indicate that the alarm SHOULD be suppressed.
A server that receives this command with a Mask that includes bits that are set for unknown alarms shall respond with a status code of INVALID_COMMAND.
A server that receives this command with a Mask that includes bits that are set for alarms which are not supported, as indicated in the Supported attribute, shall respond with a status code of INVALID_COMMAND.
A server that is unable to enable a currently suppressed alarm, or is unable to suppress a currently enabled alarm shall respond with a status code of FAILURE; otherwise the server shall respond with a status code of SUCCESS.
On a SUCCESS case, the server shall also change the value of the Mask attribute to the value of the
Mask field from this command. After that the server shall also update the value of its State attribute to reflect the status of the new alarm set as indicated by the new value of the Mask attribute.`,xref:{document:"cluster",section:"1.15.7.2.1"}})]}),C({name:"AlarmBitmap",type:"map32",details:"This data type shall be a map32 with values defined by the derived cluster. The meaning of each bit position shall be consistent for all attributes in a derived cluster. That is, if bit 0 is defined for an alarm, the Latch, State, and Supported information for that alarm are also bit 0.",xref:{document:"cluster",section:"1.15.5.1"}})]});A.children.push(jw);var Gw=ie({name:"Messages",id:151,classification:"application",pics:"MESS",details:"This cluster provides an interface for passing messages to be presented by a device.",xref:{document:"cluster",section:"1.16"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:3}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"1.16.4"},children:[o({name:"CONF",conformance:"O",constraint:"0",description:"ReceivedConfirmation",details:"This feature shall indicate that the device can get confirmation from a user that the message was received.",xref:{document:"cluster",section:"1.16.4.1"}}),o({name:"RESP",conformance:"[CONF]",constraint:"1",description:"ConfirmationResponse",details:"This feature shall indicate that the device is capable of presenting a list of responses to the user and recording the user\u2019s choice of response.",xref:{document:"cluster",section:"1.16.4.2"}}),o({name:"RPLY",conformance:"[CONF]",constraint:"2",description:"ConfirmationReply",details:"This feature shall indicate that the device is capable of collecting a free-form text response to a message.",xref:{document:"cluster",section:"1.16.4.3"}}),o({name:"PROT",conformance:"O",constraint:"3",description:"ProtectedMessages",details:"This feature shall indicate that the device is capable of requiring the user to authenticate before viewing a message; e.g. entering a PIN or password before viewing a message with billing information.",xref:{document:"cluster",section:"1.16.4.4"}})]}),p({name:"Messages",id:0,type:"list",access:"R F V",conformance:"M",constraint:"max 8",default:[],details:`Indicates a list of queued messages.
In addition to filtering based upon fabric, to preserve user privacy, the server may further limit the set of messages returned in a read request. At minimum, the server shall return to a client those messages that the client itself created/submitted.`,xref:{document:"cluster",section:"1.16.6.1"},children:[o({name:"entry",type:"MessageStruct"})]}),p({name:"ActiveMessageIDs",id:1,type:"list",access:"R V",conformance:"M",constraint:"max 8",default:[],details:`Indicates a list of the MessageIDs of the Messages currently being presented. If this list is empty, no messages are currently being presented.
This list shall NOT be fabric-scoped; it shall contain MessageIDs for all Messages being presented, no matter what fabric the client that queued them is on.`,xref:{document:"cluster",section:"1.16.6.2"},children:[o({name:"entry",type:"MessageID"})]}),Se({name:"MessageQueued",id:0,access:"V",conformance:"M",priority:"info",details:"This event shall be generated when a message is added to the messages attribute.",xref:{document:"cluster",section:"1.16.8.1"},children:[o({name:"MessageId",id:0,type:"MessageID",access:"S",conformance:"M",details:"This field shall indicate the MessageID for newly added message.",xref:{document:"cluster",section:"1.16.8.1.1"}}),o({name:"FabricIndex",id:254,type:"FabricIndex"})]}),Se({name:"MessagePresented",id:1,access:"V",conformance:"M",priority:"info",details:"This event shall be generated when the message is presented to the user.",xref:{document:"cluster",section:"1.16.8.2"},children:[o({name:"MessageId",id:0,type:"MessageID",access:"S",conformance:"M",details:"This field shall indicate the MessageID for the message being presented.",xref:{document:"cluster",section:"1.16.8.2.1"}}),o({name:"FabricIndex",id:254,type:"FabricIndex"})]}),Se({name:"MessageComplete",id:2,access:"V",conformance:"M",priority:"info",details:"This event shall be generated when the message is confirmed by the user, or when the Duration of the message has elapsed without confirmation.",xref:{document:"cluster",section:"1.16.8.3"},children:[o({name:"MessageId",id:0,type:"MessageID",access:"S",conformance:"M",details:"This field shall indicate the MessageID for the message being confirmed.",xref:{document:"cluster",section:"1.16.8.3.1"}}),o({name:"ResponseId",id:1,type:"uint32",access:"S",conformance:"RESP",default:null,quality:"X",details:"This field shall indicate the MessageResponseID selected by the user. If there was no response before the Duration of the message has elapsed, this field shall be null.",xref:{document:"cluster",section:"1.16.8.3.2"}}),o({name:"Reply",id:2,type:"string",access:"S",conformance:"RPLY",constraint:"max 256",default:null,quality:"X",details:"This field shall indicate a user-provided reply to the message. If there was no reply, or the message did not have the ReplyRequired bit set, this field shall be null.",xref:{document:"cluster",section:"1.16.8.3.3"}}),o({name:"FutureMessagesPreference",id:3,type:"FutureMessagePreferenceEnum",access:"S",conformance:"M",default:null,quality:"X"}),o({name:"FabricIndex",id:254,type:"FabricIndex"})]}),U({name:"PresentMessagesRequest",id:0,access:"F O",conformance:"M",direction:"request",response:"status",details:`Upon receipt, this shall cause the message in the passed fields to be appended to the Messages attribute.
If appending the message would cause the number of messages to be greater than the capacity of the list, the device shall NOT append any message to Messages, and shall return a status code of RESOURCE_EXHAUSTED.
When displaying a message in response to this command, an indication (ex. visual) of the origin node of the command shall be provided. This could be in the form of a friendly name label which uniquely identifies the node to the user. This friendly name label is typically assigned by the Matter Admin at the time of commissioning and, when it\u2019s a device, is often editable by the user. It might be a combination of a company name and friendly name, for example, \u201DAcme\u201D or \u201CAcme Streaming Service on Alice\u2019s Phone\u201D.
NOTE
It is currently not specified where the friendly name label can be found on the node, meaning that clients SHOULD NOT rely on a certain method they happen to observe in a particular server instance, since other instances could employ a different method.
The device SHOULD make it possible for the user to view which nodes have access to this cluster and to individually remove privileges for each node.`,xref:{document:"cluster",section:"1.16.7.1"},children:[o({name:"MessageId",id:0,type:"MessageID",conformance:"M",details:"This field shall indicate a globally unique ID for this message. See MessageID.",xref:{document:"cluster",section:"1.16.7.1.1"}}),o({name:"Priority",id:1,type:"MessagePriorityEnum",conformance:"M",default:0,details:"This field shall indicate the priority level for this message. See Priority.",xref:{document:"cluster",section:"1.16.7.1.2"}}),o({name:"MessageControl",id:2,type:"MessageControlBitmap",conformance:"M",default:0,details:"This field shall indicate control information related to the message. See MessageControl.",xref:{document:"cluster",section:"1.16.7.1.3"}}),o({name:"StartTime",id:3,type:"epoch-s",conformance:"M",default:0,quality:"X",details:'This field shall indicate the time in UTC at which the message becomes available to be presented. A null value shall indicate "now." See StartTime.',xref:{document:"cluster",section:"1.16.7.1.4"}}),o({name:"Duration",id:4,type:"uint64",conformance:"M",default:0,quality:"X",details:'This field shall indicate the amount of time, in milliseconds, after the StartTime during which the message is available to be presented. A null value shall indicate "until changed". See Duration.',xref:{document:"cluster",section:"1.16.7.1.5"}}),o({name:"MessageText",id:5,type:"string",conformance:"M",constraint:"max 256",details:"This field shall indicate a string containing the message to be presented. See MessageText.",xref:{document:"cluster",section:"1.16.7.1.6"}}),o({name:"Responses",id:6,type:"list",conformance:"RESP",constraint:"max 4",default:[],details:`This field shall indicate a list of potential responses to the message. The entries in this list shall have unique values of MessageResponseID.
If the ResponseRequired bit is set on the message but this list is empty, the device shall provide a generic acknowledgement button, e.g. "OK".
If the ResponseRequired bit is not set on the message, this list shall be ignored. See Responses.`,xref:{document:"cluster",section:"1.16.7.1.7"},children:[o({name:"entry",type:"MessageResponseOptionStruct"})]})]}),U({name:"CancelMessagesRequest",id:1,access:"F O",conformance:"M",direction:"request",response:"status",xref:{document:"cluster",section:"1.16.7.2"},children:[o({name:"MessageIDs",id:0,type:"list",conformance:"M",constraint:"max 8",details:`This field shall indicate the MessageIDs for the messages being cancelled.
Cancelling a message shall cause it to be removed from Messages, cause its MessageID to be removed from ActiveMessageIDs and cause any active presentation of the message to cease.
Message IDs in this command that indicate messages that do not exist in Messages, or that are not scoped to the fabric of the sender, shall be ignored.`,xref:{document:"cluster",section:"1.16.7.2.1"},children:[o({name:"entry",type:"MessageID"})]})]}),C({name:"MessageID",type:"octstr",constraint:"16",details:"This data type is an octstr of fixed length 16, containing the binary encoding of a UUID as specified in RFC 4122.",xref:{document:"cluster",section:"1.16.5.1"}}),C({name:"MessageControlBitmap",type:"map16",details:"This data type is derived from map16, and indicates control information related to a message.",xref:{document:"cluster",section:"1.16.5.2"},children:[o({name:"ConfirmationRequired",constraint:"0",description:"Message requires confirmation from user",details:"This bit shall indicate that the message originator requests a confirmation of receipt by the user. If confirmation is required, the device SHOULD present the message until it is either confirmed by the user selecting a confirmation option, or the message expires.",xref:{document:"cluster",section:"1.16.5.2.1"}}),o({name:"ResponseRequired",constraint:"1",description:"Message requires response from user",details:"This bit shall indicate that a MessagePresented event SHOULD be generated based on the response of the user to the message.",xref:{document:"cluster",section:"1.16.5.2.2"}}),o({name:"ReplyMessage",constraint:"2",description:"Message supports reply message from user",details:"This bit shall indicate that a free-form user reply is to be included in the confirmation of receipt.",xref:{document:"cluster",section:"1.16.5.2.3"}}),o({name:"MessageConfirmed",constraint:"3",description:"Message has already been confirmed",details:"This bit shall indicate the current confirmation state of a message, which is useful in the event that there are multiple Messages cluster client devices on a network.",xref:{document:"cluster",section:"1.16.5.2.4"}}),o({name:"MessageProtected",constraint:"4",description:"Message required PIN/password protection",details:"This bit shall indicate that user authentication (e.g. by password or PIN) is required before viewing a message.",xref:{document:"cluster",section:"1.16.5.2.5"}})]}),C({name:"FutureMessagePreferenceEnum",type:"enum8",details:"A display device may include this preference in the MessageComplete event as a hint to clients about how to handle future similar messages.",xref:{document:"cluster",section:"1.16.5.3"},children:[o({name:"Allowed",id:0,conformance:"M",description:"Similar messages are allowed"}),o({name:"Increased",id:1,conformance:"M",description:"Similar messages should be sent more often"}),o({name:"Reduced",id:2,conformance:"M",description:"Similar messages should be sent less often"}),o({name:"Disallowed",id:3,conformance:"M",description:"Similar messages should not be sent"}),o({name:"Banned",id:4,conformance:"M",description:"No further messages should be sent"})]}),C({name:"MessagePriorityEnum",type:"enum8",details:"Priority SHOULD be used to decide which messages to show when the number of eligible messages is larger than the device\u2019s capacity to present them.",xref:{document:"cluster",section:"1.16.5.4"},children:[o({name:"Low",id:0,conformance:"M",description:"Message to be transferred with a low level of importance"}),o({name:"Medium",id:1,conformance:"M",description:"Message to be transferred with a medium level of importance"}),o({name:"High",id:2,conformance:"M",description:"Message to be transferred with a high level of importance"}),o({name:"Critical",id:3,conformance:"M",description:"Message to be transferred with a critical level of importance"})]}),C({name:"MessageStruct",type:"struct",details:"This represents a single message.",xref:{document:"cluster",section:"1.16.5.5"},children:[o({name:"MessageId",id:0,type:"MessageID",access:"S",conformance:"M",details:"This field shall indicate a globally unique ID for this message.",xref:{document:"cluster",section:"1.16.5.5.1"}}),o({name:"Priority",id:1,type:"MessagePriorityEnum",access:"S",conformance:"M",default:0,details:"This field shall indicate the priority level for this message.",xref:{document:"cluster",section:"1.16.5.5.2"}}),o({name:"MessageControl",id:2,type:"MessageControlBitmap",access:"S",conformance:"M",default:0,details:"This field shall indicate control information related to the message.",xref:{document:"cluster",section:"1.16.5.5.3"}}),o({name:"StartTime",id:3,type:"epoch-s",access:"S",conformance:"M",default:0,quality:"X",details:'This field shall indicate the time in UTC at which the message becomes available to be presented. A null value shall indicate "now."',xref:{document:"cluster",section:"1.16.5.5.4"}}),o({name:"Duration",id:4,type:"uint64",access:"S",conformance:"M",default:0,quality:"X",details:'This field shall indicate the amount of time, in milliseconds, after the StartTime during which the message is available to be presented. A null value shall indicate "until changed".',xref:{document:"cluster",section:"1.16.5.5.5"}}),o({name:"MessageText",id:5,type:"string",access:"S",conformance:"M",constraint:"max 256",details:"This field shall indicate a string containing the message to be presented.",xref:{document:"cluster",section:"1.16.5.5.6"}}),o({name:"Responses",id:6,type:"list",access:"S",conformance:"RESP",constraint:"max 4",default:[],details:`This field shall indicate a list of potential responses to the message. The entries in this list shall have unique values of MessageResponseID.
If the ResponseRequired bit is set on the message but this list is empty, the device shall provide a generic acknowledgement button, e.g. "OK".
If the ResponseRequired bit is not set on the message, this list shall be ignored.`,xref:{document:"cluster",section:"1.16.5.5.7"},children:[o({name:"entry",type:"MessageResponseOptionStruct"})]}),o({name:"FabricIndex",id:254,type:"FabricIndex"})]}),C({name:"MessageResponseOptionStruct",type:"struct",details:"This represents a possible response to a message.",xref:{document:"cluster",section:"1.16.5.6"},children:[o({name:"MessageResponseId",id:0,type:"uint32",conformance:"M",constraint:"min 1",details:"This field shall indicate a unique unsigned 32-bit number identifier for this message response option.",xref:{document:"cluster",section:"1.16.5.6.1"}}),o({name:"Label",id:1,type:"string",conformance:"M",constraint:"max 32",details:'This field shall indicate the text for this option; e.g. "Yes", "No", etc.',xref:{document:"cluster",section:"1.16.5.6.2"}})]})]});A.children.push(Gw);var zw=ie({name:"IlluminanceMeasurement",id:1024,classification:"application",pics:"ILL",details:"The Illuminance Measurement cluster provides an interface to illuminance measurement functionality, including configuration and provision of notifications of illuminance measurements.",xref:{document:"cluster",section:"2.2"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:3}),p({name:"MeasuredValue",id:0,type:"uint16",access:"R V",conformance:"M",constraint:"0, minMeasuredValue to maxMeasuredValue",default:0,quality:"X P",details:`The MeasuredValue attribute represents the illuminance in Lux (symbol lx) as follows:
  \u2022 MeasuredValue = 10,000 x log10(illuminance) + 1,
where 1 lx <= illuminance <= 3.576 Mlx, corresponding to a MeasuredValue in the range 1 to 0xFFFE. The MeasuredValue attribute can take the following values:
  \u2022 0 indicates a value of illuminance that is too low to be measured,
  \u2022 MinMeasuredValue <= MeasuredValue <= MaxMeasuredValue under normal circumstances,
  \u2022 null indicates that the illuminance measurement is invalid.
The MeasuredValue attribute is updated continuously as new measurements are made.`,xref:{document:"cluster",section:"2.2.5.1"}}),p({name:"MinMeasuredValue",id:1,type:"uint16",access:"R V",conformance:"M",constraint:"1 to maxMeasuredValue1",quality:"X",details:"The MinMeasuredValue attribute indicates the minimum value of MeasuredValue that can be measured. A value of null indicates that this attribute is not defined. See Measured Value for more details.",xref:{document:"cluster",section:"2.2.5.2"}}),p({name:"MaxMeasuredValue",id:2,type:"uint16",access:"R V",conformance:"M",constraint:"minMeasuredValue1 to 65534",quality:"X",details:"The MaxMeasuredValue attribute indicates the maximum value of MeasuredValue that can be measured. A value of null indicates that this attribute is not defined. See Measured Value for more details.",xref:{document:"cluster",section:"2.2.5.3"}}),p({name:"Tolerance",id:3,type:"uint16",access:"R V",conformance:"O",constraint:"0 to 2048",details:"See Measured Value.",xref:{document:"cluster",section:"2.2.5.4"}}),p({name:"LightSensorType",id:4,type:"uint8",access:"R V",conformance:"O",default:null,quality:"X",details:"The LightSensorType attribute specifies the electronic type of the light sensor. This attribute shall be set to one of the non-reserved values listed in LightSensorTypeEnum or null in case the sensor type is unknown.",xref:{document:"cluster",section:"2.2.5.5"}}),C({name:"LightSensorTypeEnum",type:"enum8",xref:{document:"cluster",section:"2.2.4.1"},children:[o({name:"Photodiode",id:0,conformance:"M",description:"Indicates photodiode sensor type"}),o({name:"Cmos",id:1,conformance:"M",description:"Indicates CMOS sensor type"})]})]});A.children.push(zw);var Kw=ie({name:"TemperatureMeasurement",id:1026,classification:"application",pics:"TMP",details:"This cluster provides an interface to temperature measurement functionality, including configuration and provision of notifications of temperature measurements.",xref:{document:"cluster",section:"2.3"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:4}),p({name:"MeasuredValue",id:0,type:"temperature",access:"R V",conformance:"M",constraint:"minMeasuredValue to maxMeasuredValue",quality:"X P",details:"Indicates the measured temperature. The null value indicates that the temperature is unknown.",xref:{document:"cluster",section:"2.3.4.1"}}),p({name:"MinMeasuredValue",id:1,type:"temperature",access:"R V",conformance:"M",constraint:"-27315 to maxMeasuredValue1",default:-27315,quality:"X",details:`Indicates the minimum value of MeasuredValue that is capable of being measured. See Measured Value for more details.
The null value indicates that the value is not available.`,xref:{document:"cluster",section:"2.3.4.2"}}),p({name:"MaxMeasuredValue",id:2,type:"temperature",access:"R V",conformance:"M",constraint:"minMeasuredValue1 to 32767",default:32767,quality:"X",details:`This attribute indicates the maximum value of MeasuredValue that is capable of being measured. See Measured Value for more details.
The null value indicates that the value is not available.`,xref:{document:"cluster",section:"2.3.4.3"}}),p({name:"Tolerance",id:3,type:"uint16",access:"R V",conformance:"O",constraint:"0 to 2048",default:0,details:"See Measured Value.",xref:{document:"cluster",section:"2.3.4.4"}})]});A.children.push(Kw);var Xw=ie({name:"PressureMeasurement",id:1027,classification:"application",pics:"PRS",details:"This cluster provides an interface to pressure measurement functionality, including configuration and provision of notifications of pressure measurements.",xref:{document:"cluster",section:"2.4"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:3}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"2.4.4"},children:[o({name:"EXT",conformance:"O",constraint:"0",description:"Extended",details:"Extended range and resolution"})]}),p({name:"MeasuredValue",id:0,type:"int16",access:"R V",conformance:"M",constraint:"minMeasuredValue to maxMeasuredValue",quality:"X P",details:`Indicates the pressure in kPa as follows:
MeasuredValue = 10 x Pressure [kPa]
The null value indicates that the value is not available.`,xref:{document:"cluster",section:"2.4.5.1"}}),p({name:"MinMeasuredValue",id:1,type:"int16",access:"R V",conformance:"M",constraint:"-32767 to maxMeasuredValue1",quality:"X",details:`Indicates the minimum value of MeasuredValue that can be measured. See Measured Value for more details.
The null value indicates that the value is not available.`,xref:{document:"cluster",section:"2.4.5.2"}}),p({name:"MaxMeasuredValue",id:2,type:"int16",access:"R V",conformance:"M",constraint:"minMeasuredValue1 to 32767",quality:"X",details:`Indicates the maximum value of MeasuredValue that can be measured. See Measured Value for more details.
The null value indicates that the value is not available.`,xref:{document:"cluster",section:"2.4.5.3"}}),p({name:"Tolerance",id:3,type:"uint16",access:"R V",conformance:"O",constraint:"0 to 2048",default:0,details:"See Measured Value.",xref:{document:"cluster",section:"2.4.5.4"}}),p({name:"ScaledValue",id:16,type:"int16",access:"R V",conformance:"EXT",constraint:"minScaledValue to maxScaledValue",default:0,quality:"X",details:`Indicates the pressure in Pascals as follows:
ScaledValue = 10Scale x Pressure [Pa]
The null value indicates that the value is not available.`,xref:{document:"cluster",section:"2.4.5.5"}}),p({name:"MinScaledValue",id:17,type:"int16",access:"R V",conformance:"EXT",constraint:"-32767 to maxScaledValue1",default:0,quality:"X",details:"Indicates the minimum value of ScaledValue that can be measured. The null value indicates that the value is not available.",xref:{document:"cluster",section:"2.4.5.6"}}),p({name:"MaxScaledValue",id:18,type:"int16",access:"R V",conformance:"EXT",constraint:"minScaledValue1 to 32767",default:0,quality:"X",details:"Indicates the maximum value of ScaledValue that can be measured. The null value indicates that the value is not available.",xref:{document:"cluster",section:"2.4.5.7"}}),p({name:"ScaledTolerance",id:19,type:"uint16",access:"R V",conformance:"[EXT]",constraint:"0 to 2048",default:0,details:`Indicates the magnitude of the possible error that is associated with Scaled
Value. The true value is located in the range
(ScaledValue \u2013 ScaledTolerance) to (ScaledValue + ScaledTolerance).`,xref:{document:"cluster",section:"2.4.5.8"}}),p({name:"Scale",id:20,type:"int8",access:"R V",conformance:"EXT",constraint:"-127 to 127",default:0,details:"Indicates the base 10 exponent used to obtain ScaledValue (see ScaledValue).",xref:{document:"cluster",section:"2.4.5.9"}})]});A.children.push(Xw);var Yw=ie({name:"FlowMeasurement",id:1028,classification:"application",pics:"FLW",details:"This cluster provides an interface to flow measurement functionality, including configuration and provision of notifications of flow measurements.",xref:{document:"cluster",section:"2.5"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:3}),p({name:"MeasuredValue",id:0,type:"uint16",access:"R V",conformance:"M",constraint:"minMeasuredValue to maxMeasuredValue",default:null,quality:"X P",details:`MeasuredValue represents the flow in m/h as follows:
MeasuredValue = 10 x Flow
The null value indicates that the flow measurement is unknown, otherwise the range shall be as described in Measured Value.`,xref:{document:"cluster",section:"2.5.4.1"}}),p({name:"MinMeasuredValue",id:1,type:"uint16",access:"R V",conformance:"M",constraint:"0 to maxMeasuredValue1",quality:"X",details:`The MinMeasuredValue attribute indicates the minimum value of MeasuredValue that can be measured. See Measured Value for more details.
The null value indicates that the value is not available.`,xref:{document:"cluster",section:"2.5.4.2"}}),p({name:"MaxMeasuredValue",id:2,type:"uint16",access:"R V",conformance:"M",constraint:"minMeasuredValue1 to 65534",quality:"X",details:`The MaxMeasuredValue attribute indicates the maximum value of MeasuredValue that can be measured. See Measured Value for more details.
The null value indicates that the value is not available.`,xref:{document:"cluster",section:"2.5.4.3"}}),p({name:"Tolerance",id:3,type:"uint16",access:"R V",conformance:"O",constraint:"0 to 2048",default:0,details:"See Measured Value.",xref:{document:"cluster",section:"2.5.4.4"}})]});A.children.push(Yw);var Zw=ie({name:"RelativeHumidityMeasurement",id:1029,classification:"application",pics:"RH",details:"This is a base cluster. The server cluster provides an interface to water content measurement functionality. The measurement is reportable and may be configured for reporting. Water content measurements currently is, but are not limited to relative humidity.",xref:{document:"cluster",section:"2.6"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:3}),p({name:"MeasuredValue",id:0,type:"uint16",access:"R V",conformance:"M",constraint:"minMeasuredValue to maxMeasuredValue",quality:"X P",details:`MeasuredValue represents the water content in % as follows:
MeasuredValue = 100 x water content
Where 0% < = water content < = 100%, corresponding to a MeasuredValue in the range 0 to 10000. The maximum resolution this format allows is 0.01%.
MinMeasuredValue and MaxMeasuredValue define the range of the sensor.
The null value indicates that the measurement is unknown, otherwise the range shall be as described in Measured Value.
MeasuredValue is updated continuously as new measurements are made.`,xref:{document:"cluster",section:"2.6.4.1"}}),p({name:"MinMeasuredValue",id:1,type:"uint16",access:"R V",conformance:"M",constraint:"0 to maxMeasuredValue1",quality:"X",details:"The MinMeasuredValue attribute indicates the minimum value of MeasuredValue that can be measured. The null value means this attribute is not defined. See Measured Value for more details.",xref:{document:"cluster",section:"2.6.4.2"}}),p({name:"MaxMeasuredValue",id:2,type:"uint16",access:"R V",conformance:"M",constraint:"minMeasuredValue1 to 10000",quality:"X",details:"The MaxMeasuredValue attribute indicates the maximum value of MeasuredValue that can be measured. The null value means this attribute is not defined. See Measured Value for more details.",xref:{document:"cluster",section:"2.6.4.3"}}),p({name:"Tolerance",id:3,type:"uint16",access:"R V",conformance:"O",constraint:"0 to 2048",details:"See Measured Value.",xref:{document:"cluster",section:"2.6.4.4"}})]});A.children.push(Zw);var Qw=ie({name:"OccupancySensing",id:1030,classification:"application",pics:"OCC",details:"The server cluster provides an interface to occupancy sensing functionality, including configuration and provision of notifications of occupancy status.",xref:{document:"cluster",section:"2.7"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:4}),p({name:"Occupancy",id:0,type:"OccupancyBitmap",access:"R V",conformance:"M",constraint:"0 to 1",quality:"P",details:"This attribute indicates the sensed (processed) status of occupancy.",xref:{document:"cluster",section:"2.7.5.1"}}),p({name:"OccupancySensorType",id:1,type:"OccupancySensorTypeEnum",access:"R V",conformance:"M",constraint:"desc",details:"This attribute specifies the type of the occupancy sensor.",xref:{document:"cluster",section:"2.7.5.2"}}),p({name:"OccupancySensorTypeBitmap",id:2,type:"OccupancySensorTypeBitmap",access:"R V",conformance:"M",constraint:"0 to 7",details:`This attribute specifies the types of the occupancy sensor. Each bit position, if set, indicates the corresponding sensing capability is implemented.
The value of the OccupancySensorType shall be aligned to the value of the OccupancySensorTypeBitmap attribute as defined below.`,xref:{document:"cluster",section:"2.7.5.3"}}),p({name:"PirOccupiedToUnoccupiedDelay",id:16,type:"uint16",access:"RW VM",conformance:"O",default:0,details:"This attribute specifies the time delay, in seconds, before the PIR sensor changes to its unoccupied state after the last detection of movement in the sensed area.",xref:{document:"cluster",section:"2.7.5.4"}}),p({name:"PirUnoccupiedToOccupiedDelay",id:17,type:"uint16",access:"RW VM",conformance:"PirUnoccupiedToOccupiedThreshold, O",default:0,details:"This attribute specifies the time delay, in seconds, before the PIR sensor changes to its occupied state after the detection of movement in the sensed area.",xref:{document:"cluster",section:"2.7.5.5"}}),p({name:"PirUnoccupiedToOccupiedThreshold",id:18,type:"uint8",access:"RW VM",conformance:"PirUnoccupiedToOccupiedDelay, O",constraint:"1 to 254",default:1,details:"This attribute specifies the number of movement detection events that must occur in the period PIRUnoccupiedToOccupiedDelay, before the PIR sensor changes to its occupied state.",xref:{document:"cluster",section:"2.7.5.6"}}),p({name:"UltrasonicOccupiedToUnoccupiedDelay",id:32,type:"uint16",access:"RW VM",conformance:"O",default:0,details:"This attribute specifies the time delay, in seconds, before the Ultrasonic sensor changes to its unoccupied state after the last detection of movement in the sensed area.",xref:{document:"cluster",section:"2.7.5.7"}}),p({name:"UltrasonicUnoccupiedToOccupiedDelay",id:33,type:"uint16",access:"RW VM",conformance:"UltrasonicUnoccupiedToOccupiedThreshold, O",default:0,details:"This attribute specifies the time delay, in seconds, before the Ultrasonic sensor changes to its occupied state after the detection of movement in the sensed area.",xref:{document:"cluster",section:"2.7.5.8"}}),p({name:"UltrasonicUnoccupiedToOccupiedThreshold",id:34,type:"uint8",access:"RW VM",conformance:"UltrasonicUnoccupiedToOccupiedDelay, O",constraint:"1 to 254",default:1,details:"This attribute specifies the number of movement detection events that must occur in the period UltrasonicUnoccupiedToOccupiedDelay, before the Ultrasonic sensor changes to its occupied state.",xref:{document:"cluster",section:"2.7.5.9"}}),p({name:"PhysicalContactOccupiedToUnoccupiedDelay",id:48,type:"uint16",access:"RW VM",conformance:"O",default:0,details:"This attribute specifies the time delay, in seconds, before the physical contact occupancy sensor changes to its unoccupied state after detecting the unoccupied event.",xref:{document:"cluster",section:"2.7.5.10"}}),p({name:"PhysicalContactUnoccupiedToOccupiedDelay",id:49,type:"uint16",access:"RW VM",conformance:"O",default:0,details:"This attribute specifies the time delay, in seconds, before the physical contact sensor changes to its occupied state after the detection of the occupied event.",xref:{document:"cluster",section:"2.7.5.11"}}),p({name:"PhysicalContactUnoccupiedToOccupiedThreshold",id:50,type:"uint8",access:"RW VM",conformance:"PhysicalContactUnoccupiedToOccupiedDelay, O",constraint:"1 to 254",default:1,details:"This attribute specifies the number of movement detection events that must occur in the period PhysicalContactUnoccupiedToOccupiedDelay, before the PhysicalContact sensor changes to its occupied state.",xref:{document:"cluster",section:"2.7.5.12"}}),C({name:"OccupancyBitmap",type:"map8",xref:{document:"cluster",section:"2.7.4.1"},children:[o({name:"Occupied",constraint:"0",description:"Indicates the sensed occupancy state",details:"If this bit is set, it shall indicate the occupied state else if the bit if not set, it shall indicate the unoccupied state.",xref:{document:"cluster",section:"2.7.4.1.1"}})]}),C({name:"OccupancySensorTypeBitmap",type:"map8",xref:{document:"cluster",section:"2.7.4.2"},children:[o({name:"Pir",constraint:"0",description:"Indicates a passive infrared sensor."}),o({name:"Ultrasonic",constraint:"1",description:"Indicates a ultrasonic sensor."}),o({name:"PhysicalContact",constraint:"2",description:"Indicates a physical contact sensor."})]}),C({name:"OccupancySensorTypeEnum",type:"enum8",xref:{document:"cluster",section:"2.7.4.3"},children:[o({name:"Pir",id:0,conformance:"M",description:"Indicates a passive infrared sensor."}),o({name:"Ultrasonic",id:1,conformance:"M",description:"Indicates a ultrasonic sensor."}),o({name:"PirAndUltrasonic",id:2,conformance:"M",description:"Indicates a passive infrared and ultrasonic sensor."}),o({name:"PhysicalContact",id:3,conformance:"M",description:"Indicates a physical contact sensor."})]})]});A.children.push(Qw);var Jw=ie({name:"ResourceMonitoring",classification:"application",pics:"REPM",details:`This generic cluster provides an interface to the current condition of a resource. A resource is a component of a device that is designed to be replaced, refilled, or emptied when exhausted or full. Examples of resources include filters, cartridges, and water tanks. While batteries fit this definition they are not intended to be used with this cluster. Use the power source cluster for batteries instead.
NOTE
This cluster is not meant to be used for monitoring of the system resources, such as processing, memory utilization, networking properties, etc.
This cluster shall be used via an alias to a specific resource type (see Cluster IDs).`,xref:{document:"cluster",section:"2.8"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"2.8.4"},children:[o({name:"CON",conformance:"O",constraint:"0",description:"Condition",details:"Supports monitoring the condition of the resource in percentage"}),o({name:"WRN",conformance:"O",constraint:"1",description:"Warning",details:"Supports warning indication"}),o({name:"REP",conformance:"O",constraint:"2",description:"ReplacementProductList",details:"Supports specifying the list of replacement products"})]}),p({name:"Condition",id:0,type:"percent",access:"R V",conformance:"CON",details:"Indicates the current condition of the resource in percent.",xref:{document:"cluster",section:"2.8.6.1"}}),p({name:"DegradationDirection",id:1,type:"DegradationDirectionEnum",access:"R V",conformance:"CON",constraint:"desc",quality:"F",details:"Indicates the direction of change for the condition of the resource over time, which helps to determine whether a higher or lower condition value is considered optimal.",xref:{document:"cluster",section:"2.8.6.2"}}),p({name:"ChangeIndication",id:2,type:"ChangeIndicationEnum",access:"R V",conformance:"M",default:0,details:"This attribute shall be populated with a value from ChangeIndicationEnum that is indicative of the current requirement to change the resource.",xref:{document:"cluster",section:"2.8.6.3"}}),p({name:"InPlaceIndicator",id:3,type:"bool",access:"R V",conformance:"O",details:"Indicates whether a resource is currently installed. A value of true shall indicate that a resource is installed. A value of false shall indicate that a resource is not installed.",xref:{document:"cluster",section:"2.8.6.4"}}),p({name:"LastChangedTime",id:4,type:"epoch-s",access:"RW VO",conformance:"O",default:null,quality:"X N",details:"This attribute may indicates the time at which the resource has been changed, if supported by the server. The attribute shall be null if it was never set or is unknown.",xref:{document:"cluster",section:"2.8.6.5"}}),p({name:"ReplacementProductList",id:5,type:"list",access:"R V",conformance:"REP",constraint:"max 5",quality:"F",details:"Indicates the list of supported products that may be used as replacements for the current resource. Each item in this list represents a unique ReplacementProductStruct.",xref:{document:"cluster",section:"2.8.6.6"},children:[o({name:"entry",type:"ReplacementProductStruct"})]}),U({name:"ResetCondition",id:0,access:"O",conformance:"O",direction:"request",response:"status",details:"Upon receipt, the device shall reset the Condition and ChangeIndicator attributes, indicating full resource availability and readiness for use, as initially configured. Invocation of this command may cause the LastChangedTime to be updated automatically based on the clock of the server, if the server supports setting the attribute.",xref:{document:"cluster",section:"2.8.7.1"}}),C({name:"DegradationDirectionEnum",type:"enum8",details:"Indicates the direction in which the condition of the resource changes over time.",xref:{document:"cluster",section:"2.8.5.1"},children:[o({name:"Up",id:0,conformance:"M",description:"The degradation of the resource is indicated by an upwards moving/increasing value"}),o({name:"Down",id:1,conformance:"M",description:"The degradation of the resource is indicated by a downwards moving/decreasing value"})]}),C({name:"ChangeIndicationEnum",type:"enum8",xref:{document:"cluster",section:"2.8.5.2"},children:[o({name:"Ok",id:0,conformance:"M",description:"Resource is in good condition, no intervention required"}),o({name:"Warning",id:1,conformance:"WRN",description:"Resource will be exhausted soon, intervention will shortly be required"}),o({name:"Critical",id:2,conformance:"M",description:"Resource is exhausted, immediate intervention is required"})]}),C({name:"ProductIdentifierTypeEnum",type:"enum8",details:"Indicate the type of identifier used to describe the product. Devices SHOULD use globally-recognized IDs over OEM specific ones.",xref:{document:"cluster",section:"2.8.5.3"},children:[o({name:"Upc",id:0,conformance:"M",description:"12-digit Universal Product Code"}),o({name:"Gtin8",id:1,conformance:"M",description:"8-digit Global Trade Item Number"}),o({name:"Ean",id:2,conformance:"M",description:"13-digit European Article Number"}),o({name:"Gtin14",id:3,conformance:"M",description:"14-digit Global Trade Item Number"}),o({name:"Oem",id:4,conformance:"M",description:"Original Equipment Manufacturer part number"})]}),C({name:"ReplacementProductStruct",type:"struct",details:"Indicates the product identifier that can be used as a replacement for the resource.",xref:{document:"cluster",section:"2.8.5.4"},children:[o({name:"ProductIdentifierType",id:0,type:"ProductIdentifierTypeEnum",conformance:"M",constraint:"desc"}),o({name:"ProductIdentifierValue",id:1,type:"string",conformance:"M",constraint:"max 20"})]})]});A.children.push(Jw);var eT=ie({name:"HepaFilterMonitoring",id:113,type:"ResourceMonitoring",pics:"HEPAFREMON"});A.children.push(eT);var tT=ie({name:"ActivatedCarbonFilterMonitoring",id:114,type:"ResourceMonitoring",pics:"ACFREMON"});A.children.push(tT);var nT=ie({name:"AirQuality",id:91,classification:"application",pics:"AIRQUAL",details:"This cluster provides an interface to air quality classification using distinct levels with human-readable labels.",xref:{document:"cluster",section:"2.9"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"2.9.4"},children:[o({name:"FAIR",conformance:"O",constraint:"0",description:"Fair",details:"Cluster supports the Fair air quality level"}),o({name:"MOD",conformance:"O",constraint:"1",description:"Moderate",details:"Cluster supports the Moderate air quality level"}),o({name:"VPOOR",conformance:"O",constraint:"2",description:"VeryPoor",details:"Cluster supports the Very poor air quality level"}),o({name:"XPOOR",conformance:"O",constraint:"3",description:"ExtremelyPoor",details:"Cluster supports the Extremely poor air quality level"})]}),p({name:"AirQuality",id:0,type:"AirQualityEnum",access:"R V",conformance:"M",constraint:"desc",default:0,details:"Indicates a value from AirQualityEnum that is indicative of the currently measured air quality.",xref:{document:"cluster",section:"2.9.6.1"}}),C({name:"AirQualityEnum",type:"enum8",details:"The AirQualityEnum provides a representation of the quality of the analyzed air. It is up to the device manufacturer to determine the mapping between the measured values and their corresponding enumeration values.",xref:{document:"cluster",section:"2.9.5.1"},children:[o({name:"Unknown",id:0,conformance:"M",description:"The air quality is unknown."}),o({name:"Good",id:1,conformance:"M",description:"The air quality is good."}),o({name:"Fair",id:2,conformance:"FAIR",description:"The air quality is fair."}),o({name:"Moderate",id:3,conformance:"MOD",description:"The air quality is moderate."}),o({name:"Poor",id:4,conformance:"M",description:"The air quality is poor."}),o({name:"VeryPoor",id:5,conformance:"VPOOR",description:"The air quality is very poor."}),o({name:"ExtremelyPoor",id:6,conformance:"XPOOR",description:"The air quality is extremely poor."})]})]});A.children.push(nT);var iT=ie({name:"ConcentrationMeasurement",classification:"application",pics:"CONC",details:"The server cluster provides an interface to concentration measurement functionality. This cluster shall to be used via an alias to a specific substance (see Cluster IDs).",xref:{document:"cluster",section:"2.10"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:3}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"2.10.4"},children:[o({name:"MEA",conformance:"O.a+",constraint:"0",description:"NumericMeasurement",details:"Cluster supports numeric measurement of substance"}),o({name:"LEV",conformance:"O.a+",constraint:"1",description:"LevelIndication",details:"Cluster supports basic level indication for substance using the ConcentrationLevel enum"}),o({name:"MED",conformance:"[LEV]",constraint:"2",description:"MediumLevel",details:"Cluster supports the Medium Concentration Level"}),o({name:"CRI",conformance:"[LEV]",constraint:"3",description:"CriticalLevel",details:"Cluster supports the Critical Concentration Level"}),o({name:"PEA",conformance:"[MEA]",constraint:"4",description:"PeakMeasurement",details:"Cluster supports peak numeric measurement of substance"}),o({name:"AVG",conformance:"[MEA]",constraint:"5",description:"AverageMeasurement",details:"Cluster supports average numeric measurement of substance"})]}),p({name:"MeasuredValue",id:0,type:"single",access:"R V",conformance:"MEA",constraint:"minMeasuredValue to maxMeasuredValue",default:null,quality:"X P",details:`Indicates the most recent measurement as a single-precision floating-point number. MeasuredValue\u2019s unit is represented by MeasurementUnit.
A value of null indicates that the measurement is unknown or outside the valid range. MinMeasuredValue and MaxMeasuredValue define the valid range for MeasuredValue.`,xref:{document:"cluster",section:"2.10.6.1"}}),p({name:"MinMeasuredValue",id:1,type:"single",access:"R V",conformance:"MEA",constraint:"max maxMeasuredValue",default:null,quality:"X",details:"Indicates the minimum value of MeasuredValue that is capable of being measured. A MinMeasuredValue of null indicates that the MinMeasuredValue is not defined.",xref:{document:"cluster",section:"2.10.6.2"}}),p({name:"MaxMeasuredValue",id:2,type:"single",access:"R V",conformance:"MEA",constraint:"min minMeasuredValue",default:null,quality:"X",details:"Indicates the maximum value of MeasuredValue that is capable of being measured. A MaxMeasuredValue of null indicates that the MaxMeasuredValue is not defined.",xref:{document:"cluster",section:"2.10.6.3"}}),p({name:"PeakMeasuredValue",id:3,type:"single",access:"R V",conformance:"PEA",constraint:"minMeasuredValue to maxMeasuredValue",default:null,quality:"X P",details:"Indicates the maximum value of MeasuredValue that has been measured during the PeakMeasuredValueWindow. If this attribute is provided, the PeakMeasuredValueWindow attribute shall also be provided.",xref:{document:"cluster",section:"2.10.6.4"}}),p({name:"PeakMeasuredValueWindow",id:4,type:"elapsed-s",access:"R V",conformance:"PEA",constraint:"max 604800",default:1,quality:"P",details:"Indicates the window of time used for determining the PeakMeasuredValue. The value is in seconds.",xref:{document:"cluster",section:"2.10.6.5"}}),p({name:"AverageMeasuredValue",id:5,type:"single",access:"R V",conformance:"AVG",constraint:"minMeasuredValue to maxMeasuredValue",default:null,quality:"X P",details:"Indicates the average value of MeasuredValue that has been measured during the AverageMeasuredValueWindow. If this attribute is provided, the AverageMeasuredValueWindow attribute shall also be provided.",xref:{document:"cluster",section:"2.10.6.6"}}),p({name:"AverageMeasuredValueWindow",id:6,type:"elapsed-s",access:"R V",conformance:"AVG",constraint:"max 604800",default:1,quality:"P",details:"Indicates the window of time used for determining the AverageMeasuredValue. The value is in seconds.",xref:{document:"cluster",section:"2.10.6.7"}}),p({name:"Uncertainty",id:7,type:"single",access:"R V",conformance:"[MEA]",constraint:"ms",details:"Indicates the range of error or deviation that can be found in MeasuredValue and PeakMeasuredValue. This is considered a +/- value and should be considered to be in MeasurementUnit.",xref:{document:"cluster",section:"2.10.6.8"}}),p({name:"MeasurementUnit",id:8,type:"MeasurementUnitEnum",access:"R V",conformance:"MEA",quality:"F",details:"Indicates the unit of MeasuredValue. See MeasurementUnitEnum.",xref:{document:"cluster",section:"2.10.6.9"}}),p({name:"MeasurementMedium",id:9,type:"MeasurementMediumEnum",access:"R V",conformance:"M",quality:"F",details:"Indicates the medium in which MeasuredValue is being measured. See MeasurementMediumEnum.",xref:{document:"cluster",section:"2.10.6.10"}}),p({name:"LevelValue",id:10,type:"LevelValueEnum",access:"R V",conformance:"LEV",default:0,details:"Indicates the level of the substance detected. See LevelValueEnum.",xref:{document:"cluster",section:"2.10.6.11"}}),C({name:"MeasurementUnitEnum",type:"enum8",details:"Where mentioned, Billion refers to 10, Trillion refers to 1012 (short scale).",xref:{document:"cluster",section:"2.10.5.1"},children:[o({name:"Ppm",id:0,conformance:"MEA",description:"Parts per Million (10)"}),o({name:"Ppb",id:1,conformance:"MEA",description:"Parts per Billion (10)"}),o({name:"Ppt",id:2,conformance:"MEA",description:"Parts per Trillion (1012)"}),o({name:"Mgm3",id:3,conformance:"MEA",description:"Milligram per m"}),o({name:"Ugm3",id:4,conformance:"MEA",description:"Microgram per m"}),o({name:"Ngm3",id:5,conformance:"MEA",description:"Nanogram per m"}),o({name:"Pm3",id:6,conformance:"MEA",description:"Particles per m"}),o({name:"Bqm3",id:7,conformance:"MEA",description:"Becquerel per m"})]}),C({name:"MeasurementMediumEnum",type:"enum8",xref:{document:"cluster",section:"2.10.5.2"},children:[o({name:"Air",id:0,conformance:"M",description:"The measurement is being made in Air"}),o({name:"Water",id:1,conformance:"M",description:"The measurement is being made in Water"}),o({name:"Soil",id:2,conformance:"M",description:"The measurement is being made in Soil"})]}),C({name:"LevelValueEnum",type:"enum8",xref:{document:"cluster",section:"2.10.5.3"},children:[o({name:"Unknown",id:0,conformance:"M",description:"The level is Unknown"}),o({name:"Low",id:1,conformance:"M",description:"The level is considered Low"}),o({name:"Medium",id:2,conformance:"MED",description:"The level is considered Medium"}),o({name:"High",id:3,conformance:"M",description:"The level is considered High"}),o({name:"Critical",id:4,conformance:"CRI",description:"The level is considered Critical"})]})]});A.children.push(iT);var rT=ie({name:"CarbonMonoxideConcentrationMeasurement",id:1036,type:"ConcentrationMeasurement",pics:"CMOCONC"});A.children.push(rT);var oT=ie({name:"CarbonDioxideConcentrationMeasurement",id:1037,type:"ConcentrationMeasurement",pics:"CDOCONC"});A.children.push(oT);var aT=ie({name:"NitrogenDioxideConcentrationMeasurement",id:1043,type:"ConcentrationMeasurement",pics:"NDOCONC"});A.children.push(aT);var sT=ie({name:"OzoneConcentrationMeasurement",id:1045,type:"ConcentrationMeasurement",pics:"OZCONC"});A.children.push(sT);var cT=ie({name:"Pm25ConcentrationMeasurement",id:1066,type:"ConcentrationMeasurement",pics:"PMICONC"});A.children.push(cT);var lT=ie({name:"FormaldehydeConcentrationMeasurement",id:1067,type:"ConcentrationMeasurement",pics:"FLDCONC"});A.children.push(lT);var dT=ie({name:"Pm1ConcentrationMeasurement",id:1068,type:"ConcentrationMeasurement",pics:"PMHCONC"});A.children.push(dT);var uT=ie({name:"Pm10ConcentrationMeasurement",id:1069,type:"ConcentrationMeasurement",pics:"PMKCONC"});A.children.push(uT);var mT=ie({name:"TotalVolatileOrganicCompoundsConcentrationMeasurement",id:1070,type:"ConcentrationMeasurement",pics:"TVOCCONC"});A.children.push(mT);var hT=ie({name:"RadonConcentrationMeasurement",id:1071,type:"ConcentrationMeasurement",pics:"RNCONC"});A.children.push(hT);var fT=ie({name:"SmokeCoAlarm",id:92,classification:"application",pics:"SMOKECO",details:"This cluster provides an interface for observing and managing the state of smoke and CO alarms.",xref:{document:"cluster",section:"2.11"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"2.11.4"},children:[o({name:"SMOKE",conformance:"O.a+",constraint:"0",description:"SmokeAlarm",details:"Supports Smoke alarm"}),o({name:"CO",conformance:"O.a+",constraint:"1",description:"CoAlarm",details:"Supports CO alarm"})]}),p({name:"ExpressedState",id:0,type:"ExpressedStateEnum",access:"R V",conformance:"M",quality:"N",details:`Indicates the visibly- and audibly-expressed state of the alarm. When multiple alarm conditions are being reflected in the server, this attribute shall indicate the condition with the highest priority. Priority order of conditions is determined by the manufacturer and shall be supplied as a part of certification procedure. If the value of ExpressedState is not Normal, the attribute corresponding to the value shall NOT be Normal. For example, if the ExpressedState is set to SmokeAlarm, the value of the SmokeState will indicate the severity of the alarm (Warning or Critical). Clients SHOULD also read the other attributes to be aware of further alarm conditions beyond the one indicated in ExpressedState.
Visible expression is typically a LED light pattern. Audible expression is a horn or speaker pattern. Audible expression shall BE suppressed if the DeviceMuted attribute is supported and set to Muted.`,xref:{document:"cluster",section:"2.11.6.1"}}),p({name:"SmokeState",id:1,type:"AlarmStateEnum",access:"R V",conformance:"SMOKE",quality:"N",details:"Indicates whether the device\u2019s smoke sensor is currently triggering a smoke alarm.",xref:{document:"cluster",section:"2.11.6.2"}}),p({name:"CoState",id:2,type:"AlarmStateEnum",access:"R V",conformance:"CO",quality:"N",details:"Indicates whether the device\u2019s CO sensor is currently triggering a CO alarm.",xref:{document:"cluster",section:"2.11.6.3"}}),p({name:"BatteryAlert",id:3,type:"AlarmStateEnum",access:"R V",conformance:"M",quality:"N",details:"Indicates whether the power resource fault detection mechanism is currently triggered at the device. If the detection mechanism is triggered, this attribute shall be set to Warning or Critical, otherwise it shall be set to Normal. The battery state shall also be reflected in the Power Source cluster representing the device\u2019s battery using the appropriate supported attributes and events.",xref:{document:"cluster",section:"2.11.6.4"}}),p({name:"DeviceMuted",id:4,type:"MuteStateEnum",access:"R V",conformance:"O",quality:"N",details:"Indicates the whether the audible expression of the device is currently muted. Audible expression is typically a horn or speaker pattern.",xref:{document:"cluster",section:"2.11.6.5"}}),p({name:"TestInProgress",id:5,type:"bool",access:"R V",conformance:"M",details:"Indicates whether the device self-test is currently activated. If the device self- test is activated, this attribute shall be set to True, otherwise it shall be set to False.",xref:{document:"cluster",section:"2.11.6.6"}}),p({name:"HardwareFaultAlert",id:6,type:"bool",access:"R V",conformance:"M",quality:"N",details:"Indicates whether the hardware fault detection mechanism is currently triggered. If the detection mechanism is triggered, this attribute shall be set to True, otherwise it shall be set to False.",xref:{document:"cluster",section:"2.11.6.7"}}),p({name:"EndOfServiceAlert",id:7,type:"EndOfServiceEnum",access:"R V",conformance:"M",quality:"N",details:"Indicates whether the end-of-service has been triggered at the device. This attribute shall be set to Expired when the device reaches the end-of-service.",xref:{document:"cluster",section:"2.11.6.8"}}),p({name:"InterconnectSmokeAlarm",id:8,type:"AlarmStateEnum",access:"R V",conformance:"O",details:"Indicates whether the interconnected smoke alarm is currently triggering by branching devices. When the interconnected smoke alarm is being triggered, this attribute shall be set to Warning or Critical, otherwise it shall be set to Normal.",xref:{document:"cluster",section:"2.11.6.9"}}),p({name:"InterconnectCoAlarm",id:9,type:"AlarmStateEnum",access:"R V",conformance:"O",details:"Indicates whether the interconnected CO alarm is currently triggering by branching devices. When the interconnected CO alarm is being triggered, this attribute shall be set to Warning or Critical, otherwise it shall be set to Normal.",xref:{document:"cluster",section:"2.11.6.10"}}),p({name:"ContaminationState",id:10,type:"ContaminationStateEnum",access:"R V",conformance:"[SMOKE]",details:"Indicates the contamination level of the smoke sensor.",xref:{document:"cluster",section:"2.11.6.11"}}),p({name:"SmokeSensitivityLevel",id:11,type:"SensitivityEnum",access:"RW VM",conformance:"[SMOKE]",details:"Indicates the sensitivity level of the smoke sensor configured on the device.",xref:{document:"cluster",section:"2.11.6.12"}}),p({name:"ExpiryDate",id:12,type:"epoch-s",access:"R V",conformance:"O",quality:"F",details:"Indicates the date when the device reaches its stated expiry date. After the ExpiryDate has been reached, the EndOfServiceAlert shall start to be triggered. To account for better customer experience across time zones, the EndOfServiceAlert may be delayed by up to 24 hours after the ExpiryDate. Similarly, clients may delay any actions based on the ExpiryDate by up to 24 hours to best align with the local time zone.",xref:{document:"cluster",section:"2.11.6.13"}}),Se({name:"SmokeAlarm",id:0,access:"V",conformance:"SMOKE",priority:"critical",details:"This event shall be generated when SmokeState attribute changes to either Warning or Critical state.",xref:{document:"cluster",section:"2.11.8.1"},children:[o({name:"AlarmSeverityLevel",id:0,type:"AlarmStateEnum",conformance:"M",details:"This field shall indicate the current value of the SmokeState attribute.",xref:{document:"cluster",section:"2.11.8.1.1"}})]}),Se({name:"CoAlarm",id:1,access:"V",conformance:"CO",priority:"critical",details:"This event shall be generated when COState attribute changes to either Warning or Critical state.",xref:{document:"cluster",section:"2.11.8.2"},children:[o({name:"AlarmSeverityLevel",id:0,type:"AlarmStateEnum",conformance:"M",details:"This field shall indicate the current value of the COState attribute.",xref:{document:"cluster",section:"2.11.8.2.1"}})]}),Se({name:"LowBattery",id:2,access:"V",conformance:"M",priority:"info",details:"This event shall be generated when BatteryAlert attribute changes to either Warning or Critical state.",xref:{document:"cluster",section:"2.11.8.3"},children:[o({name:"AlarmSeverityLevel",id:0,type:"AlarmStateEnum",conformance:"M",details:"This field shall indicate the current value of the BatteryAlert attribute.",xref:{document:"cluster",section:"2.11.8.3.1"}})]}),Se({name:"HardwareFault",id:3,access:"V",conformance:"M",priority:"info",details:"This event shall be generated when the device detects a hardware fault that leads to setting HardwareFaultAlert to True.",xref:{document:"cluster",section:"2.11.8.4"}}),Se({name:"EndOfService",id:4,access:"V",conformance:"M",priority:"info",details:"This event shall be generated when the EndOfServiceAlert is set to Expired.",xref:{document:"cluster",section:"2.11.8.5"}}),Se({name:"SelfTestComplete",id:5,access:"V",conformance:"M",priority:"info",details:"This event shall be generated when the SelfTest completes, and the attribute TestInProgress changes to False.",xref:{document:"cluster",section:"2.11.8.6"}}),Se({name:"AlarmMuted",id:6,access:"V",conformance:"O",priority:"info",details:"This event shall be generated when the DeviceMuted attribute changes to Muted.",xref:{document:"cluster",section:"2.11.8.7"}}),Se({name:"MuteEnded",id:7,access:"V",conformance:"O",priority:"info",details:"This event shall be generated when DeviceMuted attribute changes to NotMuted.",xref:{document:"cluster",section:"2.11.8.8"}}),Se({name:"InterconnectSmokeAlarm",id:8,access:"V",conformance:"[SMOKE]",priority:"critical",details:"This event shall be generated when the device hosting the server receives a smoke alarm from an interconnected sensor.",xref:{document:"cluster",section:"2.11.8.9"},children:[o({name:"AlarmSeverityLevel",id:0,type:"AlarmStateEnum",conformance:"M",details:"This field shall indicate the current value of the InterconnectSmokeAlarm attribute.",xref:{document:"cluster",section:"2.11.8.9.1"}})]}),Se({name:"InterconnectCoAlarm",id:9,access:"V",conformance:"[CO]",priority:"critical",details:"This event shall be generated when the device hosting the server receives a CO alarm from an interconnected sensor.",xref:{document:"cluster",section:"2.11.8.10"},children:[o({name:"AlarmSeverityLevel",id:0,type:"AlarmStateEnum",conformance:"M",details:"This field shall indicate the current value of the InterconnectCOAlarm attribute.",xref:{document:"cluster",section:"2.11.8.10.1"}})]}),Se({name:"AllClear",id:10,access:"V",conformance:"M",priority:"info",details:"This event shall be generated when ExpressedState attribute returns to Normal state.",xref:{document:"cluster",section:"2.11.8.11"}}),U({name:"SelfTestRequest",id:0,access:"O",conformance:"O",direction:"request",response:"status",details:`This command shall initiate a device self-test. The return status shall indicate whether the test was successfully initiated. Only one SelfTestRequest may be processed at a time. When the value of the ExpressedState attribute is any of SmokeAlarm, COAlarm, Testing, InterconnectSmoke, Inter
connectCO, the device shall NOT execute the self-test, and shall return status code BUSY.
Upon successful acceptance of SelfTestRequest, the TestInProgress attribute shall be set to True and ExpressedState attribute shall be set to Testing. Any faults identified during the test shall be reflected in the appropriate attributes and events. Upon completion of the self test procedure, the SelfTestComplete event shall be generated, the TestInProgress attribute shall be set to False and ExpressedState attribute shall be updated to reflect the current state of the server.`,xref:{document:"cluster",section:"2.11.7.1"}}),C({name:"AlarmStateEnum",type:"enum8",xref:{document:"cluster",section:"2.11.5.1"},children:[o({name:"Normal",id:0,conformance:"M",description:"Nominal state, the device is not alarming",details:"This value shall indicate that this alarm is not alarming.",xref:{document:"cluster",section:"2.11.5.1.1"}}),o({name:"Warning",id:1,conformance:"O",description:"Warning state",details:"This value shall indicate that this alarm is in a warning state. Alarms in this state SHOULD be subject to being muted via physical interaction.",xref:{document:"cluster",section:"2.11.5.1.2"}}),o({name:"Critical",id:2,conformance:"M",description:"Critical state",details:"This value shall indicate that this alarm is in a critical state. Alarms in this state shall NOT be subject to being muted via physical interaction.",xref:{document:"cluster",section:"2.11.5.1.3"}})]}),C({name:"SensitivityEnum",type:"enum8",xref:{document:"cluster",section:"2.11.5.2"},children:[o({name:"High",id:0,conformance:"O",description:"High sensitivity"}),o({name:"Standard",id:1,conformance:"M",description:"Standard Sensitivity"}),o({name:"Low",id:2,conformance:"O",description:"Low sensitivity"})]}),C({name:"ExpressedStateEnum",type:"enum8",xref:{document:"cluster",section:"2.11.5.3"},children:[o({name:"Normal",id:0,conformance:"M",description:"Nominal state, the device is not alarming",details:"This value shall indicate that this alarm is not alarming.",xref:{document:"cluster",section:"2.11.5.3.1"}}),o({name:"SmokeAlarm",id:1,conformance:"SMOKE",description:"Smoke Alarm state",details:"This value shall indicate that this alarm is currently expressing visual indication of Smoke Alarm. This value shall indicate that the alarm is currently expressing audible indication of Smoke Alarm unless the DeviceMuted attribute is supported and set to Muted.",xref:{document:"cluster",section:"2.11.5.3.2"}}),o({name:"CoAlarm",id:2,conformance:"CO",description:"CO Alarm state",details:"This value shall indicate that this alarm is currently expressing visual indication of CO Alarm. This value shall indicate that the alarm is currently expressing audible indication of CO Alarm unless the DeviceMuted attribute is supported and set to Muted.",xref:{document:"cluster",section:"2.11.5.3.3"}}),o({name:"BatteryAlert",id:3,conformance:"M",description:"Battery Alert State",details:"This value shall indicate that this alarm is currently expressing visual indication of Critical Low Battery. This value shall indicate that the alarm is currently expressing audible indication of Critical Low Battery unless the DeviceMuted attribute is supported and set to Muted.",xref:{document:"cluster",section:"2.11.5.3.4"}}),o({name:"Testing",id:4,conformance:"M",description:"Test in Progress",details:"This value shall indicate that this alarm is currently expressing visual and audible indication of SelfTest.",xref:{document:"cluster",section:"2.11.5.3.5"}}),o({name:"HardwareFault",id:5,conformance:"M",description:"Hardware Fault Alert State",details:"This value shall indicate that this alarm is currently expressing visual indication of Hardware Fault. This value shall indicate that the alarm is currently expressing audible indication of Hardware Fault unless the DeviceMuted attribute is supported and set to Muted.",xref:{document:"cluster",section:"2.11.5.3.6"}}),o({name:"EndOfService",id:6,conformance:"M",description:"End of Service Alert State",details:"This value shall indicate that this alarm is currently expressing visual indication of End Of Service. This value shall indicate that the alarm is currently expressing audible indication of End of Service unless the DeviceMuted attribute is supported and set to Muted.",xref:{document:"cluster",section:"2.11.5.3.7"}}),o({name:"InterconnectSmoke",id:7,conformance:"O",description:"Interconnected Smoke Alarm State",details:"This value shall indicate that this alarm is currently expressing visual indication of Smoke Alarm caused by Interconnect. This value shall indicate that the alarm is currently expressing audible indication of Smoke Alarm caused by Interconnect unless the DeviceMuted attribute is supported and set to Muted.",xref:{document:"cluster",section:"2.11.5.3.8"}}),o({name:"InterconnectCo",id:8,conformance:"O",description:"Interconnected CO Alarm State",details:"This value shall indicate that this alarm is currently expressing visual indication of CO Alarm caused by Interconnect. This value shall indicate that the alarm is currently expressing audible indication of CO Alarm caused by Interconnect unless the DeviceMuted attribute is supported and set to Muted.",xref:{document:"cluster",section:"2.11.5.3.9"}})]}),C({name:"MuteStateEnum",type:"enum8",xref:{document:"cluster",section:"2.11.5.4"},children:[o({name:"NotMuted",id:0,conformance:"M",description:"Not Muted",details:"This value shall indicate that the device is not muted.",xref:{document:"cluster",section:"2.11.5.4.1"}}),o({name:"Muted",id:1,conformance:"M",description:"Muted",details:"This value shall indicate that the device is muted.",xref:{document:"cluster",section:"2.11.5.4.2"}})]}),C({name:"EndOfServiceEnum",type:"enum8",xref:{document:"cluster",section:"2.11.5.5"},children:[o({name:"Normal",id:0,conformance:"M",description:"Device has not expired",details:"This value shall indicate that the device has not yet reached its end of service, and does not need to be imminently replaced.",xref:{document:"cluster",section:"2.11.5.5.2"}}),o({name:"Expired",id:1,conformance:"M",description:"Device has reached its end of service",details:"This value shall indicate that the device has reached its end of service, and needs to be replaced.",xref:{document:"cluster",section:"2.11.5.5.1"}})]}),C({name:"ContaminationStateEnum",type:"enum8",xref:{document:"cluster",section:"2.11.5.6"},children:[o({name:"Normal",id:0,conformance:"M",description:"Nominal state, the sensor is not contaminated",details:"This value shall indicate that the smoke sensor has nominal contamination levels, no customer action is required.",xref:{document:"cluster",section:"2.11.5.6.1"}}),o({name:"Low",id:1,conformance:"O",description:"Low contamination",details:"This value shall indicate that the smoke sensor has detectable contamination levels, but the contamination is too low to cause a visible or audible alarm.",xref:{document:"cluster",section:"2.11.5.6.2"}}),o({name:"Warning",id:2,conformance:"O",description:"Warning state",details:"This value shall indicate that the smoke sensor has contamination levels in a warning state. At this level, the contamination may cause a visible or audible alarm. User intervention is suggested.",xref:{document:"cluster",section:"2.11.5.6.3"}}),o({name:"Critical",id:3,conformance:"M",description:"Critical state, will cause nuisance alarms",details:"This value shall indicate that the smoke sensor has contamination levels in a critical state. At this level, the contamination should cause a visible or audible alarm. User intervention is required. Critical contamination of the sensor shall also be reflected as a HardwareFault.",xref:{document:"cluster",section:"2.11.5.6.4"}})]})]});A.children.push(fT);var pT=ie({name:"ElectricalEnergyMeasurement",id:145,classification:"application",pics:"EEM",details:"This cluster provides a mechanism for querying data about the electrical energy imported or provided by the server.",xref:{document:"cluster",section:"2.12"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"2.12.4"},children:[o({name:"IMPE",conformance:"O.a+",constraint:"0",description:"ImportedEnergy",details:"The feature indicates the server is capable of measuring how much energy is imported by the server.",xref:{document:"cluster",section:"2.12.4.1"}}),o({name:"EXPE",conformance:"O.a+",constraint:"1",description:"ExportedEnergy",details:"The feature indicates the server is capable of measuring how much energy is exported by the server.",xref:{document:"cluster",section:"2.12.4.2"}}),o({name:"CUME",conformance:"O.b+",constraint:"2",description:"CumulativeEnergy",details:"The feature indicates the server is capable of measuring how much energy has been imported or exported by the server over the device\u2019s lifetime. This measurement may start from when a device\u2019s firmware is updated to include this feature, when a device\u2019s firmware is updated to correct measurement errors, or when a device is factory reset.",xref:{document:"cluster",section:"2.12.4.3"}}),o({name:"PERE",conformance:"O.b+",constraint:"3",description:"PeriodicEnergy",details:"The feature indicates the server is capable of measuring how much energy has been imported or exported by the server during a certain period of time. The start and end times for measurement periods shall be determined by the server, and may represent overlapping periods.",xref:{document:"cluster",section:"2.12.4.4"}})]}),p({name:"Accuracy",id:0,type:"MeasurementAccuracyStruct",access:"R V",conformance:"M",quality:"F",details:"Indicates the accuracy of energy measurement by this server. The value of the MeasurementType field on this MeasurementAccuracyStruct shall be ElectricalEnergy.",xref:{document:"cluster",section:"2.12.6.1"}}),p({name:"CumulativeEnergyImported",id:1,type:"EnergyMeasurementStruct",access:"R V",conformance:"IMPE & CUME",default:null,quality:"X Q",details:`Indicates the most recent measurement of cumulative energy imported by the server over the lifetime of the device, and the timestamp of when the measurement was recorded.
The reporting interval of this attribute shall be manufacturer dependent. The server may choose to omit publication of deltas considered not meaningful.
The server shall NOT mark this attribute ready for report if the last time this was done was more recently than 1 second ago.
The server may delay marking this attribute ready for report for longer periods if needed, however the server shall NOT delay marking this attribute as ready for report for longer than 60 seconds.
If the cumulative energy imported cannot currently be determined, a value of null shall be returned.`,xref:{document:"cluster",section:"2.12.6.2"}}),p({name:"CumulativeEnergyExported",id:2,type:"EnergyMeasurementStruct",access:"R V",conformance:"EXPE & CUME",default:null,quality:"X Q",details:`Indicates the most recent measurement of cumulative energy exported by the server over the lifetime of the device, and the timestamp of when the measurement was recorded.
The reporting interval of this attribute shall be manufacturer dependent. The server may choose to omit publication of deltas considered not meaningful.
The server shall NOT mark this attribute ready for report if the last time this was done was more recently than 1 second ago.
The server may delay marking this attribute ready for report for longer periods if needed, however the server shall NOT delay marking this attribute as ready for report for longer than 60 seconds.
If the cumulative energy exported cannot currently be determined, a value of null shall be returned.`,xref:{document:"cluster",section:"2.12.6.3"}}),p({name:"PeriodicEnergyImported",id:3,type:"EnergyMeasurementStruct",access:"R V",conformance:"IMPE & PERE",default:null,quality:"X Q",details:`Indicates the most recent measurement of energy imported by the server and the period during which it was measured.
The reporting interval of this attribute shall be manufacturer dependent. The server may choose to omit publication of deltas considered not meaningful.
The server shall NOT mark this attribute ready for report if the last time this was done was more recently than 1 second ago.
The server may delay marking this attribute ready for report for longer periods if needed, however the server shall NOT delay marking this attribute as ready for report for longer than 60 seconds.
If the periodic energy imported cannot currently be determined, a value of null shall be returned.`,xref:{document:"cluster",section:"2.12.6.4"}}),p({name:"PeriodicEnergyExported",id:4,type:"EnergyMeasurementStruct",access:"R V",conformance:"EXPE & PERE",default:null,quality:"X Q",details:`Indicates the most recent measurement of energy exported by the server and the period during which it was measured.
The reporting interval of this attribute shall be manufacturer dependent. The server may choose to omit publication of deltas considered not meaningful.
The server shall NOT mark this attribute ready for report if the last time this was done was more recently than 1 second ago.
The server may delay marking this attribute ready for report for longer periods if needed, however the server shall NOT delay marking this attribute as ready for report for longer than 60 seconds.
If the periodic energy exported cannot currently be determined, a value of null shall be returned.`,xref:{document:"cluster",section:"2.12.6.5"}}),p({name:"CumulativeEnergyReset",id:5,type:"CumulativeEnergyResetStruct",access:"R V",conformance:"[CUME]",default:null,quality:"X",details:"Indicates when cumulative measurements were most recently zero.",xref:{document:"cluster",section:"2.12.6.6"}}),Se({name:"CumulativeEnergyMeasured",id:0,access:"R V",conformance:"CUME",priority:"info",details:"This event shall be generated when the server takes a snapshot of the cumulative energy imported by the server, exported from the server, or both, but not more frequently than the rate mentioned in the description above of the related attribute.",xref:{document:"cluster",section:"2.12.7.1"},children:[o({name:"EnergyImported",id:0,type:"EnergyMeasurementStruct",conformance:"CUME & IMPE",details:"This field shall be the value of CumulativeEnergyImported attribute at the timestamp indicated in its EndTimestamp field, EndSystime field, or both.",xref:{document:"cluster",section:"2.12.7.1.1"}}),o({name:"EnergyExported",id:1,type:"EnergyMeasurementStruct",conformance:"CUME & EXPE",details:"This field shall be the value of CumulativeEnergyExported attribute at the timestamp indicated in its EndTimestamp field, EndSystime field, or both.",xref:{document:"cluster",section:"2.12.7.1.2"}})]}),Se({name:"PeriodicEnergyMeasured",id:1,access:"R V",conformance:"PERE",priority:"info",details:"This event shall be generated when the server reaches the end of a reporting period for imported energy, exported energy, or both.",xref:{document:"cluster",section:"2.12.7.2"},children:[o({name:"EnergyImported",id:0,type:"EnergyMeasurementStruct",conformance:"PERE & IMPE",details:"This field shall be the value of PeriodicEnergyImported attribute at the timestamp indicated in its EndTimestamp field, EndSystime field, or both.",xref:{document:"cluster",section:"2.12.7.2.1"}}),o({name:"EnergyExported",id:1,type:"EnergyMeasurementStruct",conformance:"PERE & EXPE",details:"This field shall be the value of PeriodicEnergyExported attribute at the timestamp indicated in its EndTimestamp field, EndSystime field, or both.",xref:{document:"cluster",section:"2.12.7.2.2"}})]}),C({name:"EnergyMeasurementStruct",type:"struct",details:`This struct shall indicate the amount of energy measured during a given measurement period.
A server which does not have the ability to determine the time in UTC, or has not yet done so, shall use the system time fields to specify the measurement period and observation times.
A server which has determined the time in UTC shall use the timestamp fields to specify the measurement period. Such a server may also include the systime fields to indicate how many seconds had passed since boot for a given timestamp; this allows for client-side resolution of UTC time for previous reports that only included systime.`,xref:{document:"cluster",section:"2.12.5.1"},children:[o({name:"Energy",id:0,type:"energy-mWh",access:"R V",conformance:"M",constraint:"min 0",details:`This field shall be the reported energy.
If the EnergyMeasurementStruct represents cumulative energy, then this shall represent the cumulative energy recorded at either the value of the EndTimestamp field or the value of the EndSystime field, or both.
If the EnergyMeasurementStruct represents periodic energy, then this shall represent the energy recorded during the period specified by either the StartTimestamp and EndTimestamp fields, the period specified by the StartSystime and EndSystime fields, or both.`,xref:{document:"cluster",section:"2.12.5.1.1"}}),o({name:"StartTimestamp",id:1,type:"epoch-s",access:"R V",conformance:"desc",details:`This field shall indicate the timestamp in UTC of the beginning of the period during which the value of the Energy field was measured.
If this EnergyMeasurementStruct represents cumulative energy, this field shall be omitted.
Otherwise, if the server had determined the time in UTC at or before the beginning of the measurement period, this field shall be indicated.
Otherwise, if the server had not yet determined the time in UTC at or before the beginning of the measurement period, or does not have the capability of determining the time in UTC, this field shall be omitted.`,xref:{document:"cluster",section:"2.12.5.1.2"}}),o({name:"EndTimestamp",id:2,type:"epoch-s",access:"R V",conformance:"desc",constraint:"min startTimestamp1",details:`This field shall indicate the timestamp in UTC of the end of the period during which the value of the Energy field was measured.
If the server had determined the time in UTC by the end of the measurement period, this field shall be indicated.
Otherwise, if the server had not yet determined the time in UTC by the end of the measurement period, or does not have the capability of determining the time in UTC, this field shall be omitted.`,xref:{document:"cluster",section:"2.12.5.1.3"}}),o({name:"StartSystime",id:3,type:"systime-ms",access:"R V",conformance:"desc",details:`This field shall indicate the seconds since boot at the beginning of the period during which the value of the Energy field was measured.
If this EnergyMeasurementStruct represents cumulative energy, this field shall be omitted.
Otherwise, if the server had not yet determined the time in UTC at the start of the measurement period, or does not have the capability of determining the time in UTC, this field shall be indicated.
Otherwise, if the server had determined the time in UTC at or before the beginning of the measurement period, this field may be omitted; if it is indicated, its value shall be the seconds since boot at the UTC time indicated in StartTimestamp.`,xref:{document:"cluster",section:"2.12.5.1.4"}}),o({name:"EndSystime",id:4,type:"systime-ms",access:"R V",conformance:"desc",constraint:"min startSystime1",details:`This field shall indicate the seconds since boot at the end of the period during which the value of the Energy field was measured.
If the server had not yet determined the time in UTC by the end of the measurement period, or does not have the capability of determining the time in UTC, this field shall be indicated.
Otherwise, if the server had determined the time in UTC by the end of the measurement period, this field may be omitted; if it is indicated, its value shall be the seconds since boot at the UTC time indicated in EndTimestamp.`,xref:{document:"cluster",section:"2.12.5.1.5"}})]}),C({name:"CumulativeEnergyResetStruct",type:"struct",details:"This struct shall represent the times at which cumulative measurements were last zero, either due to initialization of the device, or an internal reset of the cumulative value.",xref:{document:"cluster",section:"2.12.5.2"},children:[o({name:"ImportedResetTimestamp",id:0,type:"epoch-s",access:"R V",conformance:"[IMPE]",default:null,quality:"X",details:`This field shall indicate the timestamp in UTC when the value of the Energy field on the CumulativeEnergyImported attribute was most recently zero.
If the server had determined the time in UTC when the value of the Energy field on the CumulativeEnergyImported attribute was most recently zero, this field shall be indicated.
Otherwise, if the server had not yet determined the time in UTC when the value of the Energy field on the CumulativeEnergyImported attribute was most recently zero, or does not have the capability of determining the time in UTC, this field shall be omitted.
If the timestamp in UTC when the value of the Energy field on the CumulativeEnergyImported attribute was most recently zero cannot currently be determined, a value of null shall be returned.`,xref:{document:"cluster",section:"2.12.5.2.1"}}),o({name:"ExportedResetTimestamp",id:1,type:"epoch-s",access:"R V",conformance:"[EXPE]",default:null,quality:"X",details:`This field shall indicate the timestamp in UTC when the value of the Energy field on the CumulativeEnergyExported attribute was most recently zero.
If the server had determined the time in UTC when the value of the Energy field on the Cumula
tiveEnergyExported attribute was most recently zero, this field shall be indicated.
Otherwise, if the server had not yet determined the time in UTC when the value of the Energy field on the CumulativeEnergyExported attribute was most recently zero, or does not have the capability of determining the time in UTC, this field shall be omitted.
If the timestamp in UTC when the value of the Energy field on the CumulativeEnergyExported attribute was most recently zero cannot currently be determined, a value of null shall be returned.`,xref:{document:"cluster",section:"2.12.5.2.2"}}),o({name:"ImportedResetSystime",id:2,type:"systime-ms",access:"R V",conformance:"[IMPE]",default:null,quality:"X",details:`This field shall indicate the seconds since boot when the value of the Energy field on the CumulativeEnergyImported attribute was most recently zero.
If the server had not yet determined the time in UTC when the value of the Energy field on the CumulativeEnergyImported attribute was most recently zero, or does not have the capability of determining the time in UTC, this field shall be indicated.
Otherwise, if the server had determined the time in UTC when the value of the Energy field on the CumulativeEnergyImported attribute was most recently zero, this field may be omitted; if it is indicated, its value shall be the seconds since boot at the UTC time indicated in ImportedResetTimestamp.`,xref:{document:"cluster",section:"2.12.5.2.3"}}),o({name:"ExportedResetSystime",id:3,type:"systime-ms",access:"R V",conformance:"[EXPE]",default:null,quality:"X",details:`This field shall indicate the seconds since boot when the value of the Energy field on the CumulativeEnergyExported attribute was most recently zero.
If the server had not yet determined the time in UTC when the value of the Energy field on the CumulativeEnergyExported attribute was most recently zero, or does not have the capability of determining the time in UTC, this field shall be indicated.
Otherwise, if the server had determined the time in UTC when the value of the Energy field on the CumulativeEnergyExported attribute was most recently zero, this field may be omitted; if it is indicated, its value shall be the seconds since boot at the UTC time indicated in ImportedResetTimestamp.`,xref:{document:"cluster",section:"2.12.5.2.4"}})]})]});A.children.push(pT);var yT=ie({name:"ElectricalPowerMeasurement",id:144,asOf:"1.3",classification:"application",pics:"EPM",details:"This cluster provides a mechanism for querying data about electrical power as measured by the server.",xref:{document:"cluster",section:"2.13"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"2.13.4"},children:[o({name:"DIRC",conformance:"O.a+",constraint:"0",description:"DirectCurrent",details:"This feature indicates the cluster can measure a direct current.",xref:{document:"cluster",section:"2.13.4.1"}}),o({name:"ALTC",conformance:"O.a+",constraint:"1",description:"AlternatingCurrent",details:"This feature indicates the cluster can measure an alternating current.",xref:{document:"cluster",section:"2.13.4.2"}}),o({name:"POLY",conformance:"[ALTC]",constraint:"2",description:"PolyphasePower",details:"This feature indicates the cluster represents the collective measurements for a Polyphase power supply.",xref:{document:"cluster",section:"2.13.4.3"}}),o({name:"HARM",conformance:"[ALTC]",constraint:"3",description:"Harmonics",details:"This feature indicates the cluster can measure the harmonics of an alternating current.",xref:{document:"cluster",section:"2.13.4.4"}}),o({name:"PWRQ",conformance:"[ALTC]",constraint:"4",description:"PowerQuality",details:"This feature indicates the cluster can measure the harmonic phases of an alternating current.",xref:{document:"cluster",section:"2.13.4.5"}})]}),p({name:"PowerMode",id:0,type:"PowerModeEnum",access:"R V",conformance:"M",details:"This shall indicate the current mode of the server. For some servers, such as an EV, this may change depending on the mode of charging or discharging.",xref:{document:"cluster",section:"2.13.6.1"}}),p({name:"NumberOfMeasurementTypes",id:1,type:"uint8",access:"R V",conformance:"M",constraint:"min 1",quality:"F",details:"This shall indicate the maximum number of measurement types the server is capable of reporting.",xref:{document:"cluster",section:"2.13.6.2"}}),p({name:"Accuracy",id:2,type:"list",access:"R V",conformance:"M",constraint:"1 to numberOfMeasurementTypes",quality:"F",details:"This shall indicate a list of accuracy specifications for the measurement types supported by the server. There shall be an entry for ActivePower, as well as any other measurement types implemented by this server.",xref:{document:"cluster",section:"2.13.6.3"},children:[o({name:"entry",type:"MeasurementAccuracyStruct"})]}),p({name:"Ranges",id:3,type:"list",access:"R V",conformance:"O",constraint:"0 to numberOfMeasurementTypes",default:[],quality:"Q",details:`This shall indicate a list of measured ranges for different measurement types. Each measurement type shall have at most one entry in this list, representing the range of measurements in the most recent measurement period.
The reporting interval of this attribute shall be manufacturer dependent. The server may choose to omit publication of deltas considered not meaningful.
The server shall NOT mark this attribute ready for report if the last time this was done was more recently than 1 second ago.
The server may delay marking this attribute ready for report for longer periods if needed, however the server shall NOT delay marking this attribute as ready for report for longer than 60 seconds.`,xref:{document:"cluster",section:"2.13.6.4"},children:[o({name:"entry",type:"MeasurementRangeStruct"})]}),p({name:"Voltage",id:4,type:"voltage-mV",access:"R V",conformance:"O",default:null,quality:"X Q",details:`This shall indicate the most recent Voltage reading in millivolts (mV).
The reporting interval of this attribute shall be manufacturer dependent. The server may choose to omit publication of deltas considered not meaningful.
The server shall NOT mark this attribute ready for report if the last time this was done was more recently than 1 second ago.
The server may delay marking this attribute ready for report for longer periods if needed, however the server shall NOT delay marking this attribute as ready for report for longer than 60 seconds.
If the voltage cannot be measured, a value of null shall be returned.`,xref:{document:"cluster",section:"2.13.6.5"}}),p({name:"ActiveCurrent",id:5,type:"amperage-mA",access:"R V",conformance:"O",default:null,quality:"X Q",details:`This shall indicate the most recent ActiveCurrent reading in milliamps (mA).
A positive value represents current flowing into the server, while a negative value represents current flowing out of the server.
The reporting interval of this attribute shall be manufacturer dependent. The server may choose to omit publication of deltas considered not meaningful.
The server shall NOT mark this attribute ready for report if the last time this was done was more recently than 1 second ago.
The server may delay marking this attribute ready for report for longer periods if needed, however the server shall NOT delay marking this attribute as ready for report for longer than 60 seconds.
If the current cannot be measured, a value of null shall be returned.`,xref:{document:"cluster",section:"2.13.6.6"}}),p({name:"ReactiveCurrent",id:6,type:"amperage-mA",access:"R V",conformance:"[ALTC]",default:null,quality:"X Q",details:`This shall indicate the most recent ReactiveCurrent reading in milliamps (mA).
A positive value represents current flowing into the server, while a negative value represents current flowing out of the server.
The reporting interval of this attribute shall be manufacturer dependent. The server may choose to omit publication of deltas considered not meaningful.
The server shall NOT mark this attribute ready for report if the last time this was done was more recently than 1 second ago.
The server may delay marking this attribute ready for report for longer periods if needed, however the server shall NOT delay marking this attribute as ready for report for longer than 60 seconds.
If the current cannot be measured, a value of null shall be returned.`,xref:{document:"cluster",section:"2.13.6.7"}}),p({name:"ApparentCurrent",id:7,type:"amperage-mA",access:"R V",conformance:"[ALTC]",constraint:"min 0",default:null,quality:"X Q",details:`This shall indicate the most recent ApparentCurrent (square root sum of the squares of active and reactive currents) reading in milliamps (mA).
The reporting interval of this attribute shall be manufacturer dependent. The server may choose to omit publication of deltas considered not meaningful.
The server shall NOT mark this attribute ready for report if the last time this was done was more recently than 1 second ago.
The server may delay marking this attribute ready for report for longer periods if needed, however the server shall NOT delay marking this attribute as ready for report for longer than 60 seconds.
If the active or reactive currents cannot be measured, a value of null shall be returned.`,xref:{document:"cluster",section:"2.13.6.8"}}),p({name:"ActivePower",id:8,type:"power-mW",access:"R V",conformance:"M",default:null,quality:"X Q",details:`This shall indicate the most recent ActivePower reading in milliwatts (mW). If the power cannot be measured, a value of null shall be returned.
A positive value represents power imported, while a negative value represents power exported.
The reporting interval of this attribute shall be manufacturer dependent. The server may choose to omit publication of deltas considered not meaningful.
The server shall NOT mark this attribute ready for report if the last time this was done was more recently than 1 second ago.
The server may delay marking this attribute ready for report for longer periods if needed, however the server shall NOT delay marking this attribute as ready for report for longer than 60 seconds.
If the Polyphase Power feature is set, this value represents the combined active power imported or exported.`,xref:{document:"cluster",section:"2.13.6.9"}}),p({name:"ReactivePower",id:9,type:"power-mW",access:"R V",conformance:"[ALTC]",default:null,quality:"X Q",details:`This shall indicate the most recent ReactivePower reading in millivolt-amps reactive (mVAR). A positive value represents power imported, while a negative value represents power exported.
The reporting interval of this attribute shall be manufacturer dependent. The server may choose to omit publication of deltas considered not meaningful.
The server shall NOT mark this attribute ready for report if the last time this was done was more recently than 1 second ago.
The server may delay marking this attribute ready for report for longer periods if needed, however the server shall NOT delay marking this attribute as ready for report for longer than 60 seconds.
If the reactive power cannot be measured, a value of null shall be returned.
If the Polyphase Power feature is supported, this value represents the combined reactive power imported or exported.`,xref:{document:"cluster",section:"2.13.6.10"}}),p({name:"ApparentPower",id:10,type:"power-mW",access:"R V",conformance:"[ALTC]",default:null,quality:"X Q",details:`This shall indicate the most recent ApparentPower reading in millivolt-amps (mVA).
A positive value represents power imported, while a negative value represents power exported.
The reporting interval of this attribute shall be manufacturer dependent. The server may choose to omit publication of deltas considered not meaningful.
The server shall NOT mark this attribute ready for report if the last time this was done was more recently than 1 second ago.
The server may delay marking this attribute ready for report for longer periods if needed, however the server shall NOT delay marking this attribute as ready for report for longer than 60 seconds.
If the apparent power cannot be measured, a value of null shall be returned.`,xref:{document:"cluster",section:"2.13.6.11"}}),p({name:"RmsVoltage",id:11,type:"voltage-mV",access:"R V",conformance:"[ALTC]",default:null,quality:"X Q",details:`This shall indicate the most recent RMSVoltage reading in millivolts (mV).
The reporting interval of this attribute shall be manufacturer dependent. The server may choose to omit publication of deltas considered not meaningful.
The server shall NOT mark this attribute ready for report if the last time this was done was more recently than 1 second ago.
The server may delay marking this attribute ready for report for longer periods if needed, however the server shall NOT delay marking this attribute as ready for report for longer than 60 seconds.
If the RMS voltage cannot be measured, a value of null shall be returned.`,xref:{document:"cluster",section:"2.13.6.12"}}),p({name:"RmsCurrent",id:12,type:"amperage-mA",access:"R V",conformance:"[ALTC]",default:null,quality:"X Q",details:`This shall indicate the most recent RMSCurrent reading in milliamps (mA).
A positive value represents current flowing into the server, while a negative value represents current flowing out of the server.
The reporting interval of this attribute shall be manufacturer dependent. The server may choose to omit publication of deltas considered not meaningful.
The server shall NOT mark this attribute ready for report if the last time this was done was more recently than 1 second ago.
The server may delay marking this attribute ready for report for longer periods if needed, however the server shall NOT delay marking this attribute as ready for report for longer than 60 seconds.
If the RMS current cannot be measured, a value of null shall be returned.`,xref:{document:"cluster",section:"2.13.6.13"}}),p({name:"RmsPower",id:13,type:"power-mW",access:"R V",conformance:"[ALTC]",default:null,quality:"X Q",details:`This shall indicate the most recent RMSPower reading in milliwatts (mW).
A positive value represents power imported, while a negative value represents power exported.
The reporting interval of this attribute shall be manufacturer dependent. The server may choose to omit publication of deltas considered not meaningful.
The server shall NOT mark this attribute ready for report if the last time this was done was more recently than 1 second ago.
The server may delay marking this attribute ready for report for longer periods if needed, however the server shall NOT delay marking this attribute as ready for report for longer than 60 seconds.
If the RMS power cannot be measured, a value of null shall be returned.`,xref:{document:"cluster",section:"2.13.6.14"}}),p({name:"Frequency",id:14,type:"int64",access:"R V",conformance:"[ALTC]",constraint:"0 to 1000000",default:null,quality:"X Q",details:`This shall indicate the most recent Frequency reading in millihertz (mHz).
The reporting interval of this attribute shall be manufacturer dependent. The server may choose to omit publication of deltas considered not meaningful.
The server shall NOT mark this attribute ready for report if the last time this was done was more recently than 1 second ago.
The server may delay marking this attribute ready for report for longer periods if needed, however the server shall NOT delay marking this attribute as ready for report for longer than 60 seconds.
If the frequency cannot be measured, a value of null shall be returned.`,xref:{document:"cluster",section:"2.13.6.15"}}),p({name:"HarmonicCurrents",id:15,type:"list",access:"R V",conformance:"HARM",constraint:"desc",default:null,quality:"X Q",details:`This shall indicate a list of HarmonicMeasurementStruct values, with each HarmonicMeasurementStruct representing the harmonic current reading for the harmonic order specified by Order.
The reporting interval of this attribute shall be manufacturer dependent. The server may choose to omit publication of deltas considered not meaningful.
The server shall NOT mark this attribute ready for report if the last time this was done was more recently than 1 second ago.
The server may delay marking this attribute ready for report for longer periods if needed, however the server shall NOT delay marking this attribute as ready for report for longer than 60 seconds.`,xref:{document:"cluster",section:"2.13.6.16"},children:[o({name:"entry",type:"HarmonicMeasurementStruct"})]}),p({name:"HarmonicPhases",id:16,type:"list",access:"R V",conformance:"PWRQ",constraint:"desc",default:null,quality:"X Q",details:`This shall indicate a list of HarmonicMeasurementStruct values, with each HarmonicMeasurementStruct representing the most recent phase of the harmonic current reading for the harmonic
order specified by Order.
The reporting interval of this attribute shall be manufacturer dependent. The server may choose to omit publication of deltas considered not meaningful.
The server shall NOT mark this attribute ready for report if the last time this was done was more recently than 1 second ago.
The server may delay marking this attribute ready for report for longer periods if needed, however the server shall NOT delay marking this attribute as ready for report for longer than 60 seconds.`,xref:{document:"cluster",section:"2.13.6.17"},children:[o({name:"entry",type:"HarmonicMeasurementStruct"})]}),p({name:"PowerFactor",id:17,type:"int64",access:"R V",conformance:"[ALTC]",constraint:"-10000 to 10000",default:null,quality:"X Q",details:`This shall indicate the Power Factor ratio in +/- 1/100ths of a percent.
The reporting interval of this attribute shall be manufacturer dependent. The server may choose to omit publication of deltas considered not meaningful.
The server shall NOT mark this attribute ready for report if the last time this was done was more recently than 1 second ago.
The server may delay marking this attribute ready for report for longer periods if needed, however the server shall NOT delay marking this attribute as ready for report for longer than 60 seconds.`,xref:{document:"cluster",section:"2.13.6.18"}}),p({name:"NeutralCurrent",id:18,type:"amperage-mA",access:"R V",conformance:"[POLY]",default:null,quality:"X Q",details:`This shall indicate the most recent NeutralCurrent reading in milliamps (mA). Typically this is a derived value, taking the magnitude of the vector sum of phase currents.
If the neutral current cannot be measured or derived, a value of null shall be returned.
A positive value represents an imbalance between the phase currents when power is imported. A negative value represents an imbalance between the phase currents when power is exported.
The reporting interval of this attribute shall be manufacturer dependent. The server may choose to omit publication of deltas considered not meaningful.
The server shall NOT mark this attribute ready for report if the last time this was done was more recently than 1 second ago.
The server may delay marking this attribute ready for report for longer periods if needed, however the server shall NOT delay marking this attribute as ready for report for longer than 60 seconds.`,xref:{document:"cluster",section:"2.13.6.19"}}),Se({name:"MeasurementPeriodRanges",id:0,access:"R V",conformance:"Ranges",priority:"info",details:"If supported, this event shall be generated at the end of a measurement period. The start and end times for measurement periods shall be determined by the server, and may represent overlapping periods.",xref:{document:"cluster",section:"2.13.7.1"},children:[o({name:"Ranges",id:0,type:"list",access:"R V",conformance:"M",default:[],details:"This shall indicate the value of the Ranges attribute at the time of event generation.",xref:{document:"cluster",section:"2.13.7.1.1"},children:[o({name:"entry",type:"MeasurementRangeStruct"})]})]}),C({name:"PowerModeEnum",type:"enum8",xref:{document:"cluster",section:"2.13.5.1"},children:[o({name:"Unknown",id:0,conformance:"M"}),o({name:"Dc",id:1,conformance:"M",description:"Direct current"}),o({name:"Ac",id:2,conformance:"M",description:"Alternating current, either single-phase or polyphase"})]}),C({name:"MeasurementRangeStruct",type:"struct",details:`This struct shall indicate the maximum and minimum values of a given measurement type during a measurement period, along with the observation times of these values.
A server which does not have the ability to determine the time in UTC, or has not yet done so, shall use the system time fields to specify the measurement period and observation times.
A server which has determined the time in UTC shall use the timestamp fields to specify the measurement period and observation times. Such a server may also include the systime fields to indicate how many seconds had passed since boot for a given timestamp; this allows for client-side resolution of UTC time for previous reports that only included systime.`,xref:{document:"cluster",section:"2.13.5.2"},children:[o({name:"MeasurementType",id:0,type:"MeasurementTypeEnum",conformance:"M",details:"This field shall be the type of measurement for the range provided.",xref:{document:"cluster",section:"2.13.5.2.1"}}),o({name:"Min",id:1,type:"int64",conformance:"M",details:"This field shall be the smallest measured value for the associated measurement over either the period between StartTimestamp and EndTimestamp, or the period between StartSystime and EndSystime, or both.",xref:{document:"cluster",section:"2.13.5.2.2"}}),o({name:"Max",id:2,type:"int64",conformance:"M",details:"This field shall be the largest measured value for the associated measurement over the period between either StartTimestamp and EndTimestamp or the period between StartSystime and EndSystime, or both.",xref:{document:"cluster",section:"2.13.5.2.3"}}),o({name:"StartTimestamp",id:3,type:"epoch-s",conformance:"EndTimestamp",details:`This field shall be the timestamp in UTC of the beginning of the measurement period.
If the server had not yet determined the time in UTC at or before the beginning of the measurement period, or does not have the capability of determining the time in UTC, this field shall be omitted.`,xref:{document:"cluster",section:"2.13.5.2.4"}}),o({name:"EndTimestamp",id:4,type:"epoch-s",conformance:"desc",constraint:"min startTimestamp1",details:`This field shall be the timestamp in UTC of the end of the measurement period.
If the server had not yet determined the time in UTC at or before the beginning of the measurement period, or does not have the capability of determining the time in UTC, this field shall be omitted.`,xref:{document:"cluster",section:"2.13.5.2.5"}}),o({name:"MinTimestamp",id:5,type:"epoch-s",conformance:"EndTimestamp",details:`This field shall be the most recent timestamp in UTC that the value in the Min field was measured.
This field shall be greater than or equal to the value of the StartTimestamp field. This field shall be less than or equal to the value of the EndTimestamp field.`,xref:{document:"cluster",section:"2.13.5.2.6"}}),o({name:"MaxTimestamp",id:6,type:"epoch-s",conformance:"EndTimestamp",constraint:"min minTimestamp1",details:"This field shall be the most recent timestamp in UTC of the value in the Max field. This field shall be greater than or equal to the value of the StartTimestamp field. This field shall be less than or equal to the value of the EndTimestamp field.",xref:{document:"cluster",section:"2.13.5.2.7"}}),o({name:"StartSystime",id:7,type:"systime-ms",conformance:"EndSystime",details:`This field shall be the time since boot of the beginning of the measurement period.
If the server had determined the time in UTC at or before the start of the measurement period, this field may be omitted along with the EndSystime, MinSystime, and MaxSystime fields.`,xref:{document:"cluster",section:"2.13.5.2.8"}}),o({name:"EndSystime",id:8,type:"systime-ms",conformance:"desc",constraint:"min startSystime1",details:`This field shall be the time since boot of the end of the measurement period.
If the server had determined the time in UTC at the end of the measurement period, this field may be omitted along with the StartSystime field, MinSystime, and MaxSystime fields.`,xref:{document:"cluster",section:"2.13.5.2.9"}}),o({name:"MinSystime",id:9,type:"systime-ms",conformance:"EndSystime",details:`This field shall be the measurement time since boot of the value in the Min field was measured. This field shall be greater than or equal to the value of the StartSystime field.
This field shall be less than or equal to the value of the EndSystime field.`,xref:{document:"cluster",section:"2.13.5.2.10"}}),o({name:"MaxSystime",id:10,type:"systime-ms",conformance:"EndSystime",constraint:"min minSystime1",details:`This field shall be the measurement time since boot of the value in the Max field. This field shall be greater than or equal to the value of the StartSystime field.
This field shall be less than or equal to the value of the EndSystime field.`,xref:{document:"cluster",section:"2.13.5.2.11"}})]}),C({name:"HarmonicMeasurementStruct",type:"struct",xref:{document:"cluster",section:"2.13.5.3"},children:[o({name:"Order",id:0,type:"uint8",conformance:"M",constraint:"min 1",default:1,details:"This field shall be the order of the harmonic being measured. Typically this is an odd number, but servers may choose to report even harmonics.",xref:{document:"cluster",section:"2.13.5.3.1"}}),o({name:"Measurement",id:1,type:"int64",conformance:"M",default:null,quality:"X",details:`This field shall be the measured value for the given harmonic order.
For the Harmonic Currents attribute, this value is the most recently measured harmonic current reading in milliamps (mA). A positive value indicates that the measured harmonic current is positive, and a negative value indicates that the measured harmonic current is negative.
For the Harmonic Phases attribute, this value is the most recent phase of the given harmonic order
in millidegrees (mDeg). A positive value indicates that the measured phase is leading, and a negative value indicates that the measured phase is lagging.
If this measurement is not currently available, a value of null shall be returned.`,xref:{document:"cluster",section:"2.13.5.3.2"}})]})]});A.children.push(yT);var gT=ie({name:"ColorControl",id:768,classification:"application",pics:"CC",xref:{document:"cluster",section:"3.2"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:6}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"3.2.5"},children:[o({name:"HS",constraint:"0",description:"HueSaturation",details:"Supports color specification via hue/saturation."}),o({name:"EHUE",constraint:"1",description:"EnhancedHue",details:"Enhanced hue is supported."}),o({name:"CL",constraint:"2",description:"ColorLoop",details:"Color loop is supported."}),o({name:"XY",constraint:"3",description:"Xy",details:"Supports color specification via XY."}),o({name:"CT",constraint:"4",description:"ColorTemperature",details:"Supports specification of color temperature."})]}),p({name:"CurrentHue",id:0,type:"uint8",access:"R V",conformance:"HS",constraint:"0 to 254",default:0,quality:"N P",details:`The CurrentHue attribute contains the current hue value of the light. It is updated as fast as practical during commands that change the hue.
The hue in degrees shall be related to the CurrentHue attribute by the relationship: Hue = CurrentHue x 360 / 254 (CurrentHue in the range 0 to 254 inclusive)
If this attribute is implemented then the CurrentSaturation and ColorMode attributes shall also be implemented.`,xref:{document:"cluster",section:"3.2.7.2"}}),p({name:"CurrentSaturation",id:1,type:"uint8",access:"R V",conformance:"HS",constraint:"0 to 254",default:0,quality:"N S P",details:`The CurrentSaturation attribute holds the current saturation value of the light. It is updated as fast as practical during commands that change the saturation.
The saturation shall be related to the CurrentSaturation attribute by the relationship: Saturation = CurrentSaturation/254 (CurrentSaturation in the range 0 to 254 inclusive)
If this attribute is implemented then the CurrentHue and ColorMode attributes shall also be implemented.`,xref:{document:"cluster",section:"3.2.7.3"}}),p({name:"RemainingTime",id:2,type:"uint16",access:"R V",conformance:"O",constraint:"0 to 65535",default:0,details:"The RemainingTime attribute holds the time remaining, in 1/10ths of a second, until the currently active command will be complete.",xref:{document:"cluster",section:"3.2.7.4"}}),p({name:"CurrentX",id:3,type:"uint16",access:"R V",conformance:"XY",constraint:"0 to 65279",default:24939,quality:"N S P",details:`The CurrentX attribute contains the current value of the normalized chromaticity value x, as defined in the CIE xyY Color Space. It is updated as fast as practical during commands that change the color.
The value of x shall be related to the CurrentX attribute by the relationship x = CurrentX / 65536 (CurrentX in the range 0 to 65279 inclusive)`,xref:{document:"cluster",section:"3.2.7.5"}}),p({name:"CurrentY",id:4,type:"uint16",access:"R V",conformance:"XY",constraint:"0 to 65279",default:24701,quality:"N S P",details:`The CurrentY attribute contains the current value of the normalized chromaticity value y, as defined in the CIE xyY Color Space. It is updated as fast as practical during commands that change the color.
The value of y shall be related to the CurrentY attribute by the relationship y = CurrentY / 65536 (CurrentY in the range 0 to 65279 inclusive)`,xref:{document:"cluster",section:"3.2.7.6"}}),p({name:"DriftCompensation",id:5,type:"enum8",access:"R V",conformance:"O",constraint:"0 to 4",details:`The DriftCompensation attribute indicates what mechanism, if any, is in use for compensation for color/intensity drift over time. It shall be one of the non-reserved values in Values of the DriftCompensation Attribute.
### Table 8. Values of the DriftCompensation Attribute`,xref:{document:"cluster",section:"3.2.7.7"},children:[o({name:"None",id:0}),o({name:"OtherUnknown",id:1}),o({name:"TemperatureMonitoring",id:2}),o({name:"OpticalLuminanceMonitoringAndFeedback",id:3}),o({name:"OpticalColorMonitoringAndFeedback",id:4})]}),p({name:"CompensationText",id:6,type:"string",access:"R V",conformance:"O",constraint:"max 254",details:"The CompensationText attribute holds a textual indication of what mechanism, if any, is in use to compensate for color/intensity drift over time.",xref:{document:"cluster",section:"3.2.7.8"}}),p({name:"ColorTemperatureMireds",id:7,type:"uint16",access:"R V",conformance:"CT",constraint:"colorTempPhysicalMinMireds to colorTempPhysicalMaxMireds",default:250,quality:"N S P",details:`The ColorTemperatureMireds attribute contains a scaled inverse of the current value of the color temperature. The unit of ColorTemperatureMireds is the mired (micro reciprocal degree), a.k.a. mirek (micro reciprocal kelvin). It is updated as fast as practical during commands that change the color.
The color temperature value in kelvins shall be related to the ColorTemperatureMireds attribute in mireds by the relationship
Color temperature in kelvins = 1,000,000 / ColorTemperatureMireds, where ColorTemperatureMireds is in the range 1 to 65279 mireds inclusive, giving a color temperature range from 1,000,000 kelvins to 15.32 kelvins.
If this attribute is implemented then the ColorMode attribute shall also be implemented.`,xref:{document:"cluster",section:"3.2.7.9"}}),p({name:"ColorMode",id:8,type:"enum8",access:"R V",conformance:"M",constraint:"0 to 2",default:1,quality:"N",details:`The ColorMode attribute indicates which attributes are currently determining the color of the device.
The value of the ColorMode attribute cannot be written directly - it is set upon reception of any command in section Commands to the appropriate mode for that command.
Table 9. Values of the ColorMode Attribute`,xref:{document:"cluster",section:"3.2.7.10"},children:[o({name:"CurrentHueAndCurrentSaturation",id:0}),o({name:"CurrentXAndCurrentY",id:1}),o({name:"ColorTemperatureMireds",id:2})]}),p({name:"Options",id:15,type:"map8",access:"RW VO",conformance:"M",constraint:"desc",default:0,details:`The Options attribute is meant to be changed only during commissioning. The Options attribute is a bitmap that determines the default behavior of some cluster commands. Each command that is dependent on the Options attribute shall first construct a temporary Options bitmap that is in effect during the command processing. The temporary Options bitmap has the same format and meaning as the Options attribute, but includes any bits that may be overridden by command fields.
Below is the format and description of the Options attribute and temporary Options bitmap and the effect on dependent commands.
Table 10. Options Attribute
ExecuteIfOff Options bit: Command execution shall NOT continue beyond the Options processing if all of these criteria are true:
  \u2022 The On/Off cluster exists on the same endpoint as this cluster.
  \u2022 The OnOff attribute of the On/Off cluster, on this endpoint, is FALSE.
  \u2022 The value of the ExecuteIfOff bit is 0.`,xref:{document:"cluster",section:"3.2.7.11"},children:[o({name:"ExecuteIfOff",constraint:"0"})]}),p({name:"EnhancedCurrentHue",id:16384,type:"uint16",access:"R V",conformance:"EHUE",default:0,quality:"N S",details:`The EnhancedCurrentHue attribute represents non-equidistant steps along the CIE 1931 color triangle, and it provides 16-bits precision.
The upper 8 bits of this attribute shall be used as an index in the implementation specific XY lookup table to provide the non-equidistance steps. The lower 8 bits shall be used to interpolate between these steps in a linear way in order to provide color zoom for the user.
To provide compatibility with standard ZCL, the CurrentHue attribute shall contain a hue value in the range 0 to 254, calculated from the EnhancedCurrentHue attribute.`,xref:{document:"cluster",section:"3.2.7.12"}}),p({name:"EnhancedColorMode",id:16385,type:"enum8",access:"R V",conformance:"M",constraint:"0 to 3",default:1,quality:"N S",details:`The EnhancedColorMode attribute specifies which attributes are currently determining the color of the device, as detailed in Values of the EnhancedColorMode Attribute.
### Table 11. Values of the EnhancedColorMode Attribute
To provide compatibility with standard ZCL, the original ColorMode attribute shall indicate \u2018CurrentHue and CurrentSaturation\u2019 when the light uses the EnhancedCurrentHue attribute. If the ColorMode attribute is changed, e.g., due to one of the standard Color Control cluster commands defined in the ZCL, its new value shall be copied to the EnhancedColorMode attribute.`,xref:{document:"cluster",section:"3.2.7.13"},children:[o({name:"CurrentHueAndCurrentSaturation",id:0}),o({name:"CurrentXAndCurrentY",id:1}),o({name:"ColorTemperatureMireds",id:2}),o({name:"EnhancedCurrentHueAndCurrentSaturation",id:3})]}),p({name:"ColorLoopActive",id:16386,type:"enum16",access:"R V",conformance:"CL",default:0,quality:"N S",details:"The ColorLoopActive attribute specifies the current active status of the color loop. If this attribute has the value 0, the color loop shall not be active. If this attribute has the value 1, the color loop shall be active. All other values (2 to 254) are reserved.",xref:{document:"cluster",section:"3.2.7.14"},children:[o({name:"Inactive",id:0}),o({name:"Active",id:1})]}),p({name:"ColorLoopDirection",id:16387,type:"enum16",access:"R V",conformance:"CL",default:0,quality:"N S",details:"The ColorLoopDirection attribute specifies the current direction of the color loop. If this attribute has the value 0, the EnhancedCurrentHue attribute shall be decremented. If this attribute has the value 1, the EnhancedCurrentHue attribute shall be incremented. All other values (2 to 254) are reserved.",xref:{document:"cluster",section:"3.2.7.15"},children:[o({name:"Decrement",id:0}),o({name:"Increment",id:1})]}),p({name:"ColorLoopTime",id:16388,type:"uint16",access:"R V",conformance:"CL",default:25,quality:"N S",details:"The ColorLoopTime attribute specifies the number of seconds it shall take to perform a full color loop, i.e., to cycle all values of the EnhancedCurrentHue attribute (between 0 and 0xFFFE).",xref:{document:"cluster",section:"3.2.7.16"}}),p({name:"ColorLoopStartEnhancedHue",id:16389,type:"uint16",access:"R V",conformance:"CL",default:8960,details:"The ColorLoopStartEnhancedHue attribute specifies the value of the EnhancedCurrentHue attribute from which the color loop shall be started.",xref:{document:"cluster",section:"3.2.7.17"}}),p({name:"ColorLoopStoredEnhancedHue",id:16390,type:"uint16",access:"R V",conformance:"CL",default:0,details:"The ColorLoopStoredEnhancedHue attribute specifies the value of the EnhancedCurrentHue attribute before the color loop was started. Once the color loop is complete, the EnhancedCurrentHue attribute shall be restored to this value.",xref:{document:"cluster",section:"3.2.7.18"}}),p({name:"ColorCapabilities",id:16394,type:"map16",access:"R V",conformance:"M",constraint:"0 to 31",default:0,details:"Bits 0-4 of the ColorCapabilities attribute shall have the same values as the corresponding bits of the FeatureMap attribute. All other bits in ColorCapabilities shall be 0.",xref:{document:"cluster",section:"3.2.7.19"},children:[o({name:"HueSaturation",constraint:"0"}),o({name:"EnhancedHue",constraint:"1"}),o({name:"ColorLoop",constraint:"2"}),o({name:"XY",constraint:"3"}),o({name:"ColorTemperature",constraint:"4"})]}),p({name:"ColorTempPhysicalMinMireds",id:16395,type:"uint16",access:"R V",conformance:"CT",constraint:"0 to 65279",default:0,details:"The ColorTempPhysicalMinMireds attribute indicates the minimum mired value supported by the hardware. ColorTempPhysicalMinMireds corresponds to the maximum color temperature in kelvins supported by the hardware. ColorTempPhysicalMinMireds <= ColorTemperatureMireds.",xref:{document:"cluster",section:"3.2.7.20"}}),p({name:"ColorTempPhysicalMaxMireds",id:16396,type:"uint16",access:"R V",conformance:"CT",constraint:"0 to 65279",default:65279,details:"The ColorTempPhysicalMaxMireds attribute indicates the maximum mired value supported by the hardware. ColorTempPhysicalMaxMireds corresponds to the minimum color temperature in kelvins supported by the hardware. ColorTemperatureMireds <= ColorTempPhysicalMaxMireds.",xref:{document:"cluster",section:"3.2.7.21"}}),p({name:"CoupleColorTempToLevelMinMireds",id:16397,type:"uint16",access:"R V",conformance:"CT & ColorTemperatureMireds",constraint:"colorTempPhysicalMinMireds to colorTemperatureMireds",details:`The CoupleColorTempToLevelMinMireds attribute specifies a lower bound on the value of the ColorTemperatureMireds attribute for the purposes of coupling the ColorTemperatureMireds attribute to the CurrentLevel attribute when the CoupleColorTempToLevel bit of the Options attribute of the Level Control cluster is equal to 1. When coupling the ColorTemperatureMireds attribute to the CurrentLevel attribute, this value shall correspond to a CurrentLevel value of 0xFE (100%).
This attribute shall be set such that the following relationship exists: ColorTempPhysicalMinMireds \u2264 CoupleColorTempToLevelMinMireds \u2264 ColorTemperatureMireds
Note that since this attribute is stored as a micro reciprocal degree (mired) value (i.e. color temperature in kelvins = 1,000,000 / CoupleColorTempToLevelMinMireds), the CoupleColorTempToLevelMinMireds attribute corresponds to an upper bound on the value of the color temperature in kelvins supported by the device.`,xref:{document:"cluster",section:"3.2.7.22"}}),p({name:"StartUpColorTemperatureMireds",id:16400,type:"uint16",access:"RW VM",conformance:"CT & ColorTemperatureMireds",constraint:"0 to 65279",quality:"X N",details:`The StartUpColorTemperatureMireds attribute shall define the desired startup color temperature value a lamp shall use when it is supplied with power and this value shall be reflected in the ColorTemperatureMireds attribute. In addition, the ColorMode and EnhancedColorMode attributes shall be set to 0x02 (color temperature). The values of the StartUpColorTemperatureMireds attribute are listed in the table below,
Table 12. Values of the StartUpColorTemperatureMireds attribute`,xref:{document:"cluster",section:"3.2.7.23"}}),p({name:"NumberOfPrimaries",id:16,type:"uint8",access:"R V",conformance:"M",constraint:"0 to 6",quality:"X F",details:`The NumberOfPrimaries attribute contains the number of color primaries implemented on this device. A value of null shall indicate that the number of primaries is unknown.
Where this attribute is implemented, the attributes below for indicating the \u201Cx\u201D and \u201Cy\u201D color values of the primaries shall also be implemented for each of the primaries from 1 to NumberOfPrimaries, without leaving gaps. Implementation of the Primary1Intensity attribute and subsequent intensity attributes is optional.`,xref:{document:"cluster",section:"3.2.8.1"}}),p({name:"Primary1X",id:17,type:"uint16",access:"R V",conformance:"NumberOfPrimaries > 0",constraint:"0 to 65279",quality:"F",details:`The Primary1X attribute contains the normalized chromaticity value x for this primary, as defined in the CIE xyY Color Space.
The value of x shall be related to the Primary1X attribute by the relationship x = Primary1X / 65536 (Primary1X in the range 0 to 65279 inclusive)`,xref:{document:"cluster",section:"3.2.8.2"}}),p({name:"Primary1Y",id:18,type:"uint16",access:"R V",conformance:"NumberOfPrimaries > 0",constraint:"0 to 65279",quality:"F",details:`The Primary1Y attribute contains the normalized chromaticity value y for this primary, as defined in the CIE xyY Color Space.
The value of y shall be related to the Primary1Y attribute by the relationship y = Primary1Y / 65536 (Primary1Y in the range 0 to 65279 inclusive)`,xref:{document:"cluster",section:"3.2.8.3"}}),p({name:"Primary1Intensity",id:19,type:"uint8",access:"R V",conformance:"NumberOfPrimaries > 0",quality:"X F",details:`The Primary1intensity attribute contains a representation of the maximum intensity of this primary as defined in the Dimming Light Curve in the Ballast Configuration cluster (see Ballast Configuration Cluster), normalized such that the primary with the highest maximum intensity contains the value 0xFE.
A value of null shall indicate that this primary is not available.`,xref:{document:"cluster",section:"3.2.8.4"}}),p({name:"Primary2X",id:21,type:"uint16",access:"R V",conformance:"NumberOfPrimaries > 1",constraint:"0 to 65279",quality:"F",xref:{document:"cluster",section:"3.2.8"}}),p({name:"Primary2Y",id:22,type:"uint16",access:"R V",conformance:"NumberOfPrimaries > 1",constraint:"0 to 65279",quality:"F",xref:{document:"cluster",section:"3.2.8"}}),p({name:"Primary2Intensity",id:23,type:"uint8",access:"R V",conformance:"NumberOfPrimaries > 1",quality:"X F",xref:{document:"cluster",section:"3.2.8"}}),p({name:"Primary3X",id:25,type:"uint16",access:"R V",conformance:"NumberOfPrimaries > 2",constraint:"0 to 65279",quality:"F",xref:{document:"cluster",section:"3.2.8"}}),p({name:"Primary3Y",id:26,type:"uint16",access:"R V",conformance:"NumberOfPrimaries > 2",constraint:"0 to 65279",quality:"F",xref:{document:"cluster",section:"3.2.8"}}),p({name:"Primary3Intensity",id:27,type:"uint8",access:"R V",conformance:"NumberOfPrimaries > 2",quality:"X F",xref:{document:"cluster",section:"3.2.8"}}),p({name:"Primary4X",id:32,type:"uint16",access:"R V",conformance:"NumberOfPrimaries > 3",constraint:"0 to 65279",quality:"F",xref:{document:"cluster",section:"3.2.9"}}),p({name:"Primary4Y",id:33,type:"uint16",access:"R V",conformance:"NumberOfPrimaries > 3",constraint:"0 to 65279",quality:"F",xref:{document:"cluster",section:"3.2.9"}}),p({name:"Primary4Intensity",id:34,type:"uint8",access:"R V",conformance:"NumberOfPrimaries > 3",quality:"X F",xref:{document:"cluster",section:"3.2.9"}}),p({name:"Primary5X",id:36,type:"uint16",access:"R V",conformance:"NumberOfPrimaries > 4",constraint:"0 to 65279",quality:"F",xref:{document:"cluster",section:"3.2.9"}}),p({name:"Primary5Y",id:37,type:"uint16",access:"R V",conformance:"NumberOfPrimaries > 4",constraint:"0 to 65279",quality:"F",xref:{document:"cluster",section:"3.2.9"}}),p({name:"Primary5Intensity",id:38,type:"uint8",access:"R V",conformance:"NumberOfPrimaries > 4",quality:"X F",xref:{document:"cluster",section:"3.2.9"}}),p({name:"Primary6X",id:40,type:"uint16",access:"R V",conformance:"NumberOfPrimaries > 5",constraint:"0 to 65279",quality:"F",xref:{document:"cluster",section:"3.2.9"}}),p({name:"Primary6Y",id:41,type:"uint16",access:"R V",conformance:"NumberOfPrimaries > 5",constraint:"0 to 65279",quality:"F",xref:{document:"cluster",section:"3.2.9"}}),p({name:"Primary6Intensity",id:42,type:"uint8",access:"R V",conformance:"NumberOfPrimaries > 5",quality:"X F",xref:{document:"cluster",section:"3.2.9"}}),p({name:"WhitePointX",id:48,type:"uint16",access:"RW VM",conformance:"O",constraint:"0 to 65279",details:`The WhitePointX attribute contains the normalized chromaticity value x, as defined in the CIE xyY Color Space, of the current white point of the device.
The value of x shall be related to the WhitePointX attribute by the relationship x = WhitePointX / 65536 (WhitePointX in the range 0 to 65279 inclusive)`,xref:{document:"cluster",section:"3.2.10.1"}}),p({name:"WhitePointY",id:49,type:"uint16",access:"RW VM",conformance:"O",constraint:"0 to 65279",details:`The WhitePointY attribute contains the normalized chromaticity value y, as defined in the CIE xyY
Color Space, of the current white point of the device.
The value of y shall be related to the WhitePointY attribute by the relationship y = WhitePointY / 65536 (WhitePointY in the range 0 to 65279 inclusive)`,xref:{document:"cluster",section:"3.2.10.2"}}),p({name:"ColorPointRx",id:50,type:"uint16",access:"RW VM",conformance:"O",constraint:"0 to 65279",details:`The ColorPointRX attribute contains the normalized chromaticity value x, as defined in the CIE xyY Color Space, of the red color point of the device.
The value of x shall be related to the ColorPointRX attribute by the relationship x = ColorPointRX / 65536 (ColorPointRX in the range 0 to 65279 inclusive)`,xref:{document:"cluster",section:"3.2.10.3"}}),p({name:"ColorPointRy",id:51,type:"uint16",access:"RW VM",conformance:"O",constraint:"0 to 65279",details:`The ColorPointRY attribute contains the normalized chromaticity value y, as defined in the CIE xyY Color Space, of the red color point of the device.
The value of y shall be related to the ColorPointRY attribute by the relationship y = ColorPointRY / 65536 (ColorPointRY in the range 0 to 65279 inclusive)`,xref:{document:"cluster",section:"3.2.10.4"}}),p({name:"ColorPointRIntensity",id:52,type:"uint8",access:"RW VM",conformance:"O",quality:"X",details:`The ColorPointRIntensity attribute contains a representation of the relative intensity of the red color point as defined in the Dimming Light Curve in the Ballast Configuration cluster (see Ballast Configuration Cluster), normalized such that the color point with the highest relative intensity contains the value 0xFE.
A value of null shall indicate an invalid value.`,xref:{document:"cluster",section:"3.2.10.5"}}),p({name:"ColorPointGx",id:54,type:"uint16",access:"RW VM",conformance:"O",constraint:"0 to 65279",xref:{document:"cluster",section:"3.2.10"}}),p({name:"ColorPointGy",id:55,type:"uint16",access:"RW VM",conformance:"O",constraint:"0 to 65279",xref:{document:"cluster",section:"3.2.10"}}),p({name:"ColorPointGIntensity",id:56,type:"uint8",access:"RW VM",conformance:"O",quality:"X",xref:{document:"cluster",section:"3.2.10"}}),p({name:"ColorPointBx",id:58,type:"uint16",access:"RW VM",conformance:"O",constraint:"0 to 65279",xref:{document:"cluster",section:"3.2.10"}}),p({name:"ColorPointBy",id:59,type:"uint16",access:"RW VM",conformance:"O",constraint:"0 to 65279",xref:{document:"cluster",section:"3.2.10"}}),p({name:"ColorPointBIntensity",id:60,type:"uint8",access:"RW VM",conformance:"O",quality:"X",xref:{document:"cluster",section:"3.2.10"}}),U({name:"MoveToHue",id:0,access:"O",conformance:"HS",direction:"request",response:"status",xref:{document:"cluster",section:"3.2.11.4"},children:[o({name:"Hue",id:0,type:"uint8",conformance:"M",constraint:"0 to 254",details:"The Hue field specifies the hue to be moved to.",xref:{document:"cluster",section:"3.2.11.4.1"}}),o({name:"Direction",id:1,type:"Direction",conformance:"M",constraint:"desc",details:`The Direction field shall be one of the non-reserved values in Values of the Direction Field.
### Table 17. Values of the Direction Field`,xref:{document:"cluster",section:"3.2.11.4.2"}}),o({name:"TransitionTime",id:2,type:"uint16",conformance:"M",constraint:"0 to 65534",details:"The TransitionTime field specifies, in 1/10ths of a second, the time that shall be taken to move to the new hue.",xref:{document:"cluster",section:"3.2.11.4.3"}}),o({name:"OptionsMask",id:3,type:"Options",conformance:"M",constraint:"desc",default:0}),o({name:"OptionsOverride",id:4,type:"Options",conformance:"M",constraint:"desc",default:0})]}),U({name:"MoveHue",id:1,access:"O",conformance:"HS",direction:"request",response:"status",xref:{document:"cluster",section:"3.2.11.5"},children:[o({name:"MoveMode",id:0,type:"MoveMode",conformance:"M",constraint:"desc",details:`The MoveMode field shall be one of the non-reserved values in Values of the MoveMode Field. If the MoveMode field is equal to 0 (Stop), the Rate field shall be ignored.
### Table 18. Values of the MoveMode Field`,xref:{document:"cluster",section:"3.2.11.5.1"}}),o({name:"Rate",id:1,type:"uint8",conformance:"M",details:"The Rate field specifies the rate of movement in steps per second. A step is a change in the device\u2019s hue of one unit. If the MoveMode field is set to 1 (up) or 3 (down) and the Rate field has a value of zero, the command has no effect and a response command shall be sent in response, with the status code set to INVALID_COMMAND. If the MoveMode field is set to 0 (stop) the Rate field shall be ignored.",xref:{document:"cluster",section:"3.2.11.5.2"}}),o({name:"OptionsMask",id:2,type:"Options",conformance:"M",constraint:"desc",default:0}),o({name:"OptionsOverride",id:3,type:"Options",conformance:"M",constraint:"desc",default:0})]}),U({name:"StepHue",id:2,access:"O",conformance:"HS",direction:"request",response:"status",xref:{document:"cluster",section:"3.2.11.6"},children:[o({name:"StepMode",id:0,type:"StepMode",conformance:"M",constraint:"desc",details:`The StepMode field shall be one of the non-reserved values in Values of the StepMode Field.
### Table 20. Values of the StepMode Field`,xref:{document:"cluster",section:"3.2.11.6.1"}}),o({name:"StepSize",id:1,type:"uint8",conformance:"M",details:"The change to be added to (or subtracted from) the current value of the device\u2019s hue.",xref:{document:"cluster",section:"3.2.11.6.2"}}),o({name:"TransitionTime",id:2,type:"uint8",conformance:"M",details:`The TransitionTime field specifies, in 1/10ths of a second, the time that shall be taken to perform the step. A step is a change in the device\u2019s hue of \u2018Step size\u2019 units.
NOTE
Here the TransitionTime data field is of data type uint8, where uint16 is more common for TransitionTime data fields in other clusters / commands.`,xref:{document:"cluster",section:"3.2.11.6.3"}}),o({name:"OptionsMask",id:3,type:"Options",conformance:"M",constraint:"desc",default:0}),o({name:"OptionsOverride",id:4,type:"Options",conformance:"M",constraint:"desc",default:0})]}),U({name:"MoveToSaturation",id:3,access:"O",conformance:"HS",direction:"request",response:"status",xref:{document:"cluster",section:"3.2.11.7"},children:[o({name:"Saturation",id:0,type:"uint8",conformance:"M",constraint:"0 to 254"}),o({name:"TransitionTime",id:1,type:"uint16",conformance:"M",constraint:"0 to 65534"}),o({name:"OptionsMask",id:2,type:"Options",conformance:"M",constraint:"desc",default:0}),o({name:"OptionsOverride",id:3,type:"Options",conformance:"M",constraint:"desc",default:0})]}),U({name:"MoveSaturation",id:4,access:"O",conformance:"HS",direction:"request",response:"status",xref:{document:"cluster",section:"3.2.11.8"},children:[o({name:"MoveMode",id:0,type:"MoveMode",conformance:"M",constraint:"desc",details:`The MoveMode field shall be one of the non-reserved values in Values of the MoveMode Field. If the MoveMode field is equal to 0 (Stop), the Rate field shall be ignored.
### Table 22. Values of the MoveMode Field`,xref:{document:"cluster",section:"3.2.11.8.1"}}),o({name:"Rate",id:1,type:"uint8",conformance:"M",details:"The Rate field specifies the rate of movement in steps per second. A step is a change in the device\u2019s saturation of one unit. If the MoveMode field is set to 1 (up) or 3 (down) and the Rate field has a value of zero, the command has no effect and a response command shall be sent in response, with the status code set to INVALID_COMMAND. If the MoveMode field is set to 0 (stop) the Rate field shall be ignored.",xref:{document:"cluster",section:"3.2.11.8.2"}}),o({name:"OptionsMask",id:2,type:"Options",conformance:"M",constraint:"desc",default:0}),o({name:"OptionsOverride",id:3,type:"Options",conformance:"M",constraint:"desc",default:0})]}),U({name:"StepSaturation",id:5,access:"O",conformance:"HS",direction:"request",response:"status",xref:{document:"cluster",section:"3.2.11.9"},children:[o({name:"StepMode",id:0,type:"StepMode",conformance:"M",constraint:"desc",details:`The StepMode field shall be one of the non-reserved values in Values of the StepMode Field.
### Table 24. Values of the StepMode Field`,xref:{document:"cluster",section:"3.2.11.9.1"}}),o({name:"StepSize",id:1,type:"uint8",conformance:"M",details:"The change to be added to (or subtracted from) the current value of the device\u2019s saturation.",xref:{document:"cluster",section:"3.2.11.9.2"}}),o({name:"TransitionTime",id:2,type:"uint8",conformance:"M",details:`The TransitionTime field specifies, in 1/10ths of a second, the time that shall be taken to perform the step. A step is a change in the device\u2019s saturation of \u2018Step size\u2019 units.
NOTE
Here the TransitionTime data field is of data type uint8, where uint16 is more common for TransitionTime data fields in other clusters / commands.`,xref:{document:"cluster",section:"3.2.11.9.3"}}),o({name:"OptionsMask",id:3,type:"Options",conformance:"M",constraint:"desc",default:0}),o({name:"OptionsOverride",id:4,type:"Options",conformance:"M",constraint:"desc",default:0})]}),U({name:"MoveToHueAndSaturation",id:6,access:"O",conformance:"HS",direction:"request",response:"status",xref:{document:"cluster",section:"3.2.11.10"},children:[o({name:"Hue",id:0,type:"uint8",conformance:"M",constraint:"0 to 254"}),o({name:"Saturation",id:1,type:"uint8",conformance:"M",constraint:"0 to 254"}),o({name:"TransitionTime",id:2,type:"uint16",conformance:"M",constraint:"0 to 65534"}),o({name:"OptionsMask",id:3,type:"Options",conformance:"M",constraint:"desc",default:0}),o({name:"OptionsOverride",id:4,type:"Options",conformance:"M",constraint:"desc",default:0})]}),U({name:"MoveToColor",id:7,access:"O",conformance:"XY",direction:"request",response:"status",xref:{document:"cluster",section:"3.2.11.11"},children:[o({name:"ColorX",id:0,type:"uint16",conformance:"M",constraint:"0 to 65279"}),o({name:"ColorY",id:1,type:"uint16",conformance:"M",constraint:"0 to 65279"}),o({name:"TransitionTime",id:2,type:"uint16",conformance:"M",constraint:"0 to 65534"}),o({name:"OptionsMask",id:3,type:"Options",conformance:"M",constraint:"desc",default:0}),o({name:"OptionsOverride",id:4,type:"Options",conformance:"M",constraint:"desc",default:0})]}),U({name:"MoveColor",id:8,access:"O",conformance:"XY",direction:"request",response:"status",xref:{document:"cluster",section:"3.2.11.12"},children:[o({name:"RateX",id:0,type:"int16",conformance:"M",details:"The RateX field specifies the rate of movement in steps per second. A step is a change in the device\u2019s CurrentX attribute of one unit.",xref:{document:"cluster",section:"3.2.11.12.1"}}),o({name:"RateY",id:1,type:"int16",conformance:"M",details:"The RateY field specifies the rate of movement in steps per second. A step is a change in the device\u2019s CurrentY attribute of one unit.",xref:{document:"cluster",section:"3.2.11.12.2"}}),o({name:"OptionsMask",id:2,type:"Options",conformance:"M",constraint:"desc",default:0}),o({name:"OptionsOverride",id:3,type:"Options",conformance:"M",constraint:"desc",default:0})]}),U({name:"StepColor",id:9,access:"O",conformance:"XY",direction:"request",response:"status",xref:{document:"cluster",section:"3.2.11.13"},children:[o({name:"StepX",id:0,type:"int16",conformance:"M"}),o({name:"StepY",id:1,type:"int16",conformance:"M"}),o({name:"TransitionTime",id:2,type:"uint16",conformance:"M",constraint:"0 to 65534",details:"The TransitionTime field specifies, in 1/10ths of a second, the time that shall be taken to perform the color change.",xref:{document:"cluster",section:"3.2.11.13.2"}}),o({name:"OptionsMask",id:3,type:"Options",conformance:"M",constraint:"desc",default:0}),o({name:"OptionsOverride",id:4,type:"Options",conformance:"M",constraint:"desc",default:0})]}),U({name:"MoveToColorTemperature",id:10,access:"O",conformance:"CT",direction:"request",response:"status",xref:{document:"cluster",section:"3.2.11.14"},children:[o({name:"ColorTemperatureMireds",id:0,type:"uint16",conformance:"M",constraint:"0 to 65279"}),o({name:"TransitionTime",id:1,type:"uint16",conformance:"M",constraint:"0 to 65534"}),o({name:"OptionsMask",id:2,type:"Options",conformance:"M",constraint:"desc",default:0}),o({name:"OptionsOverride",id:3,type:"Options",conformance:"M",constraint:"desc",default:0})]}),U({name:"EnhancedMoveToHue",id:64,access:"O",conformance:"EHUE",direction:"request",response:"status",details:"The EnhancedMoveToHue command allows lamps to be moved in a smooth continuous transition from their current hue to a target hue.",xref:{document:"cluster",section:"3.2.11.15"},children:[o({name:"EnhancedHue",id:0,type:"uint16",conformance:"M",details:"The EnhancedHue field specifies the target extended hue for the lamp.",xref:{document:"cluster",section:"3.2.11.15.1"}}),o({name:"Direction",id:1,type:"Direction",conformance:"M",constraint:"desc",details:"This field is identical to the Direction field of the MoveToHue command of the Color Control cluster (see sub-clause Use of the OptionsMask and OptionsOverride fields).",xref:{document:"cluster",section:"3.2.11.15.2"}}),o({name:"TransitionTime",id:2,type:"uint16",conformance:"M",constraint:"0 to 65534",details:"This field is identical to the TransitionTime field of the MoveToHue command of the Color Control cluster (see sub-clause Use of the OptionsMask and OptionsOverride fields).",xref:{document:"cluster",section:"3.2.11.15.3"}}),o({name:"OptionsMask",id:3,type:"Options",conformance:"M",constraint:"desc",default:0}),o({name:"OptionsOverride",id:4,type:"Options",conformance:"M",constraint:"desc",default:0})]}),U({name:"EnhancedMoveHue",id:65,access:"O",conformance:"EHUE",direction:"request",response:"status",details:"The EnhancedMoveHue command allows lamps to be moved in a continuous stepped transition from their current hue to a target hue.",xref:{document:"cluster",section:"3.2.11.16"},children:[o({name:"MoveMode",id:0,type:"MoveMode",conformance:"M",constraint:"desc",details:"This field is identical to the MoveMode field of the MoveHue command of the Color Control cluster (see sub-clause MoveHue Command). If the MoveMode field is equal to 0 (Stop), the Rate field shall be ignored.",xref:{document:"cluster",section:"3.2.11.16.1"}}),o({name:"Rate",id:1,type:"uint16",conformance:"M",details:"The Rate field specifies the rate of movement in steps per second. A step is a change in the extended hue of a device by one unit. If the MoveMode field is set to 1 (up) or 3 (down) and the Rate field has a value of zero, the command has no effect and a response command shall be sent in response, with the status code set to INVALID_COMMAND. If the MoveMode field is set to 0 (stop) the Rate field shall be ignored.",xref:{document:"cluster",section:"3.2.11.16.2"}}),o({name:"OptionsMask",id:2,type:"Options",conformance:"M",constraint:"desc",default:0}),o({name:"OptionsOverride",id:3,type:"Options",conformance:"M",constraint:"desc",default:0})]}),U({name:"EnhancedStepHue",id:66,access:"O",conformance:"EHUE",direction:"request",response:"status",details:"The EnhancedStepHue command allows lamps to be moved in a stepped transition from their current hue to a target hue, resulting in a linear transition through XY space.",xref:{document:"cluster",section:"3.2.11.17"},children:[o({name:"StepMode",id:0,type:"StepMode",conformance:"M",constraint:"desc",details:"This field is identical to the StepMode field of the StepHue command of the Color Control cluster (see sub-clause StepHue Command).",xref:{document:"cluster",section:"3.2.11.17.1"}}),o({name:"StepSize",id:1,type:"uint16",conformance:"M",details:"The StepSize field specifies the change to be added to (or subtracted from) the current value of the device\u2019s enhanced hue.",xref:{document:"cluster",section:"3.2.11.17.2"}}),o({name:"TransitionTime",id:2,type:"uint16",conformance:"M",constraint:"0 to 65534",details:`The TransitionTime field specifies, in units of 1/10ths of a second, the time that shall be taken to perform the step. A step is a change to the device\u2019s enhanced hue of a magnitude corresponding to the StepSize field.
NOTE
Here TransitionTime data field is of data type uint16, while the TransitionTime data field of the StepHue command is of data type uint8.`,xref:{document:"cluster",section:"3.2.11.17.3"}}),o({name:"OptionsMask",id:3,type:"Options",conformance:"M",constraint:"desc",default:0}),o({name:"OptionsOverride",id:4,type:"Options",conformance:"M",constraint:"desc",default:0})]}),U({name:"EnhancedMoveToHueAndSaturation",id:67,access:"O",conformance:"EHUE",direction:"request",response:"status",details:"The EnhancedMoveToHueAndSaturation command allows lamps to be moved in a smooth continuous transition from their current hue to a target hue and from their current saturation to a target saturation.",xref:{document:"cluster",section:"3.2.11.18"},children:[o({name:"EnhancedHue",id:0,type:"uint16",conformance:"M",details:"The EnhancedHue field specifies the target extended hue for the lamp.",xref:{document:"cluster",section:"3.2.11.18.1"}}),o({name:"Saturation",id:1,type:"uint8",conformance:"M",constraint:"0 to 254",details:"This field is identical to the Saturation field of the MoveToHueAndSaturation command of the Color Control cluster (see sub-clause MoveToHueAndSaturation Command).",xref:{document:"cluster",section:"3.2.11.18.2"}}),o({name:"TransitionTime",id:2,type:"uint16",conformance:"M",constraint:"0 to 65534",details:"This field is identical to the TransitionTime field of the MoveToHue command of the Color Control cluster (see sub-clause MoveToHueAndSaturation Command).",xref:{document:"cluster",section:"3.2.11.18.3"}}),o({name:"OptionsMask",id:3,type:"Options",conformance:"M",constraint:"desc",default:0}),o({name:"OptionsOverride",id:4,type:"Options",conformance:"M",constraint:"desc",default:0})]}),U({name:"ColorLoopSet",id:68,access:"O",conformance:"CL",direction:"request",response:"status",details:"The Color Loop Set command allows a color loop to be activated such that the color lamp cycles through its range of hues.",xref:{document:"cluster",section:"3.2.11.19"},children:[o({name:"UpdateFlags",id:0,type:"map8",conformance:"M",constraint:"desc",details:`The UpdateFlags field specifies which color loop attributes to update before the color loop is started. This field shall be formatted as illustrated in Format of the UpdateFlags Field of the ColorLoopSet Command.
### Table 28. Format of the UpdateFlags Field of the ColorLoopSet Command
The UpdateAction sub-field is 1 bit in length and specifies whether the device shall adhere to the action field in order to process the command. If this sub-field is set to 1, the device shall adhere to the action field. If this sub-field is set to 0, the device shall ignore the Action field.
The UpdateDirection sub-field is 1 bit in length and specifies whether the device shall update the ColorLoopDirection attribute with the Direction field. If this sub-field is set to 1, the device shall update the value of the ColorLoopDirection attribute with the value of the Direction field. If this sub-field is set to 0, the device shall ignore the Direction field.
The UpdateTime sub-field is 1 bit in length and specifies whether the device shall update the ColorLoopTime attribute with the Time field. If this sub-field is set to 1, the device shall update the value of the ColorLoopTime attribute with the value of the Time field. If this sub-field is set to 0, the device shall ignore the Time field.
The UpdateStartHue sub-field is 1 bit in length and specifies whether the device shall update the ColorLoopStartEnhancedHue attribute with the StartHue field. If this sub-field is set to 1, the device shall update the value of the ColorLoopStartEnhancedHue attribute with the value of the StartHue field. If this sub-field is set to 0, the device shall ignore the StartHue field.`,xref:{document:"cluster",section:"3.2.11.19.1"},children:[o({name:"UpdateAction",constraint:"0"}),o({name:"UpdateDirection",constraint:"1"}),o({name:"UpdateTime",constraint:"2"}),o({name:"UpdateStartHue",constraint:"3"}),o({name:"Reserved",constraint:"4 to 8"})]}),o({name:"Action",id:1,type:"enum8",conformance:"M",constraint:"desc",details:`The Action field specifies the action to take for the color loop if the UpdateAction sub-field of the UpdateFlags field is set to 1. This field shall be set to one of the non-reserved values listed in Values of the Action Field of the ColorLoopSet Command.
### Table 29. Values of the Action Field of the ColorLoopSet Command`,xref:{document:"cluster",section:"3.2.11.19.2"},children:[o({name:"DeActivateTheColorLoop",id:0}),o({name:"ActivateTheColorLoopFromTheValueInTheColorLoopStartEnhancedHueField",id:1}),o({name:"ActivateTheColorLoopFromTheValueOfTheEnhancedCurrentHueAttribute",id:2})]}),o({name:"Direction",id:2,type:"enum8",conformance:"M",constraint:"desc",details:`The Direction field specifies the direction for the color loop if the Update Direction field of the UpdateFlags field is set to 1. This field shall be set to one of the non-reserved values listed in Values of the Direction Field of the ColorLoopSet Command.
### Table 30. Values of the Direction Field of the ColorLoopSet Command`,xref:{document:"cluster",section:"3.2.11.19.3"},children:[o({name:"DecrementTheHueInTheColorLoop",id:0}),o({name:"IncrementTheHueInTheColorLoop",id:1})]}),o({name:"Time",id:3,type:"uint16",conformance:"M",details:"The Time field specifies the number of seconds over which to perform a full color loop if the UpdateTime sub-field of the UpdateFlags field is set to 1.",xref:{document:"cluster",section:"3.2.11.19.4"}}),o({name:"StartHue",id:4,type:"uint16",conformance:"M"}),o({name:"OptionsMask",id:5,type:"Options",conformance:"M",constraint:"desc",default:0}),o({name:"OptionsOverride",id:6,type:"Options",conformance:"M",constraint:"desc",default:0})]}),U({name:"StopMoveStep",id:71,access:"O",conformance:"HS | XY | CT",direction:"request",response:"status",details:`The StopMoveStep command is provided to allow MoveTo and Step commands to be stopped. (Note this automatically provides symmetry to the Level Control cluster.)
NOTE the StopMoveStep command has no effect on an active color loop.`,xref:{document:"cluster",section:"3.2.11.20"},children:[o({name:"OptionsMask",id:0,type:"Options",conformance:"M",constraint:"desc",default:0}),o({name:"OptionsOverride",id:1,type:"Options",conformance:"M",constraint:"desc",default:0})]}),U({name:"MoveColorTemperature",id:75,access:"O",conformance:"CT",direction:"request",response:"status",details:"The MoveColorTemperature command allows the color temperature of a lamp to be moved at a specified rate.",xref:{document:"cluster",section:"3.2.11.21"},children:[o({name:"MoveMode",id:0,type:"MoveMode",conformance:"M",constraint:"desc",details:"This field is identical to the MoveMode field of the MoveHue command of the Color Control cluster (see sub-clause MoveHue Command). If the MoveMode field is equal to 0 (Stop), the Rate field shall be ignored.",xref:{document:"cluster",section:"3.2.11.21.1"}}),o({name:"Rate",id:1,type:"uint16",conformance:"M",details:"The Rate field specifies the rate of movement in steps per second. A step is a change in the color temperature of a device by one unit. If the MoveMode field is set to 1 (up) or 3 (down) and the Rate field has a value of zero, the command has no effect and a response command shall be sent in response, with the status code set to INVALID_COMMAND. If the MoveMode field is set to 0 (stop) the Rate field shall be ignored.",xref:{document:"cluster",section:"3.2.11.21.2"}}),o({name:"ColorTemperatureMinimumMireds",id:2,type:"uint16",conformance:"M",constraint:"0 to 65279",details:`The ColorTemperatureMinimumMireds field specifies a lower bound on the ColorTemperatureMireds attribute (\u2261 an upper bound on the color temperature in kelvins) for the current move operation
ColorTempPhysicalMinMireds <= ColorTemperatureMinimumMireds field <= ColorTemperatureMireds
As such if the move operation takes the ColorTemperatureMireds attribute towards the value of the ColorTemperatureMinimumMireds field it shall be clipped so that the above invariant is satisfied. If the ColorTemperatureMinimumMireds field is set to 0, ColorTempPhysicalMinMireds shall be used as the lower bound for the ColorTemperatureMireds attribute.`,xref:{document:"cluster",section:"3.2.11.21.3"}}),o({name:"ColorTemperatureMaximumMireds",id:3,type:"uint16",conformance:"M",constraint:"0 to 65279",details:`The ColorTemperatureMaximumMireds field specifies an upper bound on the ColorTemperatureMireds attribute (\u2261 a lower bound on the color temperature in kelvins) for the current move operation
ColorTemperatureMireds <= ColorTemperatureMaximumMireds field <= ColorTempPhysicalMaxMireds
As such if the move operation takes the ColorTemperatureMireds attribute towards the value of the ColorTemperatureMaximumMireds field it shall be clipped so that the above invariant is satisfied. If the ColorTemperatureMaximumMireds field is set to 0, ColorTempPhysicalMaxMireds shall be used as the upper bound for the ColorTemperatureMireds attribute.`,xref:{document:"cluster",section:"3.2.11.21.4"}}),o({name:"OptionsMask",id:4,type:"Options",conformance:"M",constraint:"desc",default:0}),o({name:"OptionsOverride",id:5,type:"Options",conformance:"M",constraint:"desc",default:0})]}),U({name:"StepColorTemperature",id:76,access:"O",conformance:"CT",direction:"request",response:"status",details:"The StepColorTemperature command allows the color temperature of a lamp to be stepped with a specified step size.",xref:{document:"cluster",section:"3.2.11.22"},children:[o({name:"StepMode",id:0,type:"StepMode",conformance:"M",constraint:"desc",details:"This field is identical to the StepMode field of the StepHue command of the Color Control cluster (see sub-clause StepHue Command).",xref:{document:"cluster",section:"3.2.11.22.1"}}),o({name:"StepSize",id:1,type:"uint16",conformance:"M",details:"The StepSize field specifies the change to be added to (or subtracted from) the current value of the device\u2019s color temperature.",xref:{document:"cluster",section:"3.2.11.22.2"}}),o({name:"TransitionTime",id:2,type:"uint16",conformance:"M",constraint:"0 to 65534",details:"The TransitionTime field specifies, in units of 1/10ths of a second, the time that shall be taken to perform the step. A step is a change to the device\u2019s color temperature of a magnitude corresponding to the StepSize field.",xref:{document:"cluster",section:"3.2.11.22.3"}}),o({name:"ColorTemperatureMinimumMireds",id:3,type:"uint16",conformance:"M",constraint:"0 to 65279",details:`The ColorTemperatureMinimumMireds field specifies a lower bound on the ColorTemperatureMireds attribute (\u2261 an upper bound on the color temperature in kelvins) for the current step operation
ColorTempPhysicalMinMireds <= ColorTemperatureMinimumMireds field <= ColorTemperatureMireds
As such if the step operation takes the ColorTemperatureMireds attribute towards the value of the Color Temperature Minimum Mireds field it shall be clipped so that the above invariant is satisfied. If the ColorTemperatureMinimumMireds field is set to 0, ColorTempPhysicalMinMireds shall be used as the lower bound for the ColorTemperatureMireds attribute.`,xref:{document:"cluster",section:"3.2.11.22.4"}}),o({name:"ColorTemperatureMaximumMireds",id:4,type:"uint16",conformance:"M",constraint:"0 to 65279",details:`The ColorTemperatureMaximumMireds field specifies an upper bound on the ColorTemperatureMireds attribute (\u2261 a lower bound on the color temperature in kelvins) for the current step operation
ColorTemperatureMireds \u2264 ColorTemperatureMaximumMireds field \u2264 ColorTempPhysicalMaxMireds
As such if the step operation takes the ColorTemperatureMireds attribute towards the value of the ColorTemperatureMaximumMireds field it shall be clipped so that the above invariant is satisfied. If the ColorTemperatureMaximum Mireds field is set to 0, ColorTempPhysicalMaxMireds shall be used as the upper bound for the ColorTemperatureMireds attribute.`,xref:{document:"cluster",section:"3.2.11.22.5"}}),o({name:"OptionsMask",id:5,type:"Options",conformance:"M",constraint:"desc",default:0}),o({name:"OptionsOverride",id:6,type:"Options",conformance:"M",constraint:"desc",default:0})]}),C({name:"MoveMode",type:"enum8",xref:{document:"cluster",section:"3.2.11.5.1"},children:[o({name:"Stop",id:0}),o({name:"Up",id:1}),o({name:"Down",id:3})]}),C({name:"StepMode",type:"enum8",xref:{document:"cluster",section:"3.2.11.6.1"},children:[o({name:"Up",id:1}),o({name:"Down",id:3})]}),C({name:"Direction",type:"enum8",xref:{document:"cluster",section:"3.2.11.4.2"},children:[o({name:"ShortestDistance",id:0}),o({name:"LongestDistance",id:1}),o({name:"Up",id:2}),o({name:"Down",id:3})]})]});A.children.push(gT);var vT=ie({name:"BallastConfiguration",id:769,classification:"application",pics:"BC",details:`This cluster is used for configuring a lighting ballast.
NOTE Support for Ballast Configuration cluster is provisional.`,xref:{document:"cluster",section:"3.3"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:4}),p({name:"PhysicalMinLevel",id:0,type:"uint8",access:"R V",conformance:"M",constraint:"1 to 254",default:1,details:"This attribute shall specify the minimum light output the ballast can achieve according to the dimming light curve (see Dimming Curve).",xref:{document:"cluster",section:"3.3.6.1"}}),p({name:"PhysicalMaxLevel",id:1,type:"uint8",access:"R V",conformance:"M",constraint:"1 to 254",default:254,details:"This attribute shall specify the maximum light output the ballast can achieve according to the dimming light curve (see Dimming Curve).",xref:{document:"cluster",section:"3.3.6.2"}}),p({name:"BallastStatus",id:2,type:"BallastStatusBitmap",access:"R V",conformance:"O",default:0,details:"This attribute shall specify the status of various aspects of the ballast or the connected lights, see BallastStatusBitmap.",xref:{document:"cluster",section:"3.3.6.3"}}),p({name:"MinLevel",id:16,type:"uint8",access:"RW VM",conformance:"M",constraint:"physicalMinLevel to maxLevel",default:{type:"reference",name:"PhysicalMinLevel"},details:`This attribute shall specify the light output of the ballast according to the dimming light curve (see Dimming Curve) when the Level Control Cluster\u2019s CurrentLevel attribute equals to 1 (and the On/Off Cluster\u2019s OnOff attribute equals to TRUE).
The value of this attribute shall be both greater than or equal to PhysicalMinLevel and less than or equal to MaxLevel. If an attempt is made to set this attribute to a level where these conditions are not met, a response shall be returned with status code set to CONSTRAINT_ERROR, and the level shall NOT be set.`,xref:{document:"cluster",section:"3.3.6.4"}}),p({name:"MaxLevel",id:17,type:"uint8",access:"RW VM",conformance:"M",constraint:"minLevel to physicalMaxLevel",default:{type:"reference",name:"PhysicalMaxLevel"},details:`This attribute shall specify the light output of the ballast according to the dimming light curve
(see Dimming Curve) when the Level Control Cluster\u2019s CurrentLevel attribute equals to 254 (and the On/Off Cluster\u2019s OnOff attribute equals to TRUE).
The value of this attribute shall be both less than or equal to PhysicalMaxLevel and greater than or equal to MinLevel. If an attempt is made to set this attribute to a level where these conditions are not met, a response shall be returned with status code set to CONSTRAINT_ERROR, and the level shall NOT be set.`,xref:{document:"cluster",section:"3.3.6.5"}}),p({name:"PowerOnLevel",id:18,conformance:"D",xref:{document:"cluster",section:"3.3.6"}}),p({name:"PowerOnFadeTime",id:19,conformance:"D",xref:{document:"cluster",section:"3.3.6"}}),p({name:"IntrinsicBallastFactor",id:20,type:"uint8",access:"RW VM",conformance:"O",quality:"X",details:`This attribute shall specify the ballast factor, as a percentage, of the ballast/lamp combination, prior to any adjustment.
A value of null indicates in invalid value.`,xref:{document:"cluster",section:"3.3.6.6"}}),p({name:"BallastFactorAdjustment",id:21,type:"uint8",access:"RW VM",conformance:"O",constraint:"100 to ms",default:null,quality:"X",details:`This attribute shall specify the multiplication factor, as a percentage, to be applied to the configured light output of the lamps. A typical use for this attribute is to compensate for reduction in efficiency over the lifetime of a lamp.
The light output is given by
actual light output = configured light output x BallastFactorAdjustment / 100%
The range for this attribute is manufacturer dependent. If an attempt is made to set this attribute to a level that cannot be supported, a response shall be returned with status code set to CONSTRAINT_ERROR, and the level shall NOT be changed. The value of null indicates that ballast factor scaling is not in use.`,xref:{document:"cluster",section:"3.3.6.7"}}),p({name:"LampQuantity",id:32,type:"uint8",access:"R V",conformance:"M",details:"This attribute shall specify the number of lamps connected to this ballast. (Note 1: this number does not take into account whether lamps are actually in their sockets or not).",xref:{document:"cluster",section:"3.3.6.8"}}),p({name:"LampType",id:48,type:"string",access:"RW VM",conformance:"O",constraint:"max 16",default:"",details:"This attribute shall specify the type of lamps (including their wattage) connected to the ballast.",xref:{document:"cluster",section:"3.3.6.9"}}),p({name:"LampManufacturer",id:49,type:"string",access:"RW VM",conformance:"O",constraint:"max 16",default:"",details:"This attribute shall specify the name of the manufacturer of the currently connected lamps.",xref:{document:"cluster",section:"3.3.6.10"}}),p({name:"LampRatedHours",id:50,type:"uint24",access:"RW VM",conformance:"O",default:null,quality:"X",details:`This attribute shall specify the number of hours of use the lamps are rated for by the manufacturer.
A value of null indicates an invalid or unknown time.`,xref:{document:"cluster",section:"3.3.6.11"}}),p({name:"LampBurnHours",id:51,type:"uint24",access:"RW VM",conformance:"O",default:0,quality:"X",details:`This attribute shall specify the length of time, in hours, the currently connected lamps have been operated, cumulative since the last re-lamping. Burn hours shall NOT be accumulated if the lamps are off.
This attribute SHOULD be reset to zero (e.g., remotely) when the lamps are changed. If partially used lamps are connected, LampBurnHours SHOULD be updated to reflect the burn hours of the lamps.
A value of null indicates an invalid or unknown time.`,xref:{document:"cluster",section:"3.3.6.12"}}),p({name:"LampAlarmMode",id:52,type:"LampAlarmModeBitmap",access:"RW VM",conformance:"O",default:0,details:`This attribute shall specify which attributes may cause an alarm notification to be generated. Ain each bit position means that its associated attribute is able to generate an alarm.
NOTE All alarms are also logged in the alarm table \u2013 see Alarms cluster.`,xref:{document:"cluster",section:"3.3.6.13"}}),p({name:"LampBurnHoursTripPoint",id:53,type:"uint24",access:"RW VM",conformance:"O",default:null,quality:"X",details:`This attribute shall specify the number of hours the LampBurnHours attribute may reach before an alarm is generated.
If the Alarms cluster is not present on the same device this attribute is not used and thus may be omitted (see Dependencies).
The Alarm Code field included in the generated alarm shall be 0x01.
If this attribute has the value of null, then this alarm shall NOT be generated.`,xref:{document:"cluster",section:"3.3.6.14"}}),C({name:"BallastStatusBitmap",type:"map8",xref:{document:"cluster",section:"3.3.5.1"},children:[o({name:"BallastNonOperational",constraint:"0",description:"Operational state of the ballast.",details:`This bit shall indicate whether the ballast is operational.
  \u2022 0 = The ballast is fully operational
  \u2022 1 = The ballast is not fully operational`,xref:{document:"cluster",section:"3.3.5.1.1"}}),o({name:"LampFailure",constraint:"1",description:"Operational state of the lamps.",details:`This bit shall indicate whether all lamps is operational.
  \u2022 0 = All lamps are operational
  \u2022 1 = One or more lamp is not in its socket or is faulty`,xref:{document:"cluster",section:"3.3.5.1.2"}})]}),C({name:"LampAlarmModeBitmap",type:"map8",xref:{document:"cluster",section:"3.3.5.2"},children:[o({name:"LampBurnHours",constraint:"0",description:"State of LampBurnHours alarm generation",details:"This bit shall indicate that the LampBurnHours attribute may generate an alarm.",xref:{document:"cluster",section:"3.3.5.2.1"}})]})]});A.children.push(vT);var bT=ie({name:"PumpConfigurationAndControl",id:512,classification:"application",pics:"PCC",details:"The Pump Configuration and Control cluster provides an interface for the setup and control of pump devices, and the automatic reporting of pump status information. Note that control of pump speed is not included \u2013 speed is controlled by the On/Off and Level Control clusters.",xref:{document:"cluster",section:"4.2"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:4}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"4.2.4"},children:[o({name:"PRSCONST",conformance:"O.a+",constraint:"0",description:"ConstantPressure",details:"Supports operating in constant pressure mode"}),o({name:"PRSCOMP",conformance:"O.a+",constraint:"1",description:"CompensatedPressure",details:"Supports operating in compensated pressure mode"}),o({name:"FLW",conformance:"O.a+",constraint:"2",description:"ConstantFlow",details:"Supports operating in constant flow mode"}),o({name:"SPD",conformance:"O.a+",constraint:"3",description:"ConstantSpeed",details:"Supports operating in constant speed mode"}),o({name:"TEMP",conformance:"O.a+",constraint:"4",description:"ConstantTemperature",details:"Supports operating in constant temperature mode"}),o({name:"AUTO",conformance:"O",constraint:"5",description:"Automatic",details:"Supports operating in automatic mode"}),o({name:"LOCAL",conformance:"O",constraint:"6",description:"LocalOperation",details:"Supports operating using local settings"})]}),p({name:"MaxPressure",id:0,type:"int16",access:"R V",conformance:"M",default:null,quality:"X F",details:`This attribute specifies the maximum pressure the pump can achieve. It is a physical limit, and does not apply to any specific control mode or operation mode.
Valid range is -3,276.7 kPa to 3,276.7 kPa (steps of 0.1 kPa). Null if the value is invalid.`,xref:{document:"cluster",section:"4.2.7.1"}}),p({name:"MaxSpeed",id:1,type:"uint16",access:"R V",conformance:"M",default:null,quality:"X F",details:`This attribute specifies the maximum speed the pump can achieve. It is a physical limit, and does not apply to any specific control mode or operation mode.
Valid range is 0 to 65,534 RPM (steps of 1 RPM). Null if the value is invalid.`,xref:{document:"cluster",section:"4.2.7.2"}}),p({name:"MaxFlow",id:2,type:"uint16",access:"R V",conformance:"M",default:null,quality:"X F",details:`This attribute specifies the maximum flow the pump can achieve. It is a physical limit, and does not apply to any specific control mode or operation mode.
Valid range is 0 m/h to 6,553.4 m/h (steps of 0.1 m/h). Null if the value is invalid.`,xref:{document:"cluster",section:"4.2.7.3"}}),p({name:"MinConstPressure",id:3,type:"int16",access:"R V",conformance:"PRSCONST, [AUTO]",default:null,quality:"X F",details:`This attribute specifies the minimum pressure the pump can achieve when it is working with the ControlMode attribute set to ConstantPressure.
Valid range is \u20133,276.7 kPa to 3,276.7 kPa (steps of 0.1 kPa). Null if the value is invalid.`,xref:{document:"cluster",section:"4.2.7.4"}}),p({name:"MaxConstPressure",id:4,type:"int16",access:"R V",conformance:"PRSCONST, [AUTO]",default:null,quality:"X F",details:`This attribute specifies the maximum pressure the pump can achieve when it is working with the ControlMode attribute set to ConstantPressure.
Valid range is \u20133,276.7 kPa to 3,276.7 kPa (steps of 0.1 kPa). Null if the value is invalid.`,xref:{document:"cluster",section:"4.2.7.5"}}),p({name:"MinCompPressure",id:5,type:"int16",access:"R V",conformance:"PRSCOMP, [AUTO]",default:null,quality:"X F",details:`This attribute specifies the minimum compensated pressure the pump can achieve when it is working with the ControlMode attribute set to ProportionalPressure.
Valid range is \u20133,276.7 kPa to 3,276.7 kPa (steps of 0.1 kPa). Null if the value is invalid.`,xref:{document:"cluster",section:"4.2.7.6"}}),p({name:"MaxCompPressure",id:6,type:"int16",access:"R V",conformance:"PRSCOMP, [AUTO]",default:null,quality:"X F",details:`This attribute specifies the maximum compensated pressure the pump can achieve when it is working with the ControlMode attribute set to ProportionalPressure.
Valid range is \u20133,276.7 kPa to 3,276.7 kPa (steps of 0.1 kPa). Null if the value is invalid.`,xref:{document:"cluster",section:"4.2.7.7"}}),p({name:"MinConstSpeed",id:7,type:"uint16",access:"R V",conformance:"SPD, [AUTO]",default:null,quality:"X F",details:`This attribute specifies the minimum speed the pump can achieve when it is working with the ControlMode attribute set to ConstantSpeed.
Valid range is 0 to 65,534 RPM (steps of 1 RPM). Null if the value is invalid.`,xref:{document:"cluster",section:"4.2.7.8"}}),p({name:"MaxConstSpeed",id:8,type:"uint16",access:"R V",conformance:"SPD, [AUTO]",default:null,quality:"X F",details:`This attribute specifies the maximum speed the pump can achieve when it is working with the ControlMode attribute set to ConstantSpeed.
Valid range is 0 to 65,534 RPM (steps of 1 RPM). Null if the value is invalid.`,xref:{document:"cluster",section:"4.2.7.9"}}),p({name:"MinConstFlow",id:9,type:"uint16",access:"R V",conformance:"FLW, [AUTO]",default:null,quality:"X F",details:`This attribute specifies the minimum flow the pump can achieve when it is working with the Con
trolMode attribute set to ConstantFlow.
Valid range is 0 m/h to 6,553.4 m/h (steps of 0.1 m/h). Null if the value is invalid.`,xref:{document:"cluster",section:"4.2.7.10"}}),p({name:"MaxConstFlow",id:10,type:"uint16",access:"R V",conformance:"FLW, [AUTO]",default:null,quality:"X F",details:`This attribute specifies the maximum flow the pump can achieve when it is working with the ControlMode attribute set to ConstantFlow.
Valid range is 0 m/h to 6,553.4 m/h (steps of 0.1 m/h). Null if the value is invalid.`,xref:{document:"cluster",section:"4.2.7.11"}}),p({name:"MinConstTemp",id:11,type:"int16",access:"R V",conformance:"TEMP, [AUTO]",constraint:"min -27315",default:null,quality:"X F",details:`This attribute specifies the minimum temperature the pump can maintain in the system when it is working with the ControlMode attribute set to ConstantTemperature.
Valid range is \u2013273.15 \xB0C to 327.67 \xB0C (steps of 0.01 \xB0C). Null if the value is invalid.`,xref:{document:"cluster",section:"4.2.7.12"}}),p({name:"MaxConstTemp",id:12,type:"int16",access:"R V",conformance:"TEMP, [AUTO]",constraint:"min -27315",default:null,quality:"X F",details:`This attribute specifies the maximum temperature the pump can maintain in the system when it is working with the ControlMode attribute set to ConstantTemperature.
MaxConstTemp shall be greater than or equal to MinConstTemp
Valid range is \u2013273.15 \xB0C to 327.67 \xB0C (steps of 0.01 \xB0C). Null if the value is invalid.`,xref:{document:"cluster",section:"4.2.7.13"}}),p({name:"PumpStatus",id:16,type:"PumpStatusBitmap",access:"R V",conformance:"O",constraint:"desc",default:0,quality:"P",details:"This attribute specifies the activity status of the pump functions as listed in PumpStatusBitmap. Where a pump controller function is active, the corresponding bit shall be set to 1. Where a pump controller function is not active, the corresponding bit shall be set to 0.",xref:{document:"cluster",section:"4.2.7.14"}}),p({name:"EffectiveOperationMode",id:17,type:"OperationModeEnum",access:"R V",conformance:"M",constraint:"desc",quality:"N",details:`This attribute specifies current effective operation mode of the pump as defined in OperationModeEnum.
The value of the EffectiveOperationMode attribute is the same as the OperationMode attribute, unless one of the following points are true:
  \u2022 The pump is physically set to run with the local settings
  \u2022 The LocalOverride bit in the PumpStatus attribute is set,
See OperationMode and ControlMode attributes for a detailed description of the operation and control of the pump.`,xref:{document:"cluster",section:"4.2.7.15"}}),p({name:"EffectiveControlMode",id:18,type:"ControlModeEnum",access:"R V",conformance:"M",constraint:"desc",quality:"N",details:`This attribute specifies the current effective control mode of the pump as defined in ControlModeEnum.
This attribute contains the control mode that currently applies to the pump. It will have the value of the ControlMode attribute, unless one of the following points are true:
  \u2022 The ControlMode attribute is set to Automatic. In this case, the value of the     EffectiveControlMode shall match the behavior of the pump.
  \u2022 A remote sensor is used as the sensor for regulation of the pump. In this case,     EffectiveControlMode will display ConstantPressure, ConstantFlow or ConstantTemperature if the     remote sensor is a pressure sensor, a flow sensor or a temperature sensor respectively,     regardless of the value of the ControlMode attribute.
In case the ControlMode attribute is not included on the device and no remote sensors are connected, the value of the EffectiveControlMode shall match the vendor-specific behavior of the pump.
See OperationMode and ControlMode attributes for detailed a description of the operation and control of the pump.`,xref:{document:"cluster",section:"4.2.7.16"}}),p({name:"Capacity",id:19,type:"int16",access:"R V",conformance:"M",default:null,quality:"X P",details:`This attribute specifies the actual capacity of the pump as a percentage of the effective maximum setpoint value. It is updated dynamically as the speed of the pump changes.
If the value is not available (the measurement or estimation of the speed is done in the pump), this attribute will indicate the null value.
Valid range is 0 % to 163.835% (0.005 % granularity). Although this attribute is a signed value, values of capacity less than zero have no physical meaning.`,xref:{document:"cluster",section:"4.2.7.17"}}),p({name:"Speed",id:20,type:"uint16",access:"R V",conformance:"O",default:null,quality:"X",details:`This attribute specifies the actual speed of the pump measured in RPM. It is updated dynamically as the speed of the pump changes.
If the value is not available (the measurement or estimation of the speed is done in the pump), this attribute will indicate the null value.
Valid range is 0 to 65.534 RPM.`,xref:{document:"cluster",section:"4.2.7.18"}}),p({name:"LifetimeRunningHours",id:21,type:"uint24",access:"RW VM",conformance:"O",default:0,quality:"X N",details:`This attribute specifies the accumulated number of hours that the pump has been powered and the motor has been running. It is updated dynamically as it increases. It is preserved over power cycles of the pump. If LifeTimeRunningHours rises above maximum value it \u201Crolls over\u201D and starts at 0 (zero).
This attribute is writeable, in order to allow setting to an appropriate value after maintenance. If
the value is not available, this attribute will indicate the null value. Valid range is 0 to 16,777,214 hrs.`,xref:{document:"cluster",section:"4.2.7.19"}}),p({name:"Power",id:22,type:"uint24",access:"R V",conformance:"O",default:null,quality:"X",details:`This attribute specifies the actual power consumption of the pump in Watts. The value of this attribute is updated dynamically as the power consumption of the pump changes.
This attribute is read only. If the value is not available (the measurement of power consumption is not done in the pump), this attribute will indicate the null value.
Valid range is 0 to 16,777,214 Watts.`,xref:{document:"cluster",section:"4.2.7.20"}}),p({name:"LifetimeEnergyConsumed",id:23,type:"uint32",access:"RW VM",conformance:"O",default:0,quality:"X N",details:`This attribute specifies the accumulated energy consumption of the pump through the entire lifetime of the pump in kWh. The value of the LifetimeEnergyConsumed attribute is updated dynamically as the energy consumption of the pump increases. If LifetimeEnergyConsumed rises above maximum value it \u201Crolls over\u201D and starts at 0 (zero).
This attribute is writeable, in order to allow setting to an appropriate value after maintenance.
Valid range is 0 kWh to 4,294,967,294 kWh.
Null if the value is unknown.`,xref:{document:"cluster",section:"4.2.7.21"}}),p({name:"OperationMode",id:32,type:"OperationModeEnum",access:"RW VM",conformance:"M",constraint:"desc",default:0,quality:"N",details:`This attribute specifies the operation mode of the pump as defined in OperationModeEnum.
The actual operating mode of the pump is a result of the setting of the attributes OperationMode, ControlMode and the optional connection of a remote sensor. The operation and control is prioritized as shown in the scheme below:
Priority Scheme of Pump Operation and Control
If this attribute is Maximum, Minimum or Local, the OperationMode attribute decides how the pump is operated.
If this attribute is Normal and a remote sensor is connected to the pump, the type of the remote sensor decides the control mode of the pump. A connected remote pressure sensor will make the pump run in control mode Constant pressure and vice versa for flow and temperature type sensors. This is regardless of the setting of the ControlMode attribute.
If this attribute is Normal and no remote sensor is connected, the control mode of the pump is decided by the ControlMode attribute.
OperationMode may be changed at any time, even when the pump is running. The behavior of the pump at the point of changing the value of this attribute is vendor-specific.
In the case a device does not support a specific operation mode, the write interaction to this attribute with an unsupported operation mode value shall be ignored and a response containing the status of CONSTRAINT_ERROR shall be returned.`,xref:{document:"cluster",section:"4.2.7.22"}}),p({name:"ControlMode",id:33,type:"ControlModeEnum",access:"RW VM",conformance:"O",constraint:"desc",default:0,quality:"N",details:`This attribute specifies the control mode of the pump as defined in ControlModeEnum.
See the OperationMode attribute for a detailed description of the operation and control of the
pump.
ControlMode may be changed at any time, even when the pump is running. The behavior of the pump at the point of changing is vendor-specific.
In the case a device does not support a specific control mode, the write interaction to this attribute with an unsupported control mode value shall be ignored and a response containing the status of CONSTRAINT_ERROR shall be returned.`,xref:{document:"cluster",section:"4.2.7.23"}}),p({name:"AlarmMask",id:29,type:"map16",access:"R V",conformance:"D",constraint:"desc",default:0,quality:"N",xref:{document:"cluster",section:"4.2.7"},children:[o({name:"InitializationFailure",constraint:"0",details:"The device failed to complete initialization at powerup"}),o({name:"HardwareFailure",constraint:"1",details:"The device has detected a hardware fault"}),o({name:"SelfCalibrationFailure",constraint:"2",details:"The device was unable to complete self calibration"})]}),Se({name:"SupplyVoltageLow",id:0,access:"V",conformance:"O",priority:"info",xref:{document:"cluster",section:"4.2.8"}}),Se({name:"SupplyVoltageHigh",id:1,access:"V",conformance:"O",priority:"info",xref:{document:"cluster",section:"4.2.8"}}),Se({name:"PowerMissingPhase",id:2,access:"V",conformance:"O",priority:"info",xref:{document:"cluster",section:"4.2.8"}}),Se({name:"SystemPressureLow",id:3,access:"V",conformance:"O",priority:"info",xref:{document:"cluster",section:"4.2.8"}}),Se({name:"SystemPressureHigh",id:4,access:"V",conformance:"O",priority:"info",xref:{document:"cluster",section:"4.2.8"}}),Se({name:"DryRunning",id:5,access:"V",conformance:"O",priority:"critical",xref:{document:"cluster",section:"4.2.8"}}),Se({name:"MotorTemperatureHigh",id:6,access:"V",conformance:"O",priority:"info",xref:{document:"cluster",section:"4.2.8"}}),Se({name:"PumpMotorFatalFailure",id:7,access:"V",conformance:"O",priority:"critical",xref:{document:"cluster",section:"4.2.8"}}),Se({name:"ElectronicTemperatureHigh",id:8,access:"V",conformance:"O",priority:"info",xref:{document:"cluster",section:"4.2.8"}}),Se({name:"PumpBlocked",id:9,access:"V",conformance:"O",priority:"critical",xref:{document:"cluster",section:"4.2.8"}}),Se({name:"SensorFailure",id:10,access:"V",conformance:"O",priority:"info",xref:{document:"cluster",section:"4.2.8"}}),Se({name:"ElectronicNonFatalFailure",id:11,access:"V",conformance:"O",priority:"info",xref:{document:"cluster",section:"4.2.8"}}),Se({name:"ElectronicFatalFailure",id:12,access:"V",conformance:"O",priority:"critical",xref:{document:"cluster",section:"4.2.8"}}),Se({name:"GeneralFault",id:13,access:"V",conformance:"O",priority:"info",xref:{document:"cluster",section:"4.2.8"}}),Se({name:"Leakage",id:14,access:"V",conformance:"O",priority:"info",xref:{document:"cluster",section:"4.2.8"}}),Se({name:"AirDetection",id:15,access:"V",conformance:"O",priority:"info",xref:{document:"cluster",section:"4.2.8"}}),Se({name:"TurbineOperation",id:16,access:"V",conformance:"O",priority:"info",xref:{document:"cluster",section:"4.2.8"}}),C({name:"PumpStatusBitmap",type:"map16",xref:{document:"cluster",section:"4.2.6.1"},children:[o({name:"DeviceFault",constraint:"0",description:"A fault related to the system or pump device is detected.",details:"If this bit is set, it may correspond to an event in the range 2-16, see Events.",xref:{document:"cluster",section:"4.2.6.1.1"}}),o({name:"SupplyFault",constraint:"1",description:"A fault related to the supply to the pump is detected.",details:"If this bit is set, it may correspond to an event in the range 0-1 or 13, see Events.",xref:{document:"cluster",section:"4.2.6.1.2"}}),o({name:"SpeedLow",constraint:"2",description:"Setpoint is too low to achieve."}),o({name:"SpeedHigh",constraint:"3",description:"Setpoint is too high to achieve."}),o({name:"LocalOverride",constraint:"4",description:"Device control is overridden by hardware, such as an external STOP button or via a local HMI.",details:"While this bit is set, the EffectiveOperationMode is adjusted to Local. Any request changing OperationMode shall generate a FAILURE error status until LocalOverride is cleared on the physical device. When LocalOverride is cleared, the device shall return to the operation mode set in OperationMode.",xref:{document:"cluster",section:"4.2.6.1.3"}}),o({name:"Running",constraint:"5",description:"Pump is currently running"}),o({name:"RemotePressure",constraint:"6",description:"A remote pressure sensor is used as the sensor for the regulation of the pump.",details:"If this bit is set, EffectiveControlMode is ConstantPressure and the setpoint for the pump is interpreted as a percentage of the range of the remote sensor ([MinMeasuredValue \u2013 MaxMeasuredValue]).",xref:{document:"cluster",section:"4.2.6.1.4"}}),o({name:"RemoteFlow",constraint:"7",description:"A remote flow sensor is used as the sensor for the regulation of the pump.",details:"If this bit is set, EffectiveControlMode is ConstantFlow, and the setpoint for the pump is interpreted as a percentage of the range of the remote sensor ([MinMeasuredValue \u2013 MaxMeasuredValue]).",xref:{document:"cluster",section:"4.2.6.1.5"}}),o({name:"RemoteTemperature",constraint:"8",description:"A remote temperature sensor is used as the sensor for the regulation of the pump.",details:"If this bit is set, EffectiveControlMode is ConstantTemperature, and the setpoint for the pump is interpreted as a percentage of the range of the remote sensor ([MinMeasuredValue \u2013 MaxMeasuredValue])",xref:{document:"cluster",section:"4.2.6.1.6"}})]}),C({name:"OperationModeEnum",type:"enum8",xref:{document:"cluster",section:"4.2.6.2"},children:[o({name:"Normal",id:0,conformance:"M",description:"The pump is controlled by a setpoint, as defined by a connected remote sensor or by the ControlMode attribute.",details:"If the pump is running in this operation mode the setpoint is an internal variable which may be controlled between 0% and 100%, e.g., by means of the Level Control cluster",xref:{document:"cluster",section:"4.2.6.2.1"}}),o({name:"Minimum",id:1,conformance:"SPD",description:"This value sets the pump to run at the minimum possible speed it can without being stopped."}),o({name:"Maximum",id:2,conformance:"SPD",description:"This value sets the pump to run at its maximum possible speed."}),o({name:"Local",id:3,conformance:"LOCAL",description:"This value sets the pump to run with the local settings of the pump, regardless of what these are."})]}),C({name:"ControlModeEnum",type:"enum8",xref:{document:"cluster",section:"4.2.6.3"},children:[o({name:"ConstantSpeed",id:0,conformance:"SPD",description:"The pump is running at a constant speed.",details:"The setpoint is interpreted as a percentage of the range derived from the [MinConstSpeed \u2013 MaxConstSpeed] attributes.",xref:{document:"cluster",section:"4.2.6.3.1"}}),o({name:"ConstantPressure",id:1,conformance:"PRSCONST",description:"The pump will regulate its speed to maintain a constant differential pressure over its flanges.",details:"The setpoint is interpreted as a percentage of the range of the sensor used for this control mode. In case of the internal pressure sensor, this will be the range derived from the [MinConstPressure \u2013 MaxConstPressure] attributes. In case of a remote pressure sensor, this will be the range derived from the [MinMeasuredValue \u2013 MaxMeasuredValue] attributes of the remote pressure sensor.",xref:{document:"cluster",section:"4.2.6.3.2"}}),o({name:"ProportionalPressure",id:2,conformance:"PRSCOMP",description:"The pump will regulate its speed to maintain a constant differential pressure over its flanges.",details:"The setpoint is interpreted as a percentage of the range derived of the [MinCompPressure \u2013 MaxCompPressure] attributes. The internal setpoint will be lowered (compensated) dependent on the flow in the pump (lower flow \u21D2 lower internal setpoint).",xref:{document:"cluster",section:"4.2.6.3.3"}}),o({name:"ConstantFlow",id:3,conformance:"FLW",description:"The pump will regulate its speed to maintain a constant flow through the pump.",details:"The setpoint is interpreted as a percentage of the range of the sensor used for this control mode. In case of the internal flow sensor, this will be the range derived from the [MinConstFlow \u2013 MaxConstFlow] attributes. In case of a remote flow sensor, this will be the range derived from the [MinMeasuredValue \u2013 MaxMeasuredValue] attributes of the remote flow sensor.",xref:{document:"cluster",section:"4.2.6.3.4"}}),o({name:"ConstantTemperature",id:5,conformance:"TEMP",description:"The pump will regulate its speed to maintain a constant temperature.",details:"The setpoint is interpreted as a percentage of the range of the sensor used for this control mode. In case of the internal temperature sensor, this will be the range derived from the [MinConstTemp \u2013 MaxConstTemp] attributes. In case of a remote temperature sensor, this will be the range derived from the [MinMeasuredValue \u2013 MaxMeasuredValue] attributes of the remote temperature sensor.",xref:{document:"cluster",section:"4.2.6.3.5"}}),o({name:"Automatic",id:7,conformance:"AUTO",description:"The operation of the pump is automatically optimized to provide the most suitable performance with respect to comfort and energy savings.",details:"This behavior is manufacturer defined. The pump can be stopped by setting the setpoint of the level control cluster to 0, or by using the On/Off cluster. If the pump is started (at any setpoint), the speed of the pump is entirely determined by the pump.",xref:{document:"cluster",section:"4.2.6.3.6"}})]})]});A.children.push(bT);var xT=ie({name:"Thermostat",id:513,asOf:"1.3",classification:"application",pics:"TSTAT",details:"This cluster provides an interface to the functionality of a thermostat.",xref:{document:"cluster",section:"4.3"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:6}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"4.3.4"},children:[o({name:"HEAT",conformance:"AUTO, O.a+",constraint:"0",description:"Heating",details:"Thermostat is capable of managing a heating device"}),o({name:"COOL",conformance:"AUTO, O.a+",constraint:"1",description:"Cooling",details:"Thermostat is capable of managing a cooling device"}),o({name:"OCC",conformance:"O",constraint:"2",description:"Occupancy",details:"Supports Occupied and Unoccupied setpoints"}),o({name:"SCH",conformance:"O",constraint:"3",description:"ScheduleConfiguration",details:"Supports remote configuration of a weekly schedule of setpoint transitions"}),o({name:"SB",conformance:"O",constraint:"4",description:"Setback",details:"Supports configurable setback (or span)"}),o({name:"AUTO",conformance:"O",constraint:"5",description:"AutoMode",details:"Supports a System Mode of Auto"}),o({name:"LTNE",conformance:"O",constraint:"6",description:"LocalTemperatureNotExposed",details:"This feature indicates that the Calculated Local Temperature used internally is unavailable to report externally, for example due to the temperature control being done by a separate subsystem which does not offer a view into the currently measured temperature, but allows setpoints to be provided.",xref:{document:"cluster",section:"4.3.4.1"}})]}),p({name:"LocalTemperature",id:0,type:"temperature",access:"R V",conformance:"M",default:null,quality:"X P",details:`Indicates the current Calculated Local Temperature, when available.
  \u2022 If the LTNE feature is not supported:
    \u25E6 If the LocalTemperatureCalibration is invalid or currently unavailable, the attribute shall       report null.
    \u25E6 If the LocalTemperatureCalibration is valid, the attribute shall report that value.
  \u2022 Otherwise, if the LTNE feature is supported, there is no feedback externally available for the     LocalTemperatureCalibration. In that case, the LocalTemperature attribute shall always report     null.`,xref:{document:"cluster",section:"4.3.9.3"}}),p({name:"OutdoorTemperature",id:1,type:"temperature",access:"R V",conformance:"O",default:null,quality:"X",details:"Indicates the outdoor temperature, as measured locally or remotely (over the network).",xref:{document:"cluster",section:"4.3.9.4"}}),p({name:"Occupancy",id:2,type:"OccupancyBitmap",access:"R V",conformance:"OCC",constraint:"desc",default:1,details:"Indicates whether the heated/cooled space is occupied or not, as measured locally or remotely (over the network).",xref:{document:"cluster",section:"4.3.9.5"}}),p({name:"AbsMinHeatSetpointLimit",id:3,type:"temperature",access:"R V",conformance:"[HEAT]",constraint:"desc",default:{type:"celsius",value:7},quality:"F",xref:{document:"cluster",section:"4.3.9"}}),p({name:"AbsMaxHeatSetpointLimit",id:4,type:"temperature",access:"R V",conformance:"[HEAT]",constraint:"desc",default:{type:"celsius",value:30},quality:"F",xref:{document:"cluster",section:"4.3.9"}}),p({name:"AbsMinCoolSetpointLimit",id:5,type:"temperature",access:"R V",conformance:"[COOL]",constraint:"desc",default:{type:"celsius",value:16},quality:"F",details:`Indicates the absolute minimum level that the cooling setpoint may be set to. This is a limitation imposed by the manufacturer.
Refer to Setpoint Limits for constraints`,xref:{document:"cluster",section:"4.3.9.8"}}),p({name:"AbsMaxCoolSetpointLimit",id:6,type:"temperature",access:"R V",conformance:"[COOL]",constraint:"desc",default:{type:"celsius",value:32},quality:"F",details:`Indicates the absolute maximum level that the cooling setpoint may be set to. This is a limitation imposed by the manufacturer.
Refer to Setpoint Limits for constraints`,xref:{document:"cluster",section:"4.3.9.9"}}),p({name:"PiCoolingDemand",id:7,type:"uint8",access:"R V",conformance:"[COOL]",constraint:"0 to 100",quality:"P",details:`Indicates the level of cooling demanded by the PI (proportional integral) control loop in use by the thermostat (if any), in percent. This value is 0 when the thermostat is in \u201Coff\u201D or \u201Cheating\u201D mode.
This attribute is reported regularly and may be used to control a cooling device.`,xref:{document:"cluster",section:"4.3.9.10"}}),p({name:"PiHeatingDemand",id:8,type:"uint8",access:"R V",conformance:"[HEAT]",constraint:"0 to 100",quality:"P",details:`Indicates the level of heating demanded by the PI loop in percent. This value is 0 when the thermostat is in \u201Coff\u201D or \u201Ccooling\u201D mode.
This attribute is reported regularly and may be used to control a heating device.`,xref:{document:"cluster",section:"4.3.9.11"}}),p({name:"HvacSystemTypeConfiguration",id:9,type:"HVACSystemTypeBitmap",access:"R[W] VM",conformance:"D",constraint:"desc",default:0,quality:"N",details:"Indicates the HVAC system type controlled by the thermostat. If the thermostat uses physical DIP switches to set these parameters, this information shall be available read-only from the DIP switches. If these parameters are set via software, there shall be read/write access in order to provide remote programming capability.",xref:{document:"cluster",section:"4.3.9.12"}}),p({name:"LocalTemperatureCalibration",id:16,type:"SignedTemperature",access:"RW VM",conformance:"[!LTNE]",constraint:"-2.5\xB0C to 2.5\xB0C",default:{type:"celsius",value:0},quality:"N",details:`Indicates the offset the Thermostat server shall make to the measured temperature (locally or remotely) to adjust the Calculated Local Temperature prior to using, displaying or reporting it.
The purpose of this attribute is to adjust the calibration of the Thermostat server per the user\u2019s preferences (e.g., to match if there are multiple servers displaying different values for the same HVAC area) or compensate for variability amongst temperature sensors.
If a Thermostat client attempts to write LocalTemperatureCalibration attribute to an unsupported value (e.g., out of the range supported by the Thermostat server), the Thermostat server shall respond with a status of SUCCESS and set the value of LocalTemperatureCalibration to the upper or lower limit reached.`,xref:{document:"cluster",section:"4.3.9.13"}}),p({name:"OccupiedCoolingSetpoint",id:17,type:"temperature",access:"RW VO",conformance:"COOL",constraint:"desc",default:{type:"celsius",value:26},quality:"N S",details:`Indicates the cooling mode setpoint when the room is occupied.
Refer to Setpoint Limits for constraints. If an attempt is made to set this attribute such that these constraints are violated, a response with the status code CONSTRAINT_ERROR shall be returned.
If the occupancy status of the room is unknown, this attribute shall be used as the cooling mode setpoint.`,xref:{document:"cluster",section:"4.3.9.14"}}),p({name:"OccupiedHeatingSetpoint",id:18,type:"temperature",access:"RW VO",conformance:"HEAT",constraint:"desc",default:{type:"celsius",value:20},quality:"N S",details:`Indicates the heating mode setpoint when the room is occupied.
Refer to Setpoint Limits for constraints. If an attempt is made to set this attribute such that these constraints are violated, a response with the status code CONSTRAINT_ERROR shall be returned.
If the occupancy status of the room is unknown, this attribute shall be used as the heating mode setpoint.`,xref:{document:"cluster",section:"4.3.9.15"}}),p({name:"UnoccupiedCoolingSetpoint",id:19,type:"temperature",access:"RW VO",conformance:"COOL & OCC",constraint:"desc",default:{type:"celsius",value:26},quality:"N",details:`Indicates the cooling mode setpoint when the room is unoccupied.
Refer to Setpoint Limits for constraints. If an attempt is made to set this attribute such that these constraints are violated, a response with the status code CONSTRAINT_ERROR shall be returned.
If the occupancy status of the room is unknown, this attribute shall NOT be used.`,xref:{document:"cluster",section:"4.3.9.16"}}),p({name:"UnoccupiedHeatingSetpoint",id:20,type:"temperature",access:"RW VO",conformance:"HEAT & OCC",constraint:"desc",default:{type:"celsius",value:20},quality:"N",details:`Indicates the heating mode setpoint when the room is unoccupied.
Refer to Setpoint Limits for constraints. If an attempt is made to set this attribute such that these constraints are violated, a response with the status code CONSTRAINT_ERROR shall be returned.
If the occupancy status of the room is unknown, this attribute shall NOT be used.`,xref:{document:"cluster",section:"4.3.9.17"}}),p({name:"MinHeatSetpointLimit",id:21,type:"temperature",access:"RW VM",conformance:"[HEAT]",constraint:"desc",default:{type:"reference",name:"AbsMinHeatSetpointLimit"},quality:"N",details:`Indicates the minimum level that the heating setpoint may be set to.
This attribute, and the following three attributes, allow the user to define setpoint limits more constrictive than the manufacturer imposed ones. Limiting users (e.g., in a commercial building) to such setpoint limits can help conserve power.
Refer to Setpoint Limits for constraints. If an attempt is made to set this attribute to a value which conflicts with setpoint values then those setpoints shall be adjusted by the minimum amount to permit this attribute to be set to the desired value. If an attempt is made to set this attribute to a value which is not consistent with the constraints and cannot be resolved by modifying setpoints then a response with the status code CONSTRAINT_ERROR shall be returned.`,xref:{document:"cluster",section:"4.3.9.18"}}),p({name:"MaxHeatSetpointLimit",id:22,type:"temperature",access:"RW VM",conformance:"[HEAT]",constraint:"desc",default:{type:"reference",name:"AbsMaxHeatSetpointLimit"},quality:"N",details:`Indicates the maximum level that the heating setpoint may be set to.
Refer to Setpoint Limits for constraints. If an attempt is made to set this attribute to a value which conflicts with setpoint values then those setpoints shall be adjusted by the minimum amount to permit this attribute to be set to the desired value. If an attempt is made to set this attribute to a value which is not consistent with the constraints and cannot be resolved by modifying setpoints then a response with the status code CONSTRAINT_ERROR shall be returned.`,xref:{document:"cluster",section:"4.3.9.19"}}),p({name:"MinCoolSetpointLimit",id:23,type:"temperature",access:"RW VM",conformance:"[COOL]",constraint:"desc",default:{type:"reference",name:"AbsMinCoolSetpointLimit"},quality:"N",details:`Indicates the minimum level that the cooling setpoint may be set to.
Refer to Setpoint Limits for constraints. If an attempt is made to set this attribute to a value which conflicts with setpoint values then those setpoints shall be adjusted by the minimum amount to permit this attribute to be set to the desired value. If an attempt is made to set this attribute to a value which is not consistent with the constraints and cannot be resolved by modifying setpoints then a response with the status code CONSTRAINT_ERROR shall be returned.`,xref:{document:"cluster",section:"4.3.9.20"}}),p({name:"MaxCoolSetpointLimit",id:24,type:"temperature",access:"RW VM",conformance:"[COOL]",constraint:"desc",default:{type:"reference",name:"AbsMaxCoolSetpointLimit"},quality:"N",details:`Indicates the maximum level that the cooling setpoint may be set to.
Refer to Setpoint Limits for constraints. If an attempt is made to set this attribute to a value which conflicts with setpoint values then those setpoints shall be adjusted by the minimum amount to permit this attribute to be set to the desired value. If an attempt is made to set this attribute to a value which is not consistent with the constraints and cannot be resolved by modifying setpoints then a response with the status code CONSTRAINT_ERROR shall be returned.`,xref:{document:"cluster",section:"4.3.9.21"}}),p({name:"MinSetpointDeadBand",id:25,type:"SignedTemperature",access:"R[W] VM",conformance:"AUTO",constraint:"0\xB0C to 2.5\xB0C",default:{type:"celsius",value:2},quality:"N",details:`On devices which support the AUTO feature, this attribute shall indicate the minimum difference between the Heat Setpoint and the Cool Setpoint.
Refer to Setpoint Limits for constraints. If an attempt is made to set this attribute to a value which conflicts with setpoint values then those setpoints shall be adjusted by the minimum amount to permit this attribute to be set to the desired value. If an attempt is made to set this attribute to a value which is not consistent with the constraints and cannot be resolved by modifying setpoints then a response with the status code CONSTRAINT_ERROR shall be returned.`,xref:{document:"cluster",section:"4.3.9.22"}}),p({name:"RemoteSensing",id:26,type:"RemoteSensingBitmap",access:"RW VM",conformance:"O",default:0,quality:"N",details:`Indicates when the local temperature, outdoor temperature and occupancy are being sensed by remote networked sensors, rather than internal sensors.
If the LTNE feature is present in the server, the LocalTemperature RemoteSensing bit value shall always report a value of 0.
If the LocalTemperature RemoteSensing bit is written with a value of 1 when the LTNE feature is present, the write shall fail and the server shall report a CONSTRAINT_ERROR.`,xref:{document:"cluster",section:"4.3.9.23"}}),p({name:"ControlSequenceOfOperation",id:27,type:"ControlSequenceOfOperationEnum",access:"RW VM",conformance:"M",constraint:"desc",default:4,quality:"N",details:"Indicates the overall operating environment of the thermostat, and thus the possible system modes that the thermostat can operate in.",xref:{document:"cluster",section:"4.3.9.24"}}),p({name:"SystemMode",id:28,type:"SystemModeEnum",access:"RW VM",conformance:"M",constraint:"desc",default:1,quality:"N S",details:"Indicates the current operating mode of the thermostat. Its value shall be limited by the ControlSequenceOfOperation attribute.",xref:{document:"cluster",section:"4.3.9.25"}}),p({name:"ThermostatRunningMode",id:30,type:"ThermostatRunningModeEnum",access:"R V",conformance:"[AUTO]",constraint:"desc",default:0,details:"Indicates the running mode of the thermostat. This attribute uses the same values as SystemModeEnum but can only be Off, Cool or Heat. This attribute is intended to provide additional information when the thermostat\u2019s system mode is in auto mode.",xref:{document:"cluster",section:"4.3.9.27"}}),p({name:"StartOfWeek",id:32,type:"StartOfWeekEnum",access:"R V",conformance:"SCH",constraint:"desc",quality:"F",details:`Indicates the day of the week that this thermostat considers to be the start of week for weekly setpoint scheduling.
This attribute may be able to be used as the base to determine if the device supports weekly scheduling by reading the attribute. Successful response means that the weekly scheduling is supported.`,xref:{document:"cluster",section:"4.3.9.28"}}),p({name:"NumberOfWeeklyTransitions",id:33,type:"uint8",access:"R V",conformance:"SCH",default:0,quality:"F",details:"Indicates how many weekly schedule transitions the thermostat is capable of handling.",xref:{document:"cluster",section:"4.3.9.29"}}),p({name:"NumberOfDailyTransitions",id:34,type:"uint8",access:"R V",conformance:"SCH",default:0,quality:"F",details:"Indicates how many daily schedule transitions the thermostat is capable of handling.",xref:{document:"cluster",section:"4.3.9.30"}}),p({name:"TemperatureSetpointHold",id:35,type:"TemperatureSetpointHoldEnum",access:"RW VM",conformance:"O",constraint:"desc",default:0,quality:"N",details:"Indicates the temperature hold status on the thermostat. If hold status is on, the thermostat SHOULD maintain the temperature setpoint for the current mode until a system mode change. If hold status is off, the thermostat SHOULD follow the setpoint transitions specified by its internal scheduling program. If the thermostat supports setpoint hold for a specific duration, it SHOULD also implement the TemperatureSetpointHoldDuration attribute.",xref:{document:"cluster",section:"4.3.9.31"}}),p({name:"TemperatureSetpointHoldDuration",id:36,type:"uint16",access:"RW VM",conformance:"O",constraint:"max 1440",default:null,quality:"X N",details:"Indicates the period in minutes for which a setpoint hold is active. Thermostats that support hold for a specified duration SHOULD implement this attribute. The null value indicates the field is unused. All other values are reserved.",xref:{document:"cluster",section:"4.3.9.32"}}),p({name:"ThermostatProgrammingOperationMode",id:37,type:"ProgrammingOperationModeBitmap",access:"RW VM",conformance:"O",constraint:"desc",default:0,quality:"P",details:`Indicates the operational state of the thermostat\u2019s programming. The thermostat shall modify its programming operation when this attribute is modified by a client and update this attribute when its programming operation is modified locally by a user. The thermostat may support more than one active ProgrammingOperationModeBitmap. For example, the thermostat may operate simultaneously in Schedule Programming Mode and Recovery Mode.
Thermostats which contain a schedule may use this attribute to control how that schedule is used, even if they do not support the ScheduleConfiguration feature.
When ScheduleActive is not set, the setpoint is altered only by manual up/down changes at the thermostat or remotely, not by internal schedule programming.
NOTE
Modifying the ScheduleActive bit does not clear or delete previous weekly schedule programming configurations.`,xref:{document:"cluster",section:"4.3.9.33"}}),p({name:"ThermostatRunningState",id:41,type:"RelayStateBitmap",access:"R V",conformance:"O",constraint:"desc",details:"Indicates the current relay state of the heat, cool, and fan relays. Unimplemented outputs shall be treated as if they were Off.",xref:{document:"cluster",section:"4.3.9.34"}}),p({name:"SetpointChangeSource",id:48,type:"SetpointChangeSourceEnum",access:"R V",conformance:"O",constraint:"desc",default:0,details:`Indicates the source of the current active OccupiedCoolingSetpoint or OccupiedHeatingSetpoint (i.e., who or what determined the current setpoint).
This attribute enables service providers to determine whether changes to setpoints were initiated due to occupant comfort, scheduled programming or some other source (e.g., electric utility or other service provider). Because automation services may initiate frequent setpoint changes, this attribute clearly differentiates the source of setpoint changes made at the thermostat.`,xref:{document:"cluster",section:"4.3.9.35"}}),p({name:"SetpointChangeAmount",id:49,type:"TemperatureDifference",access:"R V",conformance:"O",default:null,quality:"X",details:`Indicates the delta between the current active OccupiedCoolingSetpoint or OccupiedHeatingSetpoint and the previous active setpoint. This attribute is meant to accompany the SetpointChangeSource attribute; devices implementing SetpointChangeAmount SHOULD also implement SetpointChangeSource.
The null value indicates that the previous setpoint was unknown.`,xref:{document:"cluster",section:"4.3.9.36"}}),p({name:"SetpointChangeSourceTimestamp",id:50,type:"epoch-s",access:"R V",conformance:"O",default:0,details:"Indicates the time in UTC at which the SetpointChangeAmount attribute change was recorded.",xref:{document:"cluster",section:"4.3.9.37"}}),p({name:"OccupiedSetback",id:52,type:"UnsignedTemperature",access:"RW VM",conformance:"SB",constraint:"occupiedSetbackMin to occupiedSetbackMax",default:null,quality:"X N",details:`Indicates the amount that the Thermostat server will allow the Calculated Local Temperature to float above the OccupiedCoolingSetpoint (i.e., OccupiedCoolingSetpoint + OccupiedSetback) or below the OccupiedHeatingSetpoint setpoint (i.e., OccupiedHeatingSetpoint \u2013 OccupiedSetback) before initiating a state change to bring the temperature back to the user\u2019s desired setpoint. This attribute is sometimes also referred to as the \u201Cspan.\u201D
The purpose of this attribute is to allow remote configuration of the span between the desired setpoint and the measured temperature to help prevent over-cycling and reduce energy bills, though this may result in lower comfort on the part of some users.
The null value indicates the attribute is unused.
If the Thermostat client attempts to write OccupiedSetback to a value greater than OccupiedSetbackMax, the Thermostat server shall set its OccupiedSetback value to OccupiedSetbackMax and shall send a Write Attribute Response command with a Status Code field enumeration of SUCCESS response.
If the Thermostat client attempts to write OccupiedSetback to a value less than OccupiedSetbackMin, the Thermostat server shall set its OccupiedSetback value to OccupiedSetbackMin and shall send a Write Attribute Response command with a Status Code field enumeration of SUCCESS response.`,xref:{document:"cluster",section:"4.3.9.38"}}),p({name:"OccupiedSetbackMin",id:53,type:"UnsignedTemperature",access:"R V",conformance:"SB",constraint:"max occupiedSetbackMax",default:null,quality:"X F",details:`Indicates the minimum value that the Thermostat server will allow the OccupiedSetback attribute to be configured by a user.
The null value indicates the attribute is unused.`,xref:{document:"cluster",section:"4.3.9.39"}}),p({name:"OccupiedSetbackMax",id:54,type:"UnsignedTemperature",access:"R V",conformance:"SB",constraint:"occupiedSetbackMin to 25.4\xB0C",default:null,quality:"X F",details:`Indicates the maximum value that the Thermostat server will allow the OccupiedSetback attribute to be configured by a user.
The null value indicates the attribute is unused.`,xref:{document:"cluster",section:"4.3.9.40"}}),p({name:"UnoccupiedSetback",id:55,type:"UnsignedTemperature",access:"RW VM",conformance:"SB & OCC",constraint:"unoccupiedSetbackMin to unoccupiedSetbackMax",default:null,quality:"X N",details:`Indicates the amount that the Thermostat server will allow the Calculated Local Temperature to float above the UnoccupiedCoolingSetpoint (i.e., UnoccupiedCoolingSetpoint + UnoccupiedSetback) or below the UnoccupiedHeatingSetpoint setpoint (i.e., UnoccupiedHeatingSetpoint - UnoccupiedSetback) before initiating a state change to bring the temperature back to the user\u2019s desired setpoint. This attribute is sometimes also referred to as the \u201Cspan.\u201D
The purpose of this attribute is to allow remote configuration of the span between the desired setpoint and the measured temperature to help prevent over-cycling and reduce energy bills, though this may result in lower comfort on the part of some users.
The null value indicates the attribute is unused.
If the Thermostat client attempts to write UnoccupiedSetback to a value greater than UnoccupiedSetbackMax, the Thermostat server shall set its UnoccupiedSetback value to UnoccupiedSetbackMax and shall send a Write Attribute Response command with a Status Code field enumeration of SUCCESS response.
If the Thermostat client attempts to write UnoccupiedSetback to a value less than UnoccupiedSetbackMin, the Thermostat server shall set its UnoccupiedSetback value to UnoccupiedSetbackMin and shall send a Write Attribute Response command with a Status Code field enumeration of SUCCESS response.`,xref:{document:"cluster",section:"4.3.9.41"}}),p({name:"UnoccupiedSetbackMin",id:56,type:"UnsignedTemperature",access:"R V",conformance:"SB & OCC",constraint:"max unoccupiedSetbackMax",default:null,quality:"X F",details:`Indicates the minimum value that the Thermostat server will allow the UnoccupiedSetback attribute to be configured by a user.
The null value indicates the attribute is unused.`,xref:{document:"cluster",section:"4.3.9.42"}}),p({name:"UnoccupiedSetbackMax",id:57,type:"UnsignedTemperature",access:"R V",conformance:"SB & OCC",constraint:"unoccupiedSetbackMin to 25.4\xB0C",default:null,quality:"X F",details:`Indicates the maximum value that the Thermostat server will allow the UnoccupiedSetback attribute to be configured by a user.
The null value indicates the attribute is unused.`,xref:{document:"cluster",section:"4.3.9.43"}}),p({name:"EmergencyHeatDelta",id:58,type:"UnsignedTemperature",access:"RW VM",conformance:"O",default:{type:"celsius",value:25},quality:"N",details:`Indicates the delta between the Calculated Local Temperature and the OccupiedHeatingSetpoint or UnoccupiedHeatingSetpoint attributes at which the Thermostat server will operate in emergency heat mode.
If the difference between the Calculated Local Temperature and OccupiedCoolingSetpoint or UnoccupiedCoolingSetpoint is greater than or equal to the EmergencyHeatDelta and the Thermostat server\u2019s SystemMode attribute is in a heating-related mode, then the Thermostat server shall immediately switch to the SystemMode attribute value that provides the highest stage of heating (e.g., emergency heat) and continue operating in that running state until the OccupiedHeatingSetpoint value is reached. For example:
  \u2022 Calculated Local Temperature = 10.0\xB0C
  \u2022 OccupiedHeatingSetpoint = 16.0\xB0C
  \u2022 EmergencyHeatDelta = 2.0\xB0C
\u21D2 OccupiedHeatingSetpoint - Calculated Local Temperature \u2265? EmergencyHeatDelta
\u21D2 16\xB0C - 10\xB0C \u2265? 2\xB0C
\u21D2 TRUE >>> Thermostat server changes its SystemMode to operate in 2nd stage or emergency heat mode
The purpose of this attribute is to provide Thermostat clients the ability to configure rapid heating when a setpoint is of a specified amount greater than the measured temperature. This allows the heated space to be quickly heated to the desired level set by the user.`,xref:{document:"cluster",section:"4.3.9.44"}}),p({name:"AcType",id:64,type:"ACTypeEnum",access:"RW VM",conformance:"O",constraint:"desc",default:0,quality:"N",details:"Indicates the type of Mini Split ACTypeEnum of Mini Split AC is defined depending on how Cooling and Heating condition is achieved by Mini Split AC.",xref:{document:"cluster",section:"4.3.9.45"}}),p({name:"AcCapacity",id:65,type:"uint16",access:"RW VM",conformance:"O",default:0,quality:"N",details:"Indicates capacity of Mini Split AC in terms of the format defined by the ACCapacityFormat attribute",xref:{document:"cluster",section:"4.3.9.46"}}),p({name:"AcRefrigerantType",id:66,type:"ACRefrigerantTypeEnum",access:"RW VM",conformance:"O",constraint:"desc",default:0,quality:"N",details:"Indicates type of refrigerant used within the Mini Split AC.",xref:{document:"cluster",section:"4.3.9.47"}}),p({name:"AcCompressorType",id:67,type:"ACCompressorTypeEnum",access:"RW VM",conformance:"O",constraint:"desc",default:0,quality:"N",details:"Indicates the type of compressor used within the Mini Split AC.",xref:{document:"cluster",section:"4.3.9.48"}}),p({name:"AcErrorCode",id:68,type:"ACErrorCodeBitmap",access:"RW VM",conformance:"O",default:0,details:"Indicates the type of errors encountered within the Mini Split AC.",xref:{document:"cluster",section:"4.3.9.49"}}),p({name:"AcLouverPosition",id:69,type:"ACLouverPositionEnum",access:"RW VM",conformance:"O",constraint:"desc",default:0,quality:"N",details:"Indicates the position of Louver on the AC.",xref:{document:"cluster",section:"4.3.9.50"}}),p({name:"AcCoilTemperature",id:70,type:"temperature",access:"R V",conformance:"O",default:null,quality:"X",details:"Indicates the temperature of the AC coil, as measured locally or remotely (over the network).",xref:{document:"cluster",section:"4.3.9.51"}}),p({name:"AcCapacityFormat",id:71,type:"ACCapacityFormatEnum",access:"RW VM",conformance:"O",constraint:"desc",default:0,quality:"N",details:"Indicates the format for the ACCapacity attribute.",xref:{document:"cluster",section:"4.3.9.52"}}),U({name:"SetpointRaiseLower",id:0,access:"O",conformance:"M",direction:"request",response:"status",details:"Upon receipt, the attributes for the indicated setpoint(s) shall have the amount specified in the Amount field added to them. If the resulting value is outside the limits imposed by MinCoolSetpointLimit, MaxCoolSetpointLimit, MinHeatSetpointLimit and MaxHeatSetpointLimit, the value is clamped to those limits. This is not considered an error condition.",xref:{document:"cluster",section:"4.3.10.1"},children:[o({name:"Mode",id:0,type:"SetpointRaiseLowerModeEnum",conformance:"M",constraint:"desc"}),o({name:"Amount",id:1,type:"int8",conformance:"M"})]}),U({name:"SetWeeklySchedule",id:1,access:"M",conformance:"SCH",direction:"request",response:"status",details:`Upon receipt, the weekly schedule for updating setpoints shall be stored in the thermostat and SHOULD begin at the time of receipt. A status code shall be sent in response.
When a command is received that requires a total number of transitions greater than the device supports, the status of the response shall be INSUFFICIENT_SPACE.
When any of the setpoints sent in the sequence is out of range (AbsMin/MaxSetPointLimit), or when the Mode for Sequence field includes a mode not supported by the device, the status of the response shall be CONSTRAINT_ERROR and no setpoints from the entire sequence SHOULD be used.
When an overlapping transition is detected, the status of the response shall be FAILURE.
When a device which does not support multiple days in a command receives a command with more than one bit set in the DayOfWeekForSequence field, or when a device which does not support multiple modes in a command receives a command with more than one bit set in the ModeForSequence field, or when the contents of the Transitions field does not agree with NumberOfTransitionsForSequence, DayOfWeekForSequence or ModeForSequence, the status of the response shall be INVALID_COMMAND.
When the transitions could be added successfully, the status of the response shall be SUCCESS.
The set weekly schedule command is used to update the thermostat weekly setpoint schedule from a management system. If the thermostat already has a weekly setpoint schedule programmed, then it SHOULD replace each daily setpoint set as it receives the updates from the management system. For example, if the thermostat has 4 setpoints for every day of the week and is sent a Set Weekly Schedule command with one setpoint for Saturday then the thermostat SHOULD remove all 4 setpoints for Saturday and replace those with the updated setpoint but leave all other days unchanged. If the schedule is larger than what fits in one frame or contains more than 10 transitions, the schedule shall then be sent using multiple Set Weekly Schedule Commands.`,xref:{document:"cluster",section:"4.3.10.4"},children:[o({name:"NumberOfTransitionsForSequence",id:0,type:"uint8",conformance:"M",details:"This field shall indicate how many individual transitions to expect for this sequence of commands. If a device supports more than 10 transitions in its schedule they can send this by sending more than 1 \u201CSet Weekly Schedule\u201D command, each containing the separate information that the device needs to set.",xref:{document:"cluster",section:"4.3.10.4.1"}}),o({name:"DayOfWeekForSequence",id:1,type:"ScheduleDayOfWeekBitmap",conformance:"M",constraint:"desc",details:`This field shall represent the day of the week at which all the transitions within the payload of the command SHOULD be associated to. This field is a bitmap and therefore the associated setpoint could overlap onto multiple days (you could set one transition time for all \u201Cweek days\u201D or whatever combination of days the implementation requests).
Each setpoint transition will begin with the day of week for this transition. There can be up to 10 transitions for each command.`,xref:{document:"cluster",section:"4.3.10.4.2"}}),o({name:"ModeForSequence",id:2,type:"ScheduleModeBitmap",conformance:"M",constraint:"desc",details:`This field shall indicate how the application decodes the setpoint fields of each transition in the Transitions list.
If the HeatSetpointPresent bit is On, the HeatSetpoint field shall NOT be null in every entry of the Transitions list.
If the HeatSetpointPresent bit is Off, the HeatSetpoint field shall be null in every entry of the Transitions list.
If the CoolSetpointPresent bit is On, the CoolSetpoint field shall NOT be null in every entry of the Transitions list.
If the CoolSetpointPresent bit is Off, the CoolSetpoint field shall be null in every entry of the Transitions list.
At least one of the bits in the Mode For Sequence byte shall be on.
Both bits must be respected, even if the HEAT or COOL feature is not supported, to ensure the command is decoded and handled correctly.`,xref:{document:"cluster",section:"4.3.10.4.3"}}),o({name:"Transitions",id:3,type:"list",conformance:"M",constraint:"max 10",details:"This field shall contain the list of setpoint transitions used to update the specified daily schedules",xref:{document:"cluster",section:"4.3.10.4.4"},children:[o({name:"entry",type:"WeeklyScheduleTransitionStruct"})]})]}),U({name:"GetWeeklySchedule",id:2,access:"O",conformance:"SCH",direction:"request",response:"GetWeeklyScheduleResponse",details:"Upon receipt, the unit SHOULD send in return the Get Weekly Schedule Response command. The Days to Return and Mode to Return fields are defined as bitmask for the flexibility to support multiple days and multiple modes within one command. If thermostat cannot handle incoming command with multiple days and/or multiple modes within one command, it shall send default response of INVALID_COMMAND in return.",xref:{document:"cluster",section:"4.3.10.5"},children:[o({name:"DaysToReturn",id:0,type:"ScheduleDayOfWeekBitmap",conformance:"M",constraint:"desc",details:"This field shall indicate the number of days the client would like to return the setpoint values for and could be any combination of single days or the entire week.",xref:{document:"cluster",section:"4.3.10.5.1"}}),o({name:"ModeToReturn",id:1,type:"ScheduleModeBitmap",conformance:"M",constraint:"desc",details:"This field shall indicate the mode the client would like to return the set point values for and could be any combination of heat only, cool only or heat & cool.",xref:{document:"cluster",section:"4.3.10.5.2"}})]}),U({name:"GetWeeklyScheduleResponse",id:0,conformance:"SCH",direction:"response",details:"This command has the same payload format as the Set Weekly Schedule.",xref:{document:"cluster",section:"4.3.10.6"},children:[o({name:"NumberOfTransitionsForSequence",id:0,type:"uint8",conformance:"M"}),o({name:"DayOfWeekForSequence",id:1,type:"ScheduleDayOfWeekBitmap",conformance:"M",constraint:"desc"}),o({name:"ModeForSequence",id:2,type:"ScheduleModeBitmap",conformance:"M",constraint:"desc"}),o({name:"Transitions",id:3,type:"list",conformance:"M",constraint:"max 10",children:[o({name:"entry",type:"WeeklyScheduleTransitionStruct"})]})]}),U({name:"ClearWeeklySchedule",id:3,access:"M",conformance:"SCH",direction:"request",response:"status",details:`This command is used to clear the weekly schedule. The Clear weekly schedule has no payload.
Upon receipt, all transitions currently stored shall be cleared and a default response of SUCCESS shall be sent in response. There are no error responses to this command.`,xref:{document:"cluster",section:"4.3.10.7"}}),U({name:"GetRelayStatusLogResponse",id:1,conformance:"GetRelayStatusLog",direction:"response",details:"This command is sent from the thermostat cluster server in response to the Get Relay Status Log. After the Relay Status Entry is sent over the air to the requesting client, the specific entry will be cleared from the thermostat internal log.",xref:{document:"cluster",section:"4.3.10.9"},children:[o({name:"TimeOfDay",id:0,type:"uint16",conformance:"M",constraint:"max 1439",details:"This field shall indicate the sample time of the day, in minutes since midnight, when the relay status was captured for this associated log entry. For example, 6am will be represented by 360 minutes since midnight and 11:30pm will be represented by 1410 minutes since midnight.",xref:{document:"cluster",section:"4.3.10.9.1"}}),o({name:"RelayStatus",id:1,type:"RelayStateBitmap",conformance:"M",constraint:"desc",details:"This field shall indicate the relay status for thermostat when the log is captured. Each bit represents one relay used by the thermostat. If the bit is on, the associated relay is on and active. Each thermostat manufacturer can create its own mapping between the bitmap and the associated relay.",xref:{document:"cluster",section:"4.3.10.9.2"}}),o({name:"LocalTemperature",id:2,type:"temperature",conformance:"M",quality:"X",details:"This field shall indicate the LocalTemperature when the log is captured. The null value indicates that LocalTemperature was invalid or unavailable.",xref:{document:"cluster",section:"4.3.10.9.3"}}),o({name:"HumidityInPercentage",id:3,type:"uint8",conformance:"M",constraint:"0 to 100",quality:"X"}),o({name:"SetPoint",id:4,type:"temperature",conformance:"M",details:"This field shall indicate the target setpoint temperature when the log is captured.",xref:{document:"cluster",section:"4.3.10.9.5"}}),o({name:"UnreadEntries",id:5,type:"uint16",conformance:"M",details:"This field shall indicate the number of unread entries within the thermostat internal log system.",xref:{document:"cluster",section:"4.3.10.9.6"}})]}),C({name:"TemperatureDifference",type:"int16",details:`This data type is derived from int16 and represents a temperature difference with a resolution of 0.01\xB0C.
  \u2022 value = (temperature in \xB0C) x 100
  \u2022 -4\xB0C \u21D2 -400
  \u2022 123.45\xB0C \u21D2 12345
The full (non-null) range of -327.67\xB0C to 327.67\xB0C may be used.`,xref:{document:"cluster",section:"4.3.8.1"}}),C({name:"SignedTemperature",type:"int8",details:`This data type is derived from int8 and represents a temperature from -12.7\xB0C to 12.7\xB0C with a resolution of 0.1\xB0C.
  \u2022 value = (temperature in \xB0C) x 10
  \u2022 -4\xB0C \u21D2 -40
  \u2022 12.3\xB0C \u21D2 123
This type is employed where compactness of representation is important and where the resolution and range are still satisfactory.`,xref:{document:"cluster",section:"4.3.8.2"}}),C({name:"UnsignedTemperature",type:"uint8",details:`This data type is derived from uint8 and represents a temperature from 0\xB0C to 25.5\xB0C with a resolution of 0.1\xB0C.
  \u2022 value = (temperature in \xB0C) x 10
  \u2022 4\xB0C \u21D2 40
  \u2022 12.3\xB0C \u21D2 123
This type is employed where compactness of representation is important and where the resolution and range are still satisfactory.`,xref:{document:"cluster",section:"4.3.8.3"}}),C({name:"ACErrorCodeBitmap",type:"map32",xref:{document:"cluster",section:"4.3.8.4"},children:[o({name:"CompressorFail",constraint:"0",description:"Compressor Failure or Refrigerant Leakage"}),o({name:"RoomSensorFail",constraint:"1",description:"Room Temperature Sensor Failure"}),o({name:"OutdoorSensorFail",constraint:"2",description:"Outdoor Temperature Sensor Failure"}),o({name:"CoilSensorFail",constraint:"3",description:"Indoor Coil Temperature Sensor Failure"}),o({name:"FanFail",constraint:"4",description:"Fan Failure"})]}),C({name:"AlarmCodeBitmap",type:"map8",xref:{document:"cluster",section:"4.3.8.5"},children:[o({name:"Initialization",constraint:"0",description:"Initialization failure. The device failed to complete initialization at power-up."}),o({name:"Hardware",constraint:"1",description:"Hardware failure"}),o({name:"SelfCalibration",constraint:"2",description:"Self-calibration failure"})]}),C({name:"HVACSystemTypeBitmap",type:"map8",xref:{document:"cluster",section:"4.3.8.6"},children:[o({name:"CoolingStage",constraint:"0 to 2",description:"Stage of cooling the HVAC system is using.",details:`These bits shall indicate what stage of cooling the HVAC system is using.
  \u2022 00 = Cool Stage 1
  \u2022 01 = Cool Stage 2
  \u2022 10 = Cool Stage 3
  \u2022 11 = Reserved`,xref:{document:"cluster",section:"4.3.8.6.1"}}),o({name:"HeatingStage",constraint:"2 to 4",description:"Stage of heating the HVAC system is using.",details:`These bits shall indicate what stage of heating the HVAC system is using.
  \u2022 00 = Heat Stage 1
  \u2022 01 = Heat Stage 2
  \u2022 10 = Heat Stage 3
  \u2022 11 = Reserved`,xref:{document:"cluster",section:"4.3.8.6.2"}}),o({name:"HeatingIsHeatPump",constraint:"4",description:"Is the heating type Heat Pump.",details:`This bit shall indicate whether the HVAC system is conventional or a heat pump.
  \u2022 0 = Conventional
  \u2022 1 = Heat Pump`,xref:{document:"cluster",section:"4.3.8.6.3"}}),o({name:"HeatingUsesFuel",constraint:"5",description:"Does the HVAC system use fuel.",details:`This bit shall indicate whether the HVAC system uses fuel.
  \u2022 0 = Does not use fuel
  \u2022 1 = Uses fuel`,xref:{document:"cluster",section:"4.3.8.6.4"}})]}),C({name:"ProgrammingOperationModeBitmap",type:"map8",xref:{document:"cluster",section:"4.3.8.7"},children:[o({name:"ScheduleActive",constraint:"0",description:"Schedule programming mode. This enables any programmed weekly schedule configurations."}),o({name:"AutoRecovery",constraint:"1",description:"Auto/recovery mode"}),o({name:"Economy",constraint:"2",description:"Economy/EnergyStar mode"})]}),C({name:"RelayStateBitmap",type:"map16",xref:{document:"cluster",section:"4.3.8.8"},children:[o({name:"Heat",constraint:"0",description:"Heat State On"}),o({name:"Cool",constraint:"1",description:"Cool State On"}),o({name:"Fan",constraint:"2",description:"Fan State On"}),o({name:"HeatStage2",constraint:"3",description:"Heat 2nd State On"}),o({name:"CoolStage2",constraint:"4",description:"Cool 2nd State On"}),o({name:"FanStage2",constraint:"5",description:"Fan 2nd State On"}),o({name:"FanStage3",constraint:"6",description:"Fan 3rd Stage On"})]}),C({name:"RemoteSensingBitmap",type:"map8",xref:{document:"cluster",section:"4.3.8.9"},children:[o({name:"LocalTemperature",constraint:"0",description:"Calculated Local Temperature is derived from a remote node"}),o({name:"OutdoorTemperature",constraint:"1",description:"OutdoorTemperature is derived from a remote node",details:"This bit shall be supported if the OutdoorTemperature attribute is supported.",xref:{document:"cluster",section:"4.3.8.9.1"}}),o({name:"Occupancy",constraint:"2",description:"Occupancy is derived from a remote node"})]}),C({name:"ScheduleDayOfWeekBitmap",type:"map8",xref:{document:"cluster",section:"4.3.8.10"},children:[o({name:"Sunday",constraint:"0",description:"Sunday"}),o({name:"Monday",constraint:"1",description:"Monday"}),o({name:"Tuesday",constraint:"2",description:"Tuesday"}),o({name:"Wednesday",constraint:"3",description:"Wednesday"}),o({name:"Thursday",constraint:"4",description:"Thursday"}),o({name:"Friday",constraint:"5",description:"Friday"}),o({name:"Saturday",constraint:"6",description:"Saturday"}),o({name:"Away",constraint:"7",description:"Away or Vacation"})]}),C({name:"ScheduleModeBitmap",type:"map8",xref:{document:"cluster",section:"4.3.8.11"},children:[o({name:"HeatSetpointPresent",constraint:"0",description:"Adjust Heat Setpoint"}),o({name:"CoolSetpointPresent",constraint:"1",description:"Adjust Cool Setpoint"})]}),C({name:"ACCapacityFormatEnum",type:"enum8",xref:{document:"cluster",section:"4.3.8.12"},children:[o({name:"BtUh",id:0,conformance:"O",description:"British Thermal Unit per Hour"})]}),C({name:"ACCompressorTypeEnum",type:"enum8",xref:{document:"cluster",section:"4.3.8.13"},children:[o({name:"Unknown",id:0,conformance:"O",description:"Unknown compressor type"}),o({name:"T1",id:1,conformance:"O",description:"Max working ambient 43 \xB0C"}),o({name:"T2",id:2,conformance:"O",description:"Max working ambient 35 \xB0C"}),o({name:"T3",id:3,conformance:"O",description:"Max working ambient 52 \xB0C"})]}),C({name:"ACLouverPositionEnum",type:"enum8",xref:{document:"cluster",section:"4.3.8.14"},children:[o({name:"Closed",id:1,conformance:"O",description:"Fully Closed"}),o({name:"Open",id:2,conformance:"O",description:"Fully Open"}),o({name:"Quarter",id:3,conformance:"O",description:"Quarter Open"}),o({name:"Half",id:4,conformance:"O",description:"Half Open"}),o({name:"ThreeQuarters",id:5,conformance:"O",description:"Three Quarters Open"})]}),C({name:"ACRefrigerantTypeEnum",type:"enum8",xref:{document:"cluster",section:"4.3.8.15"},children:[o({name:"Unknown",id:0,conformance:"O",description:"Unknown Refrigerant Type"}),o({name:"R22",id:1,conformance:"O",description:"R22 Refrigerant"}),o({name:"R410A",id:2,conformance:"O",description:"R410a Refrigerant"}),o({name:"R407C",id:3,conformance:"O",description:"R407c Refrigerant"})]}),C({name:"ACTypeEnum",type:"enum8",xref:{document:"cluster",section:"4.3.8.16"},children:[o({name:"Unknown",id:0,conformance:"O",description:"Unknown AC Type"}),o({name:"CoolingFixed",id:1,conformance:"O",description:"Cooling and Fixed Speed"}),o({name:"HeatPumpFixed",id:2,conformance:"O",description:"Heat Pump and Fixed Speed"}),o({name:"CoolingInverter",id:3,conformance:"O",description:"Cooling and Inverter"}),o({name:"HeatPumpInverter",id:4,conformance:"O",description:"Heat Pump and Inverter"})]}),C({name:"SetpointRaiseLowerModeEnum",type:"enum8",xref:{document:"cluster",section:"4.3.8.17"},children:[o({name:"Heat",id:0,conformance:"HEAT",description:"Adjust Heat Setpoint"}),o({name:"Cool",id:1,conformance:"COOL",description:"Adjust Cool Setpoint"}),o({name:"Both",id:2,conformance:"HEAT | COOL",description:"Adjust Heat Setpoint and Cool Setpoint"})]}),C({name:"ControlSequenceOfOperationEnum",type:"enum8",details:`NOTE
CoolingAndHeating
A thermostat indicating it supports CoolingAndHeating (or CoolingAndHeatingWithReheat) SHOULD be able to request heating or cooling on demand and will usually support the Auto SystemMode.
Systems which support cooling or heating, requiring external intervention to change modes or where the whole building must be in the same mode, SHOULD report CoolingOnly or HeatingOnly based on the current capability.`,xref:{document:"cluster",section:"4.3.8.18"},children:[o({name:"CoolingOnly",id:0,conformance:"[COOL]",description:"Heat and Emergency are not possible"}),o({name:"CoolingWithReheat",id:1,conformance:"[COOL]",description:"Heat and Emergency are not possible"}),o({name:"HeatingOnly",id:2,conformance:"[HEAT]",description:"Cool and precooling (see Terms) are not possible"}),o({name:"HeatingWithReheat",id:3,conformance:"[HEAT]",description:"Cool and precooling are not possible"}),o({name:"CoolingAndHeating",id:4,conformance:"[HEAT & COOL]",description:"All modes are possible"}),o({name:"CoolingAndHeatingWithReheat",id:5,conformance:"[HEAT & COOL]",description:"All modes are possible"})]}),C({name:"SetpointChangeSourceEnum",type:"enum8",xref:{document:"cluster",section:"4.3.8.19"},children:[o({name:"Manual",id:0,conformance:"O",description:"Manual, user-initiated setpoint change via the thermostat"}),o({name:"Schedule",id:1,conformance:"[SCH]",description:"Schedule/internal programming-initiated setpoint change"}),o({name:"External",id:2,conformance:"O",description:"Externally-initiated setpoint change (e.g., DRLC cluster command, attribute write)"})]}),C({name:"StartOfWeekEnum",type:"enum8",xref:{document:"cluster",section:"4.3.8.20"},children:[o({name:"Sunday",id:0,conformance:"M"}),o({name:"Monday",id:1,conformance:"M"}),o({name:"Tuesday",id:2,conformance:"M"}),o({name:"Wednesday",id:3,conformance:"M"}),o({name:"Thursday",id:4,conformance:"M"}),o({name:"Friday",id:5,conformance:"M"}),o({name:"Saturday",id:6,conformance:"M"})]}),C({name:"SystemModeEnum",type:"enum8",details:"Table 35. Interpretation of Heat, Cool and Auto SystemModeEnum Values",xref:{document:"cluster",section:"4.3.8.21"},children:[o({name:"Off",id:0,conformance:"O",description:"The Thermostat does not generate demand for Cooling or Heating"}),o({name:"Auto",id:1,conformance:"AUTO",description:"Demand is generated for either Cooling or Heating, as required"}),o({name:"Cool",id:3,conformance:"[COOL]",description:"Demand is only generated for Cooling"}),o({name:"Heat",id:4,conformance:"[HEAT]",description:"Demand is only generated for Heating"}),o({name:"EmergencyHeat",id:5,conformance:"[HEAT]",description:"2nd stage heating is in use to achieve desired temperature"}),o({name:"Precooling",id:6,conformance:"[COOL]",description:"(see Terms)"}),o({name:"FanOnly",id:7,conformance:"O"}),o({name:"Dry",id:8,conformance:"O"}),o({name:"Sleep",id:9,conformance:"O"})]}),C({name:"ThermostatRunningModeEnum",type:"enum8",xref:{document:"cluster",section:"4.3.8.22"},children:[o({name:"Off",id:0,conformance:"O",description:"The Thermostat does not generate demand for Cooling or Heating"}),o({name:"Cool",id:3,conformance:"[COOL]",description:"Demand is only generated for Cooling"}),o({name:"Heat",id:4,conformance:"[HEAT]",description:"Demand is only generated for Heating"})]}),C({name:"TemperatureSetpointHoldEnum",type:"enum8",xref:{document:"cluster",section:"4.3.8.23"},children:[o({name:"SetpointHoldOff",id:0,conformance:"M",description:"Follow scheduling program"}),o({name:"SetpointHoldOn",id:1,conformance:"M",description:"Maintain current setpoint, regardless of schedule transitions"})]}),C({name:"WeeklyScheduleTransitionStruct",type:"struct",details:"This represents a single transition in a Thermostat schedule",xref:{document:"cluster",section:"4.3.8.24"},children:[o({name:"TransitionTime",id:0,type:"uint16",conformance:"M",constraint:"max 1439",details:"This field shall represent the start time of the schedule transition during the associated day. The time will be represented by a 16 bits unsigned integer to designate the minutes since midnight. For example, 6am will be represented by 360 minutes since midnight and 11:30pm will be represented by 1410 minutes since midnight.",xref:{document:"cluster",section:"4.3.8.24.1"}}),o({name:"HeatSetpoint",id:1,type:"temperature",conformance:"M",quality:"X",details:"This field shall represent the heat setpoint to be applied at this associated transition start time.",xref:{document:"cluster",section:"4.3.8.24.2"}}),o({name:"CoolSetpoint",id:2,type:"temperature",conformance:"M",quality:"X",details:"This field shall represent the cool setpoint to be applied at this associated transition start time.",xref:{document:"cluster",section:"4.3.8.24.3"}})]}),C({name:"OccupancyBitmap",type:"OccupancySensing.OccupancyBitmap"})]});A.children.push(xT);var wT=ie({name:"FanControl",id:514,classification:"application",pics:"FAN",details:"This cluster specifies an interface to control the speed of a fan.",xref:{document:"cluster",section:"4.4"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:4}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"4.4.4"},children:[o({name:"SPD",constraint:"0",description:"MultiSpeed",details:`Legacy Fan Control cluster revision 0-1 defined 3 speeds (low, medium and high) plus automatic speed control but left it up to the implementer to decide what was supported. Therefore, it is assumed that legacy client implementations are capable of determining, from the server, the number of speeds supported between 1, 2, or 3, and whether automatic speed control is supported.
The MultiSpeed feature includes new attributes that support a running fan speed value from 0 to SpeedMax, which has a maximum of 100.
See Speed Rules for more details.`,xref:{document:"cluster",section:"4.4.4.1"}}),o({name:"AUT",constraint:"1",description:"Auto",details:"Automatic mode supported for fan speed"}),o({name:"RCK",constraint:"2",description:"Rocking",details:"Rocking movement supported"}),o({name:"WND",constraint:"3",description:"Wind",details:"Wind emulation supported"}),o({name:"STEP",constraint:"4",description:"Step",details:"Step command supported"}),o({name:"DIR",constraint:"5",description:"AirflowDirection",details:"Airflow Direction attribute is supported"})]}),p({name:"FanMode",id:0,type:"FanModeEnum",access:"RW VO",conformance:"M",constraint:"0 to 6",default:0,quality:"N",details:`Indicates the current speed mode of the fan. This attribute may be written by the client to request a different fan mode. A server shall return INVALID_IN_STATE to indicate that the fan is not in a state where the FanMode can be changed to the requested value. A server may have FanMode values that it can never be set to. For example, where this cluster appears on the same or another endpoint as other clusters with a system dependency, for example the Thermostat cluster, attempting to set the FanMode attribute of this cluster to Off may not be allowed by the system.
This attribute shall be set to one of the values in FanModeEnum.
When the FanMode attribute is successfully written to, the PercentSetting and SpeedSetting (if present) attributes shall be set to appropriate values, as defined by the Percent Rules and Speed Rules respectively, unless otherwise specified below.
When the FanMode attribute is set to any given mode, the PercentCurrent and SpeedCurrent (if present) shall indicate the actual currently operating fan speed, unless otherwise specified below.`,xref:{document:"cluster",section:"4.4.6.1"}}),p({name:"FanModeSequence",id:1,type:"FanModeSequenceEnum",access:"R V",conformance:"M",constraint:"0 to 5",quality:"F",details:"This attribute indicates the fan speed ranges that shall be supported.",xref:{document:"cluster",section:"4.4.6.2"}}),p({name:"PercentSetting",id:2,type:"percent",access:"RW VO",conformance:"M",constraint:"0 to 100",default:0,quality:"X",details:`Indicates the speed setting for the fan. This attribute may be written by the client to indicate a new fan speed. If the client writes null to this attribute, the attribute value shall NOT change. A server shall return INVALID_IN_STATE to indicate that the fan is not in a state where the PercentSetting can be changed to the requested value.
If this is successfully written to 0, the server shall set the FanMode attribute value to Off.`,xref:{document:"cluster",section:"4.4.6.3"}}),p({name:"PercentCurrent",id:3,type:"percent",access:"R V",conformance:"M",constraint:"0 to 100",details:"Indicates the actual currently operating fan speed, or zero to indicate that the fan is off. There may be a temporary mismatch between the value of this attribute and the value of the PercentSetting attribute due to other system requirements that would not allow the fan to operate at the requested setting. See Percent Rules for more details.",xref:{document:"cluster",section:"4.4.6.4"}}),p({name:"SpeedMax",id:4,type:"uint8",access:"R V",conformance:"SPD",constraint:"1 to 100",quality:"F",details:"Indicates that the fan has one speed (value of 1) or the maximum speed, if the fan is capable of multiple speeds.",xref:{document:"cluster",section:"4.4.6.5"}}),p({name:"SpeedSetting",id:5,type:"uint8",access:"RW VO",conformance:"SPD",constraint:"0 to speedMax",default:0,quality:"X",details:`Indicates the speed setting for the fan. This attribute may be written by the client to indicate a new fan speed. If the client writes null to this attribute, the attribute value shall NOT change. A server shall return INVALID_IN_STATE to indicate that the fan is not in a state where the SpeedSetting can be changed to the requested value.
If this is successfully written to 0, the server shall set the FanMode attribute value to Off. Please see the Speed Rules for details on other values.`,xref:{document:"cluster",section:"4.4.6.6"}}),p({name:"SpeedCurrent",id:6,type:"uint8",access:"R V",conformance:"SPD",constraint:"0 to speedMax",quality:"P",details:"Indicates the actual currently operating fan speed, or zero to indicate that the fan is off. There may be a temporary mismatch between the value of this attribute and the value of the SpeedSetting attribute due to other system requirements that would not allow the fan to operate at the requested setting.",xref:{document:"cluster",section:"4.4.6.7"}}),p({name:"RockSupport",id:7,type:"RockBitmap",access:"R V",conformance:"RCK",constraint:"desc",default:0,quality:"F",details:"This attribute is a bitmap that indicates what rocking motions the server supports.",xref:{document:"cluster",section:"4.4.6.8"}}),p({name:"RockSetting",id:8,type:"RockBitmap",access:"RW VO",conformance:"RCK",constraint:"desc",default:0,quality:"P",details:`This attribute is a bitmap that indicates the current active fan rocking motion settings. Each bit shall only be set to 1, if the corresponding bit in the RockSupport attribute is set to 1, otherwise a status code of CONSTRAINT_ERROR shall be returned.
If a combination of supported bits is set by the client, and the server does not support the combination, the lowest supported single bit in the combination shall be set and active, and all other bits shall indicate zero.
For example: If RockUpDown and RockRound are both set, but this combination is not possible, then only RockUpDown becomes active.`,xref:{document:"cluster",section:"4.4.6.9"}}),p({name:"WindSupport",id:9,type:"WindBitmap",access:"R V",conformance:"WND",constraint:"desc",default:0,quality:"F",details:"This attribute is a bitmap that indicates what wind modes the server supports. At least one wind mode bit shall be set.",xref:{document:"cluster",section:"4.4.6.10"}}),p({name:"WindSetting",id:10,type:"WindBitmap",access:"RW VO",conformance:"WND",constraint:"desc",default:0,quality:"P",details:`This attribute is a bitmap that indicates the current active fan wind feature settings. Each bit shall only be set to 1, if the corresponding bit in the WindSupport attribute is set to 1, otherwise a status code of CONSTRAINT_ERROR shall be returned.
If a combination of supported bits is set by the client, and the server does not support the combination, the lowest supported single bit in the combination shall be set and active, and all other bits shall indicate zero.
For example: If Sleep Wind and Natural Wind are set, but this combination is not possible, then only Sleep Wind becomes active.`,xref:{document:"cluster",section:"4.4.6.11"}}),p({name:"AirflowDirection",id:11,type:"AirflowDirectionEnum",access:"RW VO",conformance:"DIR",constraint:"desc",default:0,quality:"P",details:"Indicates the current airflow direction of the fan. This attribute may be written by the client to indicate a new airflow direction for the fan. This attribute shall be set to one of the values in the AirflowDirectionEnum table.",xref:{document:"cluster",section:"4.4.6.12"}}),U({name:"Step",id:0,access:"O",conformance:"STEP",direction:"request",response:"status",details:`This command speeds up or slows down the fan, in steps, without the client having to know the fan speed. This command supports, for example, a user operated wall switch, where the user provides the feedback or control to stop sending this command when the proper speed is reached. The step speed values are implementation specific. How many step speeds are implemented is implementation specific.
This command supports these fields:`,xref:{document:"cluster",section:"4.4.7.1"},children:[o({name:"Direction",id:0,type:"StepDirectionEnum",conformance:"M",default:0,details:"This field shall indicate whether the fan speed increases or decreases to the next step value.",xref:{document:"cluster",section:"4.4.7.1.1"}}),o({name:"Wrap",id:1,type:"bool",conformance:"O",default:!1,details:"This field shall indicate if the fan speed wraps between highest and lowest step value.",xref:{document:"cluster",section:"4.4.7.1.2"}}),o({name:"LowestOff",id:2,type:"bool",conformance:"O",default:!0,details:"This field shall indicate that the fan being off (speed value 0) is included as a step value.",xref:{document:"cluster",section:"4.4.7.1.3"}})]}),C({name:"RockBitmap",type:"map8",xref:{document:"cluster",section:"4.4.5.1"},children:[o({name:"RockLeftRight",constraint:"0",description:"Indicate rock left to right"}),o({name:"RockUpDown",constraint:"1",description:"Indicate rock up and down"}),o({name:"RockRound",constraint:"2",description:"Indicate rock around"})]}),C({name:"WindBitmap",type:"map8",xref:{document:"cluster",section:"4.4.5.2"},children:[o({name:"SleepWind",constraint:"0",description:"Indicate sleep wind"}),o({name:"NaturalWind",constraint:"1",description:"Indicate natural wind"})]}),C({name:"StepDirectionEnum",type:"enum8",xref:{document:"cluster",section:"4.4.5.3"},children:[o({name:"Increase",id:0,conformance:"M",description:"Step moves in increasing direction"}),o({name:"Decrease",id:1,conformance:"M",description:"Step moves in decreasing direction"})]}),C({name:"AirflowDirectionEnum",type:"enum8",xref:{document:"cluster",section:"4.4.5.4"},children:[o({name:"Forward",id:0,conformance:"M",description:"Airflow is in the forward direction"}),o({name:"Reverse",id:1,conformance:"M",description:"Airflow is in the reverse direction"})]}),C({name:"FanModeEnum",type:"enum8",xref:{document:"cluster",section:"4.4.5.5"},children:[o({name:"Off",id:0,conformance:"M",description:"Fan is off"}),o({name:"Low",id:1,conformance:"desc",description:"Fan using low speed",details:`If the fan supports 2 or more speeds, the Low value shall be supported.
The Low value shall be supported if and only if the FanModeSequence attribute value is less than 4.`,xref:{document:"cluster",section:"4.4.5.5.1"}}),o({name:"Medium",id:2,conformance:"desc",description:"Fan using medium speed",details:`If the fan supports 3 or more speeds, the Medium value shall be supported.
The Medium value shall be supported if and only if the FanModeSequence attribute value is 0 or 2.`,xref:{document:"cluster",section:"4.4.5.5.2"}}),o({name:"High",id:3,conformance:"M",description:"Fan using high speed"}),o({name:"On",id:4,conformance:"D"}),o({name:"Auto",id:5,conformance:"AUT",description:"Fan is using auto mode"}),o({name:"Smart",id:6,conformance:"D",description:"Fan is using smart mode"})]}),C({name:"FanModeSequenceEnum",type:"enum8",xref:{document:"cluster",section:"4.4.5.6"},children:[o({name:"OffLowMedHigh",id:0,conformance:"[!AUT].a",description:"Fan is capable of off, low, medium and high modes"}),o({name:"OffLowHigh",id:1,conformance:"[!AUT].a",description:"Fan is capable of off, low and high modes"}),o({name:"OffLowMedHighAuto",id:2,conformance:"[AUT].a",description:"Fan is capable of off, low, medium, high and auto modes"}),o({name:"OffLowHighAuto",id:3,conformance:"[AUT].a",description:"Fan is capable of off, low, high and auto modes"}),o({name:"OffHighAuto",id:4,conformance:"[AUT].a",description:"Fan is capable of off, high and auto modes"}),o({name:"OffHigh",id:5,conformance:"[!AUT].a",description:"Fan is capable of off and high modes"})]})]});A.children.push(wT);var TT=ie({name:"ThermostatUserInterfaceConfiguration",id:516,classification:"application",pics:"TSUIC",details:"This cluster provides an interface to allow configuration of the user interface for a thermostat, or a thermostat controller device, that supports a keypad and LCD screen.",xref:{document:"cluster",section:"4.5"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:2}),p({name:"TemperatureDisplayMode",id:0,type:"TemperatureDisplayModeEnum",access:"RW VO",conformance:"M",constraint:"desc",default:0,details:"Indicates the units of the temperature displayed on the thermostat screen.",xref:{document:"cluster",section:"4.5.6.1"}}),p({name:"KeypadLockout",id:1,type:"KeypadLockoutEnum",access:"RW VM",conformance:"M",constraint:"desc",default:0,details:"Indicates the level of functionality that is available to the user via the keypad.",xref:{document:"cluster",section:"4.5.6.2"}}),p({name:"ScheduleProgrammingVisibility",id:2,type:"ScheduleProgrammingVisibilityEnum",access:"RW VM",conformance:"O",constraint:"desc",default:0,details:`This attribute is used to hide the weekly schedule programming functionality or menu on a thermostat from a user to prevent local user programming of the weekly schedule. The schedule programming may still be performed via a remote interface, and the thermostat may operate in schedule programming mode.
This attribute is designed to prevent local tampering with or disabling of schedules that may have been programmed by users or service providers via a more capable remote interface. The programming schedule shall continue to run even though it is not visible to the user locally at the thermostat.`,xref:{document:"cluster",section:"4.5.6.3"}}),C({name:"TemperatureDisplayModeEnum",type:"enum8",xref:{document:"cluster",section:"4.5.5.1"},children:[o({name:"Celsius",id:0,conformance:"M",description:"Temperature displayed in \xB0C"}),o({name:"Fahrenheit",id:1,conformance:"M",description:"Temperature displayed in \xB0F"})]}),C({name:"KeypadLockoutEnum",type:"enum8",details:"The interpretation of the various levels is device-dependent.",xref:{document:"cluster",section:"4.5.5.2"},children:[o({name:"NoLockout",id:0,conformance:"M",description:"All functionality available to the user"}),o({name:"Lockout1",id:1,conformance:"M",description:"Level 1 reduced functionality"}),o({name:"Lockout2",id:2,conformance:"M",description:"Level 2 reduced functionality"}),o({name:"Lockout3",id:3,conformance:"M",description:"Level 3 reduced functionality"}),o({name:"Lockout4",id:4,conformance:"M",description:"Level 4 reduced functionality"}),o({name:"Lockout5",id:5,conformance:"M",description:"Least functionality available to the user"})]}),C({name:"ScheduleProgrammingVisibilityEnum",type:"enum8",xref:{document:"cluster",section:"4.5.5.3"},children:[o({name:"ScheduleProgrammingPermitted",id:0,conformance:"M",description:"Local schedule programming functionality is enabled at the thermostat"}),o({name:"ScheduleProgrammingDenied",id:1,conformance:"M",description:"Local schedule programming functionality is disabled at the thermostat"})]})]});A.children.push(TT);var CT=ie({name:"ValveConfigurationAndControl",id:129,classification:"application",pics:"VALCC",details:"This cluster is used to configure a valve.",xref:{document:"cluster",section:"4.6"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"4.6.4"},children:[o({name:"TS",conformance:"desc",constraint:"0",description:"TimeSync",details:`This feature shall indicate that the valve uses Time Synchronization and UTC time to indicate duration and auto close time.
This feature shall NOT be supported unless the device supports the Time Synchronization cluster.`,xref:{document:"cluster",section:"4.6.4.1"}}),o({name:"LVL",conformance:"O",constraint:"1",description:"Level",details:"This feature shall indicate that the valve is capable of being adjusted to a specific position, as a percentage, of its full range of motion.",xref:{document:"cluster",section:"4.6.4.2"}})]}),p({name:"OpenDuration",id:0,type:"elapsed-s",access:"R V",conformance:"M",constraint:"min 1",default:null,quality:"X",details:`Indicates the total duration, in seconds, for which the valve will remain open for this current opening.
A value of null shall indicate the duration is not set, meaning that the valve will remain open until closed by the user or some other automation.`,xref:{document:"cluster",section:"4.6.7.1"}}),p({name:"DefaultOpenDuration",id:1,type:"elapsed-s",access:"RW VO",conformance:"M",constraint:"min 1",default:null,quality:"X N",details:`Indicates the default duration, in seconds, for which the valve will remain open, if the OpenDuration field is not present in the Open command.
A value of null shall indicate the duration is not set, meaning that the valve will remain open until closed by the user or some other automation.`,xref:{document:"cluster",section:"4.6.7.2"}}),p({name:"AutoCloseTime",id:2,type:"epoch-us",access:"R V",conformance:"TS",default:null,quality:"X",details:`Indicates the UTC time when the valve will close, depending on value of the OpenDuration attribute.
Null:
  \u2022 When OpenDuration is null, or
  \u2022 When the valve does not have a synchronized UTCTime in the Time Synchronization cluster, or
  \u2022 When the valve is closed.
When the value of this attribute is earlier or equal to the current UTC time, the valve shall automatically transition to its closed position. The behavior of transitioning to the closed position, shall match the behavior described in the Close command.
If this attribute is not null and the Time Synchronization cluster receives a SetUTCTime command, modifying the current UTC time of the device, the value of this attribute shall be adjusted to match the new UTC time plus the value of the RemainingDuration attribute.`,xref:{document:"cluster",section:"4.6.7.3"}}),p({name:"RemainingDuration",id:3,type:"elapsed-s",access:"R V",conformance:"M",default:null,quality:"X Q",details:`Indicates the remaining duration, in seconds, until the valve closes. Null:
  \u2022 When OpenDuration is null, or
  \u2022 When the valve is closed.
The value of this attribute shall only be reported in the following cases:
  \u2022 When it changes from null to any other value and vice versa, or
  \u2022 When it changes to 0, or
  \u2022 When it increases, or
  \u2022 When the closing time changes.
Meaning that clients SHOULD NOT rely on the reporting of this attribute in order to keep track of the remaining duration, due to this attribute not being reported during regular countdown.
When reading this attribute it shall return the remaining duration, in seconds, until the valve closes.
When the value of this attribute counts down to 0, the valve shall automatically transition to its closed position. The behavior of transitioning to the closed position shall match the behavior described in the Close command.`,xref:{document:"cluster",section:"4.6.7.4"}}),p({name:"CurrentState",id:4,type:"ValveStateEnum",access:"R V",conformance:"M",default:null,quality:"X",details:`Indicates the current state of the valve.
A value of null shall indicate that the current state is not known.`,xref:{document:"cluster",section:"4.6.7.5"}}),p({name:"TargetState",id:5,type:"ValveStateEnum",access:"R V",conformance:"M",default:null,quality:"X",details:`Indicates the target state, while changing the state, of the valve.
A value of null shall indicate that no target position is set, since the change in state is either done or failed.`,xref:{document:"cluster",section:"4.6.7.6"}}),p({name:"CurrentLevel",id:6,type:"percent",access:"R V",conformance:"LVL",default:null,quality:"X",details:`Indicates the current level of the valve as a percentage value, between fully closed and fully open. During a transition from one level to another level, the valve SHOULD keep this attribute updated to the best of its ability, in order to represent the actual level of the valve during the movement.
A value of 100 percent shall indicate the fully open position. A value of 0 percent shall indicate the fully closed position.
A value of null shall indicate that the current state is not known.`,xref:{document:"cluster",section:"4.6.7.7"}}),p({name:"TargetLevel",id:7,type:"percent",access:"R V",conformance:"LVL",default:null,quality:"X",details:`Indicates the target level of the valve as a percentage value, between fully closed and fully open.
The interpretation of the percentage value is the same as for the CurrentLevel attribute.
A value of null shall indicate that no target position is set, since the change of level is either done or failed.`,xref:{document:"cluster",section:"4.6.7.8"}}),p({name:"DefaultOpenLevel",id:8,type:"percent",access:"RW VO",conformance:"[LVL]",constraint:"1 to 100",default:100,quality:"N",details:`Indicates the default value used for the TargetLevel attribute, when a valve transitions from the closed to the open state, caused by an Open command, if a TargetLevel field is not present in the Open command.
If the LevelStep attribute is present and the value of a write interaction to this attribute field is not 100, the value shall be a supported value as defined by the LevelStep attribute, such that (Value received in the write interaction) % (Value of LevelStep attribute) equals 0. If the resulting value is not 0, the requested DefaultOpenLevel value is considered an unsupported value and a CONSTRAINT_ERROR status shall be returned.`,xref:{document:"cluster",section:"4.6.7.9"}}),p({name:"ValveFault",id:9,type:"ValveFaultBitmap",access:"R V",conformance:"O",default:0,details:"Indicates any faults registered by the valve.",xref:{document:"cluster",section:"4.6.7.10"}}),p({name:"LevelStep",id:10,type:"uint8",access:"R V",conformance:"[LVL]",constraint:"1 to 50",default:1,quality:"F",details:`Indicates the step size the valve can support.
The step size defined by this attribute is counted from 0 and the final step towards 100 may be different than what is defined in this attribute. For example, if the value of this attribute is 15, it results in these target values being supported; 0, 15, 30, 45, 60, 75, 90 and 100.
The values of 0 and 100 shall always be supported, regardless of the value of this attribute.`,xref:{document:"cluster",section:"4.6.7.11"}}),Se({name:"ValveStateChanged",id:0,access:"V",conformance:"O",priority:"info",details:"This event shall be generated when the valve state changed. For level changes, after the end of movement, for state changes when the new state has been reached.",xref:{document:"cluster",section:"4.6.9.1"},children:[o({name:"ValveState",id:0,type:"ValveStateEnum",conformance:"M",details:"This field shall indicate the new state of the valve.",xref:{document:"cluster",section:"4.6.9.1.1"}}),o({name:"ValveLevel",id:1,type:"percent",conformance:"LVL",details:"This field shall indicate the new level of the valve.",xref:{document:"cluster",section:"4.6.9.1.2"}})]}),Se({name:"ValveFault",id:1,access:"V",conformance:"O",priority:"info",details:"This event shall be generated when the valve registers or clears a fault, e.g. not being able to transition to the requested target level or state.",xref:{document:"cluster",section:"4.6.9.2"},children:[o({name:"ValveFault",id:0,type:"ValveFaultBitmap",conformance:"M",details:"This field shall indicate the value of the ValveFault attribute, at the time this event is generated.",xref:{document:"cluster",section:"4.6.9.2.1"}})]}),U({name:"Open",id:0,access:"O",conformance:"M",direction:"request",response:"status",details:"This command is used to set the valve to its open position.",xref:{document:"cluster",section:"4.6.8.1"},children:[o({name:"OpenDuration",id:0,type:"elapsed-s",conformance:"O",constraint:"min 1",quality:"X",details:`This field shall indicate the duration that the valve will remain open for this specific Open command.
A value of null shall indicate the duration is not set, meaning that the valve will remain open until closed by the user or some other automation.`,xref:{document:"cluster",section:"4.6.8.1.1"}}),o({name:"TargetLevel",id:1,type:"percent",conformance:"[LVL]",constraint:"min 1",details:"This field shall indicate the target level used for this specific Open command.",xref:{document:"cluster",section:"4.6.8.1.2"}})]}),U({name:"Close",id:1,access:"O",conformance:"M",direction:"request",response:"status",details:"This command is used to set the valve to its closed position.",xref:{document:"cluster",section:"4.6.8.2"}}),C({name:"ValveFaultBitmap",type:"map16",xref:{document:"cluster",section:"4.6.5.1"},children:[o({name:"GeneralFault",constraint:"0",description:"Unspecified fault detected"}),o({name:"Blocked",constraint:"1",description:"Valve is blocked"}),o({name:"Leaking",constraint:"2",description:"Valve has detected a leak"}),o({name:"NotConnected",constraint:"3",description:"No valve is connected to controller"}),o({name:"ShortCircuit",constraint:"4",description:"Short circuit is detected"}),o({name:"CurrentExceeded",constraint:"5",description:"The available current has been exceeded"})]}),C({name:"ValveStateEnum",type:"enum8",xref:{document:"cluster",section:"4.6.5.2"},children:[o({name:"Closed",id:0,conformance:"M",description:"Valve is in closed position"}),o({name:"Open",id:1,conformance:"M",description:"Valve is in open position"}),o({name:"Transitioning",id:2,conformance:"M",description:"Valve is transitioning between closed and open positions or between levels"})]}),C({name:"StatusCodeEnum",type:"enum8",xref:{document:"cluster",section:"4.6.6.1"},children:[o({name:"FailureDueToFault",id:2,description:"The requested action could not be performed due to a fault on the valve."})]})]});A.children.push(CT);var ST=ie({name:"DoorLock",id:257,classification:"application",pics:"DRLK",details:"The door lock cluster provides an interface to a generic way to secure a door. The physical object that provides the locking functionality is abstracted from the cluster. The cluster has a small list of mandatory attributes and functions and a list of optional features.",xref:{document:"cluster",section:"5.2"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:7}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"5.2.4"},children:[o({name:"PIN",conformance:"O",constraint:"0",description:"PinCredential",details:`If the User Feature is also supported then any PIN Code stored in the lock shall be associated with a User.
A lock may support multiple credential types so if the User feature is supported the UserType, UserStatus and Schedules are all associated with a User index and not directly with a PIN index. A User index may have several credentials associated with it.`,xref:{document:"cluster",section:"5.2.4.1"}}),o({name:"RID",conformance:"O",constraint:"1",description:"RfidCredential",details:`If the User Feature is also supported then any RFID credential stored in the lock shall be associated with a User.
A lock may support multiple credential types so if the User feature is supported the UserType, UserStatus and Schedules are all associated with a User index and not directly with a RFID index. A User
Index may have several credentials associated with it.`,xref:{document:"cluster",section:"5.2.4.2"}}),o({name:"FGP",conformance:"P, O",constraint:"2",description:"FingerCredentials",details:`Currently the cluster only defines the metadata format for notifications when a fingerprint/ finger vein credential is used to access the lock and doesn\u2019t describe how to create fingerprint/finger vein credentials. If the Users feature is also supported then the User that a fingerprint/finger vein is associated with can also have its UserType, UserStatus and Schedule modified.
A lock may support multiple credential types so if the User feature is supported the UserType, UserStatus and Schedules are all associated with a User index and not directly with a Finger index. A User Index may have several credentials associated with it.`,xref:{document:"cluster",section:"5.2.4.3"}}),o({name:"LOG",conformance:"O",constraint:"3",description:"Logging",details:"If Events are not supported the logging feature shall replace the Event reporting structure. If Events are supported the logging feature shall NOT be supported.",xref:{document:"cluster",section:"5.2.4.4"}}),o({name:"WDSCH",conformance:"O",constraint:"4",description:"WeekDayAccessSchedules",details:`If the User feature is supported then Week Day Schedules are applied to a User and not a credential.
Week Day Schedules are used to restrict access to a specified time window on certain days of the week. The schedule is repeated each week. When a schedule is cleared this clears the access restrictions and grants unrestricted access to the user. The lock may automatically adjust the UserType when a schedule is created or cleared.`,xref:{document:"cluster",section:"5.2.4.5"}}),o({name:"DPS",conformance:"O",constraint:"5",description:"DoorPositionSensor",details:"If this feature is supported this indicates that the lock has the ability to determine the position of the door which is separate from the state of the lock.",xref:{document:"cluster",section:"5.2.4.6"}}),o({name:"FACE",conformance:"P, O",constraint:"6",description:"FaceCredentials",details:`Currently the cluster only defines the metadata format for notifications when a face recognition, iris, or retina credential is used to access the lock and doesn\u2019t describe how to create face recognition, iris, or retina credentials. If the Users feature is also supported then the User that a face recognition, iris, or retina credential is associated with can also have its UserType, UserStatus and Schedule modified.
A lock may support multiple credential types so if the User feature is supported the UserType, UserStatus and Schedules are all associated with a User and not directly with a credential.`,xref:{document:"cluster",section:"5.2.4.7"}}),o({name:"COTA",conformance:"O",constraint:"7",description:"CredentialOverTheAirAccess",details:"If this feature is supported then the lock supports the ability to verify a credential provided in a lock/unlock command. Currently the cluster only supports providing the PIN credential to the lock/unlock commands. If this feature is supported then the PIN Credential feature shall also be supported.",xref:{document:"cluster",section:"5.2.4.8"}}),o({name:"USR",conformance:"[PIN | RID | FGP | FACE]",constraint:"8",description:"User",details:"If the User Feature is supported then a lock employs a User database. A User within the User database is used to associate credentials and schedules to single user record within the lock. This also means the UserType and UserStatus fields are associated with a User and not a credential.",xref:{document:"cluster",section:"5.2.4.9"}}),o({name:"NOT",conformance:"O",constraint:"9",description:"Notification",details:"This is a feature used before support of events. This feature supports notification commands and masks used to filter these notifications.",xref:{document:"cluster",section:"5.2.4.10"}}),o({name:"YDSCH",conformance:"O",constraint:"10",description:"YearDayAccessSchedules",details:`If the User feature is supported then Year Day Schedules are applied to a User and not a credential.
Year Day Schedules are used to restrict access to a specified date and time window. When a schedule is cleared this clears the access restrictions and grants unrestricted access to the user. The lock may automatically adjust the UserType when a schedule is created or cleared.`,xref:{document:"cluster",section:"5.2.4.11"}}),o({name:"HDSCH",conformance:"O",constraint:"11",description:"HolidaySchedules",details:"This feature is used to setup Holiday Schedule in the lock device. A Holiday Schedule sets a start and stop end date/time for the lock to use the specified operating mode set by the Holiday Schedule.",xref:{document:"cluster",section:"5.2.4.12"}}),o({name:"UBOLT",conformance:"O",constraint:"12",description:"Unbolting",details:"Locks that support this feature differentiate between unbolting and unlocking. The Unbolt Door command retracts the bolt without pulling the latch. The Unlock Door command fully unlocks the door by retracting the bolt and briefly pulling the latch. While the latch is pulled, the lock state changes to Unlatched. Locks without unbolting support don\u2019t differentiate between unbolting and unlocking and perform the same operation for both commands.",xref:{document:"cluster",section:"5.2.4.13"}})]}),p({name:"LockState",id:0,type:"LockStateEnum",access:"R V",conformance:"M",constraint:"desc",quality:"X S P",details:`This attribute may be NULL if the lock hardware does not currently know the status of the locking mechanism. For example, a lock may not know the LockState status after a power cycle until the first lock actuation is completed.
The Not Fully Locked value is used by a lock to indicate that the state of the lock is somewhere between Locked and Unlocked so it is only partially secured. For example, a deadbolt could be partially extended and not in a dead latched state.`,xref:{document:"cluster",section:"5.2.9.2"}}),p({name:"LockType",id:1,type:"LockTypeEnum",access:"R V",conformance:"M",constraint:"desc",details:"Indicates the type of door lock as defined in LockTypeEnum.",xref:{document:"cluster",section:"5.2.9.3"}}),p({name:"ActuatorEnabled",id:2,type:"bool",access:"R V",conformance:"M",details:"Indicates if the lock is currently able to (Enabled) or not able to (Disabled) process remote Lock, Unlock, or Unlock with Timeout commands.",xref:{document:"cluster",section:"5.2.9.4"}}),p({name:"DoorState",id:3,type:"DoorStateEnum",access:"R V",conformance:"DPS",constraint:"desc",quality:"X P",details:`Indicates the current door state as defined in DoorStateEnum.
Null only if an internal error prevents the retrieval of the current door state.`,xref:{document:"cluster",section:"5.2.9.5"}}),p({name:"DoorOpenEvents",id:4,type:"uint32",access:"RW VM",conformance:"[DPS]",details:"This attribute shall hold the number of door open events that have occurred since it was last zeroed.",xref:{document:"cluster",section:"5.2.9.6"}}),p({name:"DoorClosedEvents",id:5,type:"uint32",access:"RW VM",conformance:"[DPS]",details:"This attribute shall hold the number of door closed events that have occurred since it was last zeroed.",xref:{document:"cluster",section:"5.2.9.7"}}),p({name:"OpenPeriod",id:6,type:"uint16",access:"RW VM",conformance:"[DPS]",details:"This attribute shall hold the number of minutes the door has been open since the last time it transitioned from closed to open.",xref:{document:"cluster",section:"5.2.9.8"}}),p({name:"NumberOfLogRecordsSupported",id:16,type:"uint16",access:"R V",conformance:"LOG",default:0,quality:"F",details:"Indicates the number of available log records.",xref:{document:"cluster",section:"5.2.9.9"}}),p({name:"NumberOfTotalUsersSupported",id:17,type:"uint16",access:"R V",conformance:"USR",default:0,quality:"F",details:"Indicates the number of total users supported by the lock.",xref:{document:"cluster",section:"5.2.9.10"}}),p({name:"NumberOfPinUsersSupported",id:18,type:"uint16",access:"R V",conformance:"PIN",default:0,quality:"F",details:"Indicates the number of PIN users supported.",xref:{document:"cluster",section:"5.2.9.11"}}),p({name:"NumberOfRfidUsersSupported",id:19,type:"uint16",access:"R V",conformance:"RID",default:0,quality:"F",details:"Indicates the number of RFID users supported.",xref:{document:"cluster",section:"5.2.9.12"}}),p({name:"NumberOfWeekDaySchedulesSupportedPerUser",id:20,type:"uint8",access:"R V",conformance:"WDSCH",default:0,quality:"F",details:"Indicates the number of configurable week day schedule supported per user.",xref:{document:"cluster",section:"5.2.9.13"}}),p({name:"NumberOfYearDaySchedulesSupportedPerUser",id:21,type:"uint8",access:"R V",conformance:"YDSCH",default:0,quality:"F",details:"Indicates the number of configurable year day schedule supported per user.",xref:{document:"cluster",section:"5.2.9.14"}}),p({name:"NumberOfHolidaySchedulesSupported",id:22,type:"uint8",access:"R V",conformance:"HDSCH",default:0,quality:"F",details:"Indicates the number of holiday schedules supported for the entire door lock device.",xref:{document:"cluster",section:"5.2.9.15"}}),p({name:"MaxPinCodeLength",id:23,type:"uint8",access:"R V",conformance:"PIN",quality:"F",details:"Indicates the maximum length in bytes of a PIN Code on this device.",xref:{document:"cluster",section:"5.2.9.16"}}),p({name:"MinPinCodeLength",id:24,type:"uint8",access:"R V",conformance:"PIN",quality:"F",details:"Indicates the minimum length in bytes of a PIN Code on this device.",xref:{document:"cluster",section:"5.2.9.17"}}),p({name:"MaxRfidCodeLength",id:25,type:"uint8",access:"R V",conformance:"RID",quality:"F",details:"Indicates the maximum length in bytes of a RFID Code on this device. The value depends on the RFID code range specified by the manufacturer, if media anti-collision identifiers (UID) are used as RFID code, a value of 20 (equals 10 Byte ISO 14443A UID) is recommended.",xref:{document:"cluster",section:"5.2.9.18"}}),p({name:"MinRfidCodeLength",id:26,type:"uint8",access:"R V",conformance:"RID",quality:"F",details:"Indicates the minimum length in bytes of a RFID Code on this device. The value depends on the RFID code range specified by the manufacturer, if media anti-collision identifiers (UID) are used as RFID code, a value of 8 (equals 4 Byte ISO 14443A UID) is recommended.",xref:{document:"cluster",section:"5.2.9.19"}}),p({name:"CredentialRulesSupport",id:27,type:"CredentialRulesBitmap",access:"R V",conformance:"USR",default:1,quality:"F",details:"This attribute shall contain a bitmap with the bits set for the values of CredentialRuleEnum supported on this device.",xref:{document:"cluster",section:"5.2.9.20"}}),p({name:"NumberOfCredentialsSupportedPerUser",id:28,type:"uint8",access:"R V",conformance:"USR",default:0,quality:"F",details:`Indicates the number of credentials that could be assigned for each user.
Depending on the value of NumberOfRFIDUsersSupported and NumberOfPINUsersSupported it may not be possible to assign that number of credentials for a user.
For example, if the device supports only PIN and RFID credential types, NumberOfCredentialsSupportedPerUser is set to 10, NumberOfPINUsersSupported is set to 5 and NumberOfRFIDUsersSupported is set to 3, it will not be possible to actually assign 10 credentials for a user because maximum number of credentials in the database is 8.`,xref:{document:"cluster",section:"5.2.9.21"}}),p({name:"EnableLogging",id:32,type:"bool",access:"R[W] VA",conformance:"LOG",default:!0,quality:"P",details:`This attribute shall enable/disable event logging.
When event logging is enabled, all event messages are stored on the lock for retrieval. Logging events can be, but are not limited to, Tamper Alarm, Lock, Unlock, AutoRelock, User Code Added, User Code Cleared, Schedule Added, and Schedule Cleared. For a full detail of all the possible alarms and events, please refer to the full list in the Alarm and Event Masks Attribute Set.`,xref:{document:"cluster",section:"5.2.9.22"}}),p({name:"Language",id:33,type:"string",access:"R[W] VM",conformance:"O",constraint:"max 3",quality:"P",details:"Indicates the language for the on-screen or audible user interface using a 2- byte language code from ISO-639-1.",xref:{document:"cluster",section:"5.2.9.23"}}),p({name:"LedSettings",id:34,type:"LEDSettingEnum",access:"R[W] VM",conformance:"O",default:0,quality:"P",details:"Indicates the settings for the LED support, as defined by LEDSettingEnum.",xref:{document:"cluster",section:"5.2.9.24"}}),p({name:"AutoRelockTime",id:35,type:"uint32",access:"R[W] VM",conformance:"O",quality:"P",details:"Indicates the number of seconds to wait after unlocking a lock before it automatically locks again. 0=disabled. If set, unlock operations from any source will be timed. For one time unlock with timeout use the specific command.",xref:{document:"cluster",section:"5.2.9.25"}}),p({name:"SoundVolume",id:36,type:"SoundVolumeEnum",access:"R[W] VM",conformance:"O",default:0,quality:"P",details:"Indicates the sound volume on a door lock as defined by SoundVolumeEnum.",xref:{document:"cluster",section:"5.2.9.26"}}),p({name:"OperatingMode",id:37,type:"OperatingModeEnum",access:"R[W] VM",conformance:"M",constraint:"desc",default:0,quality:"P",details:"Indicates the current operating mode of the lock as defined in OperatingModeEnum.",xref:{document:"cluster",section:"5.2.9.27"}}),p({name:"SupportedOperatingModes",id:38,type:"OperatingModesBitmap",access:"R V",conformance:"M",default:65526,quality:"F",details:"This attribute shall contain a bitmap with all operating bits of the OperatingMode attribute supported by the lock. All operating modes NOT supported by a lock shall be set to one. The value of the OperatingMode enumeration defines the related bit to be set.",xref:{document:"cluster",section:"5.2.9.28"}}),p({name:"DefaultConfigurationRegister",id:39,type:"ConfigurationRegisterBitmap",access:"R V",conformance:"O",default:0,quality:"P",details:`Indicates the default configurations as they are physically set on the device (example: hardware dip switch setting, etc\u2026) and represents the default setting for some of the attributes within this cluster (for example: LED, Auto Lock, Sound Volume, and Operating Mode attributes).
This is a read-only attribute and is intended to allow clients to determine what changes may need to be made without having to query all the included attributes. It may be beneficial for the clients to know what the device\u2019s original settings were in the event that the device needs to be restored to factory default settings.
If the Client device would like to query and modify the door lock server\u2019s operating settings, it SHOULD send read and write attribute requests to the specific attributes.
For example, the Sound Volume attribute default value is Silent Mode. However, it is possible that the current Sound Volume is High Volume. Therefore, if the client wants to query/modify the current Sound Volume setting on the server, the client SHOULD read/write to the Sound Volume attribute.`,xref:{document:"cluster",section:"5.2.9.29"}}),p({name:"EnableLocalProgramming",id:40,type:"bool",access:"R[W] VA",conformance:"O",default:!0,quality:"P",details:"This attribute shall enable/disable local programming on the door lock of certain features (see LocalProgrammingFeatures attribute). If this value is set to TRUE then local programming is enabled on the door lock for all features. If it is set to FALSE then local programming is disabled on the door lock for those features whose bit is set to 0 in the LocalProgrammingFeatures attribute. Local programming shall be enabled by default.",xref:{document:"cluster",section:"5.2.9.30"}}),p({name:"EnableOneTouchLocking",id:41,type:"bool",access:"RW VM",conformance:"O",default:!0,quality:"P",details:"This attribute shall enable/disable the ability to lock the door lock with a single touch on the door lock.",xref:{document:"cluster",section:"5.2.9.31"}}),p({name:"EnableInsideStatusLed",id:42,type:"bool",access:"RW VM",conformance:"O",default:!0,quality:"P",details:"This attribute shall enable/disable an inside LED that allows the user to see at a glance if the door is locked.",xref:{document:"cluster",section:"5.2.9.32"}}),p({name:"EnablePrivacyModeButton",id:43,type:"bool",access:"RW VM",conformance:"O",default:!0,quality:"P",details:"This attribute shall enable/disable a button inside the door that is used to put the lock into privacy mode. When the lock is in privacy mode it cannot be manipulated from the outside.",xref:{document:"cluster",section:"5.2.9.33"}}),p({name:"LocalProgrammingFeatures",id:44,type:"LocalProgrammingFeaturesBitmap",access:"R[W] VA",conformance:"O",default:0,quality:"P",details:`Indicates the local programming features that will be disabled when EnableLocalProgramming attribute is set to False. If a door lock doesn\u2019t support disabling one aspect of local programming it shall return CONSTRAINT_ERROR during a write operation of this attribute. If the EnableLocalProgramming attribute is set to True then all local programming features shall be enabled regardless of the bits set to 0 in this attribute.
The features that can be disabled from local programming are defined in LocalProgrammingFeaturesBitmap.`,xref:{document:"cluster",section:"5.2.9.34"}}),p({name:"WrongCodeEntryLimit",id:48,type:"uint8",access:"R[W] VA",conformance:"PIN | RID",constraint:"1 to 255",quality:"P",details:`Indicates the number of incorrect Pin codes or RFID presentment attempts a user is allowed to enter before the lock will enter a lockout state. The value of this attribute is compared to all failing forms of credential presentation, including Pin codes used in an Unlock Command when RequirePINforRemoteOperation is set to true. Valid range is 1-255 incorrect attempts. The lockout state will be for the duration of UserCodeTemporaryDisableTime. If the attribute accepts writes and an attempt to write the value 0 is made, the device shall respond with CONSTRAINT_ERROR.
The lock may reset the counter used to track incorrect credential presentations as required by internal logic, environmental events, or other reasons. The lock shall reset the counter if a valid credential is presented.`,xref:{document:"cluster",section:"5.2.9.35"}}),p({name:"UserCodeTemporaryDisableTime",id:49,type:"uint8",access:"R[W] VA",conformance:"PIN | RID",constraint:"1 to 255",quality:"P",details:"Indicates the number of seconds that the lock shuts down following wrong code entry. Valid range is 1-255 seconds. Device can shut down to lock user out for specified amount of time. (Makes it difficult to try and guess a PIN for the device.) If the attribute accepts writes and an attempt to write the attribute to 0 is made, the device shall respond with CONSTRAINT_ERROR.",xref:{document:"cluster",section:"5.2.9.36"}}),p({name:"SendPinOverTheAir",id:50,type:"bool",access:"R[W] VA",conformance:"[!USR & PIN]",default:!0,quality:"P",details:`Indicates the door locks ability to send PINs over the air. If the attribute is True it is ok for the door lock server to send PINs over the air. This attribute determines the behavior of the server\u2019s TX operation. If it is false, then it is not ok for the device to send PIN in any messages over the air.
The PIN field within any door lock cluster message shall keep the first octet unchanged and masks the actual code by replacing with 0xFF. For example (PIN "1234" ): If the attribute value is True, 0x04 0x31 0x32 0x33 0x34 shall be used in the PIN field in any door lock cluster message payload. If the attribute value is False, 0x04 0xFF 0xFF 0xFF 0xFF shall be used.`,xref:{document:"cluster",section:"5.2.9.37"}}),p({name:"RequirePinForRemoteOperation",id:51,type:"bool",access:"R[W] VA",conformance:"COTA & PIN",default:!0,quality:"P",details:"Indicates if the door lock requires an optional PIN. If this attribute is set to True, the door lock server requires that an optional PINs be included in the payload of remote lock operation events like Lock, Unlock, Unlock with Timeout and Toggle in order to function.",xref:{document:"cluster",section:"5.2.9.38"}}),p({name:"SecurityLevel",id:52,conformance:"D",default:"0",xref:{document:"cluster",section:"5.2.9"}}),p({name:"ExpiringUserTimeout",id:53,type:"uint16",access:"R[W] VA",conformance:"[USR]",constraint:"1 to 2880",quality:"P",details:"Indicates the number of minutes a PIN, RFID, Fingerprint, or other credential associated with a user of type ExpiringUser shall remain valid after its first use before expiring. When the credential expires the UserStatus for the corresponding user record shall be set to OccupiedDisabled.",xref:{document:"cluster",section:"5.2.9.39"}}),p({name:"AlarmMask",id:64,type:"AlarmMaskBitmap",access:"RW VA",conformance:"O",default:65535,quality:"P",details:`This attribute is only supported if the Alarms cluster is on the same endpoint. The alarm mask is used to turn on/off alarms for particular functions. Alarms for an alarm group are enabled if the associated alarm mask bit is set. Each bit represents a group of alarms. Entire alarm groups can be turned on or off by setting or clearing the associated bit in the alarm mask.
This mask DOES NOT apply to the Events mechanism of this cluster.`,xref:{document:"cluster",section:"5.2.9.40"}}),p({name:"KeypadOperationEventMask",id:65,type:"EventMaskBitmap",access:"RW VA",conformance:"[NOT & PIN]",default:65535,quality:"P",details:`Event mask used to turn on and off the transmission of keypad operation events. This mask DOES NOT apply to the storing of events in the event log. This mask only applies to the Operation Event Notification Command.
This mask DOES NOT apply to the Events mechanism of this cluster.`,xref:{document:"cluster",section:"5.2.9.41"}}),p({name:"RemoteOperationEventMask",id:66,type:"EventMaskBitmap",access:"RW VA",conformance:"[NOT]",default:65535,quality:"P",details:`Event mask used to turn on and off the transmission of remote operation events. This mask DOES NOT apply to the storing of events in the event log. This mask only applies to the Operation Event Notification Command.
This mask DOES NOT apply to the Events mechanism of this cluster.`,xref:{document:"cluster",section:"5.2.9.42"}}),p({name:"ManualOperationEventMask",id:67,type:"EventMaskBitmap",access:"RW VA",conformance:"[NOT]",default:65535,quality:"P",details:`Event mask used to turn on and off manual operation events. This mask DOES NOT apply to the storing of events in the event log. This mask only applies to the Operation Event Notification Command.
This mask DOES NOT apply to the Events mechanism of this cluster.`,xref:{document:"cluster",section:"5.2.9.43"}}),p({name:"RfidOperationEventMask",id:68,type:"EventMaskBitmap",access:"RW VA",conformance:"[NOT & RID]",default:65535,quality:"P",details:`Event mask used to turn on and off RFID operation events. This mask DOES NOT apply to the storing of events in the event log. This mask only applies to the Operation Event Notification Command.
This mask DOES NOT apply to the Events mechanism of this cluster.`,xref:{document:"cluster",section:"5.2.9.44"}}),p({name:"KeypadProgrammingEventMask",id:69,type:"EventMaskBitmap",access:"RW VA",conformance:"[NOT & PIN]",default:65535,quality:"P",details:`Event mask used to turn on and off keypad programming events. This mask DOES NOT apply to the storing of events in the event log. This mask only applies to the Programming Event Notification Command.
This mask DOES NOT apply to the Events mechanism of this cluster.`,xref:{document:"cluster",section:"5.2.9.45"},children:[o({name:"Unknown",constraint:"0"}),o({name:"PinCodeChanged",constraint:"1"}),o({name:"PinAdded",constraint:"2"}),o({name:"PinCleared",constraint:"3"}),o({name:"PinChanged",constraint:"4"})]}),p({name:"RemoteProgrammingEventMask",id:70,type:"EventMaskBitmap",access:"RW VA",conformance:"[NOT]",default:65535,quality:"P",details:`Event mask used to turn on and off remote programming events. This mask DOES NOT apply to the storing of events in the event log. This mask only applies to the Programming Event Notification Command.
This mask DOES NOT apply to the Events mechanism of this cluster.`,xref:{document:"cluster",section:"5.2.9.46"},children:[o({name:"Unknown",constraint:"0"}),o({name:"PinAdded",constraint:"2"}),o({name:"PinCleared",constraint:"3"}),o({name:"PinChanged",constraint:"4"}),o({name:"RfidCodeAdded",constraint:"5"}),o({name:"RfidCodeCleared",constraint:"6"})]}),p({name:"RfidProgrammingEventMask",id:71,type:"EventMaskBitmap",access:"RW VA",conformance:"[NOT & RID]",default:65535,quality:"P",details:`Event mask used to turn on and off RFID programming events. This mask DOES NOT apply to the storing of events in the event log. This mask only applies to the Programming Event Notification Command.
This mask DOES NOT apply to the Events mechanism of this cluster.
This mask DOES NOT apply to the Events mechanism of this cluster.`,xref:{document:"cluster",section:"5.2.9.47"},children:[o({name:"Unknown",constraint:"0"}),o({name:"IdAdded",constraint:"5"}),o({name:"IdCleared",constraint:"6"})]}),Se({name:"DoorLockAlarm",id:0,access:"V",conformance:"M",priority:"critical",details:"The door lock server provides several alarms which can be sent when there is a critical state on the door lock. The alarms available for the door lock server are listed in AlarmCodeEnum.",xref:{document:"cluster",section:"5.2.11.1"},children:[o({name:"AlarmCode",id:0,type:"AlarmCodeEnum",conformance:"M",details:"This field shall indicate the alarm code of the event that has happened.",xref:{document:"cluster",section:"5.2.11.1.1"}})]}),Se({name:"DoorStateChange",id:1,access:"V",conformance:"DPS",priority:"critical",details:"The door lock server sends out a DoorStateChange event when the door lock door state changes.",xref:{document:"cluster",section:"5.2.11.2"},children:[o({name:"DoorState",id:0,type:"DoorStateEnum",conformance:"M",details:"This field shall indicate the new door state for this door event.",xref:{document:"cluster",section:"5.2.11.2.1"}})]}),Se({name:"LockOperation",id:2,access:"V",conformance:"M",priority:"critical",details:`The door lock server sends out a LockOperation event when the event is triggered by the various lock operation sources.
  \u2022 If the door lock server supports the Unbolt Door command, it shall generate a LockOperation     event with LockOperationType set to Unlock after an Unbolt Door command succeeds.
  \u2022 If the door lock server supports the Unbolting feature and an Unlock Door command is performed,     it shall generate a LockOperation event with LockOperationType set to Unlatch when the     unlatched state is reached and a LockOperation event with LockOperationType set to Unlock when     the lock successfully completes the unlock \u2192 hold latch \u2192 release latch and return to unlock     state operation.
  \u2022 If the command fails during holding or releasing the latch but after passing the unlocked     state, the door lock server shall generate a LockOperationError event with LockOperationType     set to Unlatch and a LockOperation event with LockOperationType set to Unlock.
    \u25E6 If it fails before reaching the unlocked state, the door lock server shall generate only a       LockOperationError event with LockOperationType set to Unlock.
  \u2022 Upon manual actuation, a door lock server that supports the Unbolting feature:
    \u25E6 shall generate a LockOperation event of LockOperationType Unlatch when it is actuated from       the outside.
    \u25E6 may generate a LockOperation event of LockOperationType Unlatch when it is actuated from the       inside.`,xref:{document:"cluster",section:"5.2.11.3"},children:[o({name:"LockOperationType",id:0,type:"LockOperationTypeEnum",conformance:"M",details:"This field shall indicate the type of the lock operation that was performed.",xref:{document:"cluster",section:"5.2.11.3.1"}}),o({name:"OperationSource",id:1,type:"OperationSourceEnum",conformance:"M",details:"This field shall indicate the source of the lock operation that was performed.",xref:{document:"cluster",section:"5.2.11.3.2"}}),o({name:"UserIndex",id:2,type:"uint16",conformance:"M",quality:"X",details:"This field shall indicate the UserIndex who performed the lock operation. This shall be null if there is no user index that can be determined for the given operation source. This shall NOT be null if a user index can be determined. In particular, this shall NOT be null if the operation was associated with a valid credential.",xref:{document:"cluster",section:"5.2.11.3.3"}}),o({name:"FabricIndex",id:3,type:"fabric-idx",conformance:"M",quality:"X",details:'This field shall indicate the fabric index of the fabric that performed the lock operation. This shall be null if there is no fabric that can be determined for the given operation source. This shall NOT be null if the operation source is "Remote".',xref:{document:"cluster",section:"5.2.11.3.4"}}),o({name:"SourceNode",id:4,type:"node-id",conformance:"M",quality:"X",details:'This field shall indicate the Node ID of the node that performed the lock operation. This shall be null if there is no Node associated with the given operation source. This shall NOT be null if the operation source is "Remote".',xref:{document:"cluster",section:"5.2.11.3.5"}}),o({name:"Credentials",id:5,type:"list",conformance:"[USR]",constraint:"1 to numberOfCredentialsSupportedPerUser",quality:"X",details:"This field shall indicate the list of credentials used in performing the lock operation. This shall be null if no credentials were involved.",xref:{document:"cluster",section:"5.2.11.3.6"},children:[o({name:"entry",type:"CredentialStruct"})]})]}),Se({name:"LockOperationError",id:3,access:"V",conformance:"M",priority:"critical",details:"The door lock server sends out a LockOperationError event when a lock operation fails for various reasons.",xref:{document:"cluster",section:"5.2.11.4"},children:[o({name:"LockOperationType",id:0,type:"LockOperationTypeEnum",conformance:"M",details:"This field shall indicate the type of the lock operation that was performed.",xref:{document:"cluster",section:"5.2.11.4.1"}}),o({name:"OperationSource",id:1,type:"OperationSourceEnum",conformance:"M",details:"This field shall indicate the source of the lock operation that was performed.",xref:{document:"cluster",section:"5.2.11.4.2"}}),o({name:"OperationError",id:2,type:"OperationErrorEnum",conformance:"M",details:"This field shall indicate the lock operation error triggered when the operation was performed.",xref:{document:"cluster",section:"5.2.11.4.3"}}),o({name:"UserIndex",id:3,type:"uint16",conformance:"M",quality:"X",details:"This field shall indicate the lock UserIndex who performed the lock operation. This shall be null if there is no user id that can be determined for the given operation source.",xref:{document:"cluster",section:"5.2.11.4.4"}}),o({name:"FabricIndex",id:4,type:"fabric-idx",conformance:"M",quality:"X",details:'This field shall indicate the fabric index of the fabric that performed the lock operation. This shall be null if there is no fabric that can be determined for the given operation source. This shall NOT be null if the operation source is "Remote".',xref:{document:"cluster",section:"5.2.11.4.5"}}),o({name:"SourceNode",id:5,type:"node-id",conformance:"M",quality:"X",details:'This field shall indicate the Node ID of the node that performed the lock operation. This shall be null if there is no Node associated with the given operation source. This shall NOT be null if the operation source is "Remote".',xref:{document:"cluster",section:"5.2.11.4.6"}}),o({name:"Credentials",id:6,type:"list",conformance:"[USR]",constraint:"1 to numberOfCredentialsSupportedPerUser",quality:"X",details:"This field shall indicate the list of credentials used in performing the lock operation. This shall be null if no credentials were involved.",xref:{document:"cluster",section:"5.2.11.4.7"},children:[o({name:"entry",type:"CredentialStruct"})]})]}),Se({name:"LockUserChange",id:4,access:"V",conformance:"USR",priority:"info",details:"The door lock server sends out a LockUserChange event when a lock user, schedule, or credential change has occurred.",xref:{document:"cluster",section:"5.2.11.5"},children:[o({name:"LockDataType",id:0,type:"LockDataTypeEnum",conformance:"M",details:"This field shall indicate the lock data type that was changed.",xref:{document:"cluster",section:"5.2.11.5.1"}}),o({name:"DataOperationType",id:1,type:"DataOperationTypeEnum",conformance:"M",details:"This field shall indicate the data operation performed on the lock data type changed.",xref:{document:"cluster",section:"5.2.11.5.2"}}),o({name:"OperationSource",id:2,type:"OperationSourceEnum",conformance:"M",constraint:"unspecified, keypad, remote",details:"This field shall indicate the source of the user data change.",xref:{document:"cluster",section:"5.2.11.5.3"}}),o({name:"UserIndex",id:3,type:"uint16",conformance:"M",quality:"X",details:"This field shall indicate the lock UserIndex associated with the change (if any). This shall be null if there is no specific user associated with the data operation. This shall be 0xFFFE if all users are affected (e.g. Clear Users).",xref:{document:"cluster",section:"5.2.11.5.4"}}),o({name:"FabricIndex",id:4,type:"fabric-idx",conformance:"M",quality:"X",details:'This field shall indicate the fabric index of the fabric that performed the change (if any). This shall be null if there is no fabric that can be determined to have caused the change. This shall NOT be null if the operation source is "Remote".',xref:{document:"cluster",section:"5.2.11.5.5"}}),o({name:"SourceNode",id:5,type:"node-id",conformance:"M",quality:"X",details:'This field shall indicate the Node ID that performed the change (if any). The Node ID of the node that performed the change. This shall be null if there was no Node involved in the change. This shall NOT be null if the operation source is "Remote".',xref:{document:"cluster",section:"5.2.11.5.6"}}),o({name:"DataIndex",id:6,type:"uint16",conformance:"M",quality:"X",details:"This field shall indicate the index of the specific item that was changed (e.g. schedule, PIN, RFID, etc.) in the list of items identified by LockDataType. This shall be null if the LockDataType does not correspond to a list that can be indexed into (e.g. ProgrammingUser). This shall be 0xFFFE if all indices are affected (e.g. ClearPINCode, ClearRFIDCode, ClearWeekDaySchedule, ClearYearDaySchedule, etc.).",xref:{document:"cluster",section:"5.2.11.5.7"}})]}),U({name:"LockDoor",id:0,access:"O T",conformance:"M",direction:"request",response:"status",details:`This command causes the lock device to lock the door. This command includes an optional code for the lock. The door lock may require a PIN depending on the value of the RequirePINForRemoteOperation attribute.
\u2020 The PIN/RFID Code is an obsolete field name, use PINCode instead.`,xref:{document:"cluster",section:"5.2.10.1"},children:[o({name:"PinCode",id:0,type:"octstr",conformance:"[COTA & PIN]",details:`If the RequirePINforRemoteOperation attribute is True then PINCode field shall be provided and the door lock shall NOT grant access if it is not provided.
If the PINCode field is provided, the door lock shall verify PINCode before granting access regardless of the value of RequirePINForRemoteOperation attribute.
When the PINCode field is provided an invalid PIN will count towards the WrongCodeEntryLimit and the UserCodeTemporaryDisableTime will be triggered if the WrongCodeEntryLimit is exceeded. The lock shall ignore any attempts to lock/unlock the door until the UserCodeTemporaryDisableTime expires.`,xref:{document:"cluster",section:"5.2.10.1.1"}})]}),U({name:"UnlockDoor",id:1,access:"O T",conformance:"M",direction:"request",response:"status",details:`This command causes the lock device to unlock the door. This command includes an optional code for the lock. The door lock may require a code depending on the value of the RequirePINForRemoteOperation attribute.
NOTE
If the attribute AutoRelockTime is supported the lock will transition to the locked state when the auto relock time has expired.
\u2020 The PIN/RFID Code is an obsolete field name, use PINCode instead.`,xref:{document:"cluster",section:"5.2.10.2"},children:[o({name:"PinCode",id:0,type:"octstr",conformance:"[COTA & PIN]",details:"See PINCode field.",xref:{document:"cluster",section:"5.2.10.2.1"}})]}),U({name:"Toggle",id:2,access:"O T",conformance:"X",direction:"request",response:"status",xref:{document:"cluster",section:"5.2.10"}}),U({name:"UnlockWithTimeout",id:3,access:"O T",conformance:"O",direction:"request",response:"status",details:`This command causes the lock device to unlock the door with a timeout parameter. After the time in seconds specified in the timeout field, the lock device will relock itself automatically. This timeout parameter is only temporary for this message transition and overrides the default relock time
as specified in the AutoRelockTime attribute. If the door lock device is not capable of or does not want to support temporary Relock Timeout, it SHOULD NOT support this optional command.
\u2020 The PIN/RFID Code is an obsolete field name, use PINCode instead.`,xref:{document:"cluster",section:"5.2.10.3"},children:[o({name:"Timeout",id:0,type:"uint16",conformance:"M",details:"This field shall indicate the timeout in seconds to wait before relocking the door lock. This value is independent of the AutoRelockTime attribute value.",xref:{document:"cluster",section:"5.2.10.3.1"}}),o({name:"PinCode",id:1,type:"octstr",conformance:"[COTA & PIN]",details:"See PINCode field.",xref:{document:"cluster",section:"5.2.10.3.2"}})]}),U({name:"GetLogRecord",id:4,access:"M",conformance:"LOG",direction:"request",response:"GetLogRecordResponse",details:`Request a log record. Log number is between 1 \u2013 [Number of Log Records Supported attribute]. If log number 0 is requested then the most recent log entry is returned.
Log record format: The log record format is defined in the description of the GetLogRecordResponse command.`,xref:{document:"cluster",section:"5.2.10.4"},children:[o({name:"LogIndex",id:0,type:"uint16",conformance:"M",constraint:"desc"})]}),U({name:"GetLogRecordResponse",id:4,conformance:"LOG",direction:"response",details:"Returns the specified log record. If an invalid log entry ID was requested, it is set to 0 and the most recent log entry will be returned.",xref:{document:"cluster",section:"5.2.10.5"},children:[o({name:"LogEntryId",id:0,type:"uint16",conformance:"M",constraint:"desc",details:"This field shall indicate the index into the log table where this log entry is stored. If the log entry requested is 0, the most recent log is returned with the appropriate log entry ID.",xref:{document:"cluster",section:"5.2.10.5.1"}}),o({name:"Timestamp",id:1,type:"epoch-s",conformance:"M",details:"This field shall indicate the timestamp for all events and alarms on the door lock in Epoch Time in Seconds with local time offset based on the local timezone and DST offset on the day of the event.",xref:{document:"cluster",section:"5.2.10.5.2"}}),o({name:"EventType",id:2,type:"EventTypeEnum",conformance:"M",details:"This field shall indicate the type of event that took place on the door lock, as defined in EventTypeEnum.",xref:{document:"cluster",section:"5.2.10.5.3"}}),o({name:"Source",id:3,type:"EventSourceEnum",conformance:"M",details:`This field shall indicate the source value as defined in EventSourceEnum.
If the EventType is 2 (Alarm) then the source SHOULD be, but does not have to be 255 (Indeterminate).`,xref:{document:"cluster",section:"5.2.10.5.4"}}),o({name:"EventId",id:4,type:"uint8",conformance:"M",constraint:"desc",details:"This field shall indicate the type of event that took place on the door lock depending on the event code table provided for a given event type and source. See Operation Event Codes.",xref:{document:"cluster",section:"5.2.10.5.5"}}),o({name:"UserId",id:5,type:"uint16",conformance:"M",constraint:"desc",details:"This field shall indicate the ID of the user who generated the event on the door lock if one is available. Otherwise, the value is 0xFFFF.",xref:{document:"cluster",section:"5.2.10.5.6"}}),o({name:"Pin",id:6,type:"octstr",conformance:"M",details:"This field shall indicate the PIN code or RFID code that was used to create the event on the door lock if one is available.",xref:{document:"cluster",section:"5.2.10.5.7"}})]}),U({name:"SetPinCode",id:5,access:"A T",conformance:"!USR & PIN",direction:"request",response:"status",details:`Set a PIN Code into the lock.
Return status is a global status code or a cluster-specific status code from the Status Codes table and shall be one of the following values:`,xref:{document:"cluster",section:"5.2.10.6"},children:[o({name:"UserId",id:0,type:"uint16",conformance:"M",constraint:"desc",details:"This field shall indicate the user ID. The value of the UserID field shall be between 0 and the value of the NumberOfPINUsersSupported attribute.",xref:{document:"cluster",section:"5.2.10.6.1"}}),o({name:"UserStatus",id:1,type:"UserStatusEnum",conformance:"M",constraint:"desc",default:1,quality:"X",details:"This field shall indicate the user status. Only the values 1 (Occupied/Enabled) and 3 (Occupied/Disabled) are allowed for UserStatus.",xref:{document:"cluster",section:"5.2.10.6.2"}}),o({name:"UserType",id:2,type:"UserTypeEnum",conformance:"M",default:0,quality:"X"}),o({name:"Pin",id:3,type:"octstr",conformance:"M"})]}),U({name:"GetPinCode",id:6,access:"A",conformance:"!USR & PIN",direction:"request",response:"GetPinCodeResponse",details:"Retrieve a PIN Code.",xref:{document:"cluster",section:"5.2.10.7"},children:[o({name:"UserId",id:0,type:"uint16",conformance:"M",constraint:"desc",details:"This field shall indicate the user ID. The value of the UserID field shall be between 0 and the value of the NumberOfPINUsersSupported attribute.",xref:{document:"cluster",section:"5.2.10.7.1"}})]}),U({name:"GetPinCodeResponse",id:6,conformance:"!USR & PIN",direction:"response",details:`Returns the PIN for the specified user ID.
If the requested UserID is valid and the Code doesn\u2019t exist, Get RFID Code Response shall have the following format:
UserID = requested User ID UserStatus = 0 (Available) UserType = Null (Not supported) PINCode = 0 (zero length)
If the requested UserID is invalid, send Default Response with an error status. The error status shall be equal to CONSTRAINT_ERROR when User_ID is less than the max number of users supported, and NOT_FOUND if greater than or equal to the max number of users supported.`,xref:{document:"cluster",section:"5.2.10.8"},children:[o({name:"UserId",id:0,type:"uint16",conformance:"M",constraint:"desc"}),o({name:"UserStatus",id:1,type:"UserStatusEnum",conformance:"M",constraint:"desc",default:0,quality:"X"}),o({name:"UserType",id:2,type:"UserTypeEnum",conformance:"M",constraint:"desc",quality:"X"}),o({name:"PinCode",id:3,type:"octstr",conformance:"M",quality:"X"})]}),U({name:"ClearPinCode",id:7,access:"A T",conformance:"!USR & PIN",direction:"request",response:"status",details:`Clear a PIN code or all PIN codes.
\u2020 The User ID is an obsolete field name, use PINSlotIndex instead.
For each PIN Code cleared whose user doesn\u2019t have a RFID Code or other credential type, then corresponding user record\u2019s UserStatus value shall be set to Available, and UserType value shall be set to UnrestrictedUser and all schedules shall be cleared.`,xref:{document:"cluster",section:"5.2.10.9"},children:[o({name:"PinSlotIndex",id:0,type:"uint16",conformance:"M",constraint:"1 to numberOfPinUsersSupported, 65534",details:"This field shall specify a valid PIN code slot index or 0xFFFE to indicate all PIN code slots shall be cleared.",xref:{document:"cluster",section:"5.2.10.9.1"}})]}),U({name:"ClearAllPinCodes",id:8,access:"A T",conformance:"!USR & PIN",direction:"request",response:"status",details:`Clear out all PINs on the lock.
NOTE
On the server, the clear all PIN codes command SHOULD have the same effect as the ClearPINCode command with respect to the setting of user status, user type and schedules.`,xref:{document:"cluster",section:"5.2.10.10"}}),U({name:"SetUserStatus",id:9,access:"A",conformance:"!USR & (PIN | RID | FGP)",direction:"request",response:"status",details:"Set the status of a user ID.",xref:{document:"cluster",section:"5.2.10.11"},children:[o({name:"UserId",id:0,type:"uint16",conformance:"M",constraint:"desc",details:"This field shall indicate the user ID. The value of the UserID field shall be between 0 and the value of the NumberOfPINUsersSupported attribute.",xref:{document:"cluster",section:"5.2.10.11.1"}}),o({name:"UserStatus",id:1,type:"UserStatusEnum",conformance:"M",constraint:"desc",details:"UserStatus value of Available is not allowed. In order to clear a user id, the ClearUser Command shall be used. For user status value please refer to UserStatusEnum.",xref:{document:"cluster",section:"5.2.10.11.2"}})]}),U({name:"GetUserStatus",id:10,access:"A",conformance:"!USR & (PIN | RID | FGP)",direction:"request",response:"GetUserStatusResponse",details:"Get the status of a user.",xref:{document:"cluster",section:"5.2.10.12"},children:[o({name:"UserId",id:0,type:"uint16",conformance:"M",constraint:"desc",details:"This field shall indicate the user ID. The value of the UserID field shall be between 0 and the value of the NumberOfPINUsersSupported attribute.",xref:{document:"cluster",section:"5.2.10.12.1"}})]}),U({name:"GetUserStatusResponse",id:10,conformance:"!USR",direction:"response",details:"Returns the user status for the specified user ID.",xref:{document:"cluster",section:"5.2.10.13"},children:[o({name:"UserId",id:0,type:"uint16",conformance:"M",constraint:"desc",details:"This field shall indicate the user ID provided in the request.",xref:{document:"cluster",section:"5.2.10.13.1"}}),o({name:"UserStatus",id:1,type:"UserStatusEnum",conformance:"M",details:"This field shall indicate the current status of the requested user ID.",xref:{document:"cluster",section:"5.2.10.13.2"}})]}),U({name:"SetWeekDaySchedule",id:11,access:"A",conformance:"WDSCH",direction:"request",response:"status",details:`Set a weekly repeating schedule for a specified user.
\u2020 The Schedule ID and User ID are obsolete field names, use WeekDayIndex and UserIndex instead, respectively.
The associated UserType may be changed to ScheduleRestrictedUser by the lock when a Week Day schedule is set.
Return status shall be one of the following values:`,xref:{document:"cluster",section:"5.2.10.14"},children:[o({name:"WeekDayIndex",id:0,type:"uint8",conformance:"M",constraint:"1 to numberOfWeekDaySchedulesSupportedPerUser",details:"This field shall indicate the index of the Week Day schedule.",xref:{document:"cluster",section:"5.2.10.14.1"}}),o({name:"UserIndexUserId",id:1,type:"uint16",conformance:"M",constraint:"1 to numberOfTotalUsersSupported"}),o({name:"DaysMask",id:2,type:"DaysMaskBitmap",conformance:"M",details:"This field shall indicate which week days the schedule is active.",xref:{document:"cluster",section:"5.2.10.14.3"}}),o({name:"StartHour",id:3,type:"uint8",conformance:"M",constraint:"0 to 23",details:"This field shall indicate the starting hour for the Week Day schedule.",xref:{document:"cluster",section:"5.2.10.14.4"}}),o({name:"StartMinute",id:4,type:"uint8",conformance:"M",constraint:"0 to 59",details:"This field shall indicate the starting minute for the Week Day schedule.",xref:{document:"cluster",section:"5.2.10.14.5"}}),o({name:"EndHour",id:5,type:"uint8",conformance:"M",constraint:"0 to 23",details:"This field shall indicate the ending hour for the Week Day schedule. EndHour shall be equal to or greater than StartHour.",xref:{document:"cluster",section:"5.2.10.14.6"}}),o({name:"EndMinute",id:6,type:"uint8",conformance:"M",constraint:"0 to 59",details:`This field shall indicate the ending minute for the Week Day schedule. If EndHour is equal to StartHour then EndMinute shall be greater than StartMinute.
If the EndHour is equal to 23 and the EndMinute is equal to 59 the Lock shall grant access to the user up until 23:59:59.`,xref:{document:"cluster",section:"5.2.10.14.7"}})]}),U({name:"GetWeekDaySchedule",id:12,access:"A",conformance:"WDSCH",direction:"request",response:"GetWeekDayScheduleResponse",details:`Retrieve the specific weekly schedule for the specific user.
\u2020 The Schedule ID and User ID are obsolete field names, use WeekDayIndex and UserIndex instead, respectively.`,xref:{document:"cluster",section:"5.2.10.15"},children:[o({name:"WeekDayIndex",id:0,type:"uint8",conformance:"M",constraint:"1 to numberOfWeekDaySchedulesSupportedPerUser"}),o({name:"UserIndexUserId",id:1,type:"uint16",conformance:"M",constraint:"1 to numberOfTotalUsersSupported"})]}),U({name:"GetWeekDayScheduleResponse",id:12,conformance:"WDSCH",direction:"response",details:`Returns the weekly repeating schedule data for the specified schedule index.
\u2020 The Schedule ID and User ID are obsolete field names, use WeekDayIndex and UserIndex instead, respectively.`,xref:{document:"cluster",section:"5.2.10.16"},children:[o({name:"WeekDayIndex",id:0,type:"uint8",conformance:"M",constraint:"1 to numberOfWeekDaySchedulesSupportedPerUser",details:"This field shall indicate the index of the Week Day schedule.",xref:{document:"cluster",section:"5.2.10.16.1"}}),o({name:"UserIndexUserId",id:1,type:"uint16",conformance:"M",constraint:"1 to numberOfTotalUsersSupported"}),o({name:"Status",id:2,type:"status",conformance:"M",constraint:"desc",default:0,details:`Status shall be one of the following values:
  \u2022 SUCCESS if both WeekDayIndex and UserIndex are valid and there is a corresponding schedule     entry.
  \u2022 INVALID_COMMAND if either WeekDayIndex and/or UserIndex values are not within valid range
  \u2022 NOT_FOUND if no corresponding schedule entry found for WeekDayIndex.
  \u2022 NOT_FOUND if no corresponding user entry found for UserIndex.
If this field is SUCCESS, the optional fields for this command shall be present. For other (error) status values, only the fields up to the status field shall be present.`,xref:{document:"cluster",section:"5.2.10.16.3"}}),o({name:"DaysMask",id:3,type:"DaysMaskBitmap",conformance:"O"}),o({name:"StartHour",id:4,type:"uint8",conformance:"O",constraint:"0 to 23",details:"This field shall indicate the starting hour for the Week Day schedule.",xref:{document:"cluster",section:"5.2.10.16.4"}}),o({name:"StartMinute",id:5,type:"uint8",conformance:"O",constraint:"0 to 59",details:"This field shall indicate the starting minute for the Week Day schedule.",xref:{document:"cluster",section:"5.2.10.16.5"}}),o({name:"EndHour",id:6,type:"uint8",conformance:"O",constraint:"0 to 23",details:"This field shall indicate the ending hour for the Week Day schedule. EndHour shall be equal to or greater than StartHour.",xref:{document:"cluster",section:"5.2.10.16.6"}}),o({name:"EndMinute",id:7,type:"uint8",conformance:"O",constraint:"0 to 59",details:"This field shall indicate the ending minute for the Week Day schedule. If EndHour is equal to StartHour then EndMinute shall be greater than StartMinute.",xref:{document:"cluster",section:"5.2.10.16.7"}})]}),U({name:"ClearWeekDaySchedule",id:13,access:"A",conformance:"WDSCH",direction:"request",response:"status",details:`Clear the specific weekly schedule or all weekly schedules for the specific user.
\u2020 The Schedule ID and User ID are obsolete field names, use WeekDayIndex and UserIndex instead, respectively.
Return status shall be one of the following values:`,xref:{document:"cluster",section:"5.2.10.17"},children:[o({name:"WeekDayIndex",id:0,type:"uint8",conformance:"M",constraint:"1 to numberOfWeekDaySchedulesSupportedPerUser, 254",details:"This field shall indicate the Week Day schedule index to clear or 0xFE to clear all Week Day schedules for the specified user.",xref:{document:"cluster",section:"5.2.10.17.1"}}),o({name:"UserIndexUserId",id:1,type:"uint16",conformance:"M",constraint:"1 to numberOfTotalUsersSupported"})]}),U({name:"SetYearDaySchedule",id:14,access:"A",conformance:"YDSCH",direction:"request",response:"status",details:`Set a time-specific schedule ID for a specified user.
\u2020 The Schedule ID and User ID are obsolete field names, use YearDayIndex and UserIndex instead, respectively.
The associated UserType may be changed to ScheduleRestrictedUser by the lock when a Year Day schedule is set.
Return status shall be one of the following values:`,xref:{document:"cluster",section:"5.2.10.18"},children:[o({name:"YearDayIndex",id:0,type:"uint8",conformance:"M",constraint:"1 to numberOfYearDaySchedulesSupportedPerUser",details:"This field shall indicate the index of the Year Day schedule.",xref:{document:"cluster",section:"5.2.10.18.1"}}),o({name:"UserIndexUserId",id:1,type:"uint16",conformance:"M",constraint:"1 to numberOfTotalUsersSupported"}),o({name:"LocalStartTime",id:2,type:"epoch-s",conformance:"M",details:"This field shall indicate the starting time for the Year Day schedule in Epoch Time in Seconds with local time offset based on the local timezone and DST offset on the day represented by the value.",xref:{document:"cluster",section:"5.2.10.18.3"}}),o({name:"LocalEndTime",id:3,type:"epoch-s",conformance:"M",details:"This field shall indicate the ending time for the Year Day schedule in Epoch Time in Seconds with local time offset based on the local timezone and DST offset on the day represented by the value. LocalEndTime shall be greater than LocalStartTime.",xref:{document:"cluster",section:"5.2.10.18.4"}})]}),U({name:"GetYearDaySchedule",id:15,access:"A",conformance:"YDSCH",direction:"request",response:"GetYearDayScheduleResponse",details:`Retrieve the specific year day schedule for the specific schedule and user indexes.
\u2020 The Schedule ID and User ID are obsolete field names, use YearDayIndex and UserIndex instead, respectively.`,xref:{document:"cluster",section:"5.2.10.19"},children:[o({name:"YearDayIndex",id:0,type:"uint8",conformance:"M",constraint:"1 to numberOfYearDaySchedulesSupportedPerUser"}),o({name:"UserIndexUserId",id:1,type:"uint16",conformance:"M",constraint:"1 to numberOfTotalUsersSupported"})]}),U({name:"GetYearDayScheduleResponse",id:15,conformance:"YDSCH",direction:"response",details:`Returns the year day schedule data for the specified schedule and user indexes.
\u2020 The Schedule ID and User ID are obsolete field names, use YearDayIndex and UserIndex instead, respectively.`,xref:{document:"cluster",section:"5.2.10.20"},children:[o({name:"YearDayIndex",id:0,type:"uint8",conformance:"M",constraint:"1 to numberOfYearDaySchedulesSupportedPerUser",details:"This field shall indicate the index of the Year Day schedule.",xref:{document:"cluster",section:"5.2.10.20.1"}}),o({name:"UserIndexUserId",id:1,type:"uint16",conformance:"M",constraint:"1 to numberOfTotalUsersSupported"}),o({name:"Status",id:2,type:"status",conformance:"M",constraint:"desc",default:0,details:`Status shall be one of the following values:
  \u2022 SUCCESS if both YearDayIndex and UserIndex are valid and there is a corresponding schedule     entry.
  \u2022 INVALID_COMMAND if either YearDayIndex and/or UserIndex values are not within valid range
  \u2022 NOT_FOUND if no corresponding schedule entry found for YearDayIndex.
  \u2022 NOT_FOUND if no corresponding user entry found for UserIndex.
If this field is SUCCESS, the optional fields for this command shall be present. For other (error) status values, only the fields up to the status field shall be present.`,xref:{document:"cluster",section:"5.2.10.20.3"}}),o({name:"LocalStartTime",id:2,type:"epoch-s",conformance:"O",details:"This field shall indicate the starting time for the Year Day schedule in Epoch Time in Seconds with local time offset based on the local timezone and DST offset on the day represented by the value. This shall be null if the schedule is not set for the YearDayIndex and UserIndex provided.",xref:{document:"cluster",section:"5.2.10.20.4"}}),o({name:"LocalEndTime",id:3,type:"epoch-s",conformance:"O",details:"This field shall indicate the ending time for the Year Day schedule in Epoch Time in Seconds with local time offset based on the local timezone and DST offset on the day represented by the value. LocalEndTime shall be greater than LocalStartTime. This shall be null if the schedule is not set for the YearDayIndex and UserIndex provided.",xref:{document:"cluster",section:"5.2.10.20.5"}})]}),U({name:"ClearYearDaySchedule",id:16,access:"A",conformance:"YDSCH",direction:"request",response:"status",details:`Clears the specific year day schedule or all year day schedules for the specific user.
\u2020 The Schedule ID and User ID are obsolete field names, use YearDayIndex and UserIndex instead, respectively.
Return status shall be one of the following values:`,xref:{document:"cluster",section:"5.2.10.21"},children:[o({name:"YearDayIndex",id:0,type:"uint8",conformance:"M",constraint:"1 to numberOfYearDaySchedulesSupportedPerUser, 254",details:"This field shall indicate the Year Day schedule index to clear or 0xFE to clear all Year Day schedules for the specified user.",xref:{document:"cluster",section:"5.2.10.21.1"}}),o({name:"UserIndexUserId",id:1,type:"uint16",conformance:"M",constraint:"1 to numberOfTotalUsersSupported"})]}),U({name:"SetHolidaySchedule",id:17,access:"A",conformance:"HDSCH",direction:"request",response:"status",details:`Set the holiday Schedule by specifying local start time and local end time with respect to any Lock Operating Mode.
\u2020 The Holiday Schedule ID is an obsolete field name, use HolidayIndex instead. Return status shall be one of the following values:`,xref:{document:"cluster",section:"5.2.10.22"},children:[o({name:"HolidayIndex",id:0,type:"uint8",conformance:"M",constraint:"1 to numberOfHolidaySchedulesSupported",details:"This field shall indicate the index of the Holiday schedule.",xref:{document:"cluster",section:"5.2.10.22.1"}}),o({name:"LocalStartTime",id:1,type:"epoch-s",conformance:"M",details:"This field shall indicate the starting time for the Holiday Day schedule in Epoch Time in Seconds with local time offset based on the local timezone and DST offset on the day represented by the value.",xref:{document:"cluster",section:"5.2.10.22.2"}}),o({name:"LocalEndTime",id:2,type:"epoch-s",conformance:"M",details:"This field shall indicate the ending time for the Holiday Day schedule in Epoch Time in Seconds with local time offset based on the local timezone and DST offset on the day represented by the value. LocalEndTime shall be greater than LocalStartTime.",xref:{document:"cluster",section:"5.2.10.22.3"}}),o({name:"OperatingMode",id:3,type:"OperatingModeEnum",conformance:"M",details:"This field shall indicate the operating mode to use during this Holiday schedule start/end time.",xref:{document:"cluster",section:"5.2.10.22.4"}})]}),U({name:"GetHolidaySchedule",id:18,access:"A",conformance:"HDSCH",direction:"request",response:"GetHolidayScheduleResponse",details:`Get the holiday schedule for the specified index.
\u2020 The Holiday Schedule ID is an obsolete field name, use HolidayIndex instead.`,xref:{document:"cluster",section:"5.2.10.23"},children:[o({name:"HolidayIndex",id:0,type:"uint8",conformance:"M",constraint:"1 to numberOfHolidaySchedulesSupported"})]}),U({name:"GetHolidayScheduleResponse",id:18,conformance:"HDSCH",direction:"response",details:`Returns the Holiday Schedule Entry for the specified Holiday ID.
\u2020 The Holiday Schedule ID is an obsolete field name, use HolidayIndex instead.`,xref:{document:"cluster",section:"5.2.10.24"},children:[o({name:"HolidayIndex",id:0,type:"uint8",conformance:"M",constraint:"1 to numberOfHolidaySchedulesSupported",details:"This field shall indicate the index of the Holiday schedule.",xref:{document:"cluster",section:"5.2.10.24.1"}}),o({name:"Status",id:1,type:"status",conformance:"M",constraint:"desc",default:0,details:`Status shall be one of the following values:
  \u2022 FAILURE if the attribute NumberOfHolidaySchedulesSupported is zero.
  \u2022 SUCCESS if the HolidayIndex is valid and there is a corresponding schedule entry.
  \u2022 INVALID_COMMAND if the HolidayIndex is not within valid range
  \u2022 NOT_FOUND if the HolidayIndex is within the valid range, however, there is not corresponding     schedule entry found.
If this field is SUCCESS, the optional fields for this command shall be present. For other (error) status values, only the fields up to the status field shall be present.`,xref:{document:"cluster",section:"5.2.10.24.2"}}),o({name:"LocalStartTime",id:2,type:"epoch-s",conformance:"O",quality:"X",details:"This field shall indicate the starting time for the Holiday schedule in Epoch Time in Seconds with local time offset based on the local timezone and DST offset on the day represented by the value. This shall be null if the schedule is not set for the HolidayIndex provided.",xref:{document:"cluster",section:"5.2.10.24.3"}}),o({name:"LocalEndTime",id:3,type:"epoch-s",conformance:"O",quality:"X",details:"This field shall indicate the ending time for the Holiday schedule in Epoch Time in Seconds with local time offset based on the local timezone and DST offset on the day represented by the value. LocalEndTime shall be greater than LocalStartTime. This shall be null if the schedule is not set for the HolidayIndex provided.",xref:{document:"cluster",section:"5.2.10.24.4"}}),o({name:"OperatingMode",id:4,type:"OperatingModeEnum",conformance:"O",quality:"X",details:"This field shall indicate the operating mode to use during this Holiday schedule start/end time. This shall be null if the schedule is not set for the HolidayIndex provided.",xref:{document:"cluster",section:"5.2.10.24.5"}})]}),U({name:"ClearHolidaySchedule",id:19,access:"A",conformance:"HDSCH",direction:"request",response:"status",details:`Clears the holiday schedule or all holiday schedules.
\u2020 The Holiday Schedule ID is an obsolete field name, use HolidayIndex instead.`,xref:{document:"cluster",section:"5.2.10.25"},children:[o({name:"HolidayIndex",id:0,type:"uint8",conformance:"M",constraint:"1 to numberOfHolidaySchedulesSupported, 254",details:"This field shall indicate the Holiday schedule index to clear or 0xFE to clear all Holiday schedules.",xref:{document:"cluster",section:"5.2.10.25.1"}})]}),U({name:"SetUserType",id:20,access:"A",conformance:"!USR & (PIN | RID | FGP)",direction:"request",response:"status",details:`Set the user type for a specified user.
For user type value please refer to User Type Value.
Return status shall be one of the following values:`,xref:{document:"cluster",section:"5.2.10.26"},children:[o({name:"UserId",id:0,type:"uint16",conformance:"M",constraint:"desc",details:"This field shall indicate the user ID.",xref:{document:"cluster",section:"5.2.10.26.1"}}),o({name:"UserType",id:1,type:"UserTypeEnum",conformance:"M",details:`This field shall indicate the user type.
If UserType is currently YearDayScheduleUser, WeekDayScheduleUser, or ScheduleRestrictedUser and the new UserType is UnrestrictedUser then all existing Year Day and/or Week Day schedules shall be ignored or disabled (if this transition is supported by the door lock). If UserType is ScheduleRestrictedUser and the new UserType is ScheduleRestrictedUser then all existing Year Day and/or Week Day schedules shall be applied or enabled.`,xref:{document:"cluster",section:"5.2.10.26.2"}})]}),U({name:"GetUserType",id:21,access:"A",conformance:"!USR & (PIN | RID | FGP)",direction:"request",response:"GetUserTypeResponse",details:"Retrieve the user type for a specific user.",xref:{document:"cluster",section:"5.2.10.27"},children:[o({name:"UserId",id:0,type:"uint16",conformance:"M",constraint:"desc"})]}),U({name:"GetUserTypeResponse",id:21,conformance:"!USR",direction:"response",details:"Returns the user type for the specified user ID. If the requested User ID is invalid, send Default Response with an error status equal to FAILURE.",xref:{document:"cluster",section:"5.2.10.28"},children:[o({name:"UserId",id:0,type:"uint16",conformance:"M",constraint:"desc"}),o({name:"UserType",id:1,type:"UserTypeEnum",conformance:"M"})]}),U({name:"SetRfidCode",id:22,access:"A T",conformance:"!USR & RID",direction:"request",response:"status",details:`Set an ID for RFID access into the lock.
Return status is a global status code or a cluster-specific status code from the Status Codes table and shall be one of the following values:`,xref:{document:"cluster",section:"5.2.10.29"},children:[o({name:"UserId",id:0,type:"uint16",conformance:"M",constraint:"desc",details:`This field shall indicate the user ID.
The value of the UserID field shall be between 0 and the value of the NumberOfRFIDUsersSupported attribute.`,xref:{document:"cluster",section:"5.2.10.29.1"}}),o({name:"UserStatus",id:1,type:"UserStatusEnum",conformance:"M",constraint:"desc",default:1,quality:"X",details:`This field shall indicate what the status is for a specific user ID. The values are according to \u201CSet PIN\u201D while not all are supported.
Only the values 1 (Occupied/Enabled) and 3 (Occupied/Disabled) are allowed for UserStatus.`,xref:{document:"cluster",section:"5.2.10.29.2"}}),o({name:"UserType",id:2,type:"UserTypeEnum",conformance:"M",constraint:"desc",default:0,quality:"X",details:"The values are the same as used for SetPINCode command.",xref:{document:"cluster",section:"5.2.10.29.3"}}),o({name:"RfidCode",id:3,type:"octstr",conformance:"M"})]}),U({name:"GetRfidCode",id:23,access:"A",conformance:"!USR & RID",direction:"request",response:"GetRfidCodeResponse",details:"Retrieve an RFID code.",xref:{document:"cluster",section:"5.2.10.30"},children:[o({name:"UserId",id:0,type:"uint16",conformance:"M",constraint:"desc",details:`This field shall indicate the user ID.
The value of the UserID field shall be between 0 and the value of the NumberOfRFIDUsersSupported attribute.`,xref:{document:"cluster",section:"5.2.10.30.1"}})]}),U({name:"GetRfidCodeResponse",id:23,conformance:"!USR & RID",direction:"response",details:`Returns the RFID code for the specified user ID.
If the requested User ID is valid and the Code doesn\u2019t exist, Get RFID Code Response shall have the following format:
User ID = requested User ID UserStatus = 0 (available) UserType = 0xFF (not supported) RFID Code = 0 (zero length)
If requested User ID is invalid, send Default Response with an error status. The error status shall be equal to CONSTRAINT_ERROR when User_ID is less than the max number of users supported, and NOT_FOUND if greater than or equal to the max number of users supported.`,xref:{document:"cluster",section:"5.2.10.31"},children:[o({name:"UserId",id:0,type:"uint16",conformance:"M",constraint:"desc"}),o({name:"UserStatus",id:1,type:"UserStatusEnum",conformance:"M",constraint:"desc",default:0,quality:"X"}),o({name:"UserType",id:2,type:"UserTypeEnum",conformance:"M",constraint:"desc",quality:"X"}),o({name:"RfidCode",id:3,type:"octstr",conformance:"M",quality:"X"})]}),U({name:"ClearRfidCode",id:24,access:"A T",conformance:"!USR & RID",direction:"request",response:"status",details:`Clear an RFID code or all RFID codes.
\u2020 The User ID is an obsolete field name, use RFIDSlotIndex instead.
For each RFID Code cleared whose user doesn\u2019t have a PIN Code or other credential type, then the corresponding user record\u2019s UserStatus value shall be set to Available, and UserType value shall be set to UnrestrictedUser and all schedules shall be cleared.`,xref:{document:"cluster",section:"5.2.10.32"},children:[o({name:"RfidSlotIndex",id:0,type:"uint16",conformance:"M",constraint:"1 to numberOfRfidUsersSupported, 65534",details:"This field shall indicate a valid RFID code slot index or 0xFFFE to indicate all RFID code slots shall be cleared.",xref:{document:"cluster",section:"5.2.10.32.1"}})]}),U({name:"ClearAllRfidCodes",id:25,access:"A T",conformance:"!USR & RID",direction:"request",response:"status",details:'Clear out all RFIDs on the lock. If you clear all RFID codes and this user didn\u2019t have a PIN code, the user status has to be set to "0 Available", the user type has to be set to the default value, and all schedules which are supported have to be set to the default values.',xref:{document:"cluster",section:"5.2.10.33"}}),U({name:"SetUser",id:26,access:"A T",conformance:"USR",direction:"request",response:"status",details:`Set user into the lock.
Fields used for different use cases:
Return status is a global status code or a cluster-specific status code from the Status Codes table and
shall be one of the following values:
  \u2022 SUCCESS, if setting User was successful.
  \u2022 FAILURE, if some unexpected internal error occurred setting User.
  \u2022 OCCUPIED, if OperationType is Add and UserIndex points to an occupied slot.
  \u2022 INVALID_COMMAND, if one or more fields violate constraints or are invalid or if OperationType     is Modify and UserIndex points to an available slot.`,xref:{document:"cluster",section:"5.2.10.34"},children:[o({name:"OperationType",id:0,type:"DataOperationTypeEnum",conformance:"M",constraint:"add, modify",details:"This field shall indicate the type of operation.",xref:{document:"cluster",section:"5.2.10.34.1"}}),o({name:"UserIndex",id:1,type:"uint16",conformance:"M",constraint:"1 to numberOfTotalUsersSupported",details:"This field shall indicate the user ID.",xref:{document:"cluster",section:"5.2.10.34.2"}}),o({name:"UserName",id:2,type:"string",conformance:"M",constraint:"max 10",quality:"X",details:`This field shall contain a string to use as a human readable identifier for the user. If UserName is null then:
  \u2022 If the OperationType is Add, the UserName in the resulting user record shall be set to an empty     string.
  \u2022 If the OperationType is Modify, the UserName in the user record shall NOT be changed from the     current value.
If UserName is not null, the UserName in the user record shall be set to the provided value.`,xref:{document:"cluster",section:"5.2.10.34.3"}}),o({name:"UserUniqueId",id:3,type:"uint32",conformance:"M",default:4294967295,quality:"X",details:`This field shall indicate the fabric assigned number to use for connecting this user to other users on other devices from the fabric\u2019s perspective.
If UserUniqueID is null then:
  \u2022 If the OperationType is Add, the UserUniqueID in the resulting user record shall be set to     default value specified above.
  \u2022 If the OperationType is Modify, the UserUniqueID in the user record shall NOT be changed from     the current value.
If UserUniqueID is not null, the UserUniqueID in the user record shall be set to the provided value.`,xref:{document:"cluster",section:"5.2.10.34.4"}}),o({name:"UserStatus",id:4,type:"UserStatusEnum",conformance:"M",constraint:"occupiedEnabled, occupiedDisabled",default:1,quality:"X",details:`This field shall indicate the UserStatus to assign to this user when created or modified. If UserStatus is null then:
  \u2022 If the OperationType is Add, the UserStatus in the resulting user record shall be set to     default value specified above.
  \u2022 If the OperationType is Modify, the UserStatus in the user record shall NOT be changed from the     current value.
If UserStatus is not null, the UserStatus in the user record shall be set to the provided value.`,xref:{document:"cluster",section:"5.2.10.34.5"}}),o({name:"UserType",id:5,type:"UserTypeEnum",conformance:"M",constraint:"unrestrictedUser, nonAccessUser, forcedUser, disposableUser, expiringUser, scheduleRestrictedUser, remoteOnlyUser",default:0,quality:"X",details:`This field shall indicate the UserType to assign to this user when created or modified. If UserType is null then:
  \u2022 If the OperationType is Add, the UserType in the resulting user record shall be set to default     value specified above.
  \u2022 If the OperationType is Modify, the UserType in the user record shall NOT be changed from the     current value.
If UserType is not null, the UserType in the user record shall be set to the provided value.`,xref:{document:"cluster",section:"5.2.10.34.6"}}),o({name:"CredentialRule",id:6,type:"CredentialRuleEnum",conformance:"M",default:0,quality:"X",details:`This field shall indicate the CredentialRule to use for this user.
The valid CredentialRule enumeration values depends on the bits in the CredentialRulesBitmap map. Each bit in the map identifies a valid CredentialRule that can be used.
If CredentialRule is null then:
  \u2022 If the OperationType is Add, the CredentialRule in the resulting user record shall be set to     default value specified above.
  \u2022 If the OperationType is Modify, the CredentialRule in the user record shall NOT be changed from     the current value.
If CredentialRule is not null, the CredentialRule in the user record shall be set to the provided value.`,xref:{document:"cluster",section:"5.2.10.34.7"}})]}),U({name:"GetUser",id:27,access:"A",conformance:"USR",direction:"request",response:"GetUserResponse",details:`Retrieve user.
An InvokeResponse command shall be sent with an appropriate error
COMMAND, etc.) as needed otherwise the GetUserResponse Command shall be sent implying a status of SUCCESS.`,xref:{document:"cluster",section:"5.2.10.35"},children:[o({name:"UserIndex",id:0,type:"uint16",conformance:"M",constraint:"1 to numberOfTotalUsersSupported"})]}),U({name:"GetUserResponse",id:28,conformance:"USR",direction:"response",details:`Returns the user for the specified UserIndex.
If the requested UserIndex is valid and the UserStatus is Available for the requested UserIndex then UserName, UserUniqueID, UserStatus, UserType, CredentialRule, Credentials, CreatorFabricIndex, and LastModifiedFabricIndex shall all be null in the response.`,xref:{document:"cluster",section:"5.2.10.36"},children:[o({name:"UserIndex",id:0,type:"uint16",conformance:"M",constraint:"1 to numberOfTotalUsersSupported",details:"This field shall indicate the user ID.",xref:{document:"cluster",section:"5.2.10.36.1"}}),o({name:"UserName",id:1,type:"string",conformance:"M",constraint:"max 10",quality:"X",details:"This field shall contain a string to use as a human readable identifier for the user.",xref:{document:"cluster",section:"5.2.10.36.2"}}),o({name:"UserUniqueId",id:2,type:"uint32",conformance:"M",default:0,quality:"X",details:"See UserUniqueID field.",xref:{document:"cluster",section:"5.2.10.36.3"}}),o({name:"UserStatus",id:3,type:"UserStatusEnum",conformance:"M",default:0,quality:"X",details:"This field shall indicate the UserStatus assigned to the user when created or modified.",xref:{document:"cluster",section:"5.2.10.36.4"}}),o({name:"UserType",id:4,type:"UserTypeEnum",conformance:"M",default:0,quality:"X",details:"This field shall indicate the UserType assigned to this user when created or modified.",xref:{document:"cluster",section:"5.2.10.36.5"}}),o({name:"CredentialRule",id:5,type:"CredentialRuleEnum",conformance:"M",constraint:"desc",default:0,quality:"X",details:"This field shall indicate the CredentialRule set for this user.",xref:{document:"cluster",section:"5.2.10.36.6"}}),o({name:"Credentials",id:6,type:"list",conformance:"M",constraint:"0 to numberOfCredentialsSupportedPerUser",quality:"X",details:"This field shall contain a list of credentials for this user.",xref:{document:"cluster",section:"5.2.10.36.7"},children:[o({name:"entry",type:"CredentialStruct"})]}),o({name:"CreatorFabricIndex",id:7,type:"fabric-idx",conformance:"M",quality:"X",details:"This field shall indicate the user\u2019s creator fabric index. CreatorFabricIndex shall be null if UserStatus is set to Available or when the creator fabric cannot be determined (for example, when user was created outside the Interaction Model) and shall NOT be null otherwise. This value shall be set to 0 if the original creator fabric was deleted.",xref:{document:"cluster",section:"5.2.10.36.8"}}),o({name:"LastModifiedFabricIndex",id:8,type:"fabric-idx",conformance:"M",quality:"X",details:"This field shall indicate the user\u2019s last modifier fabric index. LastModifiedFabricIndex shall be null if UserStatus is set to Available or when the modifier fabric cannot be determined (for example, when user was modified outside the Interaction Model) and shall NOT be null otherwise. This value shall be set to 0 if the last modifier fabric was deleted.",xref:{document:"cluster",section:"5.2.10.36.9"}}),o({name:"NextUserIndex",id:9,type:"uint16",conformance:"M",constraint:"1 to numberOfTotalUsersSupported",quality:"X",details:"This field shall indicate the next occupied UserIndex in the database which is useful for quickly identifying occupied user slots in the database. This shall NOT be null if there is at least one occupied entry after the requested UserIndex in the User database and shall be null if there are no more occupied entries.",xref:{document:"cluster",section:"5.2.10.36.10"}})]}),U({name:"ClearUser",id:29,access:"A T",conformance:"USR",direction:"request",response:"status",details:`Clears a user or all Users.
For each user to clear, all associated credentials (e.g. PIN, RFID, fingerprint, etc.) shall be cleared and the user entry values shall be reset to their default values (e.g. UserStatus shall be Available, UserType shall be UnrestrictedUser) and all associated schedules shall be cleared.
A LockUserChange event with the provided UserIndex shall be generated after successfully clearing users.`,xref:{document:"cluster",section:"5.2.10.37"},children:[o({name:"UserIndex",id:0,type:"uint16",conformance:"M",constraint:"1 to numberOfTotalUsersSupported, 65534",details:"This field shall specify a valid User index or 0xFFFE to indicate all user slots shall be cleared.",xref:{document:"cluster",section:"5.2.10.37.1"}})]}),U({name:"OperatingEventNotification",id:32,conformance:"[NOT]",direction:"response",xref:{document:"cluster",section:"5.2.10"}}),U({name:"ProgrammingEventNotification",id:33,conformance:"[NOT]",direction:"response",details:`The door lock server sends out a programming event notification whenever a programming event takes place on the door lock.
As with operational events, all programming events can be turned on and off by flipping bits in the associated event mask.
The programming event notification command includes an optional string of data that can be used by the manufacturer to pass some manufacturer-specific information if that is required.`,xref:{document:"cluster",section:"5.2.10.39"},children:[o({name:"ProgramEventSource",id:0,type:"EventSourceEnum",conformance:"M",constraint:"desc",details:"This field shall indicate where the event was triggered from.",xref:{document:"cluster",section:"5.2.10.39.1"}}),o({name:"ProgramEventCode",id:1,type:"ProgrammingEventCodeEnum",conformance:"M",constraint:"desc"}),o({name:"UserId",id:2,type:"uint16",conformance:"M",constraint:"desc",details:"This field shall indicate the UserID who performed the event",xref:{document:"cluster",section:"5.2.10.39.6"}}),o({name:"Pin",id:3,type:"octstr",conformance:"M",details:"This field shall indicate the PIN that is associated with the UserID who performed the event",xref:{document:"cluster",section:"5.2.10.39.7"}}),o({name:"UserType",id:4,type:"UserTypeEnum",conformance:"M",constraint:"desc",details:"This field shall indicate the UserType that is associated with the UserID who performed the event",xref:{document:"cluster",section:"5.2.10.39.8"}}),o({name:"UserStatus",id:5,type:"UserStatusEnum",conformance:"M",constraint:"desc",details:"This field shall indicate the UserStatus that is associated with the UserID who performed the event",xref:{document:"cluster",section:"5.2.10.39.9"}}),o({name:"LocalTime",id:6,type:"epoch-s",conformance:"M",details:"This field shall indicate the time when the event was triggered in Epoch Time in Seconds with local time offset based on the local timezone and DST offset on the day represented by the value. If time is not supported, the field shall be populated with default not used value 0xFFFFFFFF.",xref:{document:"cluster",section:"5.2.10.39.10"}}),o({name:"Data",id:7,type:"string",conformance:"O",details:"This field may contain a variable string, which can be used to pass data associated with a particular event. Generally this field will be left empty. However, manufacturer can choose to use this field to store/display manufacturer-specific information.",xref:{document:"cluster",section:"5.2.10.39.11"}})]}),U({name:"SetCredential",id:34,access:"A T",conformance:"USR",direction:"request",response:"SetCredentialResponse",details:`Set a credential (e.g. PIN, RFID, Fingerprint, etc.) into the lock for a new user, existing user, or ProgrammingUser.
Fields used for different use cases:`,xref:{document:"cluster",section:"5.2.10.40"},children:[o({name:"OperationType",id:0,type:"DataOperationTypeEnum",conformance:"M",constraint:"add, modify",details:"This field shall indicate the set credential operation type requested.",xref:{document:"cluster",section:"5.2.10.40.1"}}),o({name:"Credential",id:1,type:"CredentialStruct",conformance:"M",details:"This field shall contain a credential structure that contains the CredentialTypeEnum and the credential index (if applicable or 0 if not) to set.",xref:{document:"cluster",section:"5.2.10.40.2"}}),o({name:"CredentialData",id:2,type:"octstr",conformance:"M",constraint:"desc",details:"This field shall indicate the credential data to set for the credential being added or modified. The length of the credential data shall conform to the limits of the CredentialType specified in the Credential structure otherwise an INVALID_COMMAND status shall be returned in the SetCredentialResponse command.",xref:{document:"cluster",section:"5.2.10.40.3"}}),o({name:"UserIndex",id:3,type:"uint16",conformance:"M",constraint:"1 to numberOfTotalUsersSupported",quality:"X",details:"This field shall indicate the user index to the user record that corresponds to the credential being added or modified. This shall be null if OperationType is add and a new credential and user is being added at the same time.",xref:{document:"cluster",section:"5.2.10.40.4"}}),o({name:"UserStatus",id:4,type:"UserStatusEnum",conformance:"M",constraint:"occupiedEnabled, occupiedDisabled",default:1,quality:"X",details:"This field shall indicate the user status to use in the new user record if a new user is being created. This shall be null if OperationType is Modify. This may be null when adding a new credential and user.",xref:{document:"cluster",section:"5.2.10.40.5"}}),o({name:"UserType",id:5,type:"UserTypeEnum",conformance:"M",constraint:"unrestrictedUser, programmingUser, nonAccessUser, forcedUser, disposableUser, expiringUser, remoteOnlyUser",default:0,quality:"X",details:"This field shall indicate the user type to use in the new user record if a new user is being created. This shall be null if OperationType is Modify. This may be null when adding a new credential and user.",xref:{document:"cluster",section:"5.2.10.40.6"}})]}),U({name:"SetCredentialResponse",id:35,conformance:"USR",direction:"response",details:"Returns the status for setting the specified credential.",xref:{document:"cluster",section:"5.2.10.41"},children:[o({name:"Status",id:0,type:"status",conformance:"M",constraint:"desc",details:`Status comes from the Status Codes table and shall be one of the following values:
  \u2022 SUCCESS, if setting user credential was successful.
  \u2022 FAILURE, if some unexpected internal error occurred setting user credential.
  \u2022 OCCUPIED, if OperationType is Add and CredentialIndex in Credential structure points to an     occupied slot.
  \u2022 OCCUPIED, if OperationType is Modify and CredentialIndex in Credential structure does not match     the CredentialIndex that is already associated with the provided UserIndex.
  \u2022 DUPLICATE, if CredentialData provided is a duplicate of another credential with the same     CredentialType (e.g. duplicate PIN code).
  \u2022 RESOURCE_EXHAUSTED, if OperationType is Add and the user referred to by UserIndex already has     NumberOfCredentialsSupportedPerUser credentials associated.
  \u2022 INVALID_COMMAND, if one or more fields violate constraints or are invalid.
  \u2022 INVALID_COMMAND, if the CredentialIndex in the Credential provided exceeds the number of     credentials of the provided CredentialType supported by the lock.
  \u2022 INVALID_COMMAND, if OperationType is Modify and UserIndex points to an available slot.`,xref:{document:"cluster",section:"5.2.10.41.1"}}),o({name:"UserIndex",id:1,type:"uint16",conformance:"M",constraint:"1 to numberOfTotalUsersSupported",default:0,quality:"X",details:"This field shall indicate the user index that was created with the new credential. If the status being returned is not success then this shall be null. This shall be null if OperationType was Modify; if the OperationType was Add and a new User was created this shall NOT be null and shall provide the UserIndex created. If the OperationType was Add and an existing User was associated with the new credential then this shall be null.",xref:{document:"cluster",section:"5.2.10.41.2"}}),o({name:"NextCredentialIndex",id:2,type:"uint16",conformance:"O",constraint:"desc",quality:"X",details:"This field shall indicate the next available index in the database for the credential type set, which is useful for quickly identifying available credential slots in the database. This shall NOT be null if there is at least one available entry after the requested credential index in the corresponding database and shall be null if there are no more available entries. The NextCredentialIndex reported shall NOT exceed the maximum number of credentials for a particular credential type.",xref:{document:"cluster",section:"5.2.10.41.3"}})]}),U({name:"GetCredentialStatus",id:36,access:"A",conformance:"USR",direction:"request",response:"GetCredentialStatusResponse",details:`Retrieve the status of a particular credential (e.g. PIN, RFID, Fingerprint, etc.) by index.
An InvokeResponse command shall be sent with an appropriate error (e.g. FAILURE, INVALID_COMMAND, etc.) as needed otherwise the GetCredentialStatusResponse command shall be sent implying a status of SUCCESS.`,xref:{document:"cluster",section:"5.2.10.42"},children:[o({name:"Credential",id:0,type:"CredentialStruct",conformance:"M",details:"This field shall contain a credential structure that contains the CredentialTypeEnum and the credential index (if applicable or 0 if not) to retrieve the status for.",xref:{document:"cluster",section:"5.2.10.42.1"}})]}),U({name:"GetCredentialStatusResponse",id:37,conformance:"USR",direction:"response",details:"Returns the status for the specified credential.",xref:{document:"cluster",section:"5.2.10.43"},children:[o({name:"CredentialExists",id:0,type:"bool",conformance:"M",details:"This field shall indicate if the requested credential type and index exists and is populated for the requested user index.",xref:{document:"cluster",section:"5.2.10.43.1"}}),o({name:"UserIndex",id:1,type:"uint16",conformance:"M",constraint:"1 to numberOfTotalUsersSupported",quality:"X",details:"This field shall indicate the credential\u2019s corresponding user index value if the credential exists. If CredentialType requested was ProgrammingPIN then UserIndex shall be null; otherwise, UserIndex shall be null if CredentialExists is set to False and shall NOT be null if CredentialExists is set to True.",xref:{document:"cluster",section:"5.2.10.43.2"}}),o({name:"CreatorFabricIndex",id:2,type:"fabric-idx",conformance:"M",quality:"X",details:"This field shall indicate the credential\u2019s creator fabric index. CreatorFabricIndex shall be null if CredentialExists is set to False or when the creator fabric cannot be determined (for example, when credential was created outside the Interaction Model) and shall NOT be null otherwise. This value shall be set to 0 if the original creator fabric was deleted.",xref:{document:"cluster",section:"5.2.10.43.3"}}),o({name:"LastModifiedFabricIndex",id:3,type:"fabric-idx",conformance:"M",quality:"X",details:"This field shall indicate the credential\u2019s last modifier fabric index. LastModifiedFabricIndex shall be null if CredentialExists is set to False or when the modifier fabric cannot be determined (for example, when credential was modified outside the Interaction Model) and shall NOT be null otherwise. This value shall be set to 0 if the last modifier fabric was deleted.",xref:{document:"cluster",section:"5.2.10.43.4"}}),o({name:"NextCredentialIndex",id:4,type:"uint16",conformance:"O",constraint:"desc",quality:"X",details:"This field shall indicate the next occupied index in the database for the credential type requested, which is useful for quickly identifying occupied credential slots in the database. This shall NOT be null if there is at least one occupied entry after the requested credential index in the corresponding database and shall be null if there are no more occupied entries. The NextCredentialIndex reported shall NOT exceed the maximum number of credentials for a particular credential type.",xref:{document:"cluster",section:"5.2.10.43.5"}})]}),U({name:"ClearCredential",id:38,access:"A T",conformance:"USR",direction:"request",response:"status",details:`Clear one, one type, or all credentials except ProgrammingPIN credential.
Fields used for different use cases:
For each credential cleared whose user doesn\u2019t have another valid credential, the corresponding user record shall be reset back to default values and its UserStatus value shall be set to Available and UserType value shall be set to UnrestrictedUser and all schedules shall be cleared. In
this case a LockUserChange event shall be generated for the user being cleared. Return status shall be one of the following values:`,xref:{document:"cluster",section:"5.2.10.44"},children:[o({name:"Credential",id:0,type:"CredentialStruct",conformance:"M",constraint:"desc",quality:"X",details:"This field shall contain a credential structure that contains the CredentialTypeEnum and the credential index (0xFFFE for all credentials or 0 if not applicable) to clear. This shall be null if clearing all credential types otherwise it shall NOT be null.",xref:{document:"cluster",section:"5.2.10.44.1"}})]}),U({name:"UnboltDoor",id:39,access:"O T",conformance:"UBOLT",direction:"request",response:"status",details:`This command causes the lock device to unlock the door without pulling the latch. This command includes an optional code for the lock. The door lock may require a code depending on the value of the RequirePINForRemoteOperation attribute.
NOTE
If the attribute AutoRelockTime is supported, the lock will transition to the locked state when the auto relock time has expired.`,xref:{document:"cluster",section:"5.2.10.45"},children:[o({name:"PinCode",id:0,type:"octstr",conformance:"[COTA & PIN]",details:"See PINCode field.",xref:{document:"cluster",section:"5.2.10.45.1"}})]}),C({name:"DaysMaskBitmap",type:"map8",details:"This bitmap shall indicate the days of the week the Week Day schedule applies for.",xref:{document:"cluster",section:"5.2.6.1"},children:[o({name:"Sunday",constraint:"0",description:"Schedule is applied on Sunday"}),o({name:"Monday",constraint:"1",description:"Schedule is applied on Monday"}),o({name:"Tuesday",constraint:"2",description:"Schedule is applied on Tuesday"}),o({name:"Wednesday",constraint:"3",description:"Schedule is applied on Wednesday"}),o({name:"Thursday",constraint:"4",description:"Schedule is applied on Thursday"}),o({name:"Friday",constraint:"5",description:"Schedule is applied on Friday"}),o({name:"Saturday",constraint:"6",description:"Schedule is applied on Saturday"})]}),C({name:"CredentialRulesBitmap",type:"map8",xref:{document:"cluster",section:"5.2.6.2"},children:[o({name:"Single",constraint:"0",description:"Only one credential is required for lock operation"}),o({name:"Dual",constraint:"1",description:"Any two credentials are required for lock operation"}),o({name:"Tri",constraint:"2",description:"Any three credentials are required for lock operation"})]}),C({name:"OperatingModesBitmap",type:"map16",xref:{document:"cluster",section:"5.2.6.3"},children:[o({name:"Normal",constraint:"0",description:"Normal operation mode"}),o({name:"Vacation",constraint:"1",description:"Vacation operation mode"}),o({name:"Privacy",constraint:"2",description:"Privacy operation mode"}),o({name:"NoRemoteLockUnlock",constraint:"3",description:"No remote lock and unlock operation mode"}),o({name:"Passage",constraint:"4",description:"Passage operation mode"})]}),C({name:"ConfigurationRegisterBitmap",type:"map16",xref:{document:"cluster",section:"5.2.6.4"},children:[o({name:"LocalProgramming",constraint:"0",description:"The state of local programming functionality",details:`This bit shall indicate the state related to local programming:
  \u2022 0 = Local programming is disabled
  \u2022 1 = Local programming is enabled`,xref:{document:"cluster",section:"5.2.6.4.1"}}),o({name:"KeypadInterface",constraint:"1",description:"The state of the keypad interface",details:`This bit shall indicate the state related to keypad interface:
  \u2022 0 = Keypad interface is disabled
  \u2022 1 = Keypad interface is enabled`,xref:{document:"cluster",section:"5.2.6.4.2"}}),o({name:"RemoteInterface",constraint:"2",description:"The state of the remote interface",details:`This bit shall indicate the state related to remote interface:
  \u2022 0 = Remote interface is disabled
  \u2022 1 = Remote interface is enabled`,xref:{document:"cluster",section:"5.2.6.4.3"}}),o({name:"SoundVolume",constraint:"5",description:"Sound volume is set to Silent value",details:`This bit shall indicate the state related to sound volume:
  \u2022 0 = Sound volume value is 0 (Silent)
  \u2022 1 = Sound volume value is equal to something other than 0`,xref:{document:"cluster",section:"5.2.6.4.4"}}),o({name:"AutoRelockTime",constraint:"6",description:"Auto relock time it set to 0",details:`This bit shall indicate the state related to auto relock time:
  \u2022 0 = Auto relock time value is 0
  \u2022 1 = Auto relock time value is equal to something other than 0`,xref:{document:"cluster",section:"5.2.6.4.5"}}),o({name:"LedSettings",constraint:"7",description:"LEDs is disabled",details:`This bit shall indicate the state related to LED settings:
  \u2022 0 = LED settings value is 0 (NoLEDSignal)
  \u2022 1 = LED settings value is equal to something other than 0`,xref:{document:"cluster",section:"5.2.6.4.6"}})]}),C({name:"LocalProgrammingFeaturesBitmap",type:"map8",xref:{document:"cluster",section:"5.2.6.5"},children:[o({name:"AddUsersCredentialsSchedules",constraint:"0",description:"The state of the ability to add users, credentials or schedules on the device",details:`This bit shall indicate whether the door lock is able to add Users/Credentials/Schedules locally:
  \u2022 0 = This ability is disabled
  \u2022 1 = This ability is enabled`,xref:{document:"cluster",section:"5.2.6.5.1"}}),o({name:"ModifyUsersCredentialsSchedules",constraint:"1",description:"The state of the ability to modify users, credentials or schedules on the device",details:`This bit shall indicate whether the door lock is able to modify Users/Credentials/Schedules locally:
  \u2022 0 = This ability is disabled
  \u2022 1 = This ability is enabled`,xref:{document:"cluster",section:"5.2.6.5.2"}}),o({name:"ClearUsersCredentialsSchedules",constraint:"2",description:"The state of the ability to clear users, credentials or schedules on the device",details:`This bit shall indicate whether the door lock is able to clear Users/Credentials/Schedules locally:
  \u2022 0 = This ability is disabled
  \u2022 1 = This ability is enabled`,xref:{document:"cluster",section:"5.2.6.5.3"}}),o({name:"AdjustSettings",constraint:"3",description:"The state of the ability to adjust settings on the device",details:`This bit shall indicate whether the door lock is able to adjust lock settings locally:
  \u2022 0 = This ability is disabled
  \u2022 1 = This ability is enabled`,xref:{document:"cluster",section:"5.2.6.5.4"}})]}),C({name:"AlarmMaskBitmap",type:"map16",xref:{document:"cluster",section:"5.2.6.6"},children:[o({name:"LockJammed",constraint:"0",description:"Locking Mechanism Jammed"}),o({name:"LockFactoryReset",constraint:"1",description:"Lock Reset to Factory Defaults"}),o({name:"NA",constraint:"2",description:"Reserved"}),o({name:"LockRadioPowerCycled",constraint:"3",description:"RF Module Power Cycled"}),o({name:"WrongCodeEntryLimit",constraint:"4",description:"Tamper Alarm - wrong code entry limit"}),o({name:"FrontEscutcheonRemoved",constraint:"5",description:"Tamper Alarm - front escutcheon removed from main"}),o({name:"DoorForcedOpen",constraint:"6",description:"Forced Door Open under Door Locked Condition"})]}),C({name:"EventMaskBitmap",type:"map16",xref:{document:"cluster",section:"5.2.6.7"},children:[o({name:"Bit0",constraint:"0",description:"State of bit 0"}),o({name:"Bit1",constraint:"1",description:"State of bit 1"}),o({name:"Bit2",constraint:"2",description:"State of bit 2"}),o({name:"Bit3",constraint:"3",description:"State of bit 3"}),o({name:"Bit4",constraint:"4",description:"State of bit 4"}),o({name:"Bit5",constraint:"5",description:"State of bit 5"}),o({name:"Bit6",constraint:"6",description:"State of bit 6"}),o({name:"Bit7",constraint:"7",description:"State of bit 7"}),o({name:"Bit8",constraint:"8",description:"State of bit 8"}),o({name:"Bit9",constraint:"9",description:"State of bit 9"}),o({name:"Bit10",constraint:"10",description:"State of bit 10"}),o({name:"Bit11",constraint:"11",description:"State of bit 11"}),o({name:"Bit12",constraint:"12",description:"State of bit 12"}),o({name:"Bit13",constraint:"13",description:"State of bit 13"}),o({name:"Bit14",constraint:"14",description:"State of bit 14"}),o({name:"Bit15",constraint:"15",description:"State of bit 15"})]}),C({name:"AlarmCodeEnum",type:"enum8",details:"This enumeration shall indicate the alarm type.",xref:{document:"cluster",section:"5.2.6.8"},children:[o({name:"LockJammed",id:0,conformance:"M",description:"Locking Mechanism Jammed"}),o({name:"LockFactoryReset",id:1,conformance:"O",description:"Lock Reset to Factory Defaults"}),o({name:"LockRadioPowerCycled",id:3,conformance:"O",description:"Lock Radio Power Cycled"}),o({name:"WrongCodeEntryLimit",id:4,conformance:"[USR]",description:"Tamper Alarm - wrong code entry limit"}),o({name:"FrontEsceutcheonRemoved",id:5,conformance:"O",description:"Tamper Alarm - front escutcheon removed from main"}),o({name:"DoorForcedOpen",id:6,conformance:"[DPS]",description:"Forced Door Open under Door Locked Condition"}),o({name:"DoorAjar",id:7,conformance:"[DPS]",description:"Door ajar"}),o({name:"ForcedUser",id:8,conformance:"[USR]",description:"Force User SOS alarm"})]}),C({name:"CredentialRuleEnum",type:"enum8",details:"This enumeration shall indicate the credential rule that can be applied to a particular user.",xref:{document:"cluster",section:"5.2.6.9"},children:[o({name:"Single",id:0,conformance:"USR",description:"Only one credential is required for lock operation"}),o({name:"Dual",id:1,conformance:"[USR]",description:"Any two credentials are required for lock operation"}),o({name:"Tri",id:2,conformance:"[USR]",description:"Any three credentials are required for lock operation"})]}),C({name:"CredentialTypeEnum",type:"enum8",details:"This enumeration shall indicate the credential type.",xref:{document:"cluster",section:"5.2.6.10"},children:[o({name:"ProgrammingPin",id:0,conformance:"O",description:"Programming PIN code credential type"}),o({name:"Pin",id:1,conformance:"PIN",description:"PIN code credential type"}),o({name:"Rfid",id:2,conformance:"RID",description:"RFID identifier credential type"}),o({name:"Fingerprint",id:3,conformance:"FGP",description:"Fingerprint identifier credential type"}),o({name:"FingerVein",id:4,conformance:"FGP",description:"Finger vein identifier credential type"}),o({name:"Face",id:5,conformance:"FACE",description:"Face identifier credential type"})]}),C({name:"DataOperationTypeEnum",type:"enum8",details:"This enumeration shall indicate the data operation performed.",xref:{document:"cluster",section:"5.2.6.11"},children:[o({name:"Add",id:0,conformance:"M",description:"Data is being added or was added"}),o({name:"Clear",id:1,conformance:"M",description:"Data is being cleared or was cleared"}),o({name:"Modify",id:2,conformance:"M",description:"Data is being modified or was modified"})]}),C({name:"DoorStateEnum",type:"enum8",details:"This enumeration shall indicate the current door state.",xref:{document:"cluster",section:"5.2.6.12"},children:[o({name:"DoorOpen",id:0,conformance:"DPS",description:"Door state is open"}),o({name:"DoorClosed",id:1,conformance:"DPS",description:"Door state is closed"}),o({name:"DoorJammed",id:2,conformance:"[DPS]",description:"Door state is jammed"}),o({name:"DoorForcedOpen",id:3,conformance:"[DPS]",description:"Door state is currently forced open"}),o({name:"DoorUnspecifiedError",id:4,conformance:"[DPS]",description:"Door state is invalid for unspecified reason"}),o({name:"DoorAjar",id:5,conformance:"[DPS]",description:"Door state is ajar"})]}),C({name:"LockDataTypeEnum",type:"enum8",details:"This enumeration shall indicate the data type that is being or has changed.",xref:{document:"cluster",section:"5.2.6.13"},children:[o({name:"Unspecified",id:0,conformance:"O",description:"Unspecified or manufacturer specific lock user data added, cleared, or modified."}),o({name:"ProgrammingCode",id:1,conformance:"O",description:"Lock programming PIN code was added, cleared, or modified."}),o({name:"UserIndex",id:2,conformance:"M",description:"Lock user index was added, cleared, or modified."}),o({name:"WeekDaySchedule",id:3,conformance:"WDSCH",description:"Lock user week day schedule was added, cleared, or modified."}),o({name:"YearDaySchedule",id:4,conformance:"YDSCH",description:"Lock user year day schedule was added, cleared, or modified."}),o({name:"HolidaySchedule",id:5,conformance:"HDSCH",description:"Lock holiday schedule was added, cleared, or modified."}),o({name:"Pin",id:6,conformance:"PIN",description:"Lock user PIN code was added, cleared, or modified."}),o({name:"Rfid",id:7,conformance:"RID",description:"Lock user RFID code was added, cleared, or modified."}),o({name:"Fingerprint",id:8,conformance:"FGP",description:"Lock user fingerprint was added, cleared, or modified."}),o({name:"FingerVein",id:9,conformance:"FGP",description:"Lock user finger-vein information was added, cleared, or modified."}),o({name:"Face",id:10,conformance:"FACE",description:"Lock user face information was added, cleared, or modified."})]}),C({name:"LockOperationTypeEnum",type:"enum8",details:"This enumeration shall indicate the type of Lock operation performed.",xref:{document:"cluster",section:"5.2.6.14"},children:[o({name:"Lock",id:0,conformance:"M",description:"Lock operation"}),o({name:"Unlock",id:1,conformance:"M",description:"Unlock operation"}),o({name:"NonAccessUserEvent",id:2,conformance:"O",description:"Triggered by keypad entry for user with User Type set to Non Access User"}),o({name:"ForcedUserEvent",id:3,conformance:"O",description:"Triggered by using a user with UserType set to Forced User"}),o({name:"Unlatch",id:4,conformance:"M",description:"Unlatch operation"})]}),C({name:"OperationErrorEnum",type:"enum8",details:"This enumeration shall indicate the error cause of the Lock/Unlock operation performed.",xref:{document:"cluster",section:"5.2.6.15"},children:[o({name:"Unspecified",id:0,conformance:"O",description:"Lock/unlock error caused by unknown or unspecified source"}),o({name:"InvalidCredential",id:1,conformance:"USR",description:"Lock/unlock error caused by invalid PIN, RFID, fingerprint or other credential"}),o({name:"DisabledUserDenied",id:2,conformance:"M",description:"Lock/unlock error caused by disabled USER or credential"}),o({name:"Restricted",id:3,conformance:"WDSCH | YDSCH",description:"Lock/unlock error caused by schedule restriction"}),o({name:"InsufficientBattery",id:4,conformance:"O",description:"Lock/unlock error caused by insufficient battery power left to safely actuate the lock"})]}),C({name:"OperatingModeEnum",type:"enum8",details:`This enumeration shall indicate the lock operating mode.
The table below shows the operating mode and which interfaces are enabled, if supported, for each mode.
* Interface Operational: Yes, No or N/A
NOTE
For modes that disable the remote interface, the door lock shall respond to Lock, Unlock, Toggle, and Unlock with Timeout commands with a response status Failure and not take the action requested by those commands. The door lock shall NOT disable the radio or otherwise unbind or leave the network. It shall still respond to all other commands and requests.`,xref:{document:"cluster",section:"5.2.6.16"},children:[o({name:"Normal",id:0,conformance:"M",details:"The lock operates normally. All interfaces are enabled.",xref:{document:"cluster",section:"5.2.6.16.1"}}),o({name:"Vacation",id:1,conformance:"O",details:"Only remote interaction is enabled. The keypad shall only be operable by the master user.",xref:{document:"cluster",section:"5.2.6.16.2"}}),o({name:"Privacy",id:2,conformance:"O",details:"This mode is only possible if the door is locked. Manual unlocking changes the mode to Normal operating mode. All external interaction with the door lock is disabled. This mode is intended to be used so that users, presumably inside the property, will have control over the entrance.",xref:{document:"cluster",section:"5.2.6.16.3"}}),o({name:"NoRemoteLockUnlock",id:3,conformance:"M",details:"This mode only disables remote interaction with the lock. This does not apply to any remote proprietary means of communication. It specifically applies to the Lock, Unlock, Toggle, and Unlock with Timeout Commands.",xref:{document:"cluster",section:"5.2.6.16.4"}}),o({name:"Passage",id:4,conformance:"O",details:"The lock is open or can be opened or closed at will without the use of a Keypad or other means of user validation (e.g. a lock for a business during work hours).",xref:{document:"cluster",section:"5.2.6.16.5"}})]}),C({name:"OperationSourceEnum",type:"enum8",details:"This enumeration shall indicate the source of the Lock/Unlock or user change operation performed.",xref:{document:"cluster",section:"5.2.6.17"},children:[o({name:"Unspecified",id:0,conformance:"O",description:"Lock/unlock operation came from unspecified source"}),o({name:"Manual",id:1,conformance:"O",description:"Lock/unlock operation came from manual operation (key, thumbturn, handle, etc)."}),o({name:"ProprietaryRemote",id:2,conformance:"O",description:"Lock/unlock operation came from proprietary remote source (e.g. vendor app/cloud)"}),o({name:"Keypad",id:3,conformance:"O",description:"Lock/unlock operation came from keypad"}),o({name:"Auto",id:4,conformance:"O",description:"Lock/unlock operation came from lock automatically (e.g. relock timer)"}),o({name:"Button",id:5,conformance:"O",description:"Lock/unlock operation came from lock button (e.g. one touch or button)"}),o({name:"Schedule",id:6,conformance:"HDSCH",description:"Lock/unlock operation came from lock due to a schedule"}),o({name:"Remote",id:7,conformance:"M",description:"Lock/unlock operation came from remote node"}),o({name:"Rfid",id:8,conformance:"RID",description:"Lock/unlock operation came from RFID card"}),o({name:"Biometric",id:9,conformance:"[USR]",description:"Lock/unlock operation came from biometric source (e.g. face, fingerprint/fingervein)"})]}),C({name:"UserStatusEnum",type:"enum8",details:"This enumeration shall indicate what the status is for a specific user ID.",xref:{document:"cluster",section:"5.2.6.18"},children:[o({name:"Available",id:0,conformance:"M",description:"The user ID is available"}),o({name:"OccupiedEnabled",id:1,conformance:"M",description:"The user ID is occupied and enabled"}),o({name:"OccupiedDisabled",id:3,conformance:"O",description:"The user ID is occupied and disabled"})]}),C({name:"UserTypeEnum",type:"enum8",details:"This enumeration shall indicate what the type is for a specific user ID.",xref:{document:"cluster",section:"5.2.6.19"},children:[o({name:"UnrestrictedUser",id:0,conformance:"M",description:"The user ID type is unrestricted",details:"This value shall indicate the user has access 24/7 provided proper PIN or RFID is supplied (e.g., owner).",xref:{document:"cluster",section:"5.2.6.19.1"}}),o({name:"YearDayScheduleUser",id:1,conformance:"O",description:"The user ID type is schedule",details:"This value shall indicate the user has the ability to open lock within a specific time period (e.g., guest).",xref:{document:"cluster",section:"5.2.6.19.2"}}),o({name:"WeekDayScheduleUser",id:2,conformance:"O",description:"The user ID type is schedule",details:"This value shall indicate the user has the ability to open lock based on specific time period within a reoccurring weekly schedule (e.g., cleaning worker).",xref:{document:"cluster",section:"5.2.6.19.3"}}),o({name:"ProgrammingUser",id:3,conformance:"O",description:"The user ID type is programming",details:"This value shall indicate the user has the ability to both program and operate the door lock. This user can manage the users and user schedules. In all other respects this user matches the unrestricted (default) user. ProgrammingUser is the only user that can disable the user interface (keypad, remote, etc\u2026).",xref:{document:"cluster",section:"5.2.6.19.4"}}),o({name:"NonAccessUser",id:4,conformance:"O",description:"The user ID type is non access",details:"This value shall indicate the user is recognized by the lock but does not have the ability to open the lock. This user will only cause the lock to generate the appropriate event notification to any bound devices.",xref:{document:"cluster",section:"5.2.6.19.5"}}),o({name:"ForcedUser",id:5,conformance:"[USR]",description:"The user ID type is forced",details:"This value shall indicate the user has the ability to open lock but a ForcedUser LockOperationType and ForcedUser silent alarm will be emitted to allow a notified Node to alert emergency services or contacts on the user account when used.",xref:{document:"cluster",section:"5.2.6.19.6"}}),o({name:"DisposableUser",id:6,conformance:"[USR]",description:"The user ID type is disposable",details:"This value shall indicate the user has the ability to open lock once after which the lock shall change the corresponding user record UserStatus value to OccupiedDisabled automatically.",xref:{document:"cluster",section:"5.2.6.19.7"}}),o({name:"ExpiringUser",id:7,conformance:"[USR]",description:"The user ID type is expiring",details:"This value shall indicate the user has the ability to open lock for ExpiringUserTimeout attribute minutes after the first use of the PIN code, RFID code, Fingerprint, or other credential. After ExpiringUserTimeout minutes the corresponding user record UserStatus value shall be set to OccupiedDisabled automatically by the lock. The lock shall persist the timeout across reboots such that the ExpiringUserTimeout is honored.",xref:{document:"cluster",section:"5.2.6.19.8"}}),o({name:"ScheduleRestrictedUser",id:8,conformance:"WDSCH | YDSCH",description:"The user ID type is schedule restricted",details:"This value shall indicate the user access is restricted by Week Day and/or Year Day schedule.",xref:{document:"cluster",section:"5.2.6.19.9"}}),o({name:"RemoteOnlyUser",id:9,conformance:"USR & COTA & PIN",description:"The user ID type is remote only",details:"This value shall indicate the user access and PIN code is restricted to remote lock/unlock commands only. This type of user might be useful for regular delivery services or voice assistant unlocking operations to prevent a PIN code credential created for them from being used at the keypad. The PIN code credential would only be provided over-the-air for the lock/unlock commands.",xref:{document:"cluster",section:"5.2.6.19.10"}})]}),C({name:"LockStateEnum",type:"enum8",xref:{document:"cluster",section:"5.2.6.20"},children:[o({name:"NotFullyLocked",id:0,conformance:"M",description:"Lock state is not fully locked"}),o({name:"Locked",id:1,conformance:"M",description:"Lock state is fully locked"}),o({name:"Unlocked",id:2,conformance:"M",description:"Lock state is fully unlocked"}),o({name:"Unlatched",id:3,conformance:"O",description:"Lock state is fully unlocked and the latch is pulled"})]}),C({name:"LockTypeEnum",type:"enum8",xref:{document:"cluster",section:"5.2.6.21"},children:[o({name:"DeadBolt",id:0,conformance:"M",description:"Physical lock type is dead bolt"}),o({name:"Magnetic",id:1,conformance:"M",description:"Physical lock type is magnetic"}),o({name:"Other",id:2,conformance:"M",description:"Physical lock type is other"}),o({name:"Mortise",id:3,conformance:"M",description:"Physical lock type is mortise"}),o({name:"Rim",id:4,conformance:"M",description:"Physical lock type is rim"}),o({name:"LatchBolt",id:5,conformance:"M",description:"Physical lock type is latch bolt"}),o({name:"CylindricalLock",id:6,conformance:"M",description:"Physical lock type is cylindrical lock"}),o({name:"TubularLock",id:7,conformance:"M",description:"Physical lock type is tubular lock"}),o({name:"InterconnectedLock",id:8,conformance:"M",description:"Physical lock type is interconnected lock"}),o({name:"DeadLatch",id:9,conformance:"M",description:"Physical lock type is dead latch"}),o({name:"DoorFurniture",id:10,conformance:"M",description:"Physical lock type is door furniture"}),o({name:"Eurocylinder",id:11,conformance:"M",description:"Physical lock type is euro cylinder"})]}),C({name:"LEDSettingEnum",type:"enum8",xref:{document:"cluster",section:"5.2.6.22"},children:[o({name:"NoLedSignal",id:0,conformance:"M",description:"Never use LED for signalization"}),o({name:"NoLedSignalAccessAllowed",id:1,conformance:"M",description:"Use LED signalization except for access allowed events"}),o({name:"LedSignalAll",id:2,conformance:"M",description:"Use LED signalization for all events"})]}),C({name:"SoundVolumeEnum",type:"enum8",xref:{document:"cluster",section:"5.2.6.23"},children:[o({name:"Silent",id:0,conformance:"M",description:"Silent Mode"}),o({name:"Low",id:1,conformance:"M",description:"Low Volume"}),o({name:"High",id:2,conformance:"M",description:"High Volume"}),o({name:"Medium",id:3,conformance:"M",description:"Medium Volume"})]}),C({name:"EventTypeEnum",type:"enum8",xref:{document:"cluster",section:"5.2.6.24"},children:[o({name:"Operation",id:0,conformance:"M",description:"Event type is operation"}),o({name:"Programming",id:1,conformance:"M",description:"Event type is programming"}),o({name:"Alarm",id:2,conformance:"M",description:"Event type is alarm"})]}),C({name:"EventSourceEnum",type:"enum8",xref:{document:"cluster",section:"5.2.6.25"},children:[o({name:"Keypad",id:0,conformance:"M",description:"Event source is keypad"}),o({name:"Remote",id:1,conformance:"M",description:"Event source is remote"}),o({name:"Manual",id:2,conformance:"M",description:"Event source is manual"}),o({name:"Rfid",id:3,conformance:"M",description:"Event source is RFID"}),o({name:"Indeterminate",id:255,conformance:"M",description:"Event source is unknown"})]}),C({name:"OperationEventCodeEnum",type:"enum8",xref:{document:"cluster",section:"5.2.6.25.1"},children:[o({name:"UnknownOrMfgSpecific",id:0,conformance:"O",description:"Event code is unknown"}),o({name:"Lock",id:1,conformance:"O",description:"Event code is lock"}),o({name:"Unlock",id:2,conformance:"O",description:"Event code is unlock"}),o({name:"LockFailureInvalidPiNorRfid",id:3,conformance:"O",description:"Event code is lock failure due to invalid PIN or RFID"}),o({name:"LockFailureInvalidSchedule",id:4,conformance:"O",description:"Event code is lock failure due to invalid schedule"}),o({name:"UnlockFailureInvalidPiNorRfid",id:5,conformance:"O",description:"Event code is unlock failure due to invalid PIN or RFID"}),o({name:"UnlockFailureInvalidSchedule",id:6,conformance:"O",description:"Event code is unlock failure due to invalid schedule"}),o({name:"OneTouchLock",id:7,conformance:"O",description:"Event code is one touch lock"}),o({name:"KeyLock",id:8,conformance:"O",description:"Event code is key lock"}),o({name:"KeyUnlock",id:9,conformance:"O",description:"Event code is key unlock"}),o({name:"AutoLock",id:10,conformance:"O",description:"Event code is auto lock"}),o({name:"ScheduleLock",id:11,conformance:"WDSCH | YDSCH",description:"Event code is schedule lock"}),o({name:"ScheduleUnlock",id:12,conformance:"WDSCH | YDSCH",description:"Event code is schedule unlock"}),o({name:"ManualLock",id:13,conformance:"O",description:"Event code is manual lock (Key or Thumbturn)"}),o({name:"ManualUnlock",id:14,conformance:"O",description:"Event code is manual unlock (Key or Thumbturn)"}),o({name:"NonAccessUserOperationEvent",id:15,conformance:"O",description:"Event code is non access user operation"})]}),C({name:"ProgrammingEventCodeEnum",type:"enum8",xref:{document:"cluster",section:"5.2.6.25.2"},children:[o({name:"UnknownOrMfgSpecific",id:0,conformance:"O",description:"Event code is unknown"}),o({name:"ProgrammingCodeChanged",id:1,conformance:"O",description:"Event code is code changed"}),o({name:"PinCodeAdded",id:2,conformance:"O",description:"Event code is PIN added"}),o({name:"PinCodeCleared",id:3,conformance:"O",description:"Event code is PIN cleared"}),o({name:"PinCodeChanged",id:4,conformance:"O",description:"Event code is PIN changed"}),o({name:"RfidCodeAdded",id:5,conformance:"O",description:"Event code is RFID added"}),o({name:"RfidCodeCleared",id:6,conformance:"O",description:"Event code is RFID cleared"})]}),C({name:"CredentialStruct",type:"struct",details:"This struct shall indicate the credential types and their corresponding indices (if any) for the event or user record.",xref:{document:"cluster",section:"5.2.6.26"},children:[o({name:"CredentialType",id:0,type:"CredentialTypeEnum",conformance:"M",details:"This field shall indicate the credential field used to authorize the lock operation.",xref:{document:"cluster",section:"5.2.6.26.1"}}),o({name:"CredentialIndex",id:1,type:"uint16",conformance:"M",default:0,details:"This field shall indicate the index of the specific credential used to authorize the lock operation in the list of credentials identified by CredentialType (e.g. PIN, RFID, etc.). This field shall be set to 0 if CredentialType is ProgrammingPIN or does not correspond to a list that can be indexed into.",xref:{document:"cluster",section:"5.2.6.26.2"}})]}),C({name:"StatusCodeEnum",type:"enum8",xref:{document:"cluster",section:"5.2.7.1"},children:[o({name:"Duplicate",id:2,description:"Entry would cause a duplicate credential/ID."}),o({name:"Occupied",id:3,description:"Entry would replace an occupied slot."})]})]});A.children.push(ST);var IT=ie({name:"WindowCovering",id:258,classification:"application",pics:"WNCV",details:"The window covering cluster provides an interface for controlling and adjusting automatic window coverings such as drapery motors, automatic shades, curtains and blinds.",xref:{document:"cluster",section:"5.3"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:5}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"5.3.4"},children:[o({name:"LF",conformance:"O.a+",constraint:"0",description:"Lift",details:"The Lift feature applies to window coverings that lift up and down (e.g. for a roller shade, Up and Down is lift Open and Close) or slide left to right (e.g. for a sliding curtain, Left and Right is lift Open and Close).",xref:{document:"cluster",section:"5.3.4.1"}}),o({name:"TL",conformance:"O.a+",constraint:"1",description:"Tilt",details:"The Tilt feature applies to window coverings with vertical or horizontal strips.",xref:{document:"cluster",section:"5.3.4.2"}}),o({name:"PA_LF",conformance:"[LF]",constraint:"2",description:"PositionAwareLift",details:"Position aware lift control is supported."}),o({name:"ABS",conformance:"O",constraint:"3",description:"AbsolutePosition",details:`The percentage attributes shall indicate the position as a percentage between the InstalledOpenLimits and InstalledClosedLimits attributes of the window covering starting at the open (0.00%).
As a general rule, absolute positioning (in centimeters or tenth of a degrees) SHOULD NOT be supported for new implementations.`,xref:{document:"cluster",section:"5.3.4.4"}}),o({name:"PA_TL",conformance:"[TL]",constraint:"4",description:"PositionAwareTilt",details:"Position aware tilt control is supported."})]}),p({name:"Type",id:0,type:"TypeEnum",access:"R V",conformance:"M",constraint:"desc",default:0,quality:"F",details:"This attribute shall identify the type of window covering.",xref:{document:"cluster",section:"5.3.6.2"}}),p({name:"PhysicalClosedLimitLift",id:1,type:"uint16",access:"R V",conformance:"[LF & PA_LF & ABS]",default:0,quality:"F",details:"Indicates the maximum possible encoder position possible (Unit cm, centimeters) to position the height of the window covering lift.",xref:{document:"cluster",section:"5.3.6.3"}}),p({name:"PhysicalClosedLimitTilt",id:2,type:"uint16",access:"R V",conformance:"[TL & PA_TL & ABS]",default:0,quality:"F",details:"Indicates the maximum possible encoder position possible (Unit 0.1\xB0, tenths of a degree) to position the angle of the window covering tilt.",xref:{document:"cluster",section:"5.3.6.4"}}),p({name:"CurrentPositionLift",id:3,type:"uint16",access:"R V",conformance:"[LF & PA_LF & ABS]",constraint:"installedOpenLimitLift to installedClosedLimitLift",default:null,quality:"X N",details:"Indicates the actual lift position (Unit cm, centimeters) of the window covering from the fully-open position.",xref:{document:"cluster",section:"5.3.6.5"}}),p({name:"CurrentPositionTilt",id:4,type:"uint16",access:"R V",conformance:"[TL & PA_TL & ABS]",constraint:"installedOpenLimitTilt to installedClosedLimitTilt",default:null,quality:"X N",details:"Indicates the actual tilt position (Unit 0.1\xB0, tenths of a degree) of the window covering from the fully-open position.",xref:{document:"cluster",section:"5.3.6.6"}}),p({name:"NumberOfActuationsLift",id:5,type:"uint16",access:"R V",conformance:"[LF]",default:0,quality:"N",details:"Indicates the total number of lift/slide actuations applied to the window covering since the device was installed.",xref:{document:"cluster",section:"5.3.6.7"}}),p({name:"NumberOfActuationsTilt",id:6,type:"uint16",access:"R V",conformance:"[TL]",default:0,quality:"N",details:"Indicates the total number of tilt actuations applied to the window covering since the device was installed.",xref:{document:"cluster",section:"5.3.6.8"}}),p({name:"ConfigStatus",id:7,type:"ConfigStatusBitmap",access:"R V",conformance:"M",constraint:"desc",quality:"N",details:`This attribute specifies the configuration and status information of the window covering.
To change settings, devices shall write to the Mode attribute. The behavior causing the setting or clearing of each bit is vendor specific.`,xref:{document:"cluster",section:"5.3.6.9"}}),p({name:"CurrentPositionLiftPercentage",id:8,type:"percent",access:"R V",conformance:"[LF & PA_LF]",default:null,quality:"X N S P",details:"Indicates the actual position as a percentage from 0% to 100% with 1% default step. This attribute is equal to CurrentPositionLiftPercent100ths attribute divided by 100.",xref:{document:"cluster",section:"5.3.6.12"}}),p({name:"CurrentPositionTiltPercentage",id:9,type:"percent",access:"R V",conformance:"[TL & PA_TL]",constraint:"0 to 100",default:null,quality:"X N S P",details:"Indicates the actual position as a percentage from 0% to 100% with 1% default step. This attribute is equal to CurrentPositionTiltPercent100ths attribute divided by 100.",xref:{document:"cluster",section:"5.3.6.13"}}),p({name:"OperationalStatus",id:10,type:"OperationalStatusBitmap",access:"R V",conformance:"M",default:0,quality:"P",details:"Indicates the currently ongoing operations and applies to all type of devices.",xref:{document:"cluster",section:"5.3.6.16"}}),p({name:"TargetPositionLiftPercent100ths",id:11,type:"percent100ths",access:"R V",conformance:"LF & PA_LF",default:null,quality:"X S P",details:"Indicates the position where the window covering lift will go or is moving to as a percentage (Unit 0.01%).",xref:{document:"cluster",section:"5.3.6.14"}}),p({name:"TargetPositionTiltPercent100ths",id:12,type:"percent100ths",access:"R V",conformance:"TL & PA_TL",default:null,quality:"X S P",details:"Indicates the position where the window covering tilt will go or is moving to as a percentage (Unit 0.01%).",xref:{document:"cluster",section:"5.3.6.15"}}),p({name:"EndProductType",id:13,type:"EndProductTypeEnum",access:"R V",conformance:"M",constraint:"desc",default:0,quality:"F",details:`This attribute SHOULD provide more detail about the product type than can be determined from the main category indicated by the Type attribute.
The table below helps to match the EndProductType attribute with the Type attribute.`,xref:{document:"cluster",section:"5.3.6.17"}}),p({name:"CurrentPositionLiftPercent100ths",id:14,type:"percent100ths",access:"R V",conformance:"LF & PA_LF",constraint:"0 to 10000",default:null,quality:"X N P",details:"Indicates the actual position as a percentage with a minimal step of 0.01%. E.g Max 10000 equals 100.00%.",xref:{document:"cluster",section:"5.3.6.10"}}),p({name:"CurrentPositionTiltPercent100ths",id:15,type:"percent100ths",access:"R V",conformance:"TL & PA_TL",constraint:"0 to 10000",default:null,quality:"X N P",details:"Indicates the actual position as a percentage with a minimal step of 0.01%. E.g Max 10000 equals 100.00%.",xref:{document:"cluster",section:"5.3.6.11"}}),p({name:"InstalledOpenLimitLift",id:16,type:"uint16",access:"R V",conformance:"LF & PA_LF & ABS",constraint:"0 to 65534",default:0,quality:"N",details:"Indicates the open limit for lifting the window covering whether position (in centimeters) is encoded or timed.",xref:{document:"cluster",section:"5.3.6.18"}}),p({name:"InstalledClosedLimitLift",id:17,type:"uint16",access:"R V",conformance:"LF & PA_LF & ABS",constraint:"0 to 65534",default:65534,quality:"N",details:"Indicates the closed limit for lifting the window covering whether position (in centimeters) is encoded or timed.",xref:{document:"cluster",section:"5.3.6.19"}}),p({name:"InstalledOpenLimitTilt",id:18,type:"uint16",access:"R V",conformance:"TL & PA_TL & ABS",constraint:"0 to 65534",default:0,quality:"N",details:"Indicates the open limit for tilting the window covering whether position (in tenth of a degree) is encoded or timed.",xref:{document:"cluster",section:"5.3.6.20"}}),p({name:"InstalledClosedLimitTilt",id:19,type:"uint16",access:"R V",conformance:"TL & PA_TL & ABS",constraint:"0 to 65534",default:65534,quality:"N",details:"Indicates the closed limit for tilting the window covering whether position (in tenth of a degree) is encoded or timed.",xref:{document:"cluster",section:"5.3.6.21"}}),p({name:"VelocityLift",id:20,conformance:"D",xref:{document:"cluster",section:"5.3.6"}}),p({name:"AccelerationTimeLift",id:21,conformance:"D",xref:{document:"cluster",section:"5.3.6"}}),p({name:"DecelerationTimeLift",id:22,conformance:"D",xref:{document:"cluster",section:"5.3.6"}}),p({name:"Mode",id:23,type:"ModeBitmap",access:"RW VM",conformance:"M",default:0,quality:"N",details:`The Mode attribute allows configuration of the window covering, such as: reversing the motor direction, placing the window covering into calibration mode, placing the motor into maintenance mode, disabling the network, and disabling status LEDs.
In the case a device does not support or implement a specific mode, e.g. the device has a specific installation method and reversal is not relevant or the device does not include a maintenance mode, any write interaction to the Mode attribute, with an unsupported mode bit or any out of bounds bits set, must be ignored and a response containing the status of CONSTRAINT_ERROR will be returned.`,xref:{document:"cluster",section:"5.3.6.22"}}),p({name:"IntermediateSetpointsLift",id:24,conformance:"D",xref:{document:"cluster",section:"5.3.6"}}),p({name:"IntermediateSetpointsTilt",id:25,conformance:"D",xref:{document:"cluster",section:"5.3.6"}}),p({name:"SafetyStatus",id:26,type:"SafetyStatusBitmap",access:"R V",conformance:"O",constraint:"desc",default:0,quality:"P",details:"The SafetyStatus attribute reflects the state of the safety sensors and the common issues preventing movements. By default for nominal operation all flags are cleared (0). A device might support none, one or several bit flags from this attribute (all optional).",xref:{document:"cluster",section:"5.3.6.23"}}),U({name:"UpOrOpen",id:0,access:"O",conformance:"M",direction:"request",response:"status",details:`Upon receipt of this command, the window covering will adjust its position so the physical lift/slide and tilt is at the maximum open/up position. This will happen as fast as possible. The server attributes shall be updated as follows:
if the PositionAware feature is supported:
  \u2022 TargetPositionLiftPercent100ths attribute shall be set to 0.00%.
  \u2022 TargetPositionTiltPercent100ths attribute shall be set to 0.00%.
The server positioning attributes will follow the movements, once the movement has successfully finished, the server attributes shall be updated as follows:
if the PositionAware feature is supported:
  \u2022 CurrentPositionLiftPercent100ths attribute shall be 0.00%.
  \u2022 CurrentPositionLiftPercentage attribute shall be 0%.
  \u2022 CurrentPositionTiltPercent100ths attribute shall be 0.00%.
  \u2022 CurrentPositionTiltPercentage attribute shall be 0%. if the AbsolutePosition feature is     supported:
  \u2022 CurrentPositionLift attribute shall be equal to the InstalledOpenLimitLift attribute.
  \u2022 CurrentPositionTilt attribute shall be equal to the InstalledOpenLimitTilt attribute.`,xref:{document:"cluster",section:"5.3.7.1"}}),U({name:"DownOrClose",id:1,access:"O",conformance:"M",direction:"request",response:"status",details:`Upon receipt of this command, the window covering will adjust its position so the physical lift/slide and tilt is at the maximum closed/down position. This will happen as fast as possible. The server attributes supported shall be updated as follows:
if the PositionAware feature is supported:
  \u2022 TargetPositionLiftPercent100ths attribute shall be set to 100.00%.
  \u2022 TargetPositionTiltPercent100ths attribute shall be set to 100.00%.
The server positioning attributes will follow the movements, once the movement has successfully finished, the server attributes shall be updated as follows:
if the PositionAware feature is supported:
  \u2022 CurrentPositionLiftPercent100ths attribute shall be 100.00%.
  \u2022 CurrentPositionLiftPercentage attribute shall be 100%.
  \u2022 CurrentPositionTiltPercent100ths attribute shall be 100.00%.
  \u2022 CurrentPositionTiltPercentage attribute shall be 100%. if the AbsolutePosition feature is     supported:
  \u2022 CurrentPositionLift attribute shall be equal to the InstalledClosedLimitLift attribute.
  \u2022 CurrentPositionTilt attribute shall be equal to the InstalledClosedLimitTilt attribute.`,xref:{document:"cluster",section:"5.3.7.2"}}),U({name:"StopMotion",id:2,access:"O",conformance:"M",direction:"request",response:"status",details:`Upon receipt of this command, the window covering will stop any adjusting to the physical tilt and lift/slide that is currently occurring. The server attributes supported shall be updated as follows:
  \u2022 TargetPositionLiftPercent100ths attribute will be set to CurrentPositionLiftPercent100ths     attribute value.
  \u2022 TargetPositionTiltPercent100ths attribute will be set to CurrentPositionTiltPercent100ths     attribute value.`,xref:{document:"cluster",section:"5.3.7.3"}}),U({name:"GoToLiftValue",id:4,access:"O",conformance:"[LF & ABS]",direction:"request",response:"status",xref:{document:"cluster",section:"5.3.7.4"},children:[o({name:"LiftValue",id:0,type:"uint16",conformance:"M",constraint:"installedOpenLimitLift to installedClosedLimitLift",details:"This field shall specify the requested physical lift/slide position in unit cm (centimeters).",xref:{document:"cluster",section:"5.3.7.4.1"}})]}),U({name:"GoToLiftPercentage",id:5,access:"O",conformance:"LF & PA_LF, [LF]",direction:"request",response:"status",details:`Upon receipt of this command, the server will adjust the window covering to the lift/slide percentage specified in the payload of this command.
If the command includes LiftPercent100thsValue, then TargetPositionLiftPercent100ths attribute shall be set to LiftPercent100thsValue. Otherwise the TargetPositionLiftPercent100ths attribute shall be set to LiftPercentageValue * 100.
If a client includes LiftPercent100thsValue in the command, the LiftPercentageValue shall be set to LiftPercent100thsValue / 100, so a legacy server which only supports LiftPercentageValue (not LiftPercent100thsValue) has a value to set the target position.
If the server does not support the PositionAware feature, then a zero percentage shall be treated as a UpOrOpen command and a non-zero percentage shall be treated as an DownOrClose command. If the device is only a tilt control device, then the command SHOULD be ignored and a UNSUPPORTED_COMMAND status SHOULD be returned.`,xref:{document:"cluster",section:"5.3.7.5"},children:[o({name:"LiftPercent100thsValue",id:0,type:"percent100ths",conformance:"M",constraint:"desc"}),o({name:"Ignored",id:1,type:"percent100ths",conformance:"D",constraint:"desc"})]}),U({name:"GoToTiltValue",id:7,access:"O",conformance:"[TL & ABS]",direction:"request",response:"status",xref:{document:"cluster",section:"5.3.7.6"},children:[o({name:"TiltValue",id:0,type:"uint16",conformance:"M",constraint:"installedOpenLimitTilt to installedClosedLimitTilt",details:"This field shall specify the requested physical tilt position in unit 0.1\xB0 (tenth of a degrees).",xref:{document:"cluster",section:"5.3.7.6.1"}})]}),U({name:"GoToTiltPercentage",id:8,access:"O",conformance:"TL & PA_TL, [TL]",direction:"request",response:"status",details:`Upon receipt of this command, the server will adjust the window covering to the tilt percentage specified in the payload of this command.
If the command includes TiltPercent100thsValue, then TargetPositionTiltPercent100ths attribute shall be set to TiltPercent100thsValue. Otherwise the TargetPositionTiltPercent100ths attribute shall be set to TiltPercentageValue * 100.
If a client includes TiltPercent100thsValue in the command, the TiltPercentageValue shall be set to TiltPercent100thsValue / 100, so a legacy server which only supports TiltPercentageValue (not TiltPercent100thsValue) has a value to set the target position.
If the server does not support the PositionAware feature, then a zero percentage shall be treated as a UpOrOpen command and a non-zero percentage shall be treated as an DownOrClose command. If the device is only a tilt control device, then the command SHOULD be ignored and a UNSUPPORTED_COMMAND status SHOULD be returned.`,xref:{document:"cluster",section:"5.3.7.7"},children:[o({name:"TiltPercent100thsValue",id:0,type:"percent100ths",conformance:"M",constraint:"desc"}),o({name:"Ignored",id:1,type:"percent100ths",conformance:"D",constraint:"desc"})]}),C({name:"ConfigStatusBitmap",type:"map8",xref:{document:"cluster",section:"5.3.5.1"},children:[o({name:"Operational",constraint:"0",description:"Device is operational.",details:`This bit shall indicate whether the window covering is operational for regular use:
  \u2022 0 = Not Operational
  \u2022 1 = Operational`,xref:{document:"cluster",section:"5.3.5.1.1"}}),o({name:"OnlineReserved",constraint:"1",description:"Deprecated and reserved."}),o({name:"LiftMovementReversed",constraint:"2",description:"The lift movement is reversed.",details:`This bit shall indicate whether the lift movement is reversed:
  \u2022 0 = Lift movement is normal
  \u2022 1 = Lift movement is reversed`,xref:{document:"cluster",section:"5.3.5.1.2"}}),o({name:"LiftPositionAware",constraint:"3",description:"Supports the PositionAwareLift feature (PA_LF).",details:`This bit shall indicate whether the window covering supports the PositionAwareLift feature:
  \u2022 0 = Lift control is not position aware
  \u2022 1 = Lift control is position aware (PA_LF)`,xref:{document:"cluster",section:"5.3.5.1.3"}}),o({name:"TiltPositionAware",constraint:"4",description:"Supports the PositionAwareTilt feature (PA_TL).",details:`This bit shall indicate whether the window covering supports the PositionAwareTilt feature:
  \u2022 0 = Tilt control is not position aware
  \u2022 1 = Tilt control is position aware (PA_TL)`,xref:{document:"cluster",section:"5.3.5.1.4"}}),o({name:"LiftEncoderControlled",constraint:"5",description:"Uses an encoder for lift.",details:`This bit shall indicate whether a position aware controlled window covering is employing an encoder for positioning the height of the window covering:
  \u2022 0 = Timer Controlled
  \u2022 1 = Encoder Controlled`,xref:{document:"cluster",section:"5.3.5.1.5"}}),o({name:"TiltEncoderControlled",constraint:"6",description:"Uses an encoder for tilt.",details:`This bit shall indicate whether a position aware controlled window covering is employing an encoder for tilting the window covering:
  \u2022 0 = Timer Controlled
  \u2022 1 = Encoder Controlled`,xref:{document:"cluster",section:"5.3.5.1.6"}})]}),C({name:"ModeBitmap",type:"map8",xref:{document:"cluster",section:"5.3.5.2"},children:[o({name:"MotorDirectionReversed",constraint:"0",description:"Reverse the lift direction.",details:`This bit shall control the motor direction:
  \u2022 0 = Lift movement is normal
  \u2022 1 = Lift movement is reversed`,xref:{document:"cluster",section:"5.3.5.2.1"}}),o({name:"CalibrationMode",constraint:"1",description:"Perform a calibration.",details:`This bit shall set the window covering into calibration mode:
  \u2022 0 = Normal mode
  \u2022 1 = Calibration mode`,xref:{document:"cluster",section:"5.3.5.2.2"}}),o({name:"MaintenanceMode",constraint:"2",description:"Freeze all motions for maintenance.",details:`This bit shall set the window covering into maintenance mode:
  \u2022 0 = Normal mode
  \u2022 1 = Maintenance mode`,xref:{document:"cluster",section:"5.3.5.2.3"}}),o({name:"LedFeedback",constraint:"3",description:"Control the LEDs feedback.",details:`This bit shall control feedback LEDs:
  \u2022 0 = LEDs are off
  \u2022 1 = LEDs will display feedback`,xref:{document:"cluster",section:"5.3.5.2.4"}})]}),C({name:"OperationalStatusBitmap",type:"map8",details:`The OperationalStatusBitmap is using several internal operational state fields (composed of 2 bits) following this definition:
  \u2022 00b = Currently not moving
  \u2022 01b = Currently opening (e.g. moving from closed to open).
  \u2022 10b = Currently closing (e.g. moving from open to closed).
  \u2022 11b = Reserved`,xref:{document:"cluster",section:"5.3.5.3"},children:[o({name:"Global",type:"MovementStatus",constraint:"0 to 2",description:"Global operational state.",details:"These bits shall indicate in which direction the covering is currently moving or if it has stopped. Global operational state shall always reflect the overall motion of the device.",xref:{document:"cluster",section:"5.3.5.3.1"}}),o({name:"Lift",type:"MovementStatus",constraint:"2 to 4",description:"Lift operational state.",details:"These bits shall indicate in which direction the covering\u2019s lift is currently moving or if it has stopped.",xref:{document:"cluster",section:"5.3.5.3.2"}}),o({name:"Tilt",type:"MovementStatus",constraint:"4 to 6",description:"Tilt operational state.",details:"These bits shall indicate in which direction the covering\u2019s tilt is currently moving or if it has stopped.",xref:{document:"cluster",section:"5.3.5.3.3"}})]}),C({name:"SafetyStatusBitmap",type:"map16",xref:{document:"cluster",section:"5.3.5.4"},children:[o({name:"RemoteLockout",constraint:"0",description:"Movement commands are ignored (locked out). e.g. not granted authorization, outside some time/date range."}),o({name:"TamperDetection",constraint:"1",description:"Tampering detected on sensors or any other safety equipment. Ex: a device has been forcedly moved without its actuator(s)."}),o({name:"FailedCommunication",constraint:"2",description:"Communication failure to sensors or other safety equipment."}),o({name:"PositionFailure",constraint:"3",description:"Device has failed to reach the desired position. e.g. with position aware device, time expired before TargetPosition is reached."}),o({name:"ThermalProtection",constraint:"4",description:"Motor(s) and/or electric circuit thermal protection activated."}),o({name:"ObstacleDetected",constraint:"5",description:"An obstacle is preventing actuator movement."}),o({name:"Power",constraint:"6",description:"Device has power related issue or limitation e.g. device is running w/ the help of a backup battery or power might not be fully available at the moment."}),o({name:"StopInput",constraint:"7",description:"Local safety sensor (not a direct obstacle) is preventing movements (e.g. Safety EU Standard EN60335)."}),o({name:"MotorJammed",constraint:"8",description:"Mechanical problem related to the motor(s) detected."}),o({name:"HardwareFailure",constraint:"9",description:"PCB, fuse and other electrics problems."}),o({name:"ManualOperation",constraint:"10",description:"Actuator is manually operated and is preventing actuator movement (e.g. actuator is disengaged/decoupled)."}),o({name:"Protection",constraint:"11",description:"Protection is activated."})]}),C({name:"TypeEnum",type:"enum8",asOf:"1.2",xref:{document:"cluster",section:"5.3.5.5"},children:[o({name:"Rollershade",id:0,conformance:"LF & !TL",description:"RollerShade"}),o({name:"Rollershade2Motor",id:1,conformance:"LF & !TL",description:"RollerShade - 2 Motor"}),o({name:"RollershadeExterior",id:2,conformance:"LF & !TL",description:"RollerShade - Exterior"}),o({name:"RollershadeExterior2Motor",id:3,conformance:"LF & !TL",description:"RollerShade - Exterior - 2 Motor"}),o({name:"Drapery",id:4,conformance:"LF & !TL",description:"Drapery (curtain)"}),o({name:"Awning",id:5,conformance:"LF & !TL",description:"Awning"}),o({name:"Shutter",id:6,conformance:"LF | TL",description:"Shutter"}),o({name:"TiltBlindTiltOnly",id:7,conformance:"!LF & TL",description:"Tilt Blind - Tilt Only"}),o({name:"TiltBlindLift",id:8,conformance:"LF & TL",description:"Tilt Blind - Lift & Tilt"}),o({name:"ProjectorScreen",id:9,conformance:"LF & !TL",description:"Projector Screen"}),o({name:"Unknown",id:255,conformance:"O",description:"Unknown"})]}),C({name:"EndProductTypeEnum",type:"enum8",xref:{document:"cluster",section:"5.3.5.6"},children:[o({name:"RollerShade",id:0,conformance:"LF",description:"Simple Roller Shade"}),o({name:"RomanShade",id:1,conformance:"LF",description:"Roman Shade"}),o({name:"BalloonShade",id:2,conformance:"LF",description:"Balloon Shade"}),o({name:"WovenWood",id:3,conformance:"LF",description:"Woven Wood"}),o({name:"PleatedShade",id:4,conformance:"LF",description:"Pleated Shade"}),o({name:"CellularShade",id:5,conformance:"LF",description:"Cellular Shade"}),o({name:"LayeredShade",id:6,conformance:"LF",description:"Layered Shade"}),o({name:"LayeredShade2D",id:7,conformance:"LF",description:"Layered Shade 2D"}),o({name:"SheerShade",id:8,conformance:"LF & TL",description:"Sheer Shade"}),o({name:"TiltOnlyInteriorBlind",id:9,conformance:"TL",description:"Tilt Only Interior Blind"}),o({name:"InteriorBlind",id:10,conformance:"LF & TL",description:"Interior Blind"}),o({name:"VerticalBlindStripCurtain",id:11,conformance:"LF & TL",description:"Vertical Blind, Strip Curtain"}),o({name:"InteriorVenetianBlind",id:12,conformance:"LF & TL",description:"Interior Venetian Blind"}),o({name:"ExteriorVenetianBlind",id:13,conformance:"LF & TL",description:"Exterior Venetian Blind"}),o({name:"LateralLeftCurtain",id:14,conformance:"LF",description:"Lateral Left Curtain"}),o({name:"LateralRightCurtain",id:15,conformance:"LF",description:"Lateral Right Curtain"}),o({name:"CentralCurtain",id:16,conformance:"LF",description:"Central Curtain"}),o({name:"RollerShutter",id:17,conformance:"LF",description:"Roller Shutter"}),o({name:"ExteriorVerticalScreen",id:18,conformance:"LF",description:"Exterior Vertical Screen"}),o({name:"AwningTerracePatio",id:19,conformance:"LF",description:"Awning Terrace (Patio)"}),o({name:"AwningVerticalScreen",id:20,conformance:"LF",description:"Awning Vertical Screen"}),o({name:"TiltOnlyPergola",id:21,conformance:"LF | TL",description:"Tilt Only Pergola"}),o({name:"SwingingShutter",id:22,conformance:"LF | TL",description:"Swinging Shutter"}),o({name:"SlidingShutter",id:23,conformance:"LF | TL",description:"Sliding Shutter"}),o({name:"Unknown",id:255,conformance:"O",description:"Unknown"})]}),C({name:"MovementStatus",type:"enum8",details:"Values for OperationalStatus attribute fields.",children:[o({name:"Stopped",id:0,details:"Covering is not moving"}),o({name:"Opening",id:1,details:"Covering is moving from closed to open"}),o({name:"Closing",id:2,details:"Covering is moving from open to closed"})]})]});A.children.push(IT);var AT=ie({name:"AccountLogin",id:1294,classification:"application",pics:"ALOGIN",details:`This cluster provides commands that facilitate user account login on a Content App or a node. For example, a Content App running on a Video Player device, which is represented as an endpoint (see Device Type Library document), can use this cluster to help make the user account on the Content App match the user account on the Client.
Often a fabric administrator will facilitate commissioning of a Client (such as a Casting Video Client), and invoke commands on the AccountLogin cluster on the Content App associated with that client. Specifically:
  1. GetSetupPIN in order to attempt to obtain the Passcode for commissioning.
  2. Login in order to let the Content App know that commissioning has completed. The Content App      can use information provided in this command in order to determine the user account associated      with the client, and potentially assume that user account.
  3. Logout in order to let the Content App know that client access has been removed, and      potentially clear the current user account.
The cluster server for this cluster may be supported on each endpoint that represents a Content App on a Video Player device.
See Device Type Library document for details of how a Content App, represented as an endpoint on
the Video Player device, may implement the cluster server for this cluster to simplify account login for its users.`,xref:{document:"cluster",section:"6.2"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:2}),Se({name:"LoggedOut",id:0,access:"S A",conformance:"O",priority:"critical",details:"This event can be used by the Content App to indicate that the current user has logged out. In response to this event, the Fabric Admin shall remove access to this Content App by the specified Node. If no Node is provided, then the Fabric Admin shall remove access to all non-Admin Nodes.",xref:{document:"cluster",section:"6.2.5.1"},children:[o({name:"Node",id:0,type:"node-id",conformance:"O",details:"This field shall provide the Node ID corresponding to the user account that has logged out, if that Node ID is available. If it is NOT available, this field shall NOT be present in the event.",xref:{document:"cluster",section:"6.2.5.1.1"}})]}),U({name:"GetSetupPin",id:0,access:"F A T",conformance:"M",direction:"request",response:"GetSetupPinResponse",details:`The purpose of this command is to determine if the active user account of the given Content App matches the active user account of a given Commissionee, and when it does, return a Setup PIN code which can be used for password-authenticated session establishment (PASE) with the Commissionee.
For example, a Video Player with a Content App Platform may invoke this command on one of its Content App endpoints to facilitate commissioning of a Phone App made by the same vendor as the Content App. If the accounts match, then the Content App may return a setup code that can be used
by the Video Player to commission the Phone App without requiring the user to physically input a setup code.
The account match is determined by the Content App using a method which is outside the scope of this specification and will typically involve a central service which is in communication with both the Content App and the Commissionee. The GetSetupPIN command is needed in order to provide the Commissioner/Admin with a Setup PIN when this Commissioner/Admin is operated by a different vendor from the Content App.
This method is used to facilitate Setup PIN exchange (for PASE) between Commissioner and Commissionee when the same user account is active on both nodes. With this method, the Content App satisfies proof of possession related to commissioning by requiring the same user account to be active on both Commissionee and Content App, while the Commissioner/Admin ensures user consent by prompting the user prior to invocation of the command.
Upon receipt of this command, the Content App checks if the account associated with the Temporary Account Identifier sent by the client is the same account that is active on itself. If the accounts are the same, then the Content App returns the GetSetupPIN Response which includes a Setup PIN that may be used for PASE with the Commissionee.
The Temporary Account Identifier for a Commissionee may be populated with the Rotating ID field of the client\u2019s commissionable node advertisement (see Rotating Device Identifier section in [MatterCore]) encoded as an octet string where the octets of the Rotating Device Identifier are encoded as 2-character sequences by representing each octet\u2019s value as a 2-digit hexadecimal number, using uppercase letters.
The Setup PIN is a character string so that it can accommodate different future formats, including alpha-numeric encodings. For a Commissionee it shall be populated with the Manual Pairing Code (see Manual Pairing Code section in [MatterCore]) encoded as a string (11 characters) or the Passcode portion of the Manual Pairing Code (when less than 11 characters) .
The server shall implement rate limiting to prevent brute force attacks. No more than 10 unique requests in a 10 minute period shall be allowed; a command response status of FAILURE should sent for additional commands received within the 10 minute period. Because access to this command is limited to nodes with Admin-level access, and the user is prompted for consent prior to Commissioning, there are in place multiple obstacles to successfully mounting a brute force attack. A Content App that supports this command shall ensure that the Temporary Account Identifier used by its clients is not valid for more than 10 minutes.`,xref:{document:"cluster",section:"6.2.4.1"},children:[o({name:"TempAccountIdentifier",id:0,type:"string",conformance:"M",constraint:"16 to 100",details:"This field shall specify the client\u2019s Temporary Account Identifier. The length of this field shall be at least 16 characters to protect the account holder against password guessing attacks.",xref:{document:"cluster",section:"6.2.4.1.1"}})]}),U({name:"GetSetupPinResponse",id:1,access:"F",conformance:"M",direction:"response",details:"This message is sent in response to the GetSetupPIN command, and contains the Setup PIN code, or null when the account identified in the request does not match the active account of the running Content App.",xref:{document:"cluster",section:"6.2.4.2"},children:[o({name:"SetupPin",id:0,type:"string",conformance:"M",constraint:"desc",details:`This field shall provide the setup PIN code as a text string at least 8 characters in length or empty string to indicate that the accounts do not match.
NOTE
Newer cluster clients should be aware that AccountLogin cluster version 1 specified an 11 digit minimum length.`,xref:{document:"cluster",section:"6.2.4.2.1"}})]}),U({name:"Login",id:2,access:"F A T",conformance:"M",direction:"request",response:"status",details:`The purpose of this command is to allow the Content App to assume the user account of a given Commissionee by leveraging the Setup PIN code input by the user during the commissioning process.
For example, a Video Player with a Content App Platform may invoke this command on one of its Content App endpoints after the commissioning has completed of a Phone App made by the same vendor as the Content App. The Content App may determine whether the Temporary Account Identifier maps to an account with a corresponding Setup PIN and, if so, it may automatically login to the account for the corresponding user. The end result is that a user performs commissioning of a Phone App to a Video Player by inputting the Setup PIN for the Phone App into the Video Player UX. Once commissioning has completed, the Video Player invokes this command to allow the corresponding Content App to assume the same user account as the Phone App.
The verification of Setup PIN for the given Temporary Account Identifier is determined by the Content App using a method which is outside the scope of this specification and will typically involve a central service which is in communication with both the Content App and the Commissionee. Implementations of such a service should impose aggressive time outs for any mapping of Temporary Account Identifier to Setup PIN in order to prevent accidental login due to delayed invocation.
Upon receipt, the Content App checks if the account associated with the client\u2019s Temp Account Identifier has a current active Setup PIN with the given value. If the Setup PIN is valid for the user account associated with the Temp Account Identifier, then the Content App may make that user account active.
The Temporary Account Identifier for a Commissionee may be populated with the Rotating ID field of the client\u2019s commissionable node advertisement encoded as an octet string where the octets of the Rotating Device Identifier are encoded as 2-character sequences by representing each octet\u2019s value as a 2-digit hexadecimal number, using uppercase letters.
The Setup PIN for a Commissionee may be populated with the Manual Pairing Code encoded as a string of decimal numbers (11 characters) or the Passcode portion of the Manual Pairing Code encoded as a string of decimal numbers (8 characters) .
The server shall implement rate limiting to prevent brute force attacks. No more than 10 unique requests in a 10 minute period shall be allowed; a command response status of FAILURE should sent for additional commands received within the 10 minute period. Because access to this command is limited to nodes with Admin-level access, and the user is involved when obtaining the SetupPIN, there are in place multiple obstacles to successfully mounting a brute force attack. A Content App that supports this command shall ensure that the Temporary Account Identifier used by its clients is not valid for more than 10 minutes.`,xref:{document:"cluster",section:"6.2.4.3"},children:[o({name:"TempAccountIdentifier",id:0,type:"string",conformance:"M",constraint:"16 to 100",details:"This field shall specify the client\u2019s temporary account identifier.",xref:{document:"cluster",section:"6.2.4.3.1"}}),o({name:"SetupPin",id:1,type:"string",conformance:"M",constraint:"min 8",details:`This field shall provide the setup PIN code as a text string at least 8 characters in length.
NOTE
Newer cluster clients should be aware that AccountLogin cluster version 1 specified an 11 digit minimum length.`,xref:{document:"cluster",section:"6.2.4.3.2"}}),o({name:"Node",id:2,type:"node-id",conformance:"O",details:"This optional field shall provide the Node ID of the Client. This field can be used by the Content App to keep track of Nodes which currently have access to it.",xref:{document:"cluster",section:"6.2.4.3.3"}})]}),U({name:"Logout",id:3,access:"F O T",conformance:"M",direction:"request",response:"status",details:"The purpose of this command is to instruct the Content App to clear the current user account. This command SHOULD be used by clients of a Content App to indicate the end of a user session.",xref:{document:"cluster",section:"6.2.4.4"},children:[o({name:"Node",id:0,type:"node-id",conformance:"O",details:`This optional field shall provide the Node ID of the Client. This field can be used by the Content
App to keep track of Nodes which currently have access to it.`,xref:{document:"cluster",section:"6.2.4.4.1"}})]})]});A.children.push(AT);var MT=ie({name:"ApplicationBasic",id:1293,classification:"application",pics:"APBSC",details:`This cluster provides information about a Content App running on a Video Player device which is represented as an endpoint (see Device Type Library document).
The cluster server for this cluster should be supported on each endpoint that represents a Content App on a Video Player device. This cluster provides identification information about the Content App such as vendor and product.`,xref:{document:"cluster",section:"6.3"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"VendorName",id:0,type:"string",access:"R V",conformance:"O",constraint:"max 32",quality:"F",details:"This attribute shall specify a human readable (displayable) name of the vendor for the Content App.",xref:{document:"cluster",section:"6.3.5.1"}}),p({name:"VendorId",id:1,type:"vendor-id",access:"R V",conformance:"O",quality:"F",details:"This attribute, if present, shall specify the Connectivity Standards Alliance assigned Vendor ID for the Content App.",xref:{document:"cluster",section:"6.3.5.2"}}),p({name:"ApplicationName",id:2,type:"string",access:"R V",conformance:"M",constraint:"desc",quality:"F",details:'This attribute shall specify a human readable (displayable) name of the Content App assigned by the vendor. For example, "NPR On Demand". The maximum length of the ApplicationName attribute is 256 bytes of UTF-8 characters.',xref:{document:"cluster",section:"6.3.5.3"}}),p({name:"ProductId",id:3,type:"uint16",access:"R V",conformance:"O",quality:"F",details:"This attribute, if present, shall specify a numeric ID assigned by the vendor to identify a specific Content App made by them. If the Content App is certified by the Connectivity Standards Alliance, then this would be the Product ID as specified by the vendor for the certification.",xref:{document:"cluster",section:"6.3.5.4"}}),p({name:"Application",id:4,type:"ApplicationStruct",access:"R V",conformance:"M",constraint:"desc",quality:"F",details:"This attribute shall specify a Content App which consists of an Application ID using a specified catalog.",xref:{document:"cluster",section:"6.3.5.5"}}),p({name:"Status",id:5,type:"ApplicationStatusEnum",access:"R V",conformance:"M",constraint:"desc",details:"This attribute shall specify the current running status of the application.",xref:{document:"cluster",section:"6.3.5.6"}}),p({name:"ApplicationVersion",id:6,type:"string",access:"R V",conformance:"M",constraint:"max 32",quality:"F",details:"This attribute shall specify a human readable (displayable) version of the Content App assigned by the vendor. The maximum length of the ApplicationVersion attribute is 32 bytes of UTF-8 characters.",xref:{document:"cluster",section:"6.3.5.7"}}),p({name:"AllowedVendorList",id:7,type:"list",access:"R A",conformance:"M",quality:"F",details:"This attribute is a list of vendor IDs. Each entry is a vendor-id.",xref:{document:"cluster",section:"6.3.5.8"},children:[o({name:"entry",type:"vendor-id"})]}),C({name:"ApplicationStatusEnum",type:"enum8",xref:{document:"cluster",section:"6.3.4.1"},children:[o({name:"Stopped",id:0,conformance:"M",description:"Application is not running."}),o({name:"ActiveVisibleFocus",id:1,conformance:"M",description:"Application is running, is visible to the user, and is the active target for input."}),o({name:"ActiveHidden",id:2,conformance:"M",description:"Application is running but not visible to the user."}),o({name:"ActiveVisibleNotFocus",id:3,conformance:"M",description:"Application is running and visible, but is not the active target for input."})]}),C({name:"ApplicationStruct",type:"struct",details:"This indicates a global identifier for an Application given a catalog.",xref:{document:"cluster",section:"6.3.4.2"},children:[o({name:"CatalogVendorId",id:0,type:"uint16",conformance:"M",details:`This field shall indicate the Connectivity Standards Alliance issued vendor ID for the catalog. The DIAL registry shall use value 0x0000.
It is assumed that Content App Platform providers (see Video Player Architecture section in [MatterDevLib]) will have their own catalog vendor ID (set to their own Vendor ID) and will assign an ApplicationID to each Content App.`,xref:{document:"cluster",section:"6.3.4.2.1"}}),o({name:"ApplicationId",id:1,type:"string",conformance:"M",details:`This field shall indicate the application identifier, expressed as a string, such as "123456-5433", "PruneVideo" or "Company X". This field shall be unique within a catalog.
For the DIAL registry catalog, this value shall be the DIAL prefix.`,xref:{document:"cluster",section:"6.3.4.2.2"}})]})]});A.children.push(MT);var ET=ie({name:"ApplicationLauncher",id:1292,classification:"application",pics:"APPLAUNCHER",details:`This cluster provides an interface for launching applications on a Video Player device such as a TV.
This cluster is supported on endpoints that can launch Applications, such as a Casting Video Player device with a Content App Platform. It supports identifying an Application by global identifier from a given catalog, and launching it. It also supports tracking the currently in-focus Application.
Depending on the support for the Application Platform feature, the cluster can either support launching the application corresponding to the endpoint on which the cluster is supported (AP feature not supported) or it can support launching any application (AP feature supported).`,xref:{document:"cluster",section:"6.4"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"6.4.4"},children:[o({name:"AP",constraint:"0",description:"ApplicationPlatform",details:"Support for attributes and commands required for endpoint to support launching any application within the supported application catalogs"})]}),p({name:"CatalogList",id:0,type:"list",access:"R V",conformance:"AP",quality:"N",details:`This attribute shall specify the list of supported application catalogs, where each entry in the list is the CSA-issued vendor ID for the catalog. The DIAL registry (see [DIAL Registry]) shall use value 0x0000.
It is expected that Content App Platform providers will have their own catalog vendor ID (set to their own Vendor ID) and will assign an ApplicationID to each Content App.`,xref:{document:"cluster",section:"6.4.6.1"},children:[o({name:"entry",type:"uint16"})]}),p({name:"CurrentApp",id:1,type:"ApplicationEPStruct",access:"R V",conformance:"O",constraint:"desc",default:null,quality:"X",details:"This attribute shall specify the current in-focus application, identified using an Application ID, catalog vendor ID and the corresponding endpoint number when the application is represented by a Content App endpoint. A null shall be used to indicate there is no current in-focus application.",xref:{document:"cluster",section:"6.4.6.2"}}),U({name:"LaunchApp",id:0,access:"O",conformance:"M",direction:"request",response:"LauncherResponse",details:`Upon receipt of this command, the server shall launch the application with optional data. The application shall be either
  \u2022 the specified application, if the Application Platform feature is supported;
  \u2022 otherwise the application corresponding to the endpoint.
The endpoint shall launch and bring to foreground the requisite application if the application is not already launched and in foreground. The Status attribute shall be updated to ActiveVisibleFocus on the Application Basic cluster of the Endpoint corresponding to the launched application. The Status attribute shall be updated on any other application whose Status may have changed as a result of this command. The CurrentApp attribute, if supported, shall be updated to reflect the new application in the foreground.
This command returns a Launcher Response.`,xref:{document:"cluster",section:"6.4.7.1"},children:[o({name:"Application",id:0,type:"ApplicationStruct",conformance:"AP",constraint:"desc",details:"This field shall specify the Application to launch.",xref:{document:"cluster",section:"6.4.7.1.1"}}),o({name:"Data",id:1,type:"octstr",conformance:"O",details:`This field shall specify optional app-specific data to be sent to the app.
NOTE
This format and meaning of this value is proprietary and outside the specification. It provides a transition path for device makers that use other protocols (like DIAL) which allow for proprietary data. Apps that are not yet Matter aware can be launched via Matter, while retaining the existing ability to launch with proprietary data.`,xref:{document:"cluster",section:"6.4.7.1.2"}})]}),U({name:"StopApp",id:1,access:"O",conformance:"M",direction:"request",response:"LauncherResponse",details:`Upon receipt of this command, the server shall stop the application if it is running. The application shall be either
  \u2022 the specified application, if the Application Platform feature is supported;
  \u2022 otherwise the application corresponding to the endpoint.
The Status attribute shall be updated to Stopped on the Application Basic cluster of the Endpoint corresponding to the stopped application. The Status attribute shall be updated on any other application whose Status may have changed as a result of this command.
This command returns a Launcher Response.`,xref:{document:"cluster",section:"6.4.7.2"},children:[o({name:"Application",id:0,type:"ApplicationStruct",conformance:"AP",constraint:"desc",details:"This field shall specify the Application to stop.",xref:{document:"cluster",section:"6.4.7.2.1"}})]}),U({name:"HideApp",id:2,access:"O",conformance:"M",direction:"request",response:"LauncherResponse",details:`Upon receipt of this command, the server shall hide the application. The application shall be either
  \u2022 the specified application, if the Application Platform feature is supported;
  \u2022 otherwise the application corresponding to the endpoint.
The endpoint may decide to stop the application based on manufacturer specific behavior or resource constraints if any. The Status attribute shall be updated to ActiveHidden or Stopped, depending on the action taken, on the Application Basic cluster of the Endpoint corresponding to the application on which the action was taken. The Status attribute shall be updated on any other
application whose Status may have changed as a result of this command. This command returns a Launcher Response.`,xref:{document:"cluster",section:"6.4.7.3"},children:[o({name:"Application",id:0,type:"ApplicationStruct",conformance:"AP",constraint:"desc",details:"This field shall specify the Application to hide.",xref:{document:"cluster",section:"6.4.7.3.1"}})]}),U({name:"LauncherResponse",id:3,conformance:"M",direction:"response",details:"This command shall be generated in response to LaunchApp/StopApp/HideApp commands.",xref:{document:"cluster",section:"6.4.7.4"},children:[o({name:"Status",id:0,type:"StatusEnum",conformance:"M",details:"This field shall indicate the status of the command which resulted in this response.",xref:{document:"cluster",section:"6.4.7.4.1"}}),o({name:"Data",id:1,type:"octstr",conformance:"O",details:"This field shall specify Optional app-specific data.",xref:{document:"cluster",section:"6.4.7.4.2"}})]}),C({name:"StatusEnum",type:"enum8",xref:{document:"cluster",section:"6.4.5.1"},children:[o({name:"Success",id:0,conformance:"M",description:"Command succeeded"}),o({name:"AppNotAvailable",id:1,conformance:"M",description:"Requested app is not available."}),o({name:"SystemBusy",id:2,conformance:"M",description:"Video platform unable to honor command."})]}),C({name:"ApplicationStruct",type:"struct",details:"This indicates a global identifier for an Application given a catalog.",xref:{document:"cluster",section:"6.4.5.2"},children:[o({name:"CatalogVendorId",id:0,type:"uint16",conformance:"M",details:`This field shall indicate the CSA-issued vendor ID for the catalog. The DIAL registry shall use value 0x0000.
Content App Platform providers will have their own catalog vendor ID (set to their own Vendor ID) and will assign an ApplicationID to each Content App.`,xref:{document:"cluster",section:"6.4.5.2.1"}}),o({name:"ApplicationId",id:1,type:"string",conformance:"M",details:`This field shall indicate the application identifier, expressed as a string, such as "PruneVideo" or "Company X". This field shall be unique within a catalog.
For the DIAL registry catalog, this value shall be the DIAL prefix (see [DIAL Registry]).`,xref:{document:"cluster",section:"6.4.5.2.2"}})]}),C({name:"ApplicationEPStruct",type:"struct",details:"This specifies an app along with its corresponding endpoint.",xref:{document:"cluster",section:"6.4.5.3"},children:[o({name:"Application",id:0,type:"ApplicationStruct",conformance:"M"}),o({name:"Endpoint",id:1,type:"endpoint-no",conformance:"O"})]})]});A.children.push(ET);var OT=ie({name:"AudioOutput",id:1291,classification:"application",pics:"AUDIOOUTPUT",details:`This cluster provides an interface for controlling the Output on a Video Player device such as a TV.
This cluster would be supported on a device with audio outputs like a Video Player device (Smart TV, TV Setup Top Box, Smart Speaker, etc).
This cluster provides the list of available outputs and provides commands for selecting and renaming them.
The cluster server for Audio Output is implemented by a device that has configurable audio output.`,xref:{document:"cluster",section:"6.5"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"6.5.4"},children:[o({name:"NU",constraint:"0",description:"NameUpdates",details:"Supports updates to output names"})]}),p({name:"OutputList",id:0,type:"list",access:"R V",conformance:"M",details:"This attribute provides the list of outputs supported by the device.",xref:{document:"cluster",section:"6.5.6.1"},children:[o({name:"entry",type:"OutputInfoStruct"})]}),p({name:"CurrentOutput",id:1,type:"uint8",access:"R V",conformance:"M",details:"This attribute contains the value of the index field of the currently selected OutputInfoStruct.",xref:{document:"cluster",section:"6.5.6.2"}}),U({name:"SelectOutput",id:0,access:"O",conformance:"M",direction:"request",response:"status",details:`Upon receipt, this shall change the output on the device to the output at a specific index in the Output List.
Note that when the current output is set to an output of type HDMI, adjustments to volume via a Speaker endpoint on the same node may cause HDMI volume up/down commands to be sent to the given HDMI output.`,xref:{document:"cluster",section:"6.5.7.1"},children:[o({name:"Index",id:0,type:"uint8",conformance:"M",details:"This shall indicate the index field of the OutputInfoStruct from the OutputList attribute in which to change to.",xref:{document:"cluster",section:"6.5.7.1.1"}})]}),U({name:"RenameOutput",id:1,access:"M",conformance:"NU",direction:"request",response:"status",details:`Upon receipt, this shall rename the output at a specific index in the Output List.
Updates to the output name shall appear in the device\u2019s settings menus. Name updates may automatically be sent to the actual device to which the output connects.`,xref:{document:"cluster",section:"6.5.7.2"},children:[o({name:"Index",id:0,type:"uint8",conformance:"M"}),o({name:"Name",id:1,type:"string",conformance:"M"})]}),C({name:"OutputTypeEnum",type:"enum8",details:"The type of output, expressed as an enum, with the following values:",xref:{document:"cluster",section:"6.5.5.1"},children:[o({name:"Hdmi",id:0,conformance:"M",description:"HDMI"}),o({name:"Bt",id:1,conformance:"M"}),o({name:"Optical",id:2,conformance:"M"}),o({name:"Headphone",id:3,conformance:"M"}),o({name:"Internal",id:4,conformance:"M"}),o({name:"Other",id:5,conformance:"M"})]}),C({name:"OutputInfoStruct",type:"struct",details:"This contains information about an output.",xref:{document:"cluster",section:"6.5.5.2"},children:[o({name:"Index",id:0,type:"uint8",conformance:"M",details:"This field shall indicate the unique index into the list of outputs.",xref:{document:"cluster",section:"6.5.5.2.1"}}),o({name:"OutputType",id:1,type:"OutputTypeEnum",conformance:"M",constraint:"desc",details:"This field shall indicate the type of output.",xref:{document:"cluster",section:"6.5.5.2.2"}}),o({name:"Name",id:2,type:"string",conformance:"M",details:"The device defined and user editable output name, such as \u201CSoundbar\u201D, \u201CSpeakers\u201D. This field may be blank, but SHOULD be provided when known.",xref:{document:"cluster",section:"6.5.5.2.3"}})]})]});A.children.push(OT);var DT=ie({name:"Channel",id:1284,asOf:"1.3",classification:"application",pics:"CHANNEL",details:`This cluster provides an interface for controlling the current Channel on a device or endpoint.
This cluster server would be supported on Video Player devices or endpoints that allow Channel control such as a Content App. This cluster provides a list of available channels and provides commands for absolute and relative channel changes.
The cluster server for Channel is implemented by an endpoint that controls the current Channel.`,xref:{document:"cluster",section:"6.6"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:2}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"6.6.4"},children:[o({name:"CL",constraint:"0",description:"ChannelList",details:"Provides list of available channels."}),o({name:"LI",constraint:"1",description:"LineupInfo",details:"Provides lineup info, which is a reference to an external source of lineup information."}),o({name:"EG",constraint:"2",description:"ElectronicGuide",details:"Provides electronic program guide information."}),o({name:"RP",constraint:"3",description:"RecordProgram",details:"Provides ability to record program."})]}),p({name:"ChannelList",id:0,type:"list",access:"R V",conformance:"CL",default:[],details:"This attribute shall provide the list of supported channels.",xref:{document:"cluster",section:"6.6.6.1"},children:[o({name:"entry",type:"ChannelInfoStruct"})]}),p({name:"Lineup",id:1,type:"LineupInfoStruct",access:"R V",conformance:"LI",constraint:"desc",default:null,quality:"X",details:"This attribute shall identify the channel lineup using external data sources.",xref:{document:"cluster",section:"6.6.6.2"}}),p({name:"CurrentChannel",id:2,type:"ChannelInfoStruct",access:"R V",conformance:"O",constraint:"desc",default:null,quality:"X",details:"This attribute shall contain the current channel. When supported but a channel is not currently tuned to (if a content application is in foreground), the value of the field shall be null.",xref:{document:"cluster",section:"6.6.6.3"}}),U({name:"ChangeChannel",id:0,access:"O",conformance:"CL | LI",direction:"request",response:"ChangeChannelResponse",details:`Change the channel to the channel case-insensitive exact matching the value passed as an argument.
The match priority order shall be: Identifier, AffiliateCallSign, CallSign, Name, Number. In the match string, the Channel number should be presented in the "Major.Minor" format, such as "13.1".
Upon receipt, this shall generate a ChangeChannelResponse command.
Upon success, the CurrentChannel attribute, if supported, shall be updated to reflect the change.`,xref:{document:"cluster",section:"6.6.7.1"},children:[o({name:"Match",id:0,type:"string",conformance:"M",details:"This field shall contain a user-input string to match in order to identify the target channel.",xref:{document:"cluster",section:"6.6.7.1.1"}})]}),U({name:"ChangeChannelResponse",id:1,conformance:"CL | LI",direction:"response",details:"This command shall be generated in response to a ChangeChannel command.",xref:{document:"cluster",section:"6.6.7.2"},children:[o({name:"Status",id:0,type:"StatusEnum",conformance:"M",constraint:"desc",details:"This field shall indicate the status of the command which resulted in this response.",xref:{document:"cluster",section:"6.6.7.2.1"}}),o({name:"Data",id:1,type:"string",conformance:"O",details:"This field shall indicate Optional app-specific data.",xref:{document:"cluster",section:"6.6.7.2.2"}})]}),U({name:"ChangeChannelByNumber",id:2,access:"O",conformance:"M",direction:"request",response:"status",details:"Change the channel to the channel with the given Number in the ChannelList attribute.",xref:{document:"cluster",section:"6.6.7.3"},children:[o({name:"MajorNumber",id:0,type:"uint16",conformance:"M",details:"This field shall indicate the channel major number value (ATSC format) to which the channel should change.",xref:{document:"cluster",section:"6.6.7.3.1"}}),o({name:"MinorNumber",id:1,type:"uint16",conformance:"M",details:"This field shall indicate the channel minor number value (ATSC format) to which the channel should change.",xref:{document:"cluster",section:"6.6.7.3.2"}})]}),U({name:"SkipChannel",id:3,access:"O",conformance:"M",direction:"request",response:"status",details:`This command provides channel up and channel down functionality, but allows channel index jumps of size Count.
When the value of the increase or decrease is larger than the number of channels remaining in the given direction, then the behavior shall be to return to the beginning (or end) of the channel list and continue. For example, if the current channel is at index 0 and count value of -1 is given, then the current channel should change to the last channel.`,xref:{document:"cluster",section:"6.6.7.4"},children:[o({name:"Count",id:0,type:"int16",conformance:"M",details:"This field shall indicate the number of steps to increase (Count is positive) or decrease (Count is negative) the current channel.",xref:{document:"cluster",section:"6.6.7.4.1"}})]}),U({name:"GetProgramGuide",id:4,access:"O",conformance:"EG",direction:"request",response:"ProgramGuideResponse",details:`This command retrieves the program guide. It accepts several filter parameters to return specific schedule and program information from a content app. The command shall receive in response a ProgramGuideResponse. Standard error codes shall be used when arguments provided are not
valid. For example, if StartTime is greater than EndTime, the status code INVALID_ACTION shall be returned.`,xref:{document:"cluster",section:"6.6.7.5"},children:[o({name:"StartTime",id:0,type:"epoch-s",conformance:"M",details:"This field shall indicate the beginning of the time window for which program guide entries are to be retrieved, as a UTC time. Entries with a start time on or after this value will be included in the results.",xref:{document:"cluster",section:"6.6.7.5.1"}}),o({name:"EndTime",id:1,type:"epoch-s",conformance:"M",details:"This field shall indicate the end of the time window for which program guide entries are to be retrieved, as a UTC time. Entries with an end time on or before this value will be included in the results. This field can represent a past or future value but shall be greater than the StartTime.",xref:{document:"cluster",section:"6.6.7.5.2"}}),o({name:"ChannelList",id:2,type:"list",conformance:"O",constraint:"max 255",default:[],details:"This field shall indicate the set of channels for which program guide entries should be fetched. By providing a list of channels in this field, the response will only include entries corresponding to the specified channels.",xref:{document:"cluster",section:"6.6.7.5.3"},children:[o({name:"entry",type:"ChannelInfoStruct"})]}),o({name:"PageToken",id:3,type:"PageTokenStruct",conformance:"O",default:null,quality:"X",details:"This field shall indicate the pagination token used for managing pagination progression.",xref:{document:"cluster",section:"6.6.7.5.4"}}),o({name:"RecordingFlag",id:5,type:"RecordingFlagBitmap",conformance:"O",default:null,quality:"X",details:"This field shall indicate the flags of the programs for which entries should be fetched.",xref:{document:"cluster",section:"6.6.7.5.5"}}),o({name:"ExternalIdList",id:6,type:"list",conformance:"O",constraint:"max 255",default:[],details:"This field shall indicate the list of additional external content identifiers.",xref:{document:"cluster",section:"6.6.7.5.6"},children:[o({name:"entry",type:"AdditionalInfoStruct"})]}),o({name:"Data",id:7,type:"octstr",conformance:"O",constraint:"max 8092",details:"This field shall indicate Optional app-specific data.",xref:{document:"cluster",section:"6.6.7.5.7"}})]}),U({name:"ProgramGuideResponse",id:5,conformance:"EG",direction:"response",details:"This command is a response to the GetProgramGuide command.",xref:{document:"cluster",section:"6.6.7.6"},children:[o({name:"Paging",id:0,type:"ChannelPagingStruct",conformance:"M",details:"This field shall indicate the necessary pagination attributes that define information for both the succeeding and preceding data pages.",xref:{document:"cluster",section:"6.6.7.6.1"}}),o({name:"ProgramList",id:1,type:"list",conformance:"M",default:[],details:"This field shall indicate the list of programs.",xref:{document:"cluster",section:"6.6.7.6.2"},children:[o({name:"entry",type:"ProgramStruct"})]})]}),U({name:"RecordProgram",id:6,access:"O",conformance:"RP & EG",direction:"request",response:"status",details:"Record a specific program or series when it goes live. This functionality enables DVR recording features.",xref:{document:"cluster",section:"6.6.7.7"},children:[o({name:"ProgramIdentifier",id:0,type:"string",conformance:"M",constraint:"max 255",details:"This field shall indicate the program identifier for the program that should be recorded. This value is provided by the identifier field in ProgramStruct.",xref:{document:"cluster",section:"6.6.7.7.1"}}),o({name:"ShouldRecordSeries",id:1,type:"bool",conformance:"M",details:"This field shall indicate whether the whole series associated to the program should be recorded. For example, invoking record program on an episode with that flag set to true, the target should schedule record the whole series.",xref:{document:"cluster",section:"6.6.7.7.2"}}),o({name:"ExternalIdList",id:2,type:"list",conformance:"O",constraint:"max 255",default:[],details:"This field, if present, shall indicate the list of additional external content identifiers.",xref:{document:"cluster",section:"6.6.7.7.3"},children:[o({name:"entry",type:"AdditionalInfoStruct"})]}),o({name:"Data",id:3,type:"octstr",conformance:"O",constraint:"max 8092",details:"This field, if present, shall indicate app-specific data.",xref:{document:"cluster",section:"6.6.7.7.4"}})]}),U({name:"CancelRecordProgram",id:7,access:"O",conformance:"RP & EG",direction:"request",response:"status",details:"Cancel recording for a specific program or series.",xref:{document:"cluster",section:"6.6.7.8"},children:[o({name:"ProgramIdentifier",id:0,type:"string",conformance:"M",constraint:"max 255",details:"This field shall indicate the program identifier for the program that should be cancelled from recording. This value is provided by the identifier field in ProgramStruct.",xref:{document:"cluster",section:"6.6.7.8.1"}}),o({name:"ShouldRecordSeries",id:1,type:"bool",conformance:"M",details:"This field shall indicate whether the whole series associated to the program should be cancelled from recording. For example, invoking record program on an episode with that flag set to true, the target should schedule record the whole series.",xref:{document:"cluster",section:"6.6.7.8.2"}}),o({name:"ExternalIdList",id:2,type:"list",conformance:"O",constraint:"max 255",default:[],details:"This field, if present, shall indicate the list of additional external content identifiers.",xref:{document:"cluster",section:"6.6.7.8.3"},children:[o({name:"entry",type:"AdditionalInfoStruct"})]}),o({name:"Data",id:3,type:"octstr",conformance:"O",constraint:"max 8092",details:"This field, if present, shall indicate app-specific data.",xref:{document:"cluster",section:"6.6.7.8.4"}})]}),C({name:"RecordingFlagBitmap",type:"map8",xref:{document:"cluster",section:"6.6.5.1"},children:[o({name:"Scheduled",constraint:"0",description:"The program is scheduled for recording."}),o({name:"RecordSeries",constraint:"1",description:"The program series is scheduled for recording."}),o({name:"Recorded",constraint:"2",description:"The program is recorded and available to be played."})]}),C({name:"LineupInfoTypeEnum",type:"enum8",xref:{document:"cluster",section:"6.6.5.2"},children:[o({name:"Mso",id:0,conformance:"M",description:"Multi System Operator"})]}),C({name:"StatusEnum",type:"enum8",xref:{document:"cluster",section:"6.6.5.3"},children:[o({name:"Success",id:0,conformance:"M",description:"Command succeeded"}),o({name:"MultipleMatches",id:1,conformance:"M",description:"More than one equal match for the ChannelInfoStruct passed in."}),o({name:"NoMatches",id:2,conformance:"M",description:"No matches for the ChannelInfoStruct passed in."})]}),C({name:"ChannelTypeEnum",type:"enum8",xref:{document:"cluster",section:"6.6.5.4"},children:[o({name:"Satellite",id:0,conformance:"M",description:"The channel is sourced from a satellite provider."}),o({name:"Cable",id:1,conformance:"M",description:"The channel is sourced from a cable provider."}),o({name:"Terrestrial",id:2,conformance:"M",description:"The channel is sourced from a terrestrial provider."}),o({name:"Ott",id:3,conformance:"M",description:"The channel is sourced from an OTT provider."})]}),C({name:"ChannelInfoStruct",type:"struct",details:`This indicates a channel in a channel lineup.
While the major and minor numbers in the ChannelInfoStruct support use of ATSC channel format, a lineup may use other formats which can map into these numeric values.`,xref:{document:"cluster",section:"6.6.5.5"},children:[o({name:"MajorNumber",id:0,type:"uint16",conformance:"M",details:'This field shall indicate the channel major number value (for example, using ATSC format). When the channel number is expressed as a string, such as "13.1" or "256", the major number would be 13 or 256, respectively. This field is required but shall be set to 0 for channels such as over-the-top channels that are not represented by a major or minor number.',xref:{document:"cluster",section:"6.6.5.5.1"}}),o({name:"MinorNumber",id:1,type:"uint16",conformance:"M",details:'This field shall indicate the channel minor number value (for example, using ATSC format). When the channel number is expressed as a string, such as "13.1" or "256", the minor number would be 1 or 0, respectively. This field is required but shall be set to 0 for channels such as over-the-top channels that are not represented by a major or minor number.',xref:{document:"cluster",section:"6.6.5.5.2"}}),o({name:"Name",id:2,type:"string",conformance:"O",details:'This field shall indicate the marketing name for the channel, such as \u201CThe CW" or "Comedy Central". This field is optional, but SHOULD be provided when known.',xref:{document:"cluster",section:"6.6.5.5.3"}}),o({name:"CallSign",id:3,type:"string",conformance:"O",details:'This field shall indicate the call sign of the channel, such as "PBS". This field is optional, but SHOULD be provided when known.',xref:{document:"cluster",section:"6.6.5.5.4"}}),o({name:"AffiliateCallSign",id:4,type:"string",conformance:"O",details:`This field shall indicate the local affiliate call sign, such as "KCTS". This field is optional, but
SHOULD be provided when known.`,xref:{document:"cluster",section:"6.6.5.5.5"}}),o({name:"Identifier",id:5,type:"string",conformance:"O",details:"This shall indicate the unique identifier for a specific channel. This field is optional, but SHOULD be provided when MajorNumber and MinorNumber are not available.",xref:{document:"cluster",section:"6.6.5.5.6"}}),o({name:"Type",id:6,type:"ChannelTypeEnum",conformance:"O",details:"This shall indicate the type or grouping of a specific channel. This field is optional, but SHOULD be provided when known.",xref:{document:"cluster",section:"6.6.5.5.7"}})]}),C({name:"LineupInfoStruct",type:"struct",details:"The Lineup Info allows references to external lineup sources like Gracenote. The combination of OperatorName, LineupName, and PostalCode MUST uniquely identify a lineup.",xref:{document:"cluster",section:"6.6.5.6"},children:[o({name:"OperatorName",id:0,type:"string",conformance:"M",details:"This field shall indicate the name of the operator, for example \u201CComcast\u201D.",xref:{document:"cluster",section:"6.6.5.6.1"}}),o({name:"LineupName",id:1,type:"string",conformance:"O",details:'This field shall indicate the name of the provider lineup, for example "Comcast King County". This field is optional, but SHOULD be provided when known.',xref:{document:"cluster",section:"6.6.5.6.2"}}),o({name:"PostalCode",id:2,type:"string",conformance:"O",details:'This field shall indicate the postal code (zip code) for the location of the device, such as "98052". This field is optional, but SHOULD be provided when known.',xref:{document:"cluster",section:"6.6.5.6.3"}}),o({name:"LineupInfoType",id:3,type:"LineupInfoTypeEnum",conformance:"M",constraint:"desc",details:"This field shall indicate the type of lineup. This field is optional, but SHOULD be provided when known.",xref:{document:"cluster",section:"6.6.5.6.4"}})]}),C({name:"ProgramStruct",type:"struct",details:"This indicates a program within an electronic program guide (EPG).",xref:{document:"cluster",section:"6.6.5.7"},children:[o({name:"Identifier",id:0,type:"string",conformance:"M",constraint:"max 255",details:"This field shall indicate a unique identifier for a program within an electronic program guide list. The identifier shall be unique across multiple channels.",xref:{document:"cluster",section:"6.6.5.7.1"}}),o({name:"Channel",id:1,type:"ChannelInfoStruct",conformance:"M",details:"This field shall indicate the channel associated to the program.",xref:{document:"cluster",section:"6.6.5.7.2"}}),o({name:"StartTime",id:2,type:"epoch-s",conformance:"M",details:"This field shall indicate an epoch time in seconds indicating the start time of a program, as a UTC time. This field can represent a past or future value.",xref:{document:"cluster",section:"6.6.5.7.3"}}),o({name:"EndTime",id:3,type:"epoch-s",conformance:"M",details:"This field shall indicate an epoch time in seconds indicating the end time of a program, as a UTC time. This field can represent a past or future value but shall be greater than the StartTime.",xref:{document:"cluster",section:"6.6.5.7.4"}}),o({name:"Title",id:4,type:"string",conformance:"M",constraint:"max 255",details:"This field shall indicate the title or name for the specific program. For example, \u201CMCIS: Los Angeles\u201D.",xref:{document:"cluster",section:"6.6.5.7.5"}}),o({name:"Subtitle",id:5,type:"string",conformance:"O",constraint:"max 255",details:'This field shall indicate the subtitle for the specific program. For example, \u201CMaybe Today" which is an episode name for \u201CMCIS: Los Angeles\u201D. This field is optional but shall be provided if applicable and known.',xref:{document:"cluster",section:"6.6.5.7.6"}}),o({name:"Description",id:6,type:"string",conformance:"O",constraint:"max 8192",details:"This field shall indicate the brief description for the specific program. For example, a description of an episode. This field is optional but shall be provided if known.",xref:{document:"cluster",section:"6.6.5.7.7"}}),o({name:"AudioLanguages",id:7,type:"list",conformance:"O",constraint:"max 10[max 50]",default:[],details:"This field shall indicate the audio language for the specific program. The value is a string containing one of the standard Tags for Identifying Languages RFC 5646. This field is optional but shall be provided if known.",xref:{document:"cluster",section:"6.6.5.7.8"},children:[o({name:"entry",type:"string"})]}),o({name:"Ratings",id:8,type:"list",conformance:"O",constraint:"max 255",default:[],details:`This field shall be used for indicating the level of parental guidance recommended for of a particular program. This can be any rating system used in the country or region where the program is
broadcast. For example, in the United States \u201CTV-PG\u201D may contain material that parents can find not suitable for younger children but can be accepted in general for older children. This field is optional but shall be provided if known.`,xref:{document:"cluster",section:"6.6.5.7.9"},children:[o({name:"entry",type:"string"})]}),o({name:"ThumbnailUrl",id:9,type:"string",conformance:"O",constraint:"max 8192",details:"This field shall represent a url of a thumbnail that clients can use to render an image for the program.",xref:{document:"cluster",section:"6.6.5.7.10"}}),o({name:"PosterArtUrl",id:10,type:"string",conformance:"O",constraint:"max 8192",details:"This field shall represent a url of a poster that clients can use to render an image for the program on the detail view.",xref:{document:"cluster",section:"6.6.5.7.11"}}),o({name:"DvbiUrl",id:11,type:"string",conformance:"O",constraint:"max 8192",details:"This field shall represent the DVB-I url associated to the program.",xref:{document:"cluster",section:"6.6.5.7.12"}}),o({name:"ReleaseDate",id:12,type:"string",conformance:"O",constraint:"max 30",details:"This field shall be a string, in ISO 8601 format, representing the date on which the program was released. This field is optional but when provided, the year shall be provided as part of the string.",xref:{document:"cluster",section:"6.6.5.7.13"}}),o({name:"ParentalGuidanceText",id:13,type:"string",conformance:"O",constraint:"max 255",details:"This field shall represent a string providing additional information on the parental guidance. This field is optional.",xref:{document:"cluster",section:"6.6.5.7.14"}}),o({name:"RecordingFlag",id:14,type:"RecordingFlagBitmap",conformance:"RP",details:"This field shall represent the recording status of the program. This field is required if the RecordProgram feature is set.",xref:{document:"cluster",section:"6.6.5.7.15"}}),o({name:"SeriesInfo",id:15,type:"SeriesInfoStruct",conformance:"O",default:null,quality:"X",details:"This field shall represent the information of a series such as season and episode number. This field is optional but SHOULD be provided if the program represents a series and this information is available.",xref:{document:"cluster",section:"6.6.5.7.16"}}),o({name:"CategoryList",id:16,type:"list",conformance:"O",constraint:"max 255",default:[],details:"This field shall represent the category of a particular program. This field is optional but shall be provided if known.",xref:{document:"cluster",section:"6.6.5.7.17"},children:[o({name:"entry",type:"ProgramCategoryStruct"})]}),o({name:"CastList",id:17,type:"list",conformance:"O",constraint:"max 255",default:[],details:"This field shall represent a list of the cast or the crew on the program. A single cast member may have more than one role. This field is optional but shall be provided if known.",xref:{document:"cluster",section:"6.6.5.7.18"},children:[o({name:"entry",type:"ProgramCastStruct"})]}),o({name:"ExternalIdList",id:18,type:"list",conformance:"O",constraint:"max 255",default:[],details:"This field shall indicate the list of additional external content identifiers.",xref:{document:"cluster",section:"6.6.5.7.19"},children:[o({name:"entry",type:"AdditionalInfoStruct"})]})]}),C({name:"ProgramCategoryStruct",type:"struct",details:"This object defines the category associated to a program.",xref:{document:"cluster",section:"6.6.5.8"},children:[o({name:"Category",id:0,type:"string",conformance:"M",constraint:"max 256",details:"This field shall represent the category or genre of the program. Ex. News.",xref:{document:"cluster",section:"6.6.5.8.1"}}),o({name:"SubCategory",id:1,type:"string",conformance:"O",constraint:"max 256",details:"This field shall represent the sub-category or sub-genre of the program. Ex. Local.",xref:{document:"cluster",section:"6.6.5.8.2"}})]}),C({name:"SeriesInfoStruct",type:"struct",details:"This object provides the episode information related to a program.",xref:{document:"cluster",section:"6.6.5.9"},children:[o({name:"Season",id:0,type:"string",conformance:"M",constraint:"max 256",details:"This field shall represent the season of the series associated to the program.",xref:{document:"cluster",section:"6.6.5.9.1"}}),o({name:"Episode",id:1,type:"string",conformance:"M",constraint:"max 256",details:"This field shall represent the episode of the program.",xref:{document:"cluster",section:"6.6.5.9.2"}})]}),C({name:"ProgramCastStruct",type:"struct",details:"This object provides the cast information related to a program.",xref:{document:"cluster",section:"6.6.5.10"},children:[o({name:"Name",id:0,type:"string",conformance:"M",constraint:"max 256",details:"This field shall represent the name of the cast member.",xref:{document:"cluster",section:"6.6.5.10.1"}}),o({name:"Role",id:1,type:"string",conformance:"M",constraint:"max 256",details:"This field shall represent the role of the cast member. Ex. Actor, Director.",xref:{document:"cluster",section:"6.6.5.10.2"}})]}),C({name:"PageTokenStruct",type:"struct",details:"This object defines the pagination structure.",xref:{document:"cluster",section:"6.6.5.11"},children:[o({name:"Limit",id:0,type:"uint16",conformance:"O",default:0,details:"This field shall indicate the maximum number of entries that should be retrieved from the program guide in a single response. It allows clients to specify the size of the paginated result set based on their needs.",xref:{document:"cluster",section:"6.6.5.11.1"}}),o({name:"After",id:1,type:"string",conformance:"O",constraint:"max 8192",details:"This field shall indicate the cursor that pinpoints the start of the upcoming data page. In a Cursor- based pagination system, the field acts as a reference point, ensuring the set of results corresponds directly to the data following the specified cursor. In a Offset-based pagination system, the field, along with limit, indicate the offset from which entries in the program guide will be retrieved.",xref:{document:"cluster",section:"6.6.5.11.2"}}),o({name:"Before",id:2,type:"string",conformance:"O",constraint:"max 8192",details:"This field shall indicate the cursor that pinpoints the end of the upcoming data page. In a Cursor- based pagination system, the field acts as a reference point, ensuring the set of results corresponds directly to the data preceding the specified cursor. In a Offset-based pagination system, the field, along with limit, indicate the offset from which entries in the program guide will be retrieved.",xref:{document:"cluster",section:"6.6.5.11.3"}})]}),C({name:"ChannelPagingStruct",type:"struct",details:"This object defines the paging structure that includes the previous and next pagination tokens.",xref:{document:"cluster",section:"6.6.5.12"},children:[o({name:"PreviousToken",id:0,type:"PageTokenStruct",conformance:"O",default:null,quality:"X",details:"This field shall indicate the token to retrieve the preceding page. Absence of this field denotes the response as the initial page.",xref:{document:"cluster",section:"6.6.5.12.1"}}),o({name:"NextToken",id:1,type:"PageTokenStruct",conformance:"O",default:null,quality:"X",details:"This field shall indicate the token to retrieve the next page. Absence of this field denotes the response as the last page.",xref:{document:"cluster",section:"6.6.5.12.2"}})]}),C({name:"AdditionalInfoStruct",type:"ContentLauncher.AdditionalInfoStruct"})]});A.children.push(DT);var RT=ie({name:"ContentLauncher",id:1290,asOf:"1.3",classification:"application",pics:"CONTENTLAUNCHER",details:`This cluster provides an interface for launching content on a Video Player device such as a Streaming Media Player, Smart TV or Smart Screen.
This cluster would be supported on a Video Player device or devices that can playback content, such as a Streaming Media Player, Smart TV or Smart Screen. This cluster supports playing back content referenced by URL. It supports finding content by type and global identifier, and either playing the content or displaying the search results.
The cluster server for Content Launcher is implemented by an endpoint that can launch content, such as a Video Player, or an endpoint representing a Content App on such a device.
When this cluster is implemented for an Content App Endpoint (Endpoint with type \u201CContent App\u201D and having an Application Basic cluster), the Video Player device shall launch the application when a client invokes the LaunchContent or LaunchURL commands.`,xref:{document:"cluster",section:"6.7"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:2}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"6.7.4"},children:[o({name:"CS",constraint:"0",description:"ContentSearch",details:"Device supports content search (non-app specific)"}),o({name:"UP",constraint:"1",description:"UrlPlayback",details:"Device supports basic URL-based file playback"}),o({name:"AS",constraint:"2",description:"AdvancedSeek",details:'Enables clients to implement more advanced media seeking behavior in their user interface, such as for example a "seek bar".'}),o({name:"TT",constraint:"3",description:"TextTracks",details:"Device or app supports Text Tracks."}),o({name:"AT",constraint:"4",description:"AudioTracks",details:"Device or app supports Audio Tracks."})]}),p({name:"AcceptHeader",id:0,type:"list",access:"R V",conformance:"UP",constraint:"max 100[max 1024]",default:[],quality:"N",details:'This attribute shall provide a list of content types supported by the Video Player or Content App in the form of entries in the HTTP "Accept" request header.',xref:{document:"cluster",section:"6.7.6.1"},children:[o({name:"entry",type:"string"})]}),p({name:"SupportedStreamingProtocols",id:1,type:"SupportedProtocolsBitmap",access:"R V",conformance:"UP",default:0,quality:"N",details:"This attribute shall provide information about supported streaming protocols.",xref:{document:"cluster",section:"6.7.6.2"}}),U({name:"LaunchContent",id:0,access:"O",conformance:"CS",direction:"request",response:"LauncherResponse",details:"Upon receipt, this shall launch the specified content with optional search criteria. This command returns a Launch Response.",xref:{document:"cluster",section:"6.7.7.1"},children:[o({name:"Search",id:0,type:"ContentSearchStruct",conformance:"M",constraint:"desc",details:"This field shall indicate the content to launch.",xref:{document:"cluster",section:"6.7.7.1.1"}}),o({name:"AutoPlay",id:1,type:"bool",conformance:"M",constraint:"desc",details:`This field shall indicate whether to automatically start playing content, where:
  \u2022 TRUE means best match should start playing automatically.
  \u2022 FALSE means matches should be displayed on screen for user selection.`,xref:{document:"cluster",section:"6.7.7.1.2"}}),o({name:"Data",id:2,type:"string",conformance:"O",details:"This field, if present, shall indicate app-specific data.",xref:{document:"cluster",section:"6.7.7.1.3"}}),o({name:"PlaybackPreferences",id:3,type:"PlaybackPreferencesStruct",conformance:"O",details:"This field, if present, shall indicate the user\u2019s preferred Text/AudioTracks and playbackPosition for the media, sent from the client to the server. If the server does not find an available track for the title being played exactly matching a Track requested here, in the list of available tracks, it may default to picking another track that closely matches the requested track. Alternately, it may go with user preferences set on the server side (it will use this option if these PlaybackPreferences are not specified). In the case of text tracks, that may mean that the subtitle text is not displayed at all. In the cases where the preferred Text/AudioTracks are not available, the server shall return the TextTrackNotAvailable and/or AudioTrackNotAvailable Status(es) in the LauncherResponse.",xref:{document:"cluster",section:"6.7.7.1.4"}}),o({name:"UseCurrentContext",id:4,type:"bool",conformance:"O",constraint:"desc",default:!0,details:"This field, if present, shall indicate whether to consider the context of current ongoing activity on the receiver to fulfill the request. For example if the request only includes data in ContentSearch that specifies an Episode number, and UseCurrentContent is set to TRUE, if there is a TV series on going, the request refers to the specific episode of the ongoing season of the TV series. TRUE means current activity context may be considered FALSE means current activity context shall NOT be considered",xref:{document:"cluster",section:"6.7.7.1.5"}})]}),U({name:"LaunchUrl",id:1,access:"O",conformance:"UP",direction:"request",response:"LauncherResponse",details:`Upon receipt, this shall launch content from the specified URL.
The content types supported include those identified in the AcceptHeader and SupportedStreaming
Protocols attributes.
A check shall be made to ensure the URL is secure (uses HTTPS).
When playing a video stream in response to this command, an indication (ex. visual) of the identity of the origin node of the video stream shall be provided. This could be in the form of a friendly name label which uniquely identifies the node to the user. This friendly name label is typically assigned by the Matter Admin (ex. TV) at the time of commissioning and, when it\u2019s a device, is often editable by the user. It might be a combination of a company name and friendly name, for example, \u201DAcme\u201D or \u201CAcme Streaming Service on Alice\u2019s Phone\u201D.
This command returns a Launch Response.`,xref:{document:"cluster",section:"6.7.7.2"},children:[o({name:"ContentUrl",id:0,type:"string",conformance:"M",details:"This field shall indicate the URL of content to launch.",xref:{document:"cluster",section:"6.7.7.2.1"}}),o({name:"DisplayString",id:1,type:"string",conformance:"O",details:"This field, if present, shall provide a string that may be used to describe the content being accessed at the given URL.",xref:{document:"cluster",section:"6.7.7.2.2"}}),o({name:"BrandingInformation",id:2,type:"BrandingInformationStruct",conformance:"O",details:"This field, if present, shall indicate the branding information that may be displayed when playing back the given content.",xref:{document:"cluster",section:"6.7.7.2.3"}}),o({name:"PlaybackPreferences",id:3,type:"PlaybackPreferencesStruct",conformance:"O",details:"This field, if present, shall indicate the user\u2019s preferred Text/AudioTracks and playbackPosition for the media, sent from the client to the server. If the server does not find an available track for the title being played exactly matching a Track requested here, in the list of available tracks, it may default to picking another track that closely matches the requested track. Alternately, it may go with user preferences set on the server side (it will use this option if these PlaybackPreferences are not specified). In the case of text tracks, that may mean that the subtitle text is not displayed at all. In the cases where the preferred Text/AudioTracks are not available, the server shall return the TextTrackNotAvailable and/or AudioTrackNotAvailable Status(es) in the LauncherResponse.",xref:{document:"cluster",section:"6.7.7.2.4"}})]}),U({name:"LauncherResponse",id:2,conformance:"CS | UP",direction:"response",details:"This command shall be generated in response to LaunchContent and LaunchURL commands.",xref:{document:"cluster",section:"6.7.7.3"},children:[o({name:"Status",id:0,type:"StatusEnum",conformance:"M",details:"This field shall indicate the status of the command which resulted in this response.",xref:{document:"cluster",section:"6.7.7.3.1"}}),o({name:"Data",id:1,type:"string",conformance:"O",details:"This field shall indicate Optional app-specific data.",xref:{document:"cluster",section:"6.7.7.3.2"}})]}),C({name:"SupportedProtocolsBitmap",type:"map32",xref:{document:"cluster",section:"6.7.5.1"},children:[o({name:"Dash",constraint:"0",description:"Device supports Dynamic Adaptive Streaming over HTTP (DASH)"}),o({name:"Hls",constraint:"1",description:"Device supports HTTP Live Streaming (HLS)"})]}),C({name:"StatusEnum",type:"enum8",xref:{document:"cluster",section:"6.7.5.2"},children:[o({name:"Success",id:0,conformance:"M",description:"Command succeeded"}),o({name:"UrlNotAvailable",id:1,conformance:"M",description:"Requested URL could not be reached by device."}),o({name:"AuthFailed",id:2,conformance:"M",description:"Requested URL returned 401 error code."}),o({name:"TextTrackNotAvailable",id:3,conformance:"TT",description:"Requested Text Track (in PlaybackPreferences) not available"}),o({name:"AudioTrackNotAvailable",id:4,conformance:"AT",description:"Requested Audio Track (in PlaybackPreferences) not available"})]}),C({name:"ParameterEnum",type:"enum8",xref:{document:"cluster",section:"6.7.5.3"},children:[o({name:"Actor",id:0,conformance:"M",description:"Actor represents an actor credited in video media content; for example, \u201CGaby Hoffman\u201D"}),o({name:"Channel",id:1,conformance:"M",description:'Channel represents the identifying data for a television channel; for example, "PBS"'}),o({name:"Character",id:2,conformance:"M",description:"A character represented in video media content; for example, \u201CSnow White\u201D"}),o({name:"Director",id:3,conformance:"M",description:"A director of the video media content; for example, \u201CSpike Lee\u201D"}),o({name:"Event",id:4,conformance:"M",description:`An event is a reference to a type of event; examples would include sports, music, or other types of events. For example, searching for "Football games" would search for a 'game' event entity and a 'football' sport entity.`}),o({name:"Franchise",id:5,conformance:"M",description:`A franchise is a video entity which can represent a number of video entities, like movies or TV shows. For example, take the fictional franchise "Intergalactic Wars" which represents a collection of movie trilogies, as well as animated and live action TV shows. This entity type was introduced to account for requests by customers such as "Find Intergalactic Wars movies", which would search for all 'Intergalactic Wars' programs of the MOVIE MediaType, rather than attempting to match to a single title.`}),o({name:"Genre",id:6,conformance:"M",description:"Genre represents the genre of video media content such as action, drama or comedy."}),o({name:"League",id:7,conformance:"M",description:'League represents the categorical information for a sporting league; for example, "NCAA"'}),o({name:"Popularity",id:8,conformance:"M",description:"Popularity indicates whether the user asks for popular content."}),o({name:"Provider",id:9,conformance:"M",description:'The provider (MSP) the user wants this media to be played on; for example, "Netflix".'}),o({name:"Sport",id:10,conformance:"M",description:"Sport represents the categorical information of a sport; for example, football"}),o({name:"SportsTeam",id:11,conformance:"M",description:'SportsTeam represents the categorical information of a professional sports team; for example, "University of Washington Huskies"'}),o({name:"Type",id:12,conformance:"M",description:'The type of content requested. Supported types are "Movie", "MovieSeries", "TVSeries", "TVSeason", "TVEpisode", "Trailer", "SportsEvent", "LiveEvent", and "Video"'}),o({name:"Video",id:13,conformance:"M",description:'Video represents the identifying data for a specific piece of video content; for example, "Manchester by the Sea".'}),o({name:"Season",id:14,conformance:"O",description:"Season represents the specific season number within a TV series."}),o({name:"Episode",id:15,conformance:"O",description:"Episode represents a specific episode number within a Season in a TV series."}),o({name:"Any",id:16,conformance:"O",description:"Represents a search text input across many parameter types or even outside of the defined param types."})]}),C({name:"MetricTypeEnum",type:"enum8",xref:{document:"cluster",section:"6.7.5.4"},children:[o({name:"Pixels",id:0,conformance:"M",description:"Dimensions defined in a number of Pixels",details:"This value is used for dimensions defined in a number of Pixels.",xref:{document:"cluster",section:"6.7.5.4.1"}}),o({name:"Percentage",id:1,conformance:"M",description:"Dimensions defined as a percentage",details:'This value is for dimensions defined as a percentage of the overall display dimensions. For example, if using a Percentage Metric type for a Width measurement of 50.0, against a display width of 1920 pixels, then the resulting value used would be 960 pixels (50.0% of 1920) for that dimension. Whenever a measurement uses this Metric type, the resulting values shall be rounded ("floored") towards 0 if the measurement requires an integer final value.',xref:{document:"cluster",section:"6.7.5.4.2"}})]}),C({name:"AdditionalInfoStruct",type:"struct",details:"This object defines additional name=value pairs that can be used for identifying content.",xref:{document:"cluster",section:"6.7.5.5"},children:[o({name:"Name",id:0,type:"string",conformance:"M",constraint:"max 256",details:'This field shall indicate the name of external id, ex. "musicbrainz".',xref:{document:"cluster",section:"6.7.5.5.1"}}),o({name:"Value",id:1,type:"string",conformance:"M",constraint:"max 8192",details:'This field shall indicate the value for external id, ex. "ST0000000666661".',xref:{document:"cluster",section:"6.7.5.5.2"}})]}),C({name:"ParameterStruct",type:"struct",details:"This object defines inputs to a search for content for display or playback.",xref:{document:"cluster",section:"6.7.5.6"},children:[o({name:"Type",id:0,type:"ParameterEnum",conformance:"M",details:"This field shall indicate the entity type.",xref:{document:"cluster",section:"6.7.5.6.1"}}),o({name:"Value",id:1,type:"string",conformance:"M",constraint:"max 1024",details:"This field shall indicate the entity value, which is a search string, ex. \u201CManchester by the Sea\u201D.",xref:{document:"cluster",section:"6.7.5.6.2"}}),o({name:"ExternalIdList",id:2,type:"list",conformance:"O",default:[],details:"This field shall indicate the list of additional external content identifiers.",xref:{document:"cluster",section:"6.7.5.6.3"},children:[o({name:"entry",type:"AdditionalInfoStruct"})]})]}),C({name:"ContentSearchStruct",type:"struct",details:"This object defines inputs to a search for content for display or playback.",xref:{document:"cluster",section:"6.7.5.7"},children:[o({name:"ParameterList",id:0,type:"list",conformance:"M",details:"This field shall indicate the list of parameters comprising the search. If multiple parameters are provided, the search parameters shall be joined with 'AND' logic. e.g. action movies with Tom Cruise will be represented as [{Actor: 'Tom Cruise'}, {Type: 'Movie'}, {Genre: 'Action'}]",xref:{document:"cluster",section:"6.7.5.7.1"},children:[o({name:"entry",type:"ParameterStruct"})]})]}),C({name:"DimensionStruct",type:"struct",details:"This object defines dimension which can be used for defining Size of background images.",xref:{document:"cluster",section:"6.7.5.8"},children:[o({name:"Width",id:0,type:"double",conformance:"M",details:"This field shall indicate the width using the metric defined in Metric",xref:{document:"cluster",section:"6.7.5.8.1"}}),o({name:"Height",id:1,type:"double",conformance:"M",details:"This field shall indicate the height using the metric defined in Metric",xref:{document:"cluster",section:"6.7.5.8.2"}}),o({name:"Metric",id:2,type:"MetricTypeEnum",conformance:"M",details:"This field shall indicate metric used for defining Height/Width.",xref:{document:"cluster",section:"6.7.5.8.3"}})]}),C({name:"StyleInformationStruct",type:"struct",details:"This object defines style information which can be used by content providers to change the Media Player\u2019s style related properties.",xref:{document:"cluster",section:"6.7.5.9"},children:[o({name:"ImageUrl",id:0,type:"string",conformance:"O",constraint:"max 8192",details:"This field shall indicate the URL of image used for Styling different Video Player sections like Logo, Watermark etc.",xref:{document:"cluster",section:"6.7.5.9.1"}}),o({name:"Color",id:1,type:"string",conformance:"O",constraint:"7, 9",details:`This field shall indicate the color, in RGB or RGBA, used for styling different Video Player sections like Logo, Watermark, etc. The value shall conform to the 6-digit or 8-digit format defined for CSS sRGB hexadecimal color notation [https://www.w3.org/TR/css-color-4/#hex-notation]. Examples:
  \u2022 #76DE19 for R=0x76, G=0xDE, B=0x19, A absent
  \u2022 #76DE1980 for R=0x76, G=0xDE, B=0x19, A=0x80`,xref:{document:"cluster",section:"6.7.5.9.2"}}),o({name:"Size",id:2,type:"DimensionStruct",conformance:"O",details:"This field shall indicate the size of the image used for Styling different Video Player sections like Logo, Watermark etc.",xref:{document:"cluster",section:"6.7.5.9.3"}})]}),C({name:"BrandingInformationStruct",type:"struct",details:"This object defines Branding Information which can be provided by the client in order to customize the skin of the Video Player during playback.",xref:{document:"cluster",section:"6.7.5.10"},children:[o({name:"ProviderName",id:0,type:"string",conformance:"M",constraint:"max 256",details:"This field shall indicate name of the provider for the given content.",xref:{document:"cluster",section:"6.7.5.10.1"}}),o({name:"Background",id:1,type:"StyleInformationStruct",conformance:"O",details:"This field shall indicate background of the Video Player while content launch request is being processed by it. This background information may also be used by the Video Player when it is in idle state.",xref:{document:"cluster",section:"6.7.5.10.2"}}),o({name:"Logo",id:2,type:"StyleInformationStruct",conformance:"O",details:"This field shall indicate the logo shown when the Video Player is launching. This is also used when the Video Player is in the idle state and Splash field is not available.",xref:{document:"cluster",section:"6.7.5.10.3"}}),o({name:"ProgressBar",id:3,type:"StyleInformationStruct",conformance:"O",details:"This field shall indicate the style of progress bar for media playback.",xref:{document:"cluster",section:"6.7.5.10.4"}}),o({name:"Splash",id:4,type:"StyleInformationStruct",conformance:"O",details:"This field shall indicate the screen shown when the Video Player is in an idle state. If this property is not populated, the Video Player shall default to logo or the provider name.",xref:{document:"cluster",section:"6.7.5.10.5"}}),o({name:"WaterMark",id:5,type:"StyleInformationStruct",conformance:"O",details:"This field shall indicate watermark shown when the media is playing.",xref:{document:"cluster",section:"6.7.5.10.6"}})]}),C({name:"PlaybackPreferencesStruct",type:"struct",details:"PlaybackPreferencesStruct defines the preferences sent by the client to the receiver in the ContentLauncher LaunchURL or LaunchContent commands.",xref:{document:"cluster",section:"6.7.5.11"},children:[o({name:"PlaybackPosition",id:0,type:"uint64",conformance:"AS",quality:"X",details:`This field shall indicate the preferred position (in milliseconds) in the media to launch playback from. In case the position falls in the middle of a frame, the server shall set the position to the beginning of that frame and set the SampledPosition attribute on the MediaPlayback cluster accordingly. A value of null shall indicate that playback position is not applicable for the current state of the media playback.
ported).`,xref:{document:"cluster",section:"6.7.5.11.1"}}),o({name:"TextTrack",id:1,type:"TrackPreferenceStruct",conformance:"TT",quality:"X",details:"This field shall indicate the user\u2019s preferred Text Track. A value of null shall indicate that the user did not specify a preferred Text Track on the client. In such a case, the decision to display and select a Text Track is up to the server.",xref:{document:"cluster",section:"6.7.5.11.2"}}),o({name:"AudioTracks",id:2,type:"list",conformance:"AT",quality:"X",details:"This field shall indicate the list of the user\u2019s preferred Audio Tracks. If the list contains multiple values, each AudioTrack must also specify a unique audioOutputIndex to play the track on. A value of null shall indicate that the user did not specify a preferred Audio Track on the client. In such a case, the decision to play and select an Audio Track is up to the server.",xref:{document:"cluster",section:"6.7.5.11.3"},children:[o({name:"entry",type:"TrackPreferenceStruct"})]})]}),C({name:"TrackPreferenceStruct",type:"struct",details:"This structure defines Text/Audio Track preferences.",xref:{document:"cluster",section:"6.7.5.12"},children:[o({name:"LanguageCode",id:0,type:"string",conformance:"M",constraint:"max 32",details:"This field shall contain one of the standard Tags for Identifying Languages RFC 5646, which identifies the primary language used in the Track.",xref:{document:"cluster",section:"6.7.5.12.1"}}),o({name:"Characteristics",id:1,type:"list",conformance:"O",default:null,quality:"X",details:"This field shall contain a list of enumerated CharacteristicEnum values that indicate a purpose, trait or feature associated with the Track. A value of null shall indicate that there are no Characteristics corresponding to the Track.",xref:{document:"cluster",section:"6.7.5.12.2"},children:[o({name:"entry",type:"CharacteristicEnum"})]}),o({name:"AudioOutputIndex",id:2,type:"uint8",conformance:"AT",quality:"X",details:`This field if present shall indicate the index of the OutputInfoStruct from the OutputList attribute (from the AudioOutput cluster) and indicates which audio output the Audio Track should be played on.
This field shall NOT be present if the track is not an audio track.
If the track is an audio track, this field MUST be present. A value of null shall indicate that the
server can choose the audio output(s) to play the Audio Track on.`,xref:{document:"cluster",section:"6.7.5.12.3"}})]}),C({name:"CharacteristicEnum",type:"MediaPlayback.CharacteristicEnum"})]});A.children.push(RT);var NT=ie({name:"KeypadInput",id:1289,classification:"application",pics:"KEYPADINPUT",details:`This cluster provides an interface for key code based input and control on a device like a Video Player or an endpoint like a Content App. This may include text or action commands such as UP, DOWN, and SELECT.
This cluster would be supported on Video Player devices as well as devices that support remote control input from a keypad or remote. This cluster provides the list of supported keypad inputs and provides a command for sending them.
The cluster server for Keypad Input is implemented by a device that can receive keypad input, such as a Video Player, or an endpoint that can receive keypad input, such as a Content App.
The key codes used are those defined in the HDMI CEC specification (see HDMI).
Devices may understand a subset of these key codes. Feature flags are used to indicate a specific subset that is supported. Device may support additional codes beyond what is indicated in feature flags.`,xref:{document:"cluster",section:"6.8"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"6.8.4"},children:[o({name:"NV",constraint:"0",description:"NavigationKeyCodes",details:"Supports UP, DOWN, LEFT, RIGHT, SELECT, BACK, EXIT, MENU"}),o({name:"LK",constraint:"1",description:"LocationKeys",details:"Supports CEC keys 0x0A (Settings) and 0x09 (Home)"}),o({name:"NK",constraint:"2",description:"NumberKeys",details:"Supports numeric input 0..9"})]}),U({name:"SendKey",id:0,access:"O",conformance:"M",direction:"request",response:"SendKeyResponse",details:`Upon receipt, this shall process a keycode as input to the media endpoint.
If a device has multiple media endpoints implementing this cluster, such as a casting video player endpoint with one or more content app endpoints, then only the endpoint receiving the command shall process the keycode as input. In other words, a specific content app endpoint shall NOT process a keycode received by a different content app endpoint.
If a second SendKey request with the same KeyCode value is received within 200 ms, then the endpoint will consider the first key press to be a press and hold. When such a repeat KeyCode value is not received within 200 ms, then the endpoint will consider the last key press to be a release.`,xref:{document:"cluster",section:"6.8.6.1"},children:[o({name:"KeyCode",id:0,type:"CecKeyCodeEnum",conformance:"M",details:"This field shall indicate the key code to process.",xref:{document:"cluster",section:"6.8.6.1.1"}})]}),U({name:"SendKeyResponse",id:1,conformance:"M",direction:"response",details:"This command shall be generated in response to a SendKey command.",xref:{document:"cluster",section:"6.8.6.2"},children:[o({name:"Status",id:0,type:"StatusEnum",conformance:"M",details:"This field shall indicate the status of the request.",xref:{document:"cluster",section:"6.8.6.2.1"}})]}),C({name:"StatusEnum",type:"enum8",xref:{document:"cluster",section:"6.8.5.1"},children:[o({name:"Success",id:0,conformance:"M",description:"Succeeded"}),o({name:"UnsupportedKey",id:1,conformance:"M",description:"Key code is not supported."}),o({name:"InvalidKeyInCurrentState",id:2,conformance:"M",description:"Requested key code is invalid in the context of the responder\u2019s current state."})]}),C({name:"CecKeyCodeEnum",type:"enum8",xref:{document:"cluster",section:"6.8.5.2"},children:[o({name:"Select",id:0,conformance:"M"}),o({name:"Up",id:1,conformance:"M"}),o({name:"Down",id:2,conformance:"M"}),o({name:"Left",id:3,conformance:"M"}),o({name:"Right",id:4,conformance:"M"}),o({name:"RightUp",id:5,conformance:"M"}),o({name:"RightDown",id:6,conformance:"M"}),o({name:"LeftUp",id:7,conformance:"M"}),o({name:"LeftDown",id:8,conformance:"M"}),o({name:"RootMenu",id:9,conformance:"M"}),o({name:"SetupMenu",id:10,conformance:"M"}),o({name:"ContentsMenu",id:11,conformance:"M"}),o({name:"FavoriteMenu",id:12,conformance:"M"}),o({name:"Exit",id:13,conformance:"M"}),o({name:"MediaTopMenu",id:16,conformance:"M"}),o({name:"MediaContextSensitiveMenu",id:17,conformance:"M"}),o({name:"NumberEntryMode",id:29,conformance:"M"}),o({name:"Number11",id:30,conformance:"M"}),o({name:"Number12",id:31,conformance:"M"}),o({name:"Number0OrNumber10",id:32,conformance:"M"}),o({name:"Numbers1",id:33,conformance:"M"}),o({name:"Numbers2",id:34,conformance:"M"}),o({name:"Numbers3",id:35,conformance:"M"}),o({name:"Numbers4",id:36,conformance:"M"}),o({name:"Numbers5",id:37,conformance:"M"}),o({name:"Numbers6",id:38,conformance:"M"}),o({name:"Numbers7",id:39,conformance:"M"}),o({name:"Numbers8",id:40,conformance:"M"}),o({name:"Numbers9",id:41,conformance:"M"}),o({name:"Dot",id:42,conformance:"M"}),o({name:"Enter",id:43,conformance:"M"}),o({name:"Clear",id:44,conformance:"M"}),o({name:"NextFavorite",id:47,conformance:"M"}),o({name:"ChannelUp",id:48,conformance:"M"}),o({name:"ChannelDown",id:49,conformance:"M"}),o({name:"PreviousChannel",id:50,conformance:"M"}),o({name:"SoundSelect",id:51,conformance:"M"}),o({name:"InputSelect",id:52,conformance:"M"}),o({name:"DisplayInformation",id:53,conformance:"M"}),o({name:"Help",id:54,conformance:"M"}),o({name:"PageUp",id:55,conformance:"M"}),o({name:"PageDown",id:56,conformance:"M"}),o({name:"Power",id:64,conformance:"M"}),o({name:"VolumeUp",id:65,conformance:"M"}),o({name:"VolumeDown",id:66,conformance:"M"}),o({name:"Mute",id:67,conformance:"M"}),o({name:"Play",id:68,conformance:"M"}),o({name:"Stop",id:69,conformance:"M"}),o({name:"Pause",id:70,conformance:"M"}),o({name:"Record",id:71,conformance:"M"}),o({name:"Rewind",id:72,conformance:"M"}),o({name:"FastForward",id:73,conformance:"M"}),o({name:"Eject",id:74,conformance:"M"}),o({name:"Forward",id:75,conformance:"M"}),o({name:"Backward",id:76,conformance:"M"}),o({name:"StopRecord",id:77,conformance:"M"}),o({name:"PauseRecord",id:78,conformance:"M"}),o({name:"Angle",id:80,conformance:"M"}),o({name:"SubPicture",id:81,conformance:"M"}),o({name:"VideoOnDemand",id:82,conformance:"M"}),o({name:"ElectronicProgramGuide",id:83,conformance:"M"}),o({name:"TimerProgramming",id:84,conformance:"M"}),o({name:"InitialConfiguration",id:85,conformance:"M"}),o({name:"SelectBroadcastType",id:86,conformance:"M"}),o({name:"SelectSoundPresentation",id:87,conformance:"M"}),o({name:"PlayFunction",id:96,conformance:"M"}),o({name:"PausePlayFunction",id:97,conformance:"M"}),o({name:"RecordFunction",id:98,conformance:"M"}),o({name:"PauseRecordFunction",id:99,conformance:"M"}),o({name:"StopFunction",id:100,conformance:"M"}),o({name:"MuteFunction",id:101,conformance:"M"}),o({name:"RestoreVolumeFunction",id:102,conformance:"M"}),o({name:"TuneFunction",id:103,conformance:"M"}),o({name:"SelectMediaFunction",id:104,conformance:"M"}),o({name:"SelectAvInputFunction",id:105,conformance:"M"}),o({name:"SelectAudioInputFunction",id:106,conformance:"M"}),o({name:"PowerToggleFunction",id:107,conformance:"M"}),o({name:"PowerOffFunction",id:108,conformance:"M"}),o({name:"PowerOnFunction",id:109,conformance:"M"}),o({name:"F1Blue",id:113,conformance:"M"}),o({name:"F2Red",id:114,conformance:"M"}),o({name:"F3Green",id:115,conformance:"M"}),o({name:"F4Yellow",id:116,conformance:"M"}),o({name:"F5",id:117,conformance:"M"}),o({name:"Data",id:118,conformance:"M"})]})]});A.children.push(NT);var PT=ie({name:"MediaInput",id:1287,classification:"application",pics:"MEDIAINPUT",details:`This cluster provides an interface for controlling the Input Selector on a media device such as a Video Player.
This cluster would be implemented on TV and other media streaming devices, as well as devices that provide input to or output from such devices.
This cluster provides the list of available inputs and provides commands for selecting and renaming them.
The cluster server for Media Input is implemented by a device that has selectable input, such as a Video Player device.`,xref:{document:"cluster",section:"6.9"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"6.9.4"},children:[o({name:"NU",constraint:"0",description:"NameUpdates",details:"Supports updates to the input names"})]}),p({name:"InputList",id:0,type:"list",access:"R V",conformance:"M",details:"This attribute shall provide a list of the media inputs supported by the device.",xref:{document:"cluster",section:"6.9.6.1"},children:[o({name:"entry",type:"InputInfoStruct"})]}),p({name:"CurrentInput",id:1,type:"uint8",access:"R V",conformance:"M",details:"This attribute shall contain the value of the index field of the currently selected InputInfoStruct.",xref:{document:"cluster",section:"6.9.6.2"}}),U({name:"SelectInput",id:0,access:"O",conformance:"M",direction:"request",response:"status",details:"Upon receipt, this command shall change the media input on the device to the input at a specific index in the Input List.",xref:{document:"cluster",section:"6.9.7.1"},children:[o({name:"Index",id:0,type:"uint8",conformance:"M",details:"This field shall indicate the index field of the InputInfoStruct from the InputList attribute in which to change to.",xref:{document:"cluster",section:"6.9.7.1.1"}})]}),U({name:"ShowInputStatus",id:1,access:"O",conformance:"M",direction:"request",response:"status",details:"Upon receipt, this command shall display the active status of the input list on screen.",xref:{document:"cluster",section:"6.9.7.2"}}),U({name:"HideInputStatus",id:2,access:"O",conformance:"M",direction:"request",response:"status",details:"Upon receipt, this command shall hide the input list from the screen.",xref:{document:"cluster",section:"6.9.7.3"}}),U({name:"RenameInput",id:3,access:"M",conformance:"NU",direction:"request",response:"status",details:"Upon receipt, this command shall rename the input at a specific index in the Input List. Updates to the input name shall appear in the device\u2019s settings menus.",xref:{document:"cluster",section:"6.9.7.4"},children:[o({name:"Index",id:0,type:"uint8",conformance:"M"}),o({name:"Name",id:1,type:"string",conformance:"M"})]}),C({name:"InputTypeEnum",type:"enum8",xref:{document:"cluster",section:"6.9.5.1"},children:[o({name:"Internal",id:0,conformance:"M",description:"Indicates content not coming from a physical input."}),o({name:"Aux",id:1,conformance:"M"}),o({name:"Coax",id:2,conformance:"M"}),o({name:"Composite",id:3,conformance:"M"}),o({name:"Hdmi",id:4,conformance:"M"}),o({name:"Input",id:5,conformance:"M"}),o({name:"Line",id:6,conformance:"M"}),o({name:"Optical",id:7,conformance:"M"}),o({name:"Video",id:8,conformance:"M"}),o({name:"Scart",id:9,conformance:"M"}),o({name:"Usb",id:10,conformance:"M"}),o({name:"Other",id:11,conformance:"M"})]}),C({name:"InputInfoStruct",type:"struct",details:"This contains information about an input.",xref:{document:"cluster",section:"6.9.5.2"},children:[o({name:"Index",id:0,type:"uint8",conformance:"M",details:"This field shall indicate the unique index into the list of Inputs.",xref:{document:"cluster",section:"6.9.5.2.1"}}),o({name:"InputType",id:1,type:"InputTypeEnum",conformance:"M",constraint:"desc",details:"This field shall indicate the type of input",xref:{document:"cluster",section:"6.9.5.2.2"}}),o({name:"Name",id:2,type:"string",conformance:"M",details:"This field shall indicate the input name, such as \u201CHDMI 1\u201D. This field may be blank, but SHOULD be provided when known.",xref:{document:"cluster",section:"6.9.5.2.3"}}),o({name:"Description",id:3,type:"string",conformance:"M",details:"This field shall indicate the user editable input description, such as \u201CLiving room Playstation\u201D. This field may be blank, but SHOULD be provided when known.",xref:{document:"cluster",section:"6.9.5.2.4"}})]})]});A.children.push(PT);var kT=ie({name:"MediaPlayback",id:1286,classification:"application",pics:"MEDIAPLAYBACK",details:`This cluster provides an interface for controlling Media Playback (PLAY, PAUSE, etc) on a media device such as a TV, Set-top Box, or Smart Speaker.
This cluster server would be supported on Video Player devices or endpoints that provide media playback, such as a Content App. This cluster provides an interface for controlling Media Playback.`,xref:{document:"cluster",section:"6.10"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:2}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"6.10.4"},children:[o({name:"AS",constraint:"0",description:"AdvancedSeek",details:'This feature provides access to the time offset location within current playback media and allows for jumping to a specific location using time offsets. This enables clients to implement more advanced media seeking behavior in their user interface, for instance a "seek bar".',xref:{document:"cluster",section:"6.10.4.1"}}),o({name:"VS",constraint:"1",description:"VariableSpeed",details:"This feature is for a device which supports variable speed playback on media that supports it.",xref:{document:"cluster",section:"6.10.4.2"}}),o({name:"TT",constraint:"2",description:"TextTracks",details:"This feature is for a device or app that supports Text Tracks.",xref:{document:"cluster",section:"6.10.4.3"}}),o({name:"AT",constraint:"3",description:"AudioTracks",details:"This feature is for a device or app that supports Audio Tracks.",xref:{document:"cluster",section:"6.10.4.4"}}),o({name:"AA",constraint:"4",description:"AudioAdvance",details:`This feature is for a device or app that supports playing audio during fast and slow advance and rewind (e.g., while playback speed is not 1). A device that supports this feature may only support playing audio during certain speeds.
A cluster implementing AA shall implement AS.`,xref:{document:"cluster",section:"6.10.4.5"}})]}),p({name:"CurrentState",id:0,type:"PlaybackStateEnum",access:"R V",conformance:"M",constraint:"desc",details:`Indicates the current playback state of media.
During fast-forward, rewind, and other seek operations; this attribute shall be set to PLAYING.`,xref:{document:"cluster",section:"6.10.6.1"}}),p({name:"StartTime",id:1,type:"epoch-us",access:"R V",conformance:"AS",constraint:"desc",default:null,quality:"X",details:"Indicates the start time of the media, in case the media has a fixed start time (for example, live stream or television broadcast), or null when start time does not apply to the current media (for example, video-on-demand). This time is a UTC time. The client needs to handle conversion to local time, as required, taking in account time zone and possible local DST offset.",xref:{document:"cluster",section:"6.10.6.2"}}),p({name:"Duration",id:2,type:"uint64",access:"R V",conformance:"AS",constraint:"desc",default:null,quality:"X",details:`Indicates the duration, in milliseconds, of the current media being played back
or null when duration is not applicable (for example, in live streaming content with no known duration). This attribute shall never be 0.`,xref:{document:"cluster",section:"6.10.6.3"}}),p({name:"SampledPosition",id:3,type:"PlaybackPositionStruct",access:"R V",conformance:"AS",constraint:"desc",default:null,quality:"X",details:`Indicates the position of playback (Position field) at the time (UpdateAt field) specified in the attribute. The client may use the SampledPosition attribute to compute the current position within the media stream based on the PlaybackSpeed, PlaybackPositionStruct.UpdatedAt and PlaybackPositionStruct.Position fields. To enable this, the SampledPosition attribute shall be updated whenever a change in either the playback speed or the playback position is triggered outside the normal playback of the media. The events which may cause this to happen include:
  \u2022 Starting or resumption of playback
  \u2022 Seeking
  \u2022 Skipping forward or backward
  \u2022 Fast-forwarding or rewinding
  \u2022 Updating of playback speed as a result of explicit request, or as a result of buffering events`,xref:{document:"cluster",section:"6.10.6.4"}}),p({name:"PlaybackSpeed",id:4,type:"single",access:"R V",conformance:"AS",constraint:"desc",default:0,details:`Indicates the speed at which the current media is being played. The new PlaybackSpeed shall be reflected in this attribute whenever any of the following occurs:
  \u2022 Starting of playback
  \u2022 Resuming of playback
  \u2022 Fast-forwarding
  \u2022 Rewinding
The PlaybackSpeed shall reflect the ratio of time elapsed in the media to the actual time taken for the playback assuming no changes to media playback (for example buffering events or requests to pause/rewind/forward).
  \u2022 A value for PlaybackSpeed of 1 shall indicate normal playback where, for example, playback for     1 second causes the media to advance by 1 second within the duration of the media.
  \u2022 A value for PlaybackSpeed which is greater than 0 shall indicate that as playback is happening     the media is currently advancing in time within the duration of the media.
  \u2022 A value for PlaybackSpeed which is less than 0 shall indicate that as playback is happening the     media is currently going back in time within the duration of the media.
  \u2022 A value for PlaybackSpeed of 0 shall indicate that the media is currently not playing back.     When the CurrentState attribute has the value of PAUSED, NOT_PLAYING or BUFFERING, the     PlaybackSpeed shall be set to 0 to reflect that the media is not playing.
Following examples illustrate the PlaybackSpeed attribute values in various conditions.`,xref:{document:"cluster",section:"6.10.6.5"}}),p({name:"SeekRangeEnd",id:5,type:"uint64",access:"R V",conformance:"AS",constraint:"desc",default:null,quality:"X",details:"Indicates the furthest forward valid position to which a client may seek forward, in milliseconds from the start of the media. When the media has an associated StartTime, a value of null shall indicate that a seek forward is valid only until the current time within the media, using a position computed from the difference between the current time offset and StartTime, in milliseconds from start of the media, truncating fractional milliseconds towards 0. A value of Nas when StartTime is not specified shall indicate that seeking forward is not allowed.",xref:{document:"cluster",section:"6.10.6.7"}}),p({name:"SeekRangeStart",id:6,type:"uint64",access:"R V",conformance:"AS",constraint:"desc",default:null,quality:"X",details:"Indicates the earliest valid position to which a client may seek back, in milliseconds from start of the media. A value of Nas shall indicate that seeking backwards is not allowed.",xref:{document:"cluster",section:"6.10.6.6"}}),p({name:"ActiveAudioTrack",id:7,type:"TrackStruct",access:"R V",conformance:"AT",constraint:"desc",default:null,quality:"X",details:"ActiveTrack refers to the Audio track currently set and being used for the streaming media. A value of null shall indicate that no Audio Track corresponding to the current media is currently being played.",xref:{document:"cluster",section:"6.10.6.8"}}),p({name:"AvailableAudioTracks",id:8,type:"list",access:"R V",conformance:"AT",constraint:"desc",default:null,quality:"X",details:"AvailableAudioTracks refers to the list of Audio tracks available for the current title being played. A value of null shall indicate that no Audio Tracks corresponding to the current media are selectable by the client.",xref:{document:"cluster",section:"6.10.6.9"},children:[o({name:"entry",type:"TrackStruct"})]}),p({name:"ActiveTextTrack",id:9,type:"TrackStruct",access:"R V",conformance:"TT",constraint:"desc",default:null,quality:"X",details:"ActiveTrack refers to the Text track currently set and being used for the streaming media. This can be nil. A value of null shall indicate that no Text Track corresponding to the current media is currently being displayed.",xref:{document:"cluster",section:"6.10.6.10"}}),p({name:"AvailableTextTracks",id:10,type:"list",access:"R V",conformance:"TT",constraint:"desc",default:null,quality:"X",details:"AvailableTextTracks refers to the list of Text tracks available for the current title being played. This can be an empty list. A value of null shall indicate that no Text Tracks corresponding to the current media are selectable by the client.",xref:{document:"cluster",section:"6.10.6.11"},children:[o({name:"entry",type:"TrackStruct"})]}),Se({name:"StateChanged",id:0,access:"V",conformance:"O",priority:"info",details:"If supported, this event shall be generated when there is a change in any of the supported attributes of the Media Playback cluster.",xref:{document:"cluster",section:"6.10.8.1"},children:[o({name:"CurrentState",id:0,type:"PlaybackStateEnum",conformance:"M",constraint:"desc",details:"This field shall indicate the updated playback state as defined by the CurrentState attribute, and has the same constraint as that attribute.",xref:{document:"cluster",section:"6.10.8.1.1"}}),o({name:"StartTime",id:1,type:"epoch-us",conformance:"AS",constraint:"desc",details:"This field shall indicate the updated start time as defined by the StartTime attribute, and has the same constraint as that attribute.",xref:{document:"cluster",section:"6.10.8.1.2"}}),o({name:"Duration",id:2,type:"uint64",conformance:"AS",constraint:"desc",details:"This field shall indicate the updated duration as defined by the Duration attribute, and has the same constraint as that attribute.",xref:{document:"cluster",section:"6.10.8.1.3"}}),o({name:"SampledPosition",id:3,type:"PlaybackPositionStruct",conformance:"AS",constraint:"desc",details:"This field shall indicate the updated position of playback as defined by the SampledPosition attribute, and has the same constraint as that attribute.",xref:{document:"cluster",section:"6.10.8.1.4"}}),o({name:"PlaybackSpeed",id:4,type:"single",conformance:"AS",constraint:"desc",details:"This field shall indicate the updated speed at which the current media is being played as defined by the PlaybackSpeed attribute, and has the same constraint as that attribute.",xref:{document:"cluster",section:"6.10.8.1.5"}}),o({name:"SeekRangeEnd",id:5,type:"uint64",conformance:"AS",constraint:"desc",details:"This field shall indicate the updated start of the seek range end as defined by the SeekRangeEnd attribute, and has the same constraint as that attribute.",xref:{document:"cluster",section:"6.10.8.1.7"}}),o({name:"SeekRangeStart",id:6,type:"uint64",conformance:"AS",constraint:"desc",details:"This field shall indicate the updated start of the seek range start as defined by the SeekRangeStart attribute, and has the same constraint as that attribute.",xref:{document:"cluster",section:"6.10.8.1.6"}}),o({name:"Data",id:7,type:"octstr",conformance:"O",constraint:"max 900",details:"This field shall indicate Optional app-specific data.",xref:{document:"cluster",section:"6.10.8.1.8"}}),o({name:"AudioAdvanceUnmuted",id:8,type:"bool",conformance:"AA",constraint:"desc",default:!1,details:`This field shall indicate whether audio is unmuted by the player due to a FF or REW command. This field is only meaningful when the PlaybackSpeed is present and not equal to 0 (paused) or 1 (normal playback). Typically the value will be false (muted), however, some players will play audio during certain fast forward and rewind speeds, and in these cases, the value will be true (not muted).
A value of true does not guarantee that audio can be heard by the user since the speaker may be muted, turned down to a low level and/or unplugged.`,xref:{document:"cluster",section:"6.10.8.1.9"}})]}),U({name:"Play",id:0,access:"O",conformance:"M",direction:"request",response:"PlaybackResponse",details:"Upon receipt, this shall play media. If content is currently in a FastForward or Rewind state. Play shall return media to normal playback speed.",xref:{document:"cluster",section:"6.10.7.1"}}),U({name:"Pause",id:1,access:"O",conformance:"M",direction:"request",response:"PlaybackResponse",details:"Upon receipt, this shall pause playback of the media.",xref:{document:"cluster",section:"6.10.7.2"}}),U({name:"Stop",id:2,access:"O",conformance:"M",direction:"request",response:"PlaybackResponse",details:"Upon receipt, this shall stop playback of the media. User-visible outcome is context-specific. This may navigate the user back to the location from where the media was originally launched.",xref:{document:"cluster",section:"6.10.7.3"}}),U({name:"StartOver",id:3,access:"O",conformance:"O",direction:"request",response:"PlaybackResponse",details:"Upon receipt, this shall Start Over with the current media playback item.",xref:{document:"cluster",section:"6.10.7.4"}}),U({name:"Previous",id:4,access:"O",conformance:"O",direction:"request",response:"PlaybackResponse",details:'Upon receipt, this shall cause the handler to be invoked for "Previous". User experience is context-specific. This will often Go back to the previous media playback item.',xref:{document:"cluster",section:"6.10.7.5"}}),U({name:"Next",id:5,access:"O",conformance:"O",direction:"request",response:"PlaybackResponse",details:'Upon receipt, this shall cause the handler to be invoked for "Next". User experience is context- specific. This will often Go forward to the next media playback item.',xref:{document:"cluster",section:"6.10.7.6"}}),U({name:"Rewind",id:6,access:"O",conformance:"VS",direction:"request",response:"PlaybackResponse",details:`Upon receipt, this shall start playback of the media backward in case the media is currently playing in the forward direction or is not playing. If the playback is already happening in the backwards direction receipt of this command shall increase the speed of the media playback backwards.
Different "rewind" speeds may be reflected on the media playback device based upon the number of sequential calls to this function and the capability of the device. This is to avoid needing to define every speed (multiple fast, slow motion, etc). If the PlaybackSpeed attribute is supported it shall be updated to reflect the new speed of playback. If the playback speed cannot be changed for the media being played(for example, in live streaming content not supporting seek), the status of NOT_ALLOWED shall be returned. If the playback speed has reached the maximum supported speed for media playing backwards, the status of SPEED_OUT_OF_RANGE shall be returned.`,xref:{document:"cluster",section:"6.10.7.7"},children:[o({name:"AudioAdvanceUnmuted",id:0,type:"bool",conformance:"AA",default:!1,details:`This field shall indicate whether audio should be unmuted by the player during rewind.
A value of true does not guarantee that audio can be heard by the user since the speaker may be muted, turned down to a low level and/or unplugged.`,xref:{document:"cluster",section:"6.10.7.7.1"}})]}),U({name:"FastForward",id:7,access:"O",conformance:"VS",direction:"request",response:"PlaybackResponse",details:`Upon receipt, this shall start playback of the media in the forward direction in case the media is
currently playing in the backward direction or is not playing. If the playback is already happening in the forward direction receipt of this command shall increase the speed of the media playback.
Different "fast-forward" speeds may be reflected on the media playback device based upon the number of sequential calls to this function and the capability of the device. This is to avoid needing to define every speed (multiple fast, slow motion, etc). If the PlaybackSpeed attribute is supported it shall be updated to reflect the new speed of playback. If the playback speed cannot be changed for the media being played(for example, in live streaming content not supporting seek), the status of NOT_ALLOWED shall be returned. If the playback speed has reached the maximum supported speed for media playing forward, the status of SPEED_OUT_OF_RANGE shall be returned.`,xref:{document:"cluster",section:"6.10.7.8"},children:[o({name:"AudioAdvanceUnmuted",id:0,type:"bool",conformance:"AA",default:!1,details:`This field shall indicate whether audio should be unmuted by the player during fast forward.
A value of true does not guarantee that audio can be heard by the user since the speaker may be muted, turned down to a low level and/or unplugged.`,xref:{document:"cluster",section:"6.10.7.8.1"}})]}),U({name:"SkipForward",id:8,access:"O",conformance:"O",direction:"request",response:"PlaybackResponse",details:"Upon receipt, this shall Skip forward in the media by the given number of milliseconds.",xref:{document:"cluster",section:"6.10.7.9"},children:[o({name:"DeltaPositionMilliseconds",id:0,type:"uint64",conformance:"M",details:"This field shall indicate the duration of the time span to skip forward in the media, in milliseconds. In case the resulting position falls in the middle of a frame, the server shall set the position to the beginning of that frame and set the SampledPosition attribute on the cluster accordingly. If the resultant position falls beyond the furthest valid position in the media the client may seek forward to, the position should be set to that furthest valid position. If the SampledPosition attribute is supported it shall be updated on the cluster accordingly.",xref:{document:"cluster",section:"6.10.7.9.1"}})]}),U({name:"SkipBackward",id:9,access:"O",conformance:"O",direction:"request",response:"PlaybackResponse",details:"Upon receipt, this shall Skip backward in the media by the given number of milliseconds.",xref:{document:"cluster",section:"6.10.7.10"},children:[o({name:"DeltaPositionMilliseconds",id:0,type:"uint64",conformance:"M",details:"This field shall indicate the duration of the time span to skip backward in the media, in milliseconds. In case the resulting position falls in the middle of a frame, the server shall set the position to the beginning of that frame and set the SampledPosition attribute on the cluster accordingly. If the resultant position falls before the earliest valid position to which a client may seek back to, the position should be set to that earliest valid position. If the SampledPosition attribute is supported it shall be updated on the cluster accordingly.",xref:{document:"cluster",section:"6.10.7.10.1"}})]}),U({name:"PlaybackResponse",id:10,conformance:"M",direction:"response",details:"This command shall be generated in response to various Playback Commands.",xref:{document:"cluster",section:"6.10.7.12"},children:[o({name:"Status",id:0,type:"StatusEnum",conformance:"M",constraint:"desc",details:"This field shall indicate the status of the command which resulted in this response.",xref:{document:"cluster",section:"6.10.7.12.1"}}),o({name:"Data",id:1,type:"string",conformance:"O",details:"This field shall indicate Optional app-specific data.",xref:{document:"cluster",section:"6.10.7.12.2"}})]}),U({name:"Seek",id:11,access:"O",conformance:"AS",direction:"request",response:"PlaybackResponse",details:"Upon receipt, this shall change the playback position in the media to the given position.",xref:{document:"cluster",section:"6.10.7.11"},children:[o({name:"Position",id:0,type:"uint64",conformance:"M",details:"This field shall indicate the position (in milliseconds) in the media to seek to. In case the position falls in the middle of a frame, the server shall set the position to the beginning of that frame and set the SampledPosition attribute on the cluster accordingly. If the position falls before the earliest valid position or beyond the furthest valid position to which a client may seek back or forward to respectively, the status of SEEK_OUT_OF_RANGE shall be returned and no change shall be made to the position of the playback.",xref:{document:"cluster",section:"6.10.7.11.1"}})]}),U({name:"ActivateAudioTrack",id:12,access:"O",conformance:"AT",direction:"request",response:"status",details:"Upon receipt, the server shall set the active Audio Track to the one identified by the TrackID in the Track catalog for the streaming media. If the TrackID does not exist in the Track catalog, OR does not correspond to the streaming media OR no media is being streamed at the time of receipt of this command, the server will return an error status of INVALID_ARGUMENT.",xref:{document:"cluster",section:"6.10.7.13"},children:[o({name:"TrackId",id:0,type:"string",conformance:"M",constraint:"max 32",details:"This field shall indicate the Audio Track to activate.",xref:{document:"cluster",section:"6.10.7.13.1"}}),o({name:"AudioOutputIndex",id:1,type:"uint8",conformance:"AT",quality:"X",details:"This value is the index field of the OutputInfoStruct from the OutputList attribute (from the AudioOutput cluster) and indicates which audio output the Audio Track should be played on. This field is absent for Text Tracks and only present for Audio Tracks. A value of null shall indicate that the server can choose the audio output(s) to play the Audio Track on.",xref:{document:"cluster",section:"6.10.7.13.2"}})]}),U({name:"ActivateTextTrack",id:13,access:"O",conformance:"TT",direction:"request",response:"status",details:"Upon receipt, the server shall set the active Text Track to the one identified by the TrackID in the Track catalog for the streaming media. If the TrackID does not exist in the Track catalog, OR does not correspond to the streaming media OR no media is being streamed at the time of receipt of this command, the server shall return an error status of INVALID_ARGUMENT.",xref:{document:"cluster",section:"6.10.7.14"},children:[o({name:"TrackId",id:0,type:"string",conformance:"M",constraint:"max 32",details:"This field shall indicate the Text Track to activate.",xref:{document:"cluster",section:"6.10.7.14.1"}})]}),U({name:"DeactivateTextTrack",id:14,access:"O",conformance:"TT",direction:"request",response:"status",details:"If a Text Track is active (i.e. being displayed), upon receipt of this command, the server shall stop displaying it.",xref:{document:"cluster",section:"6.10.7.15"}}),C({name:"PlaybackStateEnum",type:"enum8",xref:{document:"cluster",section:"6.10.5.1"},children:[o({name:"Playing",id:0,conformance:"M",description:"Media is currently playing (includes FF and REW)"}),o({name:"Paused",id:1,conformance:"M",description:"Media is currently paused"}),o({name:"NotPlaying",id:2,conformance:"M",description:"Media is not currently playing"}),o({name:"Buffering",id:3,conformance:"M",description:"Media is not currently buffering and playback will start when buffer has been filled"})]}),C({name:"StatusEnum",type:"enum8",xref:{document:"cluster",section:"6.10.5.2"},children:[o({name:"Success",id:0,conformance:"M",description:"Succeeded"}),o({name:"InvalidStateForCommand",id:1,conformance:"M",description:"Requested playback command is invalid in the current playback state."}),o({name:"NotAllowed",id:2,conformance:"M",description:"Requested playback command is not allowed in the current playback state. For example, attempting to fast-forward during a commercial might return NotAllowed."}),o({name:"NotActive",id:3,conformance:"M",description:"This endpoint is not active for playback."}),o({name:"SpeedOutOfRange",id:4,conformance:"VS",description:"The FastForward or Rewind Command was issued but the media is already playing back at the fastest speed supported by the server in the respective direction."}),o({name:"SeekOutOfRange",id:5,conformance:"AS",description:"The Seek Command was issued with a value of position outside of the allowed seek range of the media."})]}),C({name:"CharacteristicEnum",type:"enum8",xref:{document:"cluster",section:"6.10.5.3"},children:[o({name:"ForcedSubtitles",id:0,conformance:"M",description:"Textual information meant for display when no other text representation is selected. It is used to clarify dialogue, alternate languages, texted graphics or location/person IDs that are not otherwise covered in the dubbed/localized audio."}),o({name:"DescribesVideo",id:1,conformance:"M",description:"Textual or audio media component containing a textual description (intended for audio synthesis) or an audio description describing a visual component"}),o({name:"EasyToRead",id:2,conformance:"M",description:"Simplified or reduced captions as specified in [United States Code Title 47 CFR 79.103(c)(9)]."}),o({name:"FrameBased",id:3,conformance:"M",description:"A media characteristic that indicates that a track selection option includes frame-based content."}),o({name:"MainProgram",id:4,conformance:"M",description:"Main media component(s) which is/are intended for presentation if no other information is provided"}),o({name:"OriginalContent",id:5,conformance:"M",description:"A media characteristic that indicates that a track or media selection option contains original content."}),o({name:"VoiceOverTranslation",id:6,conformance:"M",description:"A media characteristic that indicates that a track or media selection option contains a language translation and verbal interpretation of spoken dialog."}),o({name:"Caption",id:7,conformance:"M",description:"Textual media component containing transcriptions of spoken dialog and auditory cues such as sound effects and music for the hearing impaired."}),o({name:"Subtitle",id:8,conformance:"M",description:"Textual transcriptions of spoken dialog."}),o({name:"Alternate",id:9,conformance:"M",description:"Textual media component containing transcriptions of spoken dialog and auditory cues such as sound effects and music for the hearing impaired."}),o({name:"Supplementary",id:10,conformance:"M",description:"Media content component that is supplementary to a media content component of a different media component type."}),o({name:"Commentary",id:11,conformance:"M",description:"Experience that contains a commentary (e.g. director\u2019s commentary) (typically audio)"}),o({name:"DubbedTranslation",id:12,conformance:"M",description:"Experience that contains an element that is presented in a different language from the original (e.g. dubbed audio, translated captions)"}),o({name:"Description",id:13,conformance:"M",description:"Textual or audio media component containing a textual description (intended for audio synthesis) or an audio description describing a visual component"}),o({name:"Metadata",id:14,conformance:"M",description:"Media component containing information intended to be processed by application specific elements."}),o({name:"EnhancedAudioIntelligibility",id:15,conformance:"M",description:"Experience containing an element for improved intelligibility of the dialogue."}),o({name:"Emergency",id:16,conformance:"M",description:"Experience that provides information, about a current emergency, that is intended to enable the protection of life, health, safety, and property, and may also include critical details regarding the emergency and how to respond to the emergency."}),o({name:"Karaoke",id:17,conformance:"M",description:"Textual representation of a songs\u2019 lyrics, usually in the same language as the associated song as specified in [SMPTE ST 2067-2]."})]}),C({name:"PlaybackPositionStruct",type:"struct",details:"This structure defines a playback position within a media stream being played.",xref:{document:"cluster",section:"6.10.5.4"},children:[o({name:"UpdatedAt",id:0,type:"epoch-us",conformance:"M",details:"This field shall indicate the time when the position was last updated.",xref:{document:"cluster",section:"6.10.5.4.1"}}),o({name:"Position",id:1,type:"uint64",conformance:"M",quality:"X",details:`This field shall indicate the associated discrete position within the media stream, in milliseconds from the beginning of the stream, being associated with the time indicated by the UpdatedAt field. The Position shall not be greater than the duration of the media if duration is specified. The Position shall not be greater than the time difference between current time and start time of the media when start time is specified.
A value of null shall indicate that playback position is not applicable for the current state of the media playback (For example : Live media with no known duration and where seek is not supported).`,xref:{document:"cluster",section:"6.10.5.4.2"}})]}),C({name:"TrackStruct",type:"struct",details:"This structure defines a uniquely identifiable Text Track or Audio Track.",xref:{document:"cluster",section:"6.10.5.5"},children:[o({name:"Id",id:0,type:"string",conformance:"M",constraint:"max 32",details:"This field shall indicate the Identifier for the Track which is unique within the Track catalog. The Track catalog contains all the Text/Audio tracks corresponding to the main media content.",xref:{document:"cluster",section:"6.10.5.5.1"}}),o({name:"TrackAttributes",id:1,type:"TrackAttributesStruct",conformance:"M",details:"This field shall indicate the Attributes associated to the Track, like languageCode.",xref:{document:"cluster",section:"6.10.5.5.2"}})]}),C({name:"TrackAttributesStruct",type:"struct",details:"This structure includes the attributes associated with a Text/Audio Track",xref:{document:"cluster",section:"6.10.5.6"},children:[o({name:"LanguageCode",id:0,type:"string",conformance:"M",constraint:"max 32",details:"The value is a String containing one of the standard Tags for Identifying Languages RFC 5646, which identifies the primary language used in the Track.",xref:{document:"cluster",section:"6.10.5.6.1"}}),o({name:"Characteristics",id:1,type:"list",conformance:"O",default:null,quality:"X",details:"This is a list of enumerated CharacteristicEnum values that indicate a purpose, trait or feature associated with the Track. A value of null shall indicate that there are no Characteristics corresponding to the Track.",xref:{document:"cluster",section:"6.10.5.6.2"},children:[o({name:"entry",type:"CharacteristicEnum"})]}),o({name:"DisplayName",id:2,type:"string",conformance:"O",constraint:"max 256",default:null,quality:"X",details:"The value is a String containing a user displayable name for the Track. A value of null shall indicate that there is no DisplayName corresponding to the Track.",xref:{document:"cluster",section:"6.10.5.6.3"}})]})]});A.children.push(kT);var FT=ie({name:"TargetNavigator",id:1285,classification:"application",pics:"TGTNAV",details:`This cluster provides an interface for UX navigation within a set of targets on a device or endpoint.
This cluster would be supported on Video Player devices or devices with navigable user interfaces. This cluster would also be supported on endpoints with navigable user interfaces such as a Content App. It supports listing a set of navigation targets, tracking and changing the current target.
The cluster server for Target Navigator is implemented by endpoints on a device that support UX navigation.
When this cluster is implemented for a Content App endpoint, the Video Player device containing the endpoint shall launch the Content App when a client invokes the NavigateTarget command.`,xref:{document:"cluster",section:"6.11"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:2}),p({name:"TargetList",id:0,type:"list",access:"R V",conformance:"M",details:"Indicates a list of targets that can be navigated to within the experience presented to the user by the Endpoint (Video Player or Content App). The list shall not contain any entries with the same Identifier in the TargetInfoStruct object.",xref:{document:"cluster",section:"6.11.5.1"},children:[o({name:"entry",type:"TargetInfoStruct"})]}),p({name:"CurrentTarget",id:1,type:"uint8",access:"R V",conformance:"O",constraint:"desc",default:255,details:`Indicates the Identifier for the target which is currently in foreground on the corresponding Endpoint (Video Player or Content App), or 0xFF to indicate that no target is in the foreground.
When not 0xFF, the CurrentTarget shall be an Identifier value contained within one of the TargetInfoStruct objects in the TargetList attribute.`,xref:{document:"cluster",section:"6.11.5.2"}}),Se({name:"TargetUpdated",id:0,access:"V",conformance:"O",priority:"info",details:"This event shall be generated when there is a change in either the active target or the list of available targets or both.",xref:{document:"cluster",section:"6.11.7.1"},children:[o({name:"TargetList",id:0,type:"list",conformance:"O",children:[o({name:"entry",type:"TargetInfoStruct"})]}),o({name:"CurrentTarget",id:1,type:"uint8",conformance:"O",constraint:"desc",default:255}),o({name:"Data",id:2,type:"octstr",conformance:"O",constraint:"max 900"})]}),U({name:"NavigateTarget",id:0,access:"O",conformance:"M",direction:"request",response:"NavigateTargetResponse",details:"Upon receipt, this shall navigation the UX to the target identified.",xref:{document:"cluster",section:"6.11.6.1"},children:[o({name:"Target",id:0,type:"uint8",conformance:"M",details:"This field shall indicate the Identifier for the target for UX navigation. The Target shall be an Identifier value contained within one of the TargetInfoStruct objects in the TargetList attribute.",xref:{document:"cluster",section:"6.11.6.1.1"}}),o({name:"Data",id:1,type:"string",conformance:"O",details:"This field shall indicate Optional app-specific data.",xref:{document:"cluster",section:"6.11.6.1.2"}})]}),U({name:"NavigateTargetResponse",id:1,conformance:"M",direction:"response",details:"This command shall be generated in response to NavigateTarget command.",xref:{document:"cluster",section:"6.11.6.2"},children:[o({name:"Status",id:0,type:"StatusEnum",conformance:"M",details:"This field shall indicate the of the command.",xref:{document:"cluster",section:"6.11.6.2.1"}}),o({name:"Data",id:1,type:"string",conformance:"O",details:"This field shall indicate Optional app-specific data.",xref:{document:"cluster",section:"6.11.6.2.2"}})]}),C({name:"StatusEnum",type:"enum8",xref:{document:"cluster",section:"6.11.4.1"},children:[o({name:"Success",id:0,conformance:"M",description:"Command succeeded"}),o({name:"TargetNotFound",id:1,conformance:"M",description:"Requested target was not found in the TargetList"}),o({name:"NotAllowed",id:2,conformance:"M",description:"Target request is not allowed in current state."})]}),C({name:"TargetInfoStruct",type:"struct",details:"This indicates an object describing the navigable target.",xref:{document:"cluster",section:"6.11.4.2"},children:[o({name:"Identifier",id:0,type:"uint8",conformance:"M",constraint:"max 254",details:"This field shall contain an unique id within the TargetList.",xref:{document:"cluster",section:"6.11.4.2.1"}}),o({name:"Name",id:1,type:"string",conformance:"M",details:"This field shall contain a name string for the TargetInfoStruct.",xref:{document:"cluster",section:"6.11.4.2.2"}})]})]});A.children.push(FT);var LT=ie({name:"ContentAppObserver",id:1296,classification:"application",pics:"APPOBSERVER",details:`This cluster provides an interface for sending targeted commands to an Observer of a Content App on a Video Player device such as a Streaming Media Player, Smart TV or Smart Screen.
The cluster server for Content App Observer is implemented by an endpoint that communicates with a Content App, such as a Casting Video Client.
The cluster client for Content App Observer is implemented by a Content App endpoint.
A Content App is informed of the NodeId of an Observer when a binding is set on the Content App. For a Content App Platform, the binding is set by the platform when a CastingVideoClient is granted access to the Content App, and the CastingVideoClient supports the Content App Observer cluster. The Content App can then send the ContentAppMessage to the Observer (server cluster), and the Observer responds with a ContentAppMessageResponse.
The Data and EncodingHint fields of the ContentAppMessage and ContentAppMessageResponse contain content app-specific values, the format and interpretation of which is defined by the Content App vendor, analogous to the custom message features offered by other popular casting protocols. Standardized cluster and commands are used here rather than manufacturer-specific cluster and commands because of the role that the Content App Platform plays in creating the ACLs and Bindings on both sides of the communication between the Content App Observer endpoint and the Content App endpoint.
By using standard cluster and commands:
  1. The Content App Platform is able to easily determine that a binding is needed on the Content      App endpoint because it can recognize the Content App Observer cluster implemented by a client      node.
  2. The Content App Platform is able to easily identify commands that are allowed to be sent by      the Content App to a client node because those commands use the Content App Observer cluster.
  3. The Content App is able to easily determine that a node supports the Content App Observer      cluster because it has received a binding which specifies the Content App Observer cluster.
  4. The Casting Video Client is able to support a single cluster for receiving commands from any      Content App and does not need to explicitly list every Content App it understands.
A Content App Observer SHOULD ignore the Data and EncodingHint field values in commands from a Content App it does not recognize. A Content App SHOULD ignore the Data field values in responses when the EncodingHint value is blank or not recognized.`,xref:{document:"cluster",section:"6.12"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),U({name:"ContentAppMessage",id:0,access:"O",conformance:"M",direction:"request",response:"ContentAppMessageResponse",details:`Upon receipt, the data field may be parsed and interpreted. Message encoding is specific to the Content App. A Content App may when possible read attributes from the Basic Information Cluster on the Observer and use this to determine the Message encoding.
This command returns a ContentAppMessage Response.`,xref:{document:"cluster",section:"6.12.5.1"},children:[o({name:"Data",id:0,type:"string",conformance:"M",constraint:"max 500",details:"This field shall indicate content app-specific data.",xref:{document:"cluster",section:"6.12.5.1.1"}}),o({name:"EncodingHint",id:1,type:"string",conformance:"O",constraint:"max 100",details:"This optional field shall indicate a content app-specific hint to the encoding of the data.",xref:{document:"cluster",section:"6.12.5.1.2"}})]}),U({name:"ContentAppMessageResponse",id:1,conformance:"M",direction:"response",details:"This command shall be generated in response to ContentAppMessage command.",xref:{document:"cluster",section:"6.12.5.2"},children:[o({name:"Status",id:0,type:"StatusEnum",conformance:"M",details:"This field shall indicate the status of the command which resulted in this response.",xref:{document:"cluster",section:"6.12.5.2.1"}}),o({name:"Data",id:1,type:"string",conformance:"O",constraint:"max 500",details:"This optional field shall indicate content app-specific data.",xref:{document:"cluster",section:"6.12.5.2.2"}}),o({name:"EncodingHint",id:2,type:"string",conformance:"O",constraint:"max 100",details:"This optional field shall indicate a content app-specific hint to the encoding of the data.",xref:{document:"cluster",section:"6.12.5.2.3"}})]}),C({name:"StatusEnum",type:"enum8",xref:{document:"cluster",section:"6.12.4.1"},children:[o({name:"Success",id:0,conformance:"M",description:"Command succeeded"}),o({name:"UnexpectedData",id:1,conformance:"M",description:"Data field in command was not understood by the Observer"})]})]});A.children.push(LT);var BT=ie({name:"ContentControl",id:1295,classification:"application",pics:"CONCON",details:`This cluster is used for managing the content control (including "parental control") settings on a
media device such as a TV, or Set-top Box.
This cluster allows to configure content control settings by clients with the Management privilege. It is responsibility of the end product to enforce appropriate right access (for example, to prevent a child from disabling this feature).
NOTE Support for Content Control cluster is provisional.`,xref:{document:"cluster",section:"6.13"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"6.13.4"},children:[o({name:"ST",constraint:"0",description:"ScreenTime",details:"Supports managing screen time limits."}),o({name:"PM",constraint:"1",description:"PinManagement",details:"Supports managing a PIN code which is used for restricting access to configuration of this feature."}),o({name:"BU",constraint:"2",description:"BlockUnrated",details:"Supports managing content controls for unrated content."}),o({name:"OCR",constraint:"3",description:"OnDemandContentRating",details:"Supports managing content controls based upon rating threshold for on demand content."}),o({name:"SCR",constraint:"4",description:"ScheduledContentRating",details:"Supports managing content controls based upon rating threshold for scheduled content."}),o({name:"BC",constraint:"5",description:"BlockChannels",details:"Supports managing a set of channels that are prohibited."}),o({name:"BA",constraint:"6",description:"BlockApplications",details:"Supports managing a set of applications that are prohibited."}),o({name:"BTW",constraint:"7",description:"BlockContentTimeWindow",details:"Supports managing content controls based upon setting time window in which all contents and applications SHALL be blocked."})]}),p({name:"Enabled",id:0,type:"bool",access:"R V",conformance:"M",details:"Indicates whether the Content Control feature implemented on a media device is turned off (FALSE) or turned on (TRUE).",xref:{document:"cluster",section:"6.13.7.1"}}),p({name:"OnDemandRatings",id:1,type:"list",access:"R V",conformance:"OCR",details:`This attribute shall provide the collection of ratings that are currently valid for this media device. The items should honor the metadata of the on-demand content (e.g. Movie) rating system for one country or region where the media device has been provisioned. For example, for the MPAA system, RatingName may be one value out of "G", "PG", "PG-13", "R", "NC-17".
The media device shall have a way to determine which rating system applies for the on-demand content and then populate this attribute. For example, it can do it through examining the Location attribute in the Basic Information cluster, and then determining which rating system applies.
The ratings in this collection shall be in order from a rating for the youngest viewers to the one for the oldest viewers. Each rating in the list shall be unique.`,xref:{document:"cluster",section:"6.13.7.2"},children:[o({name:"entry",type:"RatingNameStruct"})]}),p({name:"OnDemandRatingThreshold",id:2,type:"string",access:"R V",conformance:"OCR",constraint:"max 8",details:`Indicates a threshold rating as a content filter which is compared with the rating for on-demand content. For example, if the on-demand content rating is greater than or equal to OnDemandRatingThreshold, for a rating system that is ordered from lower viewer age to higher viewer age, then on-demand content is not appropriate for the User and the Node shall prevent the playback of content.
This attribute shall be set to one of the values present in the OnDemandRatings attribute.
When this attribute changes, the device SHOULD make the user aware of any limits of this feature. For example, if the feature does not control content within apps, then the device should make this clear to the user when the attribute changes.`,xref:{document:"cluster",section:"6.13.7.3"}}),p({name:"ScheduledContentRatings",id:3,type:"list",access:"R V",conformance:"SCR",details:`Indicates a collection of ratings which ScheduledContentRatingThreshold can be set to. The items should honor metadata of the scheduled content rating system for the country or region where the media device has been provisioned.
The media device shall have a way to determine which scheduled content rating system applies and then populate this attribute. For example, this can be done by examining the Location attribute in Basic Information cluster, and then determining which rating system applies.
The ratings in this collection shall be in order from a rating for the youngest viewers to the one for the oldest viewers. Each rating in the list shall be unique.`,xref:{document:"cluster",section:"6.13.7.4"},children:[o({name:"entry",type:"RatingNameStruct"})]}),p({name:"ScheduledContentRatingThreshold",id:4,type:"string",access:"R V",conformance:"SCR",constraint:"max 8",details:`Indicates a threshold rating as a content filter which is used to compare with the rating for scheduled content. For example, if the scheduled content rating is greater than or equal to ScheduledContentRatingThreshold for a rating system that is ordered from lower viewer age to higher viewer age, then the scheduled content is not appropriate for the User and shall be blocked.
This attribute shall be set to one of the values present in the ScheduledContentRatings attribute.
When this attribute changes, the device SHOULD make the user aware of any limits of this feature. For example, if the feature does not control content within apps, then the device should make this clear to the user when the attribute changes.`,xref:{document:"cluster",section:"6.13.7.5"}}),p({name:"ScreenDailyTime",id:5,type:"elapsed-s",access:"R V",conformance:"ST",constraint:"max 86400",details:"Indicates the amount of time (in seconds) which the User is allowed to spend watching TV within one day when the Content Control feature is activated.",xref:{document:"cluster",section:"6.13.7.6"}}),p({name:"RemainingScreenTime",id:6,type:"elapsed-s",access:"R V",conformance:"ST",constraint:"max 86400",details:`Indicates the remaining screen time (in seconds) which the User is allowed to spend watching TV for the current day when the Content Control feature is activated. When this value equals 0, the media device shall terminate the playback of content.
This attribute shall be updated when the AddBonusTime command is received and processed successfully (with the correct PIN).`,xref:{document:"cluster",section:"6.13.7.7"}}),p({name:"BlockUnrated",id:7,type:"bool",access:"R V",conformance:"BU",details:`Indicates whether the playback of unrated content is allowed when the Content Control feature is activated. If this attribute equals FALSE, then playback of unrated content
shall be permitted. Otherwise, the media device shall prevent the playback of unrated content.
When this attribute changes, the device SHOULD make the user aware of any limits of this feature. For example, if the feature does not control content within apps, then the device should make this clear to the user when the attribute changes.`,xref:{document:"cluster",section:"6.13.7.8"}}),p({name:"BlockChannelList",id:8,type:"list",access:"R V",conformance:"BC",details:"Indicates a set of channels that shall be blocked when the Content Control feature is activated.",xref:{document:"cluster",section:"6.13.7.9"},children:[o({name:"entry",type:"BlockChannelStruct"})]}),p({name:"BlockApplicationList",id:9,type:"list",access:"R V",conformance:"BA",details:"Indicates a set of applications that shall be blocked when the Content Control feature is activated.",xref:{document:"cluster",section:"6.13.7.10"},children:[o({name:"entry",type:"AppInfoStruct"})]}),p({name:"BlockContentTimeWindow",id:10,type:"list",access:"R V",conformance:"BTW",constraint:"max 7",details:"Indicates a set of periods during which the playback of content on media device shall be blocked when the Content Control feature is activated. The media device shall reject any request to play content during one period of this attribute. If it is entering any one period of this attribute, the media device shall block content which is playing and generate an event EnteringBlockContentTimeWindow. There shall not be multiple entries in this attribute list for the same day of week.",xref:{document:"cluster",section:"6.13.7.11"},children:[o({name:"entry",type:"TimeWindowStruct"})]}),Se({name:"RemainingScreenTimeExpired",id:0,access:"V",conformance:"ST",priority:"info",details:"This event shall be generated when the RemainingScreenTime equals 0.",xref:{document:"cluster",section:"6.13.9.1"}}),Se({name:"EnteringBlockContentTimeWindow",id:1,access:"V",conformance:"BTW",priority:"info",details:"This event shall be generated when entering a period of blocked content as configured in the BlockContentTimeWindow attribute.",xref:{document:"cluster",section:"6.13.9.2"}}),U({name:"UpdatePin",id:0,access:"M T",conformance:"PM",direction:"request",response:"status",details:`The purpose of this command is to update the PIN used for protecting configuration of the content control settings. Upon success, the old PIN shall no longer work.
The PIN is used to ensure that only the Node (or User) with the PIN code can make changes to the Content Control settings, for example, turn off Content Controls or modify the ScreenDailyTime. The PIN is composed of a numeric string of up to 6 human readable characters (displayable) .
Upon receipt of this command, the media device shall check if the OldPIN field of this command is the same as the current PIN. If the PINs are the same, then the PIN code shall be set to NewPIN. Otherwise a response with InvalidPINCode error status shall be returned.
The media device may provide a default PIN to the User via an out of band mechanism. For security reasons, it is recommended that a client encourage the user to update the PIN from its default value when performing configuration of the Content Control settings exposed by this cluster. The ResetPIN command can also be used to obtain the default PIN.`,xref:{document:"cluster",section:"6.13.8.1"},children:[o({name:"OldPin",id:0,type:"string",conformance:"M",constraint:"max 6",details:"This field shall specify the original PIN. Once the UpdatePIN command is performed successfully, it shall be invalid.",xref:{document:"cluster",section:"6.13.8.1.1"}}),o({name:"NewPin",id:1,type:"string",conformance:"M",constraint:"max 6",details:"This field shall indicate a new PIN for the Content Control feature.",xref:{document:"cluster",section:"6.13.8.1.2"}})]}),U({name:"ResetPin",id:1,access:"A T",conformance:"PM",direction:"request",response:"ResetPinResponse",details:`The purpose of this command is to reset the PIN.
If this command is executed successfully, a ResetPINResponse command with a new PIN shall be returned.`,xref:{document:"cluster",section:"6.13.8.2"}}),U({name:"ResetPinResponse",id:2,conformance:"PM",direction:"response",details:"This command shall be generated in response to a ResetPIN command.",xref:{document:"cluster",section:"6.13.8.3"},children:[o({name:"PinCode",id:0,type:"string",conformance:"M",constraint:"max 6",details:"This field shall indicate a new PIN of the Content Control feature.",xref:{document:"cluster",section:"6.13.8.3.1"}})]}),U({name:"Enable",id:3,access:"M T",conformance:"M",direction:"request",response:"status",details:`The purpose of this command is to turn on the Content Control feature on a media device.
Upon receipt of the Enable command, the media device shall set the Enabled attribute to TRUE.`,xref:{document:"cluster",section:"6.13.8.4"}}),U({name:"Disable",id:4,access:"M T",conformance:"M",direction:"request",response:"status",details:`The purpose of this command is to turn off the Content Control feature on a media device.
On receipt of the Disable command, the media device shall set the Enabled attribute to FALSE.`,xref:{document:"cluster",section:"6.13.8.5"}}),U({name:"AddBonusTime",id:5,access:"O",conformance:"ST",direction:"request",response:"status",details:`The purpose of this command is to add the extra screen time for the user.
If a client with Operate privilege invokes this command, the media device shall check whether
the PINCode passed in the command matches the current PINCode value. If these match, then the RemainingScreenTime attribute shall be increased by the specified BonusTime value.
If the PINs do not match, then a response with InvalidPINCode error status shall be returned, and no changes shall be made to RemainingScreenTime.
If a client with Manage privilege or greater invokes this command, the media device shall ignore the PINCode field and directly increase the RemainingScreenTime attribute by the specified BonusTime value.
A server that does not support the PM feature shall respond with InvalidPINCode to clients that only have Operate privilege unless:
  \u2022 It has been provided with the PIN value to expect via an out of band mechanism, and
  \u2022 The client has provided a PINCode that matches the expected PIN value.`,xref:{document:"cluster",section:"6.13.8.6"},children:[o({name:"PinCode",id:0,type:"string",conformance:"O",constraint:"max 6",details:`This field shall indicate the PIN.
This field shall be optional for clients with Manage or greater privilege but shall be mandatory for clients with Operate privilege. The PIN provided in this field shall be used to guarantee that a client with Operate permission is allowed to invoke this command only if the PIN passed in this command is equal to the current PIN value.`,xref:{document:"cluster",section:"6.13.8.6.1"}}),o({name:"BonusTime",id:1,type:"elapsed-s",conformance:"M",constraint:"desc",default:300,details:"This field shall indicate the amount of extra time (in seconds) to increase RemainingScreenTime. This field shall not exceed the remaining time of this day.",xref:{document:"cluster",section:"6.13.8.6.2"}})]}),U({name:"SetScreenDailyTime",id:6,access:"M",conformance:"ST",direction:"request",response:"status",details:`The purpose of this command is to set the ScreenDailyTime attribute.
Upon receipt of the SetScreenDailyTime command, the media device shall set the ScreenDailyTime attribute to the ScreenTime value.`,xref:{document:"cluster",section:"6.13.8.7"},children:[o({name:"ScreenTime",id:0,type:"elapsed-s",conformance:"M",constraint:"max 86400",details:`This field shall indicate the time (in seconds) which the User is allowed to spend watching TV on
this media device within one day.`,xref:{document:"cluster",section:"6.13.8.7.1"}})]}),U({name:"BlockUnratedContent",id:7,access:"M",conformance:"BU",direction:"request",response:"status",details:`The purpose of this command is to specify whether programs with no Content rating must be blocked by this media device.
Upon receipt of the BlockUnratedContent command, the media device shall set the BlockUnrated attribute to TRUE.`,xref:{document:"cluster",section:"6.13.8.8"}}),U({name:"UnblockUnratedContent",id:8,access:"M",conformance:"BU",direction:"request",response:"status",details:`The purpose of this command is to specify whether programs with no Content rating must be blocked by this media device.
Upon receipt of the UnblockUnratedContent command, the media device shall set the BlockUnrated attribute to FALSE.`,xref:{document:"cluster",section:"6.13.8.9"}}),U({name:"SetOnDemandRatingThreshold",id:9,access:"M",conformance:"OCR",direction:"request",response:"status",details:`The purpose of this command is to set the OnDemandRatingThreshold attribute.
Upon receipt of the SetOnDemandRatingThreshold command, the media device shall check if the Rating field is one of values present in the OnDemandRatings attribute. If not, then a response with InvalidRating error status shall be returned.`,xref:{document:"cluster",section:"6.13.8.10"},children:[o({name:"Rating",id:0,type:"string",conformance:"M",constraint:"max 8",details:"This field indicates a threshold rating for filtering on-demand content. This field shall be set to one of the values present in the OnDemandRatings attribute",xref:{document:"cluster",section:"6.13.8.10.1"}})]}),U({name:"SetScheduledContentRatingThreshold",id:10,access:"M",conformance:"SCR",direction:"request",response:"status",details:`The purpose of this command is to set ScheduledContentRatingThreshold attribute.
Upon receipt of the SetScheduledContentRatingThreshold command, the media device shall check if the Rating field is one of values present in the ScheduledContentRatings attribute. If not, then a response with InvalidRating error status shall be returned.`,xref:{document:"cluster",section:"6.13.8.11"},children:[o({name:"Rating",id:0,type:"string",conformance:"M",constraint:"max 8",details:`This field indicates a threshold rating for filtering scheduled content. This field shall be set to one
of the values present in the ScheduledContentRatings attribute.`,xref:{document:"cluster",section:"6.13.8.11.1"}})]}),U({name:"AddBlockChannels",id:11,access:"M",conformance:"BC",direction:"request",response:"status",details:`The purpose of this command is to set BlockChannelList attribute.
Upon receipt of the AddBlockChannels command, the media device shall check if the channels passed in this command are valid. If the channel is invalid, then a response with InvalidChannel error Status shall be returned.
If there is at least one channel in Channels field which is not in the BlockChannelList attribute, the media device shall process the request by adding these new channels into the BlockChannelList attribute and return a successful Status Response. During this process, the media device shall assign one unique index to BlockChannelIndex field for every channel passed in this command.
If all channels in Channel field already exist in the BlockChannelList attribute, then a response with ChannelAlreadyExist error Status shall be returned.`,xref:{document:"cluster",section:"6.13.8.12"},children:[o({name:"Channels",id:0,type:"list",conformance:"M",details:"This field indicates a set of channels that shall be blocked when the Content Control feature is activated. This field shall be set to values present in ChannelList attribute in the Channel cluster. The BlockChannelIndex field passed in this command shall be NULL.",xref:{document:"cluster",section:"6.13.8.12.1"},children:[o({name:"entry",type:"BlockChannelStruct"})]})]}),U({name:"RemoveBlockChannels",id:12,access:"M",conformance:"BC",direction:"request",response:"status",details:`The purpose of this command is to remove channels from the BlockChannelList attribute.
Upon receipt of the RemoveBlockChannels command, the media device shall check if the channels indicated by ChannelIndexes passed in this command are present in BlockChannelList attribute. If one or more channels indicated by ChannelIndexes passed in this command field are not present in the BlockChannelList attribute, then a response with ChannelNotExist error Status shall be returned.`,xref:{document:"cluster",section:"6.13.8.13"},children:[o({name:"ChannelIndexes",id:0,type:"list",conformance:"M",details:"This field shall specify a set of indexes indicating Which channels shall be removed from the BlockChannelList attribute.",xref:{document:"cluster",section:"6.13.8.13.1"},children:[o({name:"entry",type:"uint16"})]})]}),U({name:"AddBlockApplications",id:13,access:"M",conformance:"BA",direction:"request",response:"status",details:`The purpose of this command is to set applications to the BlockApplicationList attribute.
Upon receipt of the AddBlockApplications command, the media device shall check if the Applications passed in this command are installed. If there is an application in Applications field which is not identified by media device, then a response with UnidentifiableApplication error Status may be returned.
If there is one or more applications which are not present in BlockApplicationList attribute, the media device shall process the request by adding the new application to the BlockApplicationList attribute and return a successful Status Response.
If all applications in Applications field are already present in BlockApplicationList attribute, then a response with ApplicationAlreadyExist error Status shall be returned.`,xref:{document:"cluster",section:"6.13.8.14"},children:[o({name:"Applications",id:0,type:"list",conformance:"M",details:"This field indicates a set of applications that shall be blocked when the Content Control feature is activated.",xref:{document:"cluster",section:"6.13.8.14.1"},children:[o({name:"entry",type:"AppInfoStruct"})]})]}),U({name:"RemoveBlockApplications",id:14,access:"M",conformance:"BA",direction:"request",response:"status",details:`The purpose of this command is to remove applications from the BlockApplicationList attribute.
Upon receipt of the RemoveBlockApplications command, the media device shall check if the applications passed in this command present in the BlockApplicationList attribute. If one or more applications in Applications field which are not present in the BlockApplicationList attribute, then a response with ApplicationNotExist error Status shall be returned.`,xref:{document:"cluster",section:"6.13.8.15"},children:[o({name:"Applications",id:0,type:"list",conformance:"M",details:"This field indicates a set of applications which shall be removed from BlockApplicationList attribute.",xref:{document:"cluster",section:"6.13.8.15.1"},children:[o({name:"entry",type:"AppInfoStruct"})]})]}),U({name:"SetBlockContentTimeWindow",id:15,access:"M",conformance:"BTW",direction:"request",response:"status",details:`The purpose of this command is to set the BlockContentTimeWindow attribute.
Upon receipt of the SetBlockContentTimeWindow command, the media device shall check if the
TimeWindowIndex field passed in this command is NULL. If the TimeWindowIndex field is NULL, the media device shall check if there is an entry in the BlockContentTimeWindow attribute which matches with the TimePeriod and DayOfWeek fields passed in this command. * If Yes, then a response with TimeWindowAlreadyExist error status shall be returned. * If No, then the media device shall assign one unique index for this time window and add it into the BlockContentTimeWindow list attribute.
If the TimeWindowIndex field is not NULL and presents in the BlockContentTimeWindow attribute, the media device shall replace the original time window with the new time window passed in this command.`,xref:{document:"cluster",section:"6.13.8.16"},children:[o({name:"TimeWindow",id:0,type:"TimeWindowStruct",conformance:"M",details:"This field shall indicate a time window requested to set to the BlockContentTimeWindow attribute.",xref:{document:"cluster",section:"6.13.8.16.1"}})]}),U({name:"RemoveBlockContentTimeWindow",id:16,access:"M",conformance:"BTW",direction:"request",response:"status",details:`The purpose of this command is to remove the selected time windows from the BlockContentTimeWindow attribute.
Upon receipt of the RemoveBlockContentTimeWindow command, the media device shall check if the time window index passed in this command presents in the BlockContentTimeWindow attribute.
If one or more time window indexes passed in this command are not present in BlockContentTimeWindow attribute, then a response with TimeWindowNotExist error status shall be returned.`,xref:{document:"cluster",section:"6.13.8.17"},children:[o({name:"TimeWindowIndexes",id:0,type:"list",conformance:"M",details:"This field shall specify a set of time window indexes indicating which time windows will be removed from the BlockContentTimeWindow attribute.",xref:{document:"cluster",section:"6.13.8.17.1"},children:[o({name:"entry",type:"uint16"})]})]}),C({name:"RatingNameStruct",type:"struct",xref:{document:"cluster",section:"6.13.5.1"},children:[o({name:"RatingName",id:0,type:"string",conformance:"M",constraint:"max 8",details:"This field shall indicate the name of the rating level of the applied rating system. The applied rating system is dependent upon the region or country where the Node has been provisioned, and may vary from one country to another.",xref:{document:"cluster",section:"6.13.5.1.1"}}),o({name:"RatingNameDesc",id:1,type:"string",conformance:"O",constraint:"max 64",details:"This field shall specify a human readable (displayable) description for RatingName.",xref:{document:"cluster",section:"6.13.5.1.2"}})]}),C({name:"BlockChannelStruct",type:"struct",details:'[options="header",valign="middle"]b',xref:{document:"cluster",section:"6.13.5.2"},children:[o({name:"BlockChannelIndex",id:0,type:"uint16",conformance:"M",quality:"X",details:"This field shall indicate a unique index value for a blocked channel. This value may be used to indicate one selected channel which will be removed from BlockChannelList attribute.",xref:{document:"cluster",section:"6.13.5.2.1"}}),o({name:"MajorNumber",id:1,type:"uint16",conformance:"M",details:'This field shall indicate the channel major number value (for example, using ATSC format). When the channel number is expressed as a string, such as "13.1" or "256", the major number would be 13 or 256, respectively. This field is required but shall be set to 0 for channels such as over-the-top channels that are not represented by a major or minor number.',xref:{document:"cluster",section:"6.13.5.2.2"}}),o({name:"MinorNumber",id:2,type:"uint16",conformance:"M",details:'This field shall indicate the channel minor number value (for example, using ATSC format). When the channel number is expressed as a string, such as "13.1" or "256", the minor number would be 1 or 0, respectively. This field is required but shall be set to 0 for channels such as over-the-top channels that are not represented by a major or minor number.',xref:{document:"cluster",section:"6.13.5.2.3"}}),o({name:"Identifier",id:3,type:"string",conformance:"O",details:"This field shall indicate the unique identifier for a specific channel. This field is optional, but SHOULD be provided when MajorNumber and MinorNumber are not available.",xref:{document:"cluster",section:"6.13.5.2.4"}})]}),C({name:"AppInfoStruct",type:"struct",xref:{document:"cluster",section:"6.13.5.3"},children:[o({name:"CatalogVendorId",id:0,type:"uint16",conformance:"M",details:`This field shall indicate the CSA-issued vendor ID for the catalog. The DIAL registry shall use value 0x0000.
Content App Platform providers will have their own catalog vendor ID (set to their own Vendor ID) and will assign an ApplicationID to each Content App.`,xref:{document:"cluster",section:"6.13.5.3.1"}}),o({name:"ApplicationId",id:1,type:"string",conformance:"M",details:'This field shall indicate the application identifier, expressed as a string, such as "PruneVideo" or "Company X". This field shall be unique within a catalog.',xref:{document:"cluster",section:"6.13.5.3.2"}})]}),C({name:"TimeWindowStruct",type:"struct",xref:{document:"cluster",section:"6.13.5.4"},children:[o({name:"TimeWindowIndex",id:0,type:"uint16",conformance:"M",quality:"X",details:"This field shall indicate a unique index of a specific time window. This value may be used to indicate a selected time window which will be removed from the BlockContentTimeWindow attribute.",xref:{document:"cluster",section:"6.13.5.4.1"}}),o({name:"DayOfWeek",id:1,type:"DayOfWeekBitmap",conformance:"M",constraint:"desc",details:"This field shall indicate a day of week.",xref:{document:"cluster",section:"6.13.5.4.2"}}),o({name:"TimePeriod",id:2,type:"list",conformance:"M",constraint:"desc",details:"This field shall indicate one or more discrete time periods.",xref:{document:"cluster",section:"6.13.5.4.3"},children:[o({name:"entry",type:"TimePeriodStruct"})]})]}),C({name:"DayOfWeekBitmap",type:"enum8",xref:{document:"cluster",section:"6.13.5.5"},children:[o({name:"Sunday",id:0,description:"Sunday"}),o({name:"Monday",id:1,description:"Monday"}),o({name:"Tuesday",id:2,description:"Tuesday"}),o({name:"Wednesday",id:3,description:"Wednesday"}),o({name:"Thursday",id:4,description:"Thursday"}),o({name:"Friday",id:5,description:"Friday"}),o({name:"Saturday",id:6,description:"Saturday"})]}),C({name:"TimePeriodStruct",type:"struct",xref:{document:"cluster",section:"6.13.5.6"},children:[o({name:"StartHour",id:0,type:"uint8",conformance:"M",constraint:"0 to 23",details:"This field shall indicate the starting hour.",xref:{document:"cluster",section:"6.13.5.6.1"}}),o({name:"StartMinute",id:1,type:"uint8",conformance:"M",constraint:"0 to 59",details:"This field shall indicate the starting minute.",xref:{document:"cluster",section:"6.13.5.6.2"}}),o({name:"EndHour",id:2,type:"uint8",conformance:"M",constraint:"0 to 23",details:"This field shall indicate the ending hour. EndHour shall be equal to or greater than StartHour",xref:{document:"cluster",section:"6.13.5.6.3"}}),o({name:"EndMinute",id:3,type:"uint8",conformance:"M",constraint:"0 to 59",details:"This field shall indicate the ending minute. If EndHour is equal to StartHour then EndMinute shall be greater than StartMinute. If the EndHour is equal to 23 and the EndMinute is equal to 59, all contents shall be blocked until 23:59:59.",xref:{document:"cluster",section:"6.13.5.6.4"}})]}),C({name:"StatusCodeEnum",type:"enum8",xref:{document:"cluster",section:"6.13.6.1"},children:[o({name:"InvalidPinCode",id:2,description:"Provided PIN Code does not match the current PIN code."}),o({name:"InvalidRating",id:3,description:"Provided Rating is out of scope of the corresponding Rating list."}),o({name:"InvalidChannel",id:4,description:"Provided Channel(s) is invalid."}),o({name:"ChannelAlreadyExist",id:5,description:"Provided Channel(s) already exists."}),o({name:"ChannelNotExist",id:6,description:"Provided Channel(s) doesn\u2019t exist in BlockChannelList attribute."}),o({name:"UnidentifiableApplication",id:7,description:"Provided Application(s) is not identified."}),o({name:"ApplicationAlreadyExist",id:8,description:"Provided Application(s) already exists."}),o({name:"ApplicationNotExist",id:9,description:"Provided Application(s) doesn\u2019t exist in BlockApplicationList attribute."}),o({name:"TimeWindowAlreadyExist",id:10,description:"Provided time Window already exists in BlockContentTimeWindow attribute."}),o({name:"TimeWindowNotExist",id:11,description:"Provided time window doesn\u2019t exist in BlockContentTimeWindow attribute."})]})]});A.children.push(BT);var UT=ie({name:"RvcRunMode",id:84,type:"ModeBase",classification:"application",pics:"RVCRUNM",details:"This cluster is derived from the Mode Base cluster to define specifics for Robotic Vacuum Cleaner devices. It also defines a namespace for the running modes of these devices.",xref:{document:"cluster",section:"7.2"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:2}),p({name:"SupportedModes",id:0,xref:{document:"cluster",section:"7.2.6"}}),p({name:"CurrentMode",id:1,xref:{document:"cluster",section:"7.2.6"}}),p({name:"StartUpMode",id:2,conformance:"X",xref:{document:"cluster",section:"7.2.6"}}),p({name:"OnMode",id:3,conformance:"D",xref:{document:"cluster",section:"7.2.6"}}),C({name:"ModeOptionStruct",type:"ModeOptionStruct",details:`The table below lists the changes relative to the Mode Base cluster for the fields of the ModeOptionStruct type. A blank field indicates no change.
At least one entry in the SupportedModes attribute shall include the Idle mode tag in the ModeTags field.
At least one entry in the SupportedModes attribute (different from the one above) shall include the Cleaning mode tag in the ModeTags field.
The Mapping, Cleaning, and Idle mode tags are mutually exclusive and shall NOT be used together in a mode\u2019s ModeTags.`,xref:{document:"cluster",section:"7.2.5.1"}}),C({name:"ModeChangeStatus",type:"enum8",children:[o({name:"Stuck",id:65,xref:{document:"cluster",section:"7.2.7.1"}}),o({name:"DustBinMissing",id:66,xref:{document:"cluster",section:"7.2.7.1"}}),o({name:"DustBinFull",id:67,xref:{document:"cluster",section:"7.2.7.1"}}),o({name:"WaterTankEmpty",id:68,xref:{document:"cluster",section:"7.2.7.1"}}),o({name:"WaterTankMissing",id:69,xref:{document:"cluster",section:"7.2.7.1"}}),o({name:"WaterTankLidOpen",id:70,xref:{document:"cluster",section:"7.2.7.1"}}),o({name:"MopCleaningPadMissing",id:71,xref:{document:"cluster",section:"7.2.7.1"}}),o({name:"BatteryLow",id:72,xref:{document:"cluster",section:"7.2.7.1"}})]}),C({name:"ModeTag",type:"enum16",children:[o({name:"Idle",id:16384,details:`The device is not performing any of the main operations of the other modes. However, auxiliary actions, such as seeking the charger or charging, may occur.
For example, the device has completed cleaning, successfully or not, on its own or due to a command, or has not been asked to clean after a restart.`,xref:{document:"cluster",section:"7.2.7.2.1"}}),o({name:"Cleaning",id:16385,details:"The device was asked to clean so it may be actively running, or paused due to an error, due to a pause command, or for recharging etc. If currently paused and the device can resume it will continue to clean.",xref:{document:"cluster",section:"7.2.7.2.2"}}),o({name:"Mapping",id:16386,details:`The device was asked to create a map of the space it is located in, so it may be actively running, or paused due to an error, due to a pause command, or for recharging etc. If currently paused and the device can resume, it will continue to map.
NOTE
this mode is intended to be used so the current space can be mapped by the device if the robot has not previously done that, or if the layout has substantially changed, for an optimal subsequent cleaning experience.`,xref:{document:"cluster",section:"7.2.7.2.3"}})]})]});A.children.push(UT);var VT=ie({name:"RvcCleanMode",id:85,type:"ModeBase",classification:"application",pics:"RVCCLEANM",details:"This cluster is derived from the Mode Base cluster to define specifics for Robotic Vacuum Cleaner devices. It also defines a namespace for the cleaning type for these devices.",xref:{document:"cluster",section:"7.3"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:2}),p({name:"SupportedModes",id:0,xref:{document:"cluster",section:"7.3.6"}}),p({name:"CurrentMode",id:1,xref:{document:"cluster",section:"7.3.6"}}),p({name:"StartUpMode",id:2,conformance:"X",xref:{document:"cluster",section:"7.3.6"}}),p({name:"OnMode",id:3,conformance:"D",xref:{document:"cluster",section:"7.3.6"}}),C({name:"ModeOptionStruct",type:"ModeOptionStruct",details:`The table below lists the changes relative to the Mode Base cluster for the fields of the ModeOptionStruct type. A blank field indicates no change.
At least one entry in the SupportedModes attribute shall include the Vacuum and/or the Mop mode tag in the ModeTags field list.`,xref:{document:"cluster",section:"7.3.5.1"}}),C({name:"ModeChangeStatus",type:"enum8",children:[o({name:"CleaningInProgress",id:64,xref:{document:"cluster",section:"7.3.7.1"}})]}),C({name:"ModeTag",type:"enum16",children:[o({name:"DeepClean",id:16384,xref:{document:"cluster",section:"7.3.7.2"}}),o({name:"Vacuum",id:16385,details:"The device\u2019s vacuuming feature is enabled in this mode.",xref:{document:"cluster",section:"7.3.7.2.2"}}),o({name:"Mop",id:16386,details:"The device\u2019s mopping feature is enabled in this mode.",xref:{document:"cluster",section:"7.3.7.2.3"}})]})]});A.children.push(VT);var qT=ie({name:"RvcOperationalState",id:97,type:"OperationalState",classification:"application",pics:"RVCOPSTATE",details:"This cluster provides an interface for monitoring the operational state of a Robotic Vacuum Cleaner.",xref:{document:"cluster",section:"7.4"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:2}),U({name:"Pause",id:0,xref:{document:"cluster",section:"7.4.5"}}),U({name:"Stop",id:1,conformance:"D",xref:{document:"cluster",section:"7.4.5"}}),U({name:"Start",id:2,conformance:"D",xref:{document:"cluster",section:"7.4.5"}}),U({name:"Resume",id:3,xref:{document:"cluster",section:"7.4.5"}}),U({name:"OperationalCommandResponse",id:4,xref:{document:"cluster",section:"7.4.5"}}),U({name:"GoHome",id:128,access:"O",conformance:"P, O",direction:"request",response:"OperationalCommandResponse",details:`On receipt of this command, the device shall start seeking the charging dock, if possible in the current state of the device.
If this command is received when already in the SeekingCharger state the device shall respond with an OperationalCommandResponse command with an ErrorStateID of NoError but the command shall have no other effect.
A device that receives this command in any state which does not allow seeking the charger, such as Charging or Docked, shall respond with an OperationalCommandResponse command with an ErrorStateID of CommandInvalidInState and shall have no other effect.
Otherwise, on success:
  \u2022 The OperationalState attribute shall be set to SeekingCharger.
  \u2022 The device shall respond with an OperationalCommandResponse command with an ErrorStateID of     NoError.`,xref:{document:"cluster",section:"7.4.5.1"}}),C({name:"OperationalStateEnum",type:"enum8",details:`The values defined herein are applicable to this derived cluster of Operational State only and are additional to the set of values defined in Operational State itself.
RVC Pause Compatibility defines the compatibility of the states this cluster defines with the Pause command.
### Table 39. RVC Pause Compatibility
RVC Resume Compatibility defines the compatibility of the states this cluster defines with the Resume command.
### Table 40. RVC Resume Compatibility
While in the Charging or Docked states, the device shall NOT attempt to resume unless it transitioned to those states while operating and can resume, such as, for example, if it is recharging while in a cleaning cycle. Else, if the operational state is Charging or Docked but there\u2019s no operation to resume or the operation can\u2019t be resumed, the device shall respond with an OperationalCommandResponse command with an ErrorStateID of CommandInvalidInState but take no further action.`,xref:{document:"cluster",section:"7.4.4.1"},children:[o({name:"SeekingCharger",id:64,conformance:"M",description:"The device is en route to the charging dock"}),o({name:"Charging",id:65,conformance:"M",description:"The device is charging"}),o({name:"Docked",id:66,conformance:"M",description:"The device is on the dock, not charging"})]}),C({name:"ErrorStateEnum",type:"enum8",details:"The values defined herein are applicable to this derived cluster of Operational State only and are additional to the set of values defined in Operational State itself.",xref:{document:"cluster",section:"7.4.4.2"},children:[o({name:"FailedToFindChargingDock",id:64,conformance:"M",description:"The device has failed to find or reach the charging dock"}),o({name:"Stuck",id:65,conformance:"M",description:"The device is stuck and requires manual intervention"}),o({name:"DustBinMissing",id:66,conformance:"M",description:"The device has detected that its dust bin is missing"}),o({name:"DustBinFull",id:67,conformance:"M",description:"The device has detected that its dust bin is full"}),o({name:"WaterTankEmpty",id:68,conformance:"M",description:"The device has detected that its water tank is empty"}),o({name:"WaterTankMissing",id:69,conformance:"M",description:"The device has detected that its water tank is missing"}),o({name:"WaterTankLidOpen",id:70,conformance:"M",description:"The device has detected that its water tank lid is open"}),o({name:"MopCleaningPadMissing",id:71,conformance:"M",description:"The device has detected that its cleaning pad is missing"})]})]});A.children.push(qT);var _T=ie({name:"TemperatureControl",id:86,classification:"application",pics:"TCTL",details:`This cluster provides an interface to the setpoint temperature on devices such as washers, refrigerators, and water heaters. The setpoint temperature is the temperature to which a device using this cluster would attempt to control to. This cluster does not provide access to the actual or physical temperature associated with any device using this cluster. Access to the physical temperature associated with a device using this cluster would be provided by other clusters as part of that devices device type definition.
The values and constraints of the attributes communicated to clients SHOULD match the controls on any physical interface on a device implementing this server. For example, the value of the Step attribute SHOULD match the incremental value by which the temperature setpoint can be changed on the physical device.`,xref:{document:"cluster",section:"8.2"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"8.2.4"},children:[o({name:"TN",conformance:"O.a",constraint:"0",description:"TemperatureNumber",details:"For devices that use an actual temperature value for the temperature setpoint, such as some water heaters, the feature TN shall be used. Note that this cluster provides and supports temperatures in degrees Celsius via the temperature data type.",xref:{document:"cluster",section:"8.2.4.1"}}),o({name:"TL",conformance:"O.a",constraint:"1",description:"TemperatureLevel",details:"For devices that use vendor-specific temperature levels for the temperature setpoint, such as some washers, the feature TL shall be used.",xref:{document:"cluster",section:"8.2.4.2"}}),o({name:"STEP",conformance:"[TN]",constraint:"2",description:"TemperatureStep",details:"For devices that support discrete temperature setpoints that are larger than the temperature resolution imposed via the temperature data type, the Step feature may be used.",xref:{document:"cluster",section:"8.2.4.3"}})]}),p({name:"TemperatureSetpoint",id:0,type:"temperature",access:"R V",conformance:"TN",constraint:"minTemperature to maxTemperature",details:"Indicates the desired Temperature Setpoint on the device.",xref:{document:"cluster",section:"8.2.5.1"}}),p({name:"MinTemperature",id:1,type:"temperature",access:"R V",conformance:"TN",constraint:"max (MaxTemperature - 1)",quality:"F",details:"Indicates the minimum temperature to which the TemperatureSetpoint attribute may be set.",xref:{document:"cluster",section:"8.2.5.2"}}),p({name:"MaxTemperature",id:2,type:"temperature",access:"R V",conformance:"TN",constraint:"desc",quality:"F",details:`Indicates the maximum temperature to which the TemperatureSetpoint attribute may be set.
If the Step attribute is supported, this attribute shall be such that MaxTemperature = MinTemperature + Step * n, where n is an integer and n > 0. If the Step attribute is not supported, this attribute shall be such that MaxTemperature > MinTemperature.`,xref:{document:"cluster",section:"8.2.5.3"}}),p({name:"Step",id:3,type:"temperature",access:"R V",conformance:"STEP",constraint:"max (MaxTemperature - MinTemperature)",quality:"F",details:`Indicates the discrete value by which the TemperatureSetpoint attribute can be changed via the SetTemperature command.
For example, if the value of MinTemperature is 25.00C (2500) and the Step value is 0.50C (50), valid values of the TargetTemperature field of the SetTemperature command would be 25.50C (2550), 26.00C (2600), 26.50C (2650), etc.`,xref:{document:"cluster",section:"8.2.5.4"}}),p({name:"SelectedTemperatureLevel",id:4,type:"uint8",access:"R V",conformance:"TL",constraint:"0 to 31",details:"Indicates the currently selected temperature level setting of the server. This attribute shall be the positional index of the list item in the SupportedTemperatureLevels list that represents the currently selected temperature level setting of the server.",xref:{document:"cluster",section:"8.2.5.5"}}),p({name:"SupportedTemperatureLevels",id:5,type:"list",access:"R V",conformance:"TL",constraint:"max 32[max 16]",details:`Indicates the list of supported temperature level settings that may be selected via the TargetTemperatureLevel field in the SetTemperature command. Each string is readable text that describes each temperature level setting in a way that can be easily understood by humans. For example, a washing machine can have temperature levels like "Cold", "Warm", and "Hot". Each string is specified by the manufacturer.
Each item in this list shall represent a unique temperature level. Each entry in this list shall have a unique value. The entries in this list shall appear in order of increasing temperature level with list item 0 being the setting with the lowest temperature level.`,xref:{document:"cluster",section:"8.2.5.6"},children:[o({name:"entry",type:"string"})]}),U({name:"SetTemperature",id:0,access:"O",conformance:"M",direction:"request",response:"status",xref:{document:"cluster",section:"8.2.6.1"},children:[o({name:"TargetTemperature",id:0,type:"temperature",conformance:"TN",constraint:"desc",details:`This field shall specify the desired temperature setpoint that the server is to be set to.
The TargetTemperature shall be from MinTemperature to MaxTemperature inclusive. If the Step attribute is supported, TargetTemperature shall be such that (TargetTemperature - MinTemperature) % Step == 0.`,xref:{document:"cluster",section:"8.2.6.1.1"}}),o({name:"TargetTemperatureLevel",id:1,type:"uint8",conformance:"TL",constraint:"desc",details:"This field shall specify the index of the list item in the SupportedTemperatureLevels list that represents the desired temperature level setting of the server. The value of this field shall be between 0 and the length of the SupportedTemperatureLevels list -1.",xref:{document:"cluster",section:"8.2.6.1.2"}})]})]});A.children.push(_T);var $T=ie({name:"DishwasherMode",id:89,type:"ModeBase",classification:"application",pics:"DISHM",details:"This cluster is derived from the Mode Base cluster, defining additional mode tags and namespaced enumerated values for dishwasher devices.",xref:{document:"cluster",section:"8.3"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:2}),p({name:"SupportedModes",id:0,conformance:"M",xref:{document:"cluster",section:"8.3.5"}}),p({name:"CurrentMode",id:1,conformance:"M",xref:{document:"cluster",section:"8.3.5"}}),p({name:"StartUpMode",id:2,conformance:"P",details:"If this attribute is supported, the device SHOULD initially set this to one of the supported modes that has the Normal tag associated with it. See the Mode Base cluster specification for full details about the StartUpMode attribute.",xref:{document:"cluster",section:"8.3.5.1"}}),p({name:"OnMode",id:3,conformance:"P",xref:{document:"cluster",section:"8.3.5"}}),C({name:"ModeOptionStruct",type:"ModeOptionStruct",details:`The table below lists the changes relative to the Mode Base cluster for the fields of the ModeOptionStruct type. A blank field indicates no change.
At least one entry in the SupportedModes attribute shall include the Normal mode tag in the ModeTags field list.`,xref:{document:"cluster",section:"8.3.4.1"}}),C({name:"ModeTag",type:"enum16",children:[o({name:"Normal",id:16384,details:"The normal regime of operation.",xref:{document:"cluster",section:"8.3.6.1.1"}}),o({name:"Heavy",id:16385,details:"Mode optimized for washing heavily-soiled dishes.",xref:{document:"cluster",section:"8.3.6.1.2"}}),o({name:"Light",id:16386,details:"Mode optimized for light washing.",xref:{document:"cluster",section:"8.3.6.1.3"}})]})]});A.children.push($T);var WT=ie({name:"DishwasherAlarm",id:93,type:"AlarmBase",classification:"application",pics:"DISHALM",details:"This cluster is a derived cluster of the Alarm Base cluster.",xref:{document:"cluster",section:"8.4"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),C({name:"AlarmBitmap",type:"map32",xref:{document:"cluster",section:"8.4.4.1"},children:[o({name:"InflowError",constraint:"0",description:"Water inflow is abnormal"}),o({name:"DrainError",constraint:"1",description:"Water draining is abnormal"}),o({name:"DoorError",constraint:"2",description:"Door or door lock is abnormal"}),o({name:"TempTooLow",constraint:"3",description:"Unable to reach normal temperature"}),o({name:"TempTooHigh",constraint:"4",description:"Temperature is too high"}),o({name:"WaterLevelError",constraint:"5",description:"Water level is abnormal"})]})]});A.children.push(WT);var HT=ie({name:"LaundryWasherMode",id:81,type:"ModeBase",classification:"application",pics:"LWM",details:"This cluster is derived from the Mode Base cluster, defining additional mode tags and namespaced enumerated values for laundry washer as well as laundry dryer devices.",xref:{document:"cluster",section:"8.5"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:2}),p({name:"SupportedModes",id:0,conformance:"M",xref:{document:"cluster",section:"8.5.5"}}),p({name:"CurrentMode",id:1,conformance:"M",xref:{document:"cluster",section:"8.5.5"}}),p({name:"StartUpMode",id:2,conformance:"P",details:"If this attribute is supported, the device SHOULD initially set this to one of the supported modes that has the Normal tag associated with it. See the Mode Base cluster specification for full details about the StartUpMode attribute.",xref:{document:"cluster",section:"8.5.5.1"}}),p({name:"OnMode",id:3,conformance:"P",xref:{document:"cluster",section:"8.5.5"}}),C({name:"ModeOptionStruct",type:"ModeOptionStruct",details:`The table below lists the changes relative to the Mode Base cluster for the fields of the ModeOptionStruct type. A blank field indicates no change.
At least one entry in the SupportedModes attribute shall include the Normal mode tag in the ModeTags field list.`,xref:{document:"cluster",section:"8.5.4.1"}}),C({name:"ModeTag",type:"enum16",children:[o({name:"Normal",id:16384,details:"The normal regime of operation.",xref:{document:"cluster",section:"8.5.6.1.1"}}),o({name:"Delicate",id:16385,details:"Mode optimized for washing delicate garments.",xref:{document:"cluster",section:"8.5.6.1.2"}}),o({name:"Heavy",id:16386,details:"Mode optimized for heavy washing.",xref:{document:"cluster",section:"8.5.6.1.3"}}),o({name:"Whites",id:16387,details:"Mode optimized for stain removal on white fabrics.",xref:{document:"cluster",section:"8.5.6.1.4"}})]})]});A.children.push(HT);var jT=ie({name:"LaundryWasherControls",id:83,classification:"application",pics:"WASHERCTRL",details:"This cluster provides a way to access options associated with the operation of a laundry washer device type.",xref:{document:"cluster",section:"8.6"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"8.6.4"},children:[o({name:"SPIN",conformance:"O",constraint:"0",description:"Spin",details:"This feature indicates multiple spin speeds are supported in at least one supported mode. Note that some modes may not support multiple spin speeds even if this feature is supported.",xref:{document:"cluster",section:"8.6.4.1"}}),o({name:"RINSE",conformance:"O",constraint:"1",description:"Rinse",details:"This feature indicates multiple rinse cycles are supported in at least one supported mode. Note that some modes may not support selection of the number of rinse cycles even if this feature is supported.",xref:{document:"cluster",section:"8.6.4.2"}})]}),p({name:"SpinSpeeds",id:0,type:"list",access:"R V",conformance:"SPIN",constraint:"max 16[max 64]",details:"This attribute indicates the list of spin speeds available to the appliance in the currently selected mode. The spin speed values are determined by the manufacturer. At least one spin speed value shall be provided in the SpinSpeeds list. The list of spin speeds may change depending on the currently selected Laundry Washer mode. For example, Quick mode might have a completely different list of SpinSpeeds than Delicates mode.",xref:{document:"cluster",section:"8.6.6.1"},children:[o({name:"entry",type:"string"})]}),p({name:"SpinSpeedCurrent",id:1,type:"uint8",access:"RW VO",conformance:"SPIN",constraint:"0 to 15",quality:"X",details:"This attribute indicates the currently selected spin speed. It is the index into the SpinSpeeds list of the selected spin speed, as such, this attribute can be an integer between 0 and the number of entries in SpinSpeeds - 1. If a value is received that is outside of the defined constraints, a CONSTRAINT_ERROR shall be sent as the response. If a value is attempted to be written that doesn\u2019t match a valid index (e.g. an index of 5 when the list has 4 values), a CONSTRAINT_ERROR shall be sent as the response. If null is written to this attribute, there will be no spin speed for the selected cycle. If the value is null, there will be no spin speed on the current mode.",xref:{document:"cluster",section:"8.6.6.2"}}),p({name:"NumberOfRinses",id:2,type:"NumberOfRinsesEnum",access:"RW VO",conformance:"RINSE",constraint:"desc",default:1,details:"This attribute represents how many times a rinse cycle shall be performed on a device for the current mode of operation. A value of None shall indicate that no rinse cycle will be performed. This value may be set by the client to adjust the number of rinses that are performed for the current mode of operation. If the device is not in a compatible state to accept the provided value, an INVALID_IN_STATE error shall be sent as the response.",xref:{document:"cluster",section:"8.6.6.3"}}),p({name:"SupportedRinses",id:3,type:"list",access:"R V",conformance:"RINSE",constraint:"max 4",details:"This attribute represents the amount of rinses allowed for a specific mode. Each entry shall indicate a NumberOfRinsesEnum value that is possible in the selected mode on the device. The value of this attribute may change at runtime based on the currently selected mode. Each entry shall be distinct.",xref:{document:"cluster",section:"8.6.6.4"},children:[o({name:"entry",type:"NumberOfRinsesEnum"})]}),C({name:"NumberOfRinsesEnum",type:"enum8",details:"The NumberOfRinsesEnum provides a representation of the number of rinses that will be performed for a selected mode. NumberOfRinsesEnum is derived from enum8. It is up to the device manufacturer to determine the mapping between the enum values and the corresponding numbers of rinses.",xref:{document:"cluster",section:"8.6.5.1"},children:[o({name:"None",id:0,conformance:"RINSE",description:"This laundry washer mode does not perform rinse cycles"}),o({name:"Normal",id:1,conformance:"RINSE",description:"This laundry washer mode performs normal rinse cycles determined by the manufacturer"}),o({name:"Extra",id:2,conformance:"RINSE",description:"This laundry washer mode performs an extra rinse cycle"}),o({name:"Max",id:3,conformance:"RINSE",description:"This laundry washer mode performs the maximum number of rinse cycles determined by the manufacturer"})]})]});A.children.push(jT);var GT=ie({name:"RefrigeratorAndTemperatureControlledCabinetMode",id:82,type:"ModeBase",classification:"application",pics:"TCCM",details:"This cluster is derived from the Mode Base cluster, defining additional mode tags and namespaced enumerated values for refrigerator and temperature controlled cabinet devices.",xref:{document:"cluster",section:"8.7"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:2}),p({name:"SupportedModes",id:0,conformance:"M",xref:{document:"cluster",section:"8.7.5"}}),p({name:"CurrentMode",id:1,conformance:"M",xref:{document:"cluster",section:"8.7.5"}}),p({name:"StartUpMode",id:2,conformance:"P",xref:{document:"cluster",section:"8.7.5"}}),p({name:"OnMode",id:3,conformance:"P",xref:{document:"cluster",section:"8.7.5"}}),C({name:"ModeOptionStruct",type:"ModeOptionStruct",details:`The table below lists the changes relative to the Mode Base cluster for the fields of the ModeOptionStruct type. A blank field indicates no change.
At least one entry in the SupportedModes attribute shall include the Auto mode tag in the ModeTags field list.`,xref:{document:"cluster",section:"8.7.4.1"}}),C({name:"ModeTag",type:"enum16",children:[o({name:"RapidCool",id:16384,details:"This mode reduces the temperature rapidly, typically above freezing grade.",xref:{document:"cluster",section:"8.7.6.1.1"}}),o({name:"RapidFreeze",id:16385,details:"This mode reduces the temperature rapidly, below freezing grade.",xref:{document:"cluster",section:"8.7.6.1.2"}})]})]});A.children.push(GT);var zT=ie({name:"RefrigeratorAlarm",id:87,type:"AlarmBase",classification:"application",pics:"REFALM",details:"This cluster is a derived cluster of Alarm Base cluster.",xref:{document:"cluster",section:"8.8"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"8.8.4"},children:[o({name:"RESET",conformance:"X",constraint:"0",description:"Reset",details:"Supports the ability to reset alarms"})]}),U({name:"ModifyEnabledAlarms",id:1,conformance:"X",xref:{document:"cluster",section:"8.8.7"}}),C({name:"AlarmBitmap",type:"map32",xref:{document:"cluster",section:"8.8.5.1"},children:[o({name:"DoorOpen",constraint:"0",description:"The cabinet\u2019s door has been open for a vendor defined amount of time."})]})]});A.children.push(zT);var KT=ie({name:"LaundryDryerControls",id:74,classification:"application",pics:"DRYERCTRL",details:"This cluster provides a way to access options associated with the operation of a laundry dryer device type.",xref:{document:"cluster",section:"8.9"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"SupportedDrynessLevels",id:0,type:"list",conformance:"M",constraint:"1 to 4",details:`Indicates the list of supported dryness levels available to the appliance in the
currently selected mode. The dryness level values are determined by the manufacturer. At least one dryness level value shall be provided in the SupportedDrynessLevels list. The list of dryness levels may change depending on the currently-selected Laundry Dryer mode.`,xref:{document:"cluster",section:"8.9.5.1"},children:[o({name:"entry",type:"DrynessLevelEnum"})]}),p({name:"SelectedDrynessLevel",id:1,type:"DrynessLevelEnum",access:"RW VO",conformance:"M",constraint:"desc",quality:"X",details:`Indicates the currently-selected dryness level and it shall be the index into the SupportedDrynessLevels list of the selected dryness level.
If an attempt is made to write this attribute with a value other than null or a value contained in SupportedDrynessLevels, a CONSTRAINT_ERROR response shall be sent as the response. If an attempt is made to write this attribute while the device is not in a state that supports modifying the dryness level, an INVALID_IN_STATE error shall be sent as the response. A value of null shall indicate that there will be no dryness level setting for the current mode.`,xref:{document:"cluster",section:"8.9.5.2"}}),C({name:"DrynessLevelEnum",type:"enum8",details:`This enum provides a representation of the level of dryness that will be used while drying in a selected mode.
It is up to the device manufacturer to determine the mapping between the enum values and the corresponding temperature level.`,xref:{document:"cluster",section:"8.9.4.1"},children:[o({name:"Low",id:0,conformance:"M",description:"Provides a low dryness level for the selected mode"}),o({name:"Normal",id:1,conformance:"M",description:"Provides the normal level of dryness for the selected mode"}),o({name:"Extra",id:2,conformance:"M",description:"Provides an extra dryness level for the selected mode"}),o({name:"Max",id:3,conformance:"M",description:"Provides the max dryness level for the selected mode"})]})]});A.children.push(KT);var XT=ie({name:"OvenCavityOperationalState",id:72,type:"OperationalState",classification:"application",pics:"OVENOPSTATE",details:"This cluster provides an interface for monitoring the operational state of an oven.",xref:{document:"cluster",section:"8.10"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1})]});A.children.push(XT);var YT=ie({name:"OvenMode",id:73,type:"ModeBase",classification:"application",pics:"OTCCM",details:"This cluster is derived from the Mode Base cluster, defining additional mode tags and namespaced enumerated values for oven devices.",xref:{document:"cluster",section:"8.11"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),C({name:"ModeTag",type:"enum16",children:[o({name:"Bake",id:16384,details:"This mode sets the device into baking mode for baking food items.",xref:{document:"cluster",section:"8.11.4.1.1"}}),o({name:"Convection",id:16385,details:"This mode sets the device into convection mode which creates an airflow within the device during the cooking duration.",xref:{document:"cluster",section:"8.11.4.1.2"}}),o({name:"Grill",id:16386,details:"This mode sets the device into grill mode for grilling food items. This is the same as Broil for many regions.",xref:{document:"cluster",section:"8.11.4.1.3"}}),o({name:"Roast",id:16387,details:"This mode sets the device into roast mode for roasting food items.",xref:{document:"cluster",section:"8.11.4.1.4"}}),o({name:"Clean",id:16388,details:"This mode sets the device into cleaning mode to clean the internal components of the appliance.",xref:{document:"cluster",section:"8.11.4.1.5"}}),o({name:"ConvectionBake",id:16389,xref:{document:"cluster",section:"8.11.4.1"}}),o({name:"ConvectionRoast",id:16390,xref:{document:"cluster",section:"8.11.4.1"}}),o({name:"Warming",id:16391,details:"This mode sets the device into a warming mode which begins warming the cavity.",xref:{document:"cluster",section:"8.11.4.1.8"}}),o({name:"Proofing",id:16392,details:"This mode sets the device into proofing mode which creates an environment ready for proofing.",xref:{document:"cluster",section:"8.11.4.1.9"}}),o({name:"Steam",id:16393,xref:{document:"cluster",section:"8.11.4.1"}})]})]});A.children.push(YT);var ZT=ie({name:"MicrowaveOvenMode",id:94,type:"ModeBase",classification:"application",pics:"MWOM",details:"This cluster is derived from the Mode Base cluster, defining additional mode tags and namespaced enumerated values for Microwave Oven devices.",xref:{document:"cluster",section:"8.12"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"SupportedModes",id:0,xref:{document:"cluster",section:"8.12.4"}}),p({name:"CurrentMode",id:1,xref:{document:"cluster",section:"8.12.4"}}),p({name:"StartUpMode",id:2,conformance:"X",xref:{document:"cluster",section:"8.12.4"}}),p({name:"OnMode",id:3,conformance:"X",xref:{document:"cluster",section:"8.12.4"}}),U({name:"ChangeToMode",id:0,conformance:"X",xref:{document:"cluster",section:"8.12.5"}}),U({name:"ChangeToModeResponse",id:1,conformance:"X",xref:{document:"cluster",section:"8.12.5"}}),C({name:"ModeTag",type:"enum16",children:[o({name:"Normal",id:16384,description:"The normal mode of operation",xref:{document:"cluster",section:"8.12.6.1"}}),o({name:"Defrost",id:16385,description:"A mode optimized for defrosting foods",xref:{document:"cluster",section:"8.12.6.1"}})]})]});A.children.push(ZT);var QT=ie({name:"MicrowaveOvenControl",id:95,classification:"application",pics:"MWOCTRL",details:`This cluster defines the requirements for the Microwave Oven Control cluster.
This cluster has dependencies with the Operational State and Microwave Oven Mode clusters. The Operational State cluster and the Microwave Oven Mode clusters, or derivatives of those clusters shall appear on the same endpoint as this cluster.`,xref:{document:"cluster",section:"8.13"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"8.13.4"},children:[o({name:"PWRNUM",conformance:"O.a",constraint:"0",description:"PowerAsNumber",details:"Power is specified as a unitless number or a percentage"}),o({name:"WATTS",conformance:"P, O.a",constraint:"1",description:"PowerInWatts",details:"Power is specified in Watts"}),o({name:"PWRLMTS",conformance:"[PWRNUM]",constraint:"2",description:"PowerNumberLimits",details:"Supports the limit attributes used with the PWRNUM feature"})]}),p({name:"CookTime",id:0,type:"elapsed-s",access:"R V",conformance:"M",constraint:"1 to maxCookTime",default:30,details:`Indicates the total cook time associated with the operation of the device.
This attribute shall remain unchanged during the operation of the oven unless the value is changed via a command or out-of-band action.`,xref:{document:"cluster",section:"8.13.5.1"}}),p({name:"MaxCookTime",id:1,type:"elapsed-s",access:"R V",conformance:"M",constraint:"1 to 86400",quality:"F",details:"Indicates the maximum value to which the CookTime attribute can be set.",xref:{document:"cluster",section:"8.13.5.2"}}),p({name:"PowerSetting",id:2,type:"uint8",access:"R V",conformance:"PWRNUM",constraint:"desc",details:`Indicates the power level associated with the operation of the device.
If the MinPower, MaxPower, and PowerStep attributes are not supported, the minimum value of this attribute shall be 10, the maximum value of this attribute shall be 100, the value shall be in even multiples of 10, and the default value shall be 100.
If the MinPower, MaxPower, and PowerStep attributes are supported:
  \u2022 The value of this attribute shall be between MinPower and MaxPower inclusive.
  \u2022 The value of this attribute shall be an integer multiple of PowerStep.`,xref:{document:"cluster",section:"8.13.5.3"}}),p({name:"MinPower",id:3,type:"uint8",access:"R V",conformance:"PWRLMTS",constraint:"1 to maxPower",default:10,quality:"F",details:`Indicates the minimum power level that can be set on the server. The value of this attribute shall be less than or equal to the value of MaxPower. The value of this attribute
shall be an integer multiple of PowerStep.`,xref:{document:"cluster",section:"8.13.5.4"}}),p({name:"MaxPower",id:4,type:"uint8",access:"R V",conformance:"PWRLMTS",constraint:"minPower to 100",default:100,quality:"F",details:"Indicates the maximum power level that can be set on the server. The value of this attribute shall be greater than or equal to the value of MinPower. The value of this attribute shall be an integer multiple of PowerStep.",xref:{document:"cluster",section:"8.13.5.5"}}),p({name:"PowerStep",id:5,type:"uint8",access:"R V",conformance:"PWRLMTS",constraint:"1 to (MaxPower - MinPower)",default:10,quality:"F",details:`Indicates the increment of power that can be set on the server.
For example, if MinPower is 1, MaxPower is 10, and PowerSetting can be set to any integer between MinPower and MaxPower, PowerStep would be set to 1.`,xref:{document:"cluster",section:"8.13.5.6"}}),p({name:"SupportedWatts",id:6,type:"list",access:"R V",conformance:"P, WATTS",constraint:"1 to 10",quality:"F",details:"Indicates the list of power levels (in W) supported by the server.",xref:{document:"cluster",section:"8.13.5.7"},children:[o({name:"entry",type:"uint16"})]}),p({name:"SelectedWattIndex",id:7,type:"uint8",access:"R V",conformance:"P, WATTS",constraint:"desc",details:`Indicates the index into the list of SupportedWatts of the currently selected power setting.
The index shall be a valid index into the SupportedWatts list.`,xref:{document:"cluster",section:"8.13.5.8"}}),p({name:"WattRating",id:8,type:"uint16",access:"R V",conformance:"O",quality:"F",details:`Indicates the rating, in Watts, of the microwave power of the oven.
Supporting this attribute can assist clients in suggesting cooking settings for various foods and beverages.`,xref:{document:"cluster",section:"8.13.5.9"}}),U({name:"SetCookingParameters",id:0,access:"O",conformance:"M",direction:"request",response:"status",details:`This command is used to set the cooking parameters associated with the operation of the device.
This command supports the following fields:`,xref:{document:"cluster",section:"8.13.6.2"},children:[o({name:"CookMode",id:0,type:"uint8",conformance:"O.a+",constraint:"desc",details:`This field shall indicate the value to which the CurrentMode attribute of the Microwave Oven Mode cluster should be set. The value of this field shall be one from the list of SupportedModes from the Microwave Oven Mode cluster.
If this field is missing, the CurrentMode attribute shall be set to a mode having the Normal mode tag.`,xref:{document:"cluster",section:"8.13.6.2.1"}}),o({name:"CookTime",id:1,type:"elapsed-s",conformance:"O.a+",constraint:"1 to maxCookTime",default:30,details:`This field shall indicate the CookTime associated with the operation of the device. The value of this field shall be subject to the constraints of the CookTime attribute of this cluster.
If this field is missing, the CookTime attribute shall be set to 30 seconds by the server.`,xref:{document:"cluster",section:"8.13.6.2.2"}}),o({name:"PowerSetting",id:2,type:"uint8",conformance:"[PWRNUM].a+",constraint:"minPower to maxPower",default:"MaxPower",details:`This field shall indicate the PowerSetting associated with the operation of the device. The value of this field shall be subject to the constraints of the PowerSetting attribute of this cluster. If the PowerSetting field does not conform to the constraints of the PowerSetting attribute, the server shall return a CONSTRAINT_ERROR status.
If this field is missing, the PowerSetting attribute shall be set to 100 if MaxPower is not supported by the server, otherwise it shall be set to MaxPower if the MaxPower attribute is supported by the server.`,xref:{document:"cluster",section:"8.13.6.2.3"}}),o({name:"WattSettingIndex",id:3,type:"uint8",conformance:"[WATTS].a+",constraint:"desc",details:`This field shall indicate the value to which the SelectedWattIndex attribute is set. If the value of this field is greater than or equal to the length of the SupportedWatts attribute list, the server shall return a CONSTRAINT_ERROR status and the value of the SelectedWattIndex attribute shall be unchanged.
If this field is missing, the SelectedWattIndex attribute shall be set by the server to the index associated with the highest Watt setting for the selected CookMode.`,xref:{document:"cluster",section:"8.13.6.2.4"}}),o({name:"StartAfterSetting",id:4,type:"bool",conformance:"O",default:!1,details:"This field shall indicate whether or not oven operation shall be started when the command is received.",xref:{document:"cluster",section:"8.13.6.2.5"}})]}),U({name:"AddMoreTime",id:1,access:"O",conformance:"O",direction:"request",response:"status",details:"This command is used to add more time to the CookTime attribute of the server. This command supports these fields:",xref:{document:"cluster",section:"8.13.6.3"},children:[o({name:"TimeToAdd",id:0,type:"elapsed-s",conformance:"M",constraint:"1 to maxCookTime",details:"This field shall indicate the number of seconds to be added to the CookTime attribute.",xref:{document:"cluster",section:"8.13.6.3.1"}})]})]});A.children.push(QT);var JT=ie({name:"DeviceEnergyManagement",id:152,classification:"application",pics:"DEM",details:`This cluster allows a client to manage the power draw of a device. An example of such a client could be an Energy Management System (EMS) which controls an Energy Smart Appliance (ESA).
In most deployments the EMS will be the client, and the ESA will host the Energy Management Cluster server.
Figure 15. Example of the how an EMS is a client of multiple ESAs Energy Management clusters.
This cluster is intended to be generic in nature and could apply to any electrical load or generator (e.g. a Battery Electric Storage System - BESS, solar PV inverter, EVSE, HVAC, heat pump, hot water heater, white goods appliances etc).
It consists of the following areas which shall be supported by all devices implementing this cluster:
  \u2022 Description of ESA and its capabilities & power limits (sometimes referred to as a nameplate)
  \u2022 Current state of operation (including user opt-out, safety limitations / alarms) There are some     optional capabilities that some ESAs may be able to offer:
  \u2022 Ability to control the load or generation
  \u2022 Forecast data, including when it can be flexible (i.e. modify the power or time period)
  \u2022 The ability to have their power profile adjusted by an EMS, and to provide an updated Forecast     back to the EMS.
This allows the EMS to manage multiple home loads and where ESAs can be flexible, continuously optimizing the home energy to minimize cost, reduce CO2 impact, maximize self-consumption of solar PV and provide Demand Side Response (DSR) Grid services.
It is likely that the ESA may also use the Pricing Cluster to obtain incentive signals such as 'grid carbon intensity', 'time of use' or 'type of use' tariffs to schedule its operation to run at the cheapest and greenest times.
Figure 16. Example of the how an HVAC may use multiple clusters
NOTE
Grid Services are market dependent and will use other protocols ([OpenADR] / [IEEE2030.5]) to communicate grid events to the EMS. These are outside the scope of Matter.
NOTE
Different markets may follow different approaches, but the UK [PAS1878] and [EUCodeOfConduct] give examples of how ESAs may be mandated to support these features in the future.
NOTE Support of Device Energy Management Cluster is provisional.`,xref:{document:"cluster",section:"9.2"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:3}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"9.2.4"},children:[o({name:"PA",conformance:"O.a+",constraint:"0",description:"PowerAdjustment",details:`For Energy Smart Appliances (ESA) the definition of being 'smart' mandates that they can report their current power adjustment capability and have an EMS request a temporary adjustment. This may typically be to curtail power requirements during peak periods, but can also be used to turn on an ESA if there is excess renewable or local generation (Solar PV).
For example, a home may have solar PV which often produces more power than the home requires,
resulting in the excess power flowing into the grid. This excess power naturally fluctuates when clouds pass overhead and other loads in the home are switched on and off.
EVSE Example: An EMS may therefore be able to turn on the EVSE (if the vehicle is plugged in) and can start charging the vehicle, and periodically modify the charging power depending on PV generation and other home loads, so as to minimize import and export to the grid.`,xref:{document:"cluster",section:"9.2.4.1"}}),o({name:"PFR",conformance:"(STA | PAU | FA | CON) & !SFR, O.a+",constraint:"1",description:"PowerForecastReporting",details:`For Energy Smart Appliances (ESA) the definition of being 'smart' implies that they can report their indicative forecast power demands or generation, to a greater or lesser extent. For some ESAs this is highly predictable (in terms of both power and time), in other appliances this is more challenging and only a basic level of forecast is possible.
Forecasts are defined from a current time, using a slot format, where the slot is akin to a relatively constant operating mode.
Washing machine example: a washing machine may have stages of a washing cycle: heating, tumbling, rinse and spin stages. At each stage, the approximate minimum and maximum power consumption may be known, as well as the duration of that stage.
In some circumstances the ESA may allow the stage to be delayed or paused (subject to safety and manufacturer\u2019s discretion and user preferences).
Typically, appliances with a heating element cannot have their power consumption adjusted and can only be paused or delayed.
Some ESAs may not be flexible other than a delayed cycle start (for example, once the washing cycle has been started then they run continuously until the cycle completes).
Appliances that only support the PowerForecastReporting and not any of the adjustment features may indicate that they are not flexible in the forecast slot format.
The PowerForecastReporting and the adjustment features aim to align to the [SAREF4ENER] ontology.
Inverter driven ESAs: some inverter driven ESAs can consume or generate a variable amount of power.
For example, a single phase EVSE can be adjusted in the range of 6-32Amps in 0.6 Amp steps in EU or on a hardwired 120V supply in the range of 6-15 Amps in US.
For example, a home battery may be adjusted to charge or discharge in steps of 1W.
For example, a heat pump may be able to modulate its compressor inverter between 20-100% of its rated power.
The ESA indicates its power adjustment range and its nominal power consumption as part of its Forecast.`,xref:{document:"cluster",section:"9.2.4.2"}}),o({name:"SFR",conformance:"(STA | PAU | FA | CON) & !PFR, O.a+",constraint:"2",description:"StateForecastReporting",details:`Some ESAs do not know their actual power consumption, but do know the state of operation. Like the PowerForecastingReporting feature, this uses the same slot structure mechanism to indicate a change in state vs time.
An external observing EMS may have access to real-time meter readings, and could learn the typical power consumption based on the advertised internal state of the ESA.
To enable this capability, the ESA shall report its internal operational state using an manufacturer specific value.
Once the EMS has built a model of the state vs observed power consumption, it may request a forecast adjustment for particular times of the day, encouraging the ESA to use power at alternative times.`,xref:{document:"cluster",section:"9.2.4.3"}}),o({name:"STA",conformance:"O.a+",constraint:"3",description:"StartTimeAdjustment",details:`ESAs which support the Start Time Adjustment feature, allow an EMS to recommend a change to the start time of the energy transfer that the ESA has previously suggested it would use.
Washing machine example: A Washing Machine may have been set to start a wash cycle at 9pm when the variable tariff normally reduces.
However, the EMS is aware that a grid event has occurred, making it cheaper to run the cycle at a later time, but the washing machine is not aware of this.
The EMS first requests the Forecast data from each of its registered ESAs. It determines that the washing machine has a power profile suggesting it will start the wash cycle at 9pm, but the EMS now knows that the grid event means it will be cheaper to delay the start until 11pm.
The EMS can then optimize the cost by asking the washing machine to delay starting the wash cycle until 11pm.
It does this by sending a StartTimeAdjustRequest to the washing machine to request delaying the start of the washing cycle.`,xref:{document:"cluster",section:"9.2.4.4"}}),o({name:"PAU",conformance:"O.a+",constraint:"4",description:"Pausable",details:`ESAs which support the Pausable feature, allow an EMS to recommend a pause in the middle of a forecast power profile that the ESA is currently using.
Washing machine example: A Washing Machine is in operation, and starting its water heating step.
However, the EMS becomes aware from the smart meter that the total home load on the grid is close to exceeding its allowed total grid load.
The EMS first requests the Forecast data from each of its registered ESAs. It determines that the washing machine has a power profile suggesting its current step in the wash cycle is using power to heat the water, but that this step can be paused.
The EMS can then reduce the grid load by asking the washing machine to pause the wash cycle for a short duration.
It does this by sending a PauseRequest to the washing machine to request pausing the current step of the forecast power usage for a period to allow other home loads to finish before resuming the washing cycle.`,xref:{document:"cluster",section:"9.2.4.5"}}),o({name:"FA",conformance:"P, O.a+",constraint:"5",description:"ForecastAdjustment",details:`ESAs which support the Forecast adjustment feature, allow an EMS to recommend a change to the start, duration and/or power level limits of the steps of the power profile that the ESA has previously suggested it would use.
Heat pump and Solar PV example: A heat pump may have the ability to heat hot water as well as heating the home. The heat pump scheduling system may have determined that the home will be unoccupied during the day, or that the indoor temperature is above the set-point and so it knows that it will not need to heat the home.
However, the hot water tank is likely to need to be reheated before the homeowner comes home in the evening. The heat pump is not aware that the property also has a solar PV inverter which is also an ESA that is communicating with the EMS.
The EMS first requests the Forecast data from each of its registered ESAs. It determines that the heat pump has a power profile suggesting it needs to heat hot water around 6pm. The solar PV inverter has forecast that it will generate 3.6kW of power during the middle of the day and into the afternoon before the sun goes down.
The EMS can then optimize the home considering other non-ESA loads and can ask the heat pump to heat the hot water around 3pm when it has forecast that excess solar power will be available.
It does this by sending a ModifyForecastRequest to the heat pump and asks the heat pump to expect to run at a lower power consumption (within the solar excess power) which requires the heat pump to run for a longer duration to achieve its required energy demand.`,xref:{document:"cluster",section:"9.2.4.6"}}),o({name:"CON",conformance:"P, O.a+",constraint:"6",description:"ConstraintBasedAdjustment",details:`ESAs which support the Constraint-Based Adjustment feature allow an EMS to inform the ESA of periods during which power usage should be modified (for example when the EMS has been made aware that the grid supplier has requested reduced energy usage due to overall peak grid demand) and may cause the ESA to modify the intended power profile has previously suggested it would use.
EVSE example: An EVSE scheduling system may have determined that the vehicle would be charged starting at a moderate rate at 1am, so that it has enough charge by the time it is needed later that morning.
However, the DSR service provider has informed the EMS that due to high forecast winds it is now forecast that there will be very cheap energy available from wind generation between 2am and 3am.
The EMS first requests the Forecast data from each of its registered ESAs. It determines that the
EVSE has a power profile suggesting it plans to start charging the vehicle at 1am.
The EMS can then try to reduce the cost of charging the EV by informing the EVSE of the desire to increase the charging between scheduled times.
It does this by sending a RequestConstraintBasedForecast to the EVSE and asks it to run at a higher NominalPower consumption during the constraint period, which may require it to decrease its charge rate outside the constraint period to achieve its required energy demand.`,xref:{document:"cluster",section:"9.2.4.7"}})]}),p({name:"EsaType",id:0,type:"ESATypeEnum",access:"R V",conformance:"M",default:255,quality:"F",details:`Indicates the type of ESA.
This attribute enables an EMS to understand some of the basic properties about how the energy may be consumed, generated, and stored by the ESA.
For example, the heat energy converted by a heat pump will naturally be lost through the building to the outdoor environment relatively quickly, compared to storing heat in a well-insulated hot water tank. Similarly, battery storage and EVs can store electrical energy for much longer durations.
This attribute can also help the EMS display information to a user and to make basic assumptions about typical best use of energy. For example, an EVSE may not always have an EV plugged in, so knowing the type of ESA that is being controlled can allow advanced energy management strategies.`,xref:{document:"cluster",section:"9.2.8.1"}}),p({name:"EsaCanGenerate",id:1,type:"bool",access:"R V",conformance:"M",default:!1,quality:"F",details:`Indicates whether the ESA is classed as a generator or load. This allows an EMS to understand whether the power values reported by the ESA need to have their sign inverted when dealing with forecasts and adjustments.
For example, a solar PV inverter (being a generator) may produce positive values to indicate generation, however an EMS when predicting the total home load would need to subtract these positive values from the loads to compute a net import at the grid meter.
For example, a home battery storage system (BESS) which needs to charge the battery and then discharge to the home loads, would be classed as a generator. These types of devices shall have this field set to true. When generating its forecast or advertising its PowerAdjustmentCapability, the power values shall be positive to indicate discharging to the loads in the home, and negative to indicate when it is charging its battery.
GRID meter = \u03A3 LoadPowers - \u03A3 GeneratorPowers
Example:`,xref:{document:"cluster",section:"9.2.8.2"}}),p({name:"EsaState",id:2,type:"ESAStateEnum",access:"R V",conformance:"M",constraint:"desc",default:0,details:`Indicates the current state of the ESA.
If the ESA is in the Offline or Fault state it cannot be controlled by an EMS, and may not be able to report its Forecast information. An EMS may subscribe to the ESAState to get notified about changes in operational state.
The ESA may have a local user interface to allow a service technician to put the ESA into Offline mode, for example to avoid the EMS accidentally starting or stopping the appliance when it is being serviced or tested.`,xref:{document:"cluster",section:"9.2.8.3"}}),p({name:"AbsMinPower",id:3,type:"power-mW",access:"R V",conformance:"M",default:0,details:`Indicates the minimum electrical power that the ESA can consume when switched on. This does not include when in power save or standby modes.
Note that for Generator ESAs that can charge an internal battery (such as a battery storage inverter), the AbsMinPower will be a negative number representing the maximum power that the ESA can charge its internal battery.`,xref:{document:"cluster",section:"9.2.8.4"}}),p({name:"AbsMaxPower",id:4,type:"power-mW",access:"R V",conformance:"M",default:0,details:`Indicates the maximum electrical power that the ESA can consume when switched on.
The value of the AbsMaxPower attribute shall be limited
AbsMaxPower >= AbsMinPower
Note that for Generator ESAs that can discharge a battery to loads in the home (such as a battery storage inverter), the AbsMaxPower will be a positive number representing the maximum power at which the ESA can discharge its internal battery.
For example, a battery storage inverter that can charge its battery at a maximum power of 2000W and can discharge the battery at a maximum power of 3000W, would have a AbsMinPower: -2000, AbsMaxPower: 3000W.`,xref:{document:"cluster",section:"9.2.8.5"}}),p({name:"PowerAdjustmentCapability",id:5,type:"list",access:"R V",conformance:"PA",constraint:"max 8",default:null,quality:"X",details:`Indicates how the ESA can be adjusted at the current time. This attribute SHOULD be updated regularly by ESAs.
For example, a battery storage inverter may need to regulate its internal temperature, or the charging rate of the battery may be limited due to cold temperatures, or a change in the state of charge of the battery may mean that the maximum charging or discharging rate is limited.
An empty list shall indicate that no power adjustment is currently possible.
Multiple entries in the list allow to indicate that permutations of scenarios may be possible.
For example, a 10kWh battery could be at 80% state of charge. If charging at 2kW, then it would be full in 1 hour. However, it could be discharged at 2kW for 4 hours.
In this example the list of PowerAdjustStructs allows multiple scenarios to be offered as follows:`,xref:{document:"cluster",section:"9.2.8.6"},children:[o({name:"entry",type:"PowerAdjustStruct"})]}),p({name:"Forecast",id:6,type:"ForecastStruct",access:"R V",conformance:"PFR | SFR",default:null,quality:"X",details:`This attribute allows an ESA to share its intended forecast with a client (such as an Energy Management System).
A null value indicates that there is no forecast currently available
yet been selected by the user).
A server may reset this value attribute to null on a reboot, and it does not need to persist any previous forecasts.`,xref:{document:"cluster",section:"9.2.8.7"}}),p({name:"OptOutState",id:7,type:"OptOutStateEnum",access:"R V",conformance:"PA | STA | PAU | FA | CON",constraint:"desc",default:0,details:`Indicates the current Opt-Out state of the ESA. The ESA may have a local user interface to allow the user to control this OptOutState. An EMS may subscribe to the OptOutState to get notified about changes in operational state.
If the ESA is in the LocalOptOut or OptOut states, so it cannot be controlled by an EMS for local optimization reasons, it shall reject any commands which have the AdjustmentCauseEnum value LocalOptimization. If the ESA is in the GridOptOut or OptOut states, so it cannot be controlled by an EMS for grid optimization reasons, it shall reject any commands which have the AdjustmentCauseEnum value GridOptimization. If the ESA is in the LocalOptOut, GridOptOut, or NoOptOut states, the device is still permitted to optimize its own energy usage, for example, using tariff information it may obtain.`,xref:{document:"cluster",section:"9.2.8.8"}}),Se({name:"PowerAdjustStart",id:0,access:"V",conformance:"PA",priority:"info",details:"This event shall be generated when the Power Adjustment session is started.",xref:{document:"cluster",section:"9.2.10.1"}}),Se({name:"PowerAdjustEnd",id:1,access:"V",conformance:"PA",priority:"info",details:"This event shall be generated when the Power Adjustment session ends.",xref:{document:"cluster",section:"9.2.10.2"},children:[o({name:"Cause",id:0,type:"CauseEnum",conformance:"M",default:0,details:"This field shall indicate the reason why the power adjustment session ended.",xref:{document:"cluster",section:"9.2.10.2.1"}}),o({name:"Duration",id:1,type:"elapsed-s",conformance:"M",details:"This field shall indicate the number of seconds that the power adjustment session lasted before ending.",xref:{document:"cluster",section:"9.2.10.2.2"}}),o({name:"EnergyUse",id:2,type:"energy-mWh",conformance:"M",details:`This field shall indicate the approximate energy used by the ESA during the session.
For example, if the ESA was on and was adjusted to be switched off, then this shall be 0W. If this was a battery inverter that was requested to charge it would have a negative energy use. If this was a normal load that was turned on, then it will have positive value.`,xref:{document:"cluster",section:"9.2.10.2.3"}})]}),Se({name:"Paused",id:2,access:"V",conformance:"PAU",priority:"info",details:"This event shall be generated when the ESA enters the Paused state. There is no data for this event.",xref:{document:"cluster",section:"9.2.10.3"}}),Se({name:"Resumed",id:3,access:"V",conformance:"PAU",priority:"info",details:"This event shall be generated when the ESA leaves the Paused state and resumes operation.",xref:{document:"cluster",section:"9.2.10.4"},children:[o({name:"Cause",id:0,type:"CauseEnum",conformance:"M",default:0,details:"This field shall indicate the reason why the pause ended.",xref:{document:"cluster",section:"9.2.10.4.1"}})]}),U({name:"PowerAdjustRequest",id:0,access:"O",conformance:"PA",direction:"request",response:"status",details:"Allows a client to request an adjustment in the power consumption of an ESA for a specified duration.",xref:{document:"cluster",section:"9.2.9.1"},children:[o({name:"Power",id:0,type:"power-mW",conformance:"M",constraint:"desc",details:`This field shall indicate the power that the ESA shall use during the adjustment period.
This value shall be between the MinPower and MaxPower fields of the PowerAdjustStruct in the PowerAdjustmentCapability attribute.`,xref:{document:"cluster",section:"9.2.9.1.1"}}),o({name:"Duration",id:1,type:"elapsed-s",conformance:"M",constraint:"desc",details:`This field shall indicate the duration that the ESA shall maintain the requested power for.
This value shall be between the MinDuration and MaxDuration fields of the PowerAdjustStruct in the PowerAdjustmentCapability attribute.`,xref:{document:"cluster",section:"9.2.9.1.2"}}),o({name:"Cause",id:2,type:"AdjustmentCauseEnum",conformance:"M",constraint:"desc",details:"This field shall indicate the cause of the request from the EMS.",xref:{document:"cluster",section:"9.2.9.1.3"}})]}),U({name:"CancelPowerAdjustRequest",id:1,access:"O",conformance:"PA",direction:"request",response:"status",details:"Allows a client to cancel an ongoing PowerAdjustmentRequest operation.",xref:{document:"cluster",section:"9.2.9.2"}}),U({name:"StartTimeAdjustRequest",id:2,access:"O",conformance:"STA",direction:"request",response:"status",details:"Allows a client to adjust the start time of a Forecast sequence that has not yet started operation (i.e. where the current Forecast StartTime is in the future).",xref:{document:"cluster",section:"9.2.9.3"},children:[o({name:"RequestedStartTime",id:0,type:"epoch-s",conformance:"M",constraint:"desc",details:`This field shall indicate the requested start time, in UTC, that the client would like the appliance to shift its Forecast to. This value MUST be in the future.
A client can estimate the entire Forecast sequence duration by computing the EndTime - StartTime fields from the Forecast attribute, and therefore avoid scheduling the start time too late.
This value shall be after the EarliestStartTime in the Forecast attribute. The new EndTime, that can be computed from the RequestedStartTime and the Forecast sequence duration, shall be before the LatestEndTime.`,xref:{document:"cluster",section:"9.2.9.3.1"}}),o({name:"Cause",id:1,type:"AdjustmentCauseEnum",conformance:"M",constraint:"desc",details:"This field shall indicate the cause of the request from the EMS.",xref:{document:"cluster",section:"9.2.9.3.2"}})]}),U({name:"PauseRequest",id:3,access:"O",conformance:"PAU",direction:"request",response:"status",details:"Allows a client to temporarily pause an operation and reduce the ESAs energy demand.",xref:{document:"cluster",section:"9.2.9.4"},children:[o({name:"Duration",id:0,type:"elapsed-s",conformance:"M",constraint:"desc",details:"This field shall indicate the duration that the ESA shall be paused for. This value shall be between the MinPauseDuration and MaxPauseDuration indicated in the ActiveSlotNumber index in the Slots list in the Forecast.",xref:{document:"cluster",section:"9.2.9.4.1"}}),o({name:"Cause",id:1,type:"AdjustmentCauseEnum",conformance:"M",constraint:"desc",details:"This field shall indicate the cause of the request from the EMS.",xref:{document:"cluster",section:"9.2.9.4.2"}})]}),U({name:"ResumeRequest",id:4,access:"O",conformance:"PAU",direction:"request",response:"status",details:"Allows a client to cancel the PauseRequest command and enable earlier resumption of operation.",xref:{document:"cluster",section:"9.2.9.5"}}),U({name:"ModifyForecastRequest",id:5,access:"O",conformance:"FA",direction:"request",response:"status",details:"Allows a client to modify a Forecast within the limits allowed by the ESA.",xref:{document:"cluster",section:"9.2.9.6"},children:[o({name:"ForecastId",id:0,type:"uint32",conformance:"M",details:"This field shall indicate the ForecastId that is to be modified.",xref:{document:"cluster",section:"9.2.9.6.1"}}),o({name:"SlotAdjustments",id:1,type:"list",conformance:"M",constraint:"max 10",details:"This field shall contain a list of SlotAdjustment parameters that should be modified in the corresponding Forecast with matching ForecastId.",xref:{document:"cluster",section:"9.2.9.6.2"},children:[o({name:"entry",type:"SlotAdjustmentStruct"})]}),o({name:"Cause",id:2,type:"AdjustmentCauseEnum",conformance:"M",constraint:"desc",details:"This field shall indicate the cause of the request from the EMS.",xref:{document:"cluster",section:"9.2.9.6.3"}})]}),U({name:"RequestConstraintBasedForecast",id:6,access:"O",conformance:"CON",direction:"request",response:"status",details:"Allows a client to ask the ESA to recompute its Forecast based on power and time constraints.",xref:{document:"cluster",section:"9.2.9.7"},children:[o({name:"Constraints",id:0,type:"list",conformance:"M",constraint:"max 10",details:`This field shall indicate the series of turn up or turn down power requests that the ESA is being asked to constrain its operation within.
For example, a grid event which requires devices to reduce power (turn down) between 4pm and 6pm and due to excess power on the grid overnight, may request ESAs to increase their power demand (turn up) between midnight and 6am.
If this ESA supports PFR this would have 2 entries in the list as follows:
If this ESA supports SFR where it does not know the actual power, but has an understanding of the functions that use more energy, it could be requested to use more or less energy using the LoadControl field as follows:`,xref:{document:"cluster",section:"9.2.9.7.1"},children:[o({name:"entry",type:"ConstraintsStruct"})]}),o({name:"Cause",id:1,type:"AdjustmentCauseEnum",conformance:"M",constraint:"desc",details:"This field shall indicate the cause of the request from the EMS.",xref:{document:"cluster",section:"9.2.9.7.2"}})]}),U({name:"CancelRequest",id:7,access:"O",conformance:"STA | FA | CON",direction:"request",response:"status",details:"Allows a client to request cancellation of a previous adjustment request in a StartTimeAdjustRequest, ModifyForecastRequest or RequestConstraintBasedForecast command.",xref:{document:"cluster",section:"9.2.9.8"}}),C({name:"CostTypeEnum",type:"enum8",xref:{document:"cluster",section:"9.2.7.1"},children:[o({name:"Financial",id:0,conformance:"M",description:"Financial cost",details:"This value shall indicate that the cost is related to the financial cost to provide the energy.",xref:{document:"cluster",section:"9.2.7.1.1"}}),o({name:"GhgEmissions",id:1,conformance:"M",description:"Grid CO2e grams cost",details:"This value shall indicate that the cost is related to greenhouse gas emissions (in grams of CO2e).",xref:{document:"cluster",section:"9.2.7.1.2"}}),o({name:"Comfort",id:2,conformance:"M",description:"Consumer comfort impact cost",details:"This value shall indicate that the cost is related to some abstract sense of comfort expressed by the consumer; a higher value indicates more discomfort. For example, a consumer may be more comfortable knowing that their EV is charged earlier in the day in case there is a sudden need to depart and drive to the hospital. Or the consumer may feel inconvenienced by the fact that they need to wait for the washing machine to finish its load so that they can use it again.",xref:{document:"cluster",section:"9.2.7.1.3"}}),o({name:"Temperature",id:3,conformance:"M",description:"Temperature impact cost",details:`This value shall indicate that the cost is related to the temperature of the home or water being at its setpoint. Some consumers may be more sensitive to being too hot or too cold.
This is expressed in degrees Celsius.`,xref:{document:"cluster",section:"9.2.7.1.4"}})]}),C({name:"ESATypeEnum",type:"enum8",xref:{document:"cluster",section:"9.2.7.2"},children:[o({name:"Evse",id:0,conformance:"O",description:"EV Supply Equipment"}),o({name:"SpaceHeating",id:1,conformance:"O",description:"Space heating appliance"}),o({name:"WaterHeating",id:2,conformance:"O",description:"Water heating appliance"}),o({name:"SpaceCooling",id:3,conformance:"O",description:"Space cooling appliance"}),o({name:"SpaceHeatingCooling",id:4,conformance:"O",description:"Space heating and cooling appliance"}),o({name:"BatteryStorage",id:5,conformance:"O",description:"Battery Electric Storage System"}),o({name:"SolarPv",id:6,conformance:"O",description:"Solar PV inverter"}),o({name:"FridgeFreezer",id:7,conformance:"O",description:"Fridge / Freezer"}),o({name:"WashingMachine",id:8,conformance:"O",description:"Washing Machine"}),o({name:"Dishwasher",id:9,conformance:"O",description:"Dishwasher"}),o({name:"Cooking",id:10,conformance:"O",description:"Cooking appliance"}),o({name:"HomeWaterPump",id:11,conformance:"O",description:"Home water pump (e.g. drinking well)"}),o({name:"IrrigationWaterPump",id:12,conformance:"O",description:"Irrigation water pump"}),o({name:"PoolPump",id:13,conformance:"O",description:"Pool pump"}),o({name:"Other",id:255,conformance:"O",description:"Other appliance type"})]}),C({name:"ESAStateEnum",type:"enum8",xref:{document:"cluster",section:"9.2.7.3"},children:[o({name:"Offline",id:0,conformance:"M",description:"The ESA is not available to the EMS (e.g. start- up, maintenance mode)"}),o({name:"Online",id:1,conformance:"M",description:"The ESA is working normally and can be controlled by the EMS"}),o({name:"Fault",id:2,conformance:"M",description:"The ESA has developed a fault and cannot provide service"}),o({name:"PowerAdjustActive",id:3,conformance:"PA",description:"The ESA is in the middle of a power adjustment event"}),o({name:"Paused",id:4,conformance:"[FA]",description:"The ESA is currently paused by a client using the PauseRequest command"})]}),C({name:"OptOutStateEnum",type:"enum8",xref:{document:"cluster",section:"9.2.7.4"},children:[o({name:"NoOptOut",id:0,conformance:"M",description:"The user has not opted out of either local or grid optimizations"}),o({name:"LocalOptOut",id:1,conformance:"M",description:"The user has opted out of local EMS optimizations only"}),o({name:"GridOptOut",id:2,conformance:"M",description:"The user has opted out of grid EMS optimizations only"}),o({name:"OptOut",id:3,conformance:"M",description:"The user has opted out of all external optimizations"})]}),C({name:"CauseEnum",type:"enum8",xref:{document:"cluster",section:"9.2.7.5"},children:[o({name:"NormalCompletion",id:0,conformance:"O",description:"The ESA completed the power adjustment as requested"}),o({name:"Offline",id:1,conformance:"O",description:"The ESA was set to offline"}),o({name:"Fault",id:2,conformance:"O",description:"The ESA has developed a fault could not complete the adjustment"}),o({name:"UserOptOut",id:3,conformance:"O",description:"The user has disabled the ESA\u2019s flexibility capability"}),o({name:"Cancelled",id:4,conformance:"O",description:"The adjustment was cancelled by a client"})]}),C({name:"AdjustmentCauseEnum",type:"enum8",xref:{document:"cluster",section:"9.2.7.6"},children:[o({name:"LocalOptimization",id:0,conformance:"O",description:"The adjustment is to optimize the local energy usage"}),o({name:"GridOptimization",id:1,conformance:"O",description:"The adjustment is to optimize the grid energy usage"})]}),C({name:"ForecastUpdateReasonEnum",type:"enum8",xref:{document:"cluster",section:"9.2.7.7"},children:[o({name:"InternalOptimization",id:0,conformance:"O",description:"The update was due to internal ESA device optimization"}),o({name:"LocalOptimization",id:1,conformance:"O",description:"The update was due to local EMS optimization"}),o({name:"GridOptimization",id:2,conformance:"O",description:"The update was due to grid optimization"})]}),C({name:"CostStruct",type:"struct",details:"This indicates a generic mechanism for expressing cost to run an appliance, in terms of financial, GHG emissions, comfort value etc.",xref:{document:"cluster",section:"9.2.7.8"},children:[o({name:"CostType",id:0,type:"CostTypeEnum",conformance:"M",default:0,details:"This field shall indicate the type of cost being represented (see CostTypeEnum).",xref:{document:"cluster",section:"9.2.7.8.1"}}),o({name:"Value",id:1,type:"int32",conformance:"M",default:0,details:`This field shall indicate the value of the cost. This may be negative (indicating that it is not a cost, but a free benefit).
For example, if the Value was -302 and DecimalPoints was 2, then this would represent a benefit of 3.02.`,xref:{document:"cluster",section:"9.2.7.8.2"}}),o({name:"DecimalPoints",id:2,type:"uint8",conformance:"M",default:0,details:"This field shall indicate the number of digits to the right of the decimal point in the Value field. For example, if the Value was 102 and DecimalPoints was 2, then this would represent a cost of 1.02.",xref:{document:"cluster",section:"9.2.7.8.3"}}),o({name:"Currency",id:3,type:"uint16",conformance:"O",constraint:"max 999",default:0,details:`Indicates the currency for the value in the Value field. The value of the currency field shall match the values defined by [ISO 4217].
This is an optional field. It shall be included if CostType is Financial.`,xref:{document:"cluster",section:"9.2.7.8.4"}})]}),C({name:"PowerAdjustStruct",type:"struct",xref:{document:"cluster",section:"9.2.7.9"},children:[o({name:"MinPower",id:0,type:"power-mW",conformance:"M",default:0,details:`This field shall indicate the minimum power that the ESA can have its power adjusted to.
Note that this is a signed value. Negative values indicate power flows away from loads (e.g. charging a battery inverter).
MinPower shall be less than MaxPower.`,xref:{document:"cluster",section:"9.2.7.9.1"}}),o({name:"MaxPower",id:1,type:"power-mW",conformance:"M",default:0,details:`This field shall indicate the maximum power that the ESA can have its power adjusted to.
Note that this is a signed value. Negative values indicate power flows away from loads (e.g. charging a battery inverter).
MinPower shall be less than MaxPower.
For example, if the charging current of an EVSE can be adjusted within the range of 6A to 32A on a 230V supply, then the power adjustment range is between 1380W and 7360W. Here the MinPower would be 1380W, and MaxPower would be 7360W.
For example, if a battery storage inverter can discharge between 0 to 3000W towards a load, then its MinPower would be 0W and its MaxPower would be 3000W.
In another example, if a battery storage inverter can charge its internal battery, between 0W and 2000W. Here power is flowing away from the home loads, so the power values need to be negative. As such the MinPower becomes -2000W and MaxPower becomes 0W.`,xref:{document:"cluster",section:"9.2.7.9.2"}}),o({name:"MinDuration",id:2,type:"elapsed-s",conformance:"M",default:0,details:`This field shall indicate the minimum duration, in seconds, that a controller may invoke an ESA power adjustment. Manufacturers may use this to as an anti-cycling capability to avoid controllers from rapidly making power adjustments.
Note that MinDuration shall be less than MaxDuration.`,xref:{document:"cluster",section:"9.2.7.9.3"}}),o({name:"MaxDuration",id:3,type:"elapsed-s",conformance:"M",details:`This field shall indicate the maximum duration, in seconds, that a controller may invoke an ESA power adjustment. Manufacturers may use this to protect the user experience, to avoid over heating of the ESA, ensuring that there is sufficient headroom to use or store energy in the ESA or for any other reason.
Note that MinDuration shall be less than MaxDuration.`,xref:{document:"cluster",section:"9.2.7.9.4"}})]}),C({name:"ForecastStruct",type:"struct",details:`This indicates a list of 'slots' describing the overall timing of the ESA\u2019s planned energy and power use, with different power and energy demands per slot. For example, slots might be used to describe the distinct stages of a washing machine cycle.
Where an ESA does not know the actual power and energy use of the system, it may support the SFR
feature and instead report its internal state.`,xref:{document:"cluster",section:"9.2.7.10"},children:[o({name:"ForecastId",id:0,type:"uint16",conformance:"M",default:0,details:`This field shall indicate the sequence number for the current forecast. If the ESA updates a forecast, it shall monotonically increase this value.
The ESA does not need to persist this value across reboots, since the EMS SHOULD be able to detect that any previous subscriptions are lost if a device reboots. The loss of a subscription and subsequent re-subscription allows the EMS to learn about any new forecasts.
The value of ForecastId is allowed to wrap.`,xref:{document:"cluster",section:"9.2.7.10.1"}}),o({name:"ActiveSlotNumber",id:1,type:"uint16",conformance:"M",default:0,quality:"X",details:"This field shall indicate which element of the Slots list is currently active in the Forecast sequence. A null value indicates that the sequence has not yet started.",xref:{document:"cluster",section:"9.2.7.10.2"}}),o({name:"StartTime",id:2,type:"epoch-s",conformance:"M",details:"This field shall indicate the planned start time, in UTC, for the entire Forecast.",xref:{document:"cluster",section:"9.2.7.10.3"}}),o({name:"EndTime",id:3,type:"epoch-s",conformance:"M",details:"This field shall indicate the planned end time, in UTC, for the entire Forecast.",xref:{document:"cluster",section:"9.2.7.10.4"}}),o({name:"EarliestStartTime",id:4,type:"epoch-s",conformance:"STA",quality:"X",details:`This field shall indicate the earliest start time, in UTC, that the entire Forecast can be shifted to.
A null value indicates that it can be started immediately.`,xref:{document:"cluster",section:"9.2.7.10.5"}}),o({name:"LatestEndTime",id:5,type:"epoch-s",conformance:"STA",details:`This field shall indicate the latest end time, in UTC, for the entire Forecast.
e.g. for an EVSE charging session, this may indicate the departure time for the vehicle, by which time the charging session must end.`,xref:{document:"cluster",section:"9.2.7.10.6"}}),o({name:"IsPauseable",id:6,type:"bool",conformance:"M",details:"This field shall indicate that some part of the Forecast can be paused. It aims to allow a client to read this flag and if it is false, then none of the slots contain SlotIsPausable set to true. This can save a client from having to check each slot in the list.",xref:{document:"cluster",section:"9.2.7.10.7"}}),o({name:"Slots",id:7,type:"list",conformance:"M",constraint:"max 10",details:`This field shall contain a list of SlotStructs.
It shall contain at least 1 entry, and a maximum of 10.`,xref:{document:"cluster",section:"9.2.7.10.8"},children:[o({name:"entry",type:"SlotStruct"})]}),o({name:"ForecastUpdateReason",id:8,type:"ForecastUpdateReasonEnum",conformance:"M",details:"This field shall contain the reason the current Forecast was generated.",xref:{document:"cluster",section:"9.2.7.10.9"}})]}),C({name:"SlotStruct",type:"struct",details:"This indicates a specific stage of an ESA\u2019s operation.",xref:{document:"cluster",section:"9.2.7.11"},children:[o({name:"MinDuration",id:0,type:"elapsed-s",conformance:"M",details:"This field shall indicate the minimum time (in seconds) that the appliance expects to be in this slot for.",xref:{document:"cluster",section:"9.2.7.11.1"}}),o({name:"MaxDuration",id:1,type:"elapsed-s",conformance:"M",details:"This field shall indicate the maximum time (in seconds) that the appliance expects to be in this slot for.",xref:{document:"cluster",section:"9.2.7.11.2"}}),o({name:"DefaultDuration",id:2,type:"elapsed-s",conformance:"M",details:"This field shall indicate the expected time (in seconds) that the appliance expects to be in this slot for.",xref:{document:"cluster",section:"9.2.7.11.3"}}),o({name:"ElapsedSlotTime",id:3,type:"elapsed-s",conformance:"M",details:`This field shall indicate the time (in seconds) that has already elapsed whilst in this slot. If the slot has not yet been started, then it shall be 0. Once the slot has been completed, then this reflects how much time was spent in this slot.
When subscribed to, a change in this field value shall NOT cause the Forecast attribute to be updated since this value may change every 1 second.
When the Forecast attribute is read, then this value shall be the most recent value.`,xref:{document:"cluster",section:"9.2.7.11.4"}}),o({name:"RemainingSlotTime",id:4,type:"elapsed-s",conformance:"M",details:`This field shall indicate the time (in seconds) that is estimated to be remaining.
Note that it may not align to the DefaultDuration - ElapsedSlotTime since an appliance may have revised its planned operation based on conditions.
When subscribed to, a change in this field value shall NOT cause the Forecast attribute to be updated, since this value may change every 1 second.
Note that if the ESA is currently paused, then this value shall not change.
When the Forecast attribute is read, then this value shall be the most recent value.`,xref:{document:"cluster",section:"9.2.7.11.5"}}),o({name:"SlotIsPauseable",id:5,type:"bool",conformance:"PAU"}),o({name:"MinPauseDuration",id:6,type:"elapsed-s",conformance:"PAU",details:"This field shall indicate the shortest period that the slot can be paused for. This can be set to avoid controllers trying to pause ESAs for short periods and then resuming operation in a cyclic fashion which may damage or cause excess energy to be consumed with restarting of an operation.",xref:{document:"cluster",section:"9.2.7.11.7"}}),o({name:"MaxPauseDuration",id:7,type:"elapsed-s",conformance:"PAU",details:"This field shall indicate the longest period that the slot can be paused for.",xref:{document:"cluster",section:"9.2.7.11.8"}}),o({name:"ManufacturerEsaState",id:8,type:"uint16",conformance:"SFR",details:`This field shall indicate a manufacturer defined value indicating the state of the ESA.
This may be used by an observing EMS which also has access to the metering data to ascertain the typical power drawn when the ESA is in a manufacturer defined state.
Some appliances, such as smart thermostats, may not know how much power is being drawn by the HVAC system, but do know what they have asked the HVAC system to do.
Manufacturers can use this value to indicate a variety of states in an unspecified way. For example, they may choose to use values between 0-100 as a percentage of compressor modulation, or could use these values as Enum states meaning heating with fan, heating without fan etc.
NOTE An ESA shall always use the same value to represent the same operating state.
By providing this information a smart EMS may be able to learn the observed power draw when the ESA is put into a specific state. It can potentially then use the information in the PowerForecastReporting data to predict the power draw from the appliance and potentially ask it to modify its timing via one of the adjustment request commands, or adjust other ESAs power to compensate.`,xref:{document:"cluster",section:"9.2.7.11.9"}}),o({name:"NominalPower",id:9,type:"power-mW",conformance:"PFR",details:"This field shall indicate the expected power that the appliance will use during this slot. It may be considered the average value over the slot, and some variation from this would be expected (for example, as it is ramping up).",xref:{document:"cluster",section:"9.2.7.11.10"}}),o({name:"MinPower",id:10,type:"power-mW",conformance:"PFR",details:`This field shall indicate the lowest power that the appliance expects to use during this slot. (e.g. during a ramp up it may be 0W).
Some appliances (e.g. battery inverters which can charge and discharge) may have a negative power.`,xref:{document:"cluster",section:"9.2.7.11.11"}}),o({name:"MaxPower",id:11,type:"power-mW",conformance:"PFR",details:`This field shall indicate the maximum power that the appliance expects to use during this slot. (e.g. during a ramp up it may be 0W). This field ignores the effects of short-lived inrush currents.
Some appliances (e.g. battery inverters which can charge and discharge) may have a negative power.`,xref:{document:"cluster",section:"9.2.7.11.12"}}),o({name:"NominalEnergy",id:12,type:"energy-mWh",conformance:"PFR",details:`This field shall indicate the expected energy that the appliance expects to use or produce during this slot.
Some appliances (e.g. battery inverters which can charge and discharge) may have a negative energy.`,xref:{document:"cluster",section:"9.2.7.11.13"}}),o({name:"Costs",id:13,type:"list",conformance:"O",constraint:"max 5",details:`This field shall indicate the current estimated cost for operating.
For example, if the device has access to an Energy pricing server it may be able to use the tariff to estimate the cost of energy for this slot in the power forecast.
When an Energy Management System requests a change in the schedule, then the device may suggest a change in the cost as a result of shifting its energy. This can allow a demand side response service to be informed of the relative cost to use energy at a different time.
The Costs field is a list of CostStruct structures which allows multiple CostTypeEnum and Values to be shared by the energy appliance. These could be based on GHG emissions, comfort value for the consumer etc.
For example, comfort could be expressed in abstract units or in currency. A water heater that is heated earlier in the day is likely to lose some of its heat before it is needed, which could require a top-up heating event to occur later in the day (which may incur additional cost).
If the ESA cannot calculate its cost for any reason (such as losing its connection to a Price server) it may omit this field. This is treated as extra meta data that an EMS may use to optimize a system.`,xref:{document:"cluster",section:"9.2.7.11.14"},children:[o({name:"entry",type:"CostStruct"})]}),o({name:"MinPowerAdjustment",id:14,type:"power-mW",conformance:"FA & PFR",details:`This field shall indicate the minimum power that the appliance can be requested to use.
For example, some EVSEs cannot be switched on to charge below 6A which may equate to ~1.3kW in EU markets. If the slot indicates a NominalPower of 0W (indicating it is expecting to be off), this allows an ESA to indicate it could be switched on to charge, but this would be the minimum power limit it can be set to.`,xref:{document:"cluster",section:"9.2.7.11.15"}}),o({name:"MaxPowerAdjustment",id:15,type:"power-mW",conformance:"FA & PFR",details:`This field shall indicate the maximum power that the appliance can be requested to use.
For example, an EVSE may be limited by its electrical supply to 32A which would be ~7.6kW in EU markets. If the slot indicates a NominalPower of 0W (indicating it is expecting to be off), this allows an ESA to indicate it could be switched on to charge, but this would be the maximum power limit it can be set to.`,xref:{document:"cluster",section:"9.2.7.11.16"}}),o({name:"MinDurationAdjustment",id:16,type:"elapsed-s",conformance:"FA & (PFR | SFR)",details:`This field shall indicate the minimum time, in seconds, that the slot can be requested to shortened to.
For example, if the slot indicates a NominalPower of 0W (indicating it is expecting to be off), this would allow an ESA to specify the minimum time it could be switched on for. This is to help protect the appliance from being damaged by short cycling times.
For example, a heat pump compressor may have a minimum cycle time of order a few minutes.`,xref:{document:"cluster",section:"9.2.7.11.17"}}),o({name:"MaxDurationAdjustment",id:17,type:"elapsed-s",conformance:"FA & (PFR | SFR)",details:`This field shall indicate the maximum time, in seconds, that the slot can be requested to extended to.
For example, if the slot indicates a NominalPower of 0W (indicating it is expecting to be off), this allows an ESA to specify the maximum time it could be switched on for. This may allow a battery or water heater to indicate the maximum duration that it can charge for before becoming full. In the case of a battery inverter which can be discharged, it may equally indicate the maximum time the battery could be discharged for (at the MaxPowerAdjustment power level).`,xref:{document:"cluster",section:"9.2.7.11.18"}})]}),C({name:"SlotAdjustmentStruct",type:"struct",xref:{document:"cluster",section:"9.2.7.12"},children:[o({name:"SlotIndex",id:0,type:"uint8",conformance:"M",constraint:"desc",details:"This field shall indicate the index into the Slots list within the Forecast that is to be modified. It shall be less than the actual length of the Slots list (implicitly it must be in the range 0 to 9 based on the maximum length of the Slots list constraint).",xref:{document:"cluster",section:"9.2.7.12.1"}}),o({name:"NominalPower",id:1,type:"power-mW",conformance:"M",constraint:"desc",details:"This field shall indicate the new requested power that the ESA shall operate at. It MUST be between the MinPowerAdjustment and MaxPowerAdjustment for the slot as advertised by the ESA.",xref:{document:"cluster",section:"9.2.7.12.2"}}),o({name:"Duration",id:2,type:"elapsed-s",conformance:"M",constraint:"desc",details:"This field shall indicate the new requested duration, in seconds, that the ESA shall extend or shorten the slot duration to. It MUST be between the MinDurationAdjustment and MaxDurationAdjustment for the slot as advertised by the ESA.",xref:{document:"cluster",section:"9.2.7.12.3"}})]}),C({name:"ConstraintsStruct",type:"struct",details:"The ConstraintsStruct allows a client to inform an ESA about a constraint period (such as a grid event, or perhaps excess solar PV). The format allows the client to suggest that the ESA can either turn up its energy consumption, or turn down its energy consumption during this period.",xref:{document:"cluster",section:"9.2.7.13"},children:[o({name:"StartTime",id:0,type:"epoch-s",conformance:"M",constraint:"desc",details:`This field shall indicate the start time of the constraint period that the client wishes the ESA to compute a new Forecast.
This value is in UTC and MUST be in the future.`,xref:{document:"cluster",section:"9.2.7.13.1"}}),o({name:"Duration",id:1,type:"elapsed-s",conformance:"M",constraint:"0 to 86400",details:"This field shall indicate the duration of the constraint in seconds.",xref:{document:"cluster",section:"9.2.7.13.2"}}),o({name:"NominalPower",id:2,type:"power-mW",conformance:"PFR",constraint:"desc",details:`This field shall indicate the nominal power that client wishes the ESA to operate at during the constrained period. It MUST be between the AbsMinPower and AbsMaxPower attributes as advertised by the ESA if it supports PFR.
This is a signed value and can be used to indicate charging or discharging. If the ESA does NOT support PFR this value shall be ignored by the ESA.`,xref:{document:"cluster",section:"9.2.7.13.3"}}),o({name:"MaximumEnergy",id:3,type:"energy-mWh",conformance:"PFR",details:`This field shall indicate the maximum energy that can be transferred to or from the ESA during the constraint period.
This is a signed value and can be used to indicate charging or discharging. If the ESA does NOT support PFR this value may be ignored by the ESA.`,xref:{document:"cluster",section:"9.2.7.13.4"}}),o({name:"LoadControl",id:4,type:"int8",conformance:"SFR",details:`This field shall indicate the turn up or turn down nature that the grid wants as the outcome by the ESA during the constraint period.
This is expressed as a signed value between -100 to +100. A value of 0 would indicate no bias to using more or less energy. A negative value indicates a request to use less energy. A positive value indicates a request to use more energy.
Note that the mapping between values and operation is manufacturer specific.`,xref:{document:"cluster",section:"9.2.7.13.5"}})]})]});A.children.push(JT);var eC=ie({name:"EnergyEvse",id:153,classification:"application",pics:"EEVSE",details:`Electric Vehicle Supply Equipment (EVSE) is equipment used to charge an Electric Vehicle (EV) or Plug-In Hybrid Electric Vehicle. This cluster provides an interface to the functionality of Electric Vehicle Supply Equipment (EVSE) management.
Devices targeted by this cluster include Electric Vehicle Supply Equipment (EVSE). The cluster generically assumes a signaling protocol (J1772 in NA and IEC61851 in Europe and Asia) between the EVSE and Electric Vehicle (EV) that utilizes a pilot signal to manage the states of the charging process. [SAE J2847/3_202311] version and IEC61841 define Pilot signal as a modulated DC voltage on a single wire.
Power Line Communication (PLC) is supported by some EVSEs (e.g. for support of ISO 15118 in Europe and SAE J2931/4 in NA) and may enable features such as Vehicle to Grid (V2G) or Vehicle to Home (V2H) that allows for bi-directional charging/discharging of electric vehicles.
More modern EVSE devices may optionally support ISO 15118-20 in Europe and SAE J2836/3 for NA to support bi-directional charging (Vehicle to Grid - V2G) and Plug and Charge capabilities.
This cluster definition assumes AC charging only. DC charging options may be added in future revisions of this cluster.
This cluster supports a safety mechanism that may lockout remote operation until the initial latching conditions have been met. Some of the fault conditions defined in SAE J1772, such as Ground- Fault Circuit Interrupter (GFCI) or Charging Circuit Interrupting Device (CCID), may require clearing by an operator by, for example, pressing a button on the equipment or breaker panel.
This EVSE cluster is written around support of a single EVSE. Having multiple EVSEs at home or a business is managed by backend system and outside scope of this cluster.
Note that in many deployments the EVSE may be outside the home and may suffer from intermittent network connections (e.g. a weak WiFi signal). It also allows for a charging profile to be pre- configured, in case there is a temporary communications loss during a charging session.`,xref:{document:"cluster",section:"9.3"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:2}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"9.3.4"},children:[o({name:"PREF",conformance:"P",constraint:"0",description:"ChargingPreferences",details:`Since some EVSEs cannot obtain the SoC from the vehicle, some EV charging solutions allow the consumer to specify a daily charging target (for adding energy to the EV\u2019s battery). This feature allows the consumer to specify how many miles or km of additional range they need for their typical daily commute. This range requirement can be converted into a daily energy demand with a target charging completion time.
The EVSE itself may use this information (or may allow a controller such as an EMS) to compute an
optimized charging schedule.
An EVSE device may implement the Device Energy Management cluster PFR (Power Forecast Reporting) and FA (Forecast Adjustment) features. This can help a controller (such as an EMS) to optimize the EVSE against other ESAs. For example, a solar PV ESA may share its Forecast and allow the EVSE to know the best time to charge so that any excess solar generation is used to charge the EV.
EVSE devices that support the Device Energy Management cluster\u2019s FA feature can have their charging profiles set by a controller device such as an EMS. For example, if the EVSE advertises a simple power forecast which allows the EMS to adjust over a wide range of power and time durations, then the EVSE may allow the EMS to propose a revised optimized forecast (which is the charging profile).
See the Device Energy Management Cluster for more details.`,xref:{document:"cluster",section:"9.3.4.1"}}),o({name:"SOC",conformance:"P",constraint:"1",description:"SoCReporting",details:`Vehicles and EVSEs which support ISO 15118 may allow the vehicle to report its battery size and state of charge. If the EVSE supports PLC it may have a vehicle connected which optionally supports reporting of its battery size and current State of Charge (SoC).
If the EVSE supports reporting of State of Charge this feature will only work if a compatible EV is connected.
Note some EVSEs may use other undefined mechanisms to obtain vehicle State of Charge outside the scope of this cluster.`,xref:{document:"cluster",section:"9.3.4.2"}}),o({name:"PNC",conformance:"P",constraint:"2",description:"PlugAndCharge",details:`If the EVSE supports PLC, it may be able to support the Plug and Charge feature. e.g. this may allow the vehicle ID to be obtained which may allow an energy management system to track energy usage per vehicle (e.g. to give the owner an indicative cost of charging, or for work place charging).
If the EVSE supports the Plug and Charge feature, it will only work if a compatible EV is connected.`,xref:{document:"cluster",section:"9.3.4.3"}}),o({name:"RFID",conformance:"O",constraint:"3",description:"Rfid",details:`If the EVSE is fitted with an RFID reader, it may be possible to obtain the User or Vehicle ID from an RFID card. This may be used to record a charging session against a specific charging account, and may optionally be used to authorize a charging session.
An RFID event can be generated when a user taps an RFID card onto the RFID reader. The event must be subscribed to by the EVSE Management cluster client. This client may use this to enable the EV to charge or discharge. The lookup and authorization of RIFD UID is outside the scope of this cluster.`,xref:{document:"cluster",section:"9.3.4.4"}}),o({name:"V2X",conformance:"P",constraint:"4",description:"V2X",details:"If the EVSE can support bi-directional charging, it may be possible to request that the vehicle can discharge to the home or grid.",xref:{document:"cluster",section:"9.3.4.5"}})]}),p({name:"State",id:0,type:"StateEnum",access:"R V",conformance:"M",quality:"X",details:`Indicates the current status of the EVSE. This higher-level status is partly derived from the signaling protocol as communicated between the EVSE and the vehicle through the pilot signal.
The State attribute shall change when the EVSE detects change of condition of the EV (plugged in or unplugged, whether the vehicle is asking for demand or not, and if it is charging or discharging).
NOTE
SessionEnding is not really a state but a transition. However, the transition period
may take a few seconds and is useful for some clean up purposes. The Fault state is used to indicate that the FaultState attribute is not NoError.`,xref:{document:"cluster",section:"9.3.8.1"}}),p({name:"SupplyState",id:1,type:"SupplyStateEnum",access:"R V",conformance:"M",details:"Indicates whether the EV is currently allowed to charge from or discharge to the EVSE.",xref:{document:"cluster",section:"9.3.8.2"}}),p({name:"FaultState",id:2,type:"FaultStateEnum",access:"R V",conformance:"M",details:`Indicates the type of fault detected by the EVSE (internally or as detected in the pilot signal).
When the SupplyState attribute is DisabledError, the FaultState attribute will be one of the values listed in FaultStateEnum, except NoError. For all values of SupplyState other than DisabledError, the FaultState attribute shall be NoError.`,xref:{document:"cluster",section:"9.3.8.3"}}),p({name:"ChargingEnabledUntil",id:3,type:"epoch-s",access:"R V",conformance:"M",default:0,quality:"X N",details:`Indicates the time, in UTC, that the EVSE will automatically stop current flow to the EV.
A null value indicates the EVSE is always enabled for charging.
A value in the past or 0x0 indicates that EVSE charging shall be disabled. The attribute is only set via the payload of the EnableCharging command.
This attribute shall be persisted, for example a temporary power failure should not stop the vehicle from being charged.`,xref:{document:"cluster",section:"9.3.8.4"}}),p({name:"DischargingEnabledUntil",id:4,type:"epoch-s",access:"R V",conformance:"V2X",default:0,quality:"X N",details:`Indicates the time, in UTC, that the EVSE will automatically stop current flow from the EV.
A null value indicates the EVSE is always enabled for discharging.
A value in the past or 0x0 indicates that EVSE discharging shall be disabled. The attribute is only set via the payload of the EnableDischarging command.
This attribute shall be persisted, for example a temporary power failure should not stop the vehicle from being discharged.`,xref:{document:"cluster",section:"9.3.8.5"}}),p({name:"CircuitCapacity",id:5,type:"amperage-mA",access:"R V",conformance:"M",constraint:"min 0",default:0,quality:"N",details:"Indicates the capacity that the circuit that the EVSE is connected to can provide. It is intended to allow implementation of a self-managed network of EVSEs. It is assumed that the device will allow the setting of such values by an installer.",xref:{document:"cluster",section:"9.3.8.6"}}),p({name:"MinimumChargeCurrent",id:6,type:"amperage-mA",access:"R V",conformance:"M",constraint:"min 0",default:6e3,quality:"N",details:"Indicates the minimum current that can be delivered by the EVSE to the EV. The attribute can be set using the EnableCharging command.",xref:{document:"cluster",section:"9.3.8.7"}}),p({name:"MaximumChargeCurrent",id:7,type:"amperage-mA",access:"R V",conformance:"M",constraint:"min 0",default:0,quality:"N",details:`Indicates the maximum current that can be delivered by the EVSE to the EV.
This shall represent the actual maximum current offered to the EV at any time. Note that the EV can draw less current than this value. For example, the EV may be limiting its power draw based on the operating conditions of the battery, such as temperature and state of charge.
The attribute can be initially set using the EnableCharging command or by adjusting the UserMaximumChargeCurrent attribute.
This attribute value shall be the minimum of:
  \u2022 CircuitCapacity - Electrician\u2019s installation setting
  \u2022 CableAssemblyCurrentLimit (detected by the EVSE when the cable is plugged in)
  \u2022 MaximumChargeCurrent field in the EnableCharging command
  \u2022 UserMaximumChargeCurrent attribute`,xref:{document:"cluster",section:"9.3.8.8"}}),p({name:"MaximumDischargeCurrent",id:8,type:"amperage-mA",access:"R V",conformance:"V2X",constraint:"min 0",default:0,quality:"N",details:`Indicates the maximum current that can be received by the EVSE from the EV. This attribute can be set using the EnableDischarging command.
This attribute value shall be the minimum of:
  \u2022 CircuitCapacity - Electrician\u2019s installation setting
  \u2022 CableAssemblyCurrentLimit (detected by the EVSE when the cable is plugged in)
  \u2022 MaximumDischargeCurrent field in the EnableDischarging command`,xref:{document:"cluster",section:"9.3.8.9"}}),p({name:"UserMaximumChargeCurrent",id:9,type:"amperage-mA",access:"RW VM",conformance:"O",constraint:"desc",default:0,quality:"N",details:`Indicates a maximum current that can set by the consumer (e.g. via an app) as a preference to further reduce the charging rate. This may be desirable if the home owner has a solar PV or battery storage system which may only be able to deliver a limited amount of power. The consumer can manually control how much they allow the EV to take.
This attribute value shall be limited by the EVSE to be in the range of:
MinimumChargeCurrent <= UserMaximumChargeCurrent <= MaximumChargeCurrent
where MinimumChargeCurrent and MaximumChargeCurrent are the values received in the EnableCharging command.
Its default value SHOULD be initialized to the same as the CircuitCapacity attribute. This value shall be persisted across reboots to ensure it does not cause charging issues during temporary power failures.`,xref:{document:"cluster",section:"9.3.8.10"}}),p({name:"RandomizationDelayWindow",id:10,type:"elapsed-s",access:"RW VM",conformance:"O",constraint:"0 to 86400",default:600,quality:"N",details:`Indicates the size of a random window over which the EVSE will randomize the start of a charging session. This value is in seconds.
This is a feature that is mandated in some markets (such as UK) where the EVSE should by default randomize its start time within the randomization window. By default in the UK this should be 600s.
For example, if the RandomizationDelayWindow is 600s (i.e. 10 minutes) and if there was a cheap rate energy starting at 00:30, then the EVSE must compute a random delay between 0-599s and add this to its initial planned start time.`,xref:{document:"cluster",section:"9.3.8.11"}}),p({name:"NextChargeStartTime",id:35,type:"epoch-s",access:"R V",conformance:"PREF",default:null,quality:"X",details:`Indicates the time, in UTC, when the EVSE plans to start the next scheduled charge based on the charging preferences.
If this is null it indicates that there is no scheduled charging, or that the vehicle is not plugged in.`,xref:{document:"cluster",section:"9.3.8.12"}}),p({name:"NextChargeTargetTime",id:36,type:"epoch-s",access:"R V",conformance:"PREF",default:null,quality:"X",details:`Indicates the time, in UTC, when the EVSE SHOULD complete the next scheduled charge based on the charging preferences.
If this is null it indicates that there is no scheduled charging, or that the vehicle is not plugged in.`,xref:{document:"cluster",section:"9.3.8.13"}}),p({name:"NextChargeRequiredEnergy",id:37,type:"energy-mWh",access:"R V",conformance:"PREF",constraint:"min 0",default:null,quality:"X",details:`Indicates the amount of energy that the EVSE is going to attempt to add to the vehicle in the next charging target.
If this is null it indicates that there is no scheduled charging, or that the EVSE is using the TargetSoC method to charge the vehicle.`,xref:{document:"cluster",section:"9.3.8.14"}}),p({name:"NextChargeTargetSoC",id:38,type:"percent",access:"R V",conformance:"PREF",default:null,quality:"X",details:`Indicates the target SoC the EVSE is going to attempt to reach when the vehicle is next charged.
If this is null it indicates that there is no scheduled charging, or that the EVSE cannot obtain the current State of Charge from the vehicle.
If the SOC feature is not supported, only the values null and 100% are supported.`,xref:{document:"cluster",section:"9.3.8.15"}}),p({name:"ApproximateEvEfficiency",id:39,type:"uint16",access:"RW VM",conformance:"[PREF]",constraint:"desc",default:null,quality:"X N",details:`Indicates the vehicle efficiency rating for a connected vehicle.
This can be used to help indicate to the user approximately how many miles or km of range will be added. It allows user interfaces to display to the user simpler terms that they can relate to compared to kWh.
This is value is stored in km per kWh multiplied by a scaling factor of 1000.
A null value indicates that the EV efficiency is unknown and the NextChargeRequiredEnergy attribute cannot be converted from Wh to miles or km.
To convert from Wh into Range:
AddedRange (km) = AddedEnergy (Wh) x ApproxEVEfficiency (km/kWh x 1000) AddedRange (Miles) = AddedEnergy (Wh) x ApproxEVEfficiency (km/kWh x 1000) x 0.6213
Example:
ApproxEVEfficiency (km/kWh x 1000): 4800 (i.e. 4.8km/kWh x 1000)
AddedEnergy (Wh): 10,000
AddedRange (km) = 10,000 x 4800 / 1,000,000 = 48 km
AddedRange (Miles) = AddedEnergy (Wh) x ApproxEVEfficiency (km/kWh x 1000) x 0.6213
= 29.82 Miles`,xref:{document:"cluster",section:"9.3.8.16"}}),p({name:"StateOfCharge",id:48,type:"percent",access:"R V",conformance:"SOC",default:null,quality:"X",details:"Indicates the state of charge of the EV battery in steps of 1%. The values are in the 0-100%. This attribute is only available on EVSEs which can read the state of charge from the vehicle and that support the SOC feature. If the StateOfCharge cannot be read from the vehicle it shall be returned with a NULL value.",xref:{document:"cluster",section:"9.3.8.17"}}),p({name:"BatteryCapacity",id:49,type:"energy-mWh",access:"R V",conformance:"SOC",constraint:"min 0",default:null,quality:"X",details:"Indicates the capacity of the EV battery in mWh. This value is always positive.",xref:{document:"cluster",section:"9.3.8.18"}}),p({name:"VehicleId",id:50,type:"string",access:"R V",conformance:"PNC",constraint:"max 32",default:null,quality:"X",details:`Indicates the vehicle ID read by the EVSE via ISO-15118 using the PNC feature, if the EVSE supports this capability.
The field may be based on the e-Mobility Account Identifier (EMAID). A null value shall indicate that this is unknown.`,xref:{document:"cluster",section:"9.3.8.19"}}),p({name:"SessionId",id:64,type:"uint32",access:"R V",conformance:"M",default:null,quality:"X N",xref:{document:"cluster",section:"9.3.8"}}),p({name:"SessionDuration",id:65,type:"elapsed-s",access:"R V",conformance:"M",default:null,quality:"X N",xref:{document:"cluster",section:"9.3.8"}}),p({name:"SessionEnergyCharged",id:66,type:"energy-mWh",access:"R V",conformance:"M",constraint:"min 0",default:null,quality:"X N",xref:{document:"cluster",section:"9.3.8"}}),p({name:"SessionEnergyDischarged",id:67,type:"energy-mWh",access:"R V",conformance:"V2X",constraint:"min 0",default:null,quality:"X N",xref:{document:"cluster",section:"9.3.8"}}),Se({name:"EvConnected",id:0,access:"V",conformance:"M",priority:"info",details:"This event shall be generated when the EV is plugged in.",xref:{document:"cluster",section:"9.3.10.1"},children:[o({name:"SessionId",id:0,type:"uint32",conformance:"M",details:"This is the new session ID created after the vehicle is plugged in.",xref:{document:"cluster",section:"9.3.10.1.1"}})]}),Se({name:"EvNotDetected",id:1,access:"V",conformance:"M",priority:"info",details:"This event shall be generated when the EV is unplugged or not detected (having been previously plugged in). When the vehicle is unplugged then the session is ended.",xref:{document:"cluster",section:"9.3.10.2"},children:[o({name:"SessionId",id:0,type:"uint32",conformance:"M",details:"This field shall indicate the current value of the SessionID attribute.",xref:{document:"cluster",section:"9.3.10.2.1"}}),o({name:"State",id:1,type:"StateEnum",conformance:"M",details:"This field shall indicate the value of the State attribute prior to the EV not being detected.",xref:{document:"cluster",section:"9.3.10.2.2"}}),o({name:"SessionDuration",id:2,type:"elapsed-s",conformance:"M",details:"This field shall indicate the total duration of the session, from the start of the session when the EV was plugged in, until it was unplugged.",xref:{document:"cluster",section:"9.3.10.2.3"}}),o({name:"SessionEnergyCharged",id:3,type:"energy-mWh",conformance:"M",constraint:"min 0",details:`This field shall indicate the total amount of energy transferred from the EVSE to the EV during the session. This value shall always be positive.
Note that if bi-directional charging occurs during the session, then this value shall only include the sum of energy transferred from the EVSE to the EV, and shall NOT be a net value of charging and discharging energy.`,xref:{document:"cluster",section:"9.3.10.2.4"}}),o({name:"SessionEnergyDischarged",id:4,type:"energy-mWh",conformance:"V2X",constraint:"min 0",details:`This field shall indicate the total amount of energy transferred from the EV to the EVSE during the session. This value shall always be positive.
Note that if bi-directional discharging occurs during the session, then this value shall only include the sum of energy transferred from the EV to the EVSE, and shall NOT be a net value of charging and discharging energy.`,xref:{document:"cluster",section:"9.3.10.2.5"}})]}),Se({name:"EnergyTransferStarted",id:2,access:"V",conformance:"M",priority:"info",details:"This event shall be generated when the EV starts charging or discharging.",xref:{document:"cluster",section:"9.3.10.3"},children:[o({name:"SessionId",id:0,type:"uint32",conformance:"M",details:"This field shall indicate the value of the SessionID attribute at the time the event was generated.",xref:{document:"cluster",section:"9.3.10.3.1"}}),o({name:"State",id:1,type:"StateEnum",conformance:"M",details:"This field shall indicate the value of the State attribute at the time the event was generated.",xref:{document:"cluster",section:"9.3.10.3.2"}}),o({name:"MaximumCurrent",id:2,type:"amperage-mA",conformance:"M",constraint:"min 0",details:`This field shall indicate the value of the maximum charging or discharging current at the time the event was generated.
This field is signed. A positive value indicates the EV has been enabled for charging and the value is taken directly from the MaximumChargeCurrent attribute.
A negative value indicates that the EV has been enabled for discharging and the value can be taken from the MaximumDischargeCurrent attribute with its sign inverted. i.e. if the MaximumDischargeCurrent was 32000mA, this would be represented here as -32000mA.`,xref:{document:"cluster",section:"9.3.10.3.3"}})]}),Se({name:"EnergyTransferStopped",id:3,access:"V",conformance:"M",priority:"info",details:"This event shall be generated when the EV stops charging or discharging.",xref:{document:"cluster",section:"9.3.10.4"},children:[o({name:"SessionId",id:0,type:"uint32",conformance:"M",details:"This field shall indicate the value of the SessionID attribute prior to the energy transfer stopping.",xref:{document:"cluster",section:"9.3.10.4.1"}}),o({name:"State",id:1,type:"StateEnum",conformance:"M",details:"This field shall indicate the value of the State attribute prior to the energy transfer stopping.",xref:{document:"cluster",section:"9.3.10.4.2"}}),o({name:"Reason",id:2,type:"EnergyTransferStoppedReasonEnum",conformance:"M",details:"This field shall indicate the reason why the energy transferred stopped.",xref:{document:"cluster",section:"9.3.10.4.3"}}),o({name:"EnergyTransferred",id:4,type:"energy-mWh",conformance:"M",constraint:"min 0"})]}),Se({name:"Fault",id:4,access:"V",conformance:"M",priority:"critical",details:`If the EVSE detects a fault it shall generate a Fault Event. The SupplyState attribute shall be set to DisabledError and the type of fault detected by the EVSE shall be stored in the FaultState attribute.
This event shall be generated when the FaultState changes from any error state. i.e. if it changes from NoError to any other state and if the error then clears, this would generate 2 events.
It is assumed that the fault will be cleared locally on the EVSE device. When all faults have been cleared, the EVSE device shall set the FaultState attribute to NoError and the SupplyState attribute shall be set back to its previous state.`,xref:{document:"cluster",section:"9.3.10.5"},children:[o({name:"SessionId",id:0,type:"uint32",conformance:"M",quality:"X",details:"This field shall indicate the value of the SessionID attribute prior to the Fault State being changed. A value of null indicates no sessions have occurred before the fault occurred.",xref:{document:"cluster",section:"9.3.10.5.1"}}),o({name:"State",id:1,type:"StateEnum",conformance:"M",details:"This field shall indicate the value of the State attribute prior to the Fault State being changed.",xref:{document:"cluster",section:"9.3.10.5.2"}}),o({name:"FaultStatePreviousState",id:2,type:"FaultStateEnum",conformance:"M",details:"This field shall indicate the value of the FaultState attribute prior to the Fault State being changed.",xref:{document:"cluster",section:"9.3.10.5.3"}}),o({name:"FaultStateCurrentState",id:4,type:"FaultStateEnum",conformance:"M",details:"This field shall indicate the current value of the FaultState attribute.",xref:{document:"cluster",section:"9.3.10.5.4"}})]}),Se({name:"Rfid",id:5,access:"V",conformance:"[RFID]",priority:"info",details:"This event shall be generated when a RFID card has been read. This allows a controller to register the card ID and use this to authenticate and start the charging session.",xref:{document:"cluster",section:"9.3.10.6"},children:[o({name:"Uid",id:0,type:"octstr",conformance:"M",constraint:"max 10",details:"The UID field (ISO 14443A UID) is either 4, 7 or 10 bytes.",xref:{document:"cluster",section:"9.3.10.6.1"}})]}),U({name:"Disable",id:1,access:"O T",conformance:"M",direction:"request",response:"status",details:"Allows a client to disable the EVSE from charging and discharging.",xref:{document:"cluster",section:"9.3.9.1"}}),U({name:"EnableCharging",id:2,access:"O T",conformance:"M",direction:"request",response:"status",details:"Allows a client to enable the EVSE to charge an EV.",xref:{document:"cluster",section:"9.3.9.2"},children:[o({name:"ChargingEnabledUntil",id:0,type:"epoch-s",conformance:"M",default:null,quality:"X",details:`This field shall indicate the expiry time, in UTC, when charging will be automatically disabled.
A value in the past in this field shall disable the EVSE charging whereas a null value shall enable it permanently.`,xref:{document:"cluster",section:"9.3.9.2.1"}}),o({name:"MinimumChargeCurrent",id:1,type:"amperage-mA",conformance:"M",constraint:"min 0",details:`This field shall indicate the minimum current that can be delivered by the EVSE to the EV in trickle mode. The EVSE current limit can be advertised to an EV in 0.6A steps.
The value of the MinimumChargeCurrent attribute shall be set to the value of this field (see MinimumChargeCurrent attribute for further details).`,xref:{document:"cluster",section:"9.3.9.2.2"}}),o({name:"MaximumChargeCurrent",id:2,type:"amperage-mA",conformance:"M",constraint:"min 0",details:`This field shall indicate the maximum current that can be delivered by the EVSE to the EV. The EVSE current limit can be advertised to an EV in 0.6A steps.
The value of the this field shall be stored by the EVSE to determine the value of MaximumChargeCurrent attribute. For example, if the UserMaximumChargeCurrent attribute is adjusted below then
this value, and then later adjusted above this value, the resulting MaximumChargeCurrent attribute will be limited to this value.`,xref:{document:"cluster",section:"9.3.9.2.3"}})]}),U({name:"EnableDischarging",id:3,access:"O T",conformance:"V2X",direction:"request",response:"status",details:"Allows a client to enable the EVSE to discharge an EV.",xref:{document:"cluster",section:"9.3.9.3"},children:[o({name:"DischargingEnabledUntil",id:0,type:"epoch-s",conformance:"M",default:null,quality:"X",details:`This field shall indicate the expiry time, in UTC, when discharging will be automatically disabled.
A value in the past in this field shall disable the EVSE whereas a null value shall enable it permanently.`,xref:{document:"cluster",section:"9.3.9.3.1"}}),o({name:"MaximumDischargeCurrent",id:1,type:"amperage-mA",conformance:"M",constraint:"min 0",details:`This field shall indicate the maximum current that can be received by the EVSE from the EV. The EVSE current limit can be advertised to an EV in 0.6A steps. The value of the MaximumDischargeCurrent attribute shall be stored and persisted across reboots by the EVSE to the value of this
field.`,xref:{document:"cluster",section:"9.3.9.3.2"}})]}),U({name:"StartDiagnostics",id:4,access:"O T",conformance:"O",direction:"request",response:"status",details:"Allows a client to put the EVSE into a self-diagnostics mode.",xref:{document:"cluster",section:"9.3.9.4"}}),U({name:"SetTargets",id:5,access:"O T",conformance:"PREF",direction:"request",response:"status",details:"Allows a client to set the user specified charging targets.",xref:{document:"cluster",section:"9.3.9.5"},children:[o({name:"ChargingTargetSchedules",id:0,type:"list",conformance:"M",constraint:"max 7",details:"This field shall indicate a list of up to 7 sets of daily charging targets together with their associated days of the week. Each of the days of the week may only be included in a single ChargingTargetSchedule within this list field.",xref:{document:"cluster",section:"9.3.9.5.1"},children:[o({name:"entry",type:"ChargingTargetScheduleStruct"})]})]}),U({name:"GetTargets",id:6,access:"O T",conformance:"PREF",direction:"request",response:"GetTargetsResponse",details:"Allows a client to retrieve the current set of charging targets.",xref:{document:"cluster",section:"9.3.9.6"}}),U({name:"ClearTargets",id:7,access:"O T",conformance:"PREF",direction:"request",response:"status",details:"Allows a client to clear all stored charging targets.",xref:{document:"cluster",section:"9.3.9.8"}}),U({name:"GetTargetsResponse",id:0,conformance:"PREF",direction:"response",details:"The GetTargetsResponse is sent in response to the GetTargets Command.",xref:{document:"cluster",section:"9.3.9.7"},children:[o({name:"ChargingTargetSchedules",id:0,type:"list",conformance:"M",constraint:"max 7",details:"This field shall indicate a list of up to 7 sets of daily charging targets together with their associated days of the week.",xref:{document:"cluster",section:"9.3.9.7.1"},children:[o({name:"entry",type:"ChargingTargetScheduleStruct"})]})]}),C({name:"StateEnum",type:"enum8",xref:{document:"cluster",section:"9.3.7.1"},children:[o({name:"NotPluggedIn",id:0,conformance:"M",description:"The EV is not plugged in."}),o({name:"PluggedInNoDemand",id:1,conformance:"M",description:"The EV is plugged in, but not demanding current."}),o({name:"PluggedInDemand",id:2,conformance:"M",description:"The EV is plugged in and is demanding current, but EVSE is not allowing current to flow."}),o({name:"PluggedInCharging",id:3,conformance:"M",description:"The EV is plugged in, charging is in progress, and current is flowing"}),o({name:"PluggedInDischarging",id:4,conformance:"V2X",description:"The EV is plugged in, discharging is in progress, and current is flowing"}),o({name:"SessionEnding",id:5,conformance:"M",description:"The EVSE is transitioning from any plugged- in state to NotPluggedIn"}),o({name:"Fault",id:6,conformance:"M",description:"There is a fault (see FaultState attribute)"})]}),C({name:"SupplyStateEnum",type:"enum8",xref:{document:"cluster",section:"9.3.7.2"},children:[o({name:"Disabled",id:0,conformance:"M",description:"The EV is not currently allowed to charge or discharge"}),o({name:"ChargingEnabled",id:1,conformance:"M",description:"The EV is currently allowed to charge"}),o({name:"DischargingEnabled",id:2,conformance:"[V2X]",description:"The EV is currently allowed to discharge"}),o({name:"DisabledError",id:3,conformance:"M",description:"The EV is not currently allowed to charge or discharge due to an error. The error must be cleared before operation can continue."}),o({name:"DisabledDiagnostics",id:4,conformance:"M",description:"The EV is not currently allowed to charge or discharge due to Diagnostics Mode."})]}),C({name:"FaultStateEnum",type:"enum8",xref:{document:"cluster",section:"9.3.7.3"},children:[o({name:"NoError",id:0,conformance:"M",description:"The EVSE is not in an error state."}),o({name:"MeterFailure",id:1,conformance:"M",description:"The EVSE is unable to obtain electrical measurements."}),o({name:"OverVoltage",id:2,conformance:"M",description:"The EVSE input voltage level is too high."}),o({name:"UnderVoltage",id:3,conformance:"M",description:"The EVSE input voltage level is too low."}),o({name:"OverCurrent",id:4,conformance:"M",description:"The EVSE detected charging current higher than allowed by charger."}),o({name:"ContactWetFailure",id:5,conformance:"M",description:"The EVSE detected voltage on charging pins when the contactor is open."}),o({name:"ContactDryFailure",id:6,conformance:"M",description:"The EVSE detected absence of voltage after enabling contactor."}),o({name:"GroundFault",id:7,conformance:"M",description:"The EVSE has an unbalanced current supply."}),o({name:"PowerLoss",id:8,conformance:"M",description:"The EVSE has detected a loss in power."}),o({name:"PowerQuality",id:9,conformance:"M",description:"The EVSE has detected another power quality issue (e.g. phase imbalance)."}),o({name:"PilotShortCircuit",id:10,conformance:"M",description:"The EVSE pilot signal amplitude short circuited to ground."}),o({name:"EmergencyStop",id:11,conformance:"M",description:"The emergency stop button was pressed."}),o({name:"EvDisconnected",id:12,conformance:"M",description:"The EVSE detected that the cable has been disconnected."}),o({name:"WrongPowerSupply",id:13,conformance:"M",description:"The EVSE could not determine proper power supply level."}),o({name:"LiveNeutralSwap",id:14,conformance:"M",description:"The EVSE detected Live and Neutral are swapped."}),o({name:"OverTemperature",id:15,conformance:"M",description:"The EVSE internal temperature is too high."}),o({name:"Other",id:255,conformance:"M",description:"Any other reason."})]}),C({name:"EnergyTransferStoppedReasonEnum",type:"enum8",xref:{document:"cluster",section:"9.3.7.4"},children:[o({name:"EvStopped",id:0,conformance:"M",description:"The EV decided to stop"}),o({name:"EvseStopped",id:1,conformance:"M",description:"The EVSE decided to stop"}),o({name:"Other",id:2,conformance:"M",description:"An other unknown reason"})]}),C({name:"TargetDayOfWeekBitmap",type:"map8",xref:{document:"cluster",section:"9.3.7.5"},children:[o({name:"Sunday",constraint:"0",description:"Sunday"}),o({name:"Monday",constraint:"1",description:"Monday"}),o({name:"Tuesday",constraint:"2",description:"Tuesday"}),o({name:"Wednesday",constraint:"3",description:"Wednesday"}),o({name:"Thursday",constraint:"4",description:"Thursday"}),o({name:"Friday",constraint:"5",description:"Friday"}),o({name:"Saturday",constraint:"6",description:"Saturday"})]}),C({name:"ChargingTargetStruct",type:"struct",details:`This represents a single user specified charging target for an EV.
An EVSE or EMS system optimizer may use this information to take the Time of Use Tariff, grid carbon intensity, local generation (solar PV) into account to provide the cheapest and cleanest energy to the EV.
The optimization strategy is not defined here, however in simple terms, the AddedEnergy requirement can be fulfilled by knowing the charging Power (W) and the time needed to charge.
To compute the Charging Time: Required Energy (Wh) = Power (W) x ChargingTime (s) / 3600 Therefore: ChargingTime (s) = (3600 x RequiredEnergy (wH)) / Power (W)
To compute the charging time: Charging StartTime = TargetTimeMinutesPastMidnight - ChargingTime`,xref:{document:"cluster",section:"9.3.7.6"},children:[o({name:"TargetTimeMinutesPastMidnight",id:0,type:"uint16",conformance:"M",constraint:"0 to 1439",default:0,details:`This field shall indicate the desired charging completion time of the associated day. The time will be represented by a 16 bits unsigned integer to designate the minutes since midnight. For example, 6am will be represented by 360 minutes since midnight and 11:30pm will be represented by 1410 minutes since midnight.
This field is based on local wall clock time. In case of Daylight Savings Time transition which may result in an extra hour or one hour less in the day, the charging algorithm should take into account the shift appropriately.
Note that if the TargetTimeMinutesPastMidnight values are too close together (e.g. 2 per day) these may overlap. The EVSE may have to coalesce the charging targets into a single target. e.g. if the 1st charging target cannot be met in the time available, the EVSE may be forced to begin working towards the 2nd charging target and immediately continue until both targets have been satisfied (or the vehicle becomes full).
The EVSE itself cannot predict the behavior of the vehicle (i.e. if it cannot obtain the SoC from the vehicle), so should attempt to perform a sensible operation based on these targets. It is recommended that the charging schedule is pessimistic (i.e. starts earlier) since the vehicle may charge more slowly than the electrical supply may provide power (especially if it is cold).
If the user configures large charging targets (e.g. high values of AddedEnergy or SoC) then it is expected that the EVSE may need to begin charging immediately, and may not be able to guarantee that the vehicle will be able to reach the target.`,xref:{document:"cluster",section:"9.3.7.6.1"}}),o({name:"TargetSoC",id:1,type:"percent",conformance:"SOC, O.a+",default:0,details:`This field represents the target SoC that the vehicle should be charged to before the TargetTimeMinutesPastMidnight.
If the EVSE can obtain the SoC of the vehicle:
  \u2022 the TargetSoC field shall take precedence over the AddedEnergy field.
  \u2022 the EVSE SHOULD charge to the TargetSoC and then stop the charging automatically when it     reaches that point.
  \u2022 if the TargetSoC value is set to 100% then the EVSE SHOULD continue to charge the vehicle until     the vehicle decides to stop charging.
If the EVSE cannot obtain the SoC of the vehicle:
  \u2022 in this case, the AddedEnergy field shall take precedence over the TargetSoC field, and the     TargetSoC field may only take the values null or 100%.
  \u2022 if the AddedEnergy field has not been provided, the EVSE SHOULD assume the vehicle is empty and     charge until the vehicle stops demanding a charge.`,xref:{document:"cluster",section:"9.3.7.6.2"}}),o({name:"AddedEnergy",id:2,type:"energy-mWh",conformance:"O.a+",constraint:"min 0",default:0,details:`This field represents the amount of energy that the user would like to have added to the vehicle before the TargetTimeMinutesPastMidnight.
This represents a positive value in mWh that SHOULD be added during the session (i.e. if the vehicle charging is stopped and started several times, this equates to the total energy since the vehicle has been plugged in).
The maximum value (500kWh) is much larger than most EV batteries on the market today. If the client tries to set this value too high then the EVSE will need to start charging immediately and continue charging until the vehicle stops demanding charge (i.e. it is full). Therefore the maximum value should be set based on typical battery size of the vehicles on the market (e.g. 70000Wh), however this is up to the client to carefully choose a value.
NOTE
If the EVSE can obtain the Battery Capacity of the vehicle, it SHOULD not limit this AddedEnergy value to the Battery Capacity of the vehicle, since the EV may also require energy for heating and cooling of the battery during charging, or for heating or cooling the cabin.`,xref:{document:"cluster",section:"9.3.7.6.3"}})]}),C({name:"ChargingTargetScheduleStruct",type:"struct",details:"This represents a set of user specified charging targets for an EV for a set of specified days.",xref:{document:"cluster",section:"9.3.7.7"},children:[o({name:"DayOfWeekForSequence",id:0,type:"TargetDayOfWeekBitmap",access:"M",constraint:"desc"}),o({name:"ChargingTargets",id:1,type:"list",access:"M",constraint:"max 10",children:[o({name:"entry",type:"ChargingTargetStruct"})]})]})]});A.children.push(eC);var tC=ie({name:"EnergyEvseMode",id:157,type:"ModeBase",classification:"application",pics:"EEVSEM",details:"This cluster is derived from the Mode Base cluster which also defines a namespace for the operation of EVSE devices.",xref:{document:"cluster",section:"9.4"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),C({name:"ModeTag",type:"enum16",children:[o({name:"Manual",id:16384,details:"While in this mode, the EVSE needs to be sent an EnableEvseCharging or EnableEvseDischarging command to make the EVSE start charging or discharging.",xref:{document:"cluster",section:"9.4.4.1.1"}}),o({name:"TimeOfUse",id:16385,details:"While in this mode, the EVSE will attempt to automatically start charging based on the user\u2019s charging targets and a Time of Use tariff to charge at the cheapest times of the day.",xref:{document:"cluster",section:"9.4.4.1.2"}}),o({name:"SolarCharging",id:16386,details:"While in this mode, the EVSE will attempt to automatically start charging based on available excess solar PV generation, limiting the charging power to avoid imported energy from the grid.",xref:{document:"cluster",section:"9.4.4.1.3"}})]})]});A.children.push(tC);var nC=ie({name:"EnergyPreference",id:155,classification:"application",pics:"EPREF",details:`This cluster provides an interface to specify preferences for how devices should consume energy.
NOTE Support for Energy Preference cluster is provisional.`,xref:{document:"cluster",section:"9.5"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"cluster",section:"9.5.4"},children:[o({name:"BALA",conformance:"O.a+",constraint:"0",description:"EnergyBalance",details:"This feature allows a user to select from a list of energy balances with associated descriptions of which strategies a device will use to target the specified balance.",xref:{document:"cluster",section:"9.5.4.1"}}),o({name:"LPMS",conformance:"O.a+",constraint:"1",description:"LowPowerModeSensitivity",details:"This feature allows the user to select a condition or set of conditions which will cause the device to switch to a mode using less power. For example, a device might provide a scale of durations that must elapse without user interaction before it goes to sleep.",xref:{document:"cluster",section:"9.5.4.2"}})]}),p({name:"EnergyBalances",id:0,type:"list",access:"R V",conformance:"BALA",constraint:"2 to 10",quality:"F",details:`Indicates a list of BalanceStructs, each representing a step along a linear scale
of relative priorities. A Step field with a value of zero shall indicate that the device SHOULD entirely favor the priority specified by the first element in EnergyPriorities; whereas a Step field with a value of 100 shall indicate that the device SHOULD entirely favor the priority specified by the second element in EnergyPriorities. The midpoint value of 50 shall indicate an even split between the two priorities.
This shall contain at least two BalanceStructs.
Each BalanceStruct shall have a Step field larger than the Step field on the previous BalanceStruct in the list.
The first BalanceStruct shall have a Step value of zero, and the last BalanceStruct shall have a Step value of 100.`,xref:{document:"cluster",section:"9.5.6.1"},children:[o({name:"entry",type:"BalanceStruct"})]}),p({name:"CurrentEnergyBalance",id:1,type:"uint8",access:"RW VO",conformance:"BALA",quality:"N",details:`Indicates the current preference of the user for balancing different priorities during device use. The value of this attribute is the index, 0-based, into the EnergyBalances attribute for the currently selected balance.
If an attempt is made to set this attribute to an index outside the maximum index for EnergyBalances, a response with the status code CONSTRAINT_ERROR shall be returned.
If the value of EnergyBalances changes after an update, the device shall migrate the value of the CurrentEnergyBalance attribute to the index which the manufacturer specifies most closely matches the previous value, while preserving extreme preferences as follows:
  1. If the previous value of CurrentEnergyBalance was zero, indicating a total preference for the      priority specified by the first element in EnergyPriorities, the new value of      CurrentEnergyBalance shall also be zero.
  2. If the previous value of CurrentEnergyBalance was the index of the last BalanceStruct in the      previous value of EnergyBalances, indicating a total preference for the priority specified by      the last element in EnergyPriorities, the new value of CurrentEnergyBalance shall be the index      of the last element in the updated value of EnergyBalances.`,xref:{document:"cluster",section:"9.5.6.2"}}),p({name:"EnergyPriorities",id:2,type:"list",access:"R V",conformance:"BALA",constraint:"2",quality:"F",details:`Indicates two extremes for interpreting the values in the EnergyBalances attribute. These two priorities shall be in opposition to each other; e.g. Comfort vs. Efficiency or Speed vs. WaterConsumption.
If the value of EnergyPriorities changes after an update to represent a new balance between priorities, the value of the CurrentEnergyBalance attribute shall be set to its default.`,xref:{document:"cluster",section:"9.5.6.3"},children:[o({name:"entry",type:"EnergyPriorityEnum"})]}),p({name:"LowPowerModeSensitivities",id:3,type:"list",access:"R V",conformance:"LPMS",constraint:"2 to 10",quality:"F",details:`Indicates a list of BalanceStructs, each representing a condition or set of conditions for the device to enter a low power mode.
This shall contain at least two BalanceStructs.
Each BalanceStruct shall have a Step field larger than the Step field on the previous BalanceStruct in the list.`,xref:{document:"cluster",section:"9.5.6.4"},children:[o({name:"entry",type:"BalanceStruct"})]}),p({name:"CurrentLowPowerModeSensitivity",id:4,type:"uint8",access:"RW VO",conformance:"LPMS",quality:"N",details:`Indicates the current preference of the user for determining when the device should enter a low power mode. The value of this attribute is the index, 0-based, into the LowPowerModeSensitivities attribute for the currently selected preference.
If an attempt is made to set this attribute to an index outside the maximum index for LowPowerModeSensitivities, a response with the status code CONSTRAINT_ERROR shall be returned.
If the value of LowPowerModeSensitivities changes after an update, the device shall migrate the value of the LowPowerModeSensitivity attribute to the index which the manufacturer specifies most closely matches the previous value.`,xref:{document:"cluster",section:"9.5.6.5"}}),C({name:"EnergyPriorityEnum",type:"enum8",xref:{document:"cluster",section:"9.5.5.1"},children:[o({name:"Comfort",id:0,conformance:"M",details:"This value shall emphasize user comfort; e.g. local temperature for a thermostat.",xref:{document:"cluster",section:"9.5.5.1.1"}}),o({name:"Speed",id:1,conformance:"M",details:"This value shall emphasize how quickly a device accomplishes its targeted use; e.g. how quickly a robot vacuum completes a cleaning cycle.",xref:{document:"cluster",section:"9.5.5.1.2"}}),o({name:"Efficiency",id:2,conformance:"M",details:"This value shall emphasize how much energy a device uses; e.g. electricity usage for a Pump.",xref:{document:"cluster",section:"9.5.5.1.3"}}),o({name:"WaterConsumption",id:3,conformance:"M"})]}),C({name:"BalanceStruct",type:"struct",details:"This represents a step along a scale of preferences.",xref:{document:"cluster",section:"9.5.5.2"},children:[o({name:"Step",id:0,type:"percent",conformance:"M",quality:"F",details:"This field shall indicate the relative value of this step.",xref:{document:"cluster",section:"9.5.5.2.1"}}),o({name:"Label",id:1,type:"string",conformance:"O",constraint:"max 64",quality:"F",details:"This field shall indicate an optional string explaining which actions a device might take at the given step value.",xref:{document:"cluster",section:"9.5.5.2.2"}})]})]});A.children.push(nC);var iC=ie({name:"DeviceEnergyManagementMode",id:159,type:"ModeBase",classification:"application",pics:"DEMM",details:`This cluster is derived from the Mode Base cluster, defining additional mode tags and namespaced enumerated values for Device Energy Management devices.
NOTE Support for Device Energy Management Mode cluster is provisional.`,xref:{document:"cluster",section:"9.6"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),C({name:"ModeOptionStruct",type:"ModeOptionStruct",details:"The table below lists the changes relative to the Mode Base cluster for the fields of the ModeOptionStruct type. A blank field indicates no change.",xref:{document:"cluster",section:"9.6.4.1"}}),C({name:"ModeTag",type:"enum16",children:[o({name:"NoOptimization",id:16384,details:"The device prohibits optimization of energy usage management: its energy usage is determined only by the user configuration and internal device needs. This tag cannot be included with any of the other tags defined below in a mode.",xref:{document:"cluster",section:"9.6.5.1.1"}}),o({name:"DeviceOptimization",id:16385,details:"The device is permitted to manage its own energy usage. For example, using tariff information it may obtain.",xref:{document:"cluster",section:"9.6.5.1.2"}}),o({name:"LocalOptimization",id:16386,details:"The device permits management of energy usage by an energy manager to optimize the local energy usage.",xref:{document:"cluster",section:"9.6.5.1.3"}}),o({name:"GridOptimization",id:16387,details:"The device permits management of energy usage by an energy manager to optimize the grid energy usage.",xref:{document:"cluster",section:"9.6.5.1.4"}})]})]});A.children.push(iC);var rC=ie({name:"Descriptor",id:29,classification:"endpoint",pics:"DESC",details:`NOTE
The Descriptor cluster is meant to replace the support from the Zigbee Device Object (ZDO) for describing a node, its endpoints and clusters.
This cluster describes an endpoint instance on the node, independently from other endpoints, but also allows composition of endpoints to conform to complex device type patterns.
This cluster supports a list of one or more device type identifiers that represent conformance to device type specifications.
The cluster supports a PartsList attribute that is a list of zero or more endpoints to support a composed device type.`,xref:{document:"core",section:"9.5"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:2}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"core",section:"9.5.4"},children:[o({name:"TAGLIST",conformance:"desc",constraint:"0",description:"TagList",details:"See the Disambiguation section in the System Model spec for conformance requirements for this feature and the corresponding attribute.",xref:{document:"core",section:"9.5.4.1"}})]}),p({name:"DeviceTypeList",id:0,type:"list",access:"R V",conformance:"M",constraint:"min 1",quality:"F",details:`This is a list of device types and corresponding revisions declaring endpoint conformance (see DeviceTypeStruct). At least one device type entry shall be present.
An endpoint shall conform to all device types listed in the DeviceTypeList. A cluster instance that is in common for more than one device type in the DeviceTypeList shall be supported as a shared cluster instance on the endpoint.`,xref:{document:"core",section:"9.5.6.1"},children:[o({name:"entry",type:"DeviceTypeStruct"})]}),p({name:"ServerList",id:1,type:"list",access:"R V",conformance:"M",default:[],quality:"F",details:"This attribute shall list each cluster ID for the server clusters present on the endpoint instance.",xref:{document:"core",section:"9.5.6.2"},children:[o({name:"entry",type:"cluster-id"})]}),p({name:"ClientList",id:2,type:"list",access:"R V",conformance:"M",default:[],quality:"F",details:"This attribute shall list each cluster ID for the client clusters present on the endpoint instance.",xref:{document:"core",section:"9.5.6.3"},children:[o({name:"entry",type:"cluster-id"})]}),p({name:"PartsList",id:3,type:"list",access:"R V",conformance:"M",default:[],details:`This attribute indicates composition of the device type instance. Device type instance composition shall include the endpoints in this list.
See Endpoint Composition for more information about which endpoints to include in this list.`,xref:{document:"core",section:"9.5.6.4"},children:[o({name:"entry",type:"endpoint-no"})]}),p({name:"TagList",id:4,type:"list",access:"R V",conformance:"TAGLIST",constraint:"1 to 6",quality:"F",details:`This attribute shall be used to disambiguate sibling endpoints in certain situations, as defined in the Disambiguation section in the System Model specification. An example of such a situation might be a device with two buttons, with this attribute being used to indicate which of the two endpoints corresponds to the button on the left side.
It may also be used to provide information about an endpoint (e.g. the relative location of a Temperature sensor in a Temperature Controlled Cabinet).
  \u2022 A client SHOULD use these tags to convey disambiguation information and other relevant     information to the user (e.g. showing it in a user interface), as appropriate.
  \u2022 A client SHOULD use these tags in its logic to make decisions, as appropriate.
For example, a client may identify which endpoint maps to a certain function, orientation or labeling.
A client may use the Label field of each SemanticTagStruct, if present in each structure, to indicate characteristics of an endpoint, or to augment what is provided in the TagID field of the same structure.`,xref:{document:"core",section:"9.5.6.5"},children:[o({name:"entry",type:"semtag"})]}),C({name:"DeviceTypeStruct",type:"struct",details:"The device type and revision define endpoint conformance to a release of a device type definition. See the Data Model specification for more information.",xref:{document:"core",section:"9.5.5.1"},children:[o({name:"DeviceType",id:0,type:"devtype-id",conformance:"M",details:"This shall indicate the device type definition. The endpoint shall conform to the device type definition and cluster specifications required by the device type.",xref:{document:"core",section:"9.5.5.1.1"}}),o({name:"Revision",id:1,type:"uint16",conformance:"M",constraint:"min 1",details:"This is the implemented revision of the device type definition. The endpoint shall conform to this revision of the device type.",xref:{document:"core",section:"9.5.5.1.2"}})]})]});A.children.push(rC);var oC=ie({name:"Binding",id:30,classification:"endpoint",pics:"BIND",details:`NOTE
This scope of this document is the Binding cluster as part of the Cluster Library. The Binding cluster is meant to replace the support from the Zigbee Device Object (ZDO) for supporting the binding table.
A binding represents a persistent relationship between an endpoint and one or more other local or remote endpoints. A binding does not require that the relationship exists. It is up to the node application to set up the relationship.
A binding is used to inform a client endpoint of one or more targets for a potential interaction. For example: a light switch that controls one or more light bulbs, needs to be told the nodes and endpoints of the bulbs, or told a group in which the bulbs are members. For example: A client that needs to subscribe to an occupancy sensor, needs to know the node and endpoint of the sensor.
In such cases, a binding is used to direct a local endpoint to a target. The existence of the Binding cluster on the client endpoint, allows the creation of one or more binding entries (bindings) in the Binding cluster.
Each binding indicates another endpoint or cluster on another endpoint. Multiple bindings are allowed, depending on the interaction.
A binding is either a unicast binding, where the target is a single endpoint on a single node, or a groupcast binding, where the target is a group, which may indicate multiple endpoints on multiple nodes. The binding may also target a single cluster on the target endpoint(s).
When a client cluster requires a target for an interaction, the Binding cluster shall exist on the same endpoint.
Once a binding entry is created on the Binding cluster, the client endpoint may initiate interactions to the binding target.`,xref:{document:"core",section:"9.6"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"Binding",id:0,type:"list",access:"RW F VM",conformance:"M",constraint:"desc",default:[],quality:"N",details:"Each entry shall represent a binding.",xref:{document:"core",section:"9.6.6.1"},children:[o({name:"entry",type:"TargetStruct"})]}),C({name:"TargetStruct",type:"struct",xref:{document:"core",section:"9.6.5.1"},children:[o({name:"Node",id:1,type:"node-id",access:"F",conformance:"Endpoint",details:"This field is the remote target node ID. If the Endpoint field is present, this field shall be present.",xref:{document:"core",section:"9.6.5.1.1"}}),o({name:"Group",id:2,type:"group-id",access:"F",conformance:"!Endpoint",constraint:"min 1",details:"This field is the target group ID that represents remote endpoints. If the Endpoint field is present, this field shall NOT be present.",xref:{document:"core",section:"9.6.5.1.2"}}),o({name:"Endpoint",id:3,type:"endpoint-no",access:"F",conformance:"!Group",details:"This field is the remote endpoint that the local endpoint is bound to. If the Group field is present, this field shall NOT be present.",xref:{document:"core",section:"9.6.5.1.3"}}),o({name:"Cluster",id:4,type:"cluster-id",access:"F",conformance:"O",details:"This field is the cluster ID (client & server) on the local and target endpoint(s). If this field is present, the client cluster shall also exist on this endpoint (with this Binding cluster). If this field is present, the target shall be this cluster on the target endpoint(s).",xref:{document:"core",section:"9.6.5.1.4"}}),o({name:"FabricIndex",id:254,type:"FabricIndex"})]})]});A.children.push(oC);var aC=ie({name:"Label",classification:"endpoint",pics:"LABEL",details:"This cluster provides a feature to tag an endpoint with zero or more labels. This is a base cluster that requires a derived cluster to create an instance.",xref:{document:"core",section:"9.7"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"LabelList",id:0,type:"list",conformance:"M",constraint:"derived",default:[],details:"This is a list of string tuples. Each entry is a LabelStruct.",xref:{document:"core",section:"9.7.5.1"},children:[o({name:"entry",type:"LabelStruct"})]}),C({name:"LabelStruct",type:"struct",details:"This is a string tuple with strings that are user defined.",xref:{document:"core",section:"9.7.4.1"},children:[o({name:"Label",id:0,type:"string",conformance:"M",constraint:"max 16",details:'The Label or Value semantic is not defined here. Label examples: "room", "zone", "group", "direction".',xref:{document:"core",section:"9.7.4.1.1"}}),o({name:"Value",id:1,type:"string",conformance:"M",constraint:"max 16",details:'The Label or Value semantic is not defined here. The Value is a discriminator for a Label that may have multiple instances. Label:Value examples: "room":"bedroom 2", "orientation":"North", "floor":"2", "direction":"up"',xref:{document:"core",section:"9.7.4.1.2"}})]})]});A.children.push(aC);var sC=ie({name:"FixedLabel",id:64,type:"Label",classification:"endpoint",pics:"FLABEL",details:`This cluster provides a feature for the device to tag an endpoint with zero or more read only labels. Examples:
  \u2022 A bridge can use this to indicate grouping of bridged devices. For example: All bridged devices     whose endpoints have an entry in their LabelList "room":"bedroom 2" are in the same (bed)room.
  \u2022 A manufacturer can use this to identify a characteristic of an endpoint. For example to     identify the endpoints of a luminaire, one pointing up, the other pointing down, one of the     endpoints would have a LabelList entry "orientation":"up" while the other would have     "orientation":"down". Using such indication, the user interface of a Node controlling this     luminaire knows which of the endpoints is which of the lights.
Note that the TagList in the Descriptor cluster provides an alternative mechanism for such self- description using standardized tags rather than manufacturer-selected strings, yielding a standardized mechanism for features defined in the various namespaces. The second example above can be implemented using semantic tags Direction.Upward and Direction.Downward instead of (or in addition to) the Fixed Label cluster.`,xref:{document:"core",section:"9.8"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"LabelList",id:0,type:"list",access:"R V",conformance:"M",default:[],quality:"N",xref:{document:"core",section:"9.8.4"},children:[o({name:"entry",type:"LabelStruct"})]})]});A.children.push(sC);var cC=ie({name:"UserLabel",id:65,type:"Label",classification:"endpoint",pics:"ULABEL",details:"This cluster provides a feature to tag an endpoint with zero or more labels.",xref:{document:"core",section:"9.9"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"LabelList",id:0,type:"list",access:"RW VM",conformance:"M",constraint:"min 0",default:[],quality:"N",details:"An implementation shall support at least 4 list entries per node for all User Label cluster instances on the node.",xref:{document:"core",section:"9.9.4.1"},children:[o({name:"entry",type:"LabelStruct"})]})]});A.children.push(cC);var lC=ie({name:"AccessControl",id:31,classification:"node",pics:"ACL",details:`The Access Control Cluster exposes a data model view of a Node\u2019s Access Control List (ACL), which codifies the rules used to manage and enforce Access Control for the Node\u2019s endpoints and their associated cluster instances. Access to this Access Control Cluster itself requires a special Administer privilege level, such that only Nodes granted such privilege (hereafter termed "Administrators") can manage the Access Control Cluster.
The Access Control Cluster shall be present on the root node endpoint of each Node, and shall NOT be present on any other Endpoint of any Node.`,xref:{document:"core",section:"9.10"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"Acl",id:0,type:"list",access:"RW F A",conformance:"M",constraint:"desc",details:`An attempt to add an Access Control Entry when no more entries are available shall result in a RESOURCE_EXHAUSTED error being reported and the ACL attribute shall NOT have the entry added to it. See access control limits.
See the AccessControlEntriesPerFabric attribute for the actual value of the number of entries per fabric supported by the server.
Each Access Control Entry codifies a single grant of privilege on this Node, and is used by the Access Control Privilege Granting algorithm to determine if a subject has privilege to interact with targets on the Node.`,xref:{document:"core",section:"9.10.5.3"},children:[o({name:"entry",type:"AccessControlEntryStruct"})]}),p({name:"Extension",id:1,type:"list",access:"RW F A",conformance:"O",constraint:"desc",details:`If present, the Access Control Extensions may be used by Administrators to store arbitrary data related to fabric\u2019s Access Control Entries.
The Access Control Extension list shall support a single extension entry per supported fabric.`,xref:{document:"core",section:"9.10.5.4"},children:[o({name:"entry",type:"AccessControlExtensionStruct"})]}),p({name:"SubjectsPerAccessControlEntry",id:2,type:"uint16",access:"R V",conformance:"M",constraint:"min 4",default:4,quality:"F",details:`This attribute shall provide the minimum number of Subjects per entry that are supported by this server.
Since reducing this value over time may invalidate ACL entries already written, this value shall NOT decrease across time as software updates occur that could impact this value. If this is a concern for a given implementation, it is recommended to only use the minimum value required and avoid reporting a higher value than the required minimum.`,xref:{document:"core",section:"9.10.5.5"}}),p({name:"TargetsPerAccessControlEntry",id:3,type:"uint16",access:"R V",conformance:"M",constraint:"min 3",default:3,quality:"F",details:`This attribute shall provide the minimum number of Targets per entry that are supported by this server.
Since reducing this value over time may invalidate ACL entries already written, this value shall NOT decrease across time as software updates occur that could impact this value. If this is a concern for a given implementation, it is recommended to only use the minimum value required and avoid reporting a higher value than the required minimum.`,xref:{document:"core",section:"9.10.5.6"}}),p({name:"AccessControlEntriesPerFabric",id:4,type:"uint16",access:"R V",conformance:"M",constraint:"min 4",default:4,quality:"F",details:`This attribute shall provide the minimum number of ACL Entries per fabric that are supported by this server.
Since reducing this value over time may invalidate ACL entries already written, this value shall NOT decrease across time as software updates occur that could impact this value. If this is a concern for a given implementation, it is recommended to only use the minimum value required and avoid reporting a higher value than the required minimum.`,xref:{document:"core",section:"9.10.5.7"}}),Se({name:"AccessControlEntryChanged",id:0,access:"S A",conformance:"M",priority:"info",details:`The cluster shall send AccessControlEntryChanged events whenever its ACL attribute data is changed by an Administrator.
  \u2022 Each added entry shall generate an event with ChangeType Added.
  \u2022 Each changed entry shall generate an event with ChangeType Changed.
  \u2022 Each removed entry shall generate an event with ChangeType Removed.`,xref:{document:"core",section:"9.10.7.1"},children:[o({name:"AdminNodeId",id:1,type:"node-id",access:"S",conformance:"M",constraint:"desc",quality:"X",details:`The Node ID of the Administrator that made the change, if the change occurred via a CASE session.
Exactly one of AdminNodeID and AdminPasscodeID shall be set, depending on whether the change occurred via a CASE or PASE session; the other shall be null.`,xref:{document:"core",section:"9.10.7.1.1"}}),o({name:"AdminPasscodeId",id:2,type:"uint16",access:"S",conformance:"M",constraint:"desc",quality:"X",details:`The Passcode ID of the Administrator that made the change, if the change occurred via a PASE session. Non-zero values are reserved for future use (see PasscodeId generation in PBKDFParamRequest).
Exactly one of AdminNodeID and AdminPasscodeID shall be set, depending on whether the change occurred via a CASE or PASE session; the other shall be null.`,xref:{document:"core",section:"9.10.7.1.2"}}),o({name:"ChangeType",id:3,type:"ChangeTypeEnum",access:"S",conformance:"M",details:"The type of change as appropriate.",xref:{document:"core",section:"9.10.7.1.3"}}),o({name:"LatestValue",id:4,type:"AccessControlEntryStruct",access:"S",conformance:"M",quality:"X",details:`The latest value of the changed entry.
This field SHOULD be set if resources are adequate for it; otherwise it shall be set to NULL if resources are scarce.`,xref:{document:"core",section:"9.10.7.1.4"}}),o({name:"FabricIndex",id:254,type:"FabricIndex"})]}),Se({name:"AccessControlExtensionChanged",id:1,access:"S A",conformance:"M",priority:"info",details:`The cluster shall send AccessControlExtensionChanged events whenever its extension attribute data is changed by an Administrator.
  \u2022 Each added extension shall generate an event with ChangeType Added.
  \u2022 Each changed extension shall generate an event with ChangeType Changed.
  \u2022 Each removed extension shall generate an event with ChangeType Removed.`,xref:{document:"core",section:"9.10.7.2"},children:[o({name:"AdminNodeId",id:1,type:"node-id",access:"S",conformance:"M",constraint:"desc",quality:"X",details:`The Node ID of the Administrator that made the change, if the change occurred via a CASE session.
Exactly one of AdminNodeID and AdminPasscodeID shall be set, depending on whether the change occurred via a CASE or PASE session; the other shall be null.`,xref:{document:"core",section:"9.10.7.2.1"}}),o({name:"AdminPasscodeId",id:2,type:"uint16",access:"S",conformance:"M",constraint:"desc",quality:"X",details:`The Passcode ID of the Administrator that made the change, if the change occurred via a PASE session. Non-zero values are reserved for future use (see PasscodeId generation in PBKDFParamRequest).
Exactly one of AdminNodeID and AdminPasscodeID shall be set, depending on whether the change occurred via a CASE or PASE session; the other shall be null.`,xref:{document:"core",section:"9.10.7.2.2"}}),o({name:"ChangeType",id:3,type:"ChangeTypeEnum",access:"S",conformance:"M",details:"The type of change as appropriate.",xref:{document:"core",section:"9.10.7.2.3"}}),o({name:"LatestValue",id:4,type:"AccessControlExtensionStruct",access:"S",conformance:"M",quality:"X",details:`The latest value of the changed extension.
This field SHOULD be set if resources are adequate for it; otherwise it shall be set to NULL if resources are scarce.`,xref:{document:"core",section:"9.10.7.2.4"}}),o({name:"FabricIndex",id:254,type:"FabricIndex"})]}),C({name:"ChangeTypeEnum",type:"enum8",xref:{document:"core",section:"9.10.4.1"},children:[o({name:"Changed",id:0,conformance:"M",description:"Entry or extension was changed"}),o({name:"Added",id:1,conformance:"M",description:"Entry or extension was added"}),o({name:"Removed",id:2,conformance:"M",description:"Entry or extension was removed"})]}),C({name:"AccessControlEntryPrivilegeEnum",type:"enum8",details:`Proxy View Value
This value implicitly grants View privileges`,xref:{document:"core",section:"9.10.4.2"},children:[o({name:"View",id:1,conformance:"M",description:"Can read and observe all (except Access Control Cluster and as seen by a non-Proxy)"}),o({name:"ProxyView",id:2,conformance:"P, M",description:"Can read and observe all (as seen by a Proxy)"}),o({name:"Operate",id:3,conformance:"M",description:"View privileges, and can perform the primary function of this Node (except Access Control Cluster)",details:"This value implicitly grants View privileges",xref:{document:"core",section:"9.10.4.2.1"}}),o({name:"Manage",id:4,conformance:"M",description:"Operate privileges, and can modify persistent configuration of this Node (except Access Control Cluster)",details:"This value implicitly grants Operate & View privileges",xref:{document:"core",section:"9.10.4.2.2"}}),o({name:"Administer",id:5,conformance:"M",description:"Manage privileges, and can observe and modify the Access Control Cluster",details:"This value implicitly grants Manage, Operate, Proxy View & View privileges",xref:{document:"core",section:"9.10.4.2.3"}})]}),C({name:"AccessControlEntryAuthModeEnum",type:"enum8",xref:{document:"core",section:"9.10.4.3"},children:[o({name:"Pase",id:1,conformance:"M",description:"Passcode authenticated session"}),o({name:"Case",id:2,conformance:"M",description:"Certificate authenticated session"}),o({name:"Group",id:3,conformance:"M",description:"Group authenticated session"})]}),C({name:"AccessControlTargetStruct",type:"struct",xref:{document:"core",section:"9.10.4.4"},children:[o({name:"Cluster",id:0,type:"cluster-id",conformance:"M",quality:"X"}),o({name:"Endpoint",id:1,type:"endpoint-no",conformance:"M",quality:"X"}),o({name:"DeviceType",id:2,type:"devtype-id",conformance:"M",quality:"X"})]}),C({name:"AccessControlEntryStruct",type:"struct",xref:{document:"core",section:"9.10.4.5"},children:[o({name:"Privilege",id:1,type:"AccessControlEntryPrivilegeEnum",access:"S",conformance:"M",details:`The privilege field shall specify the level of privilege granted by this Access Control Entry.
NOTE The Proxy View privilege is provisional.
Each privilege builds upon its predecessor, expanding the set of actions that can be performed upon a Node. Administer is the highest privilege, and is special as it pertains to the administration of privileges itself, via the Access Control Cluster.
When a Node is granted a particular privilege, it is also implicitly granted all logically lower privilege levels as well. The following diagram illustrates how the higher privilege levels subsume the lower privilege levels:
Figure 43. Access Control Privilege Levels
Individual clusters shall define whether attributes are readable, writable, or both readable and writable. Clusters also shall define which privilege is minimally required to be able to perform a particular read or write action on those attributes, or invoke particular commands. Device type specifications may further restrict the privilege required.
The Access Control Cluster shall require the Administer privilege to observe and modify the Access Control Cluster itself. The Administer privilege shall NOT be used on Access Control Entries which use the Group auth mode.`,xref:{document:"core",section:"9.10.4.5.1"}}),o({name:"AuthMode",id:2,type:"AccessControlEntryAuthModeEnum",access:"S",conformance:"M",details:"The AuthMode field shall specify the authentication mode required by this Access Control Entry.",xref:{document:"core",section:"9.10.4.5.2"}}),o({name:"Subjects",id:3,type:"list",access:"S",conformance:"M",constraint:"max subjectsPerAccessControlEntry",quality:"X",details:`The subjects field shall specify a list of Subject IDs, to which this Access Control Entry grants access.
Device types may impose additional constraints on the minimum number of subjects per Access Control Entry.
An attempt to create an entry with more subjects than the node can support shall result in a RESOURCE_EXHAUSTED error and the entry shall NOT be created.
### Subject ID shall be of type uint64 with semantics depending on the entry\u2019s AuthMode as follows:
Subject Semantics
An empty subjects list indicates a wildcard; that is, this entry shall grant access to any Node that successfully authenticates via AuthMode. The subjects list shall NOT be empty if the entry\u2019s AuthMode is PASE.
The PASE AuthMode is reserved for future use (see Section 6.6.2.8, \u201CBootstrapping of the Access Control Cluster\u201D). An attempt to write an entry with AuthMode set to PASE shall fail with a status code of CONSTRAINT_ERROR.
For PASE authentication, the Passcode ID identifies the required passcode verifier, and shall be 0 for the default commissioning passcode.
For CASE authentication, the Subject ID is a distinguished name within the Operational Certificate shared during CASE session establishment, the type of which is determined by its range to be one of:
  \u2022 a Node ID, which identifies the required source node directly (by ID)
  \u2022 a CASE Authenticated Tag, which identifies the required source node indirectly (by tag)
For Group authentication, the Group ID identifies the required group, as defined in the Group Key Management Cluster.`,xref:{document:"core",section:"9.10.4.5.3"},children:[o({name:"entry",type:"subject-id"})]}),o({name:"Targets",id:4,type:"list",access:"S",conformance:"M",constraint:"max targetsPerAccessControlEntry",quality:"X",details:`The targets field shall specify a list of AccessControlTargetStruct, which define the clusters on this Node to which this Access Control Entry grants access.
Device types may impose additional constraints on the minimum number of targets per Access Control Entry.
An attempt to create an entry with more targets than the node can support shall result in a RESOURCE_EXHAUSTED error and the entry shall NOT be created.
A single target shall contain at least one field (Cluster, Endpoint, or DeviceType), and shall NOT contain both an Endpoint field and a DeviceType field.
A target grants access based on the presence of fields as follows:
Target Semantics
An empty targets list indicates a wildcard: that is, this entry shall grant access to all cluster instances on all endpoints on this Node.`,xref:{document:"core",section:"9.10.4.5.4"},children:[o({name:"entry",type:"AccessControlTargetStruct"})]}),o({name:"FabricIndex",id:254,type:"FabricIndex"})]}),C({name:"AccessControlExtensionStruct",type:"struct",xref:{document:"core",section:"9.10.4.6"},children:[o({name:"Data",id:1,type:"octstr",access:"S",conformance:"M",constraint:"max 128",details:`This field may be used by manufacturers to store arbitrary TLV-encoded data related to a fabric\u2019s Access Control Entries.
The contents shall consist of a top-level anonymous list; each list element shall include a profile-specific tag encoded in fully-qualified form.
Administrators may iterate over this list of elements, and interpret selected elements at their discretion. The content of each element is not specified, but may be coordinated among manufacturers at their discretion.`,xref:{document:"core",section:"9.10.4.6.1"}}),o({name:"FabricIndex",id:254,type:"FabricIndex"})]})]});A.children.push(lC);var dC=ie({name:"BridgedDeviceBasicInformation",id:57,type:"BasicInformation",classification:"endpoint",pics:"BRBINFO",details:`This Cluster serves two purposes towards a Node communicating with a Bridge:
  \u2022 Indicate that the functionality on the Endpoint where it is placed (and its Parts) is bridged     from a non-Matter technology, and
  \u2022 Provide a centralized collection of attributes that the Node may collect to aid in conveying     information regarding the Bridged Device to a user, such as the vendor name, the model name, or     user-assigned name.
This cluster shall be exposed by a Bridge on the Endpoint representing each Bridged Device. When the functionality of a Bridged Device is represented using a set of Endpoints, this cluster shall only be exposed on the Endpoint which is at the top of the hierarchy for the functionality of that Bridged Device.
This cluster shall NOT be used on an endpoint that is not in the Descriptor cluster PartsList of an endpoint with an Aggregator device type.
This cluster has been derived from the Basic Information Cluster, and provides generic information about the Bridged Device. Not all of the attributes in the Basic Information Cluster are relevant for a Bridged Device (e.g. ProductID since it is not a Matter device). For other attributes, the information which is listed as Mandatory for the Basic Information Cluster, may not be available when the Bridged Device does not provide it to the Bridge, and the Bridge has no other means to determine it. For such cases where the information for a particular attribute is not available, the Bridge SHOULD NOT include the attribute in the cluster for this Bridged Device. See below for Conformance details.`,xref:{document:"core",section:"9.13"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:3}),p({name:"DataModelRevision",id:0,conformance:"X",xref:{document:"core",section:"9.13.4"}}),p({name:"VendorName",id:1,conformance:"O",xref:{document:"core",section:"9.13.4"}}),p({name:"VendorId",id:2,conformance:"O",xref:{document:"core",section:"9.13.4"}}),p({name:"ProductName",id:3,conformance:"O",xref:{document:"core",section:"9.13.4"}}),p({name:"ProductId",id:4,conformance:"X",xref:{document:"core",section:"9.13.4"}}),p({name:"NodeLabel",id:5,conformance:"O",xref:{document:"core",section:"9.13.4"}}),p({name:"Location",id:6,conformance:"X",xref:{document:"core",section:"9.13.4"}}),p({name:"HardwareVersion",id:7,conformance:"O",xref:{document:"core",section:"9.13.4"}}),p({name:"HardwareVersionString",id:8,conformance:"O",xref:{document:"core",section:"9.13.4"}}),p({name:"SoftwareVersion",id:9,conformance:"O",xref:{document:"core",section:"9.13.4"}}),p({name:"SoftwareVersionString",id:10,conformance:"O",xref:{document:"core",section:"9.13.4"}}),p({name:"ManufacturingDate",id:11,conformance:"O",xref:{document:"core",section:"9.13.4"}}),p({name:"PartNumber",id:12,conformance:"O",xref:{document:"core",section:"9.13.4"}}),p({name:"ProductUrl",id:13,conformance:"O",xref:{document:"core",section:"9.13.4"}}),p({name:"ProductLabel",id:14,conformance:"O",xref:{document:"core",section:"9.13.4"}}),p({name:"SerialNumber",id:15,conformance:"O",xref:{document:"core",section:"9.13.4"}}),p({name:"LocalConfigDisabled",id:16,conformance:"X",xref:{document:"core",section:"9.13.4"}}),p({name:"Reachable",id:17,conformance:"M",xref:{document:"core",section:"9.13.4"}}),p({name:"UniqueId",id:18,conformance:"O",xref:{document:"core",section:"9.13.4"}}),p({name:"CapabilityMinima",id:19,conformance:"X",xref:{document:"core",section:"9.13.4"}}),p({name:"ProductAppearance",id:20,conformance:"O",xref:{document:"core",section:"9.13.4"}}),p({name:"SpecificationVersion",id:21,conformance:"X",xref:{document:"core",section:"9.13.4"}}),p({name:"MaxPathsPerInvoke",id:22,conformance:"X",xref:{document:"core",section:"9.13.4"}}),Se({name:"StartUp",id:0,conformance:"O",priority:"critical",xref:{document:"core",section:"9.13.5"}}),Se({name:"ShutDown",id:1,conformance:"O",priority:"critical",xref:{document:"core",section:"9.13.5"}}),Se({name:"Leave",id:2,conformance:"O",priority:"critical",details:`The Leave event SHOULD be generated by the bridge when it detects that the associated device has left the non-Matter network.
NOTE
The FabricIndex field has the X conformance, indicating it shall NOT be present. This event, in the context of Bridged Device Basic Information cluster, has no usable fields, but the original Basic Information cluster\u2019s field definition is kept for completeness.`,xref:{document:"core",section:"9.13.5.1"},children:[o({name:"FabricIndex",id:0,conformance:"X"})]}),Se({name:"ReachableChanged",id:3,conformance:"M",priority:"critical",details:`This event shall be generated when there is a change in the Reachable attribute. Its purpose is to provide an indication towards interested parties that the reachability of a bridged device (over the non-Matter network) has changed, so they may take appropriate action.
After (re)start of a bridge this event may be generated.`,xref:{document:"core",section:"9.13.5.2"}})]});A.children.push(dC);var uC=ie({name:"Actions",id:37,classification:"application",pics:"ACT",details:`This cluster provides a standardized way for a Node (typically a Bridge, but could be any Node) to expose
  \u2022 Information about logical grouping of endpoints on the Node (example: lights in a room)
  \u2022 Information about named actions that can be performed on such a group of endpoints
ple: recall a scene for a group of lights by its name)
  \u2022 Commands to trigger such actions
  \u2022 Events to receive feedback on the state of such actions.
The information on grouping and available actions is typically provided by the user or Bridge manufacturer via some means not defined in Matter, and therefore provided as read-only to Nodes. For example: a manufacturer-provided app allows a user to set up logical grouping and create/assign scene for such groups.
Using this cluster, a Node can learn about such logical grouping, provided actions, and trigger such actions.
While the origin of this cluster stems from use cases with a Bridge, its server side may also be implemented on any Node which can expose certain grouping, actions or automations to other users.
After defining the attributes, commands and events for this cluster, and the associated data types, several examples are provided to illustrate the capabilities of this cluster.
Actions can be defined in a flexible manner to suit the needs of the various nodes implementing this cluster. For each action, the commands available for that particular action are defined.
This cluster can be used to expose only the grouping of endpoints without any actions defined by populating the EndpointList attribute accordingly and providing an empty list for ActionList.
The term 'action' in the description of this cluster should not be confused with the term 'action' as used in the Interaction Model.`,xref:{document:"core",section:"9.14"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"ActionList",id:0,type:"list",access:"R V",conformance:"M",constraint:"max 256",default:[],details:"The ActionList attribute holds the list of actions. Each entry shall have an unique ActionID, and its EndpointListID shall exist in the EndpointLists attribute.",xref:{document:"core",section:"9.14.5.1"},children:[o({name:"entry",type:"ActionStruct"})]}),p({name:"EndpointLists",id:1,type:"list",access:"R V",conformance:"M",constraint:"max 256",default:[],details:"The EndpointLists attribute holds the list of endpoint lists. Each entry shall have an unique EndpointListID.",xref:{document:"core",section:"9.14.5.2"},children:[o({name:"entry",type:"EndpointListStruct"})]}),p({name:"SetupUrl",id:2,type:"string",access:"R V",conformance:"O",constraint:"max 512",details:`The SetupURL attribute (when provided) shall indicate a URL; its syntax shall follow the syntax as specified in RFC 3986, max. 512 ASCII characters. The location referenced by this URL shall provide additional information for the actions provided:
  \u2022 When used without suffix, it shall provide information about the various actions which the     cluster provides.
    \u25E6 Example: SetupURL could take the value of example://Actions or https://domain.example/       Matter/bridgev1/Actions for this generic case (access generic info how to use actions       provided by this cluster).
  \u2022 When used with a suffix of "/?a=" and the decimal value of ActionID for one of the actions, it     may provide information about that particular action. This could be a deeplink to     manufacturer-app/website (associated somehow to the server node) with the     information/edit-screen for this action so that the user can view and update details of the     action, e.g. edit the scene, or change the wake-up experience time period.
    \u25E6 Example of SetupURL with suffix added: example://Actions/?a=12345 or       https://domain.example/Matter/bridgev1/Actions/?a=12345 for linking to specific info/editing       of the action with ActionID 0x3039.`,xref:{document:"core",section:"9.14.5.3"}}),Se({name:"StateChanged",id:0,access:"V",conformance:"M",priority:"info",details:`This event shall be generated when there is a change in the State of an ActionID during the execution of an action and the most recent command using that ActionID used an InvokeID data field.
It provides feedback to the client about the progress of the action.
Example: When InstantActionWithTransition is invoked (with an InvokeID data field), two StateChanged events will be generated:
  \u2022 one when the transition starts (NewState=Active)
  \u2022 one when the transition completed (NewState=Inactive)`,xref:{document:"core",section:"9.14.7.1"},children:[o({name:"ActionId",id:0,type:"uint16",conformance:"M",details:"This field shall be set to the ActionID of the action which has changed state.",xref:{document:"core",section:"9.14.7.1.1"}}),o({name:"InvokeId",id:1,type:"uint32",conformance:"M",details:"This field shall be set to the InvokeID which was provided to the most recent command referencing this ActionID.",xref:{document:"core",section:"9.14.7.1.2"}}),o({name:"NewState",id:2,type:"ActionStateEnum",conformance:"M",details:"This field shall be set to state that the action has changed to.",xref:{document:"core",section:"9.14.7.1.3"}})]}),Se({name:"ActionFailed",id:1,access:"V",conformance:"M",priority:"info",details:`This event shall be generated when there is some error which prevents the action from its normal planned execution and the most recent command using that ActionID used an InvokeID data field.
It provides feedback to the client about the non-successful progress of the action.
Example: When InstantActionWithTransition is invoked (with an InvokeID data field), and another controller changes the state of one or more of the involved endpoints during the transition, thus interrupting the transition triggered by the action, two events would be generated:
  \u2022 StateChanged when the transition starts (NewState=Active)
  \u2022 ActionFailed when the interrupting command occurs (NewState=Inactive, Error=interrupted)
Example: When InstantActionWithTransition is invoked (with an InvokeID data field = 1), and the same client invokes an InstantAction with (the same or another ActionId and) InvokeID = 2, and this second command interrupts the transition triggered by the first command, these events would be generated:
  \u2022 StateChanged (InvokeID=1, NewState=Active) when the transition starts
  \u2022 ActionFailed (InvokeID=2, NewState=Inactive, Error=interrupted) when the second command     interrupts the transition
  \u2022 StateChanged (InvokeID=2, NewState=Inactive) upon the execution of the action for the second     command`,xref:{document:"core",section:"9.14.7.2"},children:[o({name:"ActionId",id:0,type:"uint16",conformance:"M",details:"This field shall be set to the ActionID of the action which encountered an error.",xref:{document:"core",section:"9.14.7.2.1"}}),o({name:"InvokeId",id:1,type:"uint32",conformance:"M",details:"This field shall be set to the InvokeID which was provided to the most recent command referencing this ActionID.",xref:{document:"core",section:"9.14.7.2.2"}}),o({name:"NewState",id:2,type:"ActionStateEnum",conformance:"M",details:"This field shall be set to state that the action is in at the time of generating the event.",xref:{document:"core",section:"9.14.7.2.3"}}),o({name:"Error",id:3,type:"ActionErrorEnum",conformance:"M",details:"This field shall be set to indicate the reason for non-successful progress of the action.",xref:{document:"core",section:"9.14.7.2.4"}})]}),U({name:"InstantAction",id:0,access:"O",conformance:"desc",direction:"request",response:"status",details:`This command triggers an action (state change) on the involved endpoints, in a "fire and forget" manner. Afterwards, the action\u2019s state shall be Inactive.
Example: recall a scene on a number of lights.`,xref:{document:"core",section:"9.14.6.1"},children:[o({name:"ActionId",id:0,type:"uint16",conformance:"M"}),o({name:"InvokeId",id:1,type:"uint32",conformance:"O"})]}),U({name:"InstantActionWithTransition",id:1,access:"O",conformance:"desc",direction:"request",response:"status",details:`It is recommended that, where possible (e.g., it is not possible for attributes with Boolean data type), a gradual transition SHOULD take place from the old to the new state over this time period. However, the exact transition is manufacturer dependent.
This command triggers an action (state change) on the involved endpoints, with a specified time to transition from the current state to the new state. During the transition, the action\u2019s state shall be Active. Afterwards, the action\u2019s state shall be Inactive.
Example: recall a scene on a number of lights, with a specified transition time.`,xref:{document:"core",section:"9.14.6.2"},children:[o({name:"ActionId",id:0,type:"uint16",conformance:"M"}),o({name:"InvokeId",id:1,type:"uint32",conformance:"O"}),o({name:"TransitionTime",id:2,type:"uint16",conformance:"M",details:"This field shall indicate the transition time in 1/10th of seconds.",xref:{document:"core",section:"9.14.6.2.1"}})]}),U({name:"StartAction",id:2,access:"O",conformance:"desc",direction:"request",response:"status",details:`This command triggers the commencement of an action on the involved endpoints. Afterwards, the action\u2019s state shall be Active.
Example: start a dynamic lighting pattern (such as gradually rotating the colors around the setpoints of the scene) on a set of lights.
Example: start a sequence of events such as a wake-up experience involving lights moving through several brightness/color combinations and the window covering gradually opening.`,xref:{document:"core",section:"9.14.6.3"},children:[o({name:"ActionId",id:0,type:"uint16",conformance:"M"}),o({name:"InvokeId",id:1,type:"uint32",conformance:"O"})]}),U({name:"StartActionWithDuration",id:3,access:"O",conformance:"desc",direction:"request",response:"status",details:`This command triggers the commencement of an action on the involved endpoints, and shall change the action\u2019s state to Active. After the specified Duration, the action will stop, and the action\u2019s state shall change to Inactive.
Example: start a dynamic lighting pattern (such as gradually rotating the colors around the setpoints of the scene) on a set of lights for 1 hour (Duration=3600).`,xref:{document:"core",section:"9.14.6.4"},children:[o({name:"ActionId",id:0,type:"uint16",conformance:"M"}),o({name:"InvokeId",id:1,type:"uint32",conformance:"O"}),o({name:"Duration",id:2,type:"uint32",conformance:"M",details:"This field shall indicate the requested duration in seconds.",xref:{document:"core",section:"9.14.6.4.1"}})]}),U({name:"StopAction",id:4,access:"O",conformance:"desc",direction:"request",response:"status",details:`This command stops the ongoing action on the involved endpoints. Afterwards, the action\u2019s state shall be Inactive.
Example: stop a dynamic lighting pattern which was previously started with StartAction.`,xref:{document:"core",section:"9.14.6.5"},children:[o({name:"ActionId",id:0,type:"uint16",conformance:"M"}),o({name:"InvokeId",id:1,type:"uint32",conformance:"O"})]}),U({name:"PauseAction",id:5,access:"O",conformance:"desc",direction:"request",response:"status",details:`This command pauses an ongoing action, and shall change the action\u2019s state to Paused.
Example: pause a dynamic lighting effect (the lights stay at their current color) which was previously started with StartAction.`,xref:{document:"core",section:"9.14.6.6"},children:[o({name:"ActionId",id:0,type:"uint16",conformance:"M"}),o({name:"InvokeId",id:1,type:"uint32",conformance:"O"})]}),U({name:"PauseActionWithDuration",id:6,access:"O",conformance:"desc",direction:"request",response:"status",details:`This command pauses an ongoing action, and shall change the action\u2019s state to Paused. After the specified Duration, the ongoing action will be automatically resumed. which shall change the action\u2019s state to Active.
Example: pause a dynamic lighting effect (the lights stay at their current color) for 10 minutes (Duration=600).
The difference between Pause/Resume and Disable/Enable is on the one hand semantic (the former is more of a transitionary nature while the latter is more permanent) and on the other hand these can be implemented slightly differently in the implementation of the action (e.g. a Pause would be automatically resumed after some hours or during a nightly reset, while an Disable would remain in effect until explicitly enabled again).`,xref:{document:"core",section:"9.14.6.7"},children:[o({name:"ActionId",id:0,type:"uint16",conformance:"M"}),o({name:"InvokeId",id:1,type:"uint32",conformance:"O"}),o({name:"Duration",id:2,type:"uint32",conformance:"M",details:"This field shall indicate the requested duration in seconds.",xref:{document:"core",section:"9.14.6.7.1"}})]}),U({name:"ResumeAction",id:7,access:"O",conformance:"desc",direction:"request",response:"status",details:`This command resumes a previously paused action, and shall change the action\u2019s state to Active.
The difference between ResumeAction and StartAction is that ResumeAction will continue the action from the state where it was paused, while StartAction will start the action from the beginning.
Example: resume a dynamic lighting effect (the lights' colors will change gradually, continuing from the point they were paused).`,xref:{document:"core",section:"9.14.6.8"},children:[o({name:"ActionId",id:0,type:"uint16",conformance:"M"}),o({name:"InvokeId",id:1,type:"uint32",conformance:"O"})]}),U({name:"EnableAction",id:8,access:"O",conformance:"desc",direction:"request",response:"status",details:`This command enables a certain action or automation. Afterwards, the action\u2019s state shall be Active.
Example: enable a motion sensor to control the lights in an area.`,xref:{document:"core",section:"9.14.6.9"},children:[o({name:"ActionId",id:0,type:"uint16",conformance:"M"}),o({name:"InvokeId",id:1,type:"uint32",conformance:"O"})]}),U({name:"EnableActionWithDuration",id:9,access:"O",conformance:"desc",direction:"request",response:"status",details:`This command enables a certain action or automation, and shall change the action\u2019s state to be Active. After the specified Duration, the action or automation will stop, and the action\u2019s state shall change to Disabled.
Example: enable a "presence mimicking" behavior for the lights in your home during a vacation; the Duration field is used to indicated the length of your absence from home. After that period, the presence mimicking behavior will no longer control these lights.`,xref:{document:"core",section:"9.14.6.10"},children:[o({name:"ActionId",id:0,type:"uint16",conformance:"M"}),o({name:"InvokeId",id:1,type:"uint32",conformance:"O"}),o({name:"Duration",id:2,type:"uint32",conformance:"M",details:"This field shall indicate the requested duration in seconds.",xref:{document:"core",section:"9.14.6.10.1"}})]}),U({name:"DisableAction",id:10,access:"O",conformance:"desc",direction:"request",response:"status",details:`This command disables a certain action or automation, and shall change the action\u2019s state to Inactive.
Example: disable a motion sensor to no longer control the lights in an area.`,xref:{document:"core",section:"9.14.6.11"},children:[o({name:"ActionId",id:0,type:"uint16",conformance:"M"}),o({name:"InvokeId",id:1,type:"uint32",conformance:"O"})]}),U({name:"DisableActionWithDuration",id:11,access:"O",conformance:"desc",direction:"request",response:"status",details:`This command disables a certain action or automation, and shall change the action\u2019s state to Disabled. After the specified Duration, the action or automation will re-start, and the action\u2019s state shall change to either Inactive or Active, depending on the actions (see examples 4 and 6).
Example: disable a "wakeup" experience for a period of 1 week when going on holiday (to prevent them from turning on in the morning while you\u2019re not at home). After this period, the wakeup experience will control the lights as before.`,xref:{document:"core",section:"9.14.6.12"},children:[o({name:"ActionId",id:0,type:"uint16",conformance:"M"}),o({name:"InvokeId",id:1,type:"uint32",conformance:"O"}),o({name:"Duration",id:2,type:"uint32",conformance:"M",details:"This field shall indicate the requested duration in seconds.",xref:{document:"core",section:"9.14.6.12.1"}})]}),C({name:"CommandBits",type:"map16",details:"Note - The bit allocation of this bitmap shall follow the ID\u2019s of the Commands of this cluster.",xref:{document:"core",section:"9.14.4.1"},children:[o({name:"InstantAction",constraint:"0",description:"Indicate support for InstantAction command"}),o({name:"InstantActionWithTransition",constraint:"1",description:"Indicate support for InstantActionWithTransition command"}),o({name:"StartAction",constraint:"2",description:"Indicate support for StartAction command"}),o({name:"StartActionWithDuration",constraint:"3",description:"Indicate support for StartActionWithDuration command"}),o({name:"StopAction",constraint:"4",description:"Indicate support for StopAction command"}),o({name:"PauseAction",constraint:"5",description:"Indicate support for PauseAction command"}),o({name:"PauseActionWithDuration",constraint:"6",description:"Indicate support for PauseActionWithDuration command"}),o({name:"ResumeAction",constraint:"7",description:"Indicate support for ResumeAction command"}),o({name:"EnableAction",constraint:"8",description:"Indicate support for EnableAction command"}),o({name:"EnableActionWithDuration",constraint:"9",description:"Indicate support for EnableActionWithDuration command"}),o({name:"DisableAction",constraint:"10",description:"Indicate support for DisableAction command"}),o({name:"DisableActionWithDuration",constraint:"11",description:"Indicate support for DisableActionWithDuration command"})]}),C({name:"ActionTypeEnum",type:"enum8",xref:{document:"core",section:"9.14.4.2"},children:[o({name:"Other",id:0,conformance:"M",description:"Use this only when none of the other values applies"}),o({name:"Scene",id:1,conformance:"M",description:"Bring the endpoints into a certain state",details:`Can be used to set a static state of the associated endpoints (typically using InstantAction or InstantActionWithTransition), or to bring these endpoints into a more dynamic state (typically using StartAction), where the endpoints would e.g. gradually cycle through certain colors for a pleasing effect. A voice controller could use "set" (to map to InstantAction) or "play" (to map to StartAction) to trigger such actions.
Example: see examples 1 and 2.`,xref:{document:"core",section:"9.14.4.2.1"}}),o({name:"Sequence",id:2,conformance:"M",description:"A sequence of states with a certain time pattern",details:`Indicates an action which involves a sequence of events/states of the associated endpoints, such as a wake-up experience.
Example: see example 4.`,xref:{document:"core",section:"9.14.4.2.2"}}),o({name:"Automation",id:3,conformance:"M",description:"Control an automation (e.g. motion sensor controlling lights)",details:"Indications an automation (e.g. a motion sensor controlling lights, an alarm system) which can bee.g. started, stopped, paused, resumed. Example: see example 3.",xref:{document:"core",section:"9.14.4.2.3"}}),o({name:"Exception",id:4,conformance:"M",description:"Sequence that will run when something doesn\u2019t happen",details:`Indicates some action which the server will execute when a certain condition (which normally does not happen) is not met.
Example: lock the doors when the server\u2019s system has detected no one is at home while the doors are in the 'unlocked' state.`,xref:{document:"core",section:"9.14.4.2.4"}}),o({name:"Notification",id:5,conformance:"M",description:"Use the endpoints to send a message to user",details:`Indicates an action that can be triggered (e.g. by InstantAction) to notify the user.
Example: play a pattern on the lights in the living room if there is someone in the garden in the evening.`,xref:{document:"core",section:"9.14.4.2.5"}}),o({name:"Alarm",id:6,conformance:"M",description:"Higher priority notification",details:`Similar to Notification but with a higher priority (and might override other endpoint states which Type=Notification would not override).
Example: flash all lights in the house when CO sensor triggers.`,xref:{document:"core",section:"9.14.4.2.6"}})]}),C({name:"ActionStateEnum",type:"enum8",details:"Note that some of these states are applicable only for certain actions, as determined by their SupportedCommands.",xref:{document:"core",section:"9.14.4.3"},children:[o({name:"Inactive",id:0,conformance:"M",description:"The action is not active"}),o({name:"Active",id:1,conformance:"M",description:"The action is active"}),o({name:"Paused",id:2,conformance:"M",description:"The action has been paused"}),o({name:"Disabled",id:3,conformance:"M",description:"The action has been disabled"})]}),C({name:"ActionErrorEnum",type:"enum8",xref:{document:"core",section:"9.14.4.4"},children:[o({name:"Unknown",id:0,conformance:"M",description:"Other reason not listed in the row(s) below"}),o({name:"Interrupted",id:1,conformance:"M",description:"The action was interrupted by another command or interaction"})]}),C({name:"EndpointListTypeEnum",type:"enum8",details:"The Room and Zone values are provided for the cases where a user (or the system on behalf of the user) has created logical grouping of the endpoints (e.g. bridged devices) based on location.",xref:{document:"core",section:"9.14.4.5"},children:[o({name:"Other",id:0,conformance:"M",description:"Another group of endpoints",details:"This value is provided for the case of an endpoint list which is tied specifically to this action i.e. not independently created by the user. For Type=Other the Name may be empty. A Matter controller would typically not use this for anything else than just to know which endpoints would be affected by the action.",xref:{document:"core",section:"9.14.4.5.1"}}),o({name:"Room",id:1,conformance:"M",description:"User-configured group of endpoints where an endpoint can be in only one room",details:"Is used for the situation where an endpoint can only be part of one such rooms (e.g. physical mapping). Using these exposed logical groups, a Matter controller who has a similar grouping concept can use it to place each endpoint (bridged device) in the right room automatically, without user having to redo that setup for each device in each system - both at first contact and upon later updates to the endpoints (e.g. user adds a bridged device or creates a new room).",xref:{document:"core",section:"9.14.4.5.2"}}),o({name:"Zone",id:2,conformance:"M",description:"User-configured group of endpoints where an endpoint can be in any number of zones",details:'Is a more general concept where an endpoint can be part of multiple zones, e.g. a light in the living room can be part of the "reading corner" zone (subset of the lights in the living room) but also part of the "downstairs" zone which contains all the lights on a floor, e.g. combining living room, kitchen and hallway. This indicates that a user has defined this list of endpoints as something they logically would like to control as a group, so Matter controllers could provide the user with a way to do as such.',xref:{document:"core",section:"9.14.4.5.3"}})]}),C({name:"ActionStruct",type:"struct",details:"This data type holds the details of a single action, and contains the data fields below.",xref:{document:"core",section:"9.14.4.6"},children:[o({name:"ActionId",id:0,type:"uint16",conformance:"M",details:"This field shall provide an unique identifier used to identify an action.",xref:{document:"core",section:"9.14.4.6.1"}}),o({name:"Name",id:1,type:"string",conformance:"M",constraint:"max 32[128]",details:'This field shall indicate the name (as assigned by the user or automatically by the server) associated with this action. This can be used for identifying the action to the user by the client. Example: "my colorful scene".',xref:{document:"core",section:"9.14.4.6.2"}}),o({name:"Type",id:2,type:"ActionTypeEnum",conformance:"M",details:"This field shall indicate the type of action. The value of Type of an action, along with its SupportedCommands can be used by the client in its UX or logic to determine how to present or use such action. See ActionTypeEnum for details and examples.",xref:{document:"core",section:"9.14.4.6.3"}}),o({name:"EndpointListId",id:3,type:"uint16",conformance:"M",details:"This field shall provide a reference to the associated endpoint list, which specifies the endpoints on this Node which will be impacted by this ActionID.",xref:{document:"core",section:"9.14.4.6.4"}}),o({name:"SupportedCommands",id:4,type:"CommandBits",conformance:"M",constraint:"0 to 4095",details:"This field is a bitmap which shall be used to indicate which of the cluster\u2019s commands are supported for this particular action, with a bit set to 1 for each supported command according to the table below. Other bits shall be set to 0.",xref:{document:"core",section:"9.14.4.6.5"}}),o({name:"State",id:5,type:"ActionStateEnum",conformance:"M",details:"This field shall indicate the current state of this action.",xref:{document:"core",section:"9.14.4.6.6"}})]}),C({name:"EndpointListStruct",type:"struct",details:"This data type holds the details of a single endpoint list, which relates to a set of endpoints that have some logical relation, and contains the data fields below.",xref:{document:"core",section:"9.14.4.7"},children:[o({name:"EndpointListId",id:0,type:"uint16",conformance:"M",details:"This field shall provide an unique identifier used to identify the endpoint list.",xref:{document:"core",section:"9.14.4.7.1"}}),o({name:"Name",id:1,type:"string",conformance:"M",constraint:"max 32[128]",details:'This field shall indicate the name (as assigned by the user or automatically by the server) associated with the set of endpoints in this list. This can be used for identifying the action to the user by the client. Example: "living room".',xref:{document:"core",section:"9.14.4.7.2"}}),o({name:"Type",id:2,type:"EndpointListTypeEnum",conformance:"M",details:"This field shall indicate the type of endpoint list, see EndpointListTypeEnum.",xref:{document:"core",section:"9.14.4.7.3"}}),o({name:"Endpoints",id:3,type:"list",conformance:"M",constraint:"max 256",details:"This field shall provide a list of endpoint numbers.",xref:{document:"core",section:"9.14.4.7.4"},children:[o({name:"entry",type:"endpoint-no"})]})]})]});A.children.push(uC);var mC=ie({name:"ProxyDiscovery",id:67,classification:"node",pics:"PXDSC",details:"This cluster contains commands needed to do proxy discovery as defined in the Section 9.15.7.3, \u201CStep 2: Proxy Discovery\u201D and Section 9.15.7.4, \u201CStep 3: Proxy Response\u201D steps of the overall Section 9.15.7, \u201CProxy Discovery & Assignment Flow\u201D.",xref:{document:"core",section:"9.15.12"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),U({name:"ProxyDiscoverRequest",id:0,access:"O",conformance:"M",direction:"request",details:"This command is used during proxy discovery, as specified in Section 9.15.7, \u201CProxy Discovery & Assignment Flow\u201D.",xref:{document:"core",section:"9.15.12.4.1"},children:[o({name:"SourceNodeId",id:0,type:"node-id",conformance:"M",details:"This is the Node ID of the source for which a client seeks to find a Proxy.",xref:{document:"core",section:"9.15.12.4.1.1"}}),o({name:"NumAttributePaths",id:1,type:"uint16",conformance:"M",constraint:"desc",details:"The number of attribute paths the client will have in the subscription request. This is a heuristic/hint to allow a Proxy to better ascertain whether it can support the ensuing subscription.",xref:{document:"core",section:"9.15.12.4.1.2"}}),o({name:"NumEventPaths",id:2,type:"uint16",conformance:"M",constraint:"desc",details:"The number of event paths the client will have in the subscription request. This is a heuristic/hint to allow a Proxy to better ascertain whether it can support the ensuing subscription.",xref:{document:"core",section:"9.15.12.4.1.3"}})]}),U({name:"ProxyDiscoverResponse",id:1,conformance:"M",direction:"response",details:"This command is used during proxy discovery, as specified in Section 9.15.7, \u201CProxy Discovery & Assignment Flow\u201D.",xref:{document:"core",section:"9.15.12.4.2"},children:[o({name:"SourceNodeId",id:0,type:"node-id",conformance:"M",details:"This is the Node ID of the source the proxy can proxy for. This shall match the node id in the corresponding Proxy Discover Request Command message.",xref:{document:"core",section:"9.15.12.4.2.1"}}),o({name:"NumHopsToSource",id:1,type:"uint16",conformance:"M",constraint:"desc",details:`If the proxy currently subscribes to the source (either directly or indirectly), this indicates the number of hops to the source. Sensible values start at 1, with 1 being used for a proxy that subscribes directly to the source. If the proxy is not subscribed directly to the source, this value shall be one greater than the NumHopsToSource for the given Node ID of the proxy it is subscribed to.
0 indicates that the proxy currently does not have a subscription to the source.`,xref:{document:"core",section:"9.15.12.4.2.2"}}),o({name:"AvailableCapacity",id:2,type:"uint16",conformance:"M",constraint:"desc",details:"A number indicating the number of Cluster Attribute Paths the proxy has space for support. This allows for an absolute comparison of different memory capacities of candidate proxies by the client in selecting the best possible candidate.",xref:{document:"core",section:"9.15.12.4.2.3"}})]})]});A.children.push(mC);var hC=ie({name:"ProxyConfiguration",id:66,classification:"node",pics:"PXCFG",details:"This cluster provides a means for a proxy-capable device to be told the set of Nodes it shall proxy.",xref:{document:"core",section:"9.15.13"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"ConfigurationList",id:0,type:"list",access:"RW",conformance:"M",default:[],quality:"N",details:"List of proxy configurations. There shall NOT be multiple entries in this list for the same fabric.",xref:{document:"core",section:"9.15.13.5.1"},children:[o({name:"entry",type:"ConfigurationStruct"})]}),C({name:"ConfigurationStruct",type:"struct",xref:{document:"core",section:"9.15.13.4.1"},children:[o({name:"ProxyAllNodes",id:1,type:"bool",access:"RW",conformance:"M",constraint:"desc",default:!1,details:"This field shall be set to true to indicate to the proxy that it shall proxy all nodes. When true, the SourceList attribute is ignored.",xref:{document:"core",section:"9.15.13.4.1.1"}}),o({name:"SourceList",id:2,type:"list",access:"RW",conformance:"M",constraint:"desc",default:[],details:"When ProxyAllNodes is false, this list contains the set of Node IDs of sources that this proxy shall specifically proxy.",xref:{document:"core",section:"9.15.13.4.1.2"},children:[o({name:"entry",type:"node-id"})]})]})]});A.children.push(hC);var fC=ie({name:"ValidProxies",id:68,classification:"node",pics:"PXVALID",details:"This cluster provides a means for a device to be told of the valid set of possible proxies that can proxy subscriptions on its behalf as per Section 9.15.7, \u201CProxy Discovery & Assignment Flow\u201D.",xref:{document:"core",section:"9.15.14"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"ValidProxyList",id:0,type:"list",access:"RW",conformance:"M",constraint:"nA",default:[],quality:"N F",details:"List of valid proxies that can proxy this Node. Each entry in this list is fabric-scoped.",xref:{document:"core",section:"9.15.14.5.1"},children:[o({name:"entry",type:"ValidProxyStruct"})]}),U({name:"GetValidProxiesRequest",id:0,access:"O",conformance:"M",direction:"request",response:"GetValidProxiesResponse",details:"This command is used during proxy discovery, as specified in Section 9.15.7, \u201CProxy Discovery & Assignment Flow\u201D.",xref:{document:"core",section:"9.15.14.6.1"}}),U({name:"GetValidProxiesResponse",id:1,conformance:"M",direction:"response",details:"This command is used during proxy discovery, as specified in Section 9.15.7, \u201CProxy Discovery & Assignment Flow\u201D.",xref:{document:"core",section:"9.15.14.6.2"},children:[o({name:"ProxyNodeIdList",id:0,type:"list",conformance:"M",children:[o({name:"entry",type:"node-id"})]})]}),C({name:"ValidProxyStruct",type:"struct",details:"Encapsulates the Node ID of a Valid Proxy.",xref:{document:"core",section:"9.15.14.4.1"},children:[o({name:"NodeId",id:1,type:"node-id",access:"RW",conformance:"M"})]})]});A.children.push(fC);var pC=ie({name:"IcdManagement",id:70,classification:"node",pics:"ICDM",details:`ICD Management Cluster enables configuration of the ICD\u2019s behavior and ensuring that listed clients can be notified when an intermittently connected device, ICD, is available for communication.
The cluster implements the requirements of the Check-In Protocol that enables the ICD Check-In use case.
NOTE This feature is provisional.`,xref:{document:"core",section:"9.17"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:2}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"core",section:"9.17.4"},children:[o({name:"CIP",conformance:"P, LITS, O",constraint:"0",description:"CheckInProtocolSupport",details:"When this feature is supported, the device shall support all the associated commands and attributes to properly support the Check-In Protocol.",xref:{document:"core",section:"9.17.4.1"}}),o({name:"UAT",conformance:"P, LITS, O",constraint:"1",description:"UserActiveModeTrigger",details:"This feature is supported if and only if the device has a user active mode trigger.",xref:{document:"core",section:"9.17.4.2"}}),o({name:"LITS",conformance:"P, O",constraint:"2",description:"LongIdleTimeSupport",details:`This feature is supported if and only the device is a Long Idle Time ICD.
NOTE In this version of the specification, the support for the feature is provisional.`,xref:{document:"core",section:"9.17.4.3"}})]}),p({name:"IdleModeDuration",id:0,type:"uint32",access:"R V",conformance:"M",constraint:"1 to 64800",default:1,quality:"F",details:"Indicates the maximum interval in seconds the server can stay in idle mode. The IdleModeDuration shall NOT be smaller than the ActiveModeDuration.",xref:{document:"core",section:"9.17.6.1"}}),p({name:"ActiveModeDuration",id:1,type:"uint32",access:"R V",conformance:"M",default:300,quality:"F",details:"Indicates the minimum interval in milliseconds the server typically will stay in active mode after initial transition out of idle mode. The ActiveModeDuration does not include the ActiveModeThreshold.",xref:{document:"core",section:"9.17.6.2"}}),p({name:"ActiveModeThreshold",id:2,type:"uint16",access:"R V",conformance:"M",default:300,quality:"F",details:"Indicates the minimum amount of time in milliseconds the server typically will stay active after network activity when in active mode.",xref:{document:"core",section:"9.17.6.3"}}),p({name:"RegisteredClients",id:3,type:"list",access:"R F A",conformance:"CIP",constraint:"desc",default:[],quality:"N",details:"This attribute shall contain all clients registered to receive notification if their subscription is lost. The maximum number of entries that can be in the list shall be ClientsSupportedPerFabric for each fabric supported on the server, as indicated by the value of the SupportedFabrics attribute in the Operational Credentials cluster.",xref:{document:"core",section:"9.17.6.4"},children:[o({name:"entry",type:"MonitoringRegistrationStruct"})]}),p({name:"IcdCounter",id:4,type:"uint32",access:"R A",conformance:"CIP",default:0,quality:"N C",details:"This attribute returns the value of the ICD Counter.",xref:{document:"core",section:"9.17.6.5"}}),p({name:"ClientsSupportedPerFabric",id:5,type:"uint16",access:"R V",conformance:"CIP",constraint:"min 1",default:1,quality:"F",details:"Indicates the maximum number of entries that the server is able to store for each fabric in the RegisteredClients attribute.",xref:{document:"core",section:"9.17.6.6"}}),p({name:"UserActiveModeTriggerHint",id:6,type:"UserActiveModeTriggerBitmap",access:"R V",conformance:"P, UAT",constraint:"desc",default:0,quality:"F",details:`Indicates which user action(s) will trigger the ICD to switch to Active mode. If the attribute indicates support for a trigger that is dependent on the UserActiveModeTriggerInstruction in the UserActiveModeTriggerHint table, the UserActiveModeTriggerInstruction attribute shall be implemented and shall provide the required information, unless specified otherwise in the requirement column of the UserActiveModeTriggerHint table.
ActuateSensorLightsBlink, ResetButtonLightsBlink and SetupButtonLightsBlink (i.e. bits 7, 9 and 14) have a dependency on the UserActiveModeTriggerInstruction attribute but do not require the attribute to be present.
An ICD can indicate multiple ways of being put into Active Mode by setting multiple bits in the bitmap at the same time. However, a device shall NOT set more than one bit which has a dependency on the UserActiveModeTriggerInstruction attribute.`,xref:{document:"core",section:"9.17.6.7"}}),p({name:"UserActiveModeTriggerInstruction",id:7,type:"string",access:"R V",conformance:"P, desc",constraint:"max 128",default:"",quality:"F",details:`The meaning of the attribute is dependent upon the UserActiveModeTriggerHint attribute value, and the conformance is in indicated in the "dependency" column in UserActiveModeTriggerHint table. The UserActiveModeTriggerInstruction attribute may give additional information on how to transition the device to Active Mode. If the attribute is present, the value shall be encoded as a valid UTF-8 string with a maximum length of 128 bytes. If the UserActiveModeTriggerHint has the ActuateSensorSeconds, ActuateSensorTimes, ResetButtonSeconds, ResetButtonTimes, SetupButtonSeconds or SetupButtonTimes set, the string shall consist solely of an encoding of N as a decimal
unsigned integer using the ASCII digits 0-9, and without leading zeros.
For example, given UserActiveModeTriggerHint="2048", ResetButtonTimes is set which indicates "Press Reset Button for N seconds". Therefore, a value of UserActiveModeTriggerInstruction="10" would indicate that N is 10 in that context.
When CustomInstruction is set by the UserActiveModeTriggerHint attribute, indicating presence of a custom string, the ICD SHOULD perform localization (translation to user\u2019s preferred language, as indicated in the Device\u2019s currently configured locale). The Custom Instruction option SHOULD NOT be used by an ICD that does not have knowledge of the user\u2019s language preference.
### When the UserActiveModeTriggerHint key indicates a light to blink (ActuateSensorLightsBlink, ResetButtonLightsBlink or SetupButtonLightsBlink), information on color of light may be made available via the UserActiveModeTriggerInstruction attribute. When using such color indication in the UserActiveModeTriggerInstruction attribute, only basic primary and secondary colors that could unambiguously be decoded by a commissioner and understood by an end-user, but without worry of localization, SHOULD be used, e.g. white, red, green, blue, orange, yellow, purple. The length of the attribute SHOULD be kept small.`,xref:{document:"core",section:"9.17.6.8"}}),p({name:"OperatingMode",id:8,type:"OperatingModeEnum",access:"R V",conformance:"P, LITS",details:`Indicates the operating mode of the ICD as specified in the OperatingModeEnum.
  \u2022 If the ICD is operating as a LIT ICD, OperatingMode shall be LIT.
  \u2022 If the ICD is operating as a SIT ICD, OperatingMode shall be SIT.`,xref:{document:"core",section:"9.17.6.9"}}),U({name:"RegisterClient",id:0,access:"F M",conformance:"CIP",direction:"request",response:"RegisterClientResponse",details:"This command allows a client to register itself with the ICD to be notified when the device is available for communication.",xref:{document:"core",section:"9.17.7.1"},children:[o({name:"CheckInNodeId",id:0,type:"node-id",conformance:"M",details:"This field shall provide the node ID to which a Check-In message will be sent if there are no active subscriptions matching MonitoredSubject.",xref:{document:"core",section:"9.17.7.1.1"}}),o({name:"MonitoredSubject",id:1,type:"subject-id",conformance:"M",details:"This field shall provide the monitored subject ID.",xref:{document:"core",section:"9.17.7.1.2"}}),o({name:"Key",id:2,type:"octstr",conformance:"M",constraint:"16",details:"This field shall provide the shared secret between the client and the ICD to encrypt the Check-In message.",xref:{document:"core",section:"9.17.7.1.3"}}),o({name:"VerificationKey",id:3,type:"octstr",conformance:"O",constraint:"16",details:"This field shall provide the verification key. The verification key represents the key already stored on the server. The verification key provided in this field shall be used by the server to guarantee that a client with manage permissions can only modify entries that contain a Key equal to the verification key. The verification key shall be provided for clients with manage permissions. The verification key SHOULD NOT be provided by clients with administrator permissions for the server cluster. The verification key shall be ignored by the server if it is provided by a client with administrator permissions for the server cluster.",xref:{document:"core",section:"9.17.7.1.4"}})]}),U({name:"RegisterClientResponse",id:1,conformance:"CIP",direction:"response",details:"This command shall be sent by the ICD Management Cluster server in response to a successful RegisterClient command.",xref:{document:"core",section:"9.17.7.2"},children:[o({name:"IcdCounter",id:0,type:"uint32",conformance:"M"})]}),U({name:"UnregisterClient",id:2,access:"F M",conformance:"CIP",direction:"request",response:"status",details:"This command allows a client to unregister itself with the ICD. Example: a client that is leaving the network (e.g. running on a phone which is leaving the home) can (and should) remove its subscriptions and send this UnregisterClient command before leaving to prevent the burden on the ICD of an absent client.",xref:{document:"core",section:"9.17.7.3"},children:[o({name:"CheckInNodeId",id:0,type:"node-id",conformance:"M",details:"This field shall provide the registered client node ID to remove from storage.",xref:{document:"core",section:"9.17.7.3.1"}}),o({name:"VerificationKey",id:1,type:"octstr",conformance:"O",constraint:"16",details:"This field shall provide the verification key associated with the CheckInNodeID to remove from storage. The verification key represents the key already stored on the server. The verification key provided in this field shall be used by the server to guarantee that a client with manage permissions can only remove entries that contain a Key equal to the stored key. The verification key shall be provided for clients with manage permissions. The verification key SHOULD NOT be provided by clients with administrator permissions for the server cluster. The verification key shall be ignored by the server if it is provided by a client with administrator permissions for the server cluster.",xref:{document:"core",section:"9.17.7.3.2"}})]}),U({name:"StayActiveRequest",id:3,access:"O",conformance:"LITS, O",direction:"request",response:"StayActiveResponse",details:`This command allows a client to request that the server stays in active mode for at least a given time duration (in milliseconds) from when this command is received.
This StayActiveDuration may be longer than the ActiveModeThreshold value and would, typically, be used by the client to request the server to stay active and responsive for this period to allow a sequence of message exchanges during that period. The client may slightly overestimate the duration it wants the ICD to be active for, in order to account for network delays.`,xref:{document:"core",section:"9.17.7.4"},children:[o({name:"StayActiveDuration",id:0,type:"uint32",conformance:"M"})]}),U({name:"StayActiveResponse",id:4,conformance:"LITS, O",direction:"response",details:"This message shall be sent by the ICD in response to the StayActiveRequest command and shall contain the computed duration (in milliseconds) that the ICD intends to stay active for.",xref:{document:"core",section:"9.17.7.5"},children:[o({name:"PromisedActiveDuration",id:0,type:"uint32",conformance:"M",constraint:"desc",details:`This field shall provide the actual duration that the ICD server can stay active from the time it receives the StayActiveRequest command.
### Minimum Value for PromisedActiveDuration
The minimum value of the PromisedActiveDuration field shall be equal to either 30000 milliseconds or StayActiveDuration (from the received StayActiveRequest command), whichever is smaller.`,xref:{document:"core",section:"9.17.7.5.1"}})]}),C({name:"UserActiveModeTriggerBitmap",type:"map32",details:"See the UserActiveModeTriggerHint table for requirements associated to each bit.",xref:{document:"core",section:"9.17.5.1"},children:[o({name:"PowerCycle",constraint:"0",description:"Power Cycle to transition the device to ActiveMode"}),o({name:"SettingsMenu",constraint:"1",description:"Settings menu on the device informs how to transition the device to ActiveMode"}),o({name:"CustomInstruction",constraint:"2",description:"Custom Instruction on how to transition the device to ActiveMode"}),o({name:"DeviceManual",constraint:"3",description:"Device Manual informs how to transition the device to ActiveMode"}),o({name:"ActuateSensor",constraint:"4",description:"Actuate Sensor to transition the device to ActiveMode"}),o({name:"ActuateSensorSeconds",constraint:"5",description:"Actuate Sensor for N seconds to transition the device to ActiveMode"}),o({name:"ActuateSensorTimes",constraint:"6",description:"Actuate Sensor N times to transition the device to ActiveMode"}),o({name:"ActuateSensorLightsBlink",constraint:"7",description:"Actuate Sensor until light blinks to transition the device to ActiveMode"}),o({name:"ResetButton",constraint:"8",description:"Press Reset Button to transition the device to ActiveMode"}),o({name:"ResetButtonLightsBlink",constraint:"9",description:"Press Reset Button until light blinks to transition the device to ActiveMode"}),o({name:"ResetButtonSeconds",constraint:"10",description:"Press Reset Button for N seconds to transition the device to ActiveMode"}),o({name:"ResetButtonTimes",constraint:"11",description:"Press Reset Button N times to transition the device to ActiveMode"}),o({name:"SetupButton",constraint:"12",description:"Press Setup Button to transition the device to ActiveMode"}),o({name:"SetupButtonSeconds",constraint:"13",description:"Press Setup Button for N seconds to transition the device to ActiveMode"}),o({name:"SetupButtonLightsBlink",constraint:"14",description:"Press Setup Button until light blinks to transition the device to ActiveMode"}),o({name:"SetupButtonTimes",constraint:"15",description:"Press Setup Button N times to transition the device to ActiveMode"}),o({name:"AppDefinedButton",constraint:"16",description:"Press the N Button to transition the device to ActiveMode"})]}),C({name:"MonitoringRegistrationStruct",type:"struct",xref:{document:"core",section:"9.17.5.2"},children:[o({name:"CheckInNodeId",id:1,type:"node-id",access:"S",conformance:"M",quality:"N",details:"This field shall indicate the NodeID of the Node to which Check-In messages will be sent when the MonitoredSubject is not subscribed.",xref:{document:"core",section:"9.17.5.2.1"}}),o({name:"MonitoredSubject",id:2,type:"subject-id",access:"S",conformance:"M",quality:"N",details:`This field shall indicate the monitored Subject ID. This field shall be used to determine if a particular client has an active subscription for the given entry. The MonitoredSubject, when it is a NodeID, may be the same as the CheckInNodeID. The MonitoredSubject gives the registering client the flexibility of having a different CheckInNodeID from the MonitoredSubject. A subscription shall count as an active subscription for this entry if:
  \u2022 It is on the associated fabric of this entry, and
  \u2022 The subject of this entry matches the ISD of the SubscriptionRequest message that created the     subscription. Matching shall be determined using the subject_matches function defined in the     Access Control Privilege Granting Algorithm.
For example, if the MonitoredSubject is Node ID 0x1111_2222_3333_AAAA, and one of the subscribers to the server on the entry\u2019s associated fabric bears that Node ID, then the entry matches.
Another example is if the MonitoredSubject has the value 0xFFFF_FFFD_AA12_0002, and one of the subscribers to the server on the entry\u2019s associated fabric bears the CASE Authenticated TAG value 0xAA12 and the version 0x0002 or higher within its NOC, then the entry matches.`,xref:{document:"core",section:"9.17.5.2.2"}}),o({name:"Key",id:3,access:"F",conformance:"D"}),o({name:"FabricIndex",id:254,type:"FabricIndex"})]}),C({name:"OperatingModeEnum",type:"enum8",xref:{document:"core",section:"9.17.5.3"},children:[o({name:"Sit",id:0,conformance:"M",description:"ICD is operating as a Short Idle Time ICD."}),o({name:"Lit",id:1,conformance:"M",description:"ICD is operating as a Long Idle Time ICD."})]})]});A.children.push(pC);var yC=ie({name:"BasicInformation",id:40,classification:"node",pics:"BINFO",details:"This cluster provides attributes and events for determining basic information about Nodes, which supports both Commissioning and operational determination of Node characteristics, such as Vendor ID, Product ID and serial number, which apply to the whole Node.",xref:{document:"core",section:"11.1"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:3}),p({name:"DataModelRevision",id:0,type:"uint16",access:"R V",conformance:"M",constraint:"desc",quality:"F",details:"This attribute shall be set to the revision number of the Data Model against which the Node is certified. The value of this attribute shall be one of the valid values listed in Section 7.1.1, \u201CRevision History\u201D.",xref:{document:"core",section:"11.1.5.1"}}),p({name:"VendorName",id:1,type:"string",access:"R V",conformance:"M",constraint:"max 32",quality:"F",details:"This attribute shall specify a human readable (displayable) name of the vendor for the Node.",xref:{document:"core",section:"11.1.5.2"}}),p({name:"VendorId",id:2,type:"vendor-id",access:"R V",conformance:"M",quality:"F",details:"This attribute shall specify the Vendor ID.",xref:{document:"core",section:"11.1.5.3"}}),p({name:"ProductName",id:3,type:"string",access:"R V",conformance:"M",constraint:"max 32",quality:"F",details:"This attribute shall specify a human readable (displayable) name of the model for the Node such as the model number (or other identifier) assigned by the vendor.",xref:{document:"core",section:"11.1.5.4"}}),p({name:"ProductId",id:4,type:"uint16",access:"R V",conformance:"M",quality:"F",details:"This attribute shall specify the Product ID assigned by the vendor that is unique to the specific product of the Node.",xref:{document:"core",section:"11.1.5.5"}}),p({name:"NodeLabel",id:5,type:"string",access:"RW VM",conformance:"M",constraint:"max 32",default:"",quality:"N",details:"Indicates a user defined name for the Node. This attribute SHOULD be set during initial commissioning and may be updated by further reconfigurations.",xref:{document:"core",section:"11.1.5.6"}}),p({name:"Location",id:6,type:"string",access:"RW VA",conformance:"M",constraint:"2",default:"XX",quality:"N",details:"This attribute shall be an ISO 3166-1 alpha-2 code to represent the country, dependent territory, or special area of geographic interest in which the Node is located at the time of the attribute being set. This attribute shall be set during initial commissioning (unless already set) and may be updated by further reconfigurations. This attribute may affect some regulatory aspects of the Node\u2019s operation, such as radio transmission power levels in given spectrum allocation bands if technologies where this is applicable are used. The Location\u2019s region code shall be interpreted in a case-insensitive manner. If the Node cannot understand the location code with which it was configured, or the location code has not yet been configured, it shall configure itself in a region- agnostic manner as determined by the vendor, avoiding region-specific assumptions as much as is practical. The special value XX shall indicate that region-agnostic mode is used.",xref:{document:"core",section:"11.1.5.7"}}),p({name:"HardwareVersion",id:7,type:"uint16",access:"R V",conformance:"M",default:0,quality:"F",details:"This attribute shall specify the version number of the hardware of the Node. The meaning of its value, and the versioning scheme, are vendor defined.",xref:{document:"core",section:"11.1.5.8"}}),p({name:"HardwareVersionString",id:8,type:"string",access:"R V",conformance:"M",constraint:"1 to 64",quality:"F",details:"This attribute shall specify the version number of the hardware of the Node. The meaning of its value, and the versioning scheme, are vendor defined. The HardwareVersionString attribute shall be used to provide a more user-friendly value than that represented by the HardwareVersion attribute.",xref:{document:"core",section:"11.1.5.9"}}),p({name:"SoftwareVersion",id:9,type:"uint32",access:"R V",conformance:"M",constraint:"desc",default:0,quality:"F",details:`This attribute shall contain the current version number for the software running on this Node.
The version number can be compared using a total ordering to determine if a version is logically newer than another one. A larger value of SoftwareVersion is newer than a lower value, from the perspective of software updates (see Section 11.20.3.3, \u201CAvailability of Software Images\u201D). Nodes may query this field to determine the currently running version of software on another given Node.`,xref:{document:"core",section:"11.1.5.10"}}),p({name:"SoftwareVersionString",id:10,type:"string",access:"R V",conformance:"M",constraint:"1 to 64",quality:"F",details:`This attribute shall contain a current human-readable representation for the software running on the Node. This version information may be conveyed to users. The maximum length of the SoftwareVersionString attribute is 64 bytes of UTF-8 characters. The contents SHOULD only use simple 7-bit ASCII alphanumeric and punctuation characters, so as to simplify the conveyance of the value to a variety of cultures.
Examples of version strings include "1.0", "1.2.3456", "1.2-2", "1.0b123", "1.2_3".`,xref:{document:"core",section:"11.1.5.11"}}),p({name:"ManufacturingDate",id:11,type:"string",access:"R V",conformance:"O",constraint:"8 to 16",quality:"F",details:"This attribute shall specify the date that the Node was manufactured. The first 8 characters shall specify the date of manufacture of the Node in international date notation according to ISO 8601, i.e., YYYYMMDD, e.g., 20060814. The final 8 characters may include country, factory, line, shift or other related information at the option of the vendor. The format of this information is vendor defined.",xref:{document:"core",section:"11.1.5.12"}}),p({name:"PartNumber",id:12,type:"string",access:"R V",conformance:"O",constraint:"max 32",quality:"F",details:`This attribute shall specify a human-readable (displayable) vendor assigned part number for the Node whose meaning and numbering scheme is vendor defined.
Multiple products (and hence PartNumbers) can share a ProductID. For instance, there may be different packaging (with different PartNumbers) for different regions; also different colors of a product might share the ProductID but may have a different PartNumber.`,xref:{document:"core",section:"11.1.5.13"}}),p({name:"ProductUrl",id:13,type:"string",access:"R V",conformance:"O",constraint:"max 256",quality:"F",details:"This attribute shall specify a link to a product specific web page. The syntax of the ProductURL attribute shall follow the syntax as specified in RFC 3986 [https://tools.ietf.org/html/rfc3986]. The specified URL SHOULD resolve to a maintained web page available for the lifetime of the product. The maximum length of the ProductUrl attribute is 256 ASCII characters.",xref:{document:"core",section:"11.1.5.14"}}),p({name:"ProductLabel",id:14,type:"string",access:"R V",conformance:"O",constraint:"max 64",quality:"F",details:"This attribute shall specify a vendor specific human readable (displayable) product label. The ProductLabel attribute may be used to provide a more user-friendly value than that represented by the ProductName attribute. The ProductLabel attribute SHOULD NOT include the name of the vendor as defined within the VendorName attribute.",xref:{document:"core",section:"11.1.5.15"}}),p({name:"SerialNumber",id:15,type:"string",access:"R V",conformance:"O",constraint:"max 32",quality:"F",details:"This attribute shall specify a human readable (displayable) serial number.",xref:{document:"core",section:"11.1.5.16"}}),p({name:"LocalConfigDisabled",id:16,type:"bool",access:"RW VM",conformance:"O",default:!1,quality:"N",details:"This attribute shall allow a local Node configuration to be disabled. When this attribute is set to True the Node shall disable the ability to configure the Node through an on-Node user interface. The value of the LocalConfigDisabled attribute shall NOT in any way modify, disable, or otherwise affect the user\u2019s ability to trigger a factory reset on the Node.",xref:{document:"core",section:"11.1.5.17"}}),p({name:"Reachable",id:17,type:"bool",access:"R V",conformance:"O",default:!0,details:`This attribute (when used) shall indicate whether the Node can be reached. For a native Node this is implicitly True (and its use is optional).
Its main use case is in the derived Bridged Device Basic Information cluster where it is used to indicate whether the bridged device is reachable by the bridge over the non-native network.`,xref:{document:"core",section:"11.1.5.18"}}),p({name:"UniqueId",id:18,type:"string",access:"R V",conformance:"O",constraint:"max 32",quality:"F",details:`This attribute (when used) shall indicate a unique identifier for the device, which is constructed in a manufacturer specific manner.
It may be constructed using a permanent device identifier (such as device MAC address) as basis. In order to prevent tracking,
  \u2022 it SHOULD NOT be identical to (or easily derived from) such permanent device identifier
  \u2022 it SHOULD be updated when the device is factory reset
  \u2022 it shall not be identical to the SerialNumber attribute
  \u2022 it shall not be printed on the product or delivered with the product The value does not need to     be human readable.`,xref:{document:"core",section:"11.1.5.19"}}),p({name:"CapabilityMinima",id:19,type:"CapabilityMinimaStruct",access:"R V",conformance:"M",quality:"F",details:`This attribute shall provide the minimum guaranteed value for some system-wide resource capabilities that are not otherwise cluster-specific and do not appear elsewhere. This attribute may be used by clients to optimize communication with Nodes by allowing them to use more than the strict minimum values required by this specification, wherever available.
The values supported by the server in reality may be larger than the values provided in this attribute, such as if a server is not resource-constrained at all. However, clients SHOULD only rely on the amounts provided in this attribute.
Note that since the fixed values within this attribute may change over time, both increasing and decreasing, as software versions change for a given Node, clients SHOULD take care not to assume forever unchanging values and SHOULD NOT cache this value permanently at Commissioning time.`,xref:{document:"core",section:"11.1.5.20"}}),p({name:"ProductAppearance",id:20,type:"ProductAppearanceStruct",access:"R V",conformance:"O",quality:"F",details:"This attribute shall provide information about the appearance of the product, which could be useful to a user trying to locate or identify the node.",xref:{document:"core",section:"11.1.5.21"}}),p({name:"SpecificationVersion",id:21,type:"uint32",access:"R V",conformance:"M",constraint:"desc",default:0,quality:"F",details:`This attribute shall contain the current version number for the specification version this Node was certified against. The version number can be compared using a total ordering to determine if a version is logically newer than another one. A larger value of SpecificationVersion is newer than a lower value.
Nodes may query this field to determine the currently supported version of the specification on another given Node.
The format of this number is segmented as its four component bytes. Bit positions for the fields are as follows:
For example, a SpecificationVersion value of 0x0102AA00 is composed of 4 version components, representing a version 1.2.170.0.
In the example above:
  \u2022 Major version is the uppermost byte (0x01).
  \u2022 Minor version is the following byte (0x02).
  \u2022 Patch version is 170/0xAA.
  \u2022 Reserved1 value is 0.
The initial revision (1.0) of this specification (1.0) was 0x01000000. Matter Spring 2024 release (1.3) was 0x01030000.
If the SpecificationVersion is absent or zero, such as in Basic Information cluster revisions prior to Revision 3, the specification version cannot be properly inferred unless other heuristics are employed.
Comparison of SpecificationVersion shall always include the total value over 32 bits, without masking reserved parts.`,xref:{document:"core",section:"11.1.5.22"}}),p({name:"MaxPathsPerInvoke",id:22,type:"uint16",access:"R V",conformance:"M",constraint:"min 1",default:1,quality:"F",details:`Indicates the maximum number of elements in a single InvokeRequests list (see Section 8.8.2, \u201CInvoke Request Action\u201D) that the Node is able to process. Note that since this attribute may change over time, both increasing and decreasing, as software versions change for a given Node, clients SHOULD take care not to assume forever unchanging values and SHOULD NOT
cache this value permanently at Commissioning time.
If the MaxPathsPerInvoke attribute is absent or zero, such as in Basic Information cluster revisions prior to Revision 3, clients shall assume a value of 1.`,xref:{document:"core",section:"11.1.5.23"}}),Se({name:"StartUp",id:0,access:"V",conformance:"M",priority:"critical",details:"The StartUp event shall be generated by a Node as soon as reasonable after completing a boot or reboot process. The StartUp event SHOULD be the first Data Model event recorded by the Node after it completes a boot or reboot process.",xref:{document:"core",section:"11.1.6.1"},children:[o({name:"SoftwareVersion",id:0,type:"uint32",conformance:"M",details:"This field shall be set to the same value as the one available in the SoftwareVersion attribute.",xref:{document:"core",section:"11.1.6.1.1"}})]}),Se({name:"ShutDown",id:1,access:"V",conformance:"O",priority:"critical",details:"The ShutDown event SHOULD be generated by a Node prior to any orderly shutdown sequence on a best-effort basis. When a ShutDown event is generated, it SHOULD be the last Data Model event recorded by the Node. This event SHOULD be delivered urgently to current subscribers on a best- effort basis. Any subsequent incoming interactions to the Node may be dropped until the completion of a future boot or reboot process.",xref:{document:"core",section:"11.1.6.2"}}),Se({name:"Leave",id:2,access:"V",conformance:"O",priority:"info",details:`The Leave event SHOULD be generated by a Node prior to permanently leaving a given Fabric, such as when the RemoveFabric command is invoked for a given fabric, or triggered by factory reset or some other manufacturer specific action to disable or reset the operational data in the Node. When a Leave event is generated, it SHOULD be assumed that the fabric recorded in the event is no longer usable, and subsequent interactions targeting that fabric will most likely fail.
Upon receipt of Leave Event on a subscription, the receiving Node may update other nodes in the
fabric by removing related bindings, access control list entries and other data referencing the leaving Node.`,xref:{document:"core",section:"11.1.6.3"},children:[o({name:"FabricIndex",id:0,type:"fabric-idx",conformance:"M",constraint:"1 to 254",details:"This field shall contain the local Fabric Index of the fabric which the node is about to leave.",xref:{document:"core",section:"11.1.6.3.1"}})]}),Se({name:"ReachableChanged",id:3,access:"V",conformance:"desc",priority:"info",details:`This event shall be supported if and only if the Reachable attribute is supported.
This event (when supported) shall be generated when there is a change in the Reachable attribute.
Its main use case is in the derived Bridged Device Basic Information cluster.`,xref:{document:"core",section:"11.1.6.4"},children:[o({name:"ReachableNewValue",id:0,type:"bool",conformance:"M",details:"This field shall indicate the value of the Reachable attribute after it was changed.",xref:{document:"core",section:"11.1.6.4.1"}})]}),C({name:"ProductFinishEnum",type:"enum8",details:"The data type of ProductFinishEnum is derived from enum8.",xref:{document:"core",section:"11.1.4.1"},children:[o({name:"Other",id:0,conformance:"M",description:"Product has some other finish not listed below."}),o({name:"Matte",id:1,conformance:"M",description:"Product has a matte finish."}),o({name:"Satin",id:2,conformance:"M",description:"Product has a satin finish."}),o({name:"Polished",id:3,conformance:"M",description:"Product has a polished or shiny finish."}),o({name:"Rugged",id:4,conformance:"M",description:"Product has a rugged finish."}),o({name:"Fabric",id:5,conformance:"M",description:"Product has a fabric finish."})]}),C({name:"ColorEnum",type:"enum8",details:"The data type of ColorEnum is derived from enum8.",xref:{document:"core",section:"11.1.4.2"},children:[o({name:"Black",id:0,conformance:"M",description:"Approximately RGB #000000."}),o({name:"Navy",id:1,conformance:"M",description:"Approximately RGB #000080."}),o({name:"Green",id:2,conformance:"M",description:"Approximately RGB #008000."}),o({name:"Teal",id:3,conformance:"M",description:"Approximately RGB #008080."}),o({name:"Maroon",id:4,conformance:"M",description:"Approximately RGB #800080."}),o({name:"Purple",id:5,conformance:"M",description:"Approximately RGB #800080."}),o({name:"Olive",id:6,conformance:"M",description:"Approximately RGB #808000."}),o({name:"Gray",id:7,conformance:"M",description:"Approximately RGB #808080."}),o({name:"Blue",id:8,conformance:"M",description:"Approximately RGB #0000FF."}),o({name:"Lime",id:9,conformance:"M",description:"Approximately RGB #00FF00."}),o({name:"Aqua",id:10,conformance:"M",description:"Approximately RGB #00FFFF."}),o({name:"Red",id:11,conformance:"M",description:"Approximately RGB #FF0000."}),o({name:"Fuchsia",id:12,conformance:"M",description:"Approximately RGB #FF00FF."}),o({name:"Yellow",id:13,conformance:"M",description:"Approximately RGB #FFFF00."}),o({name:"White",id:14,conformance:"M",description:"Approximately RGB #FFFFFF."}),o({name:"Nickel",id:15,conformance:"M",description:'Typical hardware "Nickel" color.'}),o({name:"Chrome",id:16,conformance:"M",description:'Typical hardware "Chrome" color.'}),o({name:"Brass",id:17,conformance:"M",description:'Typical hardware "Brass" color.'}),o({name:"Copper",id:18,conformance:"M",description:'Typical hardware "Copper" color.'}),o({name:"Silver",id:19,conformance:"M",description:'Typical hardware "Silver" color.'}),o({name:"Gold",id:20,conformance:"M",description:'Typical hardware "Gold" color.'})]}),C({name:"ProductAppearanceStruct",type:"struct",details:"This structure provides a description of the product\u2019s appearance.",xref:{document:"core",section:"11.1.4.3"},children:[o({name:"Finish",id:0,type:"ProductFinishEnum",conformance:"M",details:"This field shall indicate the visible finish of the product.",xref:{document:"core",section:"11.1.4.3.1"}}),o({name:"PrimaryColor",id:1,type:"ColorEnum",conformance:"M",quality:"X",details:"This field indicates the representative color of the visible parts of the product. If the product has no representative color, the field shall be null.",xref:{document:"core",section:"11.1.4.3.2"}})]}),C({name:"CapabilityMinimaStruct",type:"struct",details:"This structure provides constant values related to overall global capabilities of this Node, that are not cluster-specific.",xref:{document:"core",section:"11.1.4.4"},children:[o({name:"CaseSessionsPerFabric",id:0,type:"uint16",conformance:"M",constraint:"min 3",default:3,details:`This field shall indicate the actual minimum number of concurrent CASE sessions that are supported per fabric.
This value shall NOT be smaller than the required minimum indicated in Section 4.14.2.8, \u201CMinimal Number of CASE Sessions\u201D.`,xref:{document:"core",section:"11.1.4.4.1"}}),o({name:"SubscriptionsPerFabric",id:1,type:"uint16",conformance:"M",constraint:"min 3",default:3,details:`This field shall indicate the actual minimum number of concurrent subscriptions supported per fabric.
This value shall NOT be smaller than the required minimum indicated in Section 8.5.1, \u201CSubscribe Transaction\u201D.`,xref:{document:"core",section:"11.1.4.4.2"}})]})]});A.children.push(yC);var gC=ie({name:"GroupKeyManagement",id:63,classification:"node",pics:"GRPKEY",details:`The Group Key Management cluster manages group keys for the node. The cluster is scoped to the node and is a singleton for the node. This cluster maintains a list of groups supported by the node. Each group list entry supports a single group, with a single group ID and single group key. Duplicate groups are not allowed in the list. Additions or removal of a group entry are performed via modifications of the list. Such modifications require Administer privilege.
Each group entry includes a membership list of zero of more endpoints that are members of the group on the node. Modification of this membership list is done via the Groups cluster, which is scoped to an endpoint. Please see the System Model specification for more information on groups.`,xref:{document:"core",section:"11.2"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:2}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"core",section:"11.2.4"},children:[o({name:"CS",constraint:"0",description:"CacheAndSync",details:"The ability to support CacheAndSync security policy and MCSP."})]}),p({name:"GroupKeyMap",id:0,type:"list",access:"RW F VM",conformance:"M",constraint:"desc",default:[],quality:"N",details:"This attribute is a list of GroupKeyMapStruct entries. Each entry associates a logical Group Id with a particular group key set.",xref:{document:"core",section:"11.2.6.1"},children:[o({name:"entry",type:"GroupKeyMapStruct"})]}),p({name:"GroupTable",id:1,type:"list",access:"R F V",conformance:"M",constraint:"desc",default:[],details:`This attribute is a list of GroupInfoMapStruct entries. Each entry provides read-only information about how a given logical Group ID maps to a particular set of endpoints, and a name for the group. The content of this attribute reflects data managed via the Groups cluster (see AppClusters), and is in general terms referred to as the 'node-wide Group Table'.
The GroupTable shall NOT contain any entry whose GroupInfoMapStruct has an empty Endpoints list. If a RemoveGroup or RemoveAllGroups command causes the removal of a group mapping from its last mapped endpoint, the entire GroupTable entry for that given GroupId shall be removed.`,xref:{document:"core",section:"11.2.6.2"},children:[o({name:"entry",type:"GroupInfoMapStruct"})]}),p({name:"MaxGroupsPerFabric",id:2,type:"uint16",access:"R V",conformance:"M",default:0,quality:"F",details:"Indicates the maximum number of groups that this node supports per fabric. The value of this attribute shall be set to be no less than the required minimum supported groups as specified in Group Limits. The length of the GroupKeyMap and GroupTable list attributes shall NOT exceed the value of the MaxGroupsPerFabric attribute multiplied by the number of supported fabrics.",xref:{document:"core",section:"11.2.6.3"}}),p({name:"MaxGroupKeysPerFabric",id:3,type:"uint16",access:"R V",conformance:"M",constraint:"1 to 65535",default:1,quality:"F",details:"Indicates the maximum number of group key sets this node supports per fabric. The value of this attribute shall be set according to the minimum number of group key sets to support as specified in Group Limits.",xref:{document:"core",section:"11.2.6.4"}}),U({name:"KeySetWrite",id:0,access:"F A",conformance:"M",direction:"request",response:"status",details:`This command is used by Administrators to set the state of a given Group Key Set, including atomically updating the state of all epoch keys.
Effect on Receipt
The following validations shall be done against the content of the GroupKeySet field:
  \u2022 If the EpochKey0 field is null or its associated EpochStartTime0 field is null, then this     command shall fail with an INVALID_COMMAND status code responded to the client.
  \u2022 If the EpochKey0 field\u2019s length is not exactly 16 bytes, then this command shall fail with a     CONSTRAINT_ERROR status code responded to the client.
  \u2022 If the EpochStartTime0 is set to 0, then this command shall fail with an INVALID_COMMAND status     code responded to the client. Note that internally, a GroupKeySetStruct\u2019s EpochStartTime0 may     be set to zero, due to the behavior of the AddNOC command which synthesizes a GroupKeySetStruct     (see IPKValue). However, the value 0 is illegal in the GroupKeySet field sent by a client.
  \u2022 If the EpochKey1 field is not null, then the EpochKey0 field shall NOT be null. Otherwise this     command shall fail with an INVALID_COMMAND status code responded to the client.
  \u2022 If the EpochKey1 field is not null, and the field\u2019s length is not exactly 16 bytes, then this     command shall fail with a CONSTRAINT_ERROR status code responded to the client.
  \u2022 If the EpochKey1 field is not null, its associated EpochStartTime1 field shall NOT be null and     shall contain a later epoch start time than the epoch start time found in the EpochStartTime0     field. Otherwise this command shall fail with an INVALID_COMMAND status code responded to the     client.
  \u2022 If exactly one of the EpochKey1 or EpochStartTime1 is null, rather than both being null, or     neither being null, then this command shall fail with an INVALID_COMMAND status code responded     to the client.
  \u2022 If the EpochKey2 field is not null, then the EpochKey1 and EpochKey0 fields shall NOT be null.     Otherwise this command shall fail with an INVALID_COMMAND status code responded to the client.
  \u2022 If the EpochKey2 field is not null, and the field\u2019s length is not exactly 16 bytes, then this     command shall fail with a CONSTRAINT_ERROR status code responded to the client.
  \u2022 If the EpochKey2 field is not null, its associated EpochStartTime2 field shall NOT be null and     shall contain a later epoch start time than the epoch start time found in the EpochStartTime1     field. Otherwise this command shall fail with an INVALID_COMMAND status code responded to the     client.
  \u2022 If exactly one of the EpochKey2 or EpochStartTime2 is null, rather than both being null, or     neither being null, then this command shall fail with an INVALID_COMMAND status code responded     to the client.
If there exists a Group Key Set associated with the accessing fabric which has the same GroupKeySetID as that provided in the GroupKeySet field, then the contents of that group key set shall be replaced. A replacement shall be done by executing the equivalent of entirely removing the previous Group Key Set with the given GroupKeySetID, followed by an addition of a Group Key Set with the provided configuration. Otherwise, if the GroupKeySetID did not match an existing entry, a new Group Key Set associated with the accessing fabric shall be created with the provided data. The Group Key Set shall be written to non-volatile storage.
Upon completion, this command shall send a status code back to the initiator:
  \u2022 If the Group Key Set was properly installed or updated on the Node, the status code shall be
set to SUCCESS.
  \u2022 If there are insufficient resources on the receiver to store an additional Group Key Set, the     status code shall be set to RESOURCE_EXHAUSTED (see group key limits);
  \u2022 Otherwise, this status code shall be set to FAILURE.`,xref:{document:"core",section:"11.2.7.1"},children:[o({name:"GroupKeySet",id:0,type:"GroupKeySetStruct",conformance:"M"})]}),U({name:"KeySetRead",id:1,access:"F A",conformance:"M",direction:"request",response:"KeySetReadResponse",details:`This command is used by Administrators to read the state of a given Group Key Set.
Effect on Receipt
If there exists a Group Key Set associated with the accessing fabric which has the same GroupKeySetID as that provided in the GroupKeySetID field, then the contents of that Group Key Set shall be sent in a KeySetReadResponse command, but with the EpochKey0, EpochKey1 and EpochKey2 fields replaced by null.
Otherwise, if the GroupKeySetID does not refer to a Group Key Set associated with the accessing fabric, then this command shall fail with a NOT_FOUND status code.`,xref:{document:"core",section:"11.2.7.2"},children:[o({name:"GroupKeySetId",id:0,type:"uint16",conformance:"M"})]}),U({name:"KeySetReadResponse",id:2,conformance:"M",direction:"response",details:"This command shall be generated in response to the KeySetRead command, if a valid Group Key Set was found. It shall contain the configuration of the requested Group Key Set, with the EpochKey0, EpochKey1 and EpochKey2 key contents replaced by null.",xref:{document:"core",section:"11.2.7.3"},children:[o({name:"GroupKeySet",id:0,type:"GroupKeySetStruct",conformance:"M"})]}),U({name:"KeySetRemove",id:3,access:"F A",conformance:"M",direction:"request",response:"status",details:`This command is used by Administrators to remove all state of a given Group Key Set.
Effect on Receipt
If there exists a Group Key Set associated with the accessing fabric which has the same GroupKey
SetID as that provided in the GroupKeySetID field, then the contents of that Group Key Set shall be removed, including all epoch keys it contains.
If there exist any entries for the accessing fabric within the GroupKeyMap attribute that refer to the GroupKeySetID just removed, then these entries shall be removed from that list.
This command shall fail with an INVALID_COMMAND status code back to the initiator if the GroupKeySetID being removed is 0, which is the Key Set associated with the Identity Protection Key (IPK). The only method to remove the IPK is usage of the RemoveFabric command or any operation which causes the equivalent of a RemoveFabric to occur by side-effect.
This command shall send a SUCCESS status code back to the initiator on success, or NOT_FOUND if the GroupKeySetID requested did not exist.`,xref:{document:"core",section:"11.2.7.4"},children:[o({name:"GroupKeySetId",id:0,type:"uint16",conformance:"M"})]}),U({name:"KeySetReadAllIndices",id:4,access:"F A",conformance:"M",direction:"request",response:"KeySetReadAllIndicesResponse",details:`This command is used by Administrators to query a list of all Group Key Sets associated with the accessing fabric.
NOTE Field 0 for this command is reserved and shall NOT be used.
Effect on Receipt
Upon receipt, this command shall iterate all stored GroupKeySetStruct associated with the accessing fabric and generate a KeySetReadAllIndicesResponse command containing the list of GroupKeySetID values from those structs.`,xref:{document:"core",section:"11.2.7.5"},children:[o({name:"Reserved",id:0,conformance:"X"}),o({name:"GroupKeySetIDs",id:1,conformance:"X"})]}),U({name:"KeySetReadAllIndicesResponse",id:5,conformance:"M",direction:"response",details:"This command shall be generated in response to KeySetReadAllIndices and it shall contain the list of GroupKeySetID for all Group Key Sets associated with the scoped Fabric.",xref:{document:"core",section:"11.2.7.6"},children:[o({name:"GroupKeySetIDs",id:0,type:"list",conformance:"M",details:`This field references the set of group keys that generate operational group keys for use with the accessing fabric.
Each entry in GroupKeySetIDs is a GroupKeySetID field.`,xref:{document:"core",section:"11.2.7.6.1"},children:[o({name:"entry",type:"uint16"})]})]}),C({name:"GroupKeySecurityPolicyEnum",type:"enum8",xref:{document:"core",section:"11.2.5.1"},children:[o({name:"TrustFirst",id:0,conformance:"M",description:"Message counter synchronization using trust-first"}),o({name:"CacheAndSync",id:1,conformance:"CS",description:"Message counter synchronization using cache-and-sync"})]}),C({name:"GroupKeyMulticastPolicyEnum",type:"enum8",xref:{document:"core",section:"11.2.5.2"},children:[o({name:"PerGroupId",id:0,conformance:"M",description:"Indicates filtering of multicast messages for a specific Group ID",details:"The 16-bit Group Identifier of the Multicast Address shall be the Group ID of the group.",xref:{document:"core",section:"11.2.5.2.1"}}),o({name:"AllNodes",id:1,conformance:"M",description:"Indicates not filtering of multicast messages",details:"The 16-bit Group Identifier of the Multicast Address shall be 0xFFFF.",xref:{document:"core",section:"11.2.5.2.2"}})]}),C({name:"GroupKeyMapStruct",type:"struct",xref:{document:"core",section:"11.2.5.3"},children:[o({name:"GroupId",id:1,type:"group-id",access:"F",conformance:"M",details:"This field uniquely identifies the group within the scope of the given Fabric.",xref:{document:"core",section:"11.2.5.3.1"}}),o({name:"GroupKeySetId",id:2,type:"uint16",access:"F",conformance:"M",constraint:"1 to 65535",details:`This field references the set of group keys that generate operational group keys for use with this group, as specified in Section 4.16.3.5.1, \u201CGroup Key Set ID\u201D.
A GroupKeyMapStruct shall NOT accept GroupKeySetID of 0, which is reserved for the IPK.`,xref:{document:"core",section:"11.2.5.3.2"}}),o({name:"FabricIndex",id:254,type:"FabricIndex"})]}),C({name:"GroupKeySetStruct",type:"struct",xref:{document:"core",section:"11.2.5.4"},children:[o({name:"GroupKeySetId",id:0,type:"uint16",conformance:"M",details:"This field shall provide the fabric-unique index for the associated group key set, as specified in Section 4.16.3.5.1, \u201CGroup Key Set ID\u201D.",xref:{document:"core",section:"11.2.5.4.1"}}),o({name:"GroupKeySecurityPolicy",id:1,type:"GroupKeySecurityPolicyEnum",access:"S",conformance:"M",details:`This field shall provide the security policy for an operational group key set.
When CacheAndSync is not supported in the FeatureMap of this cluster, any action attempting to set CacheAndSync in the GroupKeySecurityPolicy field shall fail with an INVALID_COMMAND error.`,xref:{document:"core",section:"11.2.5.4.2"}}),o({name:"EpochKey0",id:2,type:"octstr",access:"S",conformance:"M",constraint:"16",quality:"X",details:"This field, if not null, shall be the root credential used in the derivation of an operational group key for epoch slot 0 of the given group key set. If EpochKey0 is not null, EpochStartTime0 shall NOT be null.",xref:{document:"core",section:"11.2.5.4.3"}}),o({name:"EpochStartTime0",id:3,type:"epoch-us",access:"S",conformance:"M",quality:"X",details:"This field, if not null, shall define when EpochKey0 becomes valid as specified by Section 4.16.3, \u201CEpoch Keys\u201D. Units are absolute UTC time in microseconds encoded using the epoch-us representation.",xref:{document:"core",section:"11.2.5.4.4"}}),o({name:"EpochKey1",id:4,type:"octstr",access:"S",conformance:"M",constraint:"16",quality:"X",details:`This field, if not null, shall be the root credential used in the derivation of an operational group
key for epoch slot 1 of the given group key set. If EpochKey1 is not null, EpochStartTime1 shall NOT be null.`,xref:{document:"core",section:"11.2.5.4.5"}}),o({name:"EpochStartTime1",id:5,type:"epoch-us",access:"S",conformance:"M",quality:"X",details:"This field, if not null, shall define when EpochKey1 becomes valid as specified by Section 4.16.3, \u201CEpoch Keys\u201D. Units are absolute UTC time in microseconds encoded using the epoch-us representation.",xref:{document:"core",section:"11.2.5.4.6"}}),o({name:"EpochKey2",id:6,type:"octstr",access:"S",conformance:"M",constraint:"16",quality:"X",details:"This field, if not null, shall be the root credential used in the derivation of an operational group key for epoch slot 2 of the given group key set. If EpochKey2 is not null, EpochStartTime2 shall NOT be null.",xref:{document:"core",section:"11.2.5.4.7"}}),o({name:"EpochStartTime2",id:7,type:"epoch-us",access:"S",conformance:"M",quality:"X",details:"This field, if not null, shall define when EpochKey2 becomes valid as specified by Section 4.16.3, \u201CEpoch Keys\u201D. Units are absolute UTC time in microseconds encoded using the epoch-us representation.",xref:{document:"core",section:"11.2.5.4.8"}}),o({name:"GroupKeyMulticastPolicy",id:8,type:"GroupKeyMulticastPolicyEnum",access:"S",conformance:"O",default:0,details:`This field specifies how the IPv6 Multicast Address shall be formed for groups using this operational group key set.
The PerGroupID method maximizes filtering of multicast messages, so that receiving nodes receive only multicast messages for groups to which they are subscribed.
The AllNodes method minimizes the number of multicast addresses to which a receiver node needs to subscribe.
NOTE
Support for GroupKeyMulticastPolicy is provisional. Correct default behavior is that implied by value PerGroupID.`,xref:{document:"core",section:"11.2.5.4.9"}})]}),C({name:"GroupInfoMapStruct",type:"struct",xref:{document:"core",section:"11.2.5.5"},children:[o({name:"GroupId",id:1,type:"group-id",access:"F",conformance:"M",details:"This field uniquely identifies the group within the scope of the given Fabric.",xref:{document:"core",section:"11.2.5.5.1"}}),o({name:"Endpoints",id:2,type:"list",access:"F",conformance:"M",constraint:"min 1",details:"This field provides the list of Endpoint IDs on the Node to which messages to this group shall be forwarded.",xref:{document:"core",section:"11.2.5.5.2"},children:[o({name:"entry",type:"endpoint-no"})]}),o({name:"GroupName",id:3,type:"string",access:"F",conformance:"O",constraint:"max 16",details:"This field provides a name for the group. This field shall contain the last GroupName written for a given GroupId on any Endpoint via the Groups cluster.",xref:{document:"core",section:"11.2.5.5.3"}}),o({name:"FabricIndex",id:254,type:"FabricIndex"})]})]});A.children.push(gC);var vC=ie({name:"LocalizationConfiguration",id:43,classification:"node",pics:"LCFG",details:`Nodes should be expected to be deployed to any and all regions of the world. These global regions may have differing common languages, units of measurements, and numerical formatting standards. As such, Nodes that visually or audibly convey information need a mechanism by which they can be configured to use a user\u2019s preferred language, units, etc.
This cluster supports an interface to a Node. It provides attributes for determining and configuring localization information that a Node shall utilize when conveying values to a user.`,xref:{document:"core",section:"11.3"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"ActiveLocale",id:0,type:"string",access:"RW VM",conformance:"M",constraint:"in supportedLocales",quality:"N",details:`The ActiveLocale attribute shall represent the locale that the Node is currently configured to use when conveying information. The ActiveLocale attribute shall be a Language Tag as defined by BCP47 [https://tools.ietf.org/rfc/bcp/bcp47.txt]. The ActiveLocale attribute shall have a default value assigned by the Vendor and shall be a value contained within the SupportedLocales attribute.
An attempt to write a value to ActiveLocale that is not present in SupportedLocales shall result in
a CONSTRAINT_ERROR error.`,xref:{document:"core",section:"11.3.4.1"}}),p({name:"SupportedLocales",id:1,type:"list",access:"R V",conformance:"M",constraint:"max 32[max 35]",quality:"F",details:"The SupportedLocales attribute shall represent a list of locale strings that are valid values for the ActiveLocale attribute. The list shall NOT contain any duplicate entries. The ordering of items within the list SHOULD NOT express any meaning.",xref:{document:"core",section:"11.3.4.2"},children:[o({name:"entry",type:"string"})]})]});A.children.push(vC);var bC=ie({name:"TimeFormatLocalization",id:44,classification:"node",pics:"LTIME",details:`Nodes should be expected to be deployed to any and all regions of the world. These global regions may have differing preferences for how dates and times are conveyed. As such, Nodes that visually or audibly convey time information need a mechanism by which they can be configured to use a user\u2019s preferred format.
This cluster supports an interface to a Node. It provides attributes for determining and configuring time and date formatting information that a Node shall utilize when conveying values to a user.`,xref:{document:"core",section:"11.4"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"core",section:"11.4.4"},children:[o({name:"CALFMT",constraint:"0",description:"CalendarFormat",details:"The Node can be configured to use different calendar formats when conveying values to a user."})]}),p({name:"HourFormat",id:0,type:"HourFormatEnum",access:"RW VM",conformance:"M",quality:"N",details:`Indicates the format that the Node is currently configured to use when conveying the hour unit of time.
If not UseActiveLocale, this value shall take priority over any unit implied through the ActiveLocale attribute.
If UseActiveLocale, any unit implied through the ActiveLocale attribute is used as the hour format, and if ActiveLocale is not present, the hour format is unknown.`,xref:{document:"core",section:"11.4.6.1"}}),p({name:"ActiveCalendarType",id:1,type:"CalendarTypeEnum",access:"RW VM",conformance:"CALFMT",constraint:"in supportedCalendarTypes",quality:"N",details:`Indicates the calendar format that the Node is currently configured to use when conveying dates.
If not UseActiveLocale, this value shall take priority over any unit implied through the ActiveLocale attribute.
If UseActiveLocale, any unit implied through the ActiveLocale attribute is used as the calendar type, and if ActiveLocale is not present, the calendar type is unknown.`,xref:{document:"core",section:"11.4.6.2"}}),p({name:"SupportedCalendarTypes",id:2,type:"list",access:"R V",conformance:"CALFMT",constraint:"desc",quality:"F",details:"Indicates a list of CalendarTypeEnum values that are supported by the Node. The list shall NOT contain any duplicate entries. The ordering of items within the list SHOULD NOT express any meaning. The maximum length of the SupportedCalendarTypes list shall be equivalent to the number of enumerations within CalendarTypeEnum.",xref:{document:"core",section:"11.4.6.3"},children:[o({name:"entry",type:"CalendarTypeEnum"})]}),C({name:"HourFormatEnum",type:"enum8",xref:{document:"core",section:"11.4.5.1"},children:[o({name:"12Hr",id:0,conformance:"M",description:"Time conveyed with a 12-hour clock"}),o({name:"24Hr",id:1,conformance:"M",description:"Time conveyed with a 24-hour clock"}),o({name:"UseActiveLocale",id:255,conformance:"M",description:"Use active locale clock"})]}),C({name:"CalendarTypeEnum",type:"enum8",xref:{document:"core",section:"11.4.5.2"},children:[o({name:"Buddhist",id:0,conformance:"O.a+",description:"Dates conveyed using the Buddhist calendar"}),o({name:"Chinese",id:1,conformance:"O.a+",description:"Dates conveyed using the Chinese calendar"}),o({name:"Coptic",id:2,conformance:"O.a+",description:"Dates conveyed using the Coptic calendar"}),o({name:"Ethiopian",id:3,conformance:"O.a+",description:"Dates conveyed using the Ethiopian calendar"}),o({name:"Gregorian",id:4,conformance:"O.a+",description:"Dates conveyed using the Gregorian calendar"}),o({name:"Hebrew",id:5,conformance:"O.a+",description:"Dates conveyed using the Hebrew calendar"}),o({name:"Indian",id:6,conformance:"O.a+",description:"Dates conveyed using the Indian calendar"}),o({name:"Islamic",id:7,conformance:"O.a+",description:"Dates conveyed using the Islamic calendar"}),o({name:"Japanese",id:8,conformance:"O.a+",description:"Dates conveyed using the Japanese calendar"}),o({name:"Korean",id:9,conformance:"O.a+",description:"Dates conveyed using the Korean calendar"}),o({name:"Persian",id:10,conformance:"O.a+",description:"Dates conveyed using the Persian calendar"}),o({name:"Taiwanese",id:11,conformance:"O.a+",description:"Dates conveyed using the Taiwanese calendar"}),o({name:"UseActiveLocale",id:255,conformance:"O.a+",description:"calendar implied from active locale"})]})]});A.children.push(bC);var xC=ie({name:"UnitLocalization",id:45,classification:"node",pics:"LUNIT",details:`Nodes should be expected to be deployed to any and all regions of the world. These global regions may have differing preferences for the units in which values are conveyed in communication to a
user. As such, Nodes that visually or audibly convey measurable values to the user need a mechanism by which they can be configured to use a user\u2019s preferred unit.
This cluster supports an interface to a Node. It provides attributes for determining and configuring the units that a Node shall utilize when conveying values in communication to a user.`,xref:{document:"core",section:"11.5"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"core",section:"11.5.4"},children:[o({name:"TEMP",constraint:"0",description:"TemperatureUnit",details:"The Node can be configured to use different units of temperature when conveying values to a user."})]}),p({name:"TemperatureUnit",id:0,type:"TempUnitEnum",access:"RW VM",conformance:"TEMP",quality:"N",details:"The TemperatureUnit attribute shall indicate the unit for the Node to use only when conveying temperature in communication to the user. If provided, this value shall take priority over any unit implied through the ActiveLocale Attribute.",xref:{document:"core",section:"11.5.6.1"}}),C({name:"TempUnitEnum",type:"enum8",xref:{document:"core",section:"11.5.5.1"},children:[o({name:"Fahrenheit",id:0,conformance:"M",description:"Temperature conveyed in Fahrenheit"}),o({name:"Celsius",id:1,conformance:"M",description:"Temperature conveyed in Celsius"}),o({name:"Kelvin",id:2,conformance:"M",description:"Temperature conveyed in Kelvin"})]})]});A.children.push(xC);var wC=ie({name:"PowerSourceConfiguration",id:46,classification:"node",pics:"PSCFG",details:"This cluster is used to describe the configuration and capabilities of a Device\u2019s power system. It provides an ordering overview as well as linking to the one or more endpoints each supporting a Power Source cluster.",xref:{document:"core",section:"11.6"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"Sources",id:0,type:"list",access:"R V",conformance:"M",constraint:"max 6",quality:"N",details:`This list shall contain the set of all power sources capable of participating in the power system of this Node. Each entry in the list shall be the endpoint number of an endpoint having a Power Source cluster, which corresponds to a physical power source. The endpoint number shall be unique within the list.
The order of power sources on a Node is defined by the Order attribute of its associated Power Source cluster provided on the endpoint. List entries shall be sorted in increasing order, that is, an entry with a lower order shall have a lower index than any entry with a higher order. Multiple entries may have the same order, there are no restrictions on their relative sorting.`,xref:{document:"core",section:"11.6.4.1"},children:[o({name:"entry",type:"endpoint-no"})]})]});A.children.push(wC);var TC=ie({name:"PowerSource",id:47,classification:"node",pics:"PS",details:"This cluster is used to describe the configuration and capabilities of a physical power source that provides power to one or more endpoints on a node. In case the node has multiple power sources, each is described by its own cluster instance. Each instance of this cluster may be associated with one or more endpoints or the entire node.",xref:{document:"core",section:"11.7"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:2}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"core",section:"11.7.4"},children:[o({name:"WIRED",conformance:"O",constraint:"0",description:"Wired",details:"A wired power source"}),o({name:"BAT",conformance:"O",constraint:"1",description:"Battery",details:"A battery power source"}),o({name:"RECHG",conformance:"[BAT]",constraint:"2",description:"Rechargeable",details:"A rechargeable battery power source"}),o({name:"REPLC",conformance:"[BAT]",constraint:"3",description:"Replaceable",details:"A replaceable battery power source"})]}),p({name:"Status",id:0,type:"PowerSourceStatusEnum",access:"R V",conformance:"M",constraint:"desc",details:"Indicates the participation of this power source in providing power to the Node as specified in PowerSourceStatusEnum.",xref:{document:"core",section:"11.7.7.1"}}),p({name:"Order",id:1,type:"uint8",access:"R V",conformance:"M",quality:"N",details:`Indicates the relative preference with which the Node will select this source to provide power. A source with a lower order shall be selected by the Node to provide power before any other source with a higher order, if the lower order source is available (see Status).
Note, Order is read-only and therefore NOT intended to allow clients control over power source selection.`,xref:{document:"core",section:"11.7.7.2"}}),p({name:"Description",id:2,type:"string",access:"R V",conformance:"M",constraint:"max 60",quality:"F",details:'This attribute shall provide a user-facing description of this source, used to distinguish it from other power sources, e.g. "DC Power", "Primary Battery" or "Battery back-up". This attribute shall NOT be used to convey information such as battery form factor, or chemistry.',xref:{document:"core",section:"11.7.7.3"}}),p({name:"WiredAssessedInputVoltage",id:3,type:"uint32",access:"R V",conformance:"[WIRED]",quality:"X C",details:"Indicates the assessed RMS or DC voltage currently provided by the hard-wired source, in mV (millivolts). A value of NULL shall indicate the Node is currently unable to assess the value. If the wired source is not connected, but the Node is still able to assess a value, then the assessed value may be reported.",xref:{document:"core",section:"11.7.7.4"}}),p({name:"WiredAssessedInputFrequency",id:4,type:"uint16",access:"R V",conformance:"[WIRED]",quality:"X C",details:"Indicates the assessed frequency of the voltage, currently provided by the hard-wired source, in Hz. A value of NULL shall indicate the Node is currently unable to assess the value. If the wired source is not connected, but the Node is still able to assess a value, then the assessed value may be reported.",xref:{document:"core",section:"11.7.7.5"}}),p({name:"WiredCurrentType",id:5,type:"WiredCurrentTypeEnum",access:"R V",conformance:"WIRED",constraint:"desc",quality:"F",details:"Indicates the type of current the Node expects to be provided by the hard- wired source as specified in WiredCurrentTypeEnum.",xref:{document:"core",section:"11.7.7.6"}}),p({name:"WiredAssessedCurrent",id:6,type:"uint32",access:"R V",conformance:"[WIRED]",quality:"X C",details:"Indicates the assessed instantaneous current draw of the Node on the hard- wired source, in mA (milliamps). A value of NULL shall indicate the Node is currently unable to assess the value. If the wired source is not connected, but the Node is still able to assess a value, then the assessed value may be reported.",xref:{document:"core",section:"11.7.7.7"}}),p({name:"WiredNominalVoltage",id:7,type:"uint32",access:"R V",conformance:"[WIRED]",quality:"F",details:"Indicates the nominal voltage, printed as part of the Node\u2019s regulatory compliance label in mV (millivolts), expected to be provided by the hard-wired source.",xref:{document:"core",section:"11.7.7.8"}}),p({name:"WiredMaximumCurrent",id:8,type:"uint32",access:"R V",conformance:"[WIRED]",quality:"F",details:"Indicates the maximum current, printed as part of the Node\u2019s regulatory compliance label in mA (milliamps), expected to be provided by the hard-wired source.",xref:{document:"core",section:"11.7.7.9"}}),p({name:"WiredPresent",id:9,type:"bool",access:"R V",conformance:"[WIRED]",details:"Indicates if the Node detects that the hard-wired power source is properly connected.",xref:{document:"core",section:"11.7.7.10"}}),p({name:"ActiveWiredFaults",id:10,type:"list",access:"R V",conformance:"[WIRED]",constraint:"max 8",details:"Indicates the set of wired faults currently detected by the Node on this power source. This set is represented as a list of WiredFaultEnum. When the Node detects a fault has been raised, the appropriate WiredFaultEnum value shall be added to this list, provided it is not already present. This list shall NOT contain more than one instance of a specific WiredFaultEnum value. When the Node detects all conditions contributing to a fault have been cleared, the corresponding WiredFaultEnum value shall be removed from this list. An empty list shall indicate there are currently no active faults. The order of this list SHOULD have no significance. Clients interested in monitoring changes in active faults may subscribe to this attribute, or they may subscribe to WiredFaultChange.",xref:{document:"core",section:"11.7.7.11"},children:[o({name:"entry",type:"WiredFaultEnum"})]}),p({name:"BatVoltage",id:11,type:"uint32",access:"R V",conformance:"[BAT]",quality:"X C",details:"Indicates the currently measured output voltage of the battery in mV (millivolts). A value of NULL shall indicate the Node is currently unable to assess the value.",xref:{document:"core",section:"11.7.7.12"}}),p({name:"BatPercentRemaining",id:12,type:"uint8",access:"R V",conformance:"[BAT]",constraint:"0 to 200",quality:"X C",details:"Indicates the estimated percentage of battery charge remaining until the battery will no longer be able to provide power to the Node. Values are expressed in half percent units, ranging from 0 to 200. E.g. a value of 48 is equivalent to 24%. A value of NULL shall indicate the Node is currently unable to assess the value.",xref:{document:"core",section:"11.7.7.13"}}),p({name:"BatTimeRemaining",id:13,type:"uint32",access:"R V",conformance:"[BAT]",quality:"X C",details:"Indicates the estimated time in seconds before the battery will no longer be able to provide power to the Node. A value of NULL shall indicate the Node is currently unable to assess the value.",xref:{document:"core",section:"11.7.7.14"}}),p({name:"BatChargeLevel",id:14,type:"BatChargeLevelEnum",access:"R V",conformance:"BAT",constraint:"desc",details:"Indicates a coarse ranking of the charge level of the battery, used to indicate when intervention is required as specified in BatChargeLevelEnum.",xref:{document:"core",section:"11.7.7.15"}}),p({name:"BatReplacementNeeded",id:15,type:"bool",access:"R V",conformance:"BAT",details:"Indicates if the battery needs to be replaced. Replacement may be simple routine maintenance, such as with a single use, non-rechargeable cell. Replacement, however, may also indicate end of life, or serious fault with a rechargeable or even non-replaceable cell.",xref:{document:"core",section:"11.7.7.16"}}),p({name:"BatReplaceability",id:16,type:"BatReplaceabilityEnum",access:"R V",conformance:"BAT",quality:"F",details:"Indicates the replaceability of the battery as specified in BatReplaceabilityEnum.",xref:{document:"core",section:"11.7.7.17"}}),p({name:"BatPresent",id:17,type:"bool",access:"R V",conformance:"[BAT]",details:"Indicates whether the Node detects that the batteries are properly installed.",xref:{document:"core",section:"11.7.7.18"}}),p({name:"ActiveBatFaults",id:18,type:"list",access:"R V",conformance:"[BAT]",constraint:"max 8",details:"Indicates the set of battery faults currently detected by the Node on this power source. This set is represented as a list of BatFaultEnum. When the Node detects a fault has been raised, the appropriate BatFaultEnum value shall be added to this list, provided it is not already present. This list shall NOT contain more than one instance of a specific BatFaultEnum value. When the Node detects all conditions contributing to a fault have been cleared, the corresponding BatFaultEnum value shall be removed from this list. An empty list shall indicate there are currently no active faults. The order of this list SHOULD have no significance. Clients interested in monitoring changes in active faults may subscribe to this attribute, or they may subscribe to BatFaultChange.",xref:{document:"core",section:"11.7.7.19"},children:[o({name:"entry",type:"BatFaultEnum"})]}),p({name:"BatReplacementDescription",id:19,type:"string",access:"R V",conformance:"REPLC",constraint:"max 60",quality:"F",details:"This attribute shall provide a user-facing description of this battery, which SHOULD contain information required to identify a replacement, such as form factor, chemistry or preferred manufacturer.",xref:{document:"core",section:"11.7.7.20"}}),p({name:"BatCommonDesignation",id:20,type:"BatCommonDesignationEnum",access:"R V",conformance:"[REPLC]",constraint:"desc",quality:"F",details:"Indicates the ID of the common or colloquial designation of the battery, as specified in BatCommonDesignationEnum.",xref:{document:"core",section:"11.7.7.21"}}),p({name:"BatAnsiDesignation",id:21,type:"string",access:"R V",conformance:"[REPLC]",constraint:"max 20",quality:"F",details:"Indicates the string representing the ANSI designation for the battery as specified in ANSI C18.",xref:{document:"core",section:"11.7.7.22"}}),p({name:"BatIecDesignation",id:22,type:"string",access:"R V",conformance:"[REPLC]",constraint:"max 20",quality:"F",details:"Indicates the string representing the IEC designation for the battery as specified in IEC 60086.",xref:{document:"core",section:"11.7.7.23"}}),p({name:"BatApprovedChemistry",id:23,type:"BatApprovedChemistryEnum",access:"R V",conformance:"[REPLC]",constraint:"desc",quality:"F",details:"Indicates the ID of the preferred chemistry of the battery source as specified in BatApprovedChemistryEnum.",xref:{document:"core",section:"11.7.7.24"}}),p({name:"BatCapacity",id:24,type:"uint32",access:"R V",conformance:"[REPLC | RECHG]",quality:"F",details:"Indicates the preferred minimum charge capacity rating in mAh of individual, user- or factory-serviceable battery cells or packs in the battery source.",xref:{document:"core",section:"11.7.7.25"}}),p({name:"BatQuantity",id:25,type:"uint8",access:"R V",conformance:"REPLC",quality:"F",details:"Indicates the quantity of individual, user- or factory-serviceable battery cells or packs in the battery source.",xref:{document:"core",section:"11.7.7.26"}}),p({name:"BatChargeState",id:26,type:"BatChargeStateEnum",access:"R V",conformance:"RECHG",constraint:"desc",details:"Indicates the current state of the battery source with respect to charging as specified in BatChargeStateEnum.",xref:{document:"core",section:"11.7.7.27"}}),p({name:"BatTimeToFullCharge",id:27,type:"uint32",access:"R V",conformance:"[RECHG]",quality:"X C",details:"Indicates the estimated time in seconds before the battery source will be at full charge. A value of NULL shall indicate the Node is currently unable to assess the value.",xref:{document:"core",section:"11.7.7.28"}}),p({name:"BatFunctionalWhileCharging",id:28,type:"bool",access:"R V",conformance:"RECHG",details:"Indicates whether the Node can remain operational while the battery source is charging.",xref:{document:"core",section:"11.7.7.29"}}),p({name:"BatChargingCurrent",id:29,type:"uint32",access:"R V",conformance:"[RECHG]",quality:"X C",details:"Indicates assessed current in mA (milliamps) presently supplied to charge the battery source. A value of NULL shall indicate the Node is currently unable to assess the value.",xref:{document:"core",section:"11.7.7.30"}}),p({name:"ActiveBatChargeFaults",id:30,type:"list",access:"R V",conformance:"[RECHG]",constraint:"max 16",details:"Indicates the set of charge faults currently detected by the Node on this power source. This set is represented as a list of BatChargeFaultEnum. When the Node detects a fault has been raised, the appropriate BatChargeFaultEnum value shall be added to this list, provided it is not already present. This list shall NOT contain more than one instance of a specific BatChargeFaultEnum value. When the Node detects all conditions contributing to a fault have been cleared, the corresponding BatChargeFaultEnum value shall be removed from this list. An empty list shall indicate there are currently no active faults. The order of this list SHOULD have no significance. Clients interested in monitoring changes in active faults may subscribe to this attribute, or they may subscribe to the BatFaultChange event.",xref:{document:"core",section:"11.7.7.31"},children:[o({name:"entry",type:"BatChargeFaultEnum"})]}),p({name:"EndpointList",id:31,type:"list",access:"R V",conformance:"M",details:`Indicates a list of endpoints that are powered by the source defined by this cluster. Multiple instances of this cluster may list the same endpoint, because it is possible for power for an endpoint to come from multiple sources. In that case the Order attribute indicates their priority.
For each power source on a node, there shall only be one instance of this cluster.
A cluster instance with an empty list shall indicate that the power source is for the entire node, which includes all endpoints.
A cluster instance with a non-empty list shall include the endpoint, upon which the cluster instance resides.
The above rules allow that some endpoints can have an unknown power source, and therefore would not be indicated by any instance of this cluster.
Empty list examples
Typically, there is one power source for the node. Also common is mains power for the node with battery backup power for the node. In both these common cases, for each cluster instance described, the list is empty.
Populated list example
A node has a mains power source with Order as 0 (zero), but some application endpoints (not all) have a battery back up source with Order as 1, which means this list is empty for the Power Source cluster associated with the mains power, because it indicates the entire node, but the Power Source cluster instance associated with the battery backup would list the endpoints that have a battery backup.`,xref:{document:"core",section:"11.7.7.32"},children:[o({name:"entry",type:"endpoint-no"})]}),Se({name:"WiredFaultChange",id:0,access:"V",conformance:"[WIRED]",priority:"info",details:"The WiredFaultChange Event shall be generated when the set of wired faults currently detected by the Node on this wired power source changes. This event shall correspond to a change in value of ActiveWiredFaults.",xref:{document:"core",section:"11.7.8.1"},children:[o({name:"Current",id:0,type:"list",conformance:"M",constraint:"max 8",default:[],details:"This field shall represent the set of faults currently detected, as per ActiveWiredFaults.",xref:{document:"core",section:"11.7.8.1.1"},children:[o({name:"entry",type:"WiredFaultEnum"})]}),o({name:"Previous",id:1,type:"list",conformance:"M",constraint:"max 8",default:[],details:"This field shall represent the set of faults detected prior to this change event, as per ActiveWiredFaults.",xref:{document:"core",section:"11.7.8.1.2"},children:[o({name:"entry",type:"WiredFaultEnum"})]})]}),Se({name:"BatFaultChange",id:1,access:"V",conformance:"[BAT]",priority:"info",details:"The BatFaultChange Event shall be generated when the set of battery faults currently detected by the Node on this battery power source changes. This event shall correspond to a change in value of ActiveBatFaults.",xref:{document:"core",section:"11.7.8.2"},children:[o({name:"Current",id:0,type:"list",conformance:"M",constraint:"max 8",default:[],details:"This field shall represent the set of faults currently detected, as per ActiveBatFaults.",xref:{document:"core",section:"11.7.8.2.1"},children:[o({name:"entry",type:"BatFaultEnum"})]}),o({name:"Previous",id:1,type:"list",conformance:"M",constraint:"max 8",default:[],details:"This field shall represent the set of faults detected prior to this change event, as per ActiveBatFaults.",xref:{document:"core",section:"11.7.8.2.2"},children:[o({name:"entry",type:"BatFaultEnum"})]})]}),Se({name:"BatChargeFaultChange",id:2,access:"V",conformance:"[RECHG]",priority:"info",details:"The BatChargeFaultChange Event shall be generated when the set of charge faults currently detected by the Node on this battery power source changes. This event shall correspond to a change in value of ActiveBatChargeFaults.",xref:{document:"core",section:"11.7.8.3"},children:[o({name:"Current",id:0,type:"list",conformance:"M",constraint:"max 16",default:[],details:"This field shall represent the set of faults currently detected, as per ActiveBatChargeFaults.",xref:{document:"core",section:"11.7.8.3.1"},children:[o({name:"entry",type:"BatChargeFaultEnum"})]}),o({name:"Previous",id:1,type:"list",conformance:"M",constraint:"max 16",default:[],details:"This field shall represent the set of faults detected prior to this change event, as per ActiveBatChargeFaults.",xref:{document:"core",section:"11.7.8.3.2"},children:[o({name:"entry",type:"BatChargeFaultEnum"})]})]}),C({name:"WiredFaultEnum",type:"enum8",xref:{document:"core",section:"11.7.6.1"},children:[o({name:"Unspecified",id:0,conformance:"M",description:"The Node detects an unspecified fault on this wired power source."}),o({name:"OverVoltage",id:1,conformance:"M",description:"The Node detects the supplied voltage is above maximum supported value for this wired power source."}),o({name:"UnderVoltage",id:2,conformance:"M",description:"The Node detects the supplied voltage is below maximum supported value for this wired power source."})]}),C({name:"BatFaultEnum",type:"enum8",xref:{document:"core",section:"11.7.6.2"},children:[o({name:"Unspecified",id:0,conformance:"M",description:"The Node detects an unspecified fault on this battery power source."}),o({name:"OverTemp",id:1,conformance:"M",description:"The Node detects the temperature of this battery power source is above ideal operating conditions."}),o({name:"UnderTemp",id:2,conformance:"M",description:"The Node detects the temperature of this battery power source is below ideal operating conditions."})]}),C({name:"BatChargeFaultEnum",type:"enum8",xref:{document:"core",section:"11.7.6.3"},children:[o({name:"Unspecified",id:0,conformance:"M",description:"The Node detects an unspecified fault on this battery source."}),o({name:"AmbientTooHot",id:1,conformance:"M",description:"The Node detects the ambient temperature is above the nominal range for this battery source."}),o({name:"AmbientTooCold",id:2,conformance:"M",description:"The Node detects the ambient temperature is below the nominal range for this battery source."}),o({name:"BatteryTooHot",id:3,conformance:"M",description:"The Node detects the temperature of this battery source is above the nominal range."}),o({name:"BatteryTooCold",id:4,conformance:"M",description:"The Node detects the temperature of this battery source is below the nominal range."}),o({name:"BatteryAbsent",id:5,conformance:"M",description:"The Node detects this battery source is not present."}),o({name:"BatteryOverVoltage",id:6,conformance:"M",description:"The Node detects this battery source is over voltage."}),o({name:"BatteryUnderVoltage",id:7,conformance:"M",description:"The Node detects this battery source is under voltage."}),o({name:"ChargerOverVoltage",id:8,conformance:"M",description:"The Node detects the charger for this battery source is over voltage."}),o({name:"ChargerUnderVoltage",id:9,conformance:"M",description:"The Node detects the charger for this battery source is under voltage."}),o({name:"SafetyTimeout",id:10,conformance:"M",description:"The Node detects a charging safety timeout for this battery source."})]}),C({name:"PowerSourceStatusEnum",type:"enum8",xref:{document:"core",section:"11.7.6.4"},children:[o({name:"Unspecified",id:0,conformance:"M",description:"Indicate the source status is not specified"}),o({name:"Active",id:1,conformance:"M",description:"Indicate the source is available and currently supplying power"}),o({name:"Standby",id:2,conformance:"M",description:"Indicate the source is available, but is not currently supplying power"}),o({name:"Unavailable",id:3,conformance:"M",description:"Indicate the source is not currently available to supply power"})]}),C({name:"WiredCurrentTypeEnum",type:"enum8",xref:{document:"core",section:"11.7.6.5"},children:[o({name:"Ac",id:0,conformance:"M",description:"Indicates AC current"}),o({name:"Dc",id:1,conformance:"M",description:"Indicates DC current"})]}),C({name:"BatChargeLevelEnum",type:"enum8",xref:{document:"core",section:"11.7.6.6"},children:[o({name:"Ok",id:0,conformance:"M",description:"Charge level is nominal"}),o({name:"Warning",id:1,conformance:"M",description:"Charge level is low, intervention may soon be required."}),o({name:"Critical",id:2,conformance:"M",description:"Charge level is critical, immediate intervention is required"})]}),C({name:"BatReplaceabilityEnum",type:"enum8",xref:{document:"core",section:"11.7.6.7"},children:[o({name:"Unspecified",id:0,conformance:"M",description:"The replaceability is unspecified or unknown."}),o({name:"NotReplaceable",id:1,conformance:"M",description:"The battery is not replaceable."}),o({name:"UserReplaceable",id:2,conformance:"M",description:"The battery is replaceable by the user or customer."}),o({name:"FactoryReplaceable",id:3,conformance:"M",description:"The battery is replaceable by an authorized factory technician."})]}),C({name:"BatCommonDesignationEnum",type:"enum16",xref:{document:"core",section:"11.7.6.8"},children:[o({name:"Unspecified",id:0,conformance:"M",description:"Common type is unknown or unspecified"}),o({name:"Aaa",id:1,conformance:"M",description:"Common type is as specified"}),o({name:"Aa",id:2,conformance:"M",description:"Common type is as specified"}),o({name:"C",id:3,conformance:"M",description:"Common type is as specified"}),o({name:"D",id:4,conformance:"M",description:"Common type is as specified"}),o({name:"4V5",id:5,conformance:"M",description:"Common type is as specified"}),o({name:"6V0",id:6,conformance:"M",description:"Common type is as specified"}),o({name:"9V0",id:7,conformance:"M",description:"Common type is as specified"}),o({name:"12Aa",id:8,conformance:"M",description:"Common type is as specified"}),o({name:"Aaaa",id:9,conformance:"M",description:"Common type is as specified"}),o({name:"A",id:10,conformance:"M",description:"Common type is as specified"}),o({name:"B",id:11,conformance:"M",description:"Common type is as specified"}),o({name:"F",id:12,conformance:"M",description:"Common type is as specified"}),o({name:"N",id:13,conformance:"M",description:"Common type is as specified"}),o({name:"No6",id:14,conformance:"M",description:"Common type is as specified"}),o({name:"SubC",id:15,conformance:"M",description:"Common type is as specified"}),o({name:"A23",id:16,conformance:"M",description:"Common type is as specified"}),o({name:"A27",id:17,conformance:"M",description:"Common type is as specified"}),o({name:"Ba5800",id:18,conformance:"M",description:"Common type is as specified"}),o({name:"Duplex",id:19,conformance:"M",description:"Common type is as specified"}),o({name:"4Sr44",id:20,conformance:"M",description:"Common type is as specified"}),o({name:"523",id:21,conformance:"M",description:"Common type is as specified"}),o({name:"531",id:22,conformance:"M",description:"Common type is as specified"}),o({name:"15V0",id:23,conformance:"M",description:"Common type is as specified"}),o({name:"22V5",id:24,conformance:"M",description:"Common type is as specified"}),o({name:"30V0",id:25,conformance:"M",description:"Common type is as specified"}),o({name:"45V0",id:26,conformance:"M",description:"Common type is as specified"}),o({name:"67V5",id:27,conformance:"M",description:"Common type is as specified"}),o({name:"J",id:28,conformance:"M",description:"Common type is as specified"}),o({name:"Cr123A",id:29,conformance:"M",description:"Common type is as specified"}),o({name:"Cr2",id:30,conformance:"M",description:"Common type is as specified"}),o({name:"2Cr5",id:31,conformance:"M",description:"Common type is as specified"}),o({name:"CrP2",id:32,conformance:"M",description:"Common type is as specified"}),o({name:"CrV3",id:33,conformance:"M",description:"Common type is as specified"}),o({name:"Sr41",id:34,conformance:"M",description:"Common type is as specified"}),o({name:"Sr43",id:35,conformance:"M",description:"Common type is as specified"}),o({name:"Sr44",id:36,conformance:"M",description:"Common type is as specified"}),o({name:"Sr45",id:37,conformance:"M",description:"Common type is as specified"}),o({name:"Sr48",id:38,conformance:"M",description:"Common type is as specified"}),o({name:"Sr54",id:39,conformance:"M",description:"Common type is as specified"}),o({name:"Sr55",id:40,conformance:"M",description:"Common type is as specified"}),o({name:"Sr57",id:41,conformance:"M",description:"Common type is as specified"}),o({name:"Sr58",id:42,conformance:"M",description:"Common type is as specified"}),o({name:"Sr59",id:43,conformance:"M",description:"Common type is as specified"}),o({name:"Sr60",id:44,conformance:"M",description:"Common type is as specified"}),o({name:"Sr63",id:45,conformance:"M",description:"Common type is as specified"}),o({name:"Sr64",id:46,conformance:"M",description:"Common type is as specified"}),o({name:"Sr65",id:47,conformance:"M",description:"Common type is as specified"}),o({name:"Sr66",id:48,conformance:"M",description:"Common type is as specified"}),o({name:"Sr67",id:49,conformance:"M",description:"Common type is as specified"}),o({name:"Sr68",id:50,conformance:"M",description:"Common type is as specified"}),o({name:"Sr69",id:51,conformance:"M",description:"Common type is as specified"}),o({name:"Sr516",id:52,conformance:"M",description:"Common type is as specified"}),o({name:"Sr731",id:53,conformance:"M",description:"Common type is as specified"}),o({name:"Sr712",id:54,conformance:"M",description:"Common type is as specified"}),o({name:"Lr932",id:55,conformance:"M",description:"Common type is as specified"}),o({name:"A5",id:56,conformance:"M",description:"Common type is as specified"}),o({name:"A10",id:57,conformance:"M",description:"Common type is as specified"}),o({name:"A13",id:58,conformance:"M",description:"Common type is as specified"}),o({name:"A312",id:59,conformance:"M",description:"Common type is as specified"}),o({name:"A675",id:60,conformance:"M",description:"Common type is as specified"}),o({name:"Ac41E",id:61,conformance:"M",description:"Common type is as specified"}),o({name:"10180",id:62,conformance:"M",description:"Common type is as specified"}),o({name:"10280",id:63,conformance:"M",description:"Common type is as specified"}),o({name:"10440",id:64,conformance:"M",description:"Common type is as specified"}),o({name:"14250",id:65,conformance:"M",description:"Common type is as specified"}),o({name:"14430",id:66,conformance:"M",description:"Common type is as specified"}),o({name:"14500",id:67,conformance:"M",description:"Common type is as specified"}),o({name:"14650",id:68,conformance:"M",description:"Common type is as specified"}),o({name:"15270",id:69,conformance:"M",description:"Common type is as specified"}),o({name:"16340",id:70,conformance:"M",description:"Common type is as specified"}),o({name:"Rcr123A",id:71,conformance:"M",description:"Common type is as specified"}),o({name:"17500",id:72,conformance:"M",description:"Common type is as specified"}),o({name:"17670",id:73,conformance:"M",description:"Common type is as specified"}),o({name:"18350",id:74,conformance:"M",description:"Common type is as specified"}),o({name:"18500",id:75,conformance:"M",description:"Common type is as specified"}),o({name:"18650",id:76,conformance:"M",description:"Common type is as specified"}),o({name:"19670",id:77,conformance:"M",description:"Common type is as specified"}),o({name:"25500",id:78,conformance:"M",description:"Common type is as specified"}),o({name:"26650",id:79,conformance:"M",description:"Common type is as specified"}),o({name:"32600",id:80,conformance:"M",description:"Common type is as specified"})]}),C({name:"BatApprovedChemistryEnum",type:"enum16",xref:{document:"core",section:"11.7.6.9"},children:[o({name:"Unspecified",id:0,conformance:"M",description:"Cell chemistry is unspecified or unknown"}),o({name:"Alkaline",id:1,conformance:"M",description:"Cell chemistry is alkaline"}),o({name:"LithiumCarbonFluoride",id:2,conformance:"M",description:"Cell chemistry is lithium carbon fluoride"}),o({name:"LithiumChromiumOxide",id:3,conformance:"M",description:"Cell chemistry is lithium chromium oxide"}),o({name:"LithiumCopperOxide",id:4,conformance:"M",description:"Cell chemistry is lithium copper oxide"}),o({name:"LithiumIronDisulfide",id:5,conformance:"M",description:"Cell chemistry is lithium iron disulfide"}),o({name:"LithiumManganeseDioxide",id:6,conformance:"M",description:"Cell chemistry is lithium manganese dioxide"}),o({name:"LithiumThionylChloride",id:7,conformance:"M",description:"Cell chemistry is lithium thionyl chloride"}),o({name:"Magnesium",id:8,conformance:"M",description:"Cell chemistry is magnesium"}),o({name:"MercuryOxide",id:9,conformance:"M",description:"Cell chemistry is mercury oxide"}),o({name:"NickelOxyhydride",id:10,conformance:"M",description:"Cell chemistry is nickel oxyhydride"}),o({name:"SilverOxide",id:11,conformance:"M",description:"Cell chemistry is silver oxide"}),o({name:"ZincAir",id:12,conformance:"M",description:"Cell chemistry is zinc air"}),o({name:"ZincCarbon",id:13,conformance:"M",description:"Cell chemistry is zinc carbon"}),o({name:"ZincChloride",id:14,conformance:"M",description:"Cell chemistry is zinc chloride"}),o({name:"ZincManganeseDioxide",id:15,conformance:"M",description:"Cell chemistry is zinc manganese dioxide"}),o({name:"LeadAcid",id:16,conformance:"M",description:"Cell chemistry is lead acid"}),o({name:"LithiumCobaltOxide",id:17,conformance:"M",description:"Cell chemistry is lithium cobalt oxide"}),o({name:"LithiumIon",id:18,conformance:"M",description:"Cell chemistry is lithium ion"}),o({name:"LithiumIonPolymer",id:19,conformance:"M",description:"Cell chemistry is lithium ion polymer"}),o({name:"LithiumIronPhosphate",id:20,conformance:"M",description:"Cell chemistry is lithium iron phosphate"}),o({name:"LithiumSulfur",id:21,conformance:"M",description:"Cell chemistry is lithium sulfur"}),o({name:"LithiumTitanate",id:22,conformance:"M",description:"Cell chemistry is lithium titanate"}),o({name:"NickelCadmium",id:23,conformance:"M",description:"Cell chemistry is nickel cadmium"}),o({name:"NickelHydrogen",id:24,conformance:"M",description:"Cell chemistry is nickel hydrogen"}),o({name:"NickelIron",id:25,conformance:"M",description:"Cell chemistry is nickel iron"}),o({name:"NickelMetalHydride",id:26,conformance:"M",description:"Cell chemistry is nickel metal hydride"}),o({name:"NickelZinc",id:27,conformance:"M",description:"Cell chemistry is nickel zinc"}),o({name:"SilverZinc",id:28,conformance:"M",description:"Cell chemistry is silver zinc"}),o({name:"SodiumIon",id:29,conformance:"M",description:"Cell chemistry is sodium ion"}),o({name:"SodiumSulfur",id:30,conformance:"M",description:"Cell chemistry is sodium sulfur"}),o({name:"ZincBromide",id:31,conformance:"M",description:"Cell chemistry is zinc bromide"}),o({name:"ZincCerium",id:32,conformance:"M",description:"Cell chemistry is zinc cerium"})]}),C({name:"BatChargeStateEnum",type:"enum8",xref:{document:"core",section:"11.7.6.10"},children:[o({name:"Unknown",id:0,conformance:"M",description:"Unable to determine the charging state"}),o({name:"IsCharging",id:1,conformance:"M",description:"The battery is charging"}),o({name:"IsAtFullCharge",id:2,conformance:"M",description:"The battery is at full charge"}),o({name:"IsNotCharging",id:3,conformance:"M",description:"The battery is not charging"})]})]});A.children.push(TC);var CC=ie({name:"PowerTopology",id:156,classification:"application",pics:"PWRTL",details:"The Power Topology Cluster provides a mechanism for expressing how power is flowing between endpoints.",xref:{document:"core",section:"11.8"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"core",section:"11.8.4"},children:[o({name:"NODE",conformance:"O.a",constraint:"0",description:"NodeTopology",details:"This endpoint provides or consumes power to/from the entire node"}),o({name:"TREE",conformance:"O.a",constraint:"1",description:"TreeTopology",details:"This endpoint provides or consumes power to/from itself and its child endpoints"}),o({name:"SET",conformance:"O.a",constraint:"2",description:"SetTopology",details:"This endpoint provides or consumes power to/from a specified set of endpoints"}),o({name:"DYPF",conformance:"[SET]",constraint:"3",description:"DynamicPowerFlow",details:"The specified set of endpoints may change"})]}),p({name:"AvailableEndpoints",id:0,type:"list",access:"R V",conformance:"SET",constraint:"max 20",quality:"F",details:"Indicates the list of endpoints capable of providing power to and/or consuming power from the endpoint hosting this server.",xref:{document:"core",section:"11.8.5.1"},children:[o({name:"entry",type:"endpoint-no"})]}),p({name:"ActiveEndpoints",id:1,type:"list",access:"R V",conformance:"DYPF",constraint:"max 20",quality:"N",details:"Indicates the current list of endpoints currently providing or consuming power to or from the endpoint hosting this server. This list shall be a subset of the value of the AvailableEndpoints attribute.",xref:{document:"core",section:"11.8.5.2"},children:[o({name:"entry",type:"endpoint-no"})]})]});A.children.push(CC);var SC=ie({name:"NetworkCommissioning",id:49,classification:"node",pics:"CNET",details:`Network commissioning is part of the overall Node commissioning. The main goal of Network Commissioning Cluster is to associate a Node with or manage a Node\u2019s one or more network interfaces. These network interfaces can include the following types.
  \u2022 Wi-Fi (IEEE 802.11-2020)
  \u2022 Ethernet (802.3)
  \u2022 Thread (802.15.4)
An instance of the Network Commissioning Cluster only applies to a single network interface instance present. An interface, in this context, is a unique entity that can have an IPv6 address assigned to it and ingress and egress IP packets.`,xref:{document:"core",section:"11.9"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:2}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"core",section:"11.9.4"},children:[o({name:"WI",conformance:"O.a",constraint:"0",description:"WiFiNetworkInterface",details:"Wi-Fi related features"}),o({name:"TH",conformance:"O.a",constraint:"1",description:"ThreadNetworkInterface",details:"Thread related features"}),o({name:"ET",conformance:"O.a",constraint:"2",description:"EthernetNetworkInterface",details:"Ethernet related features"})]}),p({name:"MaxNetworks",id:0,type:"uint8",access:"R A",conformance:"M",constraint:"min 1",quality:"F",details:"This shall indicate the maximum number of network configuration entries that can be added, based on available device resources. The length of the Networks attribute shall be less than or equal to this value.",xref:{document:"core",section:"11.9.6.1"}}),p({name:"Networks",id:1,type:"list",access:"R A",conformance:"M",constraint:"max maxNetworks",default:[],details:`Indicates the network configurations that are usable on the network interface represented by this cluster server instance.
The order of configurations in the list reflects precedence. That is, any time the Node attempts to connect to the network it shall attempt to do so using the configurations in Networks Attribute in the order as they appear in the list.
The order of list items shall only be modified by the AddOrUpdateThreadNetwork, AddOrUpdateWiFiNetwork and ReorderNetwork commands. In other words, the list shall be stable over time, unless mutated externally.
Ethernet networks shall be automatically populated by the cluster server. Ethernet Network Commissioning Cluster instances shall always have exactly one NetworkInfoStruct instance in their Networks attribute. There shall be no way to add, update or remove Ethernet network configurations to those Cluster instances.`,xref:{document:"core",section:"11.9.6.2"},children:[o({name:"entry",type:"NetworkInfoStruct"})]}),p({name:"ScanMaxTimeSeconds",id:2,type:"uint8",access:"R V",conformance:"WI | TH",constraint:"desc",quality:"F",details:`Indicates the maximum duration taken, in seconds, by the network interface on this cluster server instance to provide scan results.
See Section 11.9.7.1, \u201CScanNetworks Command\u201D for usage.`,xref:{document:"core",section:"11.9.6.3"}}),p({name:"ConnectMaxTimeSeconds",id:3,type:"uint8",access:"R V",conformance:"WI | TH",constraint:"desc",quality:"F",details:"Indicates the maximum duration taken, in seconds, by the network interface on this cluster server instance to report a successful or failed network connection indication. This maximum time shall account for all operations needed until a successful network connection is deemed to have occurred, including, for example, obtaining IP addresses, or the execution of necessary internal retries.",xref:{document:"core",section:"11.9.6.4"}}),p({name:"InterfaceEnabled",id:4,type:"bool",access:"RW VA",conformance:"M",default:!0,quality:"N",details:`Indicates whether the associated network interface is enabled or not. By default all network interfaces SHOULD be enabled during initial commissioning (InterfaceEnabled set to true).
It is undefined what happens if InterfaceEnabled is written to false on the same interface as that which is used to write the value. In that case, it is possible that the Administrator would have to await expiry of the fail-safe, and associated recovery of network configuration to prior safe values, before being able to communicate with the node again (see Section 11.10.6.2, \u201CArmFailSafe Command\u201D).
It may be possible to disable Ethernet interfaces but it is implementation-defined. If not supported, a write to this attribute with a value of false shall fail with a status of INVALID_ACTION. When disabled, an Ethernet interface would longer employ media detection. That is, a simple unplug and replug of the cable shall NOT re-enable the interface.
On Ethernet-only Nodes, there shall always be at least one of the Network Commissioning server cluster instances with InterfaceEnabled set to true.`,xref:{document:"core",section:"11.9.6.5"}}),p({name:"LastNetworkingStatus",id:5,type:"NetworkCommissioningStatusEnum",access:"R A",conformance:"M",default:null,quality:"X",details:`Indicates the status of the last attempt either scan or connect to an operational network, using this interface, whether by invocation of the ConnectNetwork command or by autonomous connection after loss of connectivity or during initial establishment. If no such attempt was made, or no network configurations exist in the Networks attribute, then this attribute shall be set to null.
This attribute is present to assist with error recovery during Network commissioning and to assist in non-concurrent networking commissioning flows.`,xref:{document:"core",section:"11.9.6.6"}}),p({name:"LastNetworkId",id:6,type:"octstr",access:"R A",conformance:"M",constraint:"1 to 32",default:null,quality:"X",details:`Indicates the NetworkID used in the last attempt to connect to an operational network, using this interface, whether by invocation of the ConnectNetwork command or by autonomous connection after loss of connectivity or during initial establishment. If no such attempt was made, or no network configurations exist in the Networks attribute, then this attribute shall be set to null.
If a network configuration is removed from the Networks attribute using the RemoveNetwork command after a connection attempt, this field may indicate a NetworkID that is no longer configured on the Node.
This attribute is present to assist with error recovery during Network commissioning and to assist in non-concurrent networking commissioning flows.`,xref:{document:"core",section:"11.9.6.7"}}),p({name:"LastConnectErrorValue",id:7,type:"int32",access:"R A",conformance:"M",default:null,quality:"X",details:`Indicates the ErrorValue used in the last failed attempt to connect to an operational network, using this interface, whether by invocation of the ConnectNetwork command or by
autonomous connection after loss of connectivity or during initial establishment. If no such attempt was made, or no network configurations exist in the Networks attribute, then this attribute shall be set to null.
If the last connection succeeded, as indicated by a value of Success in the LastNetworkingStatus attribute, then this field shall be set to null.
This attribute is present to assist with error recovery during Network commissioning and to assist in non-concurrent networking commissioning flows.`,xref:{document:"core",section:"11.9.6.8"}}),p({name:"SupportedWiFiBands",id:8,type:"list",access:"R V",conformance:"WI",constraint:"min 1",quality:"F",details:"Indicates all the frequency bands supported by the Wi-Fi interface configured by the cluster instance.",xref:{document:"core",section:"11.9.6.9"},children:[o({name:"entry",type:"WiFiBandEnum"})]}),p({name:"SupportedThreadFeatures",id:9,type:"ThreadCapabilitiesBitmap",access:"R V",conformance:"TH",quality:"F",details:`Indicates all of the Thread features supported by the Thread interface configured by the cluster instance.
This attribute is primarily used to determine the most important general capabilities of the Thread interface associated with the cluster instance, as opposed to the current runtime dynamic configuration. Note that most run-time details of the actual Thread interface are found in the Thread Network Diagnostics cluster, if supported.`,xref:{document:"core",section:"11.9.6.10"}}),p({name:"ThreadVersion",id:10,type:"uint16",access:"R V",conformance:"TH",quality:"F",details:`Indicates the Thread version supported by the Thread interface configured by the cluster instance.
The format shall match the value mapping found in the "Version TLV" section of Thread specification. For example, Thread 1.3.0 would have ThreadVersion set to 4.`,xref:{document:"core",section:"11.9.6.11"}}),U({name:"ScanNetworks",id:0,access:"A",conformance:"WI | TH",direction:"request",response:"ScanNetworksResponse",details:`This command shall scan on the Cluster instance\u2019s associated network interface for either of:
  \u2022 All available networks (non-directed scanning)
  \u2022 Specific networks (directed scanning)
Scanning for available networks detects all networks of the type corresponding to the cluster server instance\u2019s associated network interface that are possible to join, such as all visible Wi-Fi access points for Wi-Fi cluster server instances, all Thread PANs for Thread cluster server instances, within bounds of the maximum response size.
Scanning for a specific network (i.e. directed scanning) takes place if a network identifier (e.g. Wi-Fi SSID) is provided in the command arguments. Directed scanning shall restrict the result set to the specified network only.
If this command is received without an armed fail-safe context (see Section 11.10.6.2, \u201CArmFailSafe Command\u201D), then this command shall fail with a FAILSAFE_REQUIRED status code sent back to the initiator.
The client shall NOT expect the server to be done scanning and have responded with ScanNetworksResponse before ScanMaxTimeSeconds seconds have elapsed. Enough transport time affordances for retries SHOULD be expected before a client determines the operation to have timed-out.
This command shall fail with a status code of BUSY if the server determines that it will fail to reliably send a response due to changes of networking interface configuration at runtime for the interface over which the command was invoked, or if it is currently unable to proceed with such an operation.
For Wi-Fi-supporting servers (WI feature) the server shall always honor directed scans, and attempt to provide all matching BSSID which are reachable on the bands which would otherwise be attempted if a ConnectNetwork having the specified SSID were to take place. This command is useful for clients to determine reachability capabilities as seen by the server\u2019s own radios.
For Wi-Fi-supporting servers the server shall always scan on all bands supported by the interface
associated with the cluster instance on which the command was invoked.
If the command was invoked over the same link whose configuration is managed by a given server cluster instance, there may be an impact on other communication from the invoking client, as well as other clients, while the network interface is processing the scan. Clients SHOULD NOT use this command unless actively in the process of re-configuring network connectivity.`,xref:{document:"core",section:"11.9.7.1"},children:[o({name:"Ssid",id:0,type:"octstr",conformance:"[WI]",constraint:"1 to 32",default:null,quality:"X",details:"This field, if present, shall contain the SSID for a directed scan of that particular Wi-Fi SSID. Otherwise, if the field is absent, or if it is null, this shall indicate scanning of all BSSID in range. This field shall be ignored for ScanNetworks invocations on non-Wi-Fi server instances.",xref:{document:"core",section:"11.9.7.1.1"}}),o({name:"Breadcrumb",id:1,type:"uint64",conformance:"O",details:"The Breadcrumb field, if present, shall be used to atomically set the Breadcrumb attribute in the General Commissioning cluster on success of the associated command. If the command fails, the Breadcrumb attribute in the General Commissioning cluster shall be left unchanged.",xref:{document:"core",section:"11.9.7.1.2"}})]}),U({name:"ScanNetworksResponse",id:1,conformance:"WI | TH",direction:"response",details:`This command shall contain the status of the last ScanNetworks command, and the associated scan results if the operation was successful.
Results are valid only if NetworkingStatus is Success.
Before generating a ScanNetworksResponse, the server shall set the LastNetworkingStatus attribute value to the NetworkingStatus matching the response.`,xref:{document:"core",section:"11.9.7.2"},children:[o({name:"NetworkingStatus",id:0,type:"NetworkCommissioningStatusEnum",conformance:"M",constraint:"desc",details:`The NetworkingStatus field shall indicate the status of the last scan operation, taking one of these values:
  \u2022 Success: Scanning succeeded.
  \u2022 NetworkNotFound: No instance of an explicitly-provided network identifier was found during the     scan. This error cannot occur if no network identifier was provided, such as when scanning for     all available networks.
  \u2022 OutOfRange: Network identifier was invalid (e.g. empty, too long, etc).
  \u2022 RegulatoryError: Could not scan on any bands due to lack of regulatory configuration.
  \u2022 UnknownError: An internal error occurred during scanning.`,xref:{document:"core",section:"11.9.7.2.1"}}),o({name:"DebugText",id:1,type:"string",conformance:"O",constraint:"max 512",details:"This field, if present and non-empty, may contain error information which may be communicated to the user in case the NetworkingStatus was not Success. Its purpose is to help developers in troubleshooting errors and may go into logs or crash reports.",xref:{document:"core",section:"11.9.7.2.2"}}),o({name:"WiFiScanResults",id:2,type:"list",conformance:"WI",constraint:"desc",details:`If NetworkingStatus was Success, this field shall contain the Wi-Fi network scan results. The list may be empty if none were found in range on the bands supported by the interface, or if directed scanning had been used and the desired SSID was not found in range.
The maximum number of results present in the result list supported may depend on memory and may contain a subset of possibilities, to avoid memory exhaustion on the cluster server and avoid crossing the maximum command response size supported (see Section 4.4.4, \u201CMessage Size Requirements\u201D).
The order in which results are reported is implementation-specific. Results SHOULD be reported in decreasing RSSI order, even if RSSI is not reported in the response, to maximize the likelihood that most likely to be reachable elements are included within the size limits of the response.`,xref:{document:"core",section:"11.9.7.2.3"},children:[o({name:"entry",type:"WiFiInterfaceScanResultStruct"})]}),o({name:"ThreadScanResults",id:3,type:"list",conformance:"TH",constraint:"desc",details:`If NetworkingStatus was Success, this field shall contain the Thread network scan results. The list may be empty if none were found in range on the bands supported by the interface.
The maximum number of results present in the result list supported may depend on memory and may contain a subset of possibilities, to avoid memory exhaustion on the cluster server and avoid crossing the maximum command response size supported (see Section 4.4.4, \u201CMessage Size Requirements\u201D).
The order in which results are reported is implementation-specific. Results SHOULD be reported in decreasing LQI order, to maximize the likelihood that most likely to be reachable elements are included within the size limits of the response.`,xref:{document:"core",section:"11.9.7.2.4"},children:[o({name:"entry",type:"ThreadInterfaceScanResultStruct"})]})]}),U({name:"AddOrUpdateWiFiNetwork",id:2,access:"A",conformance:"WI",direction:"request",response:"NetworkConfigResponse",details:`This command shall be used to add or modify Wi-Fi network configurations.
If this command is received without an armed fail-safe context (see Section 11.10.6.2, \u201CArmFailSafe Command\u201D), then this command shall fail with a FAILSAFE_REQUIRED status code sent back to the initiator.
The Credentials associated with the network are not readable after execution of this command, as they do not appear in the Networks attribute, for security reasons.
If this command contains a ClientIdentifier, and the Networks list does not contain an entry with a matching ClientIdentifier, then this command shall fail with a status of NOT_FOUND.
See Section 11.9.7.5, \u201CCommon processing of AddOrUpdateWiFiNetwork and AddOrUpdateThreadNetwork\u201D for behavior of addition/update.`,xref:{document:"core",section:"11.9.7.3"},children:[o({name:"Ssid",id:0,type:"octstr",conformance:"M",constraint:"max 32",details:"This field shall contain the SSID to which to attempt connection. Specific BSSID selection is not supported by this cluster.",xref:{document:"core",section:"11.9.7.3.1"}}),o({name:"Credentials",id:1,type:"octstr",conformance:"M",constraint:"max 64",details:`Credentials is the passphrase or PSK for the network (if any is needed).
Security type, cipher and credential format (passphrase or PSK) shall be contextually auto- selected during execution of the ConnectNetwork Command and during subsequent operational state network connections, based on the most secure Wi-Fi security type available within beacons and probe responses for the set of all discovered BSSIDs for the configured SSID. The type of PSK or passphrase used shall be inferred based on the length and contents of the Credentials field provided, matching the security type chosen.
Valid Credentials length are:
  \u2022 0 bytes: Unsecured (open) connection
  \u2022 5 bytes: WEP-64 passphrase
  \u2022 10 hexadecimal ASCII characters: WEP-64 40-bit hex raw PSK
  \u2022 13 bytes: WEP-128 passphrase
  \u2022 26 hexadecimal ASCII characters: WEP-128 104-bit hex raw PSK
  \u2022 8..63 bytes: WPA/WPA2/WPA3 passphrase
  \u2022 64 bytes: WPA/WPA2/WPA3 raw hex PSK
These lengths shall be contextually interpreted based on the security type of the BSSID where connection will occur.
When the length of Credentials and available set of BSSID admits more than one option, such as the presence of both WPA2 and WPA security type within the result set, WPA2 shall be considered more secure.
Note that it may occur that a station cannot connect to a particular access point with higher security and selects a lower security connectivity type if the link quality is deemed to be too low to achieve successful operation, or if all retry attempts fail.`,xref:{document:"core",section:"11.9.7.3.2"}}),o({name:"Breadcrumb",id:2,type:"uint64",conformance:"O",details:"See Section 11.9.7.1.2, \u201CBreadcrumb Field\u201D for usage.",xref:{document:"core",section:"11.9.7.3.3"}})]}),U({name:"AddOrUpdateThreadNetwork",id:3,access:"A",conformance:"TH",direction:"request",response:"NetworkConfigResponse",details:`This command shall be used to add or modify Thread network configurations.
If this command is received without an armed fail-safe context (see Section 11.10.6.2, \u201CArmFailSafe Command\u201D), then this command shall fail with a FAILSAFE_REQUIRED status code sent back to the initiator.
See Section 11.9.7.5, \u201CCommon processing of AddOrUpdateWiFiNetwork and AddOrUpdateThreadNetwork\u201D for behavior of addition/update.
The XPAN ID in the OperationalDataset serves as the NetworkID for the network configuration to be added or updated.
If the Networks attribute does not contain an entry with the same NetworkID as the one provided in the OperationalDataset, the operation shall be considered an addition, otherwise, it shall be considered an update.`,xref:{document:"core",section:"11.9.7.4"},children:[o({name:"OperationalDataset",id:0,type:"octstr",conformance:"M",constraint:"max 254",details:`The OperationalDataset field shall contain the Thread Network Parameters, including channel, PAN ID, and Extended PAN ID.
The encoding for the OperationalDataset field is defined in the Thread specification. The client shall pass the OperationalDataset as an opaque octet string.`,xref:{document:"core",section:"11.9.7.4.1"}}),o({name:"Breadcrumb",id:1,type:"uint64",conformance:"O",details:"See Section 11.9.7.1.2, \u201CBreadcrumb Field\u201D for usage.",xref:{document:"core",section:"11.9.7.4.2"}})]}),U({name:"RemoveNetwork",id:4,access:"A",conformance:"WI | TH",direction:"request",response:"NetworkConfigResponse",details:`This command shall remove the network configuration from the Cluster if there was already a network configuration with the same NetworkID. The relative order of the entries in the Networks
attribute shall remain unchanged, except for the removal of the requested network configuration.
If this command is received without an armed fail-safe context (see Section 11.10.6.2, \u201CArmFailSafe Command\u201D), then this command shall fail with a FAILSAFE_REQUIRED status code sent back to the initiator.
If the Networks attribute does not contain a matching entry, the command shall immediately respond with NetworkConfigResponse having NetworkingStatus status field set to NetworkIdNotFound.
On success, the NetworkConfigResponse command shall have its NetworkIndex field set to the 0- based index of the entry in the Networks attribute that was just removed, and a NetworkingStatus status field set to Success.`,xref:{document:"core",section:"11.9.7.6"},children:[o({name:"NetworkId",id:0,type:"octstr",conformance:"M",constraint:"1 to 32",details:"This field shall contain the NetworkID for the entry to remove: the SSID for Wi-Fi and XPAN ID for Thread.",xref:{document:"core",section:"11.9.7.6.1"}}),o({name:"Breadcrumb",id:1,type:"uint64",conformance:"O",details:"See Section 11.9.7.1.2, \u201CBreadcrumb Field\u201D for usage.",xref:{document:"core",section:"11.9.7.6.2"}})]}),U({name:"NetworkConfigResponse",id:5,conformance:"WI | TH",direction:"response",details:`This response command relates status information for some commands which require it as their response command. See each individual cluster server command for the situations that may cause a NetworkingStatus different than Success.
Before generating a NetworkConfigResponse, the server shall set the LastNetworkingStatus attribute value to the NetworkingStatus matching the response.
Before generating a NetworkConfigResponse, the server shall set the LastNetworkID attribute value to the NetworkID that was used in the command for which an invocation caused the response to be generated.`,xref:{document:"core",section:"11.9.7.7"},children:[o({name:"NetworkingStatus",id:0,type:"NetworkCommissioningStatusEnum",conformance:"M",constraint:"desc",details:`The NetworkingStatus field shall indicate the status of the last operation attempting to modify the Networks attribute configuration, taking one of these values:
  \u2022 Success: Operation succeeded.
  \u2022 OutOfRange: Network identifier was invalid (e.g. empty, too long, etc).
  \u2022 BoundsExceeded: Adding this network configuration would exceed the limit defined by Section     11.9.6.1, \u201CMaxNetworks Attribute\u201D.
  \u2022 NetworkIdNotFound: The network identifier was expected to be found, but was not found among the     added network configurations in Networks attribute.
  \u2022 UnknownError: An internal error occurred during the operation.`,xref:{document:"core",section:"11.9.7.7.1"}}),o({name:"DebugText",id:1,type:"string",conformance:"O",constraint:"max 512",details:"See Section 11.9.7.2.2, \u201CDebugText Field\u201D for usage.",xref:{document:"core",section:"11.9.7.7.2"}}),o({name:"NetworkIndex",id:2,type:"uint8",conformance:"O",constraint:"0 to (MaxNetworks - 1)",details:"When the NetworkingStatus is Success, this field shall be present. It shall contain the 0-based index of the entry in the Networks attribute that was last added, updated or removed successfully by the associated request command.",xref:{document:"core",section:"11.9.7.7.3"}})]}),U({name:"ConnectNetwork",id:6,access:"A",conformance:"WI | TH",direction:"request",response:"ConnectNetworkResponse",details:`This command shall attempt to connect to a network whose configuration was previously added by either the AddOrUpdateWiFiNetwork or AddOrUpdateThreadNetwork commands. Network is identified by its NetworkID.
This command shall fail with a BUSY status code returned to the initiator if the server is currently unable to proceed with such an operation, such as if it is currently attempting to connect in the background, or is already proceeding with a prior ConnectNetwork.
If this command is received without an armed fail-safe context (see Section 11.10.6.2, \u201CArmFailSafe Command\u201D), then this command shall fail with a FAILSAFE_REQUIRED status code sent back to the initiator.
Success or failure of this command shall be communicated by the ConnectNetworkResponse command, unless some data model validations caused a FAILURE status to be sent prior to finishing execution of the command. The ConnectNetworkResponse shall indicate the value Success in the NetworkingStatus field on successful connection. On failure to connect, the ConnectNetworkResponse shall contain an appropriate NetworkingStatus, DebugText and ErrorValue indicating the reason for failure.
The amount of time needed to determine successful or failing connectivity on the cluster server\u2019s associated interface is provided by the ConnectMaxTimeSeconds attribute. Clients shall NOT consider the connection to have timed-out until at least that duration has taken place. For non-concurrent commissioning situations, the client SHOULD allow additional margin of time to account for its delay in executing operational discovery of the Node once it is connected to the new network.
On successful connection, the entry associated with the given Network configuration in the Networks attribute shall indicate its Connected field set to true, and all other entries, if any exist, shall indicate their Connected field set to false.
On failure to connect, the entry associated with the given Network configuration in the Networks attribute shall indicate its Connected field set to false.
The precedence order of any entry subject to ConnectNetwork shall NOT change within the Networks attribute.
Even after successfully connecting to a network, the configuration shall revert to the prior state of configuration if the CommissioningComplete command (see Section 11.10.6.6, \u201CCommissioningComplete Command\u201D) is not successfully invoked before expiry of the Fail-Safe timer.
When non-concurrent commissioning is being used by a Commissioner or Administrator, the ConnectNetworkResponse shall be sent with the NetworkingStatus field set to Success prior to closing the commissioning channel, even if not yet connected to the operational network, unless the device would be incapable of joining that network, in which case the usual failure path described in the prior paragraphs shall be followed. Once the commissioning channel is closed, the operational channel will be started. It is possible that the only method to determine success of the operation is operational discovery of the Node on the new operational network. Therefore, before invoking the ConnectNetwork command, the client SHOULD re-invoke the Arm Fail-Safe command with a duration that meets the following:
  1. Sufficient time to meet the minimum required time (see Section 11.9.6.4,      \u201CConnectMaxTimeSeconds Attribute\u201D) that may be taken by the server to connect to the desired      network.
  2. Sufficient time to account for possible message-layer retries when a response is requested.
  3. Sufficient time to allow operational discovery on the new network by a Commissioner or      Administrator.
  4. Sufficient time to establish a CASE session after operational discovery
  5. Not so long that, in error situations, the delay to reverting back to being discoverable for      commissioning with a previous configuration would cause significant user-perceived delay.
Note as well that the CommissioningTimeout duration provided in a prior OpenCommissioningWindow or OpenBasicCommissioningWindow command may impact the total time available to proceed with error recovery after a connection failure.
The LastNetworkingStatus, LastNetworkID and LastConnectErrorValue attributes may assist the client in determining the reason for a failure after reconnecting over a Commissioning channel, especially in non-concurrent commissioning situations.`,xref:{document:"core",section:"11.9.7.8"},children:[o({name:"NetworkId",id:0,type:"octstr",conformance:"M",constraint:"1 to 32",details:"This field shall contain the NetworkID for the entry used to configure the connection: the SSID for Wi-Fi and XPAN ID for Thread.",xref:{document:"core",section:"11.9.7.8.1"}}),o({name:"Breadcrumb",id:1,type:"uint64",conformance:"O",details:"See Section 11.9.7.1.2, \u201CBreadcrumb Field\u201D for usage.",xref:{document:"core",section:"11.9.7.8.2"}})]}),U({name:"ConnectNetworkResponse",id:7,conformance:"WI | TH",direction:"response",details:`Before generating a ConnectNetworkResponse, the server shall:
  \u2022 Set the LastNetworkingStatus attribute value to the NetworkingStatus matching the response.
  \u2022 Set the LastNetworkID attribute value to the NetworkID that was used in the ConnectNetwork     command which caused the response to be generated.
  \u2022 Set the LastConnectErrorValue attribute value to the ErrorValue matching the response,     including setting it to null if the ErrorValue is not applicable.`,xref:{document:"core",section:"11.9.7.9"},children:[o({name:"NetworkingStatus",id:0,type:"NetworkCommissioningStatusEnum",conformance:"M",details:`The NetworkingStatus field shall indicate the status of the last connection attempt, taking one of these values:
  \u2022 Success: Connection succeeded.
  \u2022 NetworkNotFound: No instance of an explicitly-provided network identifier was found during the     attempt to join the network.
  \u2022 OutOfRange: Network identifier was invalid (e.g. empty, too long, etc).
  \u2022 NetworkIdNotFound: The network identifier was not found among the added network configurations     in Networks attribute.
  \u2022 RegulatoryError: Could not connect to a network due to lack of regulatory configuration.
  \u2022 UnknownError: An internal error occurred during the operation.
  \u2022 Association errors (see also description of errors in Section 11.9.5.4,     \u201CNetworkCommissioningStatusEnum Type\u201D): AuthFailure, UnsupportedSecurity,     OtherConnectionFailure, IPV6Failed, IPBindFailed`,xref:{document:"core",section:"11.9.7.9.1"}}),o({name:"DebugText",id:1,type:"string",conformance:"O",details:"See Section 11.9.7.2.2, \u201CDebugText Field\u201D for usage.",xref:{document:"core",section:"11.9.7.9.2"}}),o({name:"ErrorValue",id:2,type:"int32",conformance:"M",quality:"X",details:`  \u2022 ErrorValue interpretation for Wi-Fi association errors:
    \u25E6 On any association failure during enabling of a network, the ErrorValue field shall be set to       the Status Code value that was present in the last frame related to association where Status       Code was not equal to zero and which caused the failure of a final retry attempt, if this       final failure was due to one of the following Management frames:
      \u25AA Association Response (Type 0, Subtype 1)
      \u25AA Reassociation Response (Type 0, Subtype 3)
      \u25AA Authentication (Type 0, Subtype 11)
    \u25E6 Table 9-50 "Status Codes" in IEEE 802.11-2020 contains a description of all values possible,       which can unambiguously be used to determine the cause, such as an invalid security type,       unsupported rate, etc.
  \u2022 Otherwise, the ErrorValue field shall contain an implementation-dependent value which may be     used by a reader of the structure to record, report or diagnose the failure.`,xref:{document:"core",section:"11.9.7.9.3"}})]}),U({name:"ReorderNetwork",id:8,access:"A",conformance:"WI | TH",direction:"request",response:"NetworkConfigResponse",details:"This command shall set the specific order of the network configuration selected by its NetworkID in the Networks attribute to match the position given by NetworkIndex.",xref:{document:"core",section:"11.9.7.10"},children:[o({name:"NetworkId",id:0,type:"octstr",conformance:"M",constraint:"1 to 32",details:"This field shall contain the NetworkID for the entry to reorder: the SSID for Wi-Fi and XPAN ID for Thread.",xref:{document:"core",section:"11.9.7.10.1"}}),o({name:"NetworkIndex",id:1,type:"uint8",conformance:"M",constraint:"desc",details:"This field shall contain the 0-based index of the new desired position of the entry in the Networks attribute.",xref:{document:"core",section:"11.9.7.10.2"}}),o({name:"Breadcrumb",id:2,type:"uint64",conformance:"O",details:`See Section 11.9.7.1.2, \u201CBreadcrumb Field\u201D for usage.
Effect when received
If the Networks attribute does not contain a matching entry, the command shall immediately respond with NetworkConfigResponse having NetworkingStatus status field set to NetworkIdNotFound.
If the NetworkIndex field has a value larger or equal to the current number of entries in the Networks attribute, the command shall immediately respond with NetworkConfigResponse having NetworkingStatus status field set to OutOfRange.
On success, the NetworkConfigResponse command shall have its NetworkIndex field set to the 0- based index of the entry in the Networks attribute that was just updated, matching the incoming NetworkIndex, and a NetworkingStatus status field set to Success.
The entry selected shall be inserted at the new position in the list. All other entries, if any exist, shall be moved to allow the insertion, in a way that they all retain their existing relative order between each other, with the exception of the newly re-ordered entry.
Re-ordering to the same NetworkIndex as the current location shall be considered as a success and yield no visible changes of the Networks attribute.
Examples of re-ordering
To better illustrate the re-ordering operation, consider this initial state, exemplary of a Wi-Fi device:
On receiving ReorderNetwork with:
  \u2022 NetworkId = Home-Guest
  \u2022 NetworkIndex = 0
The outcome, after applying to the initial state would be:
In the above outcome, FancyCat and BlueDolphin moved "down" and Home-Guest became the highest priority network in the list.
On receiving ReorderNetwork with:
  \u2022 NetworkId = FancyCat
  \u2022 NetworkIndex = 3
The outcome, after applying to the initial state would be:
In the above outcome, BlueDolphin, Home-Guest and WillowTree moved "up" and FancyCat became the lowest priority network in the list.`,xref:{document:"core",section:"11.9.7.10.3"}})]}),C({name:"WiFiSecurityBitmap",type:"map8",details:"WiFiSecurityBitmap encodes the supported Wi-Fi security types present in the Security field of the WiFiInterfaceScanResultStruct.",xref:{document:"core",section:"11.9.5.1"},children:[o({name:"Unencrypted",constraint:"0",description:"Supports unencrypted Wi-Fi"}),o({name:"Wep",constraint:"1",description:"Supports Wi-Fi using WEP security"}),o({name:"WpaPersonal",constraint:"2",description:"Supports Wi-Fi using WPA-Personal security"}),o({name:"Wpa2Personal",constraint:"3",description:"Supports Wi-Fi using WPA2-Personal security"}),o({name:"Wpa3Personal",constraint:"4",description:"Supports Wi-Fi using WPA3-Personal security"})]}),C({name:"ThreadCapabilitiesBitmap",type:"map16",details:`The ThreadCapabilitiesBitmap encodes the supported Thread features and capabilities of a Thread- enabled network interface.
NOTE
The valid combinations of capabilities are restricted and dependent on Thread version.`,xref:{document:"core",section:"11.9.5.2"},children:[o({name:"IsBorderRouterCapable",constraint:"0",description:"Thread Border Router functionality is present"}),o({name:"IsRouterCapable",constraint:"1",description:"Router mode is supported (interface could be in router or REED mode)"}),o({name:"IsSleepyEndDeviceCapable",constraint:"2",description:"Sleepy end-device mode is supported"}),o({name:"IsFullThreadDevice",constraint:"3",description:"Device is a full Thread device (opposite of Minimal Thread Device)"}),o({name:"IsSynchronizedSleepyEndDeviceCapable",constraint:"4",description:"Synchronized sleepy end-device mode is supported"})]}),C({name:"WiFiBandEnum",type:"enum8",details:"WiFiBandEnum encodes a supported Wi-Fi frequency band present in the WiFiBand field of the WiFiInterfaceScanResultStruct.",xref:{document:"core",section:"11.9.5.3"},children:[o({name:"2G4",id:0,conformance:"O.a+",description:"2.4GHz - 2.401GHz to2.495GHz(802.11b/g/n/ax)"}),o({name:"3G65",id:1,conformance:"O.a+",description:"3.65GHz - 3.655GHz to3.695GHz (802.11y)"}),o({name:"5G",id:2,conformance:"O.a+",description:"5GHz - 5.150GHz to5.895GHz(802.11a/n/ac/ax)"}),o({name:"6G",id:3,conformance:"O.a+",description:"6GHz - 5.925GHz to7.125GHz (802.11ax / Wi-Fi 6E)"}),o({name:"60G",id:4,conformance:"O.a+",description:"60GHz - 57.24GHz to70.20GHz (802.11ad/ay)"}),o({name:"1G",id:5,conformance:"O.a+",description:"Sub-1GHz - 755MHz to 931MHz (802.11ah)"})]}),C({name:"NetworkCommissioningStatusEnum",type:"enum8",xref:{document:"core",section:"11.9.5.4"},children:[o({name:"Success",id:0,description:"OK, no error"}),o({name:"OutOfRange",id:1,description:"Value Outside Range"}),o({name:"BoundsExceeded",id:2,description:"A collection would exceed its size limit"}),o({name:"NetworkIdNotFound",id:3,description:"The NetworkID is not among the collection of added networks"}),o({name:"DuplicateNetworkId",id:4,description:"The NetworkID is already among the collection of added networks"}),o({name:"NetworkNotFound",id:5,description:"Cannot find AP: SSID Not found"}),o({name:"RegulatoryError",id:6,description:"Cannot find AP: Mismatch on band/channels/regulatory domain / 2.4GHz vs 5GHz"}),o({name:"AuthFailure",id:7,description:"Cannot associate due to authentication failure"}),o({name:"UnsupportedSecurity",id:8,description:"Cannot associate due to unsupported security mode"}),o({name:"OtherConnectionFailure",id:9,description:"Other association failure"}),o({name:"Ipv6Failed",id:10,description:"Failure to generate an IPv6 address"}),o({name:"IpBindFailed",id:11,description:"Failure to bind Wi-Fi <-> IP interfaces"}),o({name:"UnknownError",id:12,description:"Unknown error"})]}),C({name:"NetworkInfoStruct",type:"struct",details:"NetworkInfoStruct struct describes an existing network configuration, as provided in the Networks attribute.",xref:{document:"core",section:"11.9.5.5"},children:[o({name:"NetworkId",id:0,type:"octstr",conformance:"M",constraint:"1 to 32",details:`Every network is uniquely identified (for purposes of commissioning) by a NetworkID mapping to the following technology-specific properties:
  \u2022 SSID for Wi-Fi
  \u2022 Extended PAN ID for Thread
  \u2022 Network interface instance name at operating system (or equivalent unique name) for Ethernet.
The semantics of the NetworkID field therefore varies between network types accordingly. It contains SSID for Wi-Fi networks, Extended PAN ID (XPAN ID) for Thread networks and netif name for Ethernet networks.
NOTE
SSID in Wi-Fi is a collection of 1-32 bytes, the text encoding of which is not specified. Implementations must be careful to support reporting byte strings without requiring a particular encoding for transfer. Only the commissioner should try to potentially decode the bytes. The most common encoding is UTF-8, however this is just a convention. Some configurations may use Latin-1 or other character sets. A commissioner may decode using UTF-8, replacing encoding errors with "?" at the application level while retaining the underlying representation.
XPAN ID is a big-endian 64-bit unsigned number, represented on the first 8 octets of the octet string.`,xref:{document:"core",section:"11.9.5.5.1"}}),o({name:"Connected",id:1,type:"bool",conformance:"M",details:'This field shall indicate the connected status of the associated network, where "connected" means currently linked to the network technology (e.g. Associated for a Wi-Fi network, media connected for an Ethernet network).',xref:{document:"core",section:"11.9.5.5.2"}})]}),C({name:"WiFiInterfaceScanResultStruct",type:"struct",details:"WiFiInterfaceScanResultStruct represents a single Wi-Fi network scan result.",xref:{document:"core",section:"11.9.5.6"},children:[o({name:"Security",id:0,type:"WiFiSecurityBitmap",conformance:"WI"}),o({name:"Ssid",id:1,type:"octstr",conformance:"WI",constraint:"max 32"}),o({name:"Bssid",id:2,type:"octstr",conformance:"WI",constraint:"6"}),o({name:"Channel",id:3,type:"uint16",conformance:"WI"}),o({name:"WiFiBand",id:4,type:"WiFiBandEnum",conformance:"[WI]",details:"This field, if present, may be used to differentiate overlapping channel number values across different Wi-Fi frequency bands.",xref:{document:"core",section:"11.9.5.6.1"}}),o({name:"Rssi",id:5,type:"int8",conformance:"[WI]",details:"This field, if present, shall denote the signal strength in dBm of the associated scan result.",xref:{document:"core",section:"11.9.5.6.2"}})]}),C({name:"ThreadInterfaceScanResultStruct",type:"struct",details:"ThreadInterfaceScanResultStruct represents a single Thread network scan result.",xref:{document:"core",section:"11.9.5.7"},children:[o({name:"PanId",id:0,type:"uint16",conformance:"TH",constraint:"0 to 65534"}),o({name:"ExtendedPanId",id:1,type:"uint64",conformance:"TH"}),o({name:"NetworkName",id:2,type:"string",conformance:"TH",constraint:"1 to 16"}),o({name:"Channel",id:3,type:"uint16",conformance:"TH"}),o({name:"Version",id:4,type:"uint8",conformance:"TH"}),o({name:"ExtendedAddress",id:5,type:"hwadr",conformance:"TH",details:"ExtendedAddress stands for an IEEE 802.15.4 Extended Address.",xref:{document:"core",section:"11.9.5.7.1"}}),o({name:"Rssi",id:6,type:"int8",conformance:"TH"}),o({name:"Lqi",id:7,type:"uint8",conformance:"TH"})]})]});A.children.push(SC);var IC=ie({name:"GeneralCommissioning",id:48,classification:"node",pics:"CGEN",details:`This cluster is used to manage basic commissioning lifecycle.
This cluster also represents responsibilities related to commissioning that don\u2019t well fit other commissioning clusters, like Section 11.9, \u201CNetwork Commissioning Cluster\u201D. It also hosts functionalities those other clusters may depend on.`,xref:{document:"core",section:"11.10"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"Breadcrumb",id:0,type:"uint64",access:"RW VA",conformance:"M",default:0,details:`This attribute allows for the storage of a client-provided small payload which Administrators and Commissioners may write and then subsequently read, to keep track of their own progress. This may be used by the Commissioner to avoid repeating already-executed actions upon re-establishing a commissioning link after an error.
On start/restart of the server, such as when a device is power-cycled, this attribute shall be reset to zero.
Some commands related to commissioning also have a side-effect of updating or resetting this attribute and this is specified in their respective functional descriptions.
The format of the value within this attribute is unspecified and its value is not otherwise used by the functioning of any cluster, other than being set as a side-effect of commands where this behavior is described.`,xref:{document:"core",section:"11.10.5.1"}}),p({name:"BasicCommissioningInfo",id:1,type:"BasicCommissioningInfo",access:"R V",conformance:"M",constraint:"desc",quality:"F",details:"This attribute shall describe critical parameters needed at the beginning of commissioning flow. See BasicCommissioningInfo for more information.",xref:{document:"core",section:"11.10.5.2"}}),p({name:"RegulatoryConfig",id:2,type:"RegulatoryLocationTypeEnum",access:"R V",conformance:"M",default:{type:"reference",name:"LocationCapability"},details:`Indicates the regulatory configuration for the product.
Note that the country code is part of Basic Information Cluster and therefore NOT listed on the RegulatoryConfig attribute.`,xref:{document:"core",section:"11.10.5.3"}}),p({name:"LocationCapability",id:3,type:"RegulatoryLocationTypeEnum",access:"R V",conformance:"M",default:2,quality:"F",details:`LocationCapability is statically set by the manufacturer and indicates if this Node needs to be told an exact RegulatoryLocation. For example a Node which is "Indoor Only" would not be certified for outdoor use at all, and thus there is no need for a commissioner to set or ask the user about whether the device will be used inside or outside. However a device which states its capability is "Indoor/Outdoor" means it would like clarification if possible.
For Nodes without radio network interfaces (e.g. Ethernet-only devices), the value IndoorOutdoor shall always be used.
The default value of the RegulatoryConfig attribute is the value of LocationCapability attribute. This means devices always have a safe default value, and Commissioners which choose to implement smarter handling can.`,xref:{document:"core",section:"11.10.5.4"}}),p({name:"SupportsConcurrentConnection",id:4,type:"bool",access:"R V",conformance:"M",default:!0,quality:"F",details:'Indicates whether this device supports "concurrent connection flow" commissioning mode (see Section 5.5, \u201CCommissioning Flows\u201D). If false, the device only supports "non-concurrent connection flow" mode.',xref:{document:"core",section:"11.10.5.5"}}),U({name:"ArmFailSafe",id:0,access:"A",conformance:"M",direction:"request",response:"ArmFailSafeResponse",details:`Success or failure of this command shall be communicated by the ArmFailSafeResponse command, unless some data model validations caused a failure status code to be issued during the processing of the command.
If the fail-safe timer is not currently armed, the commissioning window is open, and the command was received over a CASE session, the command shall leave the current fail-safe state unchanged and immediately respond with an ArmFailSafeResponse containing an ErrorCode value of BusyWithOtherAdmin. This is done to allow commissioners, which use PASE connections, the opportunity to use the failsafe during the relatively short commissioning window.
Otherwise, the command shall arm or re-arm the "fail-safe timer" with an expiry time set for a duration of ExpiryLengthSeconds, or disarm it, depending on the situation:
  \u2022 If ExpiryLengthSeconds is 0 and the fail-safe timer was already armed and the accessing fabric     matches the Fabric currently associated with the fail-safe context, then the fail-safe timer
shall be immediately expired (see further below for side-effects of expiration).
  \u2022 If ExpiryLengthSeconds is 0 and the fail-safe timer was not armed, then this command invocation     shall lead to a success response with no side-effects against the fail-safe context.
  \u2022 If ExpiryLengthSeconds is non-zero and the fail-safe timer was not currently armed, then the     fail-safe timer shall be armed for that duration.
  \u2022 If ExpiryLengthSeconds is non-zero and the fail-safe timer was currently armed, and the     accessing Fabric matches the fail-safe context\u2019s associated Fabric, then the fail-safe timer     shall be re- armed to expire in ExpiryLengthSeconds.
  \u2022 Otherwise, the command shall leave the current fail-safe state unchanged and immediately     respond with ArmFailSafeResponse containing an ErrorCode value of BusyWithOtherAdmin,     indicating a likely conflict between commissioners.
The value of the Breadcrumb field shall be written to the Breadcrumb Attribute on successful execution of the command.
If the receiver restarts unexpectedly (e.g., power interruption, software crash, or other reset) the receiver shall behave as if the fail-safe timer expired and perform the sequence of clean-up steps listed below.
On successful execution of the command, the ErrorCode field of the ArmFailSafeResponse shall be set to OK.
### Fail Safe Context
When first arming the fail-safe timer, a 'Fail Safe Context' shall be created on the receiver, to track the following state information while the fail-safe is armed:
  \u2022 The fail-safe timer duration.
  \u2022 The state of all Network Commissioning Networks attribute configurations, to allow recovery of     connectivity after Fail-Safe expiry.
  \u2022 Whether an AddNOC command or UpdateNOC command has taken place.
  \u2022 A Fabric Index for the fabric-scoping of the context, starting at the accessing fabric index     for the ArmFailSafe command, and updated with the Fabric Index associated with an AddNOC     command or an UpdateNOC command being invoked successfully during the ongoing Fail-Safe timer     period.
  \u2022 The operational credentials associated with any Fabric whose configuration is affected by the     UpdateNOC command.
  \u2022 Optionally: the previous state of non-fabric-scoped data that is mutated during the fail-safe     period.
Note the following to assist in understanding the above state-keeping, which summarizes other normative requirements in the respective sections:
  \u2022 The AddNOC command can only be invoked once per contiguous non-expiring fail-safe timer period,     and only if no UpdateNOC command was previously processed within the same fail-safe timer     period.
  \u2022 The UpdateNOC command can only be invoked once per contiguous non-expiring fail-safe timer     period, can only be invoked over a CASE session, and only if no AddNOC command was previously     processed in the same fail-safe timer period.
On creation of the Fail Safe Context a second timer shall be created to expire at MaxCumulativeFailsafeSeconds as specified in BasicCommissioningInfo. This Cumulative Fail Safe Context timer (CFSC timer) serves to limit the lifetime of any particular Fail Safe Context; it shall NOT be extended or modified on subsequent invocations of ArmFailSafe associated with this Fail Safe Context. Upon expiry of the CFSC timer, the receiver shall execute cleanup behavior equivalent to that of fail-safe timer expiration as detailed in Section 11.10.6.2.2, \u201CBehavior on expiry of Fail-Safe timer\u201D. Termination of the session prior to the expiration of that timer for any reason (including a successful end of commissioning or an expiry of a fail-safe timer) shall also delete the CFSC timer.
### Behavior on expiry of Fail-Safe timer
If the fail-safe timer expires before the CommissioningComplete command is successfully invoked, the following sequence of clean-up steps shall be executed, in order, by the receiver:
  1. Terminate any open PASE secure session by clearing any associated Secure Session Context at       the Server.
  2. Revoke the temporary administrative privileges granted to any open PASE session (see Section       6.6.2.8, \u201CBootstrapping of the Access Control Cluster\u201D) at the Server.
  3. If an AddNOC or UpdateNOC command has been successfully invoked, terminate all CASE sessions       associated with the Fabric whose Fabric Index is recorded in the Fail-Safe context (see       Section 11.10.6.2, \u201CArmFailSafe Command\u201D) by clearing any associated Secure Session Context       at the Server.
  4. Reset the configuration of all Network Commissioning Networks attribute to their state prior       to the Fail-Safe being armed.
  5. If an UpdateNOC command had been successfully invoked, revert the state of operational key       pair, NOC and ICAC for that Fabric to the state prior to the Fail-Safe timer being armed, for       the Fabric Index that was the subject of the UpdateNOC command.
  6. If an AddNOC command had been successfully invoked, achieve the equivalent effect of invoking       the RemoveFabric command against the Fabric Index stored in the Fail-Safe Context for the       Fabric Index that was the subject of the AddNOC command. This shall remove all associations       to that Fabric including all fabric-scoped data, and may possibly factory-reset the device       depending on current device state. This shall only apply to Fabrics added during the       fail-safe period as the result of the AddNOC command.
  7. If the CSRRequest command had been successfully invoked, but no AddNOC or UpdateNOC command       had been successfully invoked, then the new operational key pair temporarily generated for       the purposes of NOC addition or update (see Node Operational CSR Procedure) shall be removed       as it is no longer needed.
  8. Remove any RCACs added by the AddTrustedRootCertificate command that are not currently       referenced by any entry in the Fabrics attribute.
  9. Reset the Breadcrumb attribute to zero.
  10. Optionally: if no factory-reset resulted from the previous steps, it is recommended that the
Node rollback the state of all non fabric-scoped data present in the Fail-Safe context.`,xref:{document:"core",section:"11.10.6.2"},children:[o({name:"ExpiryLengthSeconds",id:0,type:"uint16",conformance:"M",default:900}),o({name:"Breadcrumb",id:1,type:"uint64",conformance:"M"})]}),U({name:"ArmFailSafeResponse",id:1,conformance:"M",direction:"response",xref:{document:"core",section:"11.10.6.3"},children:[o({name:"ErrorCode",id:0,type:"CommissioningErrorEnum",conformance:"M",default:0,details:"This field shall contain the result of the operation, based on the behavior specified in the functional description of the ArmFailSafe command.",xref:{document:"core",section:"11.10.6.3.1"}}),o({name:"DebugText",id:1,type:"string",conformance:"M",constraint:"max 128",default:"",details:"See Section 11.10.6.1, \u201CCommon fields in General Commissioning cluster responses\u201D.",xref:{document:"core",section:"11.10.6.3.2"}})]}),U({name:"SetRegulatoryConfig",id:2,access:"A",conformance:"M",direction:"request",response:"SetRegulatoryConfigResponse",details:`This shall add or update the regulatory configuration in the RegulatoryConfig Attribute to the value provided in the NewRegulatoryConfig field.
Success or failure of this command shall be communicated by the SetRegulatoryConfigResponse command, unless some data model validations caused a failure status code to be issued during the processing of the command.
The CountryCode field shall conforms to ISO 3166-1 alpha-2 and shall be used to set the Location attribute reflected by the Basic Information Cluster.
If the server limits some of the values (e.g. locked to a particular country, with no regulatory data for others), then setting regulatory information outside a valid country or location shall still set the Location attribute reflected by the Basic Information Cluster configuration, but the SetRegulatoryConfigResponse replied shall have the ErrorCode field set to ValueOutsideRange error.
If the LocationCapability attribute is not Indoor/Outdoor and the NewRegulatoryConfig value received does not match either the Indoor or Outdoor fixed value in LocationCapability, then the SetRegulatoryConfigResponse replied shall have the ErrorCode field set to ValueOutsideRange error and the RegulatoryConfig attribute and associated internal radio configuration shall remain unchanged.
If the LocationCapability attribute is set to Indoor/Outdoor, then the RegulatoryConfig attribute shall be set to match the NewRegulatoryConfig field.
On successful execution of the command, the ErrorCode field of the SetRegulatoryConfigResponse shall be set to OK.
The Breadcrumb field shall be used to atomically set the Breadcrumb attribute on success of this command, when SetRegulatoryConfigResponse has the ErrorCode field set to OK. If the command fails, the Breadcrumb attribute shall be left unchanged.`,xref:{document:"core",section:"11.10.6.4"},children:[o({name:"NewRegulatoryConfig",id:0,type:"RegulatoryLocationTypeEnum",conformance:"M"}),o({name:"CountryCode",id:1,type:"string",conformance:"M",constraint:"2"}),o({name:"Breadcrumb",id:2,type:"uint64",conformance:"M"})]}),U({name:"SetRegulatoryConfigResponse",id:3,conformance:"M",direction:"response",xref:{document:"core",section:"11.10.6.5"},children:[o({name:"ErrorCode",id:0,type:"CommissioningErrorEnum",conformance:"M",default:0,details:"This field shall contain the result of the operation, based on the behavior specified in the functional description of the SetRegulatoryConfig command.",xref:{document:"core",section:"11.10.6.5.1"}}),o({name:"DebugText",id:1,type:"string",conformance:"M",default:"",details:"See Section 11.10.6.1, \u201CCommon fields in General Commissioning cluster responses\u201D.",xref:{document:"core",section:"11.10.6.5.2"}})]}),U({name:"CommissioningComplete",id:4,access:"F A",conformance:"M",direction:"request",response:"CommissioningCompleteResponse",details:`This command has no data.
Success or failure of this command shall be communicated by the CommissioningCompleteResponse command, unless some data model validations caused a failure status code to be issued during the processing of the command.
This command signals the Server that the Commissioner or Administrator has successfully completed all steps needed during the Fail-Safe period, such as commissioning (see Section 5.5, \u201CCommissioning Flows\u201D) or other Administrator operations requiring usage of the Fail Safe timer. It ensures that the Server is configured in a state such that it still has all necessary elements to be fully operable within a Fabric, such as ACL entries (see Access Control Cluster) and operational credentials (see Section 6.4, \u201CNode Operational Credentials Specification\u201D), and that the Node is reach
able using CASE (see Section 4.14.2, \u201CCertificate Authenticated Session Establishment (CASE)\u201D) over an operational network.
An ErrorCode of NoFailSafe shall be responded to the invoker if the CommissioningComplete command was received when no Fail-Safe context exists.
This command is fabric-scoped, so cannot be issued over a session that does not have an associated fabric, i.e. over PASE session prior to an AddNOC command. In addition, this command is only permitted over CASE and must be issued by a node associated with the ongoing Fail-Safe context. An ErrorCode of InvalidAuthentication shall be responded to the invoker if the CommissioningComplete command was received outside a CASE session (e.g., over Group messaging, or PASE session after AddNOC), or if the accessing fabric is not the one associated with the ongoing Fail-Safe context.
This command shall only result in success with an ErrorCode value of OK in the CommissioningCompleteResponse if received over a CASE session and the accessing fabric index matches the Fabric Index associated with the current Fail-Safe context. In other words:
  \u2022 If no AddNOC command had been successfully invoked, the CommissioningComplete command must     originate from the Fabric that initiated the Fail-Safe context.
  \u2022 After an AddNOC command has been successfully invoked, the CommissioningComplete command must     originate from the Fabric which was joined through the execution of that command, which updated     the Fail-Safe context\u2019s Fabric Index.
On successful execution of the CommissioningComplete command, where the CommissioningCompleteResponse has an ErrorCode of OK, the following actions shall be undertaken on the Server:
  1. The Fail-Safe timer associated with the current Fail-Safe context shall be disarmed.
  2. The commissioning window at the Server shall be closed.
  3. Any temporary administrative privileges automatically granted to any open PASE session shall      be revoked (see Section 6.6.2.8, \u201CBootstrapping of the Access Control Cluster\u201D).
  4. The Secure Session Context of any PASE session still established at the Server shall be      cleared.
  5. The Breadcrumb attribute shall be reset to zero.
After receipt of a CommissioningCompleteResponse with an ErrorCode value of OK, a client cannot expect any previously established PASE session to still be usable, due to the server having cleared such sessions.`,xref:{document:"core",section:"11.10.6.6"}}),U({name:"CommissioningCompleteResponse",id:5,conformance:"M",direction:"response",xref:{document:"core",section:"11.10.6.7"},children:[o({name:"ErrorCode",id:0,type:"CommissioningErrorEnum",conformance:"M",default:0,details:"This field shall contain the result of the operation, based on the behavior specified in the functional description of the CommissioningComplete command.",xref:{document:"core",section:"11.10.6.7.1"}}),o({name:"DebugText",id:1,type:"string",conformance:"M",default:"",details:"See Section 11.10.6.1, \u201CCommon fields in General Commissioning cluster responses\u201D.",xref:{document:"core",section:"11.10.6.7.2"}})]}),C({name:"CommissioningErrorEnum",type:"enum8",details:"This enumeration is used by several response commands in this cluster to indicate particular errors.",xref:{document:"core",section:"11.10.4.1"},children:[o({name:"Ok",id:0,conformance:"M",description:"No error"}),o({name:"ValueOutsideRange",id:1,conformance:"M",description:"Attempting to set regulatory configuration to a region or indoor/outdoor mode for which the server does not have proper configuration."}),o({name:"InvalidAuthentication",id:2,conformance:"M",description:"Executed CommissioningComplete outside CASE session."}),o({name:"NoFailSafe",id:3,conformance:"M",description:"Executed CommissioningComplete when there was no active Fail-Safe context."}),o({name:"BusyWithOtherAdmin",id:4,conformance:"M",description:"Attempting to arm fail- safe or execute CommissioningComplete from a fabric different than the one associated with the current fail- safe context."})]}),C({name:"RegulatoryLocationTypeEnum",type:"enum8",details:"This enumeration is used by the RegulatoryConfig and LocationCapability attributes to indicate possible radio usage.",xref:{document:"core",section:"11.10.4.2"},children:[o({name:"Indoor",id:0,conformance:"M",description:"Indoor only"}),o({name:"Outdoor",id:1,conformance:"M",description:"Outdoor only"}),o({name:"IndoorOutdoor",id:2,conformance:"M",description:"Indoor/Outdoor"})]}),C({name:"BasicCommissioningInfo",type:"struct",details:"This structure provides some constant values that may be of use to all commissioners.",xref:{document:"core",section:"11.10.4.3"},children:[o({name:"FailSafeExpiryLengthSeconds",id:0,type:"uint16",conformance:"M",details:"This field shall contain a conservative initial duration (in seconds) to set in the FailSafe for the commissioning flow to complete successfully. This may vary depending on the speed or sleepiness of the Commissionee. This value, if used in the ArmFailSafe command\u2019s ExpiryLengthSeconds field SHOULD allow a Commissioner to proceed with a nominal commissioning without having to-rearm the fail-safe, with some margin.",xref:{document:"core",section:"11.10.4.3.1"}}),o({name:"MaxCumulativeFailsafeSeconds",id:1,type:"uint16",conformance:"M",constraint:"desc",details:`This field shall contain a conservative value in seconds denoting the maximum total duration for which a fail safe timer can be re-armed. See Section 11.10.6.2.1, \u201CFail Safe Context\u201D.
The value of this field shall be greater than or equal to the FailSafeExpiryLengthSeconds. Absent additional guidelines, it is recommended that the value of this field be aligned with the initial Announcement Duration and default to 900 seconds.`,xref:{document:"core",section:"11.10.4.3.2"}})]})]});A.children.push(IC);var AC=ie({name:"DiagnosticLogs",id:50,classification:"node",pics:"DLOG",details:"This Cluster supports an interface to a Node. It provides commands for retrieving unstructured diagnostic logs from a Node that may be used to aid in diagnostics. It will often be the case that unstructured diagnostic logs will be Node-wide and not specific to any subset of Endpoints. When present, this Cluster shall be implemented once for the Node. The Node SHOULD also implement the BDX Initiator and BDX Sender roles as defined in the BDX Protocol.",xref:{document:"core",section:"11.11"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),U({name:"RetrieveLogsRequest",id:0,access:"O",conformance:"M",direction:"request",response:"RetrieveLogsResponse",details:"Reception of this command starts the process of retrieving diagnostic logs from a Node.",xref:{document:"core",section:"11.11.5.1"},children:[o({name:"Intent",id:0,type:"IntentEnum",conformance:"M",details:"This field shall indicate why the diagnostic logs are being retrieved from the Node. A Node may utilize this field to selectively determine the logs to transfer.",xref:{document:"core",section:"11.11.5.1.1"}}),o({name:"RequestedProtocol",id:1,type:"TransferProtocolEnum",conformance:"M",details:"This field shall be used to indicate how the log transfer is to be realized. If the field is set to BDX, then if the receiving Node supports BDX it shall attempt to use BDX to transfer any potential diagnostic logs; if the receiving Node does not support BDX then the Node shall follow the requirements defined for a TransferProtocolEnum of ResponsePayload. If this field is set to ResponsePayload the receiving Node shall only utilize the LogContent field of the RetrieveLogsResponse command to transfer diagnostic log information.",xref:{document:"core",section:"11.11.5.1.2"}}),o({name:"TransferFileDesignator",id:2,type:"string",conformance:"O",constraint:"max 32",details:`This field shall be present if the RequestedProtocol is BDX. The TransferFileDesignator shall be set as the File Designator of the BDX transfer if initiated.
Effect on Receipt
On receipt of this command, the Node shall respond with a RetrieveLogsResponse command.
If the RequestedProtocol is set to BDX the Node SHOULD immediately realize the RetrieveLogsResponse command by initiating a BDX Transfer, sending a BDX SendInit message with the File Designator field of the message set to the value of the TransferFileDesignator field of the RetrieveLogsRequest. On reception of a BDX SendAccept message the Node shall send a RetrieveLogsResponse command with a Status field set to Success and proceed with the log transfer over BDX. If a failure StatusReport is received in response to the SendInit message, the Node shall send a RetrieveLogsResponse command with a Status of Denied. In the case where the Node is able to fit the entirety of the requested logs within the LogContent field, the Status field of the RetrieveLogsResponse shall be set to Exhausted and a BDX session shall NOT be initiated.
If the RequestedProtocol is set to BDX and either the Node does not support BDX or it is not possible for the Node to establish a BDX session, then the Node shall utilize the LogContent field of the RetrieveLogsResponse command to transfer as much of the current logs as it can fit within the response, and the Status field of the RetrieveLogsResponse shall be set to Exhausted.
If the RequestedProtocol is set to ResponsePayload the Node shall utilize the LogContent field of the RetrieveLogsResponse command to transfer as much of the current logs as it can fit within the response, and a BDX session shall NOT be initiated.
If the RequestedProtocol is set to BDX and there is no TransferFileDesignator the command shall fail with a Status Code of INVALID_COMMAND.
If the Intent and/or the RequestedProtocol arguments contain invalid (out of range) values the command shall fail with a Status Code of INVALID_COMMAND.`,xref:{document:"core",section:"11.11.5.1.3"}})]}),U({name:"RetrieveLogsResponse",id:1,conformance:"M",direction:"response",details:"This shall be generated as a response to the RetrieveLogsRequest. The data for this command is shown in the following.",xref:{document:"core",section:"11.11.5.2"},children:[o({name:"Status",id:0,type:"StatusEnum",conformance:"M",details:"This field shall indicate the result of an attempt to retrieve diagnostic logs.",xref:{document:"core",section:"11.11.5.2.1"}}),o({name:"LogContent",id:1,type:"octstr",conformance:"M",constraint:"max 1024",details:"This field shall be included in the command if the Status field has a value of Success or Exhausted. A Node SHOULD utilize this field to transfer the newest diagnostic log entries. This field shall be empty if BDX is requested and the Status field has a value of Success.",xref:{document:"core",section:"11.11.5.2.2"}}),o({name:"UtcTimeStamp",id:2,type:"epoch-us",conformance:"O",details:"This field SHOULD be included in the command if the Status field has a value of Success and the Node maintains a wall clock. When included, the UTCTimeStamp field shall contain the value of the oldest log entry in the diagnostic logs that are being transferred.",xref:{document:"core",section:"11.11.5.2.3"}}),o({name:"TimeSinceBoot",id:3,type:"systime-us",conformance:"O",details:"This field SHOULD be included in the command if the Status field has a value of Success. When included, the TimeSinceBoot field shall contain the time of the oldest log entry in the diagnostic logs that are being transferred represented by the number of microseconds since the last time the Node went through a reboot.",xref:{document:"core",section:"11.11.5.2.4"}})]}),C({name:"IntentEnum",type:"enum8",xref:{document:"core",section:"11.11.4.1"},children:[o({name:"EndUserSupport",id:0,conformance:"M",description:"Logs to be used for end- user support",details:"shall indicate that the purpose of the log request is to retrieve logs for the intention of providing support to an end-user.",xref:{document:"core",section:"11.11.4.1.1"}}),o({name:"NetworkDiag",id:1,conformance:"M",description:"Logs to be used for network diagnostics",details:"shall indicate that the purpose of the log request is to diagnose the network(s) for which the Node is currently commissioned (and/or connected) or has previously been commissioned (and/or connected).",xref:{document:"core",section:"11.11.4.1.2"}}),o({name:"CrashLogs",id:2,conformance:"M",description:"Obtain crash logs from the Node",details:"shall indicate that the purpose of the log request is to retrieve any crash logs that may be present on a Node.",xref:{document:"core",section:"11.11.4.1.3"}})]}),C({name:"StatusEnum",type:"enum8",xref:{document:"core",section:"11.11.4.2"},children:[o({name:"Success",id:0,conformance:"M",description:"Successful transfer of logs",details:"shall be used if diagnostic logs will be or are being transferred.",xref:{document:"core",section:"11.11.4.2.1"}}),o({name:"Exhausted",id:1,conformance:"M",description:"All logs has been transferred",details:"shall be used when a BDX session is requested, however, all available logs were provided in a LogContent field.",xref:{document:"core",section:"11.11.4.2.2"}}),o({name:"NoLogs",id:2,conformance:"M",description:"No logs of the requested type available",details:"shall be used if the Node does not currently have any diagnostic logs of the requested type (Intent) to transfer.",xref:{document:"core",section:"11.11.4.2.3"}}),o({name:"Busy",id:3,conformance:"M",description:"Unable to handle request, retry later",details:"shall be used if the Node is unable to handle the request (e.g. in the process of another transfer) and the Client SHOULD re-attempt the request later.",xref:{document:"core",section:"11.11.4.2.4"}}),o({name:"Denied",id:4,conformance:"M",description:"The request is denied, no logs being transferred",details:"shall be used if the Node is denying the current transfer of diagnostic logs for any reason.",xref:{document:"core",section:"11.11.4.2.5"}})]}),C({name:"TransferProtocolEnum",type:"enum8",xref:{document:"core",section:"11.11.4.3"},children:[o({name:"ResponsePayload",id:0,conformance:"M",description:"Logs to be returned as a response",details:"shall be used by a Client to request that logs are transferred using the LogContent attribute of the response",xref:{document:"core",section:"11.11.4.3.1"}}),o({name:"Bdx",id:1,conformance:"M",description:"Logs to be returned using BDX",details:"shall be used by a Client to request that logs are transferred using BDX as defined in BDX Protocol",xref:{document:"core",section:"11.11.4.3.2"}})]})]});A.children.push(AC);var MC=ie({name:"GeneralDiagnostics",id:51,classification:"node",pics:"DGGEN",details:"The General Diagnostics Cluster, along with other diagnostics clusters, provide a means to acquire standardized diagnostics metrics that may be used by a Node to assist a user or Administrator in diagnosing potential problems. The General Diagnostics Cluster attempts to centralize all metrics that are broadly relevant to the majority of Nodes.",xref:{document:"core",section:"11.12"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:2}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"core",section:"11.12.4"},children:[o({name:"DMTEST",conformance:"desc",constraint:"0",description:"DataModelTest",details:`This feature indicates support for extended Data Model testing commands, which are required in some situations.
This feature shall be supported if the MaxPathsPerInvoke attribute of the Basic Information Cluster has a value > 1.`,xref:{document:"core",section:"11.12.4.1"}})]}),p({name:"NetworkInterfaces",id:0,type:"list",access:"R V",conformance:"M",constraint:"max 8",details:"The NetworkInterfaces attribute shall be a list of NetworkInterface structs. Each logical network interface on the Node shall be represented by a single entry within the NetworkInterfaces attribute.",xref:{document:"core",section:"11.12.6.1"},children:[o({name:"entry",type:"NetworkInterface"})]}),p({name:"RebootCount",id:1,type:"uint16",access:"R V",conformance:"M",quality:"N",details:"The RebootCount attribute shall indicate a best-effort count of the number of times the Node has rebooted. The RebootCount attribute SHOULD be incremented each time the Node reboots. The RebootCount attribute shall NOT be incremented when a Node wakes from a low-power or sleep state. The RebootCount attribute shall only be reset to 0 upon a factory reset of the Node.",xref:{document:"core",section:"11.12.6.2"}}),p({name:"UpTime",id:2,type:"uint64",access:"R V",conformance:"M",quality:"C",details:"The UpTime attribute shall indicate a best-effort assessment of the length of time, in seconds, since the Node\u2019s last reboot. This attribute SHOULD be incremented to account for the periods of time that a Node is in a low-power or sleep state. This attribute shall only be reset upon a device reboot. This attribute shall be based on the same System Time source as those used to fulfill any usage of the system-us and system-ms data types within the server.",xref:{document:"core",section:"11.12.6.3"}}),p({name:"TotalOperationalHours",id:3,type:"uint32",access:"R V",conformance:"O",quality:"N C",details:"The TotalOperationalHours attribute shall indicate a best-effort attempt at tracking the length of time, in hours, that the Node has been operational. The TotalOperationalHours attribute SHOULD be incremented to account for the periods of time that a Node is in a low-power or sleep state. The TotalOperationalHours attribute shall only be reset upon a factory reset of the Node.",xref:{document:"core",section:"11.12.6.4"}}),p({name:"BootReason",id:4,type:"BootReasonEnum",access:"R V",conformance:"O",details:"The BootReason attribute shall indicate the reason for the Node\u2019s most recent boot.",xref:{document:"core",section:"11.12.6.5"}}),p({name:"ActiveHardwareFaults",id:5,type:"list",access:"R V",conformance:"O",constraint:"max 11",details:"The ActiveHardwareFaults attribute shall indicate the set of faults currently detected by the Node. When the Node detects a fault has been raised, the appropriate HardwareFaultEnum value shall be added to this list. This list shall NOT contain more than one instance of a specific HardwareFaultEnum value. When the Node detects that all conditions contributing to a fault has been cleared, the corresponding HardwareFaultEnum value shall be removed from this list. An empty list shall indicate there are currently no active faults. The order of this list SHOULD have no significance. Clients interested in monitoring changes in active faults may subscribe to this attribute, or they may subscribe to HardwareFaultChange.",xref:{document:"core",section:"11.12.6.6"},children:[o({name:"entry",type:"HardwareFaultEnum"})]}),p({name:"ActiveRadioFaults",id:6,type:"list",access:"R V",conformance:"O",constraint:"max 7",details:"The ActiveRadioFaults attribute shall indicate the set of faults currently detected by the Node. When the Node detects a fault has been raised, the appropriate RadioFaultEnum value shall be added to this list. This list shall NOT contain more than one instance of a specific RadioFaultEnum value. When the Node detects that all conditions contributing to a fault has been cleared, the corresponding RadioFaultEnum value shall be removed from this list. An empty list shall indicate there are currently no active faults. The order of this list SHOULD have no significance. Clients interested in monitoring changes in active faults may subscribe to this attribute, or they may subscribe to RadioFaultChange.",xref:{document:"core",section:"11.12.6.7"},children:[o({name:"entry",type:"RadioFaultEnum"})]}),p({name:"ActiveNetworkFaults",id:7,type:"list",access:"R V",conformance:"O",constraint:"max 4",details:"The ActiveNetworkFaults attribute shall indicate the set of faults currently detected by the Node. When the Node detects a fault has been raised, the appropriate NetworkFaultEnum value shall be added to this list. This list shall NOT contain more than one instance of a specific NetworkFaultEnum value. When the Node detects that all conditions contributing to a fault has been cleared, the corresponding NetworkFaultEnum value shall be removed from this list. An empty list shall indicate there are currently no active faults. The order of this list SHOULD have no significance. Clients interested in monitoring changes in active faults may subscribe to this attribute, or they may subscribe to NetworkFaultChange.",xref:{document:"core",section:"11.12.6.8"},children:[o({name:"entry",type:"NetworkFaultEnum"})]}),p({name:"TestEventTriggersEnabled",id:8,type:"bool",access:"R V",conformance:"M",details:"The TestEventTriggersEnabled attribute shall indicate whether the Node has any TestEventTrigger configured. When this attribute is true, the Node has been configured with one or more test event triggers by virtue of the internally programmed EnableKey value (see Section 11.12.7.1, \u201CTestEventTrigger Command\u201D) being set to a non-zero value. This attribute can be used by Administrators to detect if a device was inadvertently commissioned with test event trigger mode enabled, and take appropriate action (e.g. warn the user and/or offer to remove all fabrics on the Node).",xref:{document:"core",section:"11.12.6.9"}}),p({name:"DoNotUse",id:9,conformance:"X",xref:{document:"core",section:"11.12.6"}}),Se({name:"HardwareFaultChange",id:0,access:"V",conformance:"O",priority:"critical",details:"The HardwareFaultChange Event shall indicate a change in the set of hardware faults currently detected by the Node.",xref:{document:"core",section:"11.12.8.1"},children:[o({name:"Current",id:0,type:"list",conformance:"M",constraint:"max 11",details:"This field shall represent the set of faults currently detected, as per Section 11.12.5.1, \u201CHardwareFaultEnum Type\u201D.",xref:{document:"core",section:"11.12.8.1.1"},children:[o({name:"entry",type:"HardwareFaultEnum"})]}),o({name:"Previous",id:1,type:"list",conformance:"M",constraint:"max 11",details:"This field shall represent the set of faults detected prior to this change event, as per Section 11.12.5.1, \u201CHardwareFaultEnum Type\u201D.",xref:{document:"core",section:"11.12.8.1.2"},children:[o({name:"entry",type:"HardwareFaultEnum"})]})]}),Se({name:"RadioFaultChange",id:1,access:"V",conformance:"O",priority:"critical",details:"The RadioFaultChange Event shall indicate a change in the set of radio faults currently detected by the Node.",xref:{document:"core",section:"11.12.8.2"},children:[o({name:"Current",id:0,type:"list",conformance:"M",constraint:"max 7",details:"This field shall represent the set of faults currently detected, as per Section 11.12.5.2, \u201CRadioFaultEnum Type\u201D.",xref:{document:"core",section:"11.12.8.2.1"},children:[o({name:"entry",type:"RadioFaultEnum"})]}),o({name:"Previous",id:1,type:"list",conformance:"M",constraint:"max 7",details:"This field shall represent the set of faults detected prior to this change event, as per Section 11.12.5.2, \u201CRadioFaultEnum Type\u201D.",xref:{document:"core",section:"11.12.8.2.2"},children:[o({name:"entry",type:"RadioFaultEnum"})]})]}),Se({name:"NetworkFaultChange",id:2,access:"V",conformance:"O",priority:"critical",details:"The NetworkFaultChange Event shall indicate a change in the set of network faults currently detected by the Node.",xref:{document:"core",section:"11.12.8.3"},children:[o({name:"Current",id:0,type:"list",conformance:"M",constraint:"max 4",details:"This field shall represent the set of faults currently detected, as per Section 11.12.5.3, \u201CNetworkFaultEnum Type\u201D.",xref:{document:"core",section:"11.12.8.3.1"},children:[o({name:"entry",type:"NetworkFaultEnum"})]}),o({name:"Previous",id:1,type:"list",conformance:"M",constraint:"max 4",details:"This field shall represent the set of faults detected prior to this change event, as per Section 11.12.5.3, \u201CNetworkFaultEnum Type\u201D.",xref:{document:"core",section:"11.12.8.3.2"},children:[o({name:"entry",type:"NetworkFaultEnum"})]})]}),Se({name:"BootReason",id:3,access:"V",conformance:"M",priority:"critical",details:"The BootReason Event shall indicate the reason that caused the device to start-up.",xref:{document:"core",section:"11.12.8.4"},children:[o({name:"BootReason",id:0,type:"BootReasonEnum",conformance:"M",details:"This field shall contain the reason for this BootReason event.",xref:{document:"core",section:"11.12.8.4.1"}})]}),U({name:"TestEventTrigger",id:0,access:"M",conformance:"M",direction:"request",response:"status",details:`This command shall be supported to provide a means for certification tests to trigger some test- plan-specific events, necessary to assist in automation of device interactions for some certification test cases. This command shall NOT cause any changes to the state of the device that persist after the last fabric is removed.
The fields for the TestEventTrigger command are as follows:`,xref:{document:"core",section:"11.12.7.1"},children:[o({name:"EnableKey",id:0,type:"octstr",conformance:"M",constraint:"16",details:`The EnableKey is a 128 bit value provided by the client in this command, which needs to match a value chosen by the manufacturer and configured on the server using manufacturer-specific means, such as pre-provisioning. The value of all zeroes is reserved to indicate that no EnableKey is set. Therefore, if the EnableKey field is received with all zeroes, this command shall FAIL with a response status of CONSTRAINT_ERROR.
The EnableKey SHOULD be unique per exact set of devices going to a certification test.
Devices not targeted towards going to a certification test event shall NOT have a non-zero EnableKey value configured, so that only devices in test environments are responsive to this command.
In order to prevent unwittingly actuating a particular trigger, this command shall respond with a response status of CONSTRAINT_ERROR if the EnableKey field does not match the a-priori value configured on the device.`,xref:{document:"core",section:"11.12.7.1.1"}}),o({name:"EventTrigger",id:1,type:"uint64",conformance:"M",details:`This field shall indicate the test or test mode which the client wants to trigger.
The expected side-effects of EventTrigger values are out of scope of this specification and will be described within appropriate certification test literature provided to manufacturers by the Connectivity Standards Alliance, in conjunction with certification test cases documentation.
Values of EventTrigger in the range 0xFFFF_FFFF_0000_0000 through 0xFFFF_FFFF_FFFF_FFFF are reserved for testing use by manufacturers and will not appear in CSA certification test literature.
If the value of EventTrigger received is not supported by the receiving Node, this command shall fail with a status code of INVALID_COMMAND.
Otherwise, if the EnableKey value matches the configured internal value for a particular Node, and the EventTrigger value matches a supported test event trigger value, the command shall succeed and execute the expected trigger action.
If no specific test event triggers are required to be supported by certification test requirements for the features that a given product will be certified against, this command may always fail with the INVALID_COMMAND status, equivalent to the situation of receiving an unknown EventTrigger, for all possible EventTrigger values.`,xref:{document:"core",section:"11.12.7.1.2"}})]}),U({name:"TimeSnapshot",id:1,access:"O",conformance:"M",direction:"request",response:"TimeSnapshotResponse",details:`This command may be used by a client to obtain a correlated view of both System Time, and, if currently synchronized and supported, "wall clock time" of the server. This can help clients establish
time correlation between their concept of time and the server\u2019s concept of time. This is especially useful when processing event histories where some events only contain System Time.
Upon command invocation, the server shall respond with a TimeSnapshotResponse.`,xref:{document:"core",section:"11.12.7.2"}}),U({name:"TimeSnapshotResponse",id:2,conformance:"M",direction:"response",details:`This command shall be generated in response to a TimeSnapshot command.
When generating this response, all fields shall be gathered as close together in time as possible, so that the time jitter between the values is minimized.
If the Time Synchronization cluster is supported by the node, the PosixTimeMs field shall NOT be null unless the UTCTime attribute in the Time Synchronization cluster is also null.`,xref:{document:"core",section:"11.12.7.3"},children:[o({name:"SystemTimeMs",id:0,type:"systime-ms",conformance:"M",details:`This shall indicate the current System Time in milliseconds (type system-ms), with the value taken at the time of processing of the TimeSnapshot command that generated this response.
The value shall be taken from the same clock which populates the Timestamp field in events when using System Time for the field.`,xref:{document:"core",section:"11.12.7.3.1"}}),o({name:"PosixTimeMs",id:1,type:"posix-ms",conformance:"M",default:null,quality:"X",details:`This shall indicate the current time in POSIX Time in milliseconds, with the value taken from the same source that could populate the Timestamp field of events. This value shall only be null when any the following are true:
  \u2022 The node doesn\u2019t support the Time Synchronization cluster.
  \u2022 The node\u2019s Time Synchronization cluster instance\u2019s UTCTime attribute is null.`,xref:{document:"core",section:"11.12.7.3.2"}})]}),U({name:"PayloadTestRequest",id:3,access:"M",conformance:"DMTEST",direction:"request",response:"PayloadTestResponse",details:`This command provides a means for certification tests or manufacturer\u2019s internal tests to validate particular command handling and encoding constraints by generating a response of a given size.
This command shall use the same EnableKey behavior as the TestEventTrigger command, whereby processing of the command is only enabled when the TestEventTriggersEnabled field is true, which shall NOT be true outside of certification testing or manufacturer\u2019s internal tests.
The fields for the PayloadTestRequest command are as follows:`,xref:{document:"core",section:"11.12.7.4"},children:[o({name:"EnableKey",id:0,type:"octstr",conformance:"M",constraint:"16",details:"This field shall have the same meaning and usage as the TestEventTrigger EnableKey field.",xref:{document:"core",section:"11.12.7.4.1"}}),o({name:"Value",id:1,type:"uint8",conformance:"M",details:"This field shall indicate the value to use in every byte of the PayloadTestResponse\u2019s Payload field.",xref:{document:"core",section:"11.12.7.4.2"}}),o({name:"Count",id:2,type:"uint16",conformance:"M",constraint:"max 2048",details:`This field shall indicate the number of times to repeat the Value in the PayloadTestResponse\u2019s Payload field.
Effect upon receipt
This command shall respond with a response status of CONSTRAINT_ERROR if either:
  \u2022 The EnableKey field does not match the a-priori value configured on the device.
  \u2022 The TestEventTriggersEnabled field is currently false.
Otherwise, the server shall respond with a PayloadTestResponse command with a Payload field value containing Count instances of the Value byte. If the response is too large to send, the server shall fail the command and respond with a response status of RESOURCE_EXHAUSTED.
For example:
  \u2022 If Value is 0x55 and the Count is zero, then the PayloadTestResponse would have the Payload     field set to an empty octet string.
  \u2022 If Value is 0xA5 and the Count is 10, the PayloadTestResponse would have the Payload field set     to a content whose hexadecimal representation would be A5A5A5A5A5A5A5A5A5A5, and base64     representation would be paWlpaWlpaWlpQ==.`,xref:{document:"core",section:"11.12.7.4.3"}})]}),U({name:"PayloadTestResponse",id:4,access:"M",conformance:"DMTEST",direction:"response",details:"This command is sent by the server on receipt of the PayloadTestRequest command.",xref:{document:"core",section:"11.12.7.5"},children:[o({name:"Payload",id:0,type:"octstr",conformance:"M",constraint:"max 2048",details:"This field shall contain the computed response of the PayloadTestRequest command.",xref:{document:"core",section:"11.12.7.5.1"}})]}),C({name:"HardwareFaultEnum",type:"enum8",xref:{document:"core",section:"11.12.5.1"},children:[o({name:"Unspecified",id:0,conformance:"M",description:"The Node has encountered an unspecified fault."}),o({name:"Radio",id:1,conformance:"O",description:"The Node has encountered a fault with at least one of its radios."}),o({name:"Sensor",id:2,conformance:"O",description:"The Node has encountered a fault with at least one of its sensors."}),o({name:"ResettableOverTemp",id:3,conformance:"O",description:"The Node has encountered an over-temperature fault that is resettable."}),o({name:"NonResettableOverTemp",id:4,conformance:"O",description:"The Node has encountered an over-temperature fault that is not resettable."}),o({name:"PowerSource",id:5,conformance:"O",description:"The Node has encountered a fault with at least one of its power sources."}),o({name:"VisualDisplayFault",id:6,conformance:"O",description:"The Node has encountered a fault with at least one of its visual displays."}),o({name:"AudioOutputFault",id:7,conformance:"O",description:"The Node has encountered a fault with at least one of its audio outputs."}),o({name:"UserInterfaceFault",id:8,conformance:"O",description:"The Node has encountered a fault with at least one of its user interfaces."}),o({name:"NonVolatileMemoryError",id:9,conformance:"O",description:"The Node has encountered a fault with its non-volatile memory."}),o({name:"TamperDetected",id:10,conformance:"O",description:"The Node has encountered disallowed physical tampering."})]}),C({name:"RadioFaultEnum",type:"enum8",xref:{document:"core",section:"11.12.5.2"},children:[o({name:"Unspecified",id:0,conformance:"M",description:"The Node has encountered an unspecified radio fault."}),o({name:"WiFiFault",id:1,conformance:"O",description:"The Node has encountered a fault with its Wi-Fi radio."}),o({name:"CellularFault",id:2,conformance:"O",description:"The Node has encountered a fault with its cellular radio."}),o({name:"ThreadFault",id:3,conformance:"O",description:"The Node has encountered a fault with its802.15.4 radio."}),o({name:"NfcFault",id:4,conformance:"O",description:"The Node has encountered a fault with its NFC radio."}),o({name:"BleFault",id:5,conformance:"O",description:"The Node has encountered a fault with its BLE radio."}),o({name:"EthernetFault",id:6,conformance:"O",description:"The Node has encountered a fault with its Ethernet controller."})]}),C({name:"NetworkFaultEnum",type:"enum8",xref:{document:"core",section:"11.12.5.3"},children:[o({name:"Unspecified",id:0,conformance:"M",description:"The Node has encountered an unspecified fault."}),o({name:"HardwareFailure",id:1,conformance:"O",description:"The Node has encountered a network fault as a result of a hardware failure."}),o({name:"NetworkJammed",id:2,conformance:"O",description:"The Node has encountered a network fault as a result of a jammed network."}),o({name:"ConnectionFailed",id:3,conformance:"O",description:"The Node has encountered a network fault as a result of a failure to establish a connection."})]}),C({name:"InterfaceTypeEnum",type:"enum8",xref:{document:"core",section:"11.12.5.4"},children:[o({name:"Unspecified",id:0,conformance:"M",description:"Indicates an interface of an unspecified type."}),o({name:"WiFi",id:1,conformance:"O",description:"Indicates a Wi-Fi interface."}),o({name:"Ethernet",id:2,conformance:"O",description:"Indicates a Ethernet interface."}),o({name:"Cellular",id:3,conformance:"O",description:"Indicates a Cellular interface."}),o({name:"Thread",id:4,conformance:"O",description:"Indicates a Thread interface."})]}),C({name:"BootReasonEnum",type:"enum8",xref:{document:"core",section:"11.12.5.5"},children:[o({name:"Unspecified",id:0,conformance:"M",description:"The Node is unable to identify the Power-On reason as one of the other provided enumeration values."}),o({name:"PowerOnReboot",id:1,conformance:"M",description:"The Node has booted as the result of physical interaction with the device resulting in a reboot."}),o({name:"BrownOutReset",id:2,conformance:"M",description:"The Node has rebooted as the result of a brown-out of the Node\u2019s power supply."}),o({name:"SoftwareWatchdogReset",id:3,conformance:"M",description:"The Node has rebooted as the result of a software watchdog timer."}),o({name:"HardwareWatchdogReset",id:4,conformance:"M",description:"The Node has rebooted as the result of a hardware watchdog timer."}),o({name:"SoftwareUpdateCompleted",id:5,conformance:"M",description:"The Node has rebooted as the result of a completed software update."}),o({name:"SoftwareReset",id:6,conformance:"M",description:"The Node has rebooted as the result of a software initiated reboot."})]}),C({name:"NetworkInterface",type:"struct",details:"This structure describes a network interface supported by the Node, as provided in the NetworkInterfaces attribute.",xref:{document:"core",section:"11.12.5.6"},children:[o({name:"Name",id:0,type:"string",conformance:"M",constraint:"max 32",details:"This field shall indicate a human-readable (displayable) name for the network interface, that is different from all other interfaces.",xref:{document:"core",section:"11.12.5.6.1"}}),o({name:"IsOperational",id:1,type:"bool",conformance:"M",details:"This field shall indicate if the Node is currently advertising itself operationally on this network interface and is capable of successfully receiving incoming traffic from other Nodes.",xref:{document:"core",section:"11.12.5.6.2"}}),o({name:"OffPremiseServicesReachableIPv4",id:2,type:"bool",conformance:"M",default:null,quality:"X",details:"This field shall indicate whether the Node is currently able to reach off-premise services it uses by utilizing IPv4. The value shall be null if the Node does not use such services or does not know whether it can reach them.",xref:{document:"core",section:"11.12.5.6.3"}}),o({name:"OffPremiseServicesReachableIPv6",id:3,type:"bool",conformance:"M",default:null,quality:"X",details:"This field shall indicate whether the Node is currently able to reach off-premise services it uses by utilizing IPv6. The value shall be null if the Node does not use such services or does not know whether it can reach them.",xref:{document:"core",section:"11.12.5.6.4"}}),o({name:"HardwareAddress",id:4,type:"hwadr",conformance:"M",details:"This field shall contain the current link-layer address for a 802.3 or IEEE 802.11-2020 network interface and contain the current extended MAC address for a 802.15.4 interface. The byte order of the octstr shall be in wire byte order. For addresses values less than 64 bits, the first two bytes shall be zero.",xref:{document:"core",section:"11.12.5.6.5"}}),o({name:"IPv4Addresses",id:5,type:"list",conformance:"M",constraint:"max 4",details:"This field shall provide a list of the IPv4 addresses that are currently assigned to the network interface.",xref:{document:"core",section:"11.12.5.6.6"},children:[o({name:"entry",type:"ipv4adr"})]}),o({name:"IPv6Addresses",id:6,type:"list",conformance:"M",constraint:"max 8",details:"This field shall provide a list of the unicast IPv6 addresses that are currently assigned to the network interface. This list shall include the Node\u2019s link-local address and SHOULD include any assigned GUA and ULA addresses. This list shall NOT include any multicast group addresses to which the Node is subscribed.",xref:{document:"core",section:"11.12.5.6.7"},children:[o({name:"entry",type:"ipv6adr"})]}),o({name:"Type",id:7,type:"InterfaceTypeEnum",conformance:"M",details:"This field shall indicate the type of the interface using the InterfaceTypeEnum.",xref:{document:"core",section:"11.12.5.6.8"}})]})]});A.children.push(MC);var EC=ie({name:"SoftwareDiagnostics",id:52,classification:"node",pics:"DGSW",quality:"K",details:"The Software Diagnostics Cluster provides a means to acquire standardized diagnostics metrics that may be used by a Node to assist a user or Administrator in diagnosing potential problems. The Software Diagnostics Cluster attempts to centralize all metrics that are relevant to the software that may be running on a Node.",xref:{document:"core",section:"11.13"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"core",section:"11.13.4"},children:[o({name:"WTRMRK",constraint:"0",description:"Watermarks",details:"Node makes available the metrics for high watermark related to memory consumption."})]}),p({name:"ThreadMetrics",id:0,type:"list",access:"R V",conformance:"O",constraint:"max 64",details:"The ThreadMetrics attribute shall be a list of ThreadMetricsStruct structs. Each active thread on the Node shall be represented by a single entry within the ThreadMetrics attribute.",xref:{document:"core",section:"11.13.6.1"},children:[o({name:"entry",type:"ThreadMetricsStruct"})]}),p({name:"CurrentHeapFree",id:1,type:"uint64",access:"R V",conformance:"O",details:"The CurrentHeapFree attribute shall indicate the current amount of heap memory, in bytes, that are free for allocation. The effective amount may be smaller due to heap fragmentation or other reasons.",xref:{document:"core",section:"11.13.6.2"}}),p({name:"CurrentHeapUsed",id:2,type:"uint64",access:"R V",conformance:"O",details:"The CurrentHeapUsed attribute shall indicate the current amount of heap memory, in bytes, that is being used.",xref:{document:"core",section:"11.13.6.3"}}),p({name:"CurrentHeapHighWatermark",id:3,type:"uint64",access:"R V",conformance:"WTRMRK",details:"The CurrentHeapHighWatermark attribute shall indicate the maximum amount of heap memory, in bytes, that has been used by the Node. This value shall only be reset upon a Node reboot or upon receiving of the ResetWatermarks command.",xref:{document:"core",section:"11.13.6.4"}}),Se({name:"SoftwareFault",id:0,access:"V",conformance:"O",priority:"info",details:"The SoftwareFault Event shall be generated when a software fault takes place on the Node.",xref:{document:"core",section:"11.13.8.1"},children:[o({name:"Id",id:0,type:"uint64",conformance:"M",default:0,details:"The ID field shall be set to the ID of the software thread in which the last software fault occurred.",xref:{document:"core",section:"11.13.8.1.1"}}),o({name:"Name",id:1,type:"string",conformance:"O",constraint:"max 8",details:"The Name field shall be set to a manufacturer-specified name or prefix of the software thread in which the last software fault occurred.",xref:{document:"core",section:"11.13.8.1.2"}}),o({name:"FaultRecording",id:2,type:"octstr",conformance:"O",constraint:"max 1024",details:"The FaultRecording field shall be a manufacturer-specified payload intended to convey information to assist in further diagnosing or debugging a software fault. The FaultRecording field may be used to convey information such as, but not limited to, thread backtraces or register contents.",xref:{document:"core",section:"11.13.8.1.3"}})]}),U({name:"ResetWatermarks",id:0,access:"M",conformance:"WTRMRK",direction:"request",response:"status",details:`Receipt of this command shall reset the following values which track high and lower watermarks:
  \u2022 The StackFreeMinimum field of the ThreadMetrics attribute
  \u2022 The CurrentHeapHighWatermark attribute This command has no payload.
Effect on Receipt
On receipt of this command, the Node shall make the following modifications to attributes it supports:
If implemented, the server shall set the value of the CurrentHeapHighWatermark attribute to the value of the CurrentHeapUsed attribute.
If implemented, the server shall set the value of the StackFreeMinimum field for every thread to the value of the corresponding thread\u2019s StackFreeCurrent field.`,xref:{document:"core",section:"11.13.7.1"}}),C({name:"ThreadMetricsStruct",type:"struct",xref:{document:"core",section:"11.13.5.1"},children:[o({name:"Id",id:0,type:"uint64",conformance:"M",details:"The Id field shall be a server-assigned per-thread unique ID that is constant for the duration of the thread. Efforts SHOULD be made to avoid reusing ID values when possible.",xref:{document:"core",section:"11.13.5.1.1"}}),o({name:"Name",id:1,type:"string",conformance:"O",constraint:"max 8",details:"The Name field shall be set to a vendor defined name or prefix of the software thread that is static for the duration of the thread.",xref:{document:"core",section:"11.13.5.1.2"}}),o({name:"StackFreeCurrent",id:2,type:"uint32",conformance:"O",details:"The StackFreeCurrent field shall indicate the current amount of stack memory, in bytes, that are not being utilized on the respective thread.",xref:{document:"core",section:"11.13.5.1.3"}}),o({name:"StackFreeMinimum",id:3,type:"uint32",conformance:"O",details:"The StackFreeMinimum field shall indicate the minimum amount of stack memory, in bytes, that has been available at any point between the current time and this attribute being reset or initialized on the respective thread. This value shall only be reset upon a Node reboot or upon receiving of the ResetWatermarks command.",xref:{document:"core",section:"11.13.5.1.4"}}),o({name:"StackSize",id:4,type:"uint32",conformance:"O",details:"The StackSize field shall indicate the amount of stack memory, in bytes, that has been allocated for use by the respective thread.",xref:{document:"core",section:"11.13.5.1.5"}})]})]});A.children.push(EC);var OC=ie({name:"ThreadNetworkDiagnostics",id:53,classification:"node",pics:"DGTHREAD",quality:"K",details:"The Thread Network Diagnostics Cluster provides a means to acquire standardized diagnostics metrics that may be used by a Node to assist a user or Administrator in diagnosing potential problems. The Thread Network Diagnostics Cluster attempts to centralize all metrics that are relevant to a potential Thread radio running on a Node.",xref:{document:"core",section:"11.14"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:2}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"core",section:"11.14.4"},children:[o({name:"PKTCNT",constraint:"0",description:"PacketCounts",details:"Server supports the counts for the number of received and transmitted packets on the Thread interface."}),o({name:"ERRCNT",constraint:"1",description:"ErrorCounts",details:"Server supports the counts for the number of errors that have occurred during the reception and transmission of packets on the Thread interface."}),o({name:"MLECNT",constraint:"2",description:"MleCounts",details:"Server supports the counts for various MLE layer happenings."}),o({name:"MACCNT",constraint:"3",description:"MacCounts",details:"Server supports the counts for various MAC layer happenings."})]}),p({name:"Channel",id:0,type:"uint16",access:"R V",conformance:"M",quality:"X",details:"The Channel attribute shall indicate the 802.15.4 channel number configured on the Node\u2019s Thread interface (that is, the Active Operational Dataset\u2019s current Channel value). A value of null shall indicate that the Thread interface is not currently configured or operational.",xref:{document:"core",section:"11.14.6.1"}}),p({name:"RoutingRole",id:1,type:"RoutingRoleEnum",access:"R V",conformance:"M",quality:"X",details:"The RoutingRole attribute shall indicate the role that this Node has within the routing of messages through the Thread network, as defined by RoutingRoleEnum. The potential roles are defined in the following table. A value of null shall indicate that the Thread interface is not currently configured or operational.",xref:{document:"core",section:"11.14.6.2"}}),p({name:"NetworkName",id:2,type:"string",access:"R V",conformance:"M",constraint:"max 16",quality:"X",details:"The NetworkName attribute shall indicate a human-readable (displayable) name for the Thread network that the Node has been configured to join to. A value of null shall indicate that the Thread interface is not currently configured or operational.",xref:{document:"core",section:"11.14.6.3"}}),p({name:"PanId",id:3,type:"uint16",access:"R V",conformance:"M",quality:"X",details:"The PanId attribute shall indicate the 16-bit identifier of the Node on the Thread network. A value of null shall indicate that the Thread interface is not currently configured or operational.",xref:{document:"core",section:"11.14.6.4"}}),p({name:"ExtendedPanId",id:4,type:"uint64",access:"R V",conformance:"M",quality:"X",details:"The ExtendedPanId attribute shall indicate the unique 64-bit identifier of the Node on the Thread network. A value of null shall indicate that the Thread interface is not currently configured or operational.",xref:{document:"core",section:"11.14.6.5"}}),p({name:"MeshLocalPrefix",id:5,type:"ipv6pre",access:"R V",conformance:"M",quality:"X",details:"The MeshLocalPrefix attribute shall indicate the mesh-local IPv6 prefix for the Thread network that the Node has been configured to join to. A value of null shall indicate that the Thread interface is not currently configured or operational.",xref:{document:"core",section:"11.14.6.6"}}),p({name:"OverrunCount",id:6,type:"uint64",access:"R V",conformance:"ERRCNT",default:0,quality:"C",details:"The OverrunCount attribute shall indicate the number of packets dropped either at ingress or egress, due to lack of buffer memory to retain all packets on the ethernet network interface. The OverrunCount attribute shall be reset to 0 upon a reboot of the Node.",xref:{document:"core",section:"11.14.6.7"}}),p({name:"NeighborTable",id:7,type:"list",access:"R V",conformance:"M",default:[],details:"The NeighborTable attribute shall indicate the current list of Nodes that comprise the neighbor table on the Node.",xref:{document:"core",section:"11.14.6.8"},children:[o({name:"entry",type:"NeighborTableStruct"})]}),p({name:"RouteTable",id:8,type:"list",access:"R V",conformance:"M",default:[],details:"The RouteTable attribute shall indicate the current list of router capable Nodes for which routes have been established.",xref:{document:"core",section:"11.14.6.9"},children:[o({name:"entry",type:"RouteTableStruct"})]}),p({name:"PartitionId",id:9,type:"uint32",access:"R V",conformance:"M",quality:"X",details:"The PartitionId attribute shall indicate the Thread Leader Partition Id for the Thread network to which the Node is joined. Null if not attached to a Thread network.",xref:{document:"core",section:"11.14.6.10"}}),p({name:"Weighting",id:10,type:"uint16",access:"R V",conformance:"M",constraint:"max 255",quality:"X",details:"The Weighting attribute shall indicate the Thread Leader Weight used when operating in the Leader role. Null if not attached to a Thread network.",xref:{document:"core",section:"11.14.6.11"}}),p({name:"DataVersion",id:11,type:"uint16",access:"R V",conformance:"M",constraint:"max 255",quality:"X",details:"The DataVersion attribute shall indicate the full Network Data Version the Node currently uses. Null if not attached to a Thread network.",xref:{document:"core",section:"11.14.6.12"}}),p({name:"StableDataVersion",id:12,type:"uint16",access:"R V",conformance:"M",constraint:"max 255",quality:"X",details:`The StableDataVersion attribute shall indicate the Network Data Version for the stable subset of
data the Node currently uses. Null if not attached to a Thread network.`,xref:{document:"core",section:"11.14.6.13"}}),p({name:"LeaderRouterId",id:13,type:"uint8",access:"R V",conformance:"M",constraint:"max 62",quality:"X",details:"The LeaderRouterId attribute shall indicate the 8-bit LeaderRouterId the Node shall attempt to utilize upon becoming a router or leader on the Thread network. Null if not attached to a Thread network.",xref:{document:"core",section:"11.14.6.14"}}),p({name:"DetachedRoleCount",id:14,type:"uint16",access:"R V",conformance:"[MLECNT]",default:0,quality:"C",details:"The DetachedRoleCount attribute shall indicate the number of times the Node entered the OT_DEVICE_ROLE_DETACHED role as specified within the Thread specification. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.15"}}),p({name:"ChildRoleCount",id:15,type:"uint16",access:"R V",conformance:"[MLECNT]",default:0,quality:"C",details:"The ChildRoleCount attribute shall indicate the number of times the Node entered the OT_DEVICE_ROLE_CHILD role as specified within the Thread specification. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.16"}}),p({name:"RouterRoleCount",id:16,type:"uint16",access:"R V",conformance:"[MLECNT]",default:0,quality:"C",details:"The RouterRoleCount attribute shall indicate the number of times the Node entered the OT_DEVICE_ROLE_ROUTER role as specified within the Thread specification. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.17"}}),p({name:"LeaderRoleCount",id:17,type:"uint16",access:"R V",conformance:"[MLECNT]",default:0,quality:"C",details:"The LeaderRoleCount attribute shall indicate the number of times the Node entered the OT_DEVICE_ROLE_LEADER role as specified within the Thread specification. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.18"}}),p({name:"AttachAttemptCount",id:18,type:"uint16",access:"R V",conformance:"[MLECNT]",default:0,quality:"C",details:"The AttachAttemptCount attribute shall indicate the number of attempts that have been made to attach to a Thread network while the Node was detached from all Thread networks. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.19"}}),p({name:"PartitionIdChangeCount",id:19,type:"uint16",access:"R V",conformance:"[MLECNT]",default:0,quality:"C",details:"The PartitionIdChangeCount attribute shall indicate the number of times that the Thread network that the Node is connected to has changed its Partition ID. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.20"}}),p({name:"BetterPartitionAttachAttemptCount",id:20,type:"uint16",access:"R V",conformance:"[MLECNT]",default:0,quality:"C",details:"The BetterPartitionAttachAttemptCount attribute shall indicate the number of times a Node has attempted to attach to a different Thread partition that it has determined is better than the partition it is currently attached to. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.21"}}),p({name:"ParentChangeCount",id:21,type:"uint16",access:"R V",conformance:"[MLECNT]",default:0,quality:"C",details:"The ParentChangeCount attribute shall indicate the number of times a Node has changed its parent. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.22"}}),p({name:"TxTotalCount",id:22,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The TxTotalCount attribute shall indicate the total number of unique MAC frame transmission requests. The TxTotalCount attribute shall only be incremented by 1 for each MAC transmission request regardless of the amount of CCA failures, CSMA-CA attempts, or retransmissions. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.23"}}),p({name:"TxUnicastCount",id:23,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The TxUnicastCount attribute shall indicate the total number of unique unicast MAC frame transmission requests. The TxUnicastCount attribute shall only be incremented by 1 for each unicast MAC transmission request regardless of the amount of CCA failures, CSMA-CA attempts, or retransmissions. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.24"}}),p({name:"TxBroadcastCount",id:24,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The TxBroadcastCount attribute shall indicate the total number of unique broadcast MAC frame transmission requests. The TxBroadcastCount attribute shall only be incremented by 1 for each broadcast MAC transmission request regardless of the amount of CCA failures, CSMA-CA attempts, or retransmissions. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.25"}}),p({name:"TxAckRequestedCount",id:25,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The TxAckRequestedCount attribute shall indicate the total number of unique MAC frame transmission requests with requested acknowledgment. The TxAckRequestedCount attribute shall only be incremented by 1 for each MAC transmission request with requested acknowledgment regardless of the amount of CCA failures, CSMA-CA attempts, or retransmissions. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.26"}}),p({name:"TxAckedCount",id:26,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The TxAckedCount attribute shall indicate the total number of unique MAC frame transmission requests that were acked. The TxAckedCount attribute shall only be incremented by 1 for each MAC transmission request that is acked regardless of the amount of CCA failures, CSMA-CA attempts, or retransmissions. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.27"}}),p({name:"TxNoAckRequestedCount",id:27,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The TxNoAckRequestedCount attribute shall indicate the total number of unique MAC frame transmission requests without requested acknowledgment. The TxNoAckRequestedCount attribute shall only be incremented by 1 for each MAC transmission request that is does not request acknowledgement regardless of the amount of CCA failures, CSMA-CA attempts, or retransmissions.",xref:{document:"core",section:"11.14.6.28"}}),p({name:"TxDataCount",id:28,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The TxDataCount attribute shall indicate the total number of unique MAC Data frame transmission requests. The TxDataCount attribute shall only be incremented by 1 for each MAC Data frame transmission request regardless of the amount of CCA failures, CSMA-CA attempts, or retransmissions. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.29"}}),p({name:"TxDataPollCount",id:29,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The TxDataPollCount attribute shall indicate the total number of unique MAC Data Poll frame transmission requests. The TxDataPollCount attribute shall only be incremented by 1 for each MAC Data Poll frame transmission request regardless of the amount of CCA failures, CSMA-CA attempts, or retransmissions. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.30"}}),p({name:"TxBeaconCount",id:30,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The TxBeaconCount attribute shall indicate the total number of unique MAC Beacon frame transmission requests. The TxBeaconCount attribute shall only be incremented by 1 for each MAC Beacon frame transmission request regardless of the amount of CCA failures, CSMA-CA attempts, or retransmissions.",xref:{document:"core",section:"11.14.6.31"}}),p({name:"TxBeaconRequestCount",id:31,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The TxBeaconRequestCount attribute shall indicate the total number of unique MAC Beacon Request frame transmission requests. The TxBeaconRequestCount attribute shall only be incremented by 1 for each MAC Beacon Request frame transmission request regardless of the amount of CCA failures, CSMA-CA attempts, or retransmissions. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.32"}}),p({name:"TxOtherCount",id:32,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The TxOtherCount attribute shall indicate the total number of unique MAC frame transmission requests that are not counted by any other attribute. The TxOtherCount attribute shall only be incremented by 1 for each MAC frame transmission request regardless of the amount of CCA failures, CSMA-CA attempts, or retransmissions. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.33"}}),p({name:"TxRetryCount",id:33,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The TxRetryCount attribute shall indicate the total number of MAC retransmission attempts. The TxRetryCount attribute shall only be incremented by 1 for each retransmission attempt that may be triggered by lack of acknowledgement, CSMA/CA failure, or other type of transmission error. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.34"}}),p({name:"TxDirectMaxRetryExpiryCount",id:34,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The TxDirectMaxRetryExpiryCount attribute shall indicate the total number of unique MAC transmission packets that meet maximal retry limit for direct packets. The TxDirectMaxRetryExpiryCount attribute shall only be incremented by 1 for each unique MAC transmission packets that meets the maximal retry limit for direct packets. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.35"}}),p({name:"TxIndirectMaxRetryExpiryCount",id:35,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The TxIndirectMaxRetryExpiryCount attribute shall indicate the total number of unique MAC transmission packets that meet maximal retry limit for indirect packets. The TxIndirectMaxRetryExpiryCount attribute shall only be incremented by 1 for each unique MAC transmission packets that meets the maximal retry limit for indirect packets. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.36"}}),p({name:"TxErrCcaCount",id:36,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The TxErrCcaCount attribute shall indicate the total number of CCA failures. The TxErrCcaCount attribute shall only be incremented by 1 for each instance of a CCA failure. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.37"}}),p({name:"TxErrAbortCount",id:37,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The TxErrAbortCount attribute shall indicate the total number of unique MAC transmission request failures caused by an abort error. The TxErrAbortCount attribute shall only be incremented by 1 for each unique MAC transmission request failure caused by an abort error.",xref:{document:"core",section:"11.14.6.38"}}),p({name:"TxErrBusyChannelCount",id:38,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The TxErrBusyChannelCount attribute shall indicate the total number of unique MAC transmission request failures caused by an error as the result of a busy channel (a CSMA/CA fail). The TxErrBusyChannelCount attribute shall only be incremented by 1 for each unique MAC transmission request failure caused by a busy channel such as a CSMA/CA failure.",xref:{document:"core",section:"11.14.6.39"}}),p({name:"RxTotalCount",id:39,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The RxTotalCount attribute shall indicate the total number of received unique MAC frames. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.40"}}),p({name:"RxUnicastCount",id:40,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The RxUnicastCount attribute shall indicate the total number of received unique unicast MAC frames. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.41"}}),p({name:"RxBroadcastCount",id:41,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The RxBroadcastCount attribute shall indicate the total number of received unique broadcast MAC frames. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.42"}}),p({name:"RxDataCount",id:42,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The RxDataCount attribute shall indicate the total number of received unique MAC Data frames. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.43"}}),p({name:"RxDataPollCount",id:43,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The RxDataPollCount attribute shall indicate the total number of received unique MAC Data Poll frames. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.44"}}),p({name:"RxBeaconCount",id:44,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The RxBeaconCount attribute shall indicate the total number of received unique MAC Beacon frames. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.45"}}),p({name:"RxBeaconRequestCount",id:45,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The RxBeaconRequestCount attribute shall indicate the total number of received unique MAC Beacon Request frames. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.46"}}),p({name:"RxOtherCount",id:46,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The RxOtherCount attribute shall indicate the total number of received unique MAC frame requests that are not counted by any other attribute. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.47"}}),p({name:"RxAddressFilteredCount",id:47,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The RxAddressFilteredCount attribute shall indicate the total number of received unique MAC frame requests that have been dropped as a result of MAC filtering. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.48"}}),p({name:"RxDestAddrFilteredCount",id:48,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The RxDestAddrFilteredCount attribute shall indicate the total number of received unique MAC frame requests that have been dropped as a result of a destination address check. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.49"}}),p({name:"RxDuplicatedCount",id:49,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The RxDuplicatedCount attribute shall indicate the total number of received MAC frame requests that have been dropped as a result of being a duplicate of a previously received MAC frame request. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.50"}}),p({name:"RxErrNoFrameCount",id:50,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The RxErrNoFrameCount attribute shall indicate the total number of received unique MAC frame requests that have been dropped as a result of missing or malformed frame contents. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.51"}}),p({name:"RxErrUnknownNeighborCount",id:51,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The RxErrUnknownNeighborCount attribute shall indicate the total number of received unique MAC frame requests that have been dropped as a result of originating from an unknown neighbor device. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.52"}}),p({name:"RxErrInvalidSrcAddrCount",id:52,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The RxErrInvalidSrcAddrCount attribute shall indicate the total number of received unique MAC frame requests that have been dropped as a result of containing an invalid source address. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.53"}}),p({name:"RxErrSecCount",id:53,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The RxErrSecCount attribute shall indicate the total number of received unique MAC frame requests that have been dropped as a result of an error with the security of the received frame. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.54"}}),p({name:"RxErrFcsCount",id:54,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The RxErrFcsCount attribute shall indicate the total number of received unique MAC frame requests that have been dropped as a result of an error with the FCS of the received frame. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.55"}}),p({name:"RxErrOtherCount",id:55,type:"uint32",access:"R V",conformance:"[MACCNT]",default:0,quality:"C",details:"The RxErrOtherCount attribute shall indicate the total number of received unique MAC frame requests that have been dropped as a result of an error that is not counted by any other attribute. This value shall only be reset upon a Node reboot.",xref:{document:"core",section:"11.14.6.56"}}),p({name:"ActiveTimestamp",id:56,type:"uint64",access:"R V",conformance:"O",default:0,quality:"X",details:"Null when there is no dataset configured.",xref:{document:"core",section:"11.14.6.57"}}),p({name:"PendingTimestamp",id:57,type:"uint64",access:"R V",conformance:"O",default:0,quality:"X",details:"Null when there is no dataset configured.",xref:{document:"core",section:"11.14.6.58"}}),p({name:"Delay",id:58,type:"uint32",access:"R V",conformance:"O",default:0,quality:"X",details:"Null when there is no dataset configured.",xref:{document:"core",section:"11.14.6.59"}}),p({name:"SecurityPolicy",id:59,type:"SecurityPolicy",access:"R V",conformance:"M",quality:"X",details:"The SecurityPolicy attribute indicates the current security policies for the Thread partition to which a Node is connected. Null when there is no dataset configured.",xref:{document:"core",section:"11.14.6.60"}}),p({name:"ChannelPage0Mask",id:60,type:"octstr",access:"R V",conformance:"M",constraint:"4",quality:"X",details:"The ChannelPage0Mask attribute indicates the channels within channel page 0, in the 2.4GHz ISM band. The channels are represented in most significant bit order, with bit value 1 meaning selected, bit value 0 meaning unselected. For example, the most significant bit of the left-most byte indicates channel 0. If channel 0 and channel 10 are selected, the mask would be: 80 20 00 00. Null when there is no dataset configured.",xref:{document:"core",section:"11.14.6.61"}}),p({name:"OperationalDatasetComponents",id:61,type:"OperationalDatasetComponents",access:"R V",conformance:"M",quality:"X",details:"The OperationalDatasetComponents attribute is a collection of flags to indicate the presence of various operationally acquired values.",xref:{document:"core",section:"11.14.6.62"}}),p({name:"ActiveNetworkFaultsList",id:62,type:"list",access:"R V",conformance:"M",constraint:"max 4",xref:{document:"core",section:"11.14.6"},children:[o({name:"entry",type:"NetworkFaultEnum"})]}),Se({name:"ConnectionStatus",id:0,access:"V",conformance:"O",priority:"info",details:"The ConnectionStatus Event shall indicate that a Node\u2019s connection status to a Thread network has changed.",xref:{document:"core",section:"11.14.8.2"},children:[o({name:"ConnectionStatus",id:0,type:"ConnectionStatusEnum",conformance:"M"})]}),Se({name:"NetworkFaultChange",id:1,access:"V",conformance:"O",priority:"info",details:"The NetworkFaultChange Event shall indicate a change in the set of network faults currently detected by the Node.",xref:{document:"core",section:"11.14.8.1"},children:[o({name:"Current",id:0,type:"list",conformance:"M",constraint:"max 4",details:"This field shall represent the set of faults currently detected, as per Section 11.14.5.1, \u201CNetworkFaultEnum Type\u201D.",xref:{document:"core",section:"11.14.8.1.1"},children:[o({name:"entry",type:"NetworkFaultEnum"})]}),o({name:"Previous",id:1,type:"list",conformance:"M",constraint:"max 4",details:"This field shall represent the set of faults detected prior to this change event, as per Section 11.14.5.1, \u201CNetworkFaultEnum Type\u201D.",xref:{document:"core",section:"11.14.8.1.2"},children:[o({name:"entry",type:"NetworkFaultEnum"})]})]}),U({name:"ResetCounts",id:0,access:"M",conformance:"ERRCNT",direction:"request",response:"status",details:`Reception of this command shall reset the following attributes to 0:
  \u2022 OverrunCount
This command has no associated data. Upon completion, this command shall send a status code set to a value of SUCCESS back to the initiator.`,xref:{document:"core",section:"11.14.7.1"}}),C({name:"NetworkFaultEnum",type:"enum8",xref:{document:"core",section:"11.14.5.1"},children:[o({name:"Unspecified",id:0,conformance:"M",description:"Indicates an unspecified fault."}),o({name:"LinkDown",id:1,conformance:"M",description:"Indicates the Thread link is down."}),o({name:"HardwareFailure",id:2,conformance:"M",description:"Indicates there has been Thread hardware failure."}),o({name:"NetworkJammed",id:3,conformance:"M",description:"Indicates the Thread network is jammed."})]}),C({name:"ConnectionStatusEnum",type:"enum8",xref:{document:"core",section:"11.14.5.2"},children:[o({name:"Connected",id:0,conformance:"M",description:"Node is connected"}),o({name:"NotConnected",id:1,conformance:"M",description:"Node is not connected"})]}),C({name:"RoutingRoleEnum",type:"enum8",xref:{document:"core",section:"11.14.5.3"},children:[o({name:"Unspecified",id:0,conformance:"M",description:"Unspecified routing role."}),o({name:"Unassigned",id:1,conformance:"M",description:"The Node does not currently have a role as a result of the Thread interface not currently being configured or operational."}),o({name:"SleepyEndDevice",id:2,conformance:"M",description:"The Node acts as a Sleepy End Device with RX-off-when-idle sleepy radio behavior."}),o({name:"EndDevice",id:3,conformance:"M",description:"The Node acts as an End Device without RX- off-when-idle sleepy radio behavior."}),o({name:"Reed",id:4,conformance:"M",description:"The Node acts as an Router Eligible End Device."}),o({name:"Router",id:5,conformance:"M",description:"The Node acts as a Router Device."}),o({name:"Leader",id:6,conformance:"M",description:"The Node acts as a Leader Device."})]}),C({name:"NeighborTableStruct",type:"struct",xref:{document:"core",section:"11.14.5.4"},children:[o({name:"ExtAddress",id:0,type:"uint64",conformance:"M",details:"This field shall specify the IEEE 802.15.4 extended address for the neighboring Node.",xref:{document:"core",section:"11.14.5.4.1"}}),o({name:"Age",id:1,type:"uint32",conformance:"M",details:"This field shall specify the duration of time, in seconds, since a frame has been received from the neighboring Node.",xref:{document:"core",section:"11.14.5.4.2"}}),o({name:"Rloc16",id:2,type:"uint16",conformance:"M",details:"This field shall specify the RLOC16 of the neighboring Node.",xref:{document:"core",section:"11.14.5.4.3"}}),o({name:"LinkFrameCounter",id:3,type:"uint32",conformance:"M",details:"This field shall specify the number of link layer frames that have been received from the neighboring node. This field shall be reset to 0 upon a reboot of the Node.",xref:{document:"core",section:"11.14.5.4.4"}}),o({name:"MleFrameCounter",id:4,type:"uint32",conformance:"M",details:"This field shall specify the number of Mesh Link Establishment frames that have been received from the neighboring node. This field shall be reset to 0 upon a reboot of the Node.",xref:{document:"core",section:"11.14.5.4.5"}}),o({name:"Lqi",id:5,type:"uint8",conformance:"M",constraint:"0 to 255",details:"This field shall specify the implementation specific mix of IEEE 802.15.4 PDU receive quality indicators, scaled from 0 to 255.",xref:{document:"core",section:"11.14.5.4.6"}}),o({name:"AverageRssi",id:6,type:"int8",conformance:"M",constraint:"-128 to 0",default:null,quality:"X",details:"This field SHOULD specify the average RSSI across all received frames from the neighboring Node since the receiving Node\u2019s last reboot. If there is no known received frames this field SHOULD have the value of null. This field shall have the units of dBm, having the range -128 dBm to 0 dBm.",xref:{document:"core",section:"11.14.5.4.7"}}),o({name:"LastRssi",id:7,type:"int8",conformance:"M",constraint:"-128 to 0",default:null,quality:"X",details:"This field shall specify the RSSI of the most recently received frame from the neighboring Node. If there is no known last received frame the LastRssi field SHOULD have the value of null. This field shall have the units of dBm, having the range -128 dBm to 0 dBm.",xref:{document:"core",section:"11.14.5.4.8"}}),o({name:"FrameErrorRate",id:8,type:"uint8",conformance:"M",constraint:"0 to 100",default:0,details:"This field shall specify the percentage of received frames from the neighboring Node that have resulted in errors.",xref:{document:"core",section:"11.14.5.4.9"}}),o({name:"MessageErrorRate",id:9,type:"uint8",conformance:"M",constraint:"0 to 100",default:0,details:"This field shall specify the percentage of received messages from the neighboring Node that have resulted in errors.",xref:{document:"core",section:"11.14.5.4.10"}}),o({name:"RxOnWhenIdle",id:10,type:"bool",conformance:"M",details:"This field shall specify if the neighboring Node is capable of receiving frames while the Node is in an idle state.",xref:{document:"core",section:"11.14.5.4.11"}}),o({name:"FullThreadDevice",id:11,type:"bool",conformance:"M",details:"This field shall specify if the neighboring Node is a full Thread device.",xref:{document:"core",section:"11.14.5.4.12"}}),o({name:"FullNetworkData",id:12,type:"bool",conformance:"M",details:"This field shall specify if the neighboring Node requires the full Network Data. If set to False, the neighboring Node only requires the stable Network Data.",xref:{document:"core",section:"11.14.5.4.13"}}),o({name:"IsChild",id:13,type:"bool",conformance:"M",details:"This field shall specify if the neighboring Node is a direct child of the Node reporting the NeighborTable attribute.",xref:{document:"core",section:"11.14.5.4.14"}})]}),C({name:"RouteTableStruct",type:"struct",xref:{document:"core",section:"11.14.5.5"},children:[o({name:"ExtAddress",id:0,type:"uint64",conformance:"M",details:"This field shall specify the IEEE 802.15.4 extended address for the Node for which this route table entry corresponds.",xref:{document:"core",section:"11.14.5.5.1"}}),o({name:"Rloc16",id:1,type:"uint16",conformance:"M",details:"This field shall specify the RLOC16 for the Node for which this route table entry corresponds.",xref:{document:"core",section:"11.14.5.5.2"}}),o({name:"RouterId",id:2,type:"uint8",conformance:"M",details:"This field shall specify the Router ID for the Node for which this route table entry corresponds.",xref:{document:"core",section:"11.14.5.5.3"}}),o({name:"NextHop",id:3,type:"uint8",conformance:"M",details:"This field shall specify the Router ID for the next hop in the route to the Node for which this route table entry corresponds.",xref:{document:"core",section:"11.14.5.5.4"}}),o({name:"PathCost",id:4,type:"uint8",conformance:"M",details:"This Field shall specify the cost of the route to the Node for which this route table entry corresponds.",xref:{document:"core",section:"11.14.5.5.5"}}),o({name:"LqiIn",id:5,type:"uint8",conformance:"M",details:"This field shall specify the implementation specific mix of IEEE 802.15.4 PDU receive quality indicators, scaled from 0 to 255, from the perspective of the Node reporting the neighbor table.",xref:{document:"core",section:"11.14.5.5.6"}}),o({name:"LqiOut",id:6,type:"uint8",conformance:"M",details:"This field shall specify the implementation specific mix of IEEE 802.15.4 PDU receive quality indicators, scaled from 0 to 255, from the perspective of the Node specified within the NextHop field.",xref:{document:"core",section:"11.14.5.5.7"}}),o({name:"Age",id:7,type:"uint8",conformance:"M",details:"This field shall specify the duration of time, in seconds, since a frame has been received from the Node for which this route table entry corresponds.",xref:{document:"core",section:"11.14.5.5.8"}}),o({name:"Allocated",id:8,type:"bool",conformance:"M",details:"This field shall specify if the router ID as defined within the RouterId field has been allocated.",xref:{document:"core",section:"11.14.5.5.9"}}),o({name:"LinkEstablished",id:9,type:"bool",conformance:"M",details:`This field shall specify if a link has been established to the Node for which this route table entry
corresponds.`,xref:{document:"core",section:"11.14.5.5.10"}})]}),C({name:"SecurityPolicy",type:"struct",xref:{document:"core",section:"11.14.5.6"},children:[o({name:"RotationTime",id:0,type:"uint16",conformance:"M",details:"This field shall specify the interval of time, in hours, that Thread security keys are rotated. Null when there is no dataset configured.",xref:{document:"core",section:"11.14.5.6.1"}}),o({name:"Flags",id:1,type:"uint16",conformance:"M",details:"This field shall specify the flags as specified in Thread 1.3.0 section 8.10.1.15. Null when there is no dataset configured.",xref:{document:"core",section:"11.14.5.6.2"}})]}),C({name:"OperationalDatasetComponents",type:"struct",xref:{document:"core",section:"11.14.5.7"},children:[o({name:"ActiveTimestampPresent",id:0,type:"bool",conformance:"M",details:"This field shall be True if the Node has an active timestamp present, else False.",xref:{document:"core",section:"11.14.5.7.1"}}),o({name:"PendingTimestampPresent",id:1,type:"bool",conformance:"M",details:"This field shall be True if the Node has a pending timestamp is present, else False.",xref:{document:"core",section:"11.14.5.7.2"}}),o({name:"MasterKeyPresent",id:2,type:"bool",conformance:"M",details:"This field shall be True if the Node has the Thread master key, else False.",xref:{document:"core",section:"11.14.5.7.3"}}),o({name:"NetworkNamePresent",id:3,type:"bool",conformance:"M",details:"This field shall be True if the Node has the Thread network\u2019s name, else False.",xref:{document:"core",section:"11.14.5.7.4"}}),o({name:"ExtendedPanIdPresent",id:4,type:"bool",conformance:"M",details:"This field shall be True if the Node has an extended Pan ID, else False.",xref:{document:"core",section:"11.14.5.7.5"}}),o({name:"MeshLocalPrefixPresent",id:5,type:"bool",conformance:"M",details:"This field shall be True if the Node has the mesh local prefix, else False.",xref:{document:"core",section:"11.14.5.7.6"}}),o({name:"DelayPresent",id:6,type:"bool",conformance:"M",details:"This field shall be True if the Node has the Thread network delay set, else False.",xref:{document:"core",section:"11.14.5.7.7"}}),o({name:"PanIdPresent",id:7,type:"bool",conformance:"M",details:"This field shall be True if the Node has a Pan ID, else False.",xref:{document:"core",section:"11.14.5.7.8"}}),o({name:"ChannelPresent",id:8,type:"bool",conformance:"M",details:"This field shall be True if the Node has configured an operational channel for the Thread network, else False.",xref:{document:"core",section:"11.14.5.7.9"}}),o({name:"PskcPresent",id:9,type:"bool",conformance:"M",details:"This field shall be True if the Node has been configured with the Thread network Pskc, else False.",xref:{document:"core",section:"11.14.5.7.10"}}),o({name:"SecurityPolicyPresent",id:10,type:"bool",conformance:"M",details:"This field shall be True if the Node has been configured with the Thread network security policies, else False.",xref:{document:"core",section:"11.14.5.7.11"}}),o({name:"ChannelMaskPresent",id:11,type:"bool",conformance:"M",details:"This field shall be True if the Node has available a mask of available channels, else False.",xref:{document:"core",section:"11.14.5.7.12"}})]})]});A.children.push(OC);var DC=ie({name:"WiFiNetworkDiagnostics",id:54,classification:"node",pics:"DGWIFI",quality:"K",details:"The Wi-Fi Network Diagnostics Cluster provides a means to acquire standardized diagnostics metrics that may be used by a Node to assist a user or Administrator in diagnosing potential problems. The Wi-Fi Network Diagnostics Cluster attempts to centralize all metrics that are relevant to a potential Wi-Fi radio running on a Node.",xref:{document:"core",section:"11.15"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"core",section:"11.15.4"},children:[o({name:"PKTCNT",constraint:"0",description:"PacketCounts",details:"Node makes available the counts for the number of received and transmitted packets on the Wi-Fi interface."}),o({name:"ERRCNT",constraint:"1",description:"ErrorCounts",details:"Node makes available the counts for the number of errors that have occurred during the reception and transmission of packets on the Wi-Fi interface."})]}),p({name:"Bssid",id:0,type:"octstr",access:"R V",conformance:"M",constraint:"6",default:null,quality:"X",details:"The BSSID attribute shall indicate the BSSID for which the Wi-Fi network the Node is currently connected.",xref:{document:"core",section:"11.15.6.1"}}),p({name:"SecurityType",id:1,type:"SecurityTypeEnum",access:"R V",conformance:"M",default:null,quality:"X",details:"The SecurityType attribute shall indicate the current type of Wi-Fi security used.",xref:{document:"core",section:"11.15.6.2"}}),p({name:"WiFiVersion",id:2,type:"WiFiVersionEnum",access:"R V",conformance:"M",default:null,quality:"X",details:"The WiFiVersion attribute shall indicate the current 802.11 standard version in use by the Node, per the table below.",xref:{document:"core",section:"11.15.6.3"}}),p({name:"ChannelNumber",id:3,type:"uint16",access:"R V",conformance:"M",default:null,quality:"X",details:"The ChannelNumber attribute shall indicate the channel that Wi-Fi communication is currently operating on.",xref:{document:"core",section:"11.15.6.4"}}),p({name:"Rssi",id:4,type:"int8",access:"R V",conformance:"M",constraint:"-120 to 0",default:null,quality:"X C",details:"The RSSI attribute shall indicate the current RSSI of the Node\u2019s Wi-Fi radio in dBm.",xref:{document:"core",section:"11.15.6.5"}}),p({name:"BeaconLostCount",id:5,type:"uint32",access:"R V",conformance:"ERRCNT",default:0,quality:"X C",details:"The BeaconLostCount attribute shall indicate the count of the number of missed beacons the Node has detected. If the Node does not have an ability to count beacons expected and not received, this value may remain set to zero.",xref:{document:"core",section:"11.15.6.6"}}),p({name:"BeaconRxCount",id:6,type:"uint32",access:"R V",conformance:"PKTCNT",default:0,quality:"X C",details:`The BeaconRxCount attribute shall indicate the count of the number of received beacons. The
total number of expected beacons that could have been received during the interval since association SHOULD match the sum of BeaconRxCount and BeaconLostCount. If the Node does not have an ability to report count of beacons received, this value may remain set to zero.`,xref:{document:"core",section:"11.15.6.7"}}),p({name:"PacketMulticastRxCount",id:7,type:"uint32",access:"R V",conformance:"PKTCNT",default:0,quality:"X C",details:"The PacketMulticastRxCount attribute shall indicate the number of multicast packets received by the Node.",xref:{document:"core",section:"11.15.6.8"}}),p({name:"PacketMulticastTxCount",id:8,type:"uint32",access:"R V",conformance:"PKTCNT",default:0,quality:"X C",details:"The PacketMulticastTxCount attribute shall indicate the number of multicast packets transmitted by the Node.",xref:{document:"core",section:"11.15.6.9"}}),p({name:"PacketUnicastRxCount",id:9,type:"uint32",access:"R V",conformance:"PKTCNT",default:0,quality:"X C",details:"The PacketUnicastRxCount attribute shall indicate the number of unicast packets received by the Node.",xref:{document:"core",section:"11.15.6.10"}}),p({name:"PacketUnicastTxCount",id:10,type:"uint32",access:"R V",conformance:"PKTCNT",default:0,quality:"X C",details:"The PacketUnicastTxCount attribute shall indicate the number of unicast packets transmitted by the Node.",xref:{document:"core",section:"11.15.6.11"}}),p({name:"CurrentMaxRate",id:11,type:"uint64",access:"R V",conformance:"O",default:0,quality:"X C",details:"The CurrentMaxRate attribute shall indicate the current maximum PHY rate of transfer of data in bits-per-second.",xref:{document:"core",section:"11.15.6.12"}}),p({name:"OverrunCount",id:12,type:"uint64",access:"R V",conformance:"ERRCNT",default:0,quality:"X C",details:"The OverrunCount attribute shall indicate the number of packets dropped either at ingress or egress, due to lack of buffer memory to retain all packets on the network interface. The OverrunCount attribute shall be reset to 0 upon a reboot of the Node.",xref:{document:"core",section:"11.15.6.13"}}),Se({name:"Disconnection",id:0,access:"V",conformance:"O",priority:"info",details:"The Disconnection Event shall indicate that a Node\u2019s Wi-Fi connection has been disconnected as a result of de-authenticated or dis-association and indicates the reason.",xref:{document:"core",section:"11.15.8.1"},children:[o({name:"ReasonCode",id:0,type:"uint16",conformance:"M",details:'This field shall contain the Reason Code field value for the Disassociation or Deauthentication event that caused the disconnection and the value shall align with Table 9-49 "Reason codes" of IEEE 802.11-2020.',xref:{document:"core",section:"11.15.8.1.1"}})]}),Se({name:"AssociationFailure",id:1,access:"V",conformance:"O",priority:"info",details:"The AssociationFailure event shall indicate that a Node has attempted to connect, or reconnect, to a Wi-Fi access point, but is unable to successfully associate or authenticate, after exhausting all internal retries of its supplicant.",xref:{document:"core",section:"11.15.8.2"},children:[o({name:"AssociationFailureCause",id:0,type:"AssociationFailureCauseEnum",conformance:"M",details:"The Status field shall be set to a value from the AssociationFailureCauseEnum.",xref:{document:"core",section:"11.15.8.2.1"}}),o({name:"Status",id:1,type:"uint16",conformance:"M",details:`The Status field shall be set to the Status Code value that was present in the last frame related to association where Status Code was not equal to zero and which caused the failure of a last trial
attempt, if this last failure was due to one of the following Management frames:
  \u2022 Association Response (Type 0, Subtype 1)
  \u2022 Reassociation Response (Type 0, Subtype 3)
  \u2022 Authentication (Type 0, Subtype 11)
Table 9-50 "Status codes" of IEEE 802.11-2020 contains a description of all values possible.`,xref:{document:"core",section:"11.15.8.2.2"}})]}),Se({name:"ConnectionStatus",id:2,access:"V",conformance:"O",priority:"info",details:"The ConnectionStatus Event shall indicate that a Node\u2019s connection status to a Wi-Fi network has changed. Connected, in this context, shall mean that a Node acting as a Wi-Fi station is successfully associated to a Wi-Fi Access Point.",xref:{document:"core",section:"11.15.8.3"},children:[o({name:"ConnectionStatus",id:0,type:"ConnectionStatusEnum",conformance:"M"})]}),U({name:"ResetCounts",id:0,access:"O",conformance:"ERRCNT",direction:"request",response:"status",details:`Reception of this command shall reset the following attributes to 0:
  \u2022 BeaconLostCount
  \u2022 BeaconRxCount
  \u2022 PacketMulticastRxCount
  \u2022 PacketMulticastTxCount
  \u2022 PacketUnicastRxCount
  \u2022 PacketUnicastTxCount
This command has no associated data.`,xref:{document:"core",section:"11.15.7.1"}}),C({name:"SecurityTypeEnum",type:"enum8",xref:{document:"core",section:"11.15.5.1"},children:[o({name:"Unspecified",id:0,conformance:"M",description:"Indicate the usage of an unspecified Wi-Fi security type"}),o({name:"None",id:1,conformance:"M",description:"Indicate the usage of no Wi-Fi security"}),o({name:"Wep",id:2,conformance:"M",description:"Indicate the usage of WEP Wi-Fi security"}),o({name:"Wpa",id:3,conformance:"M",description:"Indicate the usage of WPA Wi-Fi security"}),o({name:"Wpa2",id:4,conformance:"M",description:"Indicate the usage of WPA2 Wi-Fi security"}),o({name:"Wpa3",id:5,conformance:"M",description:"Indicate the usage of WPA3 Wi-Fi security"})]}),C({name:"WiFiVersionEnum",type:"enum8",xref:{document:"core",section:"11.15.5.2"},children:[o({name:"A",id:0,conformance:"M",description:"Indicate the network interface is currently using 802.11a against the wireless access point."}),o({name:"B",id:1,conformance:"M",description:"Indicate the network interface is currently using 802.11b against the wireless access point."}),o({name:"G",id:2,conformance:"M",description:"Indicate the network interface is currently using 802.11g against the wireless access point."}),o({name:"N",id:3,conformance:"M",description:"Indicate the network interface is currently using 802.11n against the wireless access point."}),o({name:"Ac",id:4,conformance:"M",description:"Indicate the network interface is currently using 802.11ac against the wireless access point."}),o({name:"Ax",id:5,conformance:"M",description:"Indicate the network interface is currently using 802.11ax against the wireless access point."}),o({name:"Ah",id:6,conformance:"M",description:"Indicate the network interface is currently using 802.11ah against the wireless access point."})]}),C({name:"AssociationFailureCauseEnum",type:"enum8",xref:{document:"core",section:"11.15.5.3"},children:[o({name:"Unknown",id:0,conformance:"M",description:"The reason for the failure is unknown."}),o({name:"AssociationFailed",id:1,conformance:"M",description:"An error occurred during association."}),o({name:"AuthenticationFailed",id:2,conformance:"M",description:"An error occurred during authentication."}),o({name:"SsidNotFound",id:3,conformance:"M",description:"The specified SSID could not be found."})]}),C({name:"ConnectionStatusEnum",type:"enum8",xref:{document:"core",section:"11.15.5.4"},children:[o({name:"Connected",id:0,conformance:"M",description:"Indicate the node is connected"}),o({name:"NotConnected",id:1,conformance:"M",description:"Indicate the node is not connected"})]})]});A.children.push(DC);var RC=ie({name:"EthernetNetworkDiagnostics",id:55,classification:"node",pics:"DGETH",quality:"K",details:"The Ethernet Network Diagnostics Cluster provides a means to acquire standardized diagnostics metrics that may be used by a Node to assist a user or Administrator in diagnosing potential problems. The Ethernet Network Diagnostics Cluster attempts to centralize all metrics that are relevant to a potential Ethernet connection to a Node.",xref:{document:"core",section:"11.16"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"core",section:"11.16.4"},children:[o({name:"PKTCNT",constraint:"0",description:"PacketCounts",details:"Node makes available the counts for the number of received and transmitted packets on the ethernet interface."}),o({name:"ERRCNT",constraint:"1",description:"ErrorCounts",details:"Node makes available the counts for the number of errors that have occurred during the reception and transmission of packets on the ethernet interface."})]}),p({name:"PhyRate",id:0,type:"PHYRateEnum",access:"R V",conformance:"O",default:null,quality:"X",details:"The PHYRate attribute shall indicate the current nominal, usable speed at the top of the physical layer of the Node. A value of null shall indicate that the interface is not currently configured or operational.",xref:{document:"core",section:"11.16.6.1"}}),p({name:"FullDuplex",id:1,type:"bool",access:"R V",conformance:"O",default:null,quality:"X",details:"The FullDuplex attribute shall indicate if the Node is currently utilizing the full-duplex operating mode. A value of null shall indicate that the interface is not currently configured or operational.",xref:{document:"core",section:"11.16.6.2"}}),p({name:"PacketRxCount",id:2,type:"uint64",access:"R V",conformance:"PKTCNT",default:0,quality:"C",details:"The PacketRxCount attribute shall indicate the number of packets that have been received on the ethernet network interface. The PacketRxCount attribute shall be reset to 0 upon a reboot of the Node.",xref:{document:"core",section:"11.16.6.3"}}),p({name:"PacketTxCount",id:3,type:"uint64",access:"R V",conformance:"PKTCNT",default:0,quality:"C",details:"The PacketTxCount attribute shall indicate the number of packets that have been successfully transferred on the ethernet network interface. The PacketTxCount attribute shall be reset to 0 upon a reboot of the Node.",xref:{document:"core",section:"11.16.6.4"}}),p({name:"TxErrCount",id:4,type:"uint64",access:"R V",conformance:"ERRCNT",default:0,quality:"C",details:`The TxErrCount attribute shall indicate the number of failed packet transmissions that have occurred on the ethernet network interface. The TxErrCount attribute shall be reset to 0 upon a
reboot of the Node.`,xref:{document:"core",section:"11.16.6.5"}}),p({name:"CollisionCount",id:5,type:"uint64",access:"R V",conformance:"ERRCNT",default:0,quality:"C",details:"The CollisionCount attribute shall indicate the number of collisions that have occurred while attempting to transmit a packet on the ethernet network interface. The CollisionCount attribute shall be reset to 0 upon a reboot of the Node.",xref:{document:"core",section:"11.16.6.6"}}),p({name:"OverrunCount",id:6,type:"uint64",access:"R V",conformance:"ERRCNT",default:0,quality:"C",details:"The OverrunCount attribute shall indicate the number of packets dropped either at ingress or egress, due to lack of buffer memory to retain all packets on the ethernet network interface. The OverrunCount attribute shall be reset to 0 upon a reboot of the Node.",xref:{document:"core",section:"11.16.6.7"}}),p({name:"CarrierDetect",id:7,type:"bool",access:"R V",conformance:"O",default:null,quality:"X C",details:"The CarrierDetect attribute shall indicate the value of the Carrier Detect control signal present on the ethernet network interface. A value of null shall indicate that the interface is not currently configured or operational.",xref:{document:"core",section:"11.16.6.8"}}),p({name:"TimeSinceReset",id:8,type:"uint64",access:"R V",conformance:"O",default:0,quality:"C",details:"The TimeSinceReset attribute shall indicate the duration of time, in minutes, that it has been since the ethernet network interface has reset for any reason.",xref:{document:"core",section:"11.16.6.9"}}),U({name:"ResetCounts",id:0,access:"M",conformance:"PKTCNT | ERRCNT",direction:"request",response:"status",details:`Reception of this command shall reset the following attributes to 0:
  \u2022 PacketRxCount
  \u2022 PacketTxCount
  \u2022 TxErrCount
  \u2022 CollisionCount
  \u2022 OverrunCount
This command has no associated data.`,xref:{document:"core",section:"11.16.7.1"}}),C({name:"PHYRateEnum",type:"enum8",xref:{document:"core",section:"11.16.5.1"},children:[o({name:"Rate10M",id:0,conformance:"M",description:"PHY rate is 10Mbps"}),o({name:"Rate100M",id:1,conformance:"M",description:"PHY rate is 100Mbps"}),o({name:"Rate1G",id:2,conformance:"M",description:"PHY rate is 1Gbps"}),o({name:"Rate25G",id:3,conformance:"M",description:"PHY rate is 2.5Gbps"}),o({name:"Rate5G",id:4,conformance:"M",description:"PHY rate is 5Gbps"}),o({name:"Rate10G",id:5,conformance:"M",description:"PHY rate is 10Gbps"}),o({name:"Rate40G",id:6,conformance:"M",description:"PHY rate is 40Gbps"}),o({name:"Rate100G",id:7,conformance:"M",description:"PHY rate is 100Gbps"}),o({name:"Rate200G",id:8,conformance:"M",description:"PHY rate is 200Gbps"}),o({name:"Rate400G",id:9,conformance:"M",description:"PHY rate is 400Gbps"})]})]});A.children.push(RC);var NC=ie({name:"TimeSynchronization",id:56,classification:"node",pics:"TIMESYNC",details:`Accurate time is required for a number of reasons, including scheduling, display and validating security materials.
This section describes a mechanism for Nodes to achieve and maintain time synchronization. The Time Synchronization cluster provides attributes for reading a Node\u2019s current time. It also allows Administrators to set current time, time zone and daylight savings time (DST) settings.
The Time Synchronization cluster may be present on the root node endpoint, and shall NOT be present on any other Endpoint of any Node.`,xref:{document:"core",section:"11.17"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:2}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"core",section:"11.17.5"},children:[o({name:"TZ",constraint:"0",description:"TimeZone",details:"Allows a server to translate a UTC time to a local time using the time zone and daylight savings time (DST) offsets. If a server supports the TimeZone feature, it shall support the SetTimeZone and SetDSTOffset commands, and TimeZone and DSTOffset attributes, and shall expose the local time through the LocalTime attribute.",xref:{document:"core",section:"11.17.5.1"}}),o({name:"NTPC",constraint:"1",description:"NtpClient",details:"Allows a node to use NTP/SNTP for time synchronization.",xref:{document:"core",section:"11.17.5.2"}}),o({name:"NTPS",constraint:"2",description:"NtpServer",details:"Allows a Node to host an NTP server for the network so that other Nodes can achieve a high accuracy time synchronization within the network. See Section 11.17.15, \u201CActing as an NTP Server\u201D.",xref:{document:"core",section:"11.17.5.3"}}),o({name:"TSC",constraint:"3",description:"TimeSyncClient",details:"This node also supports a time synchronization client and can connect to and read time from other nodes.",xref:{document:"core",section:"11.17.5.4"}})]}),p({name:"UtcTime",id:0,type:"epoch-us",access:"R V",conformance:"M",default:null,quality:"X C",details:`If the node has achieved time synchronization, this shall indicate the current time as a UTC epoch-us (Epoch Time in Microseconds).
If the node has not achieved time synchronization, this shall be null. This attribute may be set when a SetUTCTime is received.`,xref:{document:"core",section:"11.17.8.1"}}),p({name:"Granularity",id:1,type:"GranularityEnum",access:"R V",conformance:"M",constraint:"desc",default:0,details:`The granularity of the error that the node is willing to guarantee on the time synchronization. It is of type GranularityEnum.
This value shall be set to NoTimeGranularity if UTCTime is null and shall NOT be set to NoTimeGranularity if UTCTime is non-null.`,xref:{document:"core",section:"11.17.8.2"}}),p({name:"TimeSource",id:2,type:"TimeSourceEnum",access:"R V",conformance:"O",constraint:"desc",default:0,details:`The node\u2019s time source. This attribute indicates what method the node is using to sync, whether the source uses NTS or not and whether the source is internal or external to the Matter network. This attribute may be used by a client to determine its level of trust in the UTCTime. It is of type TimeSourceEnum.
If a node is unsure if the selected NTP server is within the Matter network, it SHOULD select one of the NonMatter* values.
This value shall be set to None if UTCTime is null and shall NOT be set to None if UTCTime is non-null.`,xref:{document:"core",section:"11.17.8.3"}}),p({name:"TrustedTimeSource",id:3,type:"TrustedTimeSourceStruct",access:"R V",conformance:"TSC",default:null,quality:"X N",details:"A Node ID, endpoint, and associated fabric index of a Node that may be used as trusted time source. See Time source prioritization. This attribute reflects the last value set by an administrator using the SetTrustedTimeSource command. If the value is null, no trusted time source has yet been set.",xref:{document:"core",section:"11.17.8.4"}}),p({name:"DefaultNtp",id:4,type:"string",access:"R V",conformance:"NTPC",constraint:"max 128",default:null,quality:"X N",details:`The default NTP server that this Node may use if other time sources are unavailable. This attribute is settable by an Administrator using the SetDefaultNTP command. It SHOULD be set by the Commissioner during commissioning. If no default NTP server is available, the Commissioner may set this value to null. The default IANA assigned NTP port of 123 shall be used to access the NTP server.
If set, the format of this attribute shall be a domain name or a static IPv6 address with no port, in text format, as specified in RFC 5952. The address format shall follow the recommendations in Section 4 and shall NOT contain a port number.`,xref:{document:"core",section:"11.17.8.5"}}),p({name:"TimeZone",id:5,type:"list",access:"R V",conformance:"TZ",constraint:"1 to 2",default:[{type:"properties",properties:{offset:0,validAt:0}}],quality:"N",details:`A list of time zone offsets from UTC and when they shall take effect. This attribute uses a list of time offset configurations to allow Nodes to handle scheduled regulatory time zone changes. This attribute shall NOT be used to indicate daylight savings time changes (see DSTOffset attribute for daylight savings time).
The first entry shall have a ValidAt entry of 0. If there is a second entry, it shall have a non-zero
ValidAt time.
If a node supports a TimeZoneDatabase, and it has data for the given time zone Name and the given Offset matches, the node may update its own DSTOffset attribute to add new DST change times as required, based on the Name fields of the TimeZoneStruct. Administrators may add additional entries to the DSTOffset of other Nodes with the same time zone, if required.
If a node does not support a TimeZoneDatabase, the Name field of the TimeZoneStruct is only applicable for client-side localization. In particular:
  \u2022 If the node does not support a TimeZoneDatabase, the Name field shall NOT be used to calculate     the local time.
  \u2022 If the node does not support a TimeZoneDatabase, the Name field shall NOT be used to calculate     DST start or end dates.
When time passes, the node SHOULD remove any entries which are no longer active and change the ValidAt time for the currently used TimeZoneStruct list item to zero.
This attribute shall have at least one entry. If the node does not have a default time zone and no time zone has been set, it may set this value to a list containing a single TimeZoneStruct with an offset of 0 (UTC) and a ValidAt time of 0.`,xref:{document:"core",section:"11.17.8.6"},children:[o({name:"entry",type:"TimeZoneStruct"})]}),p({name:"DstOffset",id:6,type:"list",access:"R V",conformance:"TZ",default:[],quality:"N",details:`A list of offsets to apply for daylight savings time, and their validity period. List entries shall be sorted by ValidStarting time.
A list entry shall NOT have a ValidStarting time that is smaller than the ValidUntil time of the previous entry. There shall be at most one list entry with a null ValidUntil time and, if such an entry is present, it shall appear last in the list.
Over time, the node SHOULD remove any entries which are no longer active from the list.
Over time, if the node supports a TimeZoneDatabase and it has information available for the given time zone name, it may update its own list to add additional entries.
If a time zone does not use DST, this shall be indicated by a single entry with a 0 offset and a null ValidUntil field.`,xref:{document:"core",section:"11.17.8.7"},children:[o({name:"entry",type:"DSTOffsetStruct"})]}),p({name:"LocalTime",id:7,type:"epoch-us",access:"R V",conformance:"TZ",default:null,quality:"X C",details:`The computed current local time of the node as a epoch-us (Epoch Time in Microseconds). The value of LocalTime shall be the sum of the UTCTime, the offset of the currently valid TimeZoneStruct from the TimeZone attribute (converted to microseconds), and the offset of the currently valid DSTOffsetStruct from the DSTOffset attribute (converted to microseconds), if such an entry exists.
If the node has not achieved time synchronization, this shall be null. If the node has an empty DSTOffset, this shall be null.`,xref:{document:"core",section:"11.17.8.8"}}),p({name:"TimeZoneDatabase",id:8,type:"TimeZoneDatabaseEnum",access:"R V",conformance:"TZ",default:2,quality:"F",details:"Indicates whether the node has access to a time zone database. Nodes with a time zone database may update their own DSTOffset attribute to add new entries and may push DSTOffset updates to other Nodes in the same time zone as required.",xref:{document:"core",section:"11.17.8.9"}}),p({name:"NtpServerAvailable",id:9,type:"bool",access:"R V",conformance:"NTPS",default:!1,details:"If the node is running an RFC 5905 NTPv4 compliant server on port 123, this value shall be True. If the node is not currently running an NTP server, this value shall be False.",xref:{document:"core",section:"11.17.8.10"}}),p({name:"TimeZoneListMaxSize",id:10,type:"uint8",access:"R V",conformance:"TZ",constraint:"1 to 2",quality:"F",details:"Number of supported list entries in the TimeZone attribute. This attribute may take the value of 1 or 2, where the optional second list entry may be used to handle scheduled regulatory time zone changes.",xref:{document:"core",section:"11.17.8.11"}}),p({name:"DstOffsetListMaxSize",id:11,type:"uint8",access:"R V",conformance:"TZ",constraint:"min 1",quality:"F",details:"Number of supported list entries in DSTOffset attribute. This value must be at least 1.",xref:{document:"core",section:"11.17.8.12"}}),p({name:"SupportsDnsResolve",id:12,type:"bool",access:"R V",conformance:"NTPC",default:!1,quality:"F",details:"This attribute is true if the node supports resolving a domain name. DefaultNTP Address values for these nodes may include domain names. If this is False, the Address for a DefaultNTP shall be an IPv6 address.",xref:{document:"core",section:"11.17.8.13"}}),Se({name:"DstTableEmpty",id:0,access:"V",conformance:"TZ",priority:"info",details:`This event shall be generated when the node stops applying the current DSTOffset and there are no entries in the list with a larger ValidStarting time, indicating the need to possibly get new DST data. This event shall also be generated if the DSTOffset list is cleared either by a SetTimeZone command, or by a SetDSTOffset command with an empty list.
The node shall generate this event if the node has not generated a DSTTableEmpty event in the last hour, and the DSTOffset list is empty when the node attempts to update its time. DSTTableEmpty events corresponding to a time update SHOULD NOT be generated more often than once per hour.
There is no data for this event.`,xref:{document:"core",section:"11.17.10.1"}}),Se({name:"DstStatus",id:1,access:"V",conformance:"TZ",priority:"info",details:`This event shall be generated when the node starts or stops applying a DST offset.
DSTOffsetActive
Indicates whether the current DST offset is being applied (i.e, daylight savings time is applied, as opposed to standard time).`,xref:{document:"core",section:"11.17.10.2"},children:[o({name:"DstOffsetActive",id:0,type:"bool",conformance:"M"})]}),Se({name:"TimeZoneStatus",id:2,access:"V",conformance:"TZ",priority:"info",details:"This event shall be generated when the node changes its time zone offset or name. It shall NOT be sent for DST changes that are not accompanied by a time zone change.",xref:{document:"core",section:"11.17.10.3"},children:[o({name:"Offset",id:0,type:"int32",conformance:"M",constraint:"-43200 to 50400",details:"Current time zone offset from UTC in seconds.",xref:{document:"core",section:"11.17.10.3.1"}}),o({name:"Name",id:1,type:"string",conformance:"O",constraint:"0 to 64",details:"Current time zone name. This name SHOULD use the country/city format specified by the IANA Time Zone Database.",xref:{document:"core",section:"11.17.10.3.2"}})]}),Se({name:"TimeFailure",id:3,access:"V",conformance:"M",priority:"info",details:"This event shall be generated if the node has not generated a TimeFailure event in the last hour, and the node is unable to get a time from any source. This event SHOULD NOT be generated more often than once per hour.",xref:{document:"core",section:"11.17.10.4"}}),Se({name:"MissingTrustedTimeSource",id:4,access:"V",conformance:"TSC",priority:"info",details:`This event shall be generated if the TrustedTimeSource is set to null upon fabric removal or by a SetTrustedTimeSource command.
This event shall also be generated if the node has not generated a MissingTrustedTimeSource event in the last hour, and the node fails to update its time from the TrustedTimeSource because the TrustedTimeSource is null or the specified peer cannot be reached. MissingTrustedTimeSource events corresponding to a time update SHOULD NOT be generated more often than once per hour.`,xref:{document:"core",section:"11.17.10.5"}}),U({name:"SetUtcTime",id:0,access:"A",conformance:"M",direction:"request",response:"status",details:`This command may be issued by Administrator to set the time. If the Commissioner does not have a valid time source, it may send a Granularity of NoTimeGranularity.
Upon receipt of this command, the node may update its UTCTime attribute to match the time specified in the command, if the stated Granularity and TimeSource are acceptable. The node shall update its UTCTime attribute if its current Granularity is NoTimeGranularity.
If the time is updated, the node shall also update its Granularity attribute based on the granularity specified in the command and the expected clock drift of the node. This SHOULD normally be one level lower than the stated command Granularity. It shall also update its TimeSource attribute to Admin. It shall also update its Last Known Good UTC Time as defined in Section 3.5.6.1, \u201CLast Known Good UTC Time\u201D.
If the node updates its UTCTime attribute, it shall accept the command with a status code of SUCCESS. If it opts to not update its time, it shall fail the command with a cluster specific Status Code of TimeNotAccepted.`,xref:{document:"core",section:"11.17.9.1"},children:[o({name:"UtcTime",id:0,type:"epoch-us",conformance:"M",default:0,details:"This shall give the Client\u2019s UTC Time.",xref:{document:"core",section:"11.17.9.1.1"}}),o({name:"Granularity",id:1,type:"GranularityEnum",conformance:"M",default:0,details:"This shall give the Client\u2019s Granularity, as described in Section 11.17.8.2, \u201CGranularity Attribute\u201D.",xref:{document:"core",section:"11.17.9.1.2"}}),o({name:"TimeSource",id:2,type:"TimeSourceEnum",conformance:"O",default:0,details:"This shall give the Client\u2019s TimeSource, as described in Section 11.17.8.3, \u201CTimeSource Attribute\u201D.",xref:{document:"core",section:"11.17.9.1.3"}})]}),U({name:"SetTrustedTimeSource",id:1,access:"F A",conformance:"TSC",direction:"request",response:"status",details:"This command shall set the TrustedTimeSource attribute. Upon receipt of this command, * If the TrustedTimeSource field in the command is null, the node shall set the TrustedTimeSource attribute to null and shall generate a MissingTrustedTimeSource event. * Otherwise, the node shall set the TrustedTimeSource attribute to a struct which has NodeID and Endpoint fields matching those in the TrustedTimeSource field and has its FabricIndex field set to the command\u2019s accessing fabric index.",xref:{document:"core",section:"11.17.9.2"},children:[o({name:"TrustedTimeSource",id:0,type:"FabricScopedTrustedTimeSourceStruct",access:"F",conformance:"M",quality:"X",details:"This field contains the Node ID and endpoint of a trusted time source on the accessing fabric.",xref:{document:"core",section:"11.17.9.2.1"}}),o({name:"FabricIndex",id:254,type:"FabricIndex"})]}),U({name:"SetTimeZone",id:2,access:"M",conformance:"TZ",direction:"request",response:"SetTimeZoneResponse",details:`This command is used to set the time zone of the node.
If the given list is larger than the TimeZoneListMaxSize, the node shall respond with RESOURCE_EXHAUSTED and the TimeZone attribute shall NOT be updated.
If the given list does not conform to the list requirements in TimeZone attribute the node shall respond with a CONSTRAINT_ERROR and the TimeZone attribute shall NOT be updated.
If there are no errors in the list, the TimeZone field shall be copied to the TimeZone attribute. A TimeZoneStatus event shall be generated with the new time zone information.
If the node supports a time zone database and it has information available for the time zone that will be applied, it may set its DSTOffset attribute, otherwise the DSTOffset attribute shall be set to an empty list. A DSTTableEmpty event shall be generated if the DSTOffset attribute is empty. A DSTStatus event shall be generated if the node was previously applying a DST offset.`,xref:{document:"core",section:"11.17.9.3"},children:[o({name:"TimeZone",id:0,type:"list",conformance:"M",constraint:"1 to 2",children:[o({name:"entry",type:"TimeZoneStruct"})]})]}),U({name:"SetTimeZoneResponse",id:3,conformance:"TZ",direction:"response",details:"This command shall be generated in response to a SetTimeZone command.",xref:{document:"core",section:"11.17.9.4"},children:[o({name:"DstOffsetsRequired",id:0,type:"bool",conformance:"M",default:!0,details:`If the node supports a time zone database with information for the time zone that will be applied, it
may use this information to set the DSTOffset attribute. If the node is setting its own DSTOffset attribute, the DSTOffsetsRequired field shall be set to false, otherwise it shall be set to true.`,xref:{document:"core",section:"11.17.9.4.1"}})]}),U({name:"SetDstOffset",id:4,access:"M",conformance:"TZ",direction:"request",response:"status",details:`This command is used to set the DST offsets for a node.
  \u2022 If the length of DSTOffset is larger than DSTOffsetListMaxSize, the node shall respond with     RESOURCE_EXHAUSTED.
  \u2022 Else if the list entries do not conform to the list requirements for DSTOffset attribute, the     node shall respond with CONSTRAINT_ERROR.
If there are no errors in the list, the DSTOffset field shall be copied to the DSTOffset attribute.
If the DSTOffset attribute change causes a corresponding change to the DST state, a DSTStatus event shall be generated. If the list is empty, the node shall generate a DSTTableEmpty event.`,xref:{document:"core",section:"11.17.9.5"},children:[o({name:"DstOffset",id:0,type:"list",conformance:"M",children:[o({name:"entry",type:"DSTOffsetStruct"})]})]}),U({name:"SetDefaultNtp",id:5,access:"A",conformance:"NTPC",direction:"request",response:"status",details:"This command is used to set the DefaultNTP attribute. If the DefaultNTP Address field does not conform to the requirements in the DefaultNTP attribute description, the command shall fail with a status code of INVALID_COMMAND. If the node does not support DNS resolution (as specified in SupportsDNSResolve) and the provided Address is a domain name, the command shall fail with a status code of INVALID_COMMAND. Otherwise, the node shall set the DefaultNTP attribute to match the DefaultNTP provided in this command.",xref:{document:"core",section:"11.17.9.6"},children:[o({name:"DefaultNtp",id:0,type:"string",conformance:"M",constraint:"max 128",quality:"X",details:"This field contains the address of an NTP server than can be used as a fallback for time synchronization. The format of this field shall follow the requirements in the DefaultNTP attribute description.",xref:{document:"core",section:"11.17.9.6.1"}})]}),C({name:"GranularityEnum",type:"enum8",xref:{document:"core",section:"11.17.6.1"},children:[o({name:"NoTimeGranularity",id:0,conformance:"M",description:"This indicates that the node is not currently synchronized with a UTC Time source and its clock is based on the Last Known Good UTC Time only."}),o({name:"MinutesGranularity",id:1,conformance:"M",description:"This indicates the node was synchronized to an upstream source in the past, but sufficient clock drift has occurred such that the clock error is now > 5 seconds."}),o({name:"SecondsGranularity",id:2,conformance:"M",description:"This indicates the node is synchronized to an upstream source using a low resolution protocol. UTC Time is accurate to \xB1 5 seconds."}),o({name:"MillisecondsGranularity",id:3,conformance:"M",description:"This indicates the node is synchronized to an upstream source using high resolution time- synchronization protocol such as NTP, or has built-in GNSS with some amount of jitter applying its GNSS timestamp. UTC Time is accurate to \xB1 50 ms."}),o({name:"MicrosecondsGranularity",id:4,conformance:"M",description:"This indicates the node is synchronized to an upstream source using a highly precise time- synchronization protocol such as PTP, or has built-in GNSS. UTC time is accurate to \xB1 10 \u03BCs."})]}),C({name:"TimeSourceEnum",type:"enum8",xref:{document:"core",section:"11.17.6.2"},children:[o({name:"None",id:0,conformance:"M",description:"Node is not currently synchronized with a UTC Time source."}),o({name:"Unknown",id:1,conformance:"M",description:"Node uses an unlisted time source."}),o({name:"Admin",id:2,conformance:"M",description:"Node received time from a client using the SetUTCTime Command."}),o({name:"NodeTimeCluster",id:3,conformance:"M",description:"Synchronized time by querying the Time Synchronization cluster of another Node."}),o({name:"NonMatterSntp",id:4,conformance:"M",description:"SNTP from a server not in the Matter network. NTS is not used."}),o({name:"NonMatterNtp",id:5,conformance:"M",description:"NTP from servers not in the Matter network. None of the servers used NTS."}),o({name:"MatterSntp",id:6,conformance:"M",description:"SNTP from a server within the Matter network. NTS is not used."}),o({name:"MatterNtp",id:7,conformance:"M",description:"NTP from servers within the Matter network. None of the servers used NTS."}),o({name:"MixedNtp",id:8,conformance:"M",description:"NTP from multiple servers in the Matter network and external. None of the servers used NTS."}),o({name:"NonMatterSntpnts",id:9,conformance:"M",description:"SNTP from a server not in the Matter network. NTS is used."}),o({name:"NonMatterNtpnts",id:10,conformance:"M",description:"NTP from servers not in the Matter network. NTS is used on at least one server."}),o({name:"MatterSntpnts",id:11,conformance:"M",description:"SNTP from a server within the Matter network. NTS is used."}),o({name:"MatterNtpnts",id:12,conformance:"M",description:"NTP from a server within the Matter network. NTS is used on at least one server."}),o({name:"MixedNtpnts",id:13,conformance:"M",description:"NTP from multiple servers in the Matter network and external. NTS is used on at least one server."}),o({name:"CloudSource",id:14,conformance:"M",description:'Time synchronization comes from a vendor cloud-based source (e.g. "Date" header in authenticated HTTPS connection).'}),o({name:"Ptp",id:15,conformance:"M",description:"Time synchronization comes from PTP."}),o({name:"Gnss",id:16,conformance:"M",description:"Time synchronization comes from a GNSS source."})]}),C({name:"TimeZoneDatabaseEnum",type:"enum8",details:"It indicates what the device knows about the contents of the IANA Time Zone Database. Partial support on a device may be used to omit historical data, less commonly used time zones, and/or time zones not related to the region a product is sold in.",xref:{document:"core",section:"11.17.6.3"},children:[o({name:"Full",id:0,conformance:"M",description:"Node has a full list of the available time zones"}),o({name:"Partial",id:1,conformance:"M",description:"Node has a partial list of the available time zones"}),o({name:"None",id:2,conformance:"M",description:"Node does not have a time zone database"})]}),C({name:"TrustedTimeSourceStruct",type:"struct",xref:{document:"core",section:"11.17.6.4"},children:[o({name:"FabricIndex",id:0,type:"fabric-idx",conformance:"M",details:"The Fabric Index associated with the Fabric of the client which last set the value of the trusted time source node.",xref:{document:"core",section:"11.17.6.4.1"}}),o({name:"NodeId",id:1,type:"node-id",conformance:"M",details:"Node ID of the trusted time source node on the Fabric associated with the entry.",xref:{document:"core",section:"11.17.6.4.2"}}),o({name:"Endpoint",id:2,type:"endpoint-no",conformance:"M",details:"Endpoint on the trusted time source node that contains the Time Synchronization cluster server.",xref:{document:"core",section:"11.17.6.4.3"}})]}),C({name:"FabricScopedTrustedTimeSourceStruct",type:"struct",xref:{document:"core",section:"11.17.6.5"},children:[o({name:"NodeId",id:0,type:"node-id",conformance:"M",details:"Node ID of the trusted time source node on the Fabric of the issuer.",xref:{document:"core",section:"11.17.6.5.1"}}),o({name:"Endpoint",id:1,type:"endpoint-no",conformance:"M",details:"Endpoint on the trusted time source node that contains the Time Synchronization cluster server. This is provided to avoid having to do discovery of the location of that endpoint by walking over all endpoints and checking their Descriptor Cluster.",xref:{document:"core",section:"11.17.6.5.2"}})]}),C({name:"TimeZoneStruct",type:"struct",xref:{document:"core",section:"11.17.6.6"},children:[o({name:"Offset",id:0,type:"int32",conformance:"M",constraint:"-43200 to 50400",details:"The time zone offset from UTC in seconds.",xref:{document:"core",section:"11.17.6.6.1"}}),o({name:"ValidAt",id:1,type:"epoch-us",conformance:"M",details:"The UTC time when the offset shall be applied.",xref:{document:"core",section:"11.17.6.6.2"}}),o({name:"Name",id:2,type:"string",conformance:"O",constraint:"0 to 64",details:"The time zone name SHOULD provide a human-readable time zone name and it SHOULD use the country/city format specified by the IANA Time Zone Database. The Name field may be used for display. If the node supports a TimeZoneDatabase it may use the Name field to set its own DST offsets if it has database information for the supplied time zone Name and the given Offset matches.",xref:{document:"core",section:"11.17.6.6.3"}})]}),C({name:"DSTOffsetStruct",type:"struct",xref:{document:"core",section:"11.17.6.7"},children:[o({name:"Offset",id:0,type:"int32",conformance:"M",constraint:"desc",details:"The DST offset in seconds. Normally this is in the range of 0 to 3600 seconds (1 hour), but this field will accept any values in the int32 range to accommodate potential future legislation that does not fit with these assumptions.",xref:{document:"core",section:"11.17.6.7.1"}}),o({name:"ValidStarting",id:1,type:"epoch-us",conformance:"M",details:"The UTC time when the offset shall be applied.",xref:{document:"core",section:"11.17.6.7.2"}}),o({name:"ValidUntil",id:2,type:"epoch-us",conformance:"M",quality:"X",details:"The UTC time when the offset shall stop being applied. Providing a null value here indicates a permanent DST change. If this value is non-null the value shall be larger than the ValidStarting time.",xref:{document:"core",section:"11.17.6.7.3"}})]}),C({name:"StatusCodeEnum",type:"enum8",xref:{document:"core",section:"11.17.7.1"},children:[o({name:"TimeNotAccepted",id:2,description:"Node rejected the attempt to set the UTC time"})]})]});A.children.push(NC);var PC=ie({name:"OperationalCredentials",id:62,classification:"node",pics:"OPCREDS",details:"This cluster is used to add or remove Node Operational credentials on a Commissionee or Node, as well as manage the associated Fabrics.",xref:{document:"core",section:"11.18"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"Nocs",id:0,type:"list",access:"R F A",conformance:"M",constraint:"max supportedFabrics",quality:"N C",details:`This attribute contains all NOCs applicable to this Node, encoded as a read-only list of NOCStruct.
Operational Certificates shall be added through the AddNOC command, and shall be removed through the RemoveFabric command.
Upon Factory Data Reset, this attribute shall be set to a default value of an empty list.
The number of entries in this list shall match the number of entries in the Fabrics attribute.`,xref:{document:"core",section:"11.18.5.1"},children:[o({name:"entry",type:"NOCStruct"})]}),p({name:"Fabrics",id:1,type:"list",access:"R F V",conformance:"M",constraint:"max supportedFabrics",quality:"N",details:`This attribute describes all fabrics to which this Node is commissioned, encoded as a read-only list of FabricDescriptorStruct. This information may be computed directly from the NOCs attribute.
Upon Factory Data Reset, this attribute shall be set to a default value of an empty list.
The number of entries in this list shall match the number of entries in the NOCs attribute.`,xref:{document:"core",section:"11.18.5.2"},children:[o({name:"entry",type:"FabricDescriptorStruct"})]}),p({name:"SupportedFabrics",id:2,type:"uint8",access:"R V",conformance:"M",constraint:"5 to 254",quality:"F",details:"This attribute contains the number of Fabrics that are supported by the device. This value is fixed for a particular device.",xref:{document:"core",section:"11.18.5.3"}}),p({name:"CommissionedFabrics",id:3,type:"uint8",access:"R V",conformance:"M",constraint:"max supportedFabrics",quality:"N",details:`This attribute contains the number of Fabrics to which the device is currently commissioned. This attribute shall be equal to the following:
  \u2022 The number of entries in the NOCs attribute.
  \u2022 The number of entries in the Fabrics attribute.
Upon Factory Data Reset, this attribute shall be set to a default value of 0.`,xref:{document:"core",section:"11.18.5.4"}}),p({name:"TrustedRootCertificates",id:4,type:"list",access:"R V",conformance:"M",constraint:"max supportedFabrics[max 400]",quality:"N C",details:`This attribute shall contain a read-only list of Trusted Root CA Certificates installed on the Node, as octet strings containing their Matter Certificate Encoding representation.
These certificates are installed through the AddTrustedRootCertificate command.
Depending on the method of storage employed by the server, either shared storage for identical root certificates shared by many fabrics, or individually stored root certificate per fabric, multiple identical root certificates may legally appear within the list.
To match a root with a given fabric, the root certificate\u2019s subject and subject public key need to be cross-referenced with the NOC or ICAC certificates that appear in the NOCs attribute for a given fabric.
Upon Factory Data Reset, this attribute shall be set to a default value whereby the list is empty.`,xref:{document:"core",section:"11.18.5.5"},children:[o({name:"entry",type:"octstr"})]}),p({name:"CurrentFabricIndex",id:5,type:"fabric-idx",access:"R V",conformance:"M",default:0,details:`This attribute shall contain accessing fabric index.
This attribute is useful to contextualize Fabric-Scoped entries obtained from response commands or attribute reads, since a given Fabric may be referenced by a different Fabric Index locally on a remote Node.`,xref:{document:"core",section:"11.18.5.6"}}),U({name:"AttestationRequest",id:0,access:"A",conformance:"M",direction:"request",response:"AttestationResponse",details:"This command shall be generated to request the Attestation Information, in the form of an AttestationResponse Command. If the AttestationNonce that is provided in the command is malformed, a recipient shall fail the command with a Status Code of INVALID_COMMAND. The AttestationNonce field shall be used in the computation of the Attestation Information.",xref:{document:"core",section:"11.18.6.1"},children:[o({name:"AttestationNonce",id:0,type:"octstr",conformance:"M",constraint:"32"})]}),U({name:"AttestationResponse",id:1,conformance:"M",direction:"response",details:`This command shall be generated in response to an Attestation Request command.
See Section 11.18.4.7, \u201CAttestation Information\u201D for details about the generation of the fields within this response command.
See Section F.2, \u201CDevice Attestation Response test vector\u201D for an example computation of an AttestationResponse.`,xref:{document:"core",section:"11.18.6.2"},children:[o({name:"AttestationElements",id:0,type:"octstr",conformance:"M",constraint:"max 900",details:"This field shall contain the octet string of the serialized attestation_elements_message.",xref:{document:"core",section:"11.18.6.2.1"}}),o({name:"AttestationSignature",id:1,type:"octstr",conformance:"M",constraint:"64",details:"This field shall contain the octet string of the necessary attestation_signature as described in Section 11.18.4.7, \u201CAttestation Information\u201D.",xref:{document:"core",section:"11.18.6.2.2"}})]}),U({name:"CertificateChainRequest",id:2,access:"A",conformance:"M",direction:"request",response:"CertificateChainResponse",details:"If the CertificateType is not a valid value per CertificateChainTypeEnum then the command shall fail with a Status Code of INVALID_COMMAND.",xref:{document:"core",section:"11.18.6.3"},children:[o({name:"CertificateType",id:0,type:"CertificateChainTypeEnum",conformance:"M",constraint:"desc"})]}),U({name:"CertificateChainResponse",id:3,conformance:"M",direction:"response",details:"This command shall be generated in response to a CertificateChainRequest command.",xref:{document:"core",section:"11.18.6.4"},children:[o({name:"Certificate",id:0,type:"octstr",conformance:"M",constraint:"max 600",details:"This field shall be the DER encoded certificate corresponding to the CertificateType field in the CertificateChainRequest command.",xref:{document:"core",section:"11.18.6.4.1"}})]}),U({name:"CsrRequest",id:4,access:"A",conformance:"M",direction:"request",response:"CsrResponse",details:`This command shall be generated to execute the Node Operational CSR Procedure and subsequently return the NOCSR Information, in the form of a CSRResponse Command.
The CSRNonce field shall be used in the computation of the NOCSR Information. If the CSRNonce is malformed, then this command shall fail with an INVALID_COMMAND status code.
If the IsForUpdateNOC field is present and set to true, but the command was received over a PASE session, the command shall fail with an INVALID_COMMAND status code, as it would never be possible to use a resulting subsequent certificate issued from the CSR with the UpdateNOC command, which is forbidden over PASE sessions.
If the IsForUpdateNOC field is present and set to true, the internal state of the CSR associated keypair shall be tagged as being for a subsequent UpdateNOC, otherwise the internal state of the CSR shall be tagged as being for a subsequent AddNOC. See AddNOC and UpdateNOC for details about the processing.
If this command is received without an armed fail-safe context (see Section 11.10.6.2, \u201CArmFailSafe Command\u201D), then this command shall fail with a FAILSAFE_REQUIRED status code sent back to the initiator.
If a prior UpdateNOC or AddNOC command was successfully executed within the fail-safe timer period, then this command shall fail with a CONSTRAINT_ERROR status code sent back to the initiator.
If the Node Operational Key Pair generated during processing of the Node Operational CSR Procedure is found to collide with an existing key pair already previously generated and installed, and that check had been executed, then this command shall fail with a FAILURE status code sent back to the initiator.`,xref:{document:"core",section:"11.18.6.5"},children:[o({name:"CsrNonce",id:0,type:"octstr",conformance:"M",constraint:"32"}),o({name:"IsForUpdateNoc",id:1,type:"bool",conformance:"O",default:!1})]}),U({name:"CsrResponse",id:5,conformance:"M",direction:"response",details:`This command shall be generated in response to a CSRRequest Command.
See Section 11.18.4.9, \u201CNOCSR Information\u201D for details about the generation of the fields within this response command.
See Section F.3, \u201CNode Operational CSR Response test vector\u201D for an example computation of a CSRResponse.`,xref:{document:"core",section:"11.18.6.6"},children:[o({name:"NocsrElements",id:0,type:"octstr",conformance:"M",constraint:"max 900",details:"This field shall contain the octet string of the serialized nocsr_elements_message.",xref:{document:"core",section:"11.18.6.6.1"}}),o({name:"AttestationSignature",id:1,type:"octstr",conformance:"M",constraint:"64",details:"This field shall contain the octet string of the necessary attestation_signature as described in Section 11.18.4.9, \u201CNOCSR Information\u201D.",xref:{document:"core",section:"11.18.6.6.2"}})]}),U({name:"AddNoc",id:6,access:"A",conformance:"M",direction:"request",response:"NocResponse",details:`This command shall add a new NOC chain to the device and commission a new Fabric association upon successful validation of all arguments and preconditions.
The new value shall immediately be reflected in the NOCs list attribute.
A Commissioner or Administrator shall issue this command after issuing the CSRRequest command and receiving its response.
A Commissioner or Administrator SHOULD issue this command after performing the Attestation Procedure.`,xref:{document:"core",section:"11.18.6.8"},children:[o({name:"NocValue",id:0,type:"octstr",conformance:"M",constraint:"max 400"}),o({name:"IcacValue",id:1,type:"octstr",conformance:"O",constraint:"max 400"}),o({name:"IpkValue",id:2,type:"octstr",conformance:"M",constraint:"16",details:`This field shall contain the value of the Epoch Key for the Identity Protection Key (IPK) to set for the Fabric which is to be added. This is needed to bootstrap a necessary configuration value for subsequent CASE to succeed. See Section 4.14.2.6.1, \u201CIdentity Protection Key (IPK)\u201D for details.
The IPK shall be provided as an octet string of length CRYPTO_SYMMETRIC_KEY_LENGTH_BYTES.
On successful execution of the AddNOC command, the side-effect of having provided this field shall be equivalent to having done a GroupKeyManagement cluster KeySetWrite command invocation using the newly joined fabric as the accessing fabric and with the following argument fields (assuming KeySetWrite allowed a GroupKeySetID set to 0):`,xref:{document:"core",section:"11.18.6.8.1"}}),o({name:"CaseAdminSubject",id:3,type:"subject-id",conformance:"M",details:`If the AddNOC command succeeds according to the semantics of the following subsections, then the Access Control SubjectID shall be used to atomically add an Access Control Entry enabling that Subject to subsequently administer the Node whose operational identity is being added by this command.
The format of the new Access Control Entry, created from this, shall be:
NOTE
Unless such an Access Control Entry is added atomically as described here, there would be no way for the caller on its given Fabric to eventually add another Access Control Entry for CASE authentication mode, to enable the new Administrator to administer the device, since the Fabric Scoping of the Access Control List prevents the current Node from being able to write new entries scoped to that Fabric, if the session is established from CASE. While a session established from PASE does gain Fabric Scope of a newly-joined Fabric, this argument is made mandatory to provide symmetry between both types of session establishment, both of which need to eventually add an "Administer Node over CASE" Access Control Entry to finalize new Fabric configuration and subsequently be able to call the CommissioningComplete command.`,xref:{document:"core",section:"11.18.6.8.2"}}),o({name:"AdminVendorId",id:4,type:"vendor-id",conformance:"M",details:`This field shall be set to the Vendor ID of the entity issuing the AddNOC command. This value shall NOT be one of the reserved Vendor ID values defined in Table 1, \u201CVendor ID Allocations\u201D.
### Effect When Received
If this command is received without an armed fail-safe context (see Section 11.10.6.2, \u201CArmFailSafe Command\u201D), then this command shall fail with a FAILSAFE_REQUIRED status code sent back to the initiator.
If a prior UpdateNOC or AddNOC command was successfully executed within the fail-safe timer period, then this command shall fail with a CONSTRAINT_ERROR status code sent back to the initiator.
If the prior CSRRequest state that preceded AddNOC had the IsForUpdateNOC field indicated as true, then this command shall fail with a CONSTRAINT_ERROR status code sent back to the initiator.
If no prior AddTrustedRootCertificate command was successfully executed within the fail-safe timer period, then this command shall process an error by responding with a NOCResponse with a StatusCode of InvalidNOC as described in Section 11.18.6.7.2, \u201CHandling Errors\u201D. In other words, AddNOC always requires that the client provides the root of trust certificate within the same Fail- Safe context as the rest of the new fabric\u2019s operational credentials, even if some other fabric already uses the exact same root of trust certificate.
If the NOC provided in the NOCValue encodes an Operational Identifier for a <Root Public Key, Fab
ricID> pair already present on the device, then the device shall process the error by responding with a StatusCode of FabricConflict as described in Section 11.18.6.7.2, \u201CHandling Errors\u201D.
If the device already has the CommissionedFabrics attribute equal to the SupportedFabrics attribute, then the device\u2019s operational credentials table is considered full and the device shall process the error by responding with a StatusCode of TableFull as described in Section 11.18.6.7.2, \u201CHandling Errors\u201D.
If the CaseAdminSubject field is not a valid ACL subject in the context of AuthMode set to CASE, such as not being in either the Operational or CASE Authenticated Tag range, then the device shall process the error by responding with a StatusCode of InvalidAdminSubject as described in Section 11.18.6.7.2, \u201CHandling Errors\u201D.
Otherwise, the command is considered an addition of credentials, also known as "joining a fabric", and the following shall apply:
  1. A new FabricIndex shall be allocated, taking the next valid fabric-index value in       monotonically incrementing order, wrapping around from 254 (0xFE) to 1, since value 0 is       reserved and using 255 (0xFF) would prevent cluster specifications from using nullable       fabric-idx fields.
  2. An entry within the Fabrics attribute table shall be added, reflecting the matter-fabric-id       RDN within the NOC\u2019s subject, along with the public key of the trusted root of the chain and       the AdminVendorID field.
  3. The operational key pair associated with the incoming NOC from the NOCValue, and generated by       the prior CSRRequest command, shall be recorded for subsequent use during CASE within the       fail-safe timer period (see Section 5.5, \u201CCommissioning Flows\u201D).
  4. The incoming NOCValue and ICACValue (if present) shall be stored under the FabricIndex       associated with the new Fabric Scope, along with the RootCACertificate provided with the       prior successful AddTrustedRootCertificate command invoked in the same fail-safe period.
    a. Implementation of certificate chain storage may separate or otherwise encode the components        of the array in implementation-specific ways, as long as they follow the correct format when        being read from the NOCs list or used within other protocols such as CASE.
  5. The NOCs list shall reflect the incoming NOC from the NOCValue field and ICAC from the       ICACValue field (if present).
  6. The operational discovery service record shall immediately reflect the new Operational       Identifier, such that the Node immediately begins to exist within the Fabric and becomes       reachable over CASE under the new operational identity.
  7. The receiver shall create and add a new Access Control Entry using the CaseAdminSubject field       to grant subsequent Administer access to an Administrator member of the new Fabric. It is       recommended that the Administrator presented in CaseAdminSubject exist within the same entity       that is currently invoking the AddNOC command, within another of the Fabrics of which it is a       member.
  8. The incoming IPKValue shall be stored in the Fabric-scoped slot within the Group Key       Management cluster (see KeySetWrite), for subsequent use during CASE.
  9. The Fabric Index associated with the armed fail-safe context (see Section 11.10.6.2,       \u201CArmFailSafe Command\u201D) shall be updated to match the Fabric Index just allocated.
  10. If the current secure session was established with PASE, the receiver shall:
    a. Augment the secure session context with the FabricIndex generated above, such that        subsequent interactions have the proper accessing fabric.
  11. If the current secure session was established with CASE, subsequent configuration of the       newly installed Fabric requires the opening of a new CASE session from the Administrator from       the Fabric just installed. This Administrator is the one listed in the CaseAdminSubject       argument.
Thereafter, the Node shall respond with an NOCResponse with a StatusCode of OK and a FabricIndex field matching the FabricIndex under which the new Node Operational Certificate (NOC) is scoped.`,xref:{document:"core",section:"11.18.6.8.3"}})]}),U({name:"UpdateNoc",id:7,access:"F A",conformance:"M",direction:"request",response:"NocResponse",details:`This command shall replace the NOC and optional associated ICAC (if present) scoped under the accessing fabric upon successful validation of all arguments and preconditions. The new value shall immediately be reflected in the NOCs list attribute.
A Commissioner or Administrator shall issue this command after issuing the CSRRequest Command and receiving its response.
A Commissioner or Administrator SHOULD issue this command after performing the Attestation Procedure.
Effect When Received
If this command is received without an armed fail-safe context (see Section 11.10.6.2, \u201CArmFailSafe Command\u201D), then this command shall fail with a FAILSAFE_REQUIRED status code sent back to the initiator.
If a prior UpdateNOC or AddNOC command was successfully executed within the fail-safe timer period, then this command shall fail with a CONSTRAINT_ERROR status code sent back to the initiator.
If a prior AddTrustedRootCertificate command was successfully invoked within the fail-safe timer period, then this command shall fail with a CONSTRAINT_ERROR status code sent back to the initiator, since the only valid following logical operation is invoking the AddNOC command.
If the prior CSRRequest state that preceded UpdateNOC had the IsForUpdateNOC field indicated as false, then this command shall fail with a CONSTRAINT_ERROR status code sent back to the initiator.
If any of the following conditions arise, the Node shall process an error by responding with an
NOCResponse with a StatusCode of InvalidNOC as described in Section 11.18.6.7.2, \u201CHandling Errors\u201D:
  \u2022 The NOC provided in the NOCValue does not refer in its subject to the FabricID associated with     the accessing fabric.
  \u2022 The ICAC provided in the ICACValue (if present) has a FabricID in its subject that does not     match the FabricID associated with the accessing fabric.
Otherwise, the command is considered an update of existing credentials for a given Fabric, and the following shall apply:
  1. The Operational Certificate under the accessing fabric index in the NOCs list shall be updated      to match the incoming NOCValue and ICACValue (if present), such that the Node\u2019s Operational      Identifier within the Fabric immediately changes.
    a. The operational key pair associated with the incoming NOC from the NOCValue, and generated        by the prior CSRRequest command, shall be committed to permanent storage, for subsequent use        during CASE.
    b. The operational discovery service record shall immediately reflect the new Operational        Identifier.
    c. All internal data reflecting the prior operational identifier of the Node within the Fabric        shall be revoked and removed, to an outcome equivalent to the disappearance of the prior        Node, except for the ongoing CASE session context, which shall temporarily remain valid        until the NOCResponse has been successfully delivered or until the next transport-layer        error, so that the response can be received by the Administrator invoking the command.
Thereafter, the Node shall respond with an NOCResponse with a StatusCode of OK and a FabricIndex field matching the FabricIndex under which the updated NOC is scoped.`,xref:{document:"core",section:"11.18.6.9"},children:[o({name:"NocValue",id:0,type:"octstr",access:"F",conformance:"M",constraint:"max 400"}),o({name:"IcacValue",id:1,type:"octstr",access:"F",conformance:"O",constraint:"max 400"}),o({name:"FabricIndex",id:254,type:"FabricIndex"})]}),U({name:"NocResponse",id:8,conformance:"M",direction:"response",details:`This command shall be generated in response to the following commands:
  \u2022 AddNOC
  \u2022 UpdateNOC
  \u2022 UpdateFabricLabel
  \u2022 RemoveFabric
It provides status information about the success or failure of those commands.`,xref:{document:"core",section:"11.18.6.10"},children:[o({name:"StatusCode",id:0,type:"NodeOperationalCertStatusEnum",conformance:"M",details:"This field shall contain an NOCStatus value representing the status of an operation involving a NOC.",xref:{document:"core",section:"11.18.6.10.1"}}),o({name:"FabricIndex",id:1,type:"fabric-idx",conformance:"O",constraint:"1 to 254",details:"This field shall be present whenever StatusCode has a value of OK. If present, it shall contain the Fabric Index of the Fabric last added, removed or updated.",xref:{document:"core",section:"11.18.6.10.2"}}),o({name:"DebugText",id:2,type:"string",conformance:"O",constraint:"max 128",details:"This field may contain debugging textual information from the cluster implementation, which SHOULD NOT be presented to user interfaces in any way. Its purpose is to help developers in troubleshooting errors and the contents may go into logs or crash reports.",xref:{document:"core",section:"11.18.6.10.3"}})]}),U({name:"UpdateFabricLabel",id:9,access:"F A",conformance:"M",direction:"request",response:"NocResponse",details:`This command shall be used by an Administrator to set the user-visible Label field for a given Fabric, as reflected by entries in the Fabrics attribute. An Administrator shall use this command to set the Label to a string (possibly selected by the user themselves) that the user can recognize and relate to this Administrator
  \u2022 during the commissioning process, and
  \u2022 whenever the user chooses to update this string.
The Label field, along with the VendorID field in the same entry of the Fabrics attribute, SHOULD be used by Administrators to provide additional per-fabric context when operations such as RemoveFabric are considered or used.`,xref:{document:"core",section:"11.18.6.11"},children:[o({name:"Label",id:0,type:"string",access:"F",conformance:"M",constraint:"max 32",details:`This field shall contain the label to set for the fabric associated with the current secure session.
Effect on Receipt
If the Label field is identical to a Label already in use by a Fabric within the Fabrics list that is not the accessing fabric, then an NOCResponse with a StatusCode of LabelConflict shall be returned for the command and there shall NOT be any permanent changes to any Fabric data.
Otherwise, the Label field for the accessing fabric shall immediately be updated to reflect the Label argument provided. Following the update, an NOCResponse with a StatusCode of OK shall be returned.
If the command was invoked within a fail-safe context after a successful UpdateNOC command, then the label update shall apply to the pending update state that will be reverted if fail-safe expires prior to a CommissioningComplete command. In other words, label updates apply to the state of the Fabrics Attribute as currently visible, even for an existing fabric currently in process of being updated.`,xref:{document:"core",section:"11.18.6.11.1"}}),o({name:"FabricIndex",id:254,type:"FabricIndex"})]}),U({name:"RemoveFabric",id:10,access:"A",conformance:"M",direction:"request",response:"NocResponse",details:`This command is used by Administrators to remove a given Fabric and delete all associated fabric-scoped data.
If the given Fabric being removed is the last one to reference a given Trusted Root CA Certificate stored in the Trusted Root Certificates list, then that Trusted Root Certificate shall be removed.
WARNING
This command, if referring to an already existing Fabric not under the control of the invoking Administrator, shall ONLY be invoked after obtaining some form of explicit user consent through some method executed by the Administrator or Commissioner. This method of obtaining consent SHOULD employ as much data as possible about the existing Fabric associations within the Fabrics list, so that likelihood is as small as possible of a user removing a Fabric unwittingly. If a method exists for an Administrator or Commissioner to convey Fabric Removal to an entity related to that Fabric, whether in-band or out-of-band, then this method SHOULD be used to notify the other Administrative Domain\u2019s party of the removal. Otherwise, users may only observe the removal of a Fabric association as persistently failing attempts to reach a Node operationally.`,xref:{document:"core",section:"11.18.6.12"},children:[o({name:"FabricIndex",id:0,type:"fabric-idx",conformance:"M",constraint:"1 to 254",details:`This field shall contain the Fabric Index reference (see fabric-index) associated with the Fabric which is to be removed from the device.
Effect on Receipt
If the FabricIndex field does not match the FabricIndex of any entry within the Fabrics list, then an NOCResponse with a StatusCode of InvalidFabricIndex shall be returned for the command and there shall NOT be any permanent changes to any device data.
Otherwise, one of the following outcomes shall occur:
  1. If the FabricIndex matches the last remaining entry in the Fabrics list, then the device shall      delete all Matter related data on the node which was created since it was commissioned. This
includes all Fabric-Scoped data, including Access Control List, bindings, scenes, group keys, operational certificates, etc. All Trusted Roots shall also be removed. If a time synchronization cluster is present on the Node, the TrustedTimeSource and DefaultNtp shall be set to null. Any Matter related data including logs, secure sessions, exchanges and interaction model constructs shall also be removed. Since this operation involves the removal of the secure session data that may underpin the current set of exchanges, the Node invoking the command SHOULD NOT expect a response before terminating its secure session with the target.
2. If the FabricIndex does not equal the accessing fabric index, then the device shall begin the process of irrevocably deleting all associated Fabric-Scoped data, including Access Control List, bindings, group keys, operational certificates, etc. Any remaining Trusted Roots no longer referenced by any operational certificate shall also be removed. If a time synchronization cluster is present on the Node, and the TrustedTimeSource FabricIndex matches the given FabricIndex, the TrustedTimeSource shall be set to null. All secure sessions, exchanges and interaction model constructs related to the Operational Identity under the given Fabric shall also be removed. Following the removal, an NOCResponse with a StatusCode of OK shall be returned.
3. If the FabricIndex equals the accessing fabric index, then the device shall begin the process of irrevocably deleting all associated Fabric-Scoped data, including Access Control Entries, bindings, group keys, operational certificates, etc. Any remaining Trusted Roots no longer referenced by any operational certificate shall also be removed. If a time synchronization cluster is present on the Node, and the TrustedTimeSource FabricIndex matches the given FabricIndex, the TrustedTimeSource shall be set to null. All secure sessions, exchanges and interaction model constructs related to the Operational Identity under the given Fabric shall also be removed. Since this operation involves the removal of the secure session data that may underpin the current set of exchanges, the Node invoking the command SHOULD NOT expect a response before terminating its secure session with the target.`,xref:{document:"core",section:"11.18.6.12.1"}})]}),U({name:"AddTrustedRootCertificate",id:11,access:"A",conformance:"M",direction:"request",response:"status",details:`This command shall add a Trusted Root CA Certificate, provided as its Matter Certificate Encoding representation, to the TrustedRootCertificates Attribute list and shall ensure the next AddNOC command executed uses the provided certificate as its root of trust.
If the certificate from the RootCACertificate field is already installed, based on exact byte-for-byte equality, then this command shall succeed with no change to the list.
If this command is received without an armed fail-safe context (see Section 11.10.6.2, \u201CArmFailSafe Command\u201D), then this command shall fail with a FAILSAFE_REQUIRED status code sent back to the initiator.
If a prior AddTrustedRootCertificate command was successfully invoked within the fail-safe timer period, which would cause the new invocation to add a second root certificate within a given fail- safe timer period, then this command shall fail with a CONSTRAINT_ERROR status code sent back to the initiator.
If a prior UpdateNOC or AddNOC command was successfully executed within the fail-safe timer period, then this command shall fail with a CONSTRAINT_ERROR status code sent back to the initiator.
If the certificate from the RootCACertificate field fails any validity checks, not fulfilling all the requirements for a valid Matter Certificate Encoding representation, including a truncated or oversize value, then this command shall fail with an INVALID_COMMAND status code sent back to the initiator.
Note that the only method of removing a trusted root is by removing the Fabric that uses it as its root of trust using the RemoveFabric command.`,xref:{document:"core",section:"11.18.6.13"},children:[o({name:"RootCaCertificate",id:0,type:"octstr",conformance:"M",constraint:"max 400"})]}),C({name:"CertificateChainTypeEnum",type:"enum8",details:"This enumeration is used by the CertificateChainRequest command to convey which certificate from the device attestation certificate chain to transmit back to the client.",xref:{document:"core",section:"11.18.4.2"},children:[o({name:"DacCertificate",id:1,conformance:"M",description:"Request the DER- encoded DAC certificate"}),o({name:"PaiCertificate",id:2,conformance:"M",description:"Request the DER- encoded PAI certificate"})]}),C({name:"NodeOperationalCertStatusEnum",type:"enum8",details:"This enumeration is used by the NOCResponse common response command to convey detailed outcome of several of this cluster\u2019s operations.",xref:{document:"core",section:"11.18.4.3"},children:[o({name:"Ok",id:0,conformance:"M",description:"OK, no error"}),o({name:"InvalidPublicKey",id:1,conformance:"M",description:"Public Key in the NOC does not match the public key in the NOCSR"}),o({name:"InvalidNodeOpId",id:2,conformance:"M",description:"The Node Operational ID in the NOC is not formatted correctly."}),o({name:"InvalidNoc",id:3,conformance:"M",description:"Any other validation error in NOC chain"}),o({name:"MissingCsr",id:4,conformance:"M",description:"No record of prior CSR for which this NOC could match"}),o({name:"TableFull",id:5,conformance:"M",description:"NOCs table full, cannot add another one"}),o({name:"InvalidAdminSubject",id:6,conformance:"M",description:"Invalid CaseAdminSubject field for an AddNOC command."}),o({name:"FabricConflict",id:9,conformance:"M",description:"Trying to AddNOC instead of UpdateNOC against an existing Fabric."}),o({name:"LabelConflict",id:10,conformance:"M",description:"Label already exists on another Fabric."}),o({name:"InvalidFabricIndex",id:11,conformance:"M",description:"FabricIndex argument is invalid."})]}),C({name:"NOCStruct",type:"struct",details:`This encodes a fabric sensitive NOC chain, underpinning a commissioned Operational Identity for a given Node.
Note that the Trusted Root CA Certificate is not included in this structure. The roots are available in the TrustedRootCertificates attribute of the Node Operational Credentials cluster.`,xref:{document:"core",section:"11.18.4.4"},children:[o({name:"Noc",id:1,type:"octstr",access:"S",conformance:"M",constraint:"max 400",details:"This field shall contain the NOC for the struct\u2019s associated fabric, encoded using Matter Certificate Encoding.",xref:{document:"core",section:"11.18.4.4.1"}}),o({name:"Icac",id:2,type:"octstr",access:"S",conformance:"M",constraint:"max 400",quality:"X",details:"This field shall contain the ICAC or the struct\u2019s associated fabric, encoded using Matter Certificate Encoding. If no ICAC is present in the chain, this field shall be set to null.",xref:{document:"core",section:"11.18.4.4.2"}}),o({name:"FabricIndex",id:254,type:"FabricIndex"})]}),C({name:"FabricDescriptorStruct",type:"struct",details:"This structure encodes a Fabric Reference for a fabric within which a given Node is currently commissioned.",xref:{document:"core",section:"11.18.4.5"},children:[o({name:"RootPublicKey",id:1,type:"octstr",access:"F",conformance:"M",constraint:"65",details:"This field shall contain the public key for the trusted root that scopes the fabric referenced by FabricIndex and its associated operational credential (see Section 6.4.5.3, \u201CTrusted Root CA Certificates\u201D). The format for the key shall be the same as that used in the ec-pub-key field of the Matter Certificate Encoding for the root in the operational certificate chain.",xref:{document:"core",section:"11.18.4.5.1"}}),o({name:"VendorId",id:2,type:"vendor-id",access:"F",conformance:"M",constraint:"desc",details:`This field shall contain the value of AdminVendorID provided in the AddNOC command that led to the creation of this FabricDescriptorStruct. The set of allowed values is defined in AdminVendorID.
The intent is to provide some measure of user transparency about which entities have Administer privileges on the Node.`,xref:{document:"core",section:"11.18.4.5.2"}}),o({name:"FabricId",id:3,type:"fabric-id",access:"F",conformance:"M",details:"This field shall contain the FabricID allocated to the fabric referenced by FabricIndex. This field shall match the value found in the matter-fabric-id field from the operational certificate providing the operational identity under this Fabric.",xref:{document:"core",section:"11.18.4.5.3"}}),o({name:"NodeId",id:4,type:"node-id",access:"F",conformance:"M",details:"This field shall contain the NodeID in use within the fabric referenced by FabricIndex. This field shall match the value found in the matter-node-id field from the operational certificate providing this operational identity.",xref:{document:"core",section:"11.18.4.5.4"}}),o({name:"Label",id:5,type:"string",access:"F",conformance:"M",constraint:"max 32",default:"",details:"This field shall contain a commissioner-set label for the fabric referenced by FabricIndex. This label is set by the UpdateFabricLabel command.",xref:{document:"core",section:"11.18.4.5.5"}}),o({name:"FabricIndex",id:254,type:"FabricIndex"})]})]});A.children.push(PC);var kC=ie({name:"AdministratorCommissioning",id:60,classification:"node",pics:"CADMIN",details:`This cluster is used to trigger a Node to allow a new Administrator to commission it. It defines Attributes, Commands and Responses needed for this purpose.
There are two methods of commissioning, Basic Commissioning which may be supported and is described in Section 5.6.2, \u201CBasic Commissioning Method (BCM)\u201D and Enhanced Commissioning which shall be supported and is described in Section 5.6.3, \u201CEnhanced Commissioning Method (ECM)\u201D.
For the management of Operational Credentials and Trusted Root Certificates, the Node Operational Credentials cluster is used.`,xref:{document:"core",section:"11.19"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"FeatureMap",id:65532,type:"FeatureMap",xref:{document:"core",section:"11.19.4"},children:[o({name:"BC",constraint:"0",description:"Basic",details:"Node supports Basic Commissioning Method."})]}),p({name:"WindowStatus",id:0,type:"CommissioningWindowStatusEnum",access:"R V",conformance:"M",details:`Indicates whether a new Commissioning window has been opened by an Administrator, using either the OCW command or the OBCW command.
This attribute shall revert to WindowNotOpen upon expiry of a commissioning window.
Note that an initial commissioning window is not opened using either the OCW command or the OBCW command, and therefore this attribute shall be set to WindowNotOpen on initial commissioning.`,xref:{document:"core",section:"11.19.7.1"}}),p({name:"AdminFabricIndex",id:1,type:"fabric-idx",access:"R V",conformance:"M",quality:"X",details:`When the WindowStatus attribute is not set to WindowNotOpen, this attribute shall indicate the FabricIndex associated with the Fabric scoping of the Administrator that opened the window. This may be used to cross-reference in the Fabrics attribute of the Node Operational Credentials cluster.
If, during an open commissioning window, the fabric for the Administrator that opened the window is removed, then this attribute shall be set to null.
When the WindowStatus attribute is set to WindowNotOpen, this attribute shall be set to null.`,xref:{document:"core",section:"11.19.7.2"}}),p({name:"AdminVendorId",id:2,type:"vendor-id",access:"R V",conformance:"M",quality:"X",details:`When the WindowStatus attribute is not set to WindowNotOpen, this attribute shall indicate the Vendor ID associated with the Fabric scoping of the Administrator that opened the window. This field shall match the VendorID field of the Fabrics attribute list entry associated with the Administrator having opened the window, at the time of window opening. If the fabric for the Administrator that opened the window is removed from the node while the commissioning window is still open, this attribute shall NOT be updated.
When the WindowStatus attribute is set to WindowNotOpen, this attribute shall be set to null.`,xref:{document:"core",section:"11.19.7.3"}}),U({name:"OpenCommissioningWindow",id:0,access:"A T",conformance:"M",direction:"request",response:"status",details:`This command is used by a current Administrator to instruct a Node to go into commissioning mode. The Enhanced Commissioning Method specifies a window of time during which an already commissioned Node accepts PASE sessions. The current Administrator MUST specify a timeout value for the duration of OCW.
When OCW expires or commissioning completes, the Node shall remove the Passcode by deleting the PAKE passcode verifier as well as stop publishing the DNS-SD record corresponding to this command as described in Section 4.3.1, \u201CCommissionable Node Discovery\u201D. The commissioning into a new Fabric completes when the Node successfully receives a CommissioningComplete command, see Section 5.5, \u201CCommissioning Flows\u201D.
The parameters for OpenCommissioningWindow command are as follows:
A current Administrator may invoke this command to put a node in commissioning mode for the next Administrator. On completion, the command shall return a cluster specific status code from the Section 11.19.6, \u201CStatus Codes\u201D below reflecting success or reasons for failure of the operation. The new Administrator shall discover the Node on the IP network using DNS-based Service Discovery (DNS-SD) for commissioning.
If any format or validity errors related to the PAKEPasscodeVerifier, Iterations or Salt arguments arise, this command shall fail with a cluster specific status code of PAKEParameterError.
If a commissioning window is already currently open, this command shall fail with a cluster specific status code of Busy.
If the fail-safe timer is currently armed, this command shall fail with a cluster specific status code of Busy, since it is likely that concurrent commissioning operations from multiple separate Commissioners are about to take place.
In case of any other parameter error, this command shall fail with a status code of COMMAND_INVALID.`,xref:{document:"core",section:"11.19.8.1"},children:[o({name:"CommissioningTimeout",id:0,type:"uint16",conformance:"M",constraint:"desc",details:"This field shall specify the time in seconds during which commissioning session establishment is allowed by the Node. This is known as Open Commissioning Window (OCW). This timeout value shall follow guidance as specified in the initial Announcement Duration. The CommissioningTimeout applies only to cessation of any announcements and to accepting of new commissioning sessions; it does not apply to abortion of connections, i.e., a commissioning session SHOULD NOT abort prematurely upon expiration of this timeout.",xref:{document:"core",section:"11.19.8.1.1"}}),o({name:"PakePasscodeVerifier",id:1,type:"octstr",conformance:"M",constraint:"97",details:"This field shall specify an ephemeral PAKE passcode verifier (see Section 3.10, \u201CPassword-Authenticated Key Exchange (PAKE)\u201D) computed by the existing Administrator to be used for this commissioning. The field is concatenation of two values (w0 || L) shall be (CRYPTO_GROUP_SIZE_BYTES + CRYPTO_PUBLIC_KEY_SIZE_BYTES)-octets long as detailed in Crypto_PAKEValues_Responder. It shall be derived from an ephemeral passcode (See PAKE). It shall be deleted by the Node at the end of commissioning or expiration of OCW, and shall be deleted by the existing Administrator after sending it to the Node(s).",xref:{document:"core",section:"11.19.8.1.2"}}),o({name:"Discriminator",id:2,type:"uint16",conformance:"M",constraint:"0 to 4095",details:"This field shall be used by the Node as the long discriminator for DNS-SD advertisement (see Commissioning Discriminator) for discovery by the new Administrator. The new Administrator can find and filter DNS-SD records by long discriminator to locate and initiate commissioning with the appropriate Node.",xref:{document:"core",section:"11.19.8.1.3"}}),o({name:"Iterations",id:3,type:"uint32",conformance:"M",constraint:"1000 to 100000",details:`This field shall be used by the Node as the PAKE iteration count associated with the ephemeral PAKE passcode verifier to be used for this commissioning, which shall be sent by the Node to the new Administrator\u2019s software as response to the PBKDFParamRequest during PASE negotiation.
The permitted range of values shall match the range specified in Section 3.9, \u201CPassword-Based Key Derivation Function (PBKDF)\u201D, within the definition of the Crypto_PBKDFParameterSet.`,xref:{document:"core",section:"11.19.8.1.4"}}),o({name:"Salt",id:4,type:"octstr",conformance:"M",constraint:"16 to 32",details:`This field shall be used by the Node as the PAKE Salt associated with the ephemeral PAKE passcode verifier to be used for this commissioning, which shall be sent by the Node to the new Administrator\u2019s software as response to the PBKDFParamRequest during PASE negotiation. The constraints on the value shall match those specified in Section 3.9, \u201CPassword-Based Key Derivation Function (PBKDF)\u201D, within the definition of the Crypto_PBKDFParameterSet.
When a Node receives the Open Commissioning Window command, it shall begin advertising on DNS-SD as described in Section 4.3.1, \u201CCommissionable Node Discovery\u201D and for a time period as described in Section 11.19.8.1.1, \u201CCommissioningTimeout Field\u201D. When the command is received by a ICD, it shall enter into active mode. The ICD shall remain in Active Mode as long as one of these conditions is met:
  \u2022 A commissioning window is open.
  \u2022 There is an armed fail-safe timer.`,xref:{document:"core",section:"11.19.8.1.5"}})]}),U({name:"OpenBasicCommissioningWindow",id:1,access:"A T",conformance:"BC",direction:"request",response:"status",details:`This command may be used by a current Administrator to instruct a Node to go into commissioning mode, if the node supports the Basic Commissioning Method. The Basic Commissioning Method specifies a window of time during which an already commissioned Node accepts PASE sessions. The current Administrator shall specify a timeout value for the duration of OBCW.
If a commissioning window is already currently open, this command shall fail with a cluster specific status code of Busy.
If the fail-safe timer is currently armed, this command shall fail with a cluster specific status code of Busy, since it is likely that concurrent commissioning operations from multiple separate Commissioners are about to take place.
In case of any other parameter error, this command shall fail with a status code of COMMAND_INVALID.
The commissioning into a new Fabric completes when the Node successfully receives a CommissioningComplete command, see Section 5.5, \u201CCommissioning Flows\u201D. The new Administrator shall discover the Node on the IP network using DNS-based Service Discovery (DNS-SD) for commissioning.`,xref:{document:"core",section:"11.19.8.2"},children:[o({name:"CommissioningTimeout",id:0,type:"uint16",conformance:"M",constraint:"desc",details:`This field shall specify the time in seconds during which commissioning session establishment is allowed by the Node. This is known as Open Basic Commissioning Window (OBCW). This timeout shall follow guidance as specified in the initial Announcement Duration.
When a Node receives the Open Basic Commissioning Window command, it shall begin advertising on DNS-SD as described in Section 4.3.1, \u201CCommissionable Node Discovery\u201D and for a time period as described in Section 11.19.8.2.1, \u201CCommissioningTimeout Field\u201D. When the command is received by a ICD, it shall enter into active mode. The ICD shall remain in Active Mode as long as one of these conditions is met:
  \u2022 A commissioning window is open.
  \u2022 There is an armed fail-safe timer.`,xref:{document:"core",section:"11.19.8.2.1"}})]}),U({name:"RevokeCommissioning",id:2,access:"A T",conformance:"M",direction:"request",response:"status",details:`This command is used by a current Administrator to instruct a Node to revoke any active Open Commissioning Window or Open Basic Commissioning Window command. This is an idempotent command and the Node shall (for ECM) delete the temporary PAKEPasscodeVerifier and associated data, and stop publishing the DNS-SD record associated with the Open Commissioning Window or Open Basic Commissioning Window command, see Section 4.3.1, \u201CCommissionable Node Discovery\u201D.
If no commissioning window was open at time of receipt, this command shall fail with a cluster specific status code of WindowNotOpen.
If the commissioning window was open and the fail-safe was armed when this command is received, the device shall immediately expire the fail-safe and perform the cleanup steps outlined in Section 11.10.6.2.2, \u201CBehavior on expiry of Fail-Safe timer\u201D.`,xref:{document:"core",section:"11.19.8.3"}}),C({name:"CommissioningWindowStatusEnum",type:"enum8",xref:{document:"core",section:"11.19.5.1"},children:[o({name:"WindowNotOpen",id:0,conformance:"M",description:"Commissioning window not open"}),o({name:"EnhancedWindowOpen",id:1,conformance:"M",description:"An Enhanced Commissioning Method window is open"}),o({name:"BasicWindowOpen",id:2,conformance:"BC",description:"A Basic Commissioning Method window is open"})]}),C({name:"StatusCodeEnum",type:"enum8",xref:{document:"core",section:"11.19.6.1"},children:[o({name:"Busy",id:2,description:"Could not be completed because another commissioning is in progress"}),o({name:"PakeParameterError",id:3,description:"Provided PAKE parameters were incorrectly formatted or otherwise invalid"}),o({name:"WindowNotOpen",id:4,description:"No commissioning window was currently open"})]})]});A.children.push(kC);var FC=ie({name:"OtaSoftwareUpdateProvider",id:41,classification:"node",pics:"OTAP",xref:{document:"core",section:"11.20.6"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),U({name:"QueryImage",id:0,access:"O",conformance:"M",direction:"request",response:"QueryImageResponse",details:"Upon receipt, this command shall trigger an attempt to find an updated Software Image by the OTA Provider to match the OTA Requestor\u2019s constraints provided in the payload fields.",xref:{document:"core",section:"11.20.6.5.1"},children:[o({name:"VendorId",id:0,type:"vendor-id",conformance:"M",details:"The value shall be the Vendor ID applying to the OTA Requestor\u2019s Node and shall match the value reported by the Basic Information Cluster VendorID attribute.",xref:{document:"core",section:"11.20.6.5.1.1"}}),o({name:"ProductId",id:1,type:"uint16",conformance:"M",details:"The value shall be the Product ID applying to the OTA Requestor\u2019s Node and shall match the value reported by the Basic Information Cluster ProductID attribute.",xref:{document:"core",section:"11.20.6.5.1.2"}}),o({name:"SoftwareVersion",id:2,type:"uint32",conformance:"M",details:"The SoftwareVersion included in the request payload shall provide the value representing the current version running on the OTA Requestor invoking the command. This version shall be equal to the Software Version attribute of the Basic Information Cluster.",xref:{document:"core",section:"11.20.6.5.1.3"}}),o({name:"ProtocolsSupported",id:3,type:"list",conformance:"M",constraint:"max 8",details:`This field shall contain a list of all download protocols supported by the OTA Requestor.
This field shall be used by the OTA Provider to generate the correct URI for the location of the Software Image when one is found to be available. The values of BDX Synchronous and BDX Asynchronous shall always be supported by an OTA Provider. Furthermore, OTA Providers with access to external networking SHOULD support the HTTPS protocol. OTA Providers may support other protocols.
The algorithm to select the specific protocol to use in a given Software Image URI is implementation-dependent, provided that the rules in Section 11.20.3.3.1, \u201CDownload Protocol selection\u201D are followed.
See Section 11.20.3.2, \u201CQuerying the OTA Provider\u201D and Section 11.20.3.5, \u201CTransfer of OTA Software Update images\u201D for more details about usage of this field.`,xref:{document:"core",section:"11.20.6.5.1.4"},children:[o({name:"entry",type:"DownloadProtocolEnum"})]}),o({name:"HardwareVersion",id:4,type:"uint16",conformance:"O",details:"The value of this field, if present, shall contain the OTA Requestor\u2019s hardware version, and shall be equal to the HardwareVersion attribute of the Basic Information Cluster.",xref:{document:"core",section:"11.20.6.5.1.5"}}),o({name:"Location",id:5,type:"string",conformance:"O",constraint:"2",details:"The location, if present, shall provide the same value as the Basic Information Cluster Location attribute for the OTA Requestor as configured. This may be used by the OTA Provider logic to allow per-region selection of the Software Image.",xref:{document:"core",section:"11.20.6.5.1.6"}}),o({name:"RequestorCanConsent",id:6,type:"bool",conformance:"O",default:!1,details:`This field shall be set to true by an OTA Requestor that is capable of obtaining user consent for OTA application by virtue of built-in user interface capabilities. Otherwise, it shall be false.
See Section 11.20.3.4, \u201CObtaining user consent for updating software\u201D for application details about usage.`,xref:{document:"core",section:"11.20.6.5.1.7"}}),o({name:"MetadataForProvider",id:7,type:"octstr",conformance:"O",constraint:"max 512",details:`This optional field, if present, shall consist of a top-level anonymous list; each list element shall have a profile-specific tag encoded in fully-qualified form. Each list element shall contain a manufacturer-specific payload, which the OTA Requestor invoking this command wants to expose to the receiving OTA Provider. This payload may be used for any purpose and SHOULD be as small as practical.
The use of this field SHOULD be restricted to Vendor-specific usage and shall NOT be used as a selector required to match for the selection of a Software Image in production environments, unless absolutely necessary, as the interpretation of this field may be ambiguous to OTA Providers implementing the Cluster in a compliant but divergent way from the sender.
An example of usage for this field is for an OTA Requestor to provide specific data about grouping or authentication in field trial environments, where the OTA Provider is likely to understand it and be able to act upon it, either for special selection of image, or recording of activity.
An OTA Provider shall report the availability of Software Images, if one is found to be applicable using the other provided fields, even if the MetadataForProvider field is deemed to contain invalid or unknown information. That is, the contents of the MetadataForProvider field shall NOT be used to deny a software update to an OTA Requestor, unless both OTA Requestor and OTA Provider have an externally agreed-upon policy whereby strictly correct additional MetadataForProvider is expected to fulfill the OTA Software Update process.
Usage of the QueryImage Command
OTA Requestors shall send a QueryImage command to the OTA Provider to determine the availability of a new Software Image.
See Section 11.20.3.2, \u201CQuerying the OTA Provider\u201D for full details about the OTA Software Update Query flow which makes use of this command.`,xref:{document:"core",section:"11.20.6.5.1.8"}})]}),U({name:"QueryImageResponse",id:1,conformance:"M",direction:"response",xref:{document:"core",section:"11.20.6.5.2"},children:[o({name:"Status",id:0,type:"StatusEnum",conformance:"M",details:`This field shall contain the primary response regarding the availability of a Software Image.
See Section 11.20.3.2, \u201CQuerying the OTA Provider\u201D for details about the possible values for this field and their meaning.`,xref:{document:"core",section:"11.20.6.5.2.1"}}),o({name:"DelayedActionTime",id:1,type:"uint32",conformance:"O",details:`This field shall convey the minimum time to wait, in seconds from the time of this response, before sending another QueryImage command or beginning a download from the OTA Provider. OTA Requestors shall respect this minimum delay, unless they had previously restarted and lost track of it. OTA Providers SHOULD expect OTA Requestors to follow this value to their best capability, however, a restarting Node may come back sooner, due to having lost track of this state response.
The DelayedActionTime field shall only be present if the Status field is set to Busy.
See Section 11.20.3.2, \u201CQuerying the OTA Provider\u201D for details about the rules regarding this field.`,xref:{document:"core",section:"11.20.6.5.2.2"}}),o({name:"ImageUri",id:2,type:"string",conformance:"O",constraint:"max 256",details:`This field, when present, shall contain a URI where the OTA Requestor SHOULD download a Software Image. The syntax of the ImageURI field shall follow the URI syntax as specified in RFC 3986.
This field shall be present if it appears in a QueryImageResponse with a Status of UpdateAvailable.
If the ImageURI specifies a BDX Protocol bdx: scheme, then the following rules describe the location to be used for download:
  1. The URI\u2019s scheme field shall be exactly bdx in lowercase characters.
  2. The URI\u2019s authority field shall contain only the host portion and shall use string      representation of the Operational Node ID of the Node where to proceed with the download, on      the same Fabric on which the OTA Requestor received the QueryImageResponse.
  3. The encoding of the Node ID in the host field shall use an uppercase hexadecimal format, using      exactly 16 characters to encode the network byte order value of the NodeID, in a similar      fashion as the Node Identifier portion of the Operational Instance Name.
    a. The Operational Node ID in the host field shall match the NodeID of the OTA Provider        responding with the QueryImageResponse. The usage of a different Node ID than that of the        provider is reserved for future use. This constraint reduces the number of independent
CASE secure channel sessions that have to be maintained to proceed with OTA software updates, thus reducing energy and resource utilization for the software update process.
4. The user section of the authority field shall be absent, as there are no "users" to be considered.
5. The port section of the authority field shall be absent, as the port for transport shall be determined through Operational Discovery of the target Node.
6. The URI shall not contain a query field.
7. The URI shall not contain a fragment field.
8. The path field shall employ absolute path representation and shall contain the file designator of the software image to download at the BDX server. When used with the BDX server, the leading / separating the URI authority from the path shall be omitted. When contacting the BDX server, further processing of the file designator shall NOT be done, including handling of URL-encoded escape sequences. Rather, the exact octets of the path, as received shall be the values used by both client and server in handling the file designator.
  a. The path shall only contain valid URI characters.
These rules above for BDX URIs simplify parsing for OTA Requestors receiving Image URIs. The following example procedure shows how the format constraints simplify the extraction of the necessary data to reach the BDX server for download.
  1. Verify that the URI is 24 characters or longer, which is the minimum length of a valid BDX URI      with all elements present, for example bdx://00112233AABBCCDD/0.
  2. Verify the presence of prefix bdx:// indicating a BDX URI.
  3. Extract the next 16 characters and convert from uppercase hexadecimal to a 64-bit scalar      value, considering network byte order. This is the destination Node ID.
  4. Verify the presence of a path separator / and skip it.
  5. Extract the remaining characters of the string as the file designator to employ when      initiating the BDX transfer.
Example ImageURI values are below, and illustrate some but not all of valid and invalid cases:
  \u2022 Synchronous or Asynchronous BDX Protocol:
    \u25E6 Valid: bdx://8899AABBCCDDEEFF/the_file_designator123
      \u25AA Node ID: 0x8899AABBCCDDEEFF
      \u25AA File designator: the_file_designator123
    \u25E6 Valid: bdx://0099AABBCCDDEE77/the%20file%20designator/some_more
      \u25AA Node ID: 0x0099AABBCCDDEE77
      \u25AA File designator: the%20file%20designator/some_more. Note that the %20 are retained and not         converted to ASCII 0x20 (space). The file designator is the path as received verbatim,         after the first '/' (U+002F / SOLIDUS) following the host.
    \u25E6 Invalid: bdx://99AABBCCDDEE77/the_file_designator123
      \u25AA Node ID: Invalid since it is not exactly 16 characters long, due to having omitted leading         zeros.
    \u25E6 Invalid: bdx://0099aabbccddee77/the_file_designator123
      \u25AA Node ID: Invalid since lowercase hexadecimal was used.
    \u25E6 Invalid: bdx:8899AABBCCDDEEFF/the_file_designator123
      \u25AA Invalid since bdx scheme does not contain an authority, that is, it does not have // after         the first :.
  \u2022 HTTP over TLS:
    \u25E6 Valid: https://example.domain:8466/software/image.bin
See Section 11.20.3.2, \u201CQuerying the OTA Provider\u201D for additional details about the flow.`,xref:{document:"core",section:"11.20.6.5.2.3"}}),o({name:"SoftwareVersion",id:3,type:"uint32",conformance:"O",details:`This field indicates the version of the image being provided to the OTA Requestor by the OTA Provider when the Status is UpdateAvailable.
This field shall be present if it appears in a QueryImageResponse with a Status of UpdateAvailable.
See Section 11.20.3.2, \u201CQuerying the OTA Provider\u201D for additional details about the flow and acceptable values.`,xref:{document:"core",section:"11.20.6.5.2.4"}}),o({name:"SoftwareVersionString",id:4,type:"string",conformance:"O",constraint:"1 to 64",details:`This field provides a string version of the image being provided to the OTA Requestor by the OTA Provider when the Status is UpdateAvailable.
This field shall be present if it appears in a QueryImageResponse with a Status of UpdateAvailable.
See Section 11.20.3.2, \u201CQuerying the OTA Provider\u201D for additional details about the flow and acceptable values.`,xref:{document:"core",section:"11.20.6.5.2.5"}}),o({name:"UpdateToken",id:5,type:"octstr",conformance:"O",constraint:"8 to 32",details:`This optional field shall be present when the Status field contains UpdateAvailable.
See Section 11.20.3.6.1, \u201CUpdateToken usage\u201D for additional details about the generation and usage of UpdateToken.`,xref:{document:"core",section:"11.20.6.5.2.6"}}),o({name:"UserConsentNeeded",id:6,type:"bool",conformance:"O",default:!1,details:`This field, if present, shall only be interpreted if the OTA Requestor had previously indicated a value of True in the RequestorCanConsent field of the QueryImageRequest. This field, when present and set to True, shall indicate that a capable OTA Requestor must obtain user-visible consent prior to downloading the OTA Software Image.
See Section 11.20.3.4, \u201CObtaining user consent for updating software\u201D for application details about usage.`,xref:{document:"core",section:"11.20.6.5.2.7"}}),o({name:"MetadataForRequestor",id:7,type:"octstr",conformance:"O",constraint:"max 512",details:`This optional field, if present, shall consist of a top-level anonymous list; each list element shall have a profile-specific tag encoded in fully-qualified form. Each list element shall contain a manufacturer-specific payload, which the OTA Provider wants to expose to the receiving OTA Requestor. This payload may be used for any purpose and SHOULD be as small as practical.
The presence of this field shall NOT be required for correct operation of any OTA Provider compliant with this Cluster specification.
The data for this field does not exist in any Distributed Compliance Ledger record and SHOULD only be emitted by an OTA Provider with this additional knowledge if it has knowledge that the receiving OTA Requestor may be able to use it.`,xref:{document:"core",section:"11.20.6.5.2.8"}})]}),U({name:"ApplyUpdateRequest",id:2,access:"O",conformance:"M",direction:"request",response:"ApplyUpdateResponse",xref:{document:"core",section:"11.20.6.5.3"},children:[o({name:"UpdateToken",id:0,type:"octstr",conformance:"M",constraint:"8 to 32",details:"This field shall contain the UpdateToken as specified in Section 11.20.3.6.1, \u201CUpdateToken usage\u201D. This field may be used by the OTA Provider to track minimal lifecycle state to allow finer-grained scheduling of the application of Software Images by OTA Requestors.",xref:{document:"core",section:"11.20.6.5.3.1"}}),o({name:"NewVersion",id:1,type:"uint32",conformance:"M",details:`The NewVersion field included in the request payload shall provide the SoftwareVersion value of the new Software Image which the OTA Requestor is ready to start applying. The OTA Provider may use this new version to track or record Software Image application by OTA Requestors.
When Generated
The ApplyUpdateRequest Command shall be invoked by an OTA Requestor once it is ready to apply a previously downloaded Software Image.
Effect on Receipt
Upon receipt of this command the OTA Provider shall respond with an Action field consistent with the next action the OTA Requestor should take, including any possible time delay.
The OTA Provider shall NOT refer to previously stored state about any download progress to reply. If any state keeping is done by the OTA Provider, it shall only relate to the UpdateToken and the history of prior ApplyUpdateRequest commands.
See Section 11.20.3.6, \u201CApplying a software update\u201D for a description of the flow in response to an OTA Provider receiving an invocation of this command.
Handling Error Cases
See Section 11.20.3.6, \u201CApplying a software update\u201D for all error-handling information.`,xref:{document:"core",section:"11.20.6.5.3.2"}})]}),U({name:"ApplyUpdateResponse",id:3,conformance:"M",direction:"response",xref:{document:"core",section:"11.20.6.5.4"},children:[o({name:"Action",id:0,type:"ApplyUpdateActionEnum",conformance:"M",details:"The Action field shall express the action that the OTA Provider requests from the OTA Requestor. See Section 11.20.3.6, \u201CApplying a software update\u201D for a description of the Action values provided in response to an OTA Provider receiving an invocation of this command.",xref:{document:"core",section:"11.20.6.5.4.1"}}),o({name:"DelayedActionTime",id:1,type:"uint32",conformance:"M",details:`The minimum time period the OTA Requestor shall wait before executing the Action, in seconds from receipt.
If this field has a value higher than 86400 seconds (24 hours), then the OTA Requestor may assume a value of 86400, in order to reduce undue Software Image application delays.`,xref:{document:"core",section:"11.20.6.5.4.2"}})]}),U({name:"NotifyUpdateApplied",id:4,access:"O",conformance:"M",direction:"request",response:"status",xref:{document:"core",section:"11.20.6.5.5"},children:[o({name:"UpdateToken",id:0,type:"octstr",conformance:"M",constraint:"8 to 32",details:"This field shall contain the UpdateToken as specified in Section 11.20.3.6.1, \u201CUpdateToken usage\u201D.",xref:{document:"core",section:"11.20.6.5.5.1"}}),o({name:"SoftwareVersion",id:1,type:"uint32",conformance:"M",details:`The SoftwareVersion included in the request payload shall provide the same value as the SoftwareVersion attribute in the invoking OTA Requestor\u2019s Basic Information Cluster, and SHOULD be consistent with the value representing a new version running on the Node invoking the command.
When Generated
The NotifyUpdateApplied command SHOULD be invoked in the following two circumstances:
  1. An OTA Requestor has just successfully applied a Software Image it had obtained from a      previous QueryImage response.
  2. An OTA Requestor has just successfully applied a Software Image it had obtained through means      different than those of this Cluster.
An OTA Provider may use the state of invocation of this command to help track the progress of update for OTA Requestors it knows require a new OTA Software Image. However, due to the possibility that an OTA Requestor may never come back (e.g. device removed from Fabric altogether, or a critical malfunction), an OTA Provider shall NOT expect every OTA Requestor to invoke this command for correct operation of the OTA Provider.
This command shall be considered optional and shall not result in reduced availability of the OTA Provider functionality if OTA Requestors never invoke this command.
Effect on Receipt
An OTA Provider receiving an invocation of this command may log it internally.
On receiving this command, an OTA Provider may use the information to update its bookkeeping of cached Software Images, or use it for other similar administrative purposes.`,xref:{document:"core",section:"11.20.6.5.5.2"}})]}),C({name:"StatusEnum",type:"enum8",details:"See Section 11.20.3.2, \u201CQuerying the OTA Provider\u201D for the semantics of these values.",xref:{document:"core",section:"11.20.6.4.1"},children:[o({name:"UpdateAvailable",id:0,conformance:"M",description:"Indicates that the OTA Provider has an update available."}),o({name:"Busy",id:1,conformance:"M",description:"Indicates OTA Provider may have an update, but it is not ready yet."}),o({name:"NotAvailable",id:2,conformance:"M",description:"Indicates that there is definitely no update currently available from the OTA Provider."}),o({name:"DownloadProtocolNotSupported",id:3,conformance:"M",description:"Indicates that the requested download protocol is not supported by the OTA Provider."})]}),C({name:"ApplyUpdateActionEnum",type:"enum8",details:"See Section 11.20.3.6, \u201CApplying a software update\u201D for the semantics of the values. This enumeration is used in the Action field of the ApplyUpdateResponse command. See (Section 11.20.6.5.4.1, \u201CAction Field\u201D).",xref:{document:"core",section:"11.20.6.4.2"},children:[o({name:"Proceed",id:0,conformance:"M",description:"Apply the update."}),o({name:"AwaitNextAction",id:1,conformance:"M",description:"Wait at least the given delay time."}),o({name:"Discontinue",id:2,conformance:"M",description:"The OTA Provider is conveying a desire to rescind a previously provided Software Image."})]}),C({name:"DownloadProtocolEnum",type:"enum8",details:`Note that only HTTP over TLS (HTTPS) is supported (see RFC 7230). Using HTTP without TLS shall
NOT be supported, as there is no way to authenticate the involved participants.`,xref:{document:"core",section:"11.20.6.4.3"},children:[o({name:"BdxSynchronous",id:0,conformance:"M",description:"Indicates support for synchronous BDX."}),o({name:"BdxAsynchronous",id:1,conformance:"O",description:"Indicates support for asynchronous BDX."}),o({name:"Https",id:2,conformance:"O",description:"Indicates support for HTTPS."}),o({name:"VendorSpecific",id:3,conformance:"O",description:"Indicates support for vendor specific protocol."})]})]});A.children.push(FC);var LC=ie({name:"OtaSoftwareUpdateRequestor",id:42,classification:"node",pics:"OTAR",xref:{document:"core",section:"11.20.7"},children:[p({name:"ClusterRevision",id:65533,type:"ClusterRevision",default:1}),p({name:"DefaultOtaProviders",id:0,type:"list",access:"RW F VA",conformance:"M",constraint:"desc",default:[],details:`This field is a list of ProviderLocation whose entries shall be set by Administrators, either during Commissioning or at a later time, to set the ProviderLocation for the default OTA Provider Node to use for software updates on a given Fabric.
There shall NOT be more than one entry per Fabric. On a list update that would introduce more than one entry per fabric, the write shall fail with CONSTRAINT_ERROR status code.
Provider Locations obtained using the AnnounceOTAProvider command shall NOT overwrite values set in the DefaultOTAProviders attribute.`,xref:{document:"core",section:"11.20.7.5.1"},children:[o({name:"entry",type:"ProviderLocation"})]}),p({name:"UpdatePossible",id:1,type:"bool",access:"R V",conformance:"M",default:!0,details:"This field shall be set to True if the OTA Requestor is currently able to be updated. Otherwise, it shall be set to False in case of any condition preventing update being possible, such as insufficient capacity of an internal battery. This field is merely informational for diagnostics purposes and shall NOT affect the responses provided by an OTA Provider to an OTA Requestor.",xref:{document:"core",section:"11.20.7.5.2"}}),p({name:"UpdateState",id:2,type:"UpdateStateEnum",access:"R V",conformance:"M",default:0,details:`This field shall reflect the current state of the OTA Requestor with regards to obtaining software updates. See Section 11.20.7.4.2, \u201CUpdateStateEnum Type\u201D for possible values.
This field SHOULD be updated in a timely manner whenever OTA Requestor internal state updates.`,xref:{document:"core",section:"11.20.7.5.3"}}),p({name:"UpdateStateProgress",id:3,type:"uint8",access:"R V",conformance:"M",constraint:"0 to 100",default:null,quality:"X",details:`This field shall reflect the percentage value of progress, relative to the current UpdateState, if applicable to the state.
The value of this field shall be null if a progress indication does not apply to the current state.
A value of 0 shall indicate that the beginning has occurred. A value of 100 shall indicate completion.
This field may be updated infrequently. Some care SHOULD be taken by Nodes to avoid over- reporting progress when this attribute is part of a subscription.`,xref:{document:"core",section:"11.20.7.5.4"}}),Se({name:"StateTransition",id:0,access:"V",conformance:"M",priority:"info",details:"This event shall be generated when a change of the UpdateState attribute occurs due to an OTA Requestor moving through the states necessary to query for updates.",xref:{document:"core",section:"11.20.7.7.1"},children:[o({name:"PreviousState",id:0,type:"UpdateStateEnum",conformance:"M",default:0,details:"This field shall be set to the state that preceded the transition causing this event to be generated, if such a state existed. If no previous state exists, the value shall be Unknown.",xref:{document:"core",section:"11.20.7.7.1.1"}}),o({name:"NewState",id:1,type:"UpdateStateEnum",conformance:"M",details:"This field shall be set to the state now in effect through the transition causing this event to be generated.",xref:{document:"core",section:"11.20.7.7.1.2"}}),o({name:"Reason",id:2,type:"ChangeReasonEnum",conformance:"M",details:"This field shall be set to the reason why this event was generated.",xref:{document:"core",section:"11.20.7.7.1.3"}}),o({name:"TargetSoftwareVersion",id:3,type:"uint32",conformance:"M",default:null,quality:"X",details:"This field shall be set to the target SoftwareVersion which is the subject of the operation, whenever the NewState is Downloading, Applying or RollingBack. Otherwise TargetSoftwareVersion shall be null.",xref:{document:"core",section:"11.20.7.7.1.4"}})]}),Se({name:"VersionApplied",id:1,access:"V",conformance:"M",priority:"critical",details:"This event shall be generated whenever a new version starts executing after being applied due to a software update. This event SHOULD be generated even if a software update was done using means outside of this cluster.",xref:{document:"core",section:"11.20.7.7.2"},children:[o({name:"SoftwareVersion",id:0,type:"uint32",conformance:"M",details:"This field shall be set to the same value as the one available in the Software Version attribute of the Basic Information Cluster for the newly executing version.",xref:{document:"core",section:"11.20.7.7.2.1"}}),o({name:"ProductId",id:1,type:"uint16",conformance:"M",details:"This field shall be set to the ProductID applying to the executing version, as reflected by the Basic Information Cluster. This can be used to detect a product updating its definition due to a large-scale functional update that may impact aspects of the product reflected in the DeviceModel schema of the Distributed Compliance Ledger.",xref:{document:"core",section:"11.20.7.7.2.2"}})]}),Se({name:"DownloadError",id:2,access:"V",conformance:"M",priority:"info",details:"This event shall be generated whenever an error occurs during OTA Requestor download operation.",xref:{document:"core",section:"11.20.7.7.3"},children:[o({name:"SoftwareVersion",id:0,type:"uint32",conformance:"M",details:"This field shall be set to the value of the SoftwareVersion being downloaded, matching the SoftwareVersion field of the QueryImageResponse that caused the failing download to take place.",xref:{document:"core",section:"11.20.7.7.3.1"}}),o({name:"BytesDownloaded",id:1,type:"uint64",conformance:"M",details:"This field shall be set to the number of bytes that have been downloaded during the failing transfer that caused this event to be generated.",xref:{document:"core",section:"11.20.7.7.3.2"}}),o({name:"ProgressPercent",id:2,type:"uint8",conformance:"M",constraint:"0 to 100",default:null,quality:"X",details:"This field shall be set to the nearest integer percent value reflecting how far within the transfer the failure occurred during the failing transfer that caused this event to be generated, unless the total length of the transfer is unknown, in which case it shall be null.",xref:{document:"core",section:"11.20.7.7.3.3"}}),o({name:"PlatformCode",id:3,type:"int64",conformance:"M",default:null,quality:"X",details:"This field SHOULD be set to some internal product-specific error code, closest in temporal/functional proximity to the failure that caused this event to be generated. Otherwise, it shall be null. This event field may be used for debugging purposes and no uniform definition exists related to its meaning.",xref:{document:"core",section:"11.20.7.7.3.4"}})]}),U({name:"AnnounceOtaProvider",id:0,access:"A",conformance:"O",direction:"request",response:"status",details:`This command may be invoked by Administrators to announce the presence of a particular OTA Provider.
This command shall be scoped to the accessing fabric.
If the accessing fabric index is 0, this command shall fail with an UNSUPPORTED_ACCESS status code.`,xref:{document:"core",section:"11.20.7.6.1"},children:[o({name:"ProviderNodeId",id:0,type:"node-id",access:"F",conformance:"M",details:"This field shall contain the Node ID of a Node implementing the OTA Provider cluster server, on the accessing fabric.",xref:{document:"core",section:"11.20.7.6.1.1"}}),o({name:"VendorId",id:1,type:"vendor-id",access:"F",conformance:"M",details:"This field shall contain the assigned Vendor ID of the Node invoking this command, as it would appear in that Node\u2019s Basic Information Cluster VendorID attribute.",xref:{document:"core",section:"11.20.7.6.1.2"}}),o({name:"AnnouncementReason",id:2,type:"AnnouncementReasonEnum",access:"F",conformance:"M",details:"This field shall contain a value expressing the reason for the announcement.",xref:{document:"core",section:"11.20.7.6.1.3"}}),o({name:"MetadataForNode",id:3,type:"octstr",access:"F",conformance:"O",constraint:"max 512",details:`This optional field, if present, shall consist of a top-level anonymous list; each list element shall have a profile-specific tag encoded in fully-qualified form. Each list element shall contain a manufacturer-specific payload, which the Node invoking this command wants to expose to the receiving Node. This payload may be used for any purpose and SHOULD be as small as practical, especially if invoked to groups, in order to reduce networking burden of these payloads.
This field SHOULD only be included if the sending OTA Provider has knowledge that some recipient can make use of it.`,xref:{document:"core",section:"11.20.7.6.1.4"}}),o({name:"Endpoint",id:4,type:"endpoint-no",access:"F",conformance:"M",details:`This field shall contain the endpoint number which has the OTA Provider device type and OTA Software Update Provider cluster server on the ProviderNodeID. This is provided to avoid having to do discovery of the location of that endpoint by walking over all endpoints and checking their Descriptor Cluster.
When Generated
An OTA Provider may invoke this command directly to an OTA Requestor, to announce its presence as an OTA Provider on the Fabric.
These announcements, if made, SHOULD be made at most once every 24 hours for any given target Node, to assist OTA Requestors in discovering available OTA Provider resources, unless the AnnouncementReason is UrgentUpdateAvailable, in which case this command may be more frequent.
Any invocation shall be made with a delay of at least 1 second between invocations from a given OTA Provider, to reduce burden on the networking infrastructure and affect a form of serialized jitter. It is recommended to offset the first announcement of a round (i.e. new set of announcements after a previous complete set) by a random delay time with a distribution span of >= 60 seconds to jitter announcement schedules over time.
Effect on Receipt
On receipt of this command, an OTA Requestor SHOULD consider the new ProviderNodeID and AnnouncementReason to possibly query for new software sooner than it would have with its default behavior.
The OTA Requestor SHOULD NOT update entries in the DefaultOTAProviders list based on announcements.
The receiving Node may ignore the content of the announcement if it is unable or unwilling to further query OTA Providers temporarily, or if its provider list is full. If the announcement is ignored, the response SHOULD be SUCCESS.
Depending on the value of the AnnouncementReason field, the OTA Requestor may have to query the OTA Provider. See Section 11.20.7.6.1.3, \u201CAnnouncementReason Field\u201D for the different values and their meaning.
If present, the MetadataForNode field\u2019s may be used by a receiving OTA Requestor in any way it deems satisfactory. The MetadataForNode field SHOULD be empty under most normal operational circumstance, but can be useful in environments such as field trials or integration test environments to hint at additional capabilities which OTA Requestors may use in a particular Vendor-specific context.`,xref:{document:"core",section:"11.20.7.6.1.5"}}),o({name:"FabricIndex",id:254,type:"FabricIndex"})]}),C({name:"AnnouncementReasonEnum",type:"enum8",xref:{document:"core",section:"11.20.7.4.1"},children:[o({name:"SimpleAnnouncement",id:0,conformance:"M",description:"An OTA Provider is announcing its presence.",details:"An OTA Provider is announcing its presence, but there is no implication that an OTA Requestor would have a new Software Image available if it queried immediately.",xref:{document:"core",section:"11.20.7.4.1.1"}}),o({name:"UpdateAvailable",id:1,conformance:"M",description:"An OTA Provider is announcing, either to a single Node or to a group of Nodes, that a new Software Image MAY be available.",details:"An OTA Provider is announcing, either to a single Node or to a group of Nodes, that a new Software Image may be available. The details may only be obtained by executing a OTA Software Update Query procedure. A receiving OTA Requestor SHOULD only query the indicated OTA Provider at the ProviderLocation at its next upcoming OTA Provider query.",xref:{document:"core",section:"11.20.7.4.1.2"}}),o({name:"UrgentUpdateAvailable",id:2,conformance:"M",description:"An OTA Provider is announcing, either to a single Node or to a group of Nodes, that a new Software Image MAY be available, which contains an update that needs to be applied urgently.",details:"An OTA Provider is announcing, either to a single Node or to a group of Nodes, that a new Software Image may be available, which contains an update that needs to be applied urgently. The details may only be obtained by executing a OTA Software Update Query procedure. A receiving OTA Requestor SHOULD query the indicated OTA Provider at the ProviderLocation after a random jitter delay between 1 and 600 seconds. This particular reason SHOULD only be employed when an urgent update is available, such as an important security update, or just after initial commissioning of a device, to assist OTA Requestors in more rapidly obtaining updated software.",xref:{document:"core",section:"11.20.7.4.1.3"}})]}),C({name:"UpdateStateEnum",type:"enum8",xref:{document:"core",section:"11.20.7.4.2"},children:[o({name:"Unknown",id:0,conformance:"M",description:"Current state is not yet determined.",details:"This value shall indicate that the current state is not yet determined. Nodes SHOULD attempt a better state reporting.",xref:{document:"core",section:"11.20.7.4.2.1"}}),o({name:"Idle",id:1,conformance:"M",description:"Indicate a Node not yet in the process of software update.",details:"This value shall indicate a Node not yet in the process of software update, for example because it is awaiting the moment when a query will be made.",xref:{document:"core",section:"11.20.7.4.2.2"}}),o({name:"Querying",id:2,conformance:"M",description:"Indicate a Node in the process of querying an OTA Provider.",details:"This value shall indicate a Node in the process of querying an OTA Provider with QueryImage command, including during the process of awaiting a response to that command.",xref:{document:"core",section:"11.20.7.4.2.3"}}),o({name:"DelayedOnQuery",id:3,conformance:"M",description:"Indicate a Node waiting after a Busy response.",details:"This value shall indicate a Node waiting because it received a prior QueryImageResponse with a Status field indicating Busy.",xref:{document:"core",section:"11.20.7.4.2.4"}}),o({name:"Downloading",id:4,conformance:"M",description:"Indicate a Node currently in the process of downloading a software update.",details:"This value shall indicate a Node currently in the process of downloading a software update.",xref:{document:"core",section:"11.20.7.4.2.5"}}),o({name:"Applying",id:5,conformance:"M",description:"Indicate a Node currently in the process of verifying and applying a software update.",details:"This value shall indicate a Node currently in the process of verifying and applying a software update.",xref:{document:"core",section:"11.20.7.4.2.6"}}),o({name:"DelayedOnApply",id:6,conformance:"M",description:"Indicate a Node waiting caused by AwaitNextAction response.",details:"This value shall indicate a Node waiting because it received a prior ApplyUpdateResponse with an Action field set to AwaitNextAction.",xref:{document:"core",section:"11.20.7.4.2.7"}}),o({name:"RollingBack",id:7,conformance:"M",description:"Indicate a Node in the process of recovering to a previous version.",details:"This value shall indicate a Node in the process of recovering to a previous version from a new version that was applied, but that could not remain in force, for reasons such as invalid data detected on boot, or significant runtime issues such as reboot loops. Eventually, the next state seen SHOULD be Unknown or Idle.",xref:{document:"core",section:"11.20.7.4.2.8"}}),o({name:"DelayedOnUserConsent",id:8,conformance:"M",description:"Indicate a Node is capable of user consent."})]}),C({name:"ChangeReasonEnum",type:"enum8",xref:{document:"core",section:"11.20.7.4.3"},children:[o({name:"Unknown",id:0,conformance:"M",description:"The reason for a state change is unknown.",details:"This value shall indicate that the reason for a state change is unknown.",xref:{document:"core",section:"11.20.7.4.3.1"}}),o({name:"Success",id:1,conformance:"M",description:"The reason for a state change is the success of a prior operation.",details:"This value shall indicate that the reason for a state change is the success of a prior operation.",xref:{document:"core",section:"11.20.7.4.3.2"}}),o({name:"Failure",id:2,conformance:"M",description:"The reason for a state change is the failure of a prior operation.",details:"This value shall indicate that the reason for a state change is the failure of a prior operation.",xref:{document:"core",section:"11.20.7.4.3.3"}}),o({name:"TimeOut",id:3,conformance:"M",description:"The reason for a state change is a time-out.",details:"This value shall indicate that the reason for a state change is a time-out condition as determined by the OTA Requestor.",xref:{document:"core",section:"11.20.7.4.3.4"}}),o({name:"DelayByProvider",id:4,conformance:"O",description:"The reason for a state change is a request by the OTA Provider to wait.",details:"This value shall indicate that the reason for a state change is a request by the OTA Provider to await for a delay.",xref:{document:"core",section:"11.20.7.4.3.5"}})]}),C({name:"ProviderLocation",type:"struct",details:"This structure encodes a fabric-scoped location of an OTA provider on a given fabric.",xref:{document:"core",section:"11.20.7.4.4"},children:[o({name:"ProviderNodeId",id:1,type:"node-id",access:"F",conformance:"M",details:"This field shall contain the Node ID of the OTA Provider to contact within the Fabric identified by the FabricIndex.",xref:{document:"core",section:"11.20.7.4.4.1"}}),o({name:"Endpoint",id:2,type:"endpoint-no",access:"F",conformance:"M",details:`This field shall contain the endpoint number which has the OTA Provider device type and OTA
Software Update Provider cluster server on the ProviderNodeID. This is provided to avoid having to do discovery of the location of that endpoint by walking over all endpoints and checking their Descriptor Cluster.`,xref:{document:"core",section:"11.20.7.4.4.2"}}),o({name:"FabricIndex",id:254,type:"FabricIndex"})]})]});A.children.push(LC);var BC=C({name:"MeasurementTypeEnum",type:"enum16",xref:{document:"cluster",section:"2.1.4.2"},children:[o({name:"Unspecified",id:0,conformance:"M"}),o({name:"Voltage",id:1,conformance:"M",description:"Voltage in millivolts (mV)"}),o({name:"ActiveCurrent",id:2,conformance:"M",description:"Active current in milliamps (mA)"}),o({name:"ReactiveCurrent",id:3,conformance:"M",description:"Reactive current in milliamps (mA)"}),o({name:"ApparentCurrent",id:4,conformance:"M",description:"Apparent current in milliamps (mA)"}),o({name:"ActivePower",id:5,conformance:"M",description:"Active power in milliwatts (mW)"}),o({name:"ReactivePower",id:6,conformance:"M",description:"Reactive power in millivolt-amps reactive (mVAR)"}),o({name:"ApparentPower",id:7,conformance:"M",description:"Apparent power in millivolt-amps (mVA)"}),o({name:"RmsVoltage",id:8,conformance:"M",description:"Root mean squared voltage in millivolts (mV)"}),o({name:"RmsCurrent",id:9,conformance:"M",description:"Root mean squared current in milliamps (mA)"}),o({name:"RmsPower",id:10,conformance:"M",description:"Root mean squared power in milliwatts (mW)"}),o({name:"Frequency",id:11,conformance:"M",description:"AC frequency in millihertz (mHz)"}),o({name:"PowerFactor",id:12,conformance:"M",description:"Power Factor ratio in+/- 1/100ths of a percent."}),o({name:"NeutralCurrent",id:13,conformance:"M",description:"AC neutral current in milliamps (mA)"}),o({name:"ElectricalEnergy",id:14,conformance:"M",description:"Electrical energy in milliwatt-hours (mWh)"})]});A.children.push(BC);var UC=C({name:"MeasurementAccuracyRangeStruct",type:"struct",details:`This struct represents the accuracy of a measurement for a range of measurement values. Accuracy shall be expressed as a maximum +/- percentage of the true value, a maximum +/- fixed value of the true value, or both.
  \u2022 If both PercentMax and FixedMax are indicated, then for a given true value in the range between     RangeMin and RangeMax,
    \u25E6 the reported value shall be less than or equal to the sum of the true value, FixedMax and       PercentMax percent of the true value.
    \u25E6 the reported value shall be greater than or equal to the true value minus the sum of FixedMax       and PercentMax percent of the true value.
  \u2022 If only PercentMax is indicated, then for a given true value in the range between RangeMin and     RangeMax,
    \u25E6 the reported value shall be less than or equal to the sum of the true value and PercentMax       percent of the true value.
    \u25E6 the reported value shall be greater than or equal to the true value minus PercentMax per
cent of the true value.
  \u2022 If only FixedMax is indicated, then for a given true value in the range between RangeMin and     RangeMax,
    \u25E6 the reported value shall be less than or equal to the sum of the true value and FixedMax.
    \u25E6 the reported value shall be greater than or equal to the true value minus FixedMax.`,xref:{document:"cluster",section:"2.1.4.3"},children:[o({name:"RangeMin",id:0,type:"int64",conformance:"M",quality:"F",details:`This field shall indicate the minimum measurement value for the specified level of accuracy.
The value of this field shall be greater than or equal to the value of the MinMeasuredValue field on the encompassing MeasurementAccuracyStruct.
The value of this field shall be less than or equal to the value of the MaxMeasuredValue field on the encompassing MeasurementAccuracyStruct.`,xref:{document:"cluster",section:"2.1.4.3.1"}}),o({name:"RangeMax",id:1,type:"int64",conformance:"M",quality:"F",details:`This field shall indicate the maximum measurement value for the specified level of accuracy. The value of this field shall be greater than the value of the RangeMin field.
The value of this field shall be greater than or equal to the value of the MinMeasuredValue field on the encompassing MeasurementAccuracyStruct.
The value of this field shall be less than or equal to the value of the MaxMeasuredValue field on the encompassing MeasurementAccuracyStruct.`,xref:{document:"cluster",section:"2.1.4.3.2"}}),o({name:"PercentMax",id:2,type:"percent100ths",conformance:"O.a+",quality:"F",details:"This field shall indicate the maximum +/- percentage accuracy for the associated measurement.",xref:{document:"cluster",section:"2.1.4.3.3"}}),o({name:"PercentMin",id:3,type:"percent100ths",conformance:"[PercentMax]",constraint:"max percentTypical",quality:"F",details:"This field shall indicate the minimum +/- percentage accuracy for the associated measurement.",xref:{document:"cluster",section:"2.1.4.3.4"}}),o({name:"PercentTypical",id:4,type:"percent100ths",conformance:"[PercentMin]",constraint:"percentMin to percentMax",quality:"F",details:"This field shall indicate the typical +/- percentage accuracy for the associated measurement.",xref:{document:"cluster",section:"2.1.4.3.5"}}),o({name:"FixedMax",id:5,type:"uint64",conformance:"O.a+",quality:"F",details:"This field shall indicate the maximum +/- fixed accuracy for the associated measurement, in the unit indicated by MeasurementType.",xref:{document:"cluster",section:"2.1.4.3.6"}}),o({name:"FixedMin",id:6,type:"uint64",conformance:"[FixedMax]",constraint:"max fixedMax",quality:"F",details:"This field shall indicate the minimum +/- fixed accuracy for the associated measurement, in the unit indicated by MeasurementType.",xref:{document:"cluster",section:"2.1.4.3.7"}}),o({name:"FixedTypical",id:7,type:"uint64",conformance:"[FixedMin]",constraint:"fixedMin to fixedMax",quality:"F",details:"This field shall indicate the typical +/- fixed accuracy for the associated measurement, in the unit indicated by MeasurementType.",xref:{document:"cluster",section:"2.1.4.3.8"}})]});A.children.push(UC);var VC=C({name:"MeasurementAccuracyStruct",type:"struct",details:"This struct represents the set of accuracy ranges for a given measurement, the maximum and minimum values for the measurement, and whether the measurement is directly measured or just estimated from other information.",xref:{document:"cluster",section:"2.1.4.4"},children:[o({name:"MeasurementType",id:0,type:"MeasurementTypeEnum",conformance:"M",quality:"F",details:"This field shall indicate the type of measurement for the accuracy provided.",xref:{document:"cluster",section:"2.1.4.4.1"}}),o({name:"Measured",id:1,type:"bool",conformance:"M",default:!1,quality:"F",details:"This field shall indicate whether the associated measurement was directly measured. If this field is not set to true, then the associated measurement was estimated.",xref:{document:"cluster",section:"2.1.4.4.2"}}),o({name:"MinMeasuredValue",id:2,type:"int64",conformance:"M",quality:"F"}),o({name:"MaxMeasuredValue",id:3,type:"int64",conformance:"M",quality:"F"}),o({name:"AccuracyRanges",id:4,type:"list",conformance:"M",constraint:"min 1",quality:"F",details:`This field shall indicate a list of measurement ranges and their associated accuracies.
The value of the RangeMin field on the first MeasurementAccuracyRangeStruct in this list shall be equal to the value of the MinMeasuredValue field.
The value of the RangeMax field on the last MeasurementAccuracyRangeStruct in this list shall be less than or equal to the value of the MaxMeasuredValue field.
The value of the RangeMin field on each MeasurementAccuracyRangeStruct in this list other than the first shall be one more the value of the RangeMax field on the previous MeasurementAccuracyRangeStruct in this list (i.e. there shall be no gaps in the accuracy ranges, and the ranges shall be in increasing order).`,xref:{document:"cluster",section:"2.1.4.4.5"},children:[o({name:"entry",type:"MeasurementAccuracyRangeStruct"})]})]});A.children.push(VC);var qC=C({name:"bool",description:"Boolean",isSeed:!0,metatype:"boolean",details:`The Boolean type represents a logical value, either FALSE or TRUE.
  \u2022 FALSE shall be equivalent to the value 0 (zero).
  \u2022 TRUE shall be equivalent to the value 1 (one).`,xref:{document:"core",section:"7.18.1.1"}});A.children.push(qC);var Wf=C({name:"map8",byteSize:1,description:"8-bit bitmap",isSeed:!0,metatype:"bitmap",xref:{document:"core",section:"7.18.1"}});A.children.push(Wf);var Hf=C({name:"map16",byteSize:2,description:"16-bit bitmap",isSeed:!0,metatype:"bitmap",xref:{document:"core",section:"7.18.1"}});A.children.push(Hf);var jf=C({name:"map32",byteSize:4,description:"32-bit bitmap",isSeed:!0,metatype:"bitmap",xref:{document:"core",section:"7.18.1"}});A.children.push(jf);var Gf=C({name:"map64",byteSize:8,description:"64-bit bitmap",isSeed:!0,metatype:"bitmap",xref:{document:"core",section:"7.18.1"}});A.children.push(Gf);var zf=C({name:"uint8",byteSize:1,description:"Unsigned 8-bit integer",isSeed:!0,metatype:"integer",xref:{document:"core",section:"7.18.1"}});A.children.push(zf);var Kf=C({name:"uint16",byteSize:2,description:"Unsigned 16-bit integer",isSeed:!0,metatype:"integer",xref:{document:"core",section:"7.18.1"}});A.children.push(Kf);var _C=C({name:"uint24",byteSize:3,description:"Unsigned 24-bit integer",isSeed:!0,metatype:"integer",xref:{document:"core",section:"7.18.1"}});A.children.push(_C);var Xf=C({name:"uint32",byteSize:4,description:"Unsigned 32-bit integer",isSeed:!0,metatype:"integer",xref:{document:"core",section:"7.18.1"}});A.children.push(Xf);var $C=C({name:"uint40",byteSize:5,description:"Unsigned 40-bit integer",isSeed:!0,metatype:"integer",xref:{document:"core",section:"7.18.1"}});A.children.push($C);var WC=C({name:"uint48",byteSize:6,description:"Unsigned 48-bit integer",isSeed:!0,metatype:"integer",xref:{document:"core",section:"7.18.1"}});A.children.push(WC);var HC=C({name:"uint56",byteSize:7,description:"Unsigned 56-bit integer",isSeed:!0,metatype:"integer",xref:{document:"core",section:"7.18.1"}});A.children.push(HC);var Yf=C({name:"uint64",byteSize:8,description:"Unsigned 64-bit integer",isSeed:!0,metatype:"integer",xref:{document:"core",section:"7.18.1"}});A.children.push(Yf);var jC=C({name:"int8",byteSize:1,description:"Signed 8-bit integer",isSeed:!0,metatype:"integer",xref:{document:"core",section:"7.18.1"}});A.children.push(jC);var GC=C({name:"int16",byteSize:2,description:"Signed 16-bit integer",isSeed:!0,metatype:"integer",xref:{document:"core",section:"7.18.1"}});A.children.push(GC);var zC=C({name:"int24",byteSize:3,description:"Signed 24-bit integer",isSeed:!0,metatype:"integer",xref:{document:"core",section:"7.18.1"}});A.children.push(zC);var KC=C({name:"int32",byteSize:4,description:"Signed 32-bit integer",isSeed:!0,metatype:"integer",xref:{document:"core",section:"7.18.1"}});A.children.push(KC);var XC=C({name:"int40",byteSize:5,description:"Signed 40-bit integer",isSeed:!0,metatype:"integer",xref:{document:"core",section:"7.18.1"}});A.children.push(XC);var YC=C({name:"int48",byteSize:6,description:"Signed 48-bit integer",isSeed:!0,metatype:"integer",xref:{document:"core",section:"7.18.1"}});A.children.push(YC);var ZC=C({name:"int56",byteSize:7,description:"Signed 56-bit integer",isSeed:!0,metatype:"integer",xref:{document:"core",section:"7.18.1"}});A.children.push(ZC);var QC=C({name:"int64",byteSize:8,description:"Signed 64-bit integer",isSeed:!0,metatype:"integer",xref:{document:"core",section:"7.18.1"}});A.children.push(QC);var JC=C({name:"single",byteSize:4,description:"Single precision",isSeed:!0,metatype:"float",xref:{document:"core",section:"7.18.1"}});A.children.push(JC);var eS=C({name:"double",byteSize:8,description:"Double precision",isSeed:!0,metatype:"float",details:`The double precision number format is based on the IEEE 754-2019 double precision (64-bit) format for binary floating-point arithmetic.
The format and interpretation of values of this data type follow the same rules as given for the single precision data type, but with wider mantissa and exponent ranges.
See IEEE 754-2019 for more details on the representable values.`,xref:{document:"core",section:"7.18.1.6"}});A.children.push(eS);var tS=C({name:"octstr",description:"Octet string",isSeed:!0,metatype:"bytes",details:"The octet string data type defines a sequence of octets with a finite octet count from 0 to 65534. It is recommended to define a constraint on the maximum possible count.",xref:{document:"core",section:"7.18.1.7"}});A.children.push(tS);var nS=C({name:"list",description:"List",isSeed:!0,metatype:"array",details:`A list is defined as a collection of entries of the same data type, with a finite count from 0 to 65534. A cluster specification may define further constraints on the maximum possible count. The list entry data type shall be any defined data type, except a list data type, or any data type derived from a list.
The quality columns for a list definition are for the list.
The list entries are indicated with an index that is an unsigned integer starting at 0 (zero). The maintained order of entries, by index, is defined in the cluster specification, or undefined. Data that is defined as a list is indicated with "list[X]" where X is the entry type. The data type of the list entry has its own qualities, constraints, and conformance.
### To define qualities for the list entry data type, make the list entry data type a defined local derived data type, with a table including the columns required to define and constrain the data type.
There is an inline shortcut to define the list entry data type constraints. See List Constraints.
It is recommended to put a maximum constraint on the list and list entry data types.
It is recommended that a list entry data type be a struct, to enable the addition of new fields to the list\u2019s entries in the future.
  \u2022 The cluster data version shall be incremented when the list order or entries change.
  \u2022 An entry shall NOT be null.
  \u2022 The list shall support reading and reporting all entries.
  \u2022 The list shall support reporting, updates, and/or deletion of one or more entries.
  \u2022 If the list is writable, it shall support writing or deleting the entire list.
  \u2022 If the list is writable, it shall support updating one or more individual entries by indicating     an index per updated entry.
  \u2022 If the list is writable, it shall support deleting one or more individual entries by indicating     an index per deleted entry.
  \u2022 If the list is writable, it shall support adding one or more individual entries.
  \u2022 A list may define an entry that is a struct that is fabric-scoped (see Fabric-Scoped Quality).
### Fabric-Scoped List
  \u2022 A fabric-scoped list shall define an entry data type that is a struct, which shall also be     fabric-scoped (see Fabric-Scoped Struct).
Each entry in a fabric-scoped list shall be fabric-scoped to a particular fabric or no fabric.
### A fabric-scoped list supports a fabric-filter that filters the view of the list for read and write interactions. This filter simplifies client side logic that does not want to read or write fabric data that is not associated with the accessing fabric.
  \u2022 An interaction upon a list with fabric-filtering shall only indicate and access entries where     the associated fabric matches the accessing fabric, and all other entries shall be ignored.
  \u2022 Fabric-filtered list entries shall be in the same order as the full list.
  \u2022 Fabric-filtered list entries shall be indexed from 0 with no gaps, as if the other entries did     not exist.
  \u2022 For a write interaction, fabric-filtering shall be enabled.
  \u2022 When writing to a fabric-scoped list, the write interaction shall be on an accessing fabric,     otherwise, the write interaction shall fail (see Interaction Model).
  \u2022 For a read interaction on a list, fabric-filtering may be enabled.
  \u2022 For a read interaction on a list, with fabric-filtering disabled, the list shall be reported as     a full list with all entries.
list[1] = [ { FabricIndex = B, Value = 55 } ]
changes the full list to:
list = [ { FabricIndex = A, Value = 20 },
{ FabricIndex = B, Value = 30 },
{ FabricIndex = A, Value = 40 },
{ FabricIndex = B, Value = 55 },
{ FabricIndex = B, Value = 60 } ]`,xref:{document:"core",section:"7.18.1.8"}});A.children.push(nS);var iS=C({name:"struct",description:"Struct",isSeed:!0,metatype:"object",details:`A struct is a sequence of fields of any data type. Individual fields are identified by a field ID of unsigned integer, starting at 0 (zero), for the first field.
  \u2022 A struct itself shall have no constraint qualities.
  \u2022 Each struct field shall have its own qualities.
  \u2022 Access, conformance and persistence qualities, when not explicitly defined, shall be inherited     from the instance of the struct itself.
  \u2022 Struct fields may have optional conformance.
  \u2022 A struct shall support reading and reporting of all fields.
  \u2022 A struct shall support reporting changes to one or more fields.
  \u2022 If the struct is writable, it shall support writing the entire struct.
  \u2022 If a field of the struct is writable, the struct shall support updating the field.
  \u2022 Because of optional struct field conformance, instances of the same struct may support multiple     'flavors' of the same struct data type, but with a different set of optional fields.
### Fabric-Scoped Struct
  \u2022 A fabric-scoped struct shall only be defined and occur as an entry in a fabric-scoped list.
  \u2022 A fabric-scoped struct shall support the global FabricIndex field of type fabric-index, which     indicates the associated fabric of the struct, or indicates that there is no associated fabric.
  \u2022 The table that defines fields of a fabric-scoped struct shall NOT list the global FabricIndex     field, which is a global field and defined implicitly.
  \u2022 The global FabricIndex field of a fabric-scoped struct SHOULD NOT be indicated in a write     interaction.
  \u2022 The global FabricIndex field of a fabric-scoped struct shall be ignored in a write interaction.
  \u2022 The global FabricIndex field SHOULD NOT be indicated on a fabric-scoped struct contained in the     payload of a command request.
  \u2022 The global FabricIndex field shall be ignored on a fabric-scoped struct contained in the     payload of a command request.
  \u2022 When a write interaction creates a fabric-scoped struct entry (in a fabric-scoped list), the     server shall implicitly load the accessing fabric-index into the global FabricIndex field of     the struct.
  \u2022 When the payload of a command request contains a fabric-scoped struct, the server shall     implicitly load the accessing fabric-index into the global FabricIndex field of the struct.
### \u2022 A fabric-scoped struct may be defined with some fields that are fabric-sensitive.
  \u2022 For interactions on a fabric-scoped struct that report back data, fabric-sensitive struct     fields shall NOT be indicated when reporting data back to the client, when the struct has an     associated fabric, and it is not the accessing fabric.`,xref:{document:"core",section:"7.18.1.9"}});A.children.push(iS);var rS=C({name:"percent",type:"uint8",description:"Percentage units 1%",isSeed:!0,xref:{document:"core",section:"7.18.2"}});A.children.push(rS);var oS=C({name:"percent100ths",type:"uint16",description:"Percentage units 0.01%",isSeed:!0,xref:{document:"core",section:"7.18.2"}});A.children.push(oS);var aS=C({name:"tod",type:"struct",description:"Time of day",isSeed:!0,details:"Represents time without a date component.",xref:{document:"core",section:"7.18.2.3"},children:[o({name:"hours",type:"uint8",constraint:"0 to 23",description:"Hour of the current day."}),o({name:"minutes",type:"uint8",constraint:"0 to 59",description:"Minute of the current hour."}),o({name:"seconds",type:"uint8",constraint:"0 to 59",description:"Second of the current minute."}),o({name:"hundredths",type:"uint8",constraint:"0 to 99",description:"Hundredth of the current second."})]});A.children.push(aS);var sS=C({name:"date",type:"struct",description:"Date",isSeed:!0,metatype:"date",details:"This data type shall be a struct as defined below.",xref:{document:"core",section:"7.18.2.4"},children:[o({name:"Year",id:0,type:"uint8",conformance:"M",default:null,quality:"X",details:"The year subfield represents years from 1900 (0) to 2155 (255).",xref:{document:"core",section:"7.18.2.4.1"}}),o({name:"Month",id:1,type:"uint8",conformance:"M",constraint:"1 to 12",default:null,quality:"X",details:"This field represents months January (1) to December (12).",xref:{document:"core",section:"7.18.2.4.2"}}),o({name:"Day",id:2,type:"uint8",conformance:"M",constraint:"1 to 31",default:null,quality:"X",details:"This field represents the day of the month. Note that values in the range 29 to 31 may be invalid, depending on the month and year.",xref:{document:"core",section:"7.18.2.4.3"}}),o({name:"DayOfWeek",id:3,type:"uint8",conformance:"M",constraint:"1 to 7",default:null,quality:"X",details:"This represents the day of the week from Monday (1) to Sunday (7).",xref:{document:"core",section:"7.18.2.4.4"}})]});A.children.push(sS);var cS=C({name:"epoch-us",type:"uint64",description:"Epoch Time in microseconds",isSeed:!0,details:`This type represents an offset, in microseconds, from 0 hours, 0 minutes, 0 seconds, on the 1st of January, 2000 UTC (the Epoch), encoded as an unsigned 64-bit scalar value.
This offset is the sum of two parts: time elapsed, not counting leap-seconds, and a local time offset. The local time offset may include a timezone offset and a may include a DST offset.
Any use of this type shall indicate how the associated local time offset is determined in the specific context of that use. This may be done, for example, by simply saying the time is a UTC time, in which case the local time offset is 0.
A given Epoch Time value may be interpreted in at least two ways:
  1. The value can be converted to a local clock date/time (year, month, day, hours, minutes,      seconds, microseconds) by treating the local time offset as 0 and finding the UTC (year,      month, day, hours, minutes, seconds, microseconds) tuple that corresponds to an elapsed time      since the epoch time equal to the given value. The value then represents that tuple, but      interpreted in the specific timezone and DST situation associated with the value. This      procedure does not require knowing the local time offset of the value.
  2. The value can be converted to a UTC time by subtracting the associated local time offset from      the Epoch Time value and then treating the resulting value as an elapsed count of microseconds      since the epoch time.
For example, an Epoch Time value of 0x0000_0BF1_B7E1_0000 corresponds to an offset of exactly 152 days. This can be interpreted as "00:00:00 on June 1, 2000" in whatever local time zone is associated with the value. That corresponds to the following times in ISO 8601 notation:
  \u2022 2000-06-01T00:00Z if the associated local time offset is 0 (i.e. the value is in UTC).
  \u2022 2000-05-31T23:00Z if the associated local time offset is +1 hour (e.g. the CET timezone,     without daylight savings).
  \u2022 2000-06-01T00:00+02 if the associated local time offset is +1 hour.
  \u2022 2000-06-01T04:00Z if the associated local time offset is -4 hours (e.g. the EDT time zone,     which includes daylight savings).
  \u2022 2000-06-01T00:00-04 if the associated local time offset is -4 hours.
Conversion from NTP timestamps
Timestamps from NTP also do not count leap seconds, but have a different epoch. NTP 128-bit timestamps consist of a 64-bit seconds portion (NTP(s)) and a 64-bit fractional seconds portion (NTP(frac)). NTP(s) at 00:00:00 can be calculated from the Modified Julian Day (MJD) as follows:
NTP(s) = (MJD-15020) * (24*60*60)
where 15020 is the MJD on January 1, 1900 (the NTP epoch)
NTP(s) on January 1, 2000 00:00:00 UTC (MJD = 51544) is 3155673600 (0xBC17C200)
Epoch Time has a microsecond precision, and this precision can be achieved by using the most significant 32 bits of the fractional portion (NTP(frac32)). Conversion between the 128-bit NTP timestamps and a UTC Epoch Time in Microseconds is as follows:
UTC Epoch Time = (NTP(s) - 0xBC17C200)*10^6 + ((NTP(frac32)*10^6) / 2^32) where all numbers are treated as unsigned 64-bit integers and the division is integer division.`,xref:{document:"core",section:"7.18.2.5"}});A.children.push(cS);var lS=C({name:"epoch-s",type:"uint32",description:"Epoch Time in seconds",isSeed:!0,details:`This type has the same semantics as Epoch Time in Microseconds, except that:
  \u2022 the value encodes an offset in seconds, rather than microseconds;
  \u2022 the value is encoded as an unsigned 32-bit scalar, rather than 64-bit.
This type is employed where compactness of representation is important and where the resolution of seconds is still satisfactory.`,xref:{document:"core",section:"7.18.2.6"}});A.children.push(lS);var dS=C({name:"posix-ms",type:"uint64",description:"POSIX Time in milliseconds",isSeed:!0,details:`This type represents an offset, in milliseconds, from the UNIX epoch (1970-01-01 00:00:00 UTC), encoded as an unsigned 64-bit scalar value.
This type is employed for compatibility reasons.`,xref:{document:"core",section:"7.18.2.7"}});A.children.push(dS);var uS=C({name:"systime-us",type:"uint64",description:"System Time in microseconds",isSeed:!0,details:"System time in microseconds is an unsigned 64-bit value representing the number of microseconds since boot.",xref:{document:"core",section:"7.18.2.8"}});A.children.push(uS);var mS=C({name:"systime-ms",type:"uint64",description:"System Time in milliseconds",isSeed:!0,details:`System time in milliseconds is an unsigned 64-bit value representing the number of milliseconds since boot.
This type is employed for compatibility reasons.`,xref:{document:"core",section:"7.18.2.9"}});A.children.push(mS);var hS=C({name:"elapsed-s",type:"uint32",description:"Elapsed Time in seconds",isSeed:!0,details:"Elapsed time in seconds is an unsigned 32-bit value representing the time that has elapsed for an operation or other activity, as determined by the definition of the attribute using this type.",xref:{document:"core",section:"7.18.2.10"}});A.children.push(hS);var fS=C({name:"temperature",type:"int16",description:"Temperature",isSeed:!0,details:`This type represents a temperature on the Celsius scale with a resolution of 0.01\xB0C.
  \u2022 value = (temperature in \xB0C) x 100
The range is constrained by absolute zero: -273.15\xB0C to 327.67\xB0C.
Conversion of Temperature Values for Display
When converting temperature values for display manufacturers SHOULD ensure that calculations
round to the nearest representable value. Particular care is needed when using integer arithmetic.
Sample Conversion Code
Sample code provided to ensure consistent Fahrenheit to Celsius and vice-versa conversion between devices and across vendors.
For degF: the value is a int8u representing 2x temperature value in Fahrenheit (to get 0.5 resolution).
For degC: the value is a int16s representing Celsius in
0.01 resolution as expected by the ZCL format.`,xref:{document:"core",section:"7.18.2.11"}});A.children.push(fS);var pS=C({name:"power-mW",type:"int64",description:"Power",isSeed:!0,details:"This type represents power measured in milliwatts.",xref:{document:"core",section:"7.18.2.12"}});A.children.push(pS);var yS=C({name:"amperage-mA",type:"int64",description:"Amperage",isSeed:!0,details:"This type represents amperage measured in milliamps.",xref:{document:"core",section:"7.18.2.13"}});A.children.push(yS);var gS=C({name:"voltage-mV",type:"int64",description:"Voltage",isSeed:!0,details:"This type represents voltage measured in millivolts.",xref:{document:"core",section:"7.18.2.14"}});A.children.push(gS);var vS=C({name:"energy-mWh",type:"int64",description:"Energy",isSeed:!0,details:"This type represents energy measured in milliwatt-hours.",xref:{document:"core",section:"7.18.2.15"}});A.children.push(vS);var Zf=C({name:"enum8",type:"uint8",description:"8-bit enumeration",isSeed:!0,metatype:"enum",xref:{document:"core",section:"7.18.2"}});A.children.push(Zf);var Qf=C({name:"enum16",type:"uint16",description:"16-bit enumeration",isSeed:!0,metatype:"enum",xref:{document:"core",section:"7.18.2"}});A.children.push(Qf);var bS=C({name:"priority",type:"enum8",description:"Priority",isSeed:!0,details:"This is an enumeration of priority used to tag events and possibly other data. The data type does not define any particular ordering among the values. Specific uses of the data type may assign semantics to the values that imply an ordering relationship.",xref:{document:"core",section:"7.18.2.17"},children:[o({name:"Debug",id:0,description:"Information for engineering debugging/troubleshooting"}),o({name:"Info",id:1,description:"Information that either drives customer facing features or provides insights into device functions that are used to drive analytics use cases"}),o({name:"Critical",id:2,description:"Information or notification that impacts safety, a critical function, or ongoing reliable operation of the node or application supported on an endpoint."})]});A.children.push(bS);var xS=C({name:"status",type:"enum8",description:"Status Code",isSeed:!0,metatype:"enum",details:`An enumeration value that means a success or error status. A status code is indicated as a response to an action in an interaction (see Interaction Model).
A status code shall be one of:
  \u2022 a common status code from the set defined in the Interaction Model status code table;
  \u2022 a cluster status code that is scoped to a particular cluster.
The following table defines the enumeration ranges for status codes.
Status codes in an undefined range, or status codes undefined within a range are reserved and shall NOT be indicated.`,xref:{document:"core",section:"7.18.2.18"},children:[o({name:"Success",id:0,description:"Operation was successful.",xref:{document:"core",section:"8.10.1"}}),o({name:"Failure",id:1,description:"Operation was not successful.",xref:{document:"core",section:"8.10.1"}}),o({name:"InvalidSubscription",id:125,description:"Subscription ID is not active.",xref:{document:"core",section:"8.10.1"}}),o({name:"UnsupportedAccess",id:126,description:"The sender of the action or command does not have authorization or access.",xref:{document:"core",section:"8.10.1"}}),o({name:"UnsupportedEndpoint",id:127,description:"The endpoint indicated is unsupported on the node.",xref:{document:"core",section:"8.10.1"}}),o({name:"InvalidAction",id:128,description:"The action is malformed, has missing fields, or fields with invalid values. Action not carried out.",xref:{document:"core",section:"8.10.1"}}),o({name:"UnsupportedCommand",id:129,description:"The indicated command ID is not supported on the cluster instance. Command not carried out.",xref:{document:"core",section:"8.10.1"}}),o({name:"InvalidCommand",id:133,description:"The cluster command is malformed, has missing fields, or fields with invalid values. Command not carried out.",xref:{document:"core",section:"8.10.1"}}),o({name:"UnsupportedAttribute",id:134,description:"The indicated attribute ID, field ID or list entry does not exist for an attribute path.",xref:{document:"core",section:"8.10.1"}}),o({name:"ConstraintError",id:135,description:"Out of range error or set to a reserved value. Attribute keeps its old value. Note that an attribute value may be out of range if an attribute is related to another, e.g. with minimum and maximum attributes. See the individual attribute descriptions for specific details.",xref:{document:"core",section:"8.10.1"}}),o({name:"UnsupportedWrite",id:136,description:"Attempt to write a read-only attribute.",xref:{document:"core",section:"8.10.1"}}),o({name:"ResourceExhausted",id:137,description:"An action or operation failed due to insufficient available resources.INSUFFICIENT_SPACE is anobsolete name for this error code.",xref:{document:"core",section:"8.10.1"}}),o({name:"NotFound",id:139,description:"The indicated data field or entry could not be found.",xref:{document:"core",section:"8.10.1"}}),o({name:"UnreportableAttribute",id:140,description:"Reports cannot be issued for this attribute.",xref:{document:"core",section:"8.10.1"}}),o({name:"InvalidDataType",id:141,description:"The data type indicated is undefined or invalid for the indicated data field. Command or action not carried out.",xref:{document:"core",section:"8.10.1"}}),o({name:"UnsupportedRead",id:143,description:"Attempt to read a write-only attribute.",xref:{document:"core",section:"8.10.1"}}),o({name:"DataVersionMismatch",id:146,description:"Cluster instance data version did not match request path",xref:{document:"core",section:"8.10.1"}}),o({name:"Timeout",id:148,description:"The transaction was aborted due to time being exceeded.",xref:{document:"core",section:"8.10.1"}}),o({name:"UnsupportedNode",id:155,description:"The node ID indicated is not supported on the node.",xref:{document:"core",section:"8.10.1"}}),o({name:"Busy",id:156,description:"The receiver is busy processing another action that prevents the execution of the incoming action.",xref:{document:"core",section:"8.10.1"}}),o({name:"UnsupportedCluster",id:195,description:"The cluster indicated is not supported on the endpoint.",xref:{document:"core",section:"8.10.1"}}),o({name:"NoUpstreamSubscription",id:197,description:"Used by proxies to convey to clients the lack of an upstream subscription to a source.",xref:{document:"core",section:"8.10.1"}}),o({name:"NeedsTimedInteraction",id:198,description:"A Untimed Write or Untimed Invoke interaction was used for an attribute or command that requires a Timed Write or Timed Invoke.",xref:{document:"core",section:"8.10.1"}}),o({name:"UnsupportedEvent",id:199,description:"The indicated event ID is not supported on the cluster instance.",xref:{document:"core",section:"8.10.1"}}),o({name:"PathsExhausted",id:200,description:"The receiver has insufficient resources to support the specified number of paths in the request",xref:{document:"core",section:"8.10.1"}}),o({name:"TimedRequestMismatch",id:201,description:"A request with TimedRequest field set to TRUE was issued outside a Timed transaction or a request with TimedRequest set to FALSE was issued inside a Timed transaction.",xref:{document:"core",section:"8.10.1"}}),o({name:"FailsafeRequired",id:202,description:"A request requiring a Fail-safe context was invoked without the Fail-Safe context.",xref:{document:"core",section:"8.10.1"}}),o({name:"InvalidInState",id:203,description:"The received request cannot be handled due to the current operational state of the device",xref:{document:"core",section:"8.10.1"}}),o({name:"NoCommandResponse",id:204,description:"A CommandDataIB is missing a response in the InvokeResponses of an Invoke Response action.",xref:{document:"core",section:"8.10.1"}})]});A.children.push(xS);var wS=C({name:"group-id",type:"uint16",description:"Group ID",isSeed:!0,details:"A 16-bit ID for a group scoped to a particular fabric as indicated by an accompanying fabric index adjacent instantiation.",xref:{document:"core",section:"7.18.2.22"}});A.children.push(wS);var TS=C({name:"endpoint-no",type:"uint16",description:"Endpoint Number",isSeed:!0,details:"An unsigned number that indicates an instance of a device type.",xref:{document:"core",section:"7.18.2.23"}});A.children.push(TS);var CS=C({name:"vendor-id",type:"uint16",description:"Vendor ID",isSeed:!0,details:`A Vendor ID.
Vendor IDs may be used as a prefix in a Manufacturer Extensible Identifier format.`,xref:{document:"core",section:"7.18.2.24"}});A.children.push(CS);var SS=C({name:"devtype-id",type:"uint32",description:"Device Type ID",isSeed:!0,details:`An identifier that indicates conformance to a device type.
Device Type IDs shall be a Manufacturer Extensible Identifier. The specifics of its representation are described in Data Model Types.`,xref:{document:"core",section:"7.18.2.25"}});A.children.push(SS);var IS=C({name:"fabric-id",type:"uint64",description:"Fabric ID",isSeed:!0,details:"A value to identify a fabric.",xref:{document:"core",section:"7.18.2.19"}});A.children.push(IS);var AS=C({name:"fabric-idx",type:"uint8",description:"Fabric Index",isSeed:!0,details:`This is an index that maps to a particular fabric on the node, see Fabric-Index. It is used for:
  \u2022 the accessing fabric index of an interaction
  \u2022 the FabricIndex global field in fabric-scoped data`,xref:{document:"core",section:"7.18.2.20"}});A.children.push(AS);var MS=C({name:"cluster-id",type:"uint32",description:"Cluster ID",isSeed:!0,details:`An identifier that indicates conformance to a cluster specification.
Cluster IDs shall be a Manufacturer Extensible Identifier. The specifics of its representation are described in Data Model Types.`,xref:{document:"core",section:"7.18.2.26"}});A.children.push(MS);var ES=C({name:"attrib-id",type:"uint32",description:"Attribute ID",isSeed:!0,details:`An identifier that indicates an attribute defined in a cluster specification.
Attribute IDs shall be a Manufacturer Extensible Identifier. The specifics of its representation are described in Data Model Types.`,xref:{document:"core",section:"7.18.2.27"}});A.children.push(ES);var OS=C({name:"field-id",type:"uint32",description:"Field ID",isSeed:!0,details:`An identifier that indicates a field defined in a struct.
Field IDs shall be a Manufacturer Extensible Identifier. The specifics of its representation are described in Data Model Types.`,xref:{document:"core",section:"7.18.2.28"}});A.children.push(OS);var DS=C({name:"event-id",type:"uint32",description:"Event ID",isSeed:!0,details:`An identifier that indicates an Event defined in a cluster specification.
Event IDs shall be a Manufacturer Extensible Identifier. The specifics of its representation are described in Data Model Types.`,xref:{document:"core",section:"7.18.2.29"}});A.children.push(DS);var RS=C({name:"command-id",type:"uint32",description:"Command ID",isSeed:!0,details:`An identifier that indicates a command defined in a cluster specification.
Command IDs shall be a Manufacturer Extensible Identifier. The specifics of its representation are described in Data Model Types.`,xref:{document:"core",section:"7.18.2.30"}});A.children.push(RS);var NS=C({name:"action-id",type:"uint8",description:"Action ID",isSeed:!0,details:"An identifier that indicates an action as defined in the Interaction Model specification.",xref:{document:"core",section:"7.18.2.31"}});A.children.push(NS);var PS=C({name:"trans-id",type:"uint32",description:"Transaction ID",isSeed:!0,details:"An identifier for a transaction as defined in the Interaction Model specification, see Transaction ID.",xref:{document:"core",section:"7.18.2.32"}});A.children.push(PS);var kS=C({name:"node-id",type:"uint64",description:"Node ID",isSeed:!0,details:"A 64-bit ID for a node scoped and unique to a particular fabric as indicated by an accompanying fabric-index adjacent instantiation.",xref:{document:"core",section:"7.18.2.21"}});A.children.push(kS);var FS=C({name:"entry-idx",type:"uint16",description:"Entry Index",isSeed:!0,details:"This is an index for a list data type.",xref:{document:"core",section:"7.18.2.33"}});A.children.push(FS);var LS=C({name:"data-ver",type:"uint32",description:"Data Version",isSeed:!0,details:"An unsigned number that indicates a Data Version.",xref:{document:"core",section:"7.18.2.34"}});A.children.push(LS);var BS=C({name:"event-no",type:"uint64",description:"Event Number",isSeed:!0,details:"An unsigned number that indicates an Event instance.",xref:{document:"core",section:"7.18.2.35"}});A.children.push(BS);var US=C({name:"string",type:"octstr",description:"Character String",isSeed:!0,metatype:"string",details:`The character string data type is derived from an octet string. The octets shall be characters with UTF-8 encoding. An instance of this data type shall NOT contain truncated code points.
Note that the character string type is a bounded sequence of characters whose size bound format is not specified in the data model, but rather a property of the underlying encoding. Therefore, no assumptions are to be made about the presence or absence of a length prefix or null-terminator byte, or other implementation considerations.
It is recommended to define constraints on the maximum possible string length.
If at least one of the code points within the string has value 31 (0x1F), which is Unicode INFORMATION SEPARATOR 1 and ASCII Unit Separator, then any client making use of the string shall only consider the code points that appear before the first INFORMATION SEPARATOR 1 as being the textual information carried by the string. Any comparison between such a string and other strings shall use the textual component before the first INFORMATION SEPARATOR 1. The remainder of the character string after a first INFORMATION SEPARATOR 1 is reserved for future use by this specification. Implementations of this version of the specification shall NOT produce character strings containing INFORMATION SEPARATOR 1.`,xref:{document:"core",section:"7.18.2.36"}});A.children.push(US);var VS=C({name:"ipadr",type:"octstr",description:"IP Address",isSeed:!0,details:"Either an IPv4 or an IPv6 address as defined below.",xref:{document:"core",section:"7.18.2.37"}});A.children.push(VS);var qS=C({name:"ipv4adr",type:"octstr",description:"IPv4 Address",isSeed:!0,details:`The IPv4 address data type is derived from an octet string. The octets shall correspond to the four octets in network byte order that comprise an IPv4 address represented utilizing quad-dotted notation.
Examples of encoding:
  \u2022 Address 192.168.2.235 \u2192 C0A802EB
  \u2022 Address 10.4.200.75 \u2192 0A04C84B`,xref:{document:"core",section:"7.18.2.38"}});A.children.push(qS);var _S=C({name:"ipv6adr",type:"octstr",description:"IPv6 Address",isSeed:!0,details:`The IPv6 address data type is derived from an octet string. The octets shall correspond to the full 16 octets that comprise an IPv6 address as defined by RFC 4291. The octets shall be presented in network byte order.
Examples of encoding:
  \u2022 Address 2001:DB8:0:0:8:800:200C:417A \u2192 20010DB80000000000080800200C417A
  \u2022 Address 2001:0DB8:1122:3344:5566:7788:99AA:BBCC \u2192 20010DB8112233445566778899AABBCC`,xref:{document:"core",section:"7.18.2.39"}});A.children.push(_S);var $S=C({name:"ipv6pre",type:"octstr",description:"IPv6 Prefix",isSeed:!0,details:`The IPv6 prefix data type is derived from an octet string. The octets shall be encoded
  \u2022 The first octet shall encode the prefix length, in bits, in the range of 0 to 128.
    \u25E6 A value of 0 indicates an absent/invalid prefix.
  \u2022 The subsequent octets shall encode the contiguous leftmost bits of the prefix, in network byte     order, with left justification, such that the first bit of the prefix is in the most     significant bit of the first octet. Encoding SHOULD use the least number of bytes to encode the     prefix but may include unused trailing zeroes.
Examples of encoding:
  \u2022 Preferred minimal encoding: Prefix 2001:0DB8:0:CD30::/60 \u2192 9 octets \u2192 3C20010DB80000CD30
  \u2022 Preferred minimal encoding: Prefix 2001:0DB8:BB00::/40 \u2192 6 octets \u2192 2820010DB8BB
  \u2022 Allowed non-minimal encoding: Prefix 2001:0DB8:BB00::/40 \u2192 7 octets \u2192 2820010DB8BB00`,xref:{document:"core",section:"7.18.2.40"}});A.children.push($S);var WS=C({name:"hwadr",type:"octstr",description:"Hardware Address",isSeed:!0,details:"The Hardware Address data type shall be either a 48-bit IEEE MAC Address or a 64-bit IEEE MAC Address (e.g. EUI-64). The order of bytes is Big-Endian or display mode, where the first byte in the string is the left most or highest order byte.",xref:{document:"core",section:"7.18.2.41"}});A.children.push(WS);var HS=C({name:"semtag",type:"struct",description:"Semantic Tag",isSeed:!0,details:"This data type shall be represented by the following structure:",xref:{document:"core",section:"7.18.2.42"},children:[o({name:"MfgCode",id:0,type:"vendor-id",conformance:"M",default:null,quality:"X",details:`If the MfgCode field is not null, it shall be the Vendor ID of the manufacturer who has defined a certain namespace and the NamespaceID field shall be the ID of a namespace defined by the manufacturer identified in the MfgCode field.
If a manufacturer specific Tag field is indicated in a list of SemanticTagStruct entries, the list shall include at least one standard tag which is not from any manufacturer\u2019s namespace. A standard tag is a tag from a common namespace, a derived cluster namespace, or an applicable device-specific namespace.
If MfgCode is null, the NamespaceID field shall indicate a standard namespace.`,xref:{document:"core",section:"7.18.2.42.1"}}),o({name:"NamespaceId",id:1,type:"namespace",conformance:"M",details:`The NamespaceID field shall identify a namespace.
The common and device-specific semantic tag namespaces are listed in StandardNamespaces.`,xref:{document:"core",section:"7.18.2.42.2"}}),o({name:"Tag",id:2,type:"tag",conformance:"M",details:`The Tag field shall be the ID of a semantic tag located within the namespace indicated by NamespaceID.
A device may expose tags from the common or device-specific namespaces and from manufacturer-specific namespaces in a single TagList.`,xref:{document:"core",section:"7.18.2.42.3"}}),o({name:"Label",id:3,type:"string",conformance:"O",constraint:"max 64",default:null,quality:"X",details:`The Label field, if present, shall contain human-readable text suitable for display on a client. The content of the Label field is defined by the manufacturer.
This field shall be present when the MfgCode is not null. This field SHOULD NOT be used if the Tag is from a standard namespace, unless the Tag requires further qualification. For example: A Tag that has the meaning of "room" in a location namespace, would require the a label string to qualify the type of room, such as "1", "2b", "Bathroom", etc.`,xref:{document:"core",section:"7.18.2.42.4"}})]});A.children.push(HS);var jS=C({name:"namespace",type:"uint8",description:"Namespace",isSeed:!0,details:"The Namespace type identifies the namespace used for a semantic tag.",xref:{document:"core",section:"7.18.2.43"}});A.children.push(jS);var GS=C({name:"tag",type:"uint8",description:"Tag",isSeed:!0,details:"The Tag type shall identify a semantic tag located within a namespace.",xref:{document:"core",section:"7.18.2.44"}});A.children.push(GS);var zS=C({name:"WildcardPathFlagsBitmap",type:"map8",details:"The WildcardPathFlagsBitmap indicates flags that apply to the path, affecting wildcard expansion. The following flags are defined:",xref:{document:"core",section:"8.9.2.3"},children:[o({name:"WildcardSkipRootNode",constraint:"0",description:"Skip the Root Node endpoint (endpoint 0) during wildcard expansion."}),o({name:"WildcardSkipGlobalAttributes",constraint:"1",description:"Skip several large global attributes during wildcard expansion."}),o({name:"WildcardSkipAttributeList",constraint:"2",description:"Skip the AttributeList global attribute during wildcard expansion."}),o({name:"WildcardSkipEventList",constraint:"3",description:"Skip the EventList global attribute during wildcard expansion."}),o({name:"WildcardSkipCommandLists",constraint:"4",description:"Skip the AcceptedCommandList and GeneratedCommandList global attributes during wildcard expansion."}),o({name:"WildcardSkipCustomElements",constraint:"5",description:"Skip any manufacturer-specific clusters or attributes during wildcard expansion."}),o({name:"WildcardSkipFixedAttributes",constraint:"6",description:"Skip any Fixed (F) quality attributes during wildcard expansion."}),o({name:"WildcardSkipChangesOmittedAttributes",constraint:"7",description:"Skip any Changes Omitted (C) quality attributes during wildcard expansion."}),o({name:"WildcardSkipDiagnosticsClusters",constraint:"8",description:"Skip all clusters with the Diagnostics (K) quality during wildcard expansion."})]});A.children.push(zS);var KS=C({name:"SoftwareVersionCertificationStatusEnum",type:"enum8",details:"The values 0 through 2 shall correspond to the values 0 through 2 used in certification_type in the Certification Declaration.",xref:{document:"core",section:"11.23.7.2"},children:[o({name:"DevTest",id:0,conformance:"M",description:"used for development and test purposes (These will typically not be placed in DCL)"}),o({name:"Provisional",id:1,conformance:"M",description:"used for a SoftwareVersion when going into certification testing (These might or might not be placed in DCL, depending on CSA policy and procedures)"}),o({name:"Certified",id:2,conformance:"M",description:"used for a SoftwareVersion which has been certified"}),o({name:"Revoked",id:3,conformance:"M",description:"used for a SoftwareVersion which has been revoked"})]});A.children.push(KS);var XS=C({name:"any",description:"A datatype that may represent any value.",metatype:"any",details:"We use this type in places where the Matter specification allows for values of any type."});A.children.push(XS);var YS=C({name:"subject-id",type:"uint64",description:"A subject granted privileges to interact with a node.",details:"The Matter specifications do not define this formally as a global but the core specification references it (as subject-id or SubjectID) from a number of different clusters."});A.children.push(YS);var Jf=p({name:"ClusterRevision",id:65533,type:"uint16",access:"R V",conformance:"M",constraint:"min 1",isSeed:!0,quality:"F",details:`The ClusterRevision attribute indicates the revision of the server cluster specification supported by the cluster instance. An implementation of a cluster specification before the ClusterRevision attribute was added shall have an assumed cluster revision of 0 (zero). For a new cluster specification, the initial value for the ClusterRevision attribute shall be 1 (not zero).
A history of revision numbers for a cluster specification release is listed in the Revision History section for a cluster specification. Each new revision of a cluster specification shall specify a new revision number incremented (by 1) from the last. The highest revision number in a cluster specification\u2019s Revision History is the revision number for the cluster specification. Therefore, a ClusterRevision attribute value shall be the (highest) revision number of the cluster specification that has been implemented.`,xref:{document:"core",section:"7.13.1"}});A.children.push(Jf);var Ic=p({name:"FeatureMap",id:65532,type:"map32",access:"R V",conformance:"M",default:0,isSeed:!0,quality:"F",details:`Each instance of a cluster shall support this attribute.
The FeatureMap attribute shall indicate whether the server supports zero or more optional cluster features. A cluster feature is a set of cluster elements that are mandatory or optional for a defined feature of the cluster. If a cluster feature is supported by the cluster instance, then the corresponding bit shall be set to 1, otherwise the bit shall be set to 0 (zero). All undefined bits in this attribute shall be set to 0 (zero).
The set of cluster elements that are designated as mandatory (M) are implicitly part of the mandatory cluster feature set, and do not have a bit in the FeatureMap attribute.
A cluster specification shall support this attribute if the cluster supports features. If a cluster specification is revised to support features (and so this attribute), each bit in the FeatureMap attribute shall have a defined default value (1 or 0), to conform with the previous revision of the cluster specification, that did not support the FeatureMap attribute. The value of 1 means the feature elements were mandatory (M) in the previous revision. The value of 0 (zero) means the elements were optional in the previous revision.
Any newly created feature set of a cluster shall be dependent on that cluster.
Feature sets are revision controlled as part of a cluster using the ClusterRevision attribute. The cluster specification is the independent element that is revision controlled. A remote application reading the FeatureMap Attribute and ClusterRevision Attribute will then know exactly what features are supported in the cluster instance.
Each feature set shall be well defined within the cluster specification. Each feature shall be mapped to a short capitalized code name for the feature set to be referenced as a conformance tag in the cluster specification text, including the Conformance columns defining the elements of the cluster.
If a cluster defines more than 32 feature sets, then it will be necessary to add another feature bitmap attribute. Any client trying to reference the new feature set will know about the new bitmap, because it knows about the new feature set(s). Legacy products will not know about the new feature set nor the new bitmap.
For a cluster whose definition which does not define a FeatureMap, the server shall set this attribute to 0 (zero).
Please see Feature Conformance for details on conformance.`,xref:{document:"core",section:"7.13.2"}});A.children.push(Ic);var ZS=p({name:"AttributeList",id:65531,type:"list",access:"R V",conformance:"M",isSeed:!0,quality:"F",details:"Each instance of a cluster shall support this attribute. This attribute shall be a list of the attribute IDs of the attributes supported by the cluster instance.",xref:{document:"core",section:"7.13.3"},children:[o({name:"entry",type:"attrib-id"})]});A.children.push(ZS);var QS=p({name:"EventList",id:65530,type:"list",access:"R V",conformance:"P, M",isSeed:!0,quality:"F",details:"Each instance of a cluster shall support this attribute. This attribute shall be a list of the event IDs of the events supported by the cluster instance.",xref:{document:"core",section:"7.13.6"},children:[o({name:"entry",type:"event-id"})]});A.children.push(QS);var JS=p({name:"AcceptedCommandList",id:65529,type:"list",access:"R V",conformance:"M",isSeed:!0,quality:"F",details:`This attribute is a list of client generated commands which are supported by this cluster server instance.
Each instance of a cluster shall support this attribute.
This attribute shall be a list of the command IDs for client generated commands that are supported and processed by the server.
For each client request command in this list that mandates a response from the server, the response command shall be indicated in the GeneratedCommandList attribute.`,xref:{document:"core",section:"7.13.4"},children:[o({name:"entry",type:"command-id"})]});A.children.push(JS);var e3=p({name:"GeneratedCommandList",id:65528,type:"list",access:"R V",conformance:"M",isSeed:!0,quality:"F",details:`This attribute is a list of server generated commands. A server generated command is a server to client command.
Each instance of a cluster shall support this attribute.
This attribute shall be a list of the command IDs for server generated commands.
For each command in this list that is a response to a client command request, the request command shall be indicated in the AcceptedCommandList attribute.`,xref:{document:"core",section:"7.13.5"},children:[o({name:"entry",type:"command-id"})]});A.children.push(e3);var t3=o({name:"FabricIndex",id:254,type:"fabric-idx",access:"R F V",conformance:"M",constraint:"1 to 254",isSeed:!0,details:`This field shall be present for fabric-scoped data. This field does not have to be defined explicitly in the field table for fabric-scoped data.
This field shall NOT be present in a write interaction. For a write interaction, the server shall provide the value of the accessing fabric-index as the FabricIndex field value to processing logic, after receipt of the interaction. For a read interaction this field shall be included in all reported data that is defined as fabric-scoped.`,xref:{document:"core",section:"7.13.7"}});A.children.push(t3);var n3=Oe({name:"Base",classification:"base",xref:{document:"device",section:"1.1"},children:[o({name:"conditions",type:"enum8",children:[o({name:"Zha",description:"Zigbee Home Automation standard",xref:{document:"device",section:"1.1.3.1"}}),o({name:"Zse",description:"Zigbee Smart Energy standard",xref:{document:"device",section:"1.1.3.1"}}),o({name:"Gp",description:"Zigbee Green Power standard",xref:{document:"device",section:"1.1.3.1"}}),o({name:"Zigbee",description:"Zigbee standard",xref:{document:"device",section:"1.1.3.1"}}),o({name:"SuZi",description:"Zigbee PRO Sub-GHz standard",xref:{document:"device",section:"1.1.3.1"}}),o({name:"Matter",description:"Matter standard",xref:{document:"device",section:"1.1.3.1"}}),o({name:"LanguageLocale",description:"The node supports localization for conveying text to the user",xref:{document:"device",section:"1.1.3.3"}}),o({name:"TimeLocale",description:"The node supports localization for conveying time to the user",xref:{document:"device",section:"1.1.3.3"}}),o({name:"UnitLocale",description:"The node supports localization for conveying units of measure to the user",xref:{document:"device",section:"1.1.3.3"}}),o({name:"Sit",description:"The node is a short idle time intermittently connected device",xref:{document:"device",section:"1.1.4"}}),o({name:"Lit",description:"The node is a long idle time intermittently connected device",xref:{document:"device",section:"1.1.4"}}),o({name:"Active",description:"The node is always able to communicate",xref:{document:"device",section:"1.1.4"}}),o({name:"Node",xref:{document:"device",section:"1.1.5"}}),o({name:"App",xref:{document:"device",section:"1.1.5"}}),o({name:"Simple",xref:{document:"device",section:"1.1.5"}}),o({name:"Dynamic",xref:{document:"device",section:"1.1.5"}}),o({name:"Composed",xref:{document:"device",section:"1.1.5"}}),o({name:"Client",xref:{document:"device",section:"1.1.6"}}),o({name:"Server",xref:{document:"device",section:"1.1.6"}}),o({name:"Duplicate",xref:{document:"device",section:"1.1.6"}}),o({name:"BridgedPowerSourceInfo",xref:{document:"device",section:"1.1.6"}})]}),x({name:"Descriptor",id:29,conformance:"M",element:"serverCluster",xref:{document:"device",section:"1.1.7"},children:[x({name:"TAGLIST",conformance:"Duplicate",element:"feature"})]}),x({name:"Binding",id:30,conformance:"Simple & Client",element:"serverCluster",xref:{document:"device",section:"1.1.7"}}),x({name:"FixedLabel",id:64,conformance:"O",element:"serverCluster",xref:{document:"device",section:"1.1.7"}}),x({name:"UserLabel",id:65,conformance:"O",element:"serverCluster",xref:{document:"device",section:"1.1.7"}})]});A.children.push(n3);var i3=Oe({name:"RootNode",id:22,category:"Utility",classification:"node",details:`This defines conformance for a root node endpoint (see System Model specification). This endpoint is akin to a "read me first" endpoint that describes itself and the other endpoints that make up the node.
  \u2022 Device types with Endpoint scope shall NOT be supported on the same endpoint as this device     type.
  \u2022 Clusters with an Application role shall NOT be supported on the same endpoint as this device     type.
  \u2022 Other device types with Node scope may be supported on the same endpoint as this device type.`,xref:{document:"device",section:"2.1"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:22,revision:2}],element:"attribute"})]}),x({name:"BasicInformation",id:40,conformance:"M",element:"serverCluster",quality:"I",xref:{document:"device",section:"2.1.5"}}),x({name:"AccessControl",id:31,conformance:"M",element:"serverCluster",quality:"I",xref:{document:"device",section:"2.1.5"}}),x({name:"PowerSourceConfiguration",id:46,conformance:"O, D",element:"serverCluster",quality:"I",xref:{document:"device",section:"2.1.5"}}),x({name:"TimeSynchronization",id:56,conformance:"O",element:"serverCluster",quality:"I",xref:{document:"device",section:"2.1.5"}}),x({name:"GroupKeyManagement",id:63,conformance:"M",element:"serverCluster",quality:"I",xref:{document:"device",section:"2.1.5"}}),x({name:"GeneralCommissioning",id:48,conformance:"M",element:"serverCluster",quality:"I",xref:{document:"device",section:"2.1.5"}}),x({name:"NetworkCommissioning",id:49,conformance:"!CustomNetworkConfig",element:"serverCluster",xref:{document:"device",section:"2.1.5"}}),x({name:"AdministratorCommissioning",id:60,conformance:"M",element:"serverCluster",quality:"I",xref:{document:"device",section:"2.1.5"}}),x({name:"OperationalCredentials",id:62,conformance:"M",element:"serverCluster",quality:"I",xref:{document:"device",section:"2.1.5"}}),x({name:"LocalizationConfiguration",id:43,conformance:"LanguageLocale",element:"serverCluster",quality:"I",xref:{document:"device",section:"2.1.5"}}),x({name:"TimeFormatLocalization",id:44,conformance:"TimeLocale",element:"serverCluster",quality:"I",xref:{document:"device",section:"2.1.5"}}),x({name:"UnitLocalization",id:45,conformance:"UnitLocale",element:"serverCluster",quality:"I",xref:{document:"device",section:"2.1.5"}}),x({name:"GeneralDiagnostics",id:51,conformance:"M",element:"serverCluster",quality:"I",xref:{document:"device",section:"2.1.5"}}),x({name:"DiagnosticLogs",id:50,conformance:"O",element:"serverCluster",quality:"I",xref:{document:"device",section:"2.1.5"}}),x({name:"SoftwareDiagnostics",id:52,conformance:"O",element:"serverCluster",quality:"I",xref:{document:"device",section:"2.1.5"}}),x({name:"EthernetNetworkDiagnostics",id:55,conformance:"[Ethernet]",element:"serverCluster",quality:"I",xref:{document:"device",section:"2.1.5"}}),x({name:"WiFiNetworkDiagnostics",id:54,conformance:"[Wi, 0, i]",element:"serverCluster",quality:"I",xref:{document:"device",section:"2.1.5"}}),x({name:"ThreadNetworkDiagnostics",id:53,conformance:"[Thread]",element:"serverCluster",quality:"I",xref:{document:"device",section:"2.1.5"}}),x({name:"IcdManagement",id:70,conformance:"SIT",element:"serverCluster",quality:"I",xref:{document:"device",section:"2.1.5"},children:[x({name:"LONGIDLETIMESUPPORT",conformance:"P, LIT",element:"feature"})]}),o({name:"conditions",type:"enum8",children:[o({name:"CustomNetworkConfig",description:"The node only supports out-of-band-configured networking (e.g. rich user interface, manufacturer-specific means, custom commissioning flows, or future IP-compliant network technology not yet directly supported by NetworkCommissioning cluster).",xref:{document:"device",section:"2.1.3"}})]})]});A.children.push(i3);var r3=Oe({name:"PowerSource",id:17,category:"Utility",classification:"utility",xref:{document:"device",section:"2.2"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:17,revision:1}],element:"attribute"})]}),x({name:"PowerSource",id:47,conformance:"M",element:"serverCluster",xref:{document:"device",section:"2.2.3"}})]});A.children.push(r3);var o3=Oe({name:"OtaRequestor",id:18,category:"Utility",classification:"utility",details:"An OTA Requestor is a device that is capable of receiving an OTA software update.",xref:{document:"device",section:"2.3"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:18,revision:1}],element:"attribute"})]}),x({name:"OtaSoftwareUpdateRequestor",id:42,conformance:"M",element:"serverCluster",xref:{document:"device",section:"2.3.3"}}),x({name:"OtaSoftwareUpdateProvider",id:41,conformance:"M",element:"clientCluster",xref:{document:"device",section:"2.3.3"}})]});A.children.push(o3);var a3=Oe({name:"OtaProvider",id:20,category:"Utility",classification:"utility",details:"An OTA Provider is a node that is capable of providing an OTA software update to other nodes on the same fabric.",xref:{document:"device",section:"2.4"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:20,revision:1}],element:"attribute"})]}),x({name:"OtaSoftwareUpdateRequestor",id:42,conformance:"O",element:"clientCluster",xref:{document:"device",section:"2.4.3"}}),x({name:"OtaSoftwareUpdateProvider",id:41,conformance:"M",element:"serverCluster",xref:{document:"device",section:"2.4.3"}})]});A.children.push(a3);var s3=Oe({name:"BridgedNode",id:19,category:"Utility",classification:"utility",details:'This defines conformance for a Bridged Node root endpoint. This endpoint is akin to a "read me first" endpoint that describes itself and any other endpoints that make up the Bridged Node. A Bridged Node endpoint represents a device on a foreign network, but is not the root endpoint of the bridge itself.',xref:{document:"device",section:"2.5"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:19,revision:2}],element:"attribute"})]}),x({name:"BridgedDeviceBasicInformation",id:57,conformance:"M",element:"serverCluster",xref:{document:"device",section:"2.5.5"}}),x({name:"PowerSourceConfiguration",id:46,conformance:"BridgedPowerSourceInfo, D",element:"serverCluster",xref:{document:"device",section:"2.5.5"}}),x({name:"PowerSource",id:47,conformance:"BridgedPowerSourceInfo",element:"serverCluster",xref:{document:"device",section:"2.5.5"}})]});A.children.push(s3);var c3=Oe({name:"ElectricalSensor",id:1296,category:"Utility",classification:"utility",details:"An Electrical Sensor device measures the electrical power and/or energy being imported and/or exported.",xref:{document:"device",section:"2.6"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:1296,revision:1}],element:"attribute"})]}),x({name:"PowerTopology",id:156,conformance:"M",element:"serverCluster",xref:{document:"device",section:"2.6.4"}}),x({name:"ElectricalPowerMeasurement",id:144,conformance:"O.a+",element:"serverCluster",xref:{document:"device",section:"2.6.4"}}),x({name:"ElectricalEnergyMeasurement",id:145,conformance:"O.a+",element:"serverCluster",xref:{document:"device",section:"2.6.4"}})]});A.children.push(c3);var l3=Oe({name:"DeviceEnergyManagement",id:1293,category:"Utility",classification:"utility",details:"A Device Energy Management device provides reporting and optionally adjustment of the electrical power planned on being consumed or produced by the device.",xref:{document:"device",section:"2.7"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:1293,revision:1}],element:"attribute"})]}),x({name:"DeviceEnergyManagement",id:152,conformance:"P, M",element:"serverCluster",xref:{document:"device",section:"2.7.3"}}),x({name:"DeviceEnergyManagementMode",id:159,conformance:"P, M",element:"serverCluster",xref:{document:"device",section:"2.7.3"}})]});A.children.push(l3);var d3=Oe({name:"OnOffLight",id:256,category:"Lighting",classification:"simple",details:"The On/Off Light is a lighting device that is capable of being switched on or off by means of a bound controller device such as an On/Off Light Switch or a Dimmer Switch. In addition, an on/off light is also capable of being switched by means of a bound occupancy sensor.",xref:{document:"device",section:"4.1"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:256,revision:3}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"4.1.4"},children:[x({name:"TriggerEffect",conformance:"M",element:"command"})]}),x({name:"Groups",id:4,conformance:"M",element:"serverCluster",xref:{document:"device",section:"4.1.4"}}),x({name:"ScenesManagement",id:98,conformance:"P, M",element:"serverCluster",xref:{document:"device",section:"4.1.4"},children:[x({name:"CopyScene",conformance:"P, M",element:"command"})]}),x({name:"OnOff",id:6,conformance:"M",element:"serverCluster",xref:{document:"device",section:"4.1.4"},children:[x({name:"LIGHTING",conformance:"M",element:"feature"})]}),x({name:"LevelControl",id:8,conformance:"O",element:"serverCluster",xref:{document:"device",section:"4.1.4"},children:[x({name:"ONOFF",conformance:"M",element:"feature"}),x({name:"LIGHTING",conformance:"M",element:"feature"}),x({name:"CurrentLevel",constraint:"1 to 254",element:"attribute"}),x({name:"MinLevel",constraint:"1",element:"attribute"}),x({name:"MaxLevel",constraint:"254",element:"attribute"})]}),x({name:"OccupancySensing",id:1030,conformance:"O",element:"clientCluster",xref:{document:"device",section:"4.1.4"}})]});A.children.push(d3);var u3=Oe({name:"DimmableLight",id:257,type:"OnOffLight",category:"Lighting",classification:"simple",details:"A Dimmable Light is a lighting device that is capable of being switched on or off and the intensity of its light adjusted by means of a bound controller device such as a Dimmer Switch or a Color Dimmer Switch. In addition, a Dimmable Light device is also capable of being switched by means of a bound occupancy sensor or other device(s).",xref:{document:"device",section:"4.2"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:257,revision:3}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"4.2.4"},children:[x({name:"TriggerEffect",conformance:"M",element:"command"})]}),x({name:"Groups",id:4,conformance:"M",element:"serverCluster",xref:{document:"device",section:"4.2.4"}}),x({name:"ScenesManagement",id:98,conformance:"P, M",element:"serverCluster",xref:{document:"device",section:"4.2.4"},children:[x({name:"CopyScene",conformance:"P, M",element:"command"})]}),x({name:"OnOff",id:6,conformance:"M",element:"serverCluster",xref:{document:"device",section:"4.2.4"},children:[x({name:"LIGHTING",conformance:"M",element:"feature"})]}),x({name:"LevelControl",id:8,conformance:"M",element:"serverCluster",xref:{document:"device",section:"4.2.4"},children:[x({name:"LIGHTING",conformance:"M",element:"feature"}),x({name:"ONOFF",conformance:"M",element:"feature"}),x({name:"CurrentLevel",constraint:"1 to 254",element:"attribute"}),x({name:"MinLevel",constraint:"1",element:"attribute"}),x({name:"MaxLevel",constraint:"254",element:"attribute"})]}),x({name:"OccupancySensing",id:1030,conformance:"O",element:"clientCluster",xref:{document:"device",section:"4.2.4"}})]});A.children.push(u3);var m3=Oe({name:"ColorTemperatureLight",id:268,type:"DimmableLight",category:"Lighting",classification:"simple",details:"A Color Temperature Light is a lighting device that is capable of being switched on or off, the intensity of its light adjusted, and its color temperature adjusted by means of a bound controller device such as a Color Dimmer Switch.",xref:{document:"device",section:"4.3"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:268,revision:4}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"4.3.4"},children:[x({name:"TriggerEffect",conformance:"M",element:"command"})]}),x({name:"Groups",id:4,conformance:"M",element:"serverCluster",xref:{document:"device",section:"4.3.4"}}),x({name:"ScenesManagement",id:98,conformance:"P, M",element:"serverCluster",xref:{document:"device",section:"4.3.4"},children:[x({name:"CopyScene",conformance:"P, M",element:"command"})]}),x({name:"OnOff",id:6,conformance:"M",element:"serverCluster",xref:{document:"device",section:"4.3.4"},children:[x({name:"LIGHTING",conformance:"M",element:"feature"})]}),x({name:"LevelControl",id:8,conformance:"M",element:"serverCluster",xref:{document:"device",section:"4.3.4"},children:[x({name:"ONOFF",conformance:"M",element:"feature"}),x({name:"LIGHTING",conformance:"M",element:"feature"}),x({name:"CurrentLevel",constraint:"1 to 254",element:"attribute"}),x({name:"MinLevel",constraint:"1",element:"attribute"}),x({name:"MaxLevel",constraint:"254",element:"attribute"})]}),x({name:"ColorControl",id:768,conformance:"M",element:"serverCluster",xref:{document:"device",section:"4.3.4"},children:[x({name:"COLORTEMPERATURE",conformance:"M",element:"feature"}),x({name:"RemainingTime",conformance:"M",element:"attribute"})]}),x({name:"OccupancySensing",id:1030,conformance:"O",element:"clientCluster",xref:{document:"device",section:"4.3.4"}})]});A.children.push(m3);var h3=Oe({name:"ExtendedColorLight",id:269,type:"ColorTemperatureLight",category:"Lighting",classification:"simple",details:"An Extended Color Light is a lighting device that is capable of being switched on or off, the intensity of its light adjusted, and its color adjusted by means of a bound controller device such as a Color Dimmer Switch or Control Bridge. The device supports adjustment of color by means of hue/saturation, enhanced hue, color looping, XY coordinates, and color temperature. In addition, the extended color light is also capable of being switched by means of a bound occupancy sensor.",xref:{document:"device",section:"4.4"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:269,revision:4}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"4.4.4"},children:[x({name:"TriggerEffect",conformance:"M",element:"command"})]}),x({name:"Groups",id:4,conformance:"M",element:"serverCluster",xref:{document:"device",section:"4.4.4"}}),x({name:"ScenesManagement",id:98,conformance:"P, M",element:"serverCluster",xref:{document:"device",section:"4.4.4"},children:[x({name:"CopyScene",conformance:"P, M",element:"command"})]}),x({name:"OnOff",id:6,conformance:"M",element:"serverCluster",xref:{document:"device",section:"4.4.4"},children:[x({name:"LIGHTING",conformance:"M",element:"feature"})]}),x({name:"LevelControl",id:8,conformance:"M",element:"serverCluster",xref:{document:"device",section:"4.4.4"},children:[x({name:"ONOFF",conformance:"M",element:"feature"}),x({name:"LIGHTING",conformance:"M",element:"feature"}),x({name:"CurrentLevel",constraint:"1 to 254",element:"attribute"}),x({name:"MinLevel",constraint:"1",element:"attribute"}),x({name:"MaxLevel",constraint:"254",element:"attribute"})]}),x({name:"ColorControl",id:768,conformance:"M",element:"serverCluster",xref:{document:"device",section:"4.4.4"},children:[x({name:"HUESATURATION",conformance:"O",element:"feature"}),x({name:"ENHANCEDHUE",conformance:"O",element:"feature"}),x({name:"COLORLOOP",conformance:"O",element:"feature"}),x({name:"XY",conformance:"M",element:"feature"}),x({name:"COLORTEMPERATURE",conformance:"M",element:"feature"}),x({name:"RemainingTime",conformance:"M",element:"attribute"})]}),x({name:"OccupancySensing",id:1030,conformance:"O",element:"clientCluster",xref:{document:"device",section:"4.4.4"}})]});A.children.push(h3);var f3=Oe({name:"OnOffPlugInUnit",id:266,category:"Smart Plugs/Outlets and other Actuators",classification:"simple",details:"An On/Off Plug-in Unit is a device that provides power to another device that is plugged into it, and is capable of switching that provided power on or off.",xref:{document:"device",section:"5.1"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:266,revision:3}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"5.1.4"},children:[x({name:"TriggerEffect",conformance:"M",element:"command"})]}),x({name:"Groups",id:4,conformance:"M",element:"serverCluster",xref:{document:"device",section:"5.1.4"}}),x({name:"ScenesManagement",id:98,conformance:"P, M",element:"serverCluster",xref:{document:"device",section:"5.1.4"},children:[x({name:"CopyScene",conformance:"P, M",element:"command"})]}),x({name:"OnOff",id:6,conformance:"M",element:"serverCluster",xref:{document:"device",section:"5.1.4"},children:[x({name:"LIGHTING",conformance:"M",element:"feature"})]}),x({name:"LevelControl",id:8,conformance:"O",element:"serverCluster",xref:{document:"device",section:"5.1.4"},children:[x({name:"ONOFF",conformance:"M",element:"feature"}),x({name:"LIGHTING",conformance:"M",element:"feature"}),x({name:"CurrentLevel",constraint:"1 to 254",element:"attribute"}),x({name:"MinLevel",constraint:"1",element:"attribute"}),x({name:"MaxLevel",constraint:"254",element:"attribute"})]}),x({name:"OccupancySensing",id:1030,conformance:"O",element:"clientCluster",xref:{document:"device",section:"5.1.4"}})]});A.children.push(f3);var p3=Oe({name:"DimmablePlugInUnit",id:267,category:"Smart Plugs/Outlets and other Actuators",classification:"simple",details:"A Dimmable Plug-In Unit is a device that provides power to another device that is plugged into it, and is capable of being switched on or off and have its level adjusted. The Dimmable Plug-in Unit is typically used to control a conventional non-communicating light through its mains connection using phase cutting.",xref:{document:"device",section:"5.2"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:267,revision:4}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"5.2.4"},children:[x({name:"TriggerEffect",conformance:"M",element:"command"})]}),x({name:"Groups",id:4,conformance:"M",element:"serverCluster",xref:{document:"device",section:"5.2.4"}}),x({name:"ScenesManagement",id:98,conformance:"P, M",element:"serverCluster",xref:{document:"device",section:"5.2.4"},children:[x({name:"CopyScene",conformance:"P, M",element:"command"})]}),x({name:"OnOff",id:6,conformance:"M",element:"serverCluster",xref:{document:"device",section:"5.2.4"},children:[x({name:"LIGHTING",conformance:"M",element:"feature"})]}),x({name:"LevelControl",id:8,conformance:"M",element:"serverCluster",xref:{document:"device",section:"5.2.4"},children:[x({name:"ONOFF",conformance:"M",element:"feature"}),x({name:"LIGHTING",conformance:"M",element:"feature"}),x({name:"CurrentLevel",constraint:"1 to 254",element:"attribute"}),x({name:"MinLevel",constraint:"1",element:"attribute"}),x({name:"MaxLevel",constraint:"254",element:"attribute"})]}),x({name:"OccupancySensing",id:1030,conformance:"O",element:"clientCluster",xref:{document:"device",section:"5.2.4"}})]});A.children.push(p3);var y3=Oe({name:"Pump",id:771,category:"Smart Plugs/Outlets and other Actuators",classification:"simple",details:"A Pump device is a pump that may have variable speed. It may have optional built-in sensors and a regulation mechanism. It is typically used for pumping fluids like water.",xref:{document:"device",section:"5.3"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:771,revision:3}],element:"attribute"})]}),x({name:"OnOff",id:6,conformance:"M",element:"serverCluster",xref:{document:"device",section:"5.3.4"}}),x({name:"PumpConfigurationAndControl",id:512,conformance:"M",element:"serverCluster",xref:{document:"device",section:"5.3.4"}}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"5.3.4"}}),x({name:"LevelControl",id:8,conformance:"O",element:"serverCluster",xref:{document:"device",section:"5.3.4"}}),x({name:"Groups",id:4,conformance:"O",element:"serverCluster",xref:{document:"device",section:"5.3.4"}}),x({name:"ScenesManagement",id:98,conformance:"P, O",element:"serverCluster",xref:{document:"device",section:"5.3.4"}}),x({name:"TemperatureMeasurement",id:1026,conformance:"O",element:"serverCluster",xref:{document:"device",section:"5.3.4"}}),x({name:"PressureMeasurement",id:1027,conformance:"O",element:"serverCluster",xref:{document:"device",section:"5.3.4"}}),x({name:"FlowMeasurement",id:1028,conformance:"O",element:"serverCluster",xref:{document:"device",section:"5.3.4"}}),x({name:"TemperatureMeasurement",id:1026,conformance:"O",element:"clientCluster",xref:{document:"device",section:"5.3.4"}}),x({name:"PressureMeasurement",id:1027,conformance:"O",element:"clientCluster",xref:{document:"device",section:"5.3.4"}}),x({name:"FlowMeasurement",id:1028,conformance:"O",element:"clientCluster",xref:{document:"device",section:"5.3.4"}}),x({name:"OccupancySensing",id:1030,conformance:"O",element:"clientCluster",xref:{document:"device",section:"5.3.4"}})]});A.children.push(y3);var g3=Oe({name:"WaterValve",id:66,category:"Smart Plugs/Outlets and other Actuators",classification:"simple",details:"This defines conformance to the Water Valve device type.",xref:{document:"device",section:"5.4"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:66,revision:1}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"5.4.4"}}),x({name:"ValveConfigurationAndControl",id:129,conformance:"M",element:"serverCluster",xref:{document:"device",section:"5.4.4"}}),x({name:"FlowMeasurement",id:1028,conformance:"O",element:"serverCluster",xref:{document:"device",section:"5.4.4"}}),x({name:"FlowMeasurement",id:1028,conformance:"O",element:"clientCluster",xref:{document:"device",section:"5.4.4"}})]});A.children.push(g3);var v3=Oe({name:"OnOffLightSwitch",id:259,category:"Switches and Controls",classification:"simple",details:"An On/Off Light Switch is a controller device that, when bound to a lighting device such as an On/Off Light, is capable of being used to switch the device on or off.",xref:{document:"device",section:"6.1"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:259,revision:3}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"6.1.4"}}),x({name:"Identify",id:3,conformance:"M",element:"clientCluster",xref:{document:"device",section:"6.1.4"}}),x({name:"Groups",id:4,conformance:"O",element:"clientCluster",xref:{document:"device",section:"6.1.4"}}),x({name:"OnOff",id:6,conformance:"M",element:"clientCluster",xref:{document:"device",section:"6.1.4"}}),x({name:"ScenesManagement",id:98,conformance:"P, O",element:"clientCluster",xref:{document:"device",section:"6.1.4"}})]});A.children.push(v3);var b3=Oe({name:"DimmerSwitch",id:260,type:"OnOffLightSwitch",category:"Switches and Controls",classification:"simple",details:"A Dimmer Switch is a controller device that, when bound to a lighting device such as a Dimmable Light, is capable of being used to switch the device on or off and adjust the intensity of the light being emitted.",xref:{document:"device",section:"6.2"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:260,revision:3}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"6.2.4"}}),x({name:"Identify",id:3,conformance:"M",element:"clientCluster",xref:{document:"device",section:"6.2.4"}}),x({name:"Groups",id:4,conformance:"O",element:"clientCluster",xref:{document:"device",section:"6.2.4"}}),x({name:"ScenesManagement",id:98,conformance:"P, O",element:"clientCluster",xref:{document:"device",section:"6.2.4"}}),x({name:"OnOff",id:6,conformance:"M",element:"clientCluster",xref:{document:"device",section:"6.2.4"}}),x({name:"LevelControl",id:8,conformance:"M",element:"clientCluster",xref:{document:"device",section:"6.2.4"}})]});A.children.push(b3);var x3=Oe({name:"ColorDimmerSwitch",id:261,type:"DimmerSwitch",category:"Switches and Controls",classification:"simple",details:"A Color Dimmer Switch is a controller device that, when bound to a lighting device such as an Extended Color Light, is capable of being used to adjust the color of the light being emitted.",xref:{document:"device",section:"6.3"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:261,revision:3}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"6.3.4"}}),x({name:"Identify",id:3,conformance:"M",element:"clientCluster",xref:{document:"device",section:"6.3.4"}}),x({name:"Groups",id:4,conformance:"O",element:"clientCluster",xref:{document:"device",section:"6.3.4"}}),x({name:"ScenesManagement",id:98,conformance:"P, O",element:"clientCluster",xref:{document:"device",section:"6.3.4"}}),x({name:"OnOff",id:6,conformance:"M",element:"clientCluster",xref:{document:"device",section:"6.3.4"}}),x({name:"LevelControl",id:8,conformance:"M",element:"clientCluster",xref:{document:"device",section:"6.3.4"}}),x({name:"ColorControl",id:768,conformance:"M",element:"clientCluster",xref:{document:"device",section:"6.3.4"}})]});A.children.push(x3);var w3=Oe({name:"ControlBridge",id:2112,category:"Switches and Controls",classification:"simple",details:"A Control Bridge is a controller device that, when bound to a lighting device such as an Extended Color Light, is capable of being used to switch the device on or off, adjust the intensity of the light being emitted and adjust the color of the light being emitted. In addition, a Control Bridge device is capable of being used for setting scenes.",xref:{document:"device",section:"6.4"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:2112,revision:3}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"6.4.4"}}),x({name:"Identify",id:3,conformance:"M",element:"clientCluster",xref:{document:"device",section:"6.4.4"}}),x({name:"Groups",id:4,conformance:"M",element:"clientCluster",xref:{document:"device",section:"6.4.4"}}),x({name:"ScenesManagement",id:98,conformance:"P, M",element:"clientCluster",xref:{document:"device",section:"6.4.4"}}),x({name:"OnOff",id:6,conformance:"M",element:"clientCluster",xref:{document:"device",section:"6.4.4"}}),x({name:"LevelControl",id:8,conformance:"M",element:"clientCluster",xref:{document:"device",section:"6.4.4"}}),x({name:"ColorControl",id:768,conformance:"M",element:"clientCluster",xref:{document:"device",section:"6.4.4"}}),x({name:"IlluminanceMeasurement",id:1024,conformance:"O",element:"clientCluster",xref:{document:"device",section:"6.4.4"}}),x({name:"OccupancySensing",id:1030,conformance:"O",element:"clientCluster",xref:{document:"device",section:"6.4.4"}})]});A.children.push(w3);var T3=Oe({name:"PumpController",id:772,category:"Switches and Controls",classification:"simple",details:"A Pump Controller device is capable of configuring and controlling a Pump device.",xref:{document:"device",section:"6.5"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:772,revision:3}],element:"attribute"})]}),x({name:"Binding",id:30,conformance:"M",element:"clientCluster",xref:{document:"device",section:"6.5.3"}}),x({name:"OnOff",id:6,conformance:"M",element:"clientCluster",xref:{document:"device",section:"6.5.3"}}),x({name:"PumpConfigurationAndControl",id:512,conformance:"M",element:"clientCluster",xref:{document:"device",section:"6.5.3"}}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"6.5.3"}}),x({name:"Identify",id:3,conformance:"O",element:"clientCluster",xref:{document:"device",section:"6.5.3"}}),x({name:"Groups",id:4,conformance:"O",element:"clientCluster",xref:{document:"device",section:"6.5.3"}}),x({name:"LevelControl",id:8,conformance:"O",element:"clientCluster",xref:{document:"device",section:"6.5.3"}}),x({name:"ScenesManagement",id:98,conformance:"P, O",element:"clientCluster",xref:{document:"device",section:"6.5.3"}}),x({name:"TemperatureMeasurement",id:1026,conformance:"O",element:"clientCluster",xref:{document:"device",section:"6.5.3"}}),x({name:"PressureMeasurement",id:1027,conformance:"O",element:"clientCluster",xref:{document:"device",section:"6.5.3"}}),x({name:"FlowMeasurement",id:1028,conformance:"O",element:"clientCluster",xref:{document:"device",section:"6.5.3"}})]});A.children.push(T3);var C3=Oe({name:"GenericSwitch",id:15,category:"Switches and Controls",classification:"simple",details:"This defines conformance for the Generic Switch device type.",xref:{document:"device",section:"6.6"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:15,revision:3}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"6.6.4"}}),x({name:"Switch",id:59,conformance:"M",element:"serverCluster",xref:{document:"device",section:"6.6.4"}})]});A.children.push(C3);var S3=Oe({name:"ContactSensor",id:21,category:"Sensor",classification:"simple",details:"This defines conformance to the Contact Sensor device type.",xref:{document:"device",section:"7.1"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:21,revision:2}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"7.1.4"}}),x({name:"BooleanState",id:69,conformance:"M",element:"serverCluster",xref:{document:"device",section:"7.1.4"}}),x({name:"BooleanStateConfiguration",id:128,conformance:"O",element:"serverCluster",xref:{document:"device",section:"7.1.4"}})]});A.children.push(S3);var I3=Oe({name:"LightSensor",id:262,category:"Sensor",classification:"simple",details:"A Light Sensor device is a measurement and sensing device that is capable of measuring and reporting the intensity of light (illuminance) to which the sensor is being subjected.",xref:{document:"device",section:"7.2"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:262,revision:3}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"7.2.4"}}),x({name:"IlluminanceMeasurement",id:1024,conformance:"M",element:"serverCluster",xref:{document:"device",section:"7.2.4"}})]});A.children.push(I3);var A3=Oe({name:"OccupancySensor",id:263,category:"Sensor",classification:"simple",details:"An Occupancy Sensor is a measurement and sensing device that is capable of measuring and reporting the occupancy state in a designated area.",xref:{document:"device",section:"7.3"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:263,revision:3}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"7.3.4"}}),x({name:"OccupancySensing",id:1030,conformance:"M",element:"serverCluster",xref:{document:"device",section:"7.3.4"}})]});A.children.push(A3);var M3=Oe({name:"TemperatureSensor",id:770,category:"Sensor",classification:"simple",details:"A Temperature Sensor device reports measurements of temperature.",xref:{document:"device",section:"7.4"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:770,revision:2}],element:"attribute"})]}),x({name:"TemperatureMeasurement",id:1026,conformance:"M",element:"serverCluster",xref:{document:"device",section:"7.4.4"}}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"7.4.4"}})]});A.children.push(M3);var E3=Oe({name:"PressureSensor",id:773,category:"Sensor",classification:"simple",details:"A Pressure Sensor device measures and reports the pressure of a fluid.",xref:{document:"device",section:"7.5"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:773,revision:2}],element:"attribute"})]}),x({name:"PressureMeasurement",id:1027,conformance:"M",element:"serverCluster",xref:{document:"device",section:"7.5.4"}}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"7.5.4"}})]});A.children.push(E3);var O3=Oe({name:"FlowSensor",id:774,category:"Sensor",classification:"simple",details:"A Flow Sensor device measures and reports the flow rate of a fluid.",xref:{document:"device",section:"7.6"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:774,revision:2}],element:"attribute"})]}),x({name:"FlowMeasurement",id:1028,conformance:"M",element:"serverCluster",xref:{document:"device",section:"7.6.4"}}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"7.6.4"}})]});A.children.push(O3);var D3=Oe({name:"HumiditySensor",id:775,category:"Sensor",classification:"simple",details:"A humidity sensor (in most cases a Relative humidity sensor) reports humidity measurements.",xref:{document:"device",section:"7.7"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:775,revision:2}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"7.7.4"}}),x({name:"RelativeHumidityMeasurement",id:1029,conformance:"M",element:"serverCluster",xref:{document:"device",section:"7.7.4"}})]});A.children.push(D3);var R3=Oe({name:"OnOffSensor",id:2128,category:"Sensor",classification:"simple",details:"An On/Off Sensor is a measurement and sensing device that, when bound to a lighting device such as a Dimmable Light, is capable of being used to switch the device on or off.",xref:{document:"device",section:"7.8"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:2128,revision:3}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"7.8.4"}}),x({name:"Identify",id:3,conformance:"M",element:"clientCluster",xref:{document:"device",section:"7.8.4"}}),x({name:"Groups",id:4,conformance:"O",element:"clientCluster",xref:{document:"device",section:"7.8.4"}}),x({name:"ScenesManagement",id:98,conformance:"P, O",element:"clientCluster",xref:{document:"device",section:"7.8.4"}}),x({name:"OnOff",id:6,conformance:"M",element:"clientCluster",xref:{document:"device",section:"7.8.4"}}),x({name:"LevelControl",id:8,conformance:"O",element:"clientCluster",xref:{document:"device",section:"7.8.4"}}),x({name:"ColorControl",id:768,conformance:"O",element:"clientCluster",xref:{document:"device",section:"7.8.4"}})]});A.children.push(R3);var N3=Oe({name:"SmokeCoAlarm",id:118,category:"Sensor",classification:"simple",details:`A Smoke CO Alarm device is capable of sensing smoke, carbon monoxide or both. It is capable of issuing a visual and audible alert to indicate elevated concentration of smoke or carbon monoxide.
Smoke CO Alarms are capable of monitoring themselves and issuing visual and audible alerts for hardware faults, critical low battery conditions, and end of service. Optionally, some of the audible alerts can be temporarily silenced. Smoke CO Alarms are capable of performing a self-test which performs a diagnostic of the primary sensor and issuing a cycle of the audible and visual life safety alarm indications.
Some smoke alarms may be capable of adjusting sensitivity. Smoke CO Alarm may have the ability to detect and report humidity levels, temperature levels, and contamination levels.`,xref:{document:"device",section:"7.9"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:118,revision:1}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"7.9.5"}}),x({name:"Groups",id:4,conformance:"O",element:"serverCluster",xref:{document:"device",section:"7.9.5"}}),x({name:"SmokeCoAlarm",id:92,conformance:"M",element:"serverCluster",xref:{document:"device",section:"7.9.5"}}),x({name:"RelativeHumidityMeasurement",id:1029,conformance:"O",element:"serverCluster",xref:{document:"device",section:"7.9.5"}}),x({name:"TemperatureMeasurement",id:1026,conformance:"O",element:"serverCluster",xref:{document:"device",section:"7.9.5"}}),x({name:"CarbonMonoxideConcentrationMeasurement",id:1036,conformance:"O",element:"serverCluster",xref:{document:"device",section:"7.9.5"}})]});A.children.push(N3);var P3=Oe({name:"AirQualitySensor",id:44,category:"Sensor",classification:"simple",details:`This defines conformance for the Air Quality Sensor device type.
An air quality sensor is a device designed to monitor and measure various parameters related to the quality of ambient air in indoor or outdoor environments.`,xref:{document:"device",section:"7.10"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:44,revision:1}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"7.10.4"}}),x({name:"AirQuality",id:91,conformance:"M",element:"serverCluster",xref:{document:"device",section:"7.10.4"}}),x({name:"TemperatureMeasurement",id:1026,conformance:"O",element:"serverCluster",xref:{document:"device",section:"7.10.4"}}),x({name:"RelativeHumidityMeasurement",id:1029,conformance:"O",element:"serverCluster",xref:{document:"device",section:"7.10.4"}}),x({name:"CarbonMonoxideConcentrationMeasurement",id:1036,conformance:"O",element:"serverCluster",xref:{document:"device",section:"7.10.4"}}),x({name:"CarbonDioxideConcentrationMeasurement",id:1037,conformance:"O",element:"serverCluster",xref:{document:"device",section:"7.10.4"}}),x({name:"NitrogenDioxideConcentrationMeasurement",id:1043,conformance:"O",element:"serverCluster",xref:{document:"device",section:"7.10.4"}}),x({name:"OzoneConcentrationMeasurement",id:1045,conformance:"O",element:"serverCluster",xref:{document:"device",section:"7.10.4"}}),x({name:"FormaldehydeConcentrationMeasurement",id:1067,conformance:"O",element:"serverCluster",xref:{document:"device",section:"7.10.4"}}),x({name:"Pm1ConcentrationMeasurement",id:1068,conformance:"O",element:"serverCluster",xref:{document:"device",section:"7.10.4"}}),x({name:"Pm25ConcentrationMeasurement",id:1066,conformance:"O",element:"serverCluster",xref:{document:"device",section:"7.10.4"}}),x({name:"Pm10ConcentrationMeasurement",id:1069,conformance:"O",element:"serverCluster",xref:{document:"device",section:"7.10.4"}}),x({name:"RadonConcentrationMeasurement",id:1071,conformance:"O",element:"serverCluster",xref:{document:"device",section:"7.10.4"}}),x({name:"TotalVolatileOrganicCompoundsConcentrationMeasurement",id:1070,conformance:"O",element:"serverCluster",xref:{document:"device",section:"7.10.4"}})]});A.children.push(P3);var k3=Oe({name:"WaterFreezeDetector",id:65,category:"Sensor",classification:"simple",details:"This defines conformance to the Water Freeze Detector device type.",xref:{document:"device",section:"7.11"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:65,revision:1}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"7.11.4"}}),x({name:"BooleanState",id:69,conformance:"M",element:"serverCluster",xref:{document:"device",section:"7.11.4"},children:[x({name:"StateChange",conformance:"M",element:"event"})]}),x({name:"BooleanStateConfiguration",id:128,conformance:"O",element:"serverCluster",xref:{document:"device",section:"7.11.4"}})]});A.children.push(k3);var F3=Oe({name:"WaterLeakDetector",id:67,category:"Sensor",classification:"simple",details:"This defines conformance to the Water Leak Detector device type.",xref:{document:"device",section:"7.12"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:67,revision:1}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"7.12.4"}}),x({name:"BooleanState",id:69,conformance:"M",element:"serverCluster",xref:{document:"device",section:"7.12.4"},children:[x({name:"StateChange",conformance:"M",element:"event"})]}),x({name:"BooleanStateConfiguration",id:128,conformance:"O",element:"serverCluster",xref:{document:"device",section:"7.12.4"}})]});A.children.push(F3);var L3=Oe({name:"RainSensor",id:68,category:"Sensor",classification:"simple",details:"This defines conformance to the Rain Sensor device type.",xref:{document:"device",section:"7.13"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:68,revision:1}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"7.13.4"}}),x({name:"BooleanState",id:69,conformance:"M",element:"serverCluster",xref:{document:"device",section:"7.13.4"},children:[x({name:"StateChange",conformance:"M",element:"event"})]}),x({name:"BooleanStateConfiguration",id:128,conformance:"O",element:"serverCluster",xref:{document:"device",section:"7.13.4"}})]});A.children.push(L3);var B3=Oe({name:"DoorLock",id:10,category:"Closure",classification:"simple",details:"A Door Lock is a device used to secure a door. It is possible to actuate a door lock either by means of a manual or a remote method.",xref:{document:"device",section:"8.1"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:10,revision:3}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"8.1.4"}}),x({name:"Groups",id:4,conformance:"X",element:"serverCluster",xref:{document:"device",section:"8.1.4"}}),x({name:"ScenesManagement",id:5,conformance:"X",element:"serverCluster",xref:{document:"device",section:"8.1.4"}}),x({name:"DoorLock",id:257,conformance:"M",element:"serverCluster",xref:{document:"device",section:"8.1.4"},children:[x({name:"USER",conformance:"Matter & (PIN | RID | FPG | FACE)",element:"feature"}),x({name:"RFIDCREDENTIAL",conformance:"P, O",element:"feature"}),x({name:"AlarmMask",conformance:"[Alarms]",element:"attribute"})]})]});A.children.push(B3);var U3=Oe({name:"DoorLockController",id:11,category:"Closure",classification:"simple",details:"A Door Lock Controller is a device capable of controlling a door lock.",xref:{document:"device",section:"8.2"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:11,revision:3}],element:"attribute"})]}),x({name:"Groups",id:4,conformance:"O",element:"clientCluster",xref:{document:"device",section:"8.2.4"}}),x({name:"ScenesManagement",id:5,conformance:"P, O",element:"clientCluster",xref:{document:"device",section:"8.2.4"}}),x({name:"TimeSynchronization",id:56,conformance:"O",element:"serverCluster",xref:{document:"device",section:"8.2.4"}}),x({name:"DoorLock",id:257,conformance:"M",element:"clientCluster",xref:{document:"device",section:"8.2.4"}})]});A.children.push(U3);var V3=Oe({name:"WindowCovering",id:514,category:"Closure",classification:"simple",details:"This defines conformance to the Window Covering device type.",xref:{document:"device",section:"8.3"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:514,revision:3}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"8.3.4"}}),x({name:"Groups",id:4,conformance:"Active, O",element:"serverCluster",xref:{document:"device",section:"8.3.4"}}),x({name:"ScenesManagement",id:98,conformance:"P, Active, O",element:"serverCluster",xref:{document:"device",section:"8.3.4"}}),x({name:"WindowCovering",id:258,conformance:"M",element:"serverCluster",xref:{document:"device",section:"8.3.4"},children:[x({name:"GoToLiftPercentageLiftPercent100thsValue",conformance:"Matter",element:"commandField"}),x({name:"GoToTiltPercentageTiltPercent100thsValue",conformance:"Matter",element:"commandField"})]})]});A.children.push(V3);var q3=Oe({name:"WindowCoveringController",id:515,category:"Closure",classification:"simple",details:"A Window Covering Controller is a device that controls an automatic window covering.",xref:{document:"device",section:"8.4"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:515,revision:3}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"O",element:"serverCluster",xref:{document:"device",section:"8.4.4"}}),x({name:"Identify",id:3,conformance:"O",element:"clientCluster",xref:{document:"device",section:"8.4.4"}}),x({name:"Groups",id:4,conformance:"Active, O",element:"clientCluster",xref:{document:"device",section:"8.4.4"}}),x({name:"ScenesManagement",id:98,conformance:"P, Active, O",element:"clientCluster",xref:{document:"device",section:"8.4.4"}}),x({name:"WindowCovering",id:258,conformance:"M",element:"clientCluster",xref:{document:"device",section:"8.4.4"}})]});A.children.push(q3);var _3=Oe({name:"Thermostat",id:769,category:"HVAC",classification:"simple",details:"A Thermostat device is capable of having either built-in or separate sensors for temperature, humidity or occupancy. It allows the desired temperature to be set either remotely or locally. The thermostat is capable of sending heating and/or cooling requirement notifications to a heating/cooling unit (for example, an indoor air handler) or is capable of including a mechanism to control a heating or cooling unit directly.",xref:{document:"device",section:"9.1"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:769,revision:3}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"9.1.4"}}),x({name:"Groups",id:4,conformance:"Active",element:"serverCluster",xref:{document:"device",section:"9.1.4"}}),x({name:"Thermostat",id:513,conformance:"M",element:"serverCluster",xref:{document:"device",section:"9.1.4"}}),x({name:"ScenesManagement",id:98,conformance:"P, O",element:"serverCluster",xref:{document:"device",section:"9.1.4"}}),x({name:"ThermostatUserInterfaceConfiguration",id:516,conformance:"O",element:"serverCluster",xref:{document:"device",section:"9.1.4"}}),x({name:"EnergyPreference",id:155,conformance:"P, O",element:"serverCluster",xref:{document:"device",section:"9.1.4"}}),x({name:"RelativeHumidityMeasurement",id:1029,conformance:"O",element:"clientCluster",xref:{document:"device",section:"9.1.4"}}),x({name:"TimeSynchronization",id:56,conformance:"O",element:"serverCluster",xref:{document:"device",section:"9.1.4"}}),x({name:"TimeSynchronization",id:56,conformance:"O",element:"clientCluster",xref:{document:"device",section:"9.1.4"}}),x({name:"FanControl",id:514,conformance:"O",element:"clientCluster",xref:{document:"device",section:"9.1.4"}}),x({name:"TemperatureMeasurement",id:1026,conformance:"O",element:"clientCluster",xref:{document:"device",section:"9.1.4"}}),x({name:"OccupancySensing",id:1030,conformance:"O",element:"clientCluster",xref:{document:"device",section:"9.1.4"}})]});A.children.push(_3);var $3=Oe({name:"Fan",id:43,category:"HVAC",classification:"simple",details:"A Fan device is typically standalone or mounted on a ceiling or wall and is used to circulate air in a room.",xref:{document:"device",section:"9.2"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:43,revision:2}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"9.2.5"}}),x({name:"Groups",id:4,conformance:"M",element:"serverCluster",xref:{document:"device",section:"9.2.5"}}),x({name:"FanControl",id:514,conformance:"M",element:"serverCluster",xref:{document:"device",section:"9.2.5"},children:[x({name:"FanModeSequence",access:"R V",conformance:"Matter",element:"attribute"})]})]});A.children.push($3);var W3=Oe({name:"AirPurifier",id:45,category:"HVAC",classification:"simple",details:`An Air Purifier is a standalone device that is designed to clean the air in a room.
It is a device that has a fan to control the air speed while it is operating. Optionally, it can report on the condition of its filters.`,xref:{document:"device",section:"9.3"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:45,revision:1}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"9.3.5"}}),x({name:"Groups",id:4,conformance:"O",element:"serverCluster",xref:{document:"device",section:"9.3.5"}}),x({name:"FanControl",id:514,conformance:"M",element:"serverCluster",xref:{document:"device",section:"9.3.5"}}),x({name:"HepaFilterMonitoring",id:113,conformance:"O",element:"serverCluster",xref:{document:"device",section:"9.3.5"}}),x({name:"ActivatedCarbonFilterMonitoring",id:114,conformance:"O",element:"serverCluster",xref:{document:"device",section:"9.3.5"}})]});A.children.push(W3);var H3=Oe({name:"BasicVideoPlayer",id:40,category:"Media",classification:"simple",details:`This defines conformance to the Basic Video Player device type.
A Video Player (either Basic or Casting) represents a device that is able to play media to a physical output or to a display screen which is part of the device.
A Basic Video Player has playback controls (play, pause, etc.) and keypad remote controls (up, down, number input), but is not able to launch content and is not a content app platform (the Casting Video Player device type is used for these functions).
For example, a Basic Video Player can be a traditional TV device a physical media playback device such as a DVD Player, or a device that provides input to another device like a TV or computer monitor.
Please see Video Player Architecture for additional Basic Video Player requirements relating to Video Player device endpoint composition, commissioning, feature representation in clusters, and UI context.`,xref:{document:"device",section:"10.2"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:40,revision:2}],element:"attribute"})]}),x({name:"OnOff",id:6,conformance:"M",element:"serverCluster",xref:{document:"device",section:"10.2.4"}}),x({name:"WakeOnLan",id:1283,conformance:"O",element:"serverCluster",xref:{document:"device",section:"10.2.4"}}),x({name:"Channel",id:1284,conformance:"O",element:"serverCluster",xref:{document:"device",section:"10.2.4"}}),x({name:"TargetNavigator",id:1285,conformance:"O",element:"serverCluster",xref:{document:"device",section:"10.2.4"}}),x({name:"MediaPlayback",id:1286,conformance:"M",element:"serverCluster",xref:{document:"device",section:"10.2.4"}}),x({name:"MediaInput",id:1287,conformance:"PhysicalInputs",element:"serverCluster",xref:{document:"device",section:"10.2.4"}}),x({name:"LowPower",id:1288,conformance:"O",element:"serverCluster",xref:{document:"device",section:"10.2.4"}}),x({name:"KeypadInput",id:1289,conformance:"M",element:"serverCluster",xref:{document:"device",section:"10.2.4"}}),x({name:"AudioOutput",id:1291,conformance:"O",element:"serverCluster",xref:{document:"device",section:"10.2.4"}}),x({name:"ContentControl",id:1295,conformance:"P, O",element:"serverCluster",xref:{document:"device",section:"10.2.4"}}),x({name:"Messages",id:151,conformance:"O",element:"serverCluster",xref:{document:"device",section:"10.2.4"}}),o({name:"conditions",type:"enum8",children:[o({name:"PhysicalInputs",description:"The device has physical inputs for media.",xref:{document:"device",section:"10.2.3"}})]})]});A.children.push(H3);var j3=Oe({name:"CastingVideoPlayer",id:35,category:"Media",classification:"simple",details:`This defines conformance to the Casting Video Player device type.
A Video Player (either Basic or Casting) represents a device that is able to play media to a physical output or to a display screen which is part of the device.
A Casting Video Player has basic controls for playback (play, pause, etc.) and keypad input (up, down, number input), and is able to launch content.
For example, a Casting Video Player can be a smart TV device, a TV Set Top Box, or a content streaming device that provides input to another device like a TV or computer monitor.
Please see Video Player Architecture for additional Casting Video Player requirements relating to Video Player device endpoint composition, commissioning, feature representation in clusters, and UI context.`,xref:{document:"device",section:"10.3"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:35,revision:2}],element:"attribute"})]}),x({name:"OnOff",id:6,conformance:"M",element:"serverCluster",xref:{document:"device",section:"10.3.4"}}),x({name:"WakeOnLan",id:1283,conformance:"O",element:"serverCluster",xref:{document:"device",section:"10.3.4"}}),x({name:"Channel",id:1284,conformance:"O",element:"serverCluster",xref:{document:"device",section:"10.3.4"}}),x({name:"TargetNavigator",id:1285,conformance:"O",element:"serverCluster",xref:{document:"device",section:"10.3.4"}}),x({name:"MediaPlayback",id:1286,conformance:"M",element:"serverCluster",xref:{document:"device",section:"10.3.4"}}),x({name:"MediaInput",id:1287,conformance:"PhysicalInputs",element:"serverCluster",xref:{document:"device",section:"10.3.4"}}),x({name:"LowPower",id:1288,conformance:"O",element:"serverCluster",xref:{document:"device",section:"10.3.4"}}),x({name:"KeypadInput",id:1289,conformance:"M",element:"serverCluster",xref:{document:"device",section:"10.3.4"}}),x({name:"ContentLauncher",id:1290,conformance:"M",element:"serverCluster",xref:{document:"device",section:"10.3.4"}}),x({name:"AudioOutput",id:1291,conformance:"O",element:"serverCluster",xref:{document:"device",section:"10.3.4"}}),x({name:"ApplicationLauncher",id:1292,conformance:"ContentAppPlatform",element:"serverCluster",xref:{document:"device",section:"10.3.4"},children:[x({name:"APPLICATIONPLATFORM",conformance:"M",element:"feature"})]}),x({name:"AccountLogin",id:1294,conformance:"O",element:"serverCluster",xref:{document:"device",section:"10.3.4"}}),x({name:"ContentControl",id:1295,conformance:"P, O",element:"serverCluster",xref:{document:"device",section:"10.3.4"}}),x({name:"Messages",id:151,conformance:"O",element:"serverCluster",xref:{document:"device",section:"10.3.4"}}),o({name:"conditions",type:"enum8",children:[o({name:"ContentAppPlatform",description:"The device includes a Content App Platform. A Content App is usually an application built by a Content Provider. A Casting Video Player with a Content App Platform is able to launch Content Apps and represent these apps as separate endpoints.",xref:{document:"device",section:"10.3.3"}}),o({name:"PhysicalInputs",description:"The device has physical inputs for media.",xref:{document:"device",section:"10.3.3"}})]})]});A.children.push(j3);var G3=Oe({name:"Speaker",id:34,category:"Media",classification:"simple",details:`This defines conformance to the Speaker device type. This feature controls the speaker volume of the device.
To control unmute/mute, the On/Off cluster shall be used. A value of TRUE for the OnOff attribute shall represent the volume on (not muted) state, while a value of FALSE shall represent the volume off (muted) state. For volume level control, the Level cluster shall be used.
A dedicated endpoint is needed because the On/Off cluster can also be used for other purposes, such as for power control.
The decision to use Level and On/Off clusters for volume (rather than defining a new audio control cluster) was made in order to treat volume in a fashion consistent with lighting which also uses these clusters and has matching functional requirements.`,xref:{document:"device",section:"10.4"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:34,revision:1}],element:"attribute"})]}),x({name:"OnOff",id:6,conformance:"M",element:"serverCluster",xref:{document:"device",section:"10.4.4"}}),x({name:"LevelControl",id:8,conformance:"M",element:"serverCluster",xref:{document:"device",section:"10.4.4"}})]});A.children.push(G3);var z3=Oe({name:"ContentApp",id:36,category:"Media",classification:"simple",details:`This defines conformance to the Content App device type.
A Content App is usually an application built by a Content Provider. A Casting Video Player with a Content App Platform is able to launch Content Apps and represent these apps as separate endpoints.`,xref:{document:"device",section:"10.5"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:36,revision:2}],element:"attribute"})]}),x({name:"Binding",id:30,conformance:"ObserverClient",element:"serverCluster",xref:{document:"device",section:"10.5.4"}}),x({name:"Channel",id:1284,conformance:"O",element:"serverCluster",xref:{document:"device",section:"10.5.4"}}),x({name:"TargetNavigator",id:1285,conformance:"O",element:"serverCluster",xref:{document:"device",section:"10.5.4"}}),x({name:"MediaPlayback",id:1286,conformance:"O",element:"serverCluster",xref:{document:"device",section:"10.5.4"}}),x({name:"KeypadInput",id:1289,conformance:"M",element:"serverCluster",xref:{document:"device",section:"10.5.4"}}),x({name:"ContentLauncher",id:1290,conformance:"O",element:"serverCluster",xref:{document:"device",section:"10.5.4"}}),x({name:"ApplicationLauncher",id:1292,conformance:"M",element:"serverCluster",xref:{document:"device",section:"10.5.4"},children:[x({name:"APPLICATIONPLATFORM",conformance:"X",element:"feature"})]}),x({name:"ApplicationBasic",id:1293,conformance:"M",element:"serverCluster",xref:{document:"device",section:"10.5.4"}}),x({name:"AccountLogin",id:1294,conformance:"O",element:"serverCluster",xref:{document:"device",section:"10.5.4"}}),x({name:"ContentAppObserver",id:1296,conformance:"ObserverClient",element:"clientCluster",xref:{document:"device",section:"10.5.4"}}),o({name:"conditions",type:"enum8",children:[o({name:"ObserverClient",description:"The node is a client for ContentAppObservers.",xref:{document:"device",section:"10.5.3"}})]})]});A.children.push(z3);var K3=Oe({name:"CastingVideoClient",id:41,category:"Media",classification:"simple",details:`This defines conformance to the Casting Video Client device type.
A Casting Video Client is a client that can launch content on a Casting Video Player, for example, a Smart Speaker or a Content Provider phone app.`,xref:{document:"device",section:"10.6"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:41,revision:2}],element:"attribute"})]}),x({name:"OnOff",id:6,conformance:"M",element:"clientCluster",xref:{document:"device",section:"10.6.4"}}),x({name:"LevelControl",id:8,conformance:"O",element:"clientCluster",xref:{document:"device",section:"10.6.4"}}),x({name:"WakeOnLan",id:1283,conformance:"O",element:"clientCluster",xref:{document:"device",section:"10.6.4"}}),x({name:"Channel",id:1284,conformance:"O",element:"clientCluster",xref:{document:"device",section:"10.6.4"}}),x({name:"TargetNavigator",id:1285,conformance:"O",element:"clientCluster",xref:{document:"device",section:"10.6.4"}}),x({name:"MediaPlayback",id:1286,conformance:"O",element:"clientCluster",xref:{document:"device",section:"10.6.4"}}),x({name:"MediaInput",id:1287,conformance:"O",element:"clientCluster",xref:{document:"device",section:"10.6.4"}}),x({name:"LowPower",id:1288,conformance:"O",element:"clientCluster",xref:{document:"device",section:"10.6.4"}}),x({name:"KeypadInput",id:1289,conformance:"M",element:"clientCluster",xref:{document:"device",section:"10.6.4"}}),x({name:"ContentLauncher",id:1290,conformance:"M",element:"clientCluster",xref:{document:"device",section:"10.6.4"}}),x({name:"AudioOutput",id:1291,conformance:"O",element:"clientCluster",xref:{document:"device",section:"10.6.4"}}),x({name:"ApplicationLauncher",id:1292,conformance:"O",element:"clientCluster",xref:{document:"device",section:"10.6.4"}}),x({name:"ApplicationBasic",id:1293,conformance:"M",element:"clientCluster",xref:{document:"device",section:"10.6.4"}}),x({name:"AccountLogin",id:1294,conformance:"O",element:"clientCluster",xref:{document:"device",section:"10.6.4"}}),x({name:"ContentControl",id:1295,conformance:"P, O",element:"clientCluster",xref:{document:"device",section:"10.6.4"}}),x({name:"ContentAppObserver",id:1296,conformance:"O",element:"serverCluster",xref:{document:"device",section:"10.6.4"}}),x({name:"Messages",id:151,conformance:"O",element:"clientCluster",xref:{document:"device",section:"10.6.4"}})]});A.children.push(K3);var X3=Oe({name:"VideoRemoteControl",id:42,category:"Media",classification:"simple",details:`This defines conformance to the Video Remote Control device type.
A Video Remote Control is a client that can control a Video Player, for example, a traditional universal remote control.`,xref:{document:"device",section:"10.7"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:42,revision:2}],element:"attribute"})]}),x({name:"OnOff",id:6,conformance:"M",element:"clientCluster",xref:{document:"device",section:"10.7.4"}}),x({name:"LevelControl",id:8,conformance:"O",element:"clientCluster",xref:{document:"device",section:"10.7.4"}}),x({name:"WakeOnLan",id:1283,conformance:"O",element:"clientCluster",xref:{document:"device",section:"10.7.4"}}),x({name:"Channel",id:1284,conformance:"O",element:"clientCluster",xref:{document:"device",section:"10.7.4"}}),x({name:"TargetNavigator",id:1285,conformance:"O",element:"clientCluster",xref:{document:"device",section:"10.7.4"}}),x({name:"MediaPlayback",id:1286,conformance:"M",element:"clientCluster",xref:{document:"device",section:"10.7.4"}}),x({name:"MediaInput",id:1287,conformance:"O",element:"clientCluster",xref:{document:"device",section:"10.7.4"}}),x({name:"LowPower",id:1288,conformance:"O",element:"clientCluster",xref:{document:"device",section:"10.7.4"}}),x({name:"KeypadInput",id:1289,conformance:"M",element:"clientCluster",xref:{document:"device",section:"10.7.4"}}),x({name:"ContentLauncher",id:1290,conformance:"O",element:"clientCluster",xref:{document:"device",section:"10.7.4"}}),x({name:"AudioOutput",id:1291,conformance:"O",element:"clientCluster",xref:{document:"device",section:"10.7.4"}}),x({name:"ApplicationLauncher",id:1292,conformance:"O",element:"clientCluster",xref:{document:"device",section:"10.7.4"}}),x({name:"AccountLogin",id:1294,conformance:"O",element:"clientCluster",xref:{document:"device",section:"10.7.4"}}),x({name:"ContentControl",id:1295,conformance:"P, O",element:"clientCluster",xref:{document:"device",section:"10.7.4"}})]});A.children.push(X3);var Y3=Oe({name:"ModeSelect",id:39,category:"Generic",classification:"simple",details:"This defines conformance to the Mode Select device type.",xref:{document:"device",section:"11.1"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:39,revision:1}],element:"attribute"})]}),x({name:"ModeSelect",id:80,conformance:"M",element:"serverCluster",xref:{document:"device",section:"11.1.4"}})]});A.children.push(Y3);var Z3=Oe({name:"Aggregator",id:14,category:"Generic",classification:"simple",details:`This device type aggregates endpoints as a collection. Clusters on the endpoint indicating this device type provide functionality for the collection of descendent endpoints present in the PartsList of the endpoint\u2019s descriptor, for example the Actions cluster.
The purpose of this device type is to aggregate functionality for a collection of endpoints. The definition of the collection or functionality is not defined here.
When using this device type as a collection of bridged nodes, please see the "Bridge" section in the System Model specification.`,xref:{document:"device",section:"11.2"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:14,revision:1}],element:"attribute"})]}),x({name:"Actions",id:37,conformance:"O",element:"serverCluster",xref:{document:"device",section:"11.2.4"}}),x({name:"Identify",id:3,conformance:"O",element:"serverCluster",xref:{document:"device",section:"11.2.4"}})]});A.children.push(Z3);var Q3=Oe({name:"RoboticVacuumCleaner",id:116,category:"Robotic",classification:"simple",details:"This defines conformance for the Robotic Vacuum Cleaner device type.",xref:{document:"device",section:"12.1"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:116,revision:2}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"12.1.4"}}),x({name:"RvcRunMode",id:84,conformance:"M",element:"serverCluster",xref:{document:"device",section:"12.1.4"}}),x({name:"RvcCleanMode",id:85,conformance:"O",element:"serverCluster",xref:{document:"device",section:"12.1.4"}}),x({name:"RvcOperationalState",id:97,conformance:"M",element:"serverCluster",xref:{document:"device",section:"12.1.4"}})]});A.children.push(Q3);var J3=Oe({name:"LaundryWasher",id:115,category:"Appliances",classification:"simple",details:`A Laundry Washer represents a device that is capable of laundering consumer items. Any laundry washer product may utilize this device type.
A Laundry Washer shall be composed of at least one endpoint with the Laundry Washer device type.`,xref:{document:"device",section:"13.1"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:115,revision:1}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.1.4"}}),x({name:"LaundryWasherMode",id:81,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.1.4"},children:[x({name:"StartUpMode",conformance:"X",element:"attribute"}),x({name:"ONOFF",conformance:"X",element:"feature"})]}),x({name:"OnOff",id:6,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.1.4"},children:[x({name:"DEADFRONTBEHAVIOR",conformance:"M",element:"feature"})]}),x({name:"LaundryWasherControls",id:83,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.1.4"}}),x({name:"TemperatureControl",id:86,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.1.4"}}),x({name:"OperationalState",id:96,conformance:"M",element:"serverCluster",xref:{document:"device",section:"13.1.4"}})]});A.children.push(J3);var e6=Oe({name:"Refrigerator",id:112,category:"Appliances",classification:"simple",details:"A refrigerator represents a device that contains one or more cabinets that are capable of chilling or freezing food. Examples of consumer products that may make use of this device type include refrigerators, freezers, and wine coolers.",xref:{document:"device",section:"13.2"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:112,revision:1}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.2.6"}}),x({name:"RefrigeratorAndTemperatureControlledCabinetMode",id:82,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.2.6"},children:[x({name:"StartUpMode",conformance:"X",element:"attribute"}),x({name:"ONOFF",conformance:"X",element:"feature"})]}),x({name:"RefrigeratorAlarm",id:87,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.2.6"}})]});A.children.push(e6);var t6=Oe({name:"RoomAirConditioner",id:114,category:"Appliances",classification:"simple",details:`This defines conformance to the Room Air Conditioner device type.
A Room Air Conditioner is a device with the primary function of controlling the air temperature in a single room.`,xref:{document:"device",section:"13.3"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:114,revision:2}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"M",element:"serverCluster",xref:{document:"device",section:"13.3.6"}}),x({name:"Groups",id:4,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.3.6"}}),x({name:"ScenesManagement",id:98,conformance:"P, O",element:"serverCluster",xref:{document:"device",section:"13.3.6"}}),x({name:"OnOff",id:6,conformance:"M",element:"serverCluster",xref:{document:"device",section:"13.3.6"},children:[x({name:"DEADFRONTBEHAVIOR",conformance:"M",element:"feature"})]}),x({name:"Thermostat",id:513,conformance:"M",element:"serverCluster",xref:{document:"device",section:"13.3.6"}}),x({name:"FanControl",id:514,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.3.6"}}),x({name:"ThermostatUserInterfaceConfiguration",id:516,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.3.6"},children:[x({name:"KeypadLockout",conformance:"O",element:"attribute"})]}),x({name:"TemperatureMeasurement",id:1026,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.3.6"}}),x({name:"RelativeHumidityMeasurement",id:1029,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.3.6"}})]});A.children.push(t6);var n6=Oe({name:"TemperatureControlledCabinet",id:113,category:"Appliances",classification:"simple",details:"A Temperature Controlled Cabinet only exists composed as part of another device type. It represents a single cabinet that is capable of having its temperature controlled. Such a cabinet may be chilling or freezing food, for example as part of a refrigerator, freezer, wine chiller, or other similar device. Equally, such a cabinet may be warming or heating food, for example as part of an oven, range, or similar device.",xref:{document:"device",section:"13.4"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:113,revision:2}],element:"attribute"})]}),x({name:"TemperatureControl",id:86,conformance:"M",element:"serverCluster",xref:{document:"device",section:"13.4.4"}}),x({name:"TemperatureMeasurement",id:1026,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.4.4"}}),x({name:"RefrigeratorAndTemperatureControlledCabinetMode",id:82,conformance:"[Cooler]",element:"serverCluster",xref:{document:"device",section:"13.4.4"},children:[x({name:"StartUpMode",conformance:"X",element:"attribute"}),x({name:"ONOFF",conformance:"X",element:"feature"})]}),x({name:"OvenMode",id:73,conformance:"[Heater]",element:"serverCluster",xref:{document:"device",section:"13.4.4"},children:[x({name:"StartUpMode",conformance:"X",element:"attribute"}),x({name:"ONOFF",conformance:"X",element:"feature"})]}),x({name:"OvenCavityOperationalState",id:72,conformance:"[Heater]",element:"serverCluster",xref:{document:"device",section:"13.4.4"},children:[x({name:"Pause",conformance:"X",element:"command"}),x({name:"Resume",conformance:"X",element:"command"})]}),o({name:"conditions",type:"enum8",children:[o({name:"Cooler",description:"The device has cooling functionality.",xref:{document:"device",section:"13.4.3"}}),o({name:"Heater",description:"The device has heating functionality.",xref:{document:"device",section:"13.4.3"}})]})]});A.children.push(n6);var i6=Oe({name:"Dishwasher",id:117,category:"Appliances",classification:"simple",details:"A dishwasher is a device that is generally installed in residential homes and is capable of washing dishes, cutlery, and other items associate with food preparation and consumption. The device can be permanently installed or portable and can have variety of filling and draining methods.",xref:{document:"device",section:"13.5"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:117,revision:1}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.5.4"}}),x({name:"OnOff",id:6,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.5.4"},children:[x({name:"DEADFRONTBEHAVIOR",conformance:"M",element:"feature"})]}),x({name:"TemperatureControl",id:86,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.5.4"}}),x({name:"DishwasherMode",id:89,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.5.4"},children:[x({name:"StartUpMode",conformance:"X",element:"attribute"}),x({name:"ONOFF",conformance:"X",element:"feature"})]}),x({name:"DishwasherAlarm",id:93,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.5.4"}}),x({name:"OperationalState",id:96,conformance:"M",element:"serverCluster",xref:{document:"device",section:"13.5.4"}})]});A.children.push(i6);var r6=Oe({name:"LaundryDryer",id:124,category:"Appliances",classification:"simple",details:"A Laundry Dryer represents a device that is capable of drying laundry items.",xref:{document:"device",section:"13.6"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:124,revision:1}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.6.4"}}),x({name:"LaundryWasherMode",id:81,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.6.4"},children:[x({name:"StartUpMode",conformance:"X",element:"attribute"}),x({name:"ONOFF",conformance:"X",element:"feature"})]}),x({name:"OnOff",id:6,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.6.4"},children:[x({name:"DEADFRONTBEHAVIOR",conformance:"M",element:"feature"})]}),x({name:"LaundryDryerControls",id:74,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.6.4"}}),x({name:"TemperatureControl",id:86,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.6.4"}}),x({name:"OperationalState",id:96,conformance:"M",element:"serverCluster",xref:{document:"device",section:"13.6.4"}})]});A.children.push(r6);var o6=Oe({name:"CookSurface",id:119,category:"Appliances",classification:"simple",details:"A Cook Surface device type represents a heating object on a cooktop or other similar device. It shall only be used when composed as part of another device type.",xref:{document:"device",section:"13.7"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:119,revision:1}],element:"attribute"})]}),x({name:"TemperatureControl",id:86,conformance:"O.a+",element:"serverCluster",xref:{document:"device",section:"13.7.4"}}),x({name:"TemperatureMeasurement",id:1026,conformance:"O.a+",element:"serverCluster",xref:{document:"device",section:"13.7.4"}}),x({name:"OnOff",id:6,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.7.4"},children:[x({name:"OFFONLY",conformance:"M",element:"feature"})]})]});A.children.push(o6);var a6=Oe({name:"Cooktop",id:120,category:"Appliances",classification:"simple",details:"A cooktop is a cooking surface that heats food either by transferring currents from an electromagnetic field located below the glass surface directly to the magnetic induction cookware placed above or through traditional gas or electric burners.",xref:{document:"device",section:"13.8"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:120,revision:1}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.8.5"}}),x({name:"OnOff",id:6,conformance:"M",element:"serverCluster",xref:{document:"device",section:"13.8.5"},children:[x({name:"OFFONLY",conformance:"M",element:"feature"})]})]});A.children.push(a6);var s6=Oe({name:"Oven",id:123,category:"Appliances",classification:"simple",details:"An oven represents a device that contains one or more cabinets, and optionally a single cooktop, that are all capable of heating food. Examples of consumer products implementing this device type include ovens, wall ovens, convection ovens, etc.",xref:{document:"device",section:"13.9"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:123,revision:1}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.9.6"}})]});A.children.push(s6);var c6=Oe({name:"ExtractorHood",id:122,category:"Appliances",classification:"simple",details:`An Extractor Hood is a device that is generally installed above a cooking surface in residential kitchens. An Extractor Hood\u2019s primary purpose is to reduce odors that arise during the cooking process by either extracting the air above the cooking surface or by recirculating and filtering it. It may also contain a light for illuminating the cooking surface.
Extractor Hoods may also be known by the following names:
  \u2022 Hoods
  \u2022 Extractor Fans
  \u2022 Extractors
  \u2022 Range Hoods
  \u2022 Telescoping Hoods
  \u2022 Telescoping Extractors`,xref:{document:"device",section:"13.10"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:122,revision:1}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.10.5"}}),x({name:"HepaFilterMonitoring",id:113,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.10.5"}}),x({name:"ActivatedCarbonFilterMonitoring",id:114,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.10.5"}}),x({name:"FanControl",id:514,conformance:"M",element:"serverCluster",xref:{document:"device",section:"13.10.5"},children:[x({name:"ROCKING",conformance:"X",element:"feature"}),x({name:"WIND",conformance:"X",element:"feature"}),x({name:"AIRFLOWDIRECTION",conformance:"X",element:"feature"})]})]});A.children.push(c6);var l6=Oe({name:"MicrowaveOven",id:121,category:"Appliances",classification:"simple",details:`This defines conformance to the Microwave Oven device type.
A Microwave Oven is a device with the primary function of heating foods and beverages using a magnetron.`,xref:{document:"device",section:"13.11"},children:[x({name:"Descriptor",id:29,element:"serverCluster",children:[x({name:"DeviceTypeList",default:[{deviceType:121,revision:1}],element:"attribute"})]}),x({name:"Identify",id:3,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.11.6"}}),x({name:"OperationalState",id:96,conformance:"M",element:"serverCluster",xref:{document:"device",section:"13.11.6"},children:[x({name:"CountdownTime",conformance:"M",element:"attribute"})]}),x({name:"FanControl",id:514,conformance:"O",element:"serverCluster",xref:{document:"device",section:"13.11.6"},children:[x({name:"WIND",conformance:"X",element:"feature"}),x({name:"AIRFLOWDIRECTION",conformance:"X",element:"feature"})]}),x({name:"MicrowaveOvenMode",id:94,conformance:"M",element:"serverCluster",xref:{document:"device",section:"13.11.6"}}),x({name:"MicrowaveOvenControl",id:95,conformance:"M",element:"serverCluster",xref:{document:"device",section:"13.11.6"}})]});A.children.push(l6);var d6=nn({name:"Closure",id:1,details:"The tags contained in this namespace may be used in any domain or context, to indicate an association with a feature of a Closure, e.g. the button to activate opening a garage door.",xref:{document:"namespace",section:"2"},children:[We({name:"Opening",id:0,description:"Move toward open position"}),We({name:"Closing",id:1,description:"Move toward closed position"}),We({name:"Stop",id:2,description:"Stop any movement"})]});A.children.push(d6);var u6=nn({name:"CompassDirection",id:2,details:"The tags contained in this namespace may be used in any domain or context, to indicate an association with a movement into a certain compass direction. Note the difference with Chapter 4, Common Compass Location Semantic Tag Namespace.",xref:{document:"namespace",section:"3"},children:[We({name:"Northward",id:0}),We({name:"North-Eastward",id:1}),We({name:"Eastward",id:2}),We({name:"South-Eastward",id:3}),We({name:"Southward",id:4}),We({name:"South-Westward",id:5}),We({name:"Westward",id:6}),We({name:"North-Westward",id:7})]});A.children.push(u6);var m6=nn({name:"CompassLocation",id:3,details:"The tags contained in this namespace may be used in any domain or context, to indicate an association with a position in a certain compass direction (e.g. an outdoor sensor in the North garden). Note the difference with Chapter 3, Common Compass Direction Semantic Tag Namespace.",xref:{document:"namespace",section:"4"},children:[We({name:"North",id:0}),We({name:"North-East",id:1}),We({name:"East",id:2}),We({name:"South-East",id:3}),We({name:"South",id:4}),We({name:"South-West",id:5}),We({name:"West",id:6}),We({name:"North-West",id:7})]});A.children.push(m6);var h6=nn({name:"Direction",id:4,details:"The tags contained in this namespace may be used in any domain or context, to indicate an association with a movement in a certain direction relative to the device. Note the difference with Chapter 9, Common Position Semantic Tag Namespace.",xref:{document:"namespace",section:"5"},children:[We({name:"Upward",id:0}),We({name:"Downward",id:1}),We({name:"Leftward",id:2}),We({name:"Rightward",id:3}),We({name:"Forward",id:4}),We({name:"Backward",id:5})]});A.children.push(h6);var f6=nn({name:"Level",id:5,details:"The tags contained in this namespace may be used in any domain or context, to indicate an association with a certain level for a feature of a device (e.g. a button to set the speed of a fan).",xref:{document:"namespace",section:"6"},children:[We({name:"Low",id:0}),We({name:"Medium",id:1}),We({name:"High",id:2})]});A.children.push(f6);var p6=nn({name:"Location",id:6,details:"The tags contained in this namespace may be used in any domain or context, to indicate an association with a location of a device (e.g. an outdoor temperature sensor).",xref:{document:"namespace",section:"7"},children:[We({name:"Indoor",id:0,description:'Element is indoors or related to indoor equipment/conditions (e.g. the "indoor" temperature).'}),We({name:"Outdoor",id:1,description:'Element is outdoors or related to outdoor equipment/conditions (e.g. the "outdoor" temperature).'}),We({name:"Inside",id:2,description:'Element is located inside the equipment (e.g. a sensor "inside" a cabinet).'}),We({name:"Outside",id:3,description:'Element is located outside the equipment (e.g. a sensor "outside" a cabinet)'})]});A.children.push(p6);var y6=nn({name:"Number",id:7,details:"The tags contained in this namespace may be used in any domain or context, to indicate an association with a certain numeric feature of a device (e.g. a numeric input button).",xref:{document:"namespace",section:"8"},children:[We({name:"Zero",id:0}),We({name:"One",id:1}),We({name:"Two",id:2}),We({name:"Three",id:3}),We({name:"Four",id:4}),We({name:"Five",id:5}),We({name:"Six",id:6}),We({name:"Seven",id:7}),We({name:"Eight",id:8}),We({name:"Nine",id:9}),We({name:"Ten",id:10})]});A.children.push(y6);var g6=nn({name:"Position",id:8,details:`The tags contained in this namespace may be used in any domain or context, to indicate an association with a position relative to the device (e.g. the temperature sensor in the top drawer of a refrigerator, or location of the buttons on a multi-button switch device). Note the difference with Chapter 5, Common Direction Semantic Tag Namespace.
When multiple endpoints are used for device types, and the associated consumer-facing locations of those endpoints are organized in a straight line, grid or matrix, these endpoints SHOULD be allocated in top-to-bottom, left-to-right order.
For grids or arrays larger than 3 elements in any direction, the Row and Column tags SHOULD be used.
If the Row or Column tags are used, the Label field in the same Semantic Tag structure shall be filled with a number comprised of Arabic numerals encoded as a string to indicate the row/column of the item. Number words (e.g. "one", "two", etc.) shall NOT be used to describe the position of the item. The first row/column shall use Label "1".`,xref:{document:"namespace",section:"9"},children:[We({name:"Left",id:0}),We({name:"Right",id:1}),We({name:"Top",id:2}),We({name:"Bottom",id:3}),We({name:"Middle",id:4}),We({name:"Row",id:5,description:"Numeric value provided in Label field"}),We({name:"Column",id:6,description:"Numeric value provided in Label field"})]});A.children.push(g6);var v6=nn({name:"ElectricalMeasurement",id:10,details:"The tags contained in this namespace are restricted for use in the electrical measurement domain and shall NOT be used in any other domain or context.",xref:{document:"namespace",section:"10"},children:[We({name:"DC",id:0,description:"Indicates values measured for a DC load"}),We({name:"AC",id:1,description:"Indicates values measured for a single-phase AC load, or values measured for the collective load on a polyphase AC power supply"}),We({name:"ACPhase1",id:2,description:"Indicates values measured for an AC load on phase 1 of a polyphase power supply"}),We({name:"ACPhase2",id:3,description:"Indicates values measured for an AC load on phase 2 of a polyphase power supply"}),We({name:"ACPhase3",id:4,description:"Indicates values measured for an AC load on phase 3 of a polyphase power supply"})]});A.children.push(v6);var b6=nn({name:"Laundry",id:14,details:"The tags contained in this namespace are restricted for use in the laundry domain and shall NOT be used in any other domain or context.",xref:{document:"namespace",section:"11"},children:[We({name:"Normal",id:0}),We({name:"Light Dry",id:1}),We({name:"Extra Dry",id:2}),We({name:"No Dry",id:3})]});A.children.push(b6);var x6=nn({name:"PowerSource",id:15,details:"The tags contained in this namespace are restricted for use in the power source domain and shall NOT be used in any other domain or context.",xref:{document:"namespace",section:"12"},children:[We({name:"Unknown",id:0,description:"The Power Source cluster is related to power provided from an unknown source"}),We({name:"Grid",id:1,description:"The Power Source cluster is related to power provided from the electrical grid",details:"Power Source clusters with this tag shall implement the WIRED feature.",xref:{document:"namespace",section:"12.1"}}),We({name:"Solar",id:2,description:"The Power Source cluster is related to power provided from a solar panel array",details:"Power Source clusters with this tag shall implement the WIRED feature.",xref:{document:"namespace",section:"12.2"}}),We({name:"Battery",id:3,description:"The Power Source cluster is related to power provided from a battery",details:"Power Source clusters with this tag shall implement the BAT feature.",xref:{document:"namespace",section:"12.3"}}),We({name:"EV",id:4,description:"The Power Source cluster is related to power provided from an electric vehicle",details:"Power Source clusters with this tag shall implement the BAT feature.",xref:{document:"namespace",section:"12.4"}})]});A.children.push(x6);var w6=nn({name:"Refrigerator",id:65,details:"The tags contained in this namespace are restricted for use in the refrigerator domain and shall NOT be used in any other domain or context.",xref:{document:"namespace",section:"13"},children:[We({name:"Refrigerator",id:0}),We({name:"Freezer",id:1})]});A.children.push(w6);var T6=nn({name:"RoomAirConditioner",id:66,details:"The tags contained in this namespace are restricted for use in the room air conditioner domain and shall NOT be used in any other domain or context.",xref:{document:"namespace",section:"14"},children:[We({name:"Evaporator",id:0}),We({name:"Condenser",id:1})]});A.children.push(T6);var C6=nn({name:"Switches",id:67,details:`The tags contained in this namespace are restricted for use in the switches domain and shall NOT be used in any other domain or context. They are intended to indicate the function of a button on a switch device to allow a client to make an optimized user interface which matches the actual device without requiring a-priori knowledge of the layout of each specific switch device.
Please see the rules for applying these and other tags for switch devices, e.g. from the Common Position Namespace and the Common Number Namespace in the Generic Switch device type section in the Device Library.`,xref:{document:"namespace",section:"15"},children:[We({name:"On",id:0}),We({name:"Off",id:1}),We({name:"Toggle",id:2}),We({name:"Up",id:3,description:"e.g. dim up (light)"}),We({name:"Down",id:4,description:"e.g. dim down (light)"}),We({name:"Next",id:5,description:"e.g. select next scene"}),We({name:"Previous",id:6,description:"e.g. select previous scene"}),We({name:"Enter/OK/Select",id:7}),We({name:"Custom",id:8,description:"Textual description provided in Label field",details:'When this value is used, the Label field in the same Semantic Tag structure shall be filled with a textual description of the function indicated on the button, such as a label or icon printed on the button, e.g. "dining".',xref:{document:"namespace",section:"15.1"}})]});A.children.push(C6);var Nk=20,ro,Kt=class e{#e=0;#t;operation(t,n){if(this.#e>Nk)throw new Re("Likely cycle detected (or OPERATION_DEPTH_LIMIT needs to be bumped)");n&&this.#t?.has(n)&&(n=void 0),n&&(this.#t||(this.#t=new Set),this.#t.add(n)),this.#e++;try{return t()}finally{this.#e--,n&&this.#t?.delete(n)}}operationWithDismissal(t,n){return this.operation(n,t)}getTypeName(t){if(t)return t.type?t.type:t.tag===Xe.Command||t.tag===Xe.Event||t.tag===Xe.Cluster?"struct":this.operation(()=>{let n,i=t.name;return this.visitInheritance(this.findParent(t),r=>{if(r.effectiveMetatype)switch(r.name){case Zf.name:case Wf.name:return n=zf.name,!1;case Qf.name:case Hf.name:return n=Kf.name,!1;case jf.name:return n=Xf.name,!1;case Gf.name:return n=Yf.name,!1}let a=r.children.select(i,[t.tag],this.#t);if(a?.type)return n=a.name,!1}),n})}findMetabase(t){return this.operation(()=>{for(;t&&!t.metatype;)t=this.findBase(t);return t})}findBase(t){if(!t)return;if(t.operationalBase)return t.operationalBase;if(ro?.bases.has(t))return ro.bases.get(t);let n=this.operationWithDismissal(t,()=>{let i=this.findShadow(t);if(i!==void 0&&(t.type===void 0||t.type===i.type||t.type===i.name))return i;let r=this.getTypeName(t);if(r===void 0)return;let a=r.split(".");if(a.length===1){for(let s of t.allowedBaseTags){let c=this.findType(this.findParent(t),a[0],s);if(c)return c}return}for(let s of t.allowedBaseTags){let c=this.findQualifiedType(this.findParent(t),a,s);if(c)return c}});return ro?.bases.set(t,n),n}findGlobalBase(t){if(!t)return;let n;return this.visitInheritance(t,i=>{if(i.isGlobal)return n=i,!1}),n}instanceOf(t,n){if(!t||!n)return!1;if(t===n)return!0;let i=!1;return this.visitInheritance(t,r=>{if(r.name===n.name&&r.isGlobal===n.isGlobal)return i=!0,!1}),i}findXref(t){return this.operationWithDismissal(t,()=>{if(t)return t.xref?t.xref:this.findXref(this.findParent(t))})}findDefiningModel(t){let n;return this.visitInheritance(t,i=>{if(!i.isType)return!1;if(i.children.length)return n=i,!1}),n}findShadow(t){if(t===void 0)return;if(ro?.shadows.has(t))return ro.shadows.get(t);let n;return this.operationWithDismissal(t,()=>{this.visitInheritance(this.findBase(this.findParent(t)),i=>{if(t.id!==void 0&&t.tag!==Xe.Command&&(n=i.children.select(t.id,[t.tag],this.#t),n)||(n=i.children.select(t.name,[t.tag],this.#t),n))return!1})}),ro?.shadows.set(t,n),n}findAspect(t,n){if(t)return this.operation(()=>{let i=t[n],r=this.findAspect(this.findBase(t),n);return r&&(i?i=r.extend(i):i=r),i})}findConstraint(t,n,i){return this.operation(()=>{let r=this.findAspect(t,n);if(r===void 0)return;let a={},s=c=>{let l=r[c],d=zt.referenced(l);if(d===void 0)return;let f=this.findMember(this.findParent(t),d,[Xe.Attribute,Xe.Field]);if(!f)return;let g=this.findConstraint(f,n,c);g?.[c]&&(a[c]=g[c])};return i?s(i):(s("value"),s("min"),s("max")),Object.keys(a).length&&(r=r.extend(a)),r})}findAccess(t,n,i){return t===void 0?pn.Default:this.operation(()=>{let r=this.findAspect(t,n);return r?r.complete?r:this.findAccess(this.findOwner(i,t),n,i).extend(r):this.findAccess(this.findOwner(i,t),n,i)})}findMember(t,n,i){return this.operation(()=>{for(;t;){let r=t.children.select(n,i,this.#t);if(r)return r;t=this.findBase(t)}})}findChildren(t,n){let i=Array(),r={},a=0;return this.visitInheritance(t,s=>{a++;for(let c of s.children){if(!n.includes(c.tag))continue;let l;if(c.id!==void 0){l=`i\u241C${c.tag}\u241C${c.id}\u241C${c.discriminator??""}`;let g=r[l];if(g!==void 0&&g<a)continue}let d=`s\u241C${c.tag}\u241C${c.name}\u241C${c.discriminator??""}`,f=r[d];f!==void 0&&f<a||(l&&(r[l]=a),r[d]=a,i.push(c))}}),i}findActiveMembers(t,n,i){let r=i?.featureNames??new Qn,a=i?.supportedFeatures??new Qn,s={};for(let c of t.members){if(c.isDeprecated||n&&!c.conformance.isApplicable(r,a))continue;let l=s[c.name];if(l!==void 0){if(!n&&!c.conformance.isApplicable(r,a))continue;if(l.conformance.isApplicable(r,a))throw new en(t,`There are multiple definitions of "${c.name}" that cannot be differentiated by conformance`)}s[c.name]=c}return Object.values(s)}findBitDefinition(t,n){return this.operation(()=>{for(;t;){if(!t.isType)return;if(t.effectiveMetatype!==$e.bitmap){t=this.findParent(t);continue}for(let i of t.children)if(i.constraint.test(n))return i;t=this.findBase(t)}})}findType(t,n,i){if(!t)return;let r=`${n} ${i}`,a=ro?.types.get(t);if(a&&r in a)return a[r];let s=this.operation(()=>{let c=Array(t);for(t=c.shift();t;t=c.shift()){if(t.isTypeScope){let f=t.children.select(n,i,this.#t);if(f)return f}let l=this.findBase(t);l&&c.unshift(l);let d=this.findParent(t);d&&c.push(d)}});if(ro){let c=ro.types.get(t);c?c[r]=s:ro.types.set(t,{[r]:s})}return s}findQualifiedType(t,n,i){if(!t)return;function r(a,s=0){if(s===n.length-1)return a.children.select(n[s],i);for(let c of a.children.selectAll(n[s])){let l=r(c,s+1);if(l)return l}if(s===0&&a.tag===Xe.Matter&&n[0]==="Matter"){let c=r(a,s+1);if(c)return c}}return this.operation(()=>{let a=Array(t);for(t=a.shift();t;t=a.shift()){let s=r(t);if(s)return s;let c=this.findBase(t);c&&a.unshift(c);let l=this.findParent(t);l&&a.push(l)}})}findResponse(t){if(t.response&&t.response!=="status")return new e().findType(t,t.response,Xe.Command)}findReferences(t,n){if(!t||!n)return[];let i=Array();return this.visit(t,r=>{if(this.findBase(r)===n){i.push(r);return}if(r.tag===Xe.Command&&this.findResponse(r)===n){i.push(r);return}if(r.isType){let a=r.default;zt.is(a,zt.reference)&&a.name===n.name&&i.push(r)}}),i}findOwner(t,n){let i=this.findParent(n);return!i||i instanceof t?i:this.operation(()=>this.findOwner(t,i))}findRoot(t){if(!t)return;let n=this.findParent(t);return n?this.operation(()=>this.findRoot(n)):t}visit(t,n){return this.operation(()=>{if(n(t)===!1)return!1;for(let i of t.children)if(this.visit(i,n)===!1)return!1;return!0})}visitInheritance(t,n){if(t)return this.operation(()=>{if(n(t)===!1)return!1;let i=this.findBase(t);this.visitInheritance(i,n)})}findParent(t){if(t!==void 0){if(t.parent)return t.parent;if(t.tag!==Xe.Matter)return this.findScope(t)}}findScope(t){if(t!==void 0)return t.parent?t.parent.isTypeScope?t.parent:this.operationWithDismissal(t,()=>this.findScope(t.parent)):t.operationalBase?this.operationWithDismissal(t,()=>this.findScope(t.operationalBase)):e.fallbackScope}static fallbackScope;static memoize(t){if(ro){t();return}try{ro={bases:new Map,shadows:new Map,types:new Map},t()}finally{ro=void 0}}};function X8(e,t,n){let i=Array(),r=!1,a;function s(){if(!r){for(let K=0;K<i.length;K++){let ae=i[K];ae instanceof rt||(ae=rt.create(ae),t(ae),i[K]=ae)}r=!0}}function c(K){return K instanceof rt?!0:K.children?.some(c)}function l(K){return K instanceof rt?K:r||c(K)?rt.create(K):K}function d(K,ae,pe){let he=K[ae];he?Array.isArray(he)?he.push(pe):K[ae]=[he,pe]:K[ae]=pe}function f(K,ae,pe){let he=K[ae];if(he===pe&&delete K[ae],Array.isArray(he)){let Ce=he.indexOf(pe);if(Ce===-1)return;he.splice(Ce,1),he.length===1&&(K[ae]=he[0]);return}}function g(K){s();let ae=Array(),pe={};for(let Ce of i)if(Ce instanceof K){let Le=Ce.effectiveId;Le!==void 0&&d(ae,Le,Ce),d(pe,Ce.name,Ce)}let he={byId:ae,byName:pe};return a||(a=new Map),a.set(K,he),he}function b(K){if(a)for(let[ae,pe]of a.entries())K instanceof ae&&(K.id&&f(pe.byId,K.id,K),f(pe.byName,K.name,K));n(K)}function w(K){if(K.parent?.children!==i){if(a)for(let[ae,pe]of a.entries())K instanceof ae&&(K.id&&d(pe.byId,K.id,K),d(pe.byName,K.name,K));t(K)}}function O(K,ae){let pe=D(K,ae);return Array.isArray(pe)?pe[0]:pe}function D(K,ae){let pe=a?.get(K)??g(K);if(ae===void 0)return Object.values(pe.byName).flatMap(Ce=>Ce);let he;return typeof ae=="number"?he=pe.byId[ae]:he=pe.byName[ae],he===void 0?[]:Array.isArray(he)?he:[he]}function y(K){if(K===void 0||K==="*")return[rt];typeof K=="string"&&(K=[K]);let ae=Array();for(let pe of K){let he=rt.types[pe];if(he===void 0)throw new ce(`Unknown element tag "${pe}"`);ae.push(he)}return ae}function S(K,ae,pe,he,Ce){for(let Le of y(pe)){let tt=a?.get(Le);tt===void 0&&(tt=g(Le));let qt=tt[ae][K];if(Array.isArray(qt)){for(let Gt of qt){if(he?.has(Gt))continue;let Ze=Ce(Gt);if(Ze!==void 0)return Ze}continue}if(qt){if(he?.has(qt))continue;let Gt=Ce(qt);if(Gt)return Gt}}}function L(K,ae,pe){for(let he of y(ae)){let Ce=a?.get(he)?.byName;Ce||(Ce=g(he).byName);for(let Le in Ce){let tt=Ce[Le];if(Array.isArray(tt)){for(let St of tt)if(!pe?.has(St)&&K(St))return St;continue}if(!pe?.has(tt)&&K(tt))return tt}}}function H(K,ae,pe){return s(),typeof K=="string"?S(K,"byName",ae,pe,he=>he):typeof K=="number"?S(K,"byId",ae,pe,he=>he):L(K,ae,pe)}function oe(K,ae,pe){s();let he=Array();return typeof K=="string"?S(K,"byName",ae,pe,Ce=>{he.push(Ce)}):S(K,"byId",ae,pe,Ce=>{he.push(Ce)}),he}function z(K,ae){if(a)for(let[pe,he]of a.entries())K instanceof pe&&(ae!==void 0&&f(he.byId,ae,K),K.id!==void 0&&d(he.byId,K.id,K))}function Q(K,ae){if(a)for(let[pe,he]of a.entries())K instanceof pe&&(ae!==void 0&&f(he.byName,ae,K),K.name!==void 0&&d(he.byName,K.name,K))}function N(K,ae,...pe){return pe=pe.map(Ce=>(Ce=l(Ce),Ce instanceof rt&&t(Ce),Ce)),i.splice(K,ae??0,...pe).map(Ce=>(Ce instanceof rt?n(Ce):Ce=rt.create(Ce),Ce))}function q(){for(let K of te)K.freeze();Object.freeze(i)}function G(K){if(K instanceof rt)return;if(K==null)throw new ce(`Child cannot be ${K}`);if(typeof K!="object")throw new ce(`Child must be an object (child is typeof ${typeof K})`);let{tag:ae}=K;if(typeof ae!="string")throw new ce(`Child must have a string tag (tag is typeof ${typeof ae})`);if(ae[0]<"a"||ae[0]>"z"||!(xt(ae,!0)in Xe))throw new ce(`Child tag "${ae}" is unknown`)}let te=new Proxy(i,{get:(K,ae,pe)=>{if(typeof ae=="string"&&ae.match(/^[0-9]+$/)){let he=i[ae];return he&&!(he instanceof rt)&&(he=rt.create(he),w(he),i[ae]=he),he}switch(ae){case"get":return O;case"all":return D;case"select":return H;case"selectAll":return oe;case"updateId":return z;case"updateName":return Q;case"splice":return N;case"freeze":return q;case"toString":return()=>`[Children: ${i.length}]`}return Reflect.get(i,ae,pe)},set:(K,ae,pe,he)=>{if(typeof ae!="string"||!ae.match(/^[0-9]+$/))return ae==="length"&&pe>i.length?!0:Reflect.set(i,ae,pe,he);G(pe);let Ce=i[ae];if(Ce!==void 0){if(Ce===pe)return!0;Ce instanceof rt&&b(Ce)}let Le=ae;if(pe.parent?.children===te){let tt=i.indexOf(pe);tt!==-1&&(i.splice(tt,1),tt<Le&&Le--)}else pe=l(pe),pe instanceof rt&&w(pe);return Le>i.length&&(Le=i.length),i[Le]=pe,!0},deleteProperty:(K,ae)=>{let pe;return typeof ae=="string"&&ae.match(/^[0-9]+$/)&&(pe=i[ae]),delete i[ae],pe instanceof rt&&!i.includes(pe)&&b(pe),!0}});return e=[...e],te.push(...e),te}var rt=class e{type;isSeed;description;details;xref;errors;asOf;until;#e=void 0;#t;isTypeScope;isType;operationalBase;#n;#i;get valid(){return!this.errors}get path(){if(this.parent&&this.parent.tag!==Xe.Matter){if(this.parent.tag===Xe.Field)return`${this.parent.path}.${xt(this.name)}`;if(this.parent.tag===Xe.Cluster)switch(this.tag){case Xe.Attribute:return`${this.parent.path}.state.${xt(this.name,!1)}`;case Xe.Command:return`${this.parent.path}.${xt(this.name,!1)}`;case Xe.Event:return`${this.parent.path}.events.${xt(this.name,!1)}`}let t=this.parent;if(t.tag!==Xe.Cluster){let n=t?.effectiveMetatype;if(n===$e.object||n===$e.array)return`${t.path}.${xt(this.name,!1)}`}return`${t.path}.${this.name}`}else return this.name}get isGlobal(){return this.tag==="matter"||this.parent?.tag==="matter"}get parent(){return this.#i}set parent(t){if(this.parent!==t){if(this.parent){let n=this.parent.children.indexOf(this);n!==-1&&this.parent.children.splice(n,1)}t&&t.children.push(this)}}get effectiveId(){return this.id}get key(){let t=this.effectiveId?.toString();if(t===void 0)return t;let n=this.discriminator;return n===void 0?t:`${t}\u241C${n}`}get discriminator(){}get children(){return this.#n||(this.children=[]),this.#n}set children(t){this.#n=X8(t,n=>{if(n.#i!==this){if(n.#i){let i=n.#i.children.indexOf(n);i!==-1&&n.#i.children.splice(i,1),n.#i=void 0}n.#i=this}},n=>n.#i===this?(n.#i=void 0,!0):!1)}static types={};get effectiveType(){return this.type}get base(){return new Kt().findBase(this)}get shadow(){return new Kt().findShadow(this)}get globalBase(){return new Kt().findGlobalBase(this)}get effectiveXref(){return new Kt().findXref(this)}get allowedBaseTags(){return[this.tag]}appliesTo(t){return(this.asOf===void 0||t>=this.asOf)&&(this.until===void 0||t<this.until)}static create(t){if(typeof t!="object")throw new Re(`Model definition must be object, not ${typeof t}`);let n=t.tag,i=e.types[n];if(!i)throw new Re(`Unknown element tag "${n}"`);return new i(t)}all(t,n){return this.children.all(t,n)}get(t,n){return this.children.get(t,n)}owner(t){return new Kt().findOwner(t,this)}error(t,n){this.errors||(this.errors=[]),this.errors.push({code:t,source:this.path,message:n,xref:this.effectiveXref?.toString()})}toJSON(){return this.valueOf()}valueOf(){let t={};for(let n in this)switch(n){case"parent":case"errors":case"isTypeScope":case"isType":case"operationalBase":continue;default:this[n]!==void 0&&(this[n]!==null||n==="default")&&(t[n]=this[n])}return t}visit(t){return new Kt().visit(this,t)}references(t){return new Kt().findReferences(this,t)}member(t,n=[Xe.Field,Xe.Attribute]){return new Kt().findMember(this,t,n)}instanceOf(t){return new Kt().instanceOf(this,t)}clone(){let t=this.constructor;return new t(this)}extend(t){let n=this.constructor;return new n({id:this.id,name:this.name,...t,tag:this.tag,operationalBase:this})}constructor(t){if(typeof t!="object")throw new ce(`Model definition must be an object, not "${typeof t}"`);let n=t instanceof e;this.#e=t.id,this.#t=t.name;for(let[i,r]of Object.entries(t))i==="id"||i==="name"||i==="parent"||i==="isGlobal"||r!==void 0&&(this[i]=r);if(this.xref&&(this.xref=e.CrossReference.get(this.xref)),n)for(let i of t.children)this.children.push(i.clone())}freeze(){Object.freeze(this),this.children.freeze(),this.base?.freeze()}toString(){return`${this.tag}${this.type?`<${this.type}>`:""}#${this.path}`}static{Object.defineProperties(e.prototype,{id:{get(){return this.#e},set(t){let n=this.effectiveId;this.#e=t,this.#i?.children.updateId(this,n)},enumerable:!0},name:{get(){return this.#t},set(t){let n=this.#t;this.#t=t,this.#i?.children.updateName(this,n)},enumerable:!0}})}};(e=>{class t{document;section;static instances={};constructor({document:i,section:r}){this.document=i,this.section=r}toString(){return`${this.document}\xA7${this.section}`}static get(i){let r=`${i.document}:${i.section}`,a=this.instances[r];return a||(this.instances[r]=new t(i))}}e.CrossReference=t})(rt||(rt={}));var Nn;(e=>{function t(a,s,c){return a[s]||(a[s]=new c(void 0))}e.getAspect=t;function n(a,s,c,l){l instanceof c?a[s]=l:a[s]=new c(l)}e.setAspect=n;function i(a,s,...c){for(let l of c){let d=a[l];d!==void 0&&(s[l]=d)}}e.cloneAspects=i;function r(a,s,c){let l=new Kt().findAspect(a,s);return l||t(a,s,c)}e.getEffectiveAspect=r})(Nn||(Nn={}));function Y8(e,t=!1){let n=Z8(e,e.default);return n===void 0?Pk(e,t):n}function Z8(e,t){if(t===void 0)return;if(t===null)return e.nullable?null:void 0;let n=e.effectiveMetatype;switch(n){case void 0:case $e.any:return zt.unwrap(t);case $e.integer:case $e.float:return zt.numericValue(t,e.type);case $e.enum:let i;return(typeof t=="number"||typeof t=="string")&&(i=e.member(t)),i?i.effectiveId:void 0;case $e.bitmap:return typeof t=="number"||typeof t=="bigint"?Lk(e,t):zt.objectValue(t);case $e.object:return zt.objectValue(t);case $e.string:return`${t}`;case $e.bytes:return ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):typeof t=="string"?we.fromHex(t):void 0;case $e.date:return t instanceof Date?t:typeof t=="number"||typeof t=="string"?new Date(t):void 0;case $e.array:if(Array.isArray(t)){let r=e.member("entry");return r?.isType?t.map(a=>Z8(r,a)):t}return;case $e.boolean:return!!t;default:throw new Yt(`Unsupported metatype "${n}"`)}}function Pk(e,t){switch(e.effectiveMetatype){case $e.array:return!e.nullable&&e.effectiveMetatype===$e.array&&!e.constraint.min&&!e.constraint.value?[]:void 0;case $e.object:return kk(e,t);case $e.bitmap:return Fk(e)}}function kk(e,t){let n;for(let i of e.conformantMembers){let r=xt(i.name);if(n&&n[r]!==void 0)continue;let a=i.effectiveDefault;if(a!==void 0){n||(n={}),n[r]=a;continue}if(t&&!i.nullable)return}return n}function Fk(e){let t,n=0;for(let i of e.conformantMembers){let r=zt.numericValue(i.default);if(r===void 0)continue;t===void 0&&(t=0);let a,s,c=zt.numericValue(i.constraint.value);c!==void 0?(a=c,s=c+1):(a=zt.numericValue(i.constraint.min),s=zt.numericValue(i.constraint.max)),a===void 0&&(a=0),s===void 0&&(s=Math.trunc(Math.log2(r))+1);for(let l=0,d=1<<a;l<s-a;l++,d<<1)n&d||(n|=d,r&1<<l&&(t|=d))}return t}function Lk(e,t){let n=new Map;for(let r=0;Math.pow(r,2)<=t;r++){if(typeof t=="bigint"){if(!(t&1n<<BigInt(r)))continue}else if(!(t&1<<r))continue;let a=e.bitDefinition(r);if(!a||a.isDeprecated)continue;let s=a.effectiveConstraint;if(s.value!==void 0)n.set(a,!0);else if(s.min!==void 0){let c=1<<r-s.min;n.set(a,(n.get(a)??0)&c)}}let i;return rt.types[Xe.Attribute]&&e.id===Ic.id?i=r=>r.description===void 0?xt(r.name):xt(r.description):i=r=>xt(r.name),Object.fromEntries([...n.entries()].map(([r,a])=>[i(r),a]))}var ig=Symbol("constraint"),rg=Symbol("conformance"),og=Symbol("access"),ag=Symbol("quality"),Pn=class e extends rt{isType=!0;get children(){return super.children}set children(t){super.children=t}get constraint(){return Nn.getAspect(this,ig,Pr)}set constraint(t){Nn.setAspect(this,ig,Pr,t)}get effectiveConstraint(){return new Kt().findConstraint(this,ig)||this.constraint}get conformance(){return Nn.getAspect(this,rg,Ot)}set conformance(t){Nn.setAspect(this,rg,Ot,t)}get effectiveConformance(){return Nn.getEffectiveAspect(this,rg,Ot)}get access(){return Nn.getAspect(this,og,pn)}set access(t){Nn.setAspect(this,og,pn,t)}get effectiveAccess(){return new Kt().findAccess(this,og,e)}get quality(){return Nn.getAspect(this,ag,ir)}set quality(t){Nn.setAspect(this,ag,ir,t)}get effectiveQuality(){return Nn.getEffectiveAspect(this,ag,ir)}get metabase(){return new Kt().findMetabase(this)}get primitiveBase(){let t=this.metabase;if(t){if(t.metatype===$e.enum)return t.base;if(t.metatype===$e.bitmap){let n=t.name.replace("map","uint");return t.parent?.children.find(i=>i.name===n)}return t}}get effectiveType(){let t=super.effectiveType;return t||new Kt().getTypeName(this)}get effectiveMetatype(){let t=this.metabase;if(t)return t.metatype}get effectiveDefault(){return Y8(this)}get definingModel(){return new Kt().findDefiningModel(this)}get listEntry(){return this.member("entry",[Xe.Field])}get base(){return super.base}get allowedBaseTags(){return this.tag===Xe.Field?[Xe.Field,Xe.Datatype,Xe.Attribute]:[this.tag,Xe.Datatype]}get members(){return new Kt().findChildren(this,[Xe.Field])}get activeMembers(){let t=this.owner(rt.types[Xe.Cluster]);return new Kt().findActiveMembers(this,!1,t)}get conformantMembers(){let t=this.owner(rt.types[Xe.Cluster]);return new Kt().findActiveMembers(this,!0,t)}get fields(){let t=this.activeMembers;return Object.fromEntries(t.map(n=>[xt(n.name),n]))}get validationAspects(){let t=Array();return new Kt().visitInheritance(this,n=>{n instanceof e&&(!n.conformance.empty&&n.conformance.type!==Ot.Special.Desc&&t.push(n.conformance),!n.constraint.empty&&!n.constraint.desc&&t.push(n.constraint),n.quality.nullable===!1&&t.push(n.quality))}),t}get isDeprecated(){return this.effectiveConformance.type===Ot.Flag.Deprecated}get isDisallowed(){return this.effectiveConformance.type===Ot.Flag.Disallowed}get nullable(){return!!this.effectiveQuality.nullable}get mandatory(){return this.effectiveConformance.isMandatory}get overridesShadow(){let t=this.shadow;if(!(!t||!(t instanceof e))&&(this.type&&this.type!==t.type||!this.conformance.empty&&!this.conformance.equals(t.conformance)||!this.quality.empty&&!this.quality.equals(t.quality)||!this.constraint.empty&&!this.constraint.equals(t.constraint)||!this.access.empty&&!this.access.equals(t.access)))return!0}bitDefinition(t){return new Kt().findBitDefinition(this,t)}valueOf(){let t=super.valueOf();for(let n of["conformance","access","quality","constraint"]){let i=this[n];i&&!i.empty&&(t[n]=i.valueOf())}return t.default===void 0&&delete t.default,t}freeze(){this.constraint.freeze(),this.conformance.freeze(),this.access.freeze(),this.quality.freeze(),super.freeze()}constructor(t){super(t);let n=this.type?.match(/^list\[(.*)\]$/);n&&(this.type="list",this.children.push(new rt.types.field({name:"entry",type:n[1]}))),t instanceof rt&&Nn.cloneAspects(t,this,ig,rg,og,ag)}};var bm=class extends Pn{};var sg=new Set([65533,65532,65531,65530,65529,65528]),xn=class e extends bm{tag=p.Tag;get readable(){return this.effectiveAccess.readable}get writable(){return!this.fixed&&this.effectiveAccess.writable}get fabricScoped(){return!!this.effectiveAccess.fabric}get fixed(){return!!this.effectiveQuality.fixed}get changesOmitted(){return this.effectiveQuality.changesOmitted}constructor(t){super(t)}static{rt.types[p.Tag]=this}static isGlobal(t){return t instanceof e&&sg.has(t.id)}static get globalIds(){return sg}static Tag=p.Tag};var Fa=class extends Pn{tag=U.Tag;get fabricScoped(){return!!this.effectiveAccess.fabric}get isRequest(){return this.direction===U.Direction.Request}get isResponse(){return this.direction===U.Direction.Response}get responseModel(){return new Kt().findResponse(this)}get effectiveDirection(){return this.direction??new Kt().findShadow(this)?.direction}get discriminator(){return this.direction===void 0?this.name.endsWith("Response")?U.Direction.Response:U.Direction.Request:this.direction}static{rt.types[U.Tag]=this}static Tag=U.Tag};var Ye=class extends Pn{tag=C.Tag;get definesFields(){switch(this.effectiveMetatype){case $e.object:case $e.enum:case $e.bitmap:return!!this.definingModel?.children.length}return!1}static{rt.types[C.Tag]=this}},Bk={};Bk.children;var Nl=class extends Pn{tag=Se.Tag;constructor(t){super(t)}get fabricSensitive(){return this.effectiveAccess.fabricSensitive}static{rt.types[Se.Tag]=this}static Tag=Se.Tag};var cg=Symbol("quality"),Me=class extends rt{tag=ie.Tag;isTypeScope=!0;get children(){return super.children}set children(t){super.children=t}get diagnostics(){return this.effectiveQuality.diagnostics}get quality(){return Nn.getAspect(this,cg,ir)}set quality(t){Nn.setAspect(this,cg,ir,t)}get effectiveQuality(){return Nn.getEffectiveAspect(this,cg,ir)}get attributes(){return this.all(xn)}get commands(){return this.all(Fa)}get events(){return this.all(Nl)}get datatypes(){return this.all(Ye)}get members(){let t=new Kt,n=t.findChildren(this,[Xe.Field,Xe.Attribute]),i=new Set(xn.globalIds);for(let r of n)r instanceof xn&&r.id&&i.delete(r.id);if(i.size){let r=t.findRoot(this);if(r)for(let a of i){let s=r.get(xn,a);s&&n.push(s)}}return n}get activeMembers(){return new Kt().findActiveMembers(this,!1,this)}get conformantMembers(){return new Kt().findActiveMembers(this,!0,this)}get allAces(){return new Kt().findChildren(this,[Xe.Attribute,Xe.Command,Xe.Event])}get revision(){let t=1,n=this.get(xn,Jf.id);return typeof n?.default=="number"&&(t=n.default),t}get features(){return this.featureMap.children??[]}get featureMap(){return this.member(Ic.id,[Xe.Attribute])??new xn(Ic)}get featureNames(){return new Qn(this.features.map(t=>t.name))}get supportedFeatures(){let t={};for(let n of this.features)n.default&&(t[n.name]=!0);return new Qn(t)}set supportedFeatures(t){let n=new Qn(t),i=this.featureMap;i.parent!==this&&(i=i.clone(),this.children.push(i));for(let r of i.children){let a=r.description&&xt(r.description);if(a!==void 0&&n.has(a)){r.default=!0,n.delete(a);continue}if(n.has(r.name)){n.delete(r.name),r.default=!0;continue}r.default=void 0}if(n.size)throw new en(this,`Cannot set unknown feature${n.size>1?"s":""} ${no("and",...n)}`)}get effectiveMetatype(){return $e.object}get effectiveAccess(){return pn.Default}valueOf(){let t=super.valueOf();return this.quality&&!this.quality.empty&&(t.quality=this.quality.valueOf()),t}freeze(){this.quality.freeze(),super.freeze()}constructor(t){super(t),t instanceof rt&&Nn.cloneAspects(t,this,cg)}static Tag=ie.Tag;static{rt.types[this.Tag]=this}};var Q8=Symbol("constraint"),J8=Symbol("conformance"),eA=Symbol("access"),tA=Symbol("quality"),oo=class e extends rt{tag=x.Tag;get children(){return super.children}set children(t){super.children=t}get discriminator(){return this.element}get access(){return Nn.getAspect(this,eA,pn)}set access(t){Nn.setAspect(this,eA,pn,t)}get constraint(){return Nn.getAspect(this,Q8,Pr)}set constraint(t){Nn.setAspect(this,Q8,Pr,t)}get conformance(){return Nn.getAspect(this,J8,Ot)}set conformance(t){Nn.setAspect(this,J8,Ot,t)}get quality(){return Nn.getAspect(this,tA,ir)}set quality(t){Nn.setAspect(this,tA,ir,t)}static{rt.types[x.Tag]=this}get requirements(){return this.all(e)}valueOf(){let t=super.valueOf();for(let n of["conformance","access","quality","constraint"]){let i=this[n];i&&!i.empty&&(t[n]=i.valueOf())}return t}get isMandatory(){return this.conformance.isMandatory}};var st=class extends rt{tag=Oe.Tag;get children(){return super.children}set children(t){super.children=t}get requirements(){return this.all(oo)}get revision(){return this?.get(oo,"Descriptor")?.get(oo,"DeviceTypeList")?.default[0].revision??1}static{rt.types[Oe.Tag]=this}};var xm=class extends rt{tag=Tc.Tag;get children(){return super.children}set children(t){super.children=t}get deviceTypes(){return this.children}static{rt.types[Tc.Tag]=this}};var lg=class extends rt{tag=Cc.Tag;get children(){return super.children}set children(t){super.children=t}get nodes(){return this.children}static{rt.types[Cc.Tag]=this}};var Gn=class extends bm{tag=o.Tag;get fabricSensitive(){return this.effectiveAccess.fabricSensitive}get effectiveId(){if(this.id!==void 0)return this.id;if(this.parent instanceof Pn){let t=this.parent.children.indexOf(this);if(t!==-1)return t}}get key(){return this.parent instanceof Pn&&this.parent.effectiveMetatype===$e.bitmap?this.constraint.toString():super.key}static{rt.types[o.Tag]=this}};var A6={};_x(A6,{AcceptedCommandList:()=>S6,AccessControl:()=>yL,AccountLogin:()=>PF,Actions:()=>vL,ActivatedCarbonFilterMonitoring:()=>cF,AdministratorCommissioning:()=>_L,AggregatorDt:()=>dV,AirPurifierDt:()=>nV,AirQuality:()=>lF,AirQualitySensorDt:()=>GU,AlarmBase:()=>Qk,ApplicationBasic:()=>kF,ApplicationLauncher:()=>FF,AttributeList:()=>dg,AudioOutput:()=>LF,BallastConfiguration:()=>IF,BaseDt:()=>pU,BasicInformation:()=>CL,BasicVideoPlayerDt:()=>iV,Binding:()=>mL,BooleanState:()=>Hk,BooleanStateConfiguration:()=>jk,BridgedDeviceBasicInformation:()=>gL,BridgedNodeDt:()=>xU,CarbonDioxideConcentrationMeasurement:()=>mF,CarbonMonoxideConcentrationMeasurement:()=>uF,CastingVideoClientDt:()=>sV,CastingVideoPlayerDt:()=>rV,Channel:()=>BF,ClosureNs:()=>CV,ClusterRevision:()=>fU,ColorControl:()=>SF,ColorDimmerSwitchDt:()=>PU,ColorTemperatureLightDt:()=>IU,CompassDirectionNs:()=>SV,CompassLocationNs:()=>IV,ConcentrationMeasurement:()=>dF,ContactSensorDt:()=>BU,ContentAppDt:()=>aV,ContentAppObserver:()=>WF,ContentControl:()=>HF,ContentLauncher:()=>UF,ControlBridgeDt:()=>kU,CookSurfaceDt:()=>vV,CooktopDt:()=>bV,Descriptor:()=>uL,DeviceEnergyManagement:()=>aL,DeviceEnergyManagementDt:()=>TU,DeviceEnergyManagementMode:()=>dL,DiagnosticLogs:()=>PL,DimmableLightDt:()=>SU,DimmablePlugInUnitDt:()=>EU,DimmerSwitchDt:()=>NU,DirectionNs:()=>AV,DishwasherAlarm:()=>YF,DishwasherDt:()=>yV,DishwasherMode:()=>XF,DoorLock:()=>RF,DoorLockControllerDt:()=>ZU,DoorLockDt:()=>YU,ElectricalEnergyMeasurement:()=>TF,ElectricalMeasurementNs:()=>RV,ElectricalPowerMeasurement:()=>CF,ElectricalSensorDt:()=>wU,EnergyEvse:()=>sL,EnergyEvseMode:()=>cL,EnergyPreference:()=>lL,EthernetNetworkDiagnostics:()=>UL,EventList:()=>ug,ExtendedColorLightDt:()=>AU,ExtractorHoodDt:()=>wV,FabricIndex:()=>Eo,FanControl:()=>EF,FanDt:()=>tV,FeatureMap:()=>Ps,FixedLabel:()=>fL,FlowMeasurement:()=>iF,FlowSensorDt:()=>$U,FormaldehydeConcentrationMeasurement:()=>yF,GeneralCommissioning:()=>NL,GeneralDiagnostics:()=>kL,GeneratedCommandList:()=>I6,GenericSwitchDt:()=>LU,GroupKeyManagement:()=>SL,Groups:()=>Vk,HepaFilterMonitoring:()=>sF,HumiditySensorDt:()=>WU,IcdManagement:()=>TL,Identify:()=>Uk,IlluminanceMeasurement:()=>eF,KeypadInput:()=>VF,Label:()=>hL,LaundryDryerControls:()=>tL,LaundryDryerDt:()=>gV,LaundryNs:()=>NV,LaundryWasherControls:()=>QF,LaundryWasherDt:()=>mV,LaundryWasherMode:()=>ZF,LevelControl:()=>$k,LevelNs:()=>MV,LightSensorDt:()=>UU,LocalizationConfiguration:()=>IL,LocationNs:()=>EV,LowPower:()=>Kk,MeasurementAccuracyRangeStruct:()=>jL,MeasurementAccuracyStruct:()=>GL,MeasurementTypeEnum:()=>HL,MediaInput:()=>qF,MediaPlayback:()=>_F,Messages:()=>Jk,MicrowaveOvenControl:()=>oL,MicrowaveOvenDt:()=>TV,MicrowaveOvenMode:()=>rL,ModeBase:()=>zk,ModeSelect:()=>Gk,ModeSelectDt:()=>lV,NetworkCommissioning:()=>RL,NitrogenDioxideConcentrationMeasurement:()=>hF,NumberNs:()=>OV,OccupancySensing:()=>oF,OccupancySensorDt:()=>VU,OnOff:()=>_k,OnOffLightDt:()=>CU,OnOffLightSwitchDt:()=>RU,OnOffPlugInUnitDt:()=>MU,OnOffSensorDt:()=>HU,OperationalCredentials:()=>qL,OperationalState:()=>Zk,OtaProviderDt:()=>bU,OtaRequestorDt:()=>vU,OtaSoftwareUpdateProvider:()=>$L,OtaSoftwareUpdateRequestor:()=>WL,OvenCavityOperationalState:()=>nL,OvenDt:()=>xV,OvenMode:()=>iL,OzoneConcentrationMeasurement:()=>fF,Pm10ConcentrationMeasurement:()=>vF,Pm1ConcentrationMeasurement:()=>gF,Pm25ConcentrationMeasurement:()=>pF,PositionNs:()=>DV,PowerSource:()=>OL,PowerSourceConfiguration:()=>EL,PowerSourceDt:()=>gU,PowerSourceNs:()=>PV,PowerTopology:()=>DL,PressureMeasurement:()=>nF,PressureSensorDt:()=>_U,ProxyConfiguration:()=>xL,ProxyDiscovery:()=>bL,PulseWidthModulation:()=>Wk,PumpConfigurationAndControl:()=>AF,PumpControllerDt:()=>FU,PumpDt:()=>OU,RadonConcentrationMeasurement:()=>xF,RainSensorDt:()=>XU,RefrigeratorAlarm:()=>eL,RefrigeratorAndTemperatureControlledCabinetMode:()=>JF,RefrigeratorDt:()=>hV,RefrigeratorNs:()=>kV,RelativeHumidityMeasurement:()=>rF,ResourceMonitoring:()=>aF,RoboticVacuumCleanerDt:()=>uV,RoomAirConditionerDt:()=>fV,RoomAirConditionerNs:()=>FV,RootNodeDt:()=>yU,RvcCleanMode:()=>GF,RvcOperationalState:()=>zF,RvcRunMode:()=>jF,ScenesManagement:()=>qk,SmokeCoAlarm:()=>wF,SmokeCoAlarmDt:()=>jU,SoftwareDiagnostics:()=>FL,SoftwareVersionCertificationStatusEnum:()=>uU,SpeakerDt:()=>oV,Switch:()=>Yk,SwitchesNs:()=>LV,TargetNavigator:()=>$F,TemperatureControl:()=>KF,TemperatureControlledCabinetDt:()=>pV,TemperatureMeasurement:()=>tF,TemperatureSensorDt:()=>qU,Thermostat:()=>MF,ThermostatDt:()=>eV,ThermostatUserInterfaceConfiguration:()=>OF,ThreadNetworkDiagnostics:()=>LL,TimeFormatLocalization:()=>AL,TimeSynchronization:()=>VL,TotalVolatileOrganicCompoundsConcentrationMeasurement:()=>bF,UnitLocalization:()=>ML,UserLabel:()=>pL,ValidProxies:()=>wL,ValveConfigurationAndControl:()=>DF,VideoRemoteControlDt:()=>cV,WakeOnLan:()=>Xk,WaterFreezeDetectorDt:()=>zU,WaterLeakDetectorDt:()=>KU,WaterValveDt:()=>DU,WiFiNetworkDiagnostics:()=>BL,WildcardPathFlagsBitmap:()=>dU,WindowCovering:()=>NF,WindowCoveringControllerDt:()=>JU,WindowCoveringDt:()=>QU,actionId:()=>XB,amperageMA:()=>RB,any:()=>mU,attribId:()=>jB,bool:()=>zL,clusterId:()=>HB,commandId:()=>KB,dataVer:()=>JB,date:()=>TB,devtypeId:()=>_B,double:()=>pB,elapsedS:()=>EB,endpointNo:()=>VB,energyMWh:()=>PB,entryIdx:()=>QB,enum16:()=>FB,enum8:()=>kB,epochS:()=>SB,epochUs:()=>CB,eventId:()=>zB,eventNo:()=>eU,fabricId:()=>$B,fabricIdx:()=>WB,fieldId:()=>GB,groupId:()=>UB,hwadr:()=>aU,int16:()=>sB,int24:()=>cB,int32:()=>lB,int40:()=>dB,int48:()=>uB,int56:()=>mB,int64:()=>hB,int8:()=>aB,ipadr:()=>nU,ipv4Adr:()=>iU,ipv6Adr:()=>rU,ipv6Pre:()=>oU,list:()=>gB,map16:()=>XL,map32:()=>YL,map64:()=>ZL,map8:()=>KL,namespace:()=>cU,nodeId:()=>ZB,octstr:()=>yB,percent:()=>bB,percent100ths:()=>xB,posixMs:()=>IB,powerMW:()=>DB,priority:()=>LB,semtag:()=>sU,single:()=>fB,status:()=>BB,string:()=>tU,struct:()=>vB,subjectId:()=>hU,systimeMs:()=>MB,systimeUs:()=>AB,tag:()=>lU,temperature:()=>OB,tod:()=>wB,transId:()=>YB,uint16:()=>JL,uint24:()=>eB,uint32:()=>tB,uint40:()=>nB,uint48:()=>iB,uint56:()=>rB,uint64:()=>oB,uint8:()=>QL,vendorId:()=>qB,voltageMV:()=>NB});var Pi=class extends rt{tag=nn.Tag;mfgCode;get children(){return super.children}set children(t){super.children=t}get endpoints(){return this.children}static{rt.types[nn.Tag]=this}};var Uk=new Me(Rw),Vk=new Me(Nw),qk=new Me(Pw),_k=new Me(kw),$k=new Me(Fw),Wk=new Me(Lw),Hk=new Me(Bw),jk=new Me(Uw),Gk=new Me(Vw),zk=new Me(qw),Kk=new Me(_w),Xk=new Me($w),Yk=new Me(Ww),Zk=new Me(Hw),Qk=new Me(jw),Jk=new Me(Gw),eF=new Me(zw),tF=new Me(Kw),nF=new Me(Xw),iF=new Me(Yw),rF=new Me(Zw),oF=new Me(Qw),aF=new Me(Jw),sF=new Me(eT),cF=new Me(tT),lF=new Me(nT),dF=new Me(iT),uF=new Me(rT),mF=new Me(oT),hF=new Me(aT),fF=new Me(sT),pF=new Me(cT),yF=new Me(lT),gF=new Me(dT),vF=new Me(uT),bF=new Me(mT),xF=new Me(hT),wF=new Me(fT),TF=new Me(pT),CF=new Me(yT),SF=new Me(gT),IF=new Me(vT),AF=new Me(bT),MF=new Me(xT),EF=new Me(wT),OF=new Me(TT),DF=new Me(CT),RF=new Me(ST),NF=new Me(IT),PF=new Me(AT),kF=new Me(MT),FF=new Me(ET),LF=new Me(OT),BF=new Me(DT),UF=new Me(RT),VF=new Me(NT),qF=new Me(PT),_F=new Me(kT),$F=new Me(FT),WF=new Me(LT),HF=new Me(BT),jF=new Me(UT),GF=new Me(VT),zF=new Me(qT),KF=new Me(_T),XF=new Me($T),YF=new Me(WT),ZF=new Me(HT),QF=new Me(jT),JF=new Me(GT),eL=new Me(zT),tL=new Me(KT),nL=new Me(XT),iL=new Me(YT),rL=new Me(ZT),oL=new Me(QT),aL=new Me(JT),sL=new Me(eC),cL=new Me(tC),lL=new Me(nC),dL=new Me(iC),uL=new Me(rC),mL=new Me(oC),hL=new Me(aC),fL=new Me(sC),pL=new Me(cC),yL=new Me(lC),gL=new Me(dC),vL=new Me(uC),bL=new Me(mC),xL=new Me(hC),wL=new Me(fC),TL=new Me(pC),CL=new Me(yC),SL=new Me(gC),IL=new Me(vC),AL=new Me(bC),ML=new Me(xC),EL=new Me(wC),OL=new Me(TC),DL=new Me(CC),RL=new Me(SC),NL=new Me(IC),PL=new Me(AC),kL=new Me(MC),FL=new Me(EC),LL=new Me(OC),BL=new Me(DC),UL=new Me(RC),VL=new Me(NC),qL=new Me(PC),_L=new Me(kC),$L=new Me(FC),WL=new Me(LC),HL=new Ye(BC),jL=new Ye(UC),GL=new Ye(VC),zL=new Ye(qC),KL=new Ye(Wf),XL=new Ye(Hf),YL=new Ye(jf),ZL=new Ye(Gf),QL=new Ye(zf),JL=new Ye(Kf),eB=new Ye(_C),tB=new Ye(Xf),nB=new Ye($C),iB=new Ye(WC),rB=new Ye(HC),oB=new Ye(Yf),aB=new Ye(jC),sB=new Ye(GC),cB=new Ye(zC),lB=new Ye(KC),dB=new Ye(XC),uB=new Ye(YC),mB=new Ye(ZC),hB=new Ye(QC),fB=new Ye(JC),pB=new Ye(eS),yB=new Ye(tS),gB=new Ye(nS),vB=new Ye(iS),bB=new Ye(rS),xB=new Ye(oS),wB=new Ye(aS),TB=new Ye(sS),CB=new Ye(cS),SB=new Ye(lS),IB=new Ye(dS),AB=new Ye(uS),MB=new Ye(mS),EB=new Ye(hS),OB=new Ye(fS),DB=new Ye(pS),RB=new Ye(yS),NB=new Ye(gS),PB=new Ye(vS),kB=new Ye(Zf),FB=new Ye(Qf),LB=new Ye(bS),BB=new Ye(xS),UB=new Ye(wS),VB=new Ye(TS),qB=new Ye(CS),_B=new Ye(SS),$B=new Ye(IS),WB=new Ye(AS),HB=new Ye(MS),jB=new Ye(ES),GB=new Ye(OS),zB=new Ye(DS),KB=new Ye(RS),XB=new Ye(NS),YB=new Ye(PS),ZB=new Ye(kS),QB=new Ye(FS),JB=new Ye(LS),eU=new Ye(BS),tU=new Ye(US),nU=new Ye(VS),iU=new Ye(qS),rU=new Ye(_S),oU=new Ye($S),aU=new Ye(WS),sU=new Ye(HS),cU=new Ye(jS),lU=new Ye(GS),dU=new Ye(zS),uU=new Ye(KS),mU=new Ye(XS),hU=new Ye(YS),fU=new xn(Jf),Ps=new xn(Ic),dg=new xn(ZS),ug=new xn(QS),S6=new xn(JS),I6=new xn(e3),Eo=new Gn(t3),pU=new st(n3),yU=new st(i3),gU=new st(r3),vU=new st(o3),bU=new st(a3),xU=new st(s3),wU=new st(c3),TU=new st(l3),CU=new st(d3),SU=new st(u3),IU=new st(m3),AU=new st(h3),MU=new st(f3),EU=new st(p3),OU=new st(y3),DU=new st(g3),RU=new st(v3),NU=new st(b3),PU=new st(x3),kU=new st(w3),FU=new st(T3),LU=new st(C3),BU=new st(S3),UU=new st(I3),VU=new st(A3),qU=new st(M3),_U=new st(E3),$U=new st(O3),WU=new st(D3),HU=new st(R3),jU=new st(N3),GU=new st(P3),zU=new st(k3),KU=new st(F3),XU=new st(L3),YU=new st(B3),ZU=new st(U3),QU=new st(V3),JU=new st(q3),eV=new st(_3),tV=new st($3),nV=new st(W3),iV=new st(H3),rV=new st(j3),oV=new st(G3),aV=new st(z3),sV=new st(K3),cV=new st(X3),lV=new st(Y3),dV=new st(Z3),uV=new st(Q3),mV=new st(J3),hV=new st(e6),fV=new st(t6),pV=new st(n6),yV=new st(i6),gV=new st(r6),vV=new st(o6),bV=new st(a6),xV=new st(s6),wV=new st(c6),TV=new st(l6),CV=new Pi(d6),SV=new Pi(u6),IV=new Pi(m6),AV=new Pi(h6),MV=new Pi(f6),EV=new Pi(p6),OV=new Pi(y6),DV=new Pi(g6),RV=new Pi(v6),NV=new Pi(b6),PV=new Pi(x6),kV=new Pi(w6),FV=new Pi(T6),LV=new Pi(C6);var wm={...A6};"default"in wm&&delete wm.default;var kr=class e extends rt{tag=ka.Tag;isTypeScope=!0;get children(){return super.children}set children(t){super.children=t}static standard=new e({name:"Matter",children:Object.values(wm)});get clusters(){return this.all(Me)}get deviceTypes(){return this.all(st)}get semanticNamespaces(){return this.all(Pi)}get datatypes(){return this.all(Gn)}get attributes(){return this.all(xn)}get fabrics(){return this.all(lg)}constructor(t={name:"Matter",children:[]}){let n=[...t.children||[]];super({...t,name:t.name,children:n})}get seedGlobals(){return this.children.filter(t=>t.isSeed).map(t=>t.clone())}static{rt.types[ka.Tag]=this}};Kt.fallbackScope=kr.standard;var nA=class extends rt{tag=Sc.Tag;get children(){return super.children}set children(t){super.children=t}get endpoints(){return this.children}static{rt.types[Sc.Tag]=this}};var mg=class extends rt{tag=We.Tag;get children(){return super.children}set children(t){super.children=t}static{rt.types[We.Tag]=this}};function Ci(...e){return e=e.map(t=>{switch(t){case"[":case"]":case"(":case")":return`\\${t}`;default:return t}}),new RegExp(`^${e.join("")}$`)}var O6="[A-Z_][A-Z_0-9]+",fr=`(${O6})`,D6=`(${O6}(?: & ${O6})*)`,M6=D6.replace(/&/g,"[|,]"),Sm="[A-Z][A-Za-z_$]*[a-z][A-Za-z_$]*",BV=`(${Sm}(?: & ${Sm})*)`,UV=BV.replace(/&/g,"[|,]"),Tm=" & ",Cm="!";function iA(e){return e.split(" & ")}function E6(e){return e.split(" | ")}var hwe=[{pattern:Ci("(?:|M)"),processor(e){e()}},{pattern:Ci("(?:O|desc)"),processor(e){e(!0)}},{pattern:Ci(Sm),processor(e){e(!0)}},{pattern:Ci(Sm," > ","\\d+"),processor(e){e(!0)}},{pattern:Ci(Sm,", ","O"),processor(e){e(!0)}},{pattern:Ci(fr,Tm,Sm),processor(e,t){e(!0,{allOf:t})}},{pattern:Ci(D6),processor(e,t){e(!1,{allOf:iA(t[0])})}},{pattern:Ci("[",D6,"]"),processor(e,t){e(!0,{allOf:iA(t[0])})}},{pattern:Ci("[",M6,"]"),processor(e,t){e(!0,{anyOf:E6(t[0])})}},{pattern:Ci(M6),processor(e,t){e(!1,{anyOf:E6(t[0])})}},{pattern:Ci(UV),processor(e){e(!0)}},{pattern:Ci(fr,", ","[",fr,"]"),processor(e,t){e(!1,{allOf:[t[0]]}),e(!0,{allOf:[t[1]]})}},{pattern:Ci(Cm,fr,Tm,fr),processor(e,t){e(!1,{allOf:[t[1]],not:t[0]})}},{pattern:Ci(Cm,fr,Tm,"[",fr,"]"),processor(e,t){e(!0,{allOf:[t[1]],not:t[0]})}},{pattern:Ci(Cm,fr,Tm,"(",M6,")"),processor(e,t){e(!0,{allOf:E6(t[1]),not:t[0]})}},{pattern:Ci(Cm,fr),processor(e,t){e(!1,{not:t[0]})}},{pattern:Ci("[",Cm,fr,"]"),processor(e,t){e(!0,{not:t[0]})}},{pattern:Ci("[",Cm,fr,Tm,fr,"]"),processor(e,t){e(!0,{not:t[0],allOf:[t[1]]})}},{pattern:Ci(fr,Tm,fr,", ","[",fr,"]"),processor(e,t){e(!1,{allOf:t.slice(0,2)}),e(!0,{allOf:[t[2]]})}},{pattern:Ci(fr,", ","O"),processor(e,t){e(!1,{allOf:[t[0]]}),e(!0)}}];var VV=J.get("ModelVariantTraversal"),Im=class{constructor(t,n){this.revision=t,this.sourceNames=n}clusterState;visiting=!1;modelTraversal=new Kt;traverse(t){if(this.visiting)throw new Re("ModelVariantVisitor.visit called with active visit; reentrancy not supported");delete this.clusterState,this.visiting=!0;try{return this.visitVariants(this.createVariantDetail(Object.fromEntries(Object.entries(t).map(([n,i])=>(i instanceof rt||(i=rt.create(i)),[n,i])))))}finally{this.visiting=!1}}getCanonicalName(t){if(this.clusterState){let n=this.clusterState.canonicalNames.get(t);if(n!==void 0)return n}return t.name}enterCluster(t){return t.tag===Xe.Cluster?(this.clusterState={canonicalNames:qV(this.revision,this.sourceNames,t)},!0):!1}visitVariants(t){return this.modelTraversal.operation(()=>this.visit(t,()=>{let i=this.enterCluster(t),r=this.mapChildren(t),a=Array();e:for(let s of r){let c=this.createVariantDetail(s),l=!1,d=!1;if(t.tag===Xe.Cluster)for(let f in t.map){if(s[f]===void 0){t.map[f].base?.member(c.name,[c.tag])&&(l=!0);continue}let g=s[f];g instanceof Pn&&g.overridesShadow&&(d=!0)}if(l&&!d)continue e;a.push(this.visitVariants(c))}return i&&delete this.clusterState,a}))}mapChildren(t){let n=this.mapChildrenToMultimap(t),i=Array();for(let a of n){let s=Array();for(let c in a){let l=function(g){f?f.push(g):f=[g]};var r=l;let d=a[c],f;e:for(let g of d){let b=rA(g);if(b===void 0){l(g);continue}for(let w of s)if(!w[c])for(let O in w){let D=rA(w[O]);if(!(D===void 0||D!==b)){w[c]=g;continue e}}l(g)}if(f)e:for(let g of f){for(let b of s)if(b[c]===void 0){b[c]=g;continue e}s.push({[c]:g})}}i.push(...s)}return i}mapChildrenToMultimap(t){let n={};for(let[i,r]of Object.entries(t.map))for(let a=0;a<r.children.length;a++){let s=r.children[a];if(!s.appliesTo(this.revision))continue;let c=n[s.tag]||(n[s.tag]={slots:[],idToSlot:{},nameToSlot:{}}),l=s.key,d=this.getCanonicalName(s);s.discriminator!==void 0&&(d=`${d}\u241C${s.discriminator}`);let f;l!==void 0&&(f=c.idToSlot[l]),f===void 0&&(f=c.nameToSlot[d]),f===void 0&&(f=c.slots.length,c.slots.push({})),l!==void 0&&c.idToSlot[l]===void 0&&(c.idToSlot[l]=f),c.nameToSlot[d]===void 0&&(c.nameToSlot[d]=f),c.slots[f][i]?c.slots[f][i].push(s):c.slots[f][i]=[s]}return Object.values(n).flatMap(i=>i.slots)}createVariantDetail(t){let n,i,r;if(this.sourceNames.forEach(a=>{let s=t[a];if(s){if(!n)n=s.tag;else if(n!==s.tag)throw new Re(`Variant tag mismatch; previous variant identified as ${n} but ${a} identifies as ${n}`);i||(i=s.id),r||(r=this.getCanonicalName(s))}}),!n)throw new Re("No tag identified in variant set");if(!r)throw new Re("No name identified in variant set");return{tag:n,id:i,name:r,map:t}}};function qV(e,t,n){let i=new Map,r;do r=i.size,_V(e,t,n,i);while(r!=i.size);return $V(e,t,n,i)}function _V(e,t,n,i){let r=new Map;new class extends Im{visit(s,c){let l;for(let d=0;d<t.length;d++){let f=t[d],b=s.map[f]?.base;if(!b||b.parent?.tag!==Xe.Cluster)continue;l||(l={mapTo:b.name,priority:d});let w=r.get(b);w?w.priority>l.priority?r.set(b,l):w.priority===l.priority&&w.mapTo!==l.mapTo&&VV.warn(`Mapping ${f} ${b.tag} ${b.name} to ${w.mapTo} but it also maps to ${l.mapTo}`):r.set(b,l)}c()}enterCluster(){return n.tag===Xe.Cluster?(this.clusterState={canonicalNames:i},!0):!1}}(e,t).traverse(n.map);for(let[s,c]of r)c.mapTo&&c.mapTo!==s.name&&i.set(s,c.mapTo)}function $V(e,t,n,i){let r=new Map;return new class extends Im{visit(s,c){let l;for(let d=0;d<t.length;d++){let f=s.map[t[d]]?.name;if(!d&&f!==void 0)break;if(!l){l=f;continue}if(f?.length<l?.length){l=f;continue}if(l?.toLowerCase()===f?.toLowerCase()){if(l===f)continue;if(l.replace(/[^A-Z]/g,"").length<f.replace(/[^A-Z]/g,"").length){l=f;continue}}}l||(l=s.name);for(let d in s.map){let f=s.map[d];f.name!==l&&r.set(f,l)}c()}enterCluster(s){return s.tag===Xe.Cluster?(this.clusterState={canonicalNames:i},!0):!1}}(e,t).traverse(n.map),r}function rA(e){let t=e.conformance?.toString();if(t!=="")return t}function hg(e,t,n=hg.DefaultPriorities){let i=new R6(n||hg.DefaultPriorities),r=new fg(e,i,(s,c)=>{let l=a(s);s.tag===Xe.Cluster&&WV(e,i,s);let d=i.get(s.tag,"type")[0];if(l.type&&s.map[d]?.type===l.type&&!s.map[d].children?.length)return l;if(l.type)for(let f of Object.values(s.map))f.type===void 0&&(f.type=l.type);return l.children=c(),l});return r.traverse(t);function a(s){let c=Object.fromEntries(Object.entries(s.map).map(([g,b])=>[g,b.valueOf()])),l=new Set(Object.values(c).flatMap(g=>Object.keys(g)));l.delete("children");let d=Object.fromEntries([...l].map(g=>[g,r.pluck(s.tag,g,c)]));if(d.type){let g=r.chooseType(s);g?.type!==void 0&&g?.type!==null&&(d.type=g.type)}if(new Pr(d.constraint).desc)for(let g of i.get("*","constraint")){let b=s.map[g]?.constraint,w=new Pr(b);if(!w?.empty&&!w?.desc){d.constraint=b;break}}return rt.create(d)}}var fg=class extends Im{constructor(t,n,i){super(t,n.get("*","type")),this.priority=n,this.visitor=i}visit(t,n){return this.visitor(t,n)}pluck(t,n,i){let r=this.priority.get(t,n);for(let a of r){let s=i[a]?.[n];if(s!==void 0)return s}}chooseType(t){let n=this.priority.get(t.tag,"type"),i,r;for(let a of n){let s=t.map[a];if(!s)continue;if(a===n[0])return s;if(!i){i=s,i instanceof Pn&&(r=i.effectiveMetatype);continue}if(!(i instanceof Pn)||!(s instanceof Pn))continue;let c,l=s.effectiveMetatype;if(!r)l&&(c=!0);else if(r===$e.integer){let d=s.effectiveMetatype;(d===$e.enum||d===$e.bitmap)&&(c=!0)}c&&(i=s,r=l)}return i}},R6=class{constructor(t){this.priorities=t}get(t,n){let i=this.priorities[t]?.[n]||this.priorities["*"]?.[n]||this.priorities[t]?.["*"]||this.priorities["*"]?.["*"];if(!i)throw new Re("No default (*, *) priority available");return i}};function WV(e,t,n){let i=Array(),r=new fg(e,t,(a,s)=>{let c=r.chooseType(a);if(!(c instanceof Pn)){s();return}if(c.base?.isSeed&&$e.hasChildren(c.effectiveMetatype))for(let l in a.map){let d=a.map[l];if(d===c||d.children.length)continue;let f=d.base;!(f instanceof Pn)||f.parent?.tag!==Xe.Cluster||!f.children.length||f.parent?.references(f).length>1||(i.push(f),d.children=f.children,d.type=f.type)}s()});return r.traverse(n.map),i.forEach(a=>a.parent=void 0),n}(e=>{e.DefaultPriorities={"*":{"*":["local","chip","spec"],conformance:["local","spec","chip"],constraint:["local","spec","chip"],quality:["local","spec","chip"],access:["local","spec","chip"],name:["local","spec","chip"],type:["local","spec","chip"],details:["local","spec","chip"],default:["local","spec","chip"]}}})(hg||(hg={}));var Bt=class{constructor(t){this.model=t}validate(){if(this.validateProperty({name:"name",type:"string",required:!0}),this.validateProperty({name:"description",type:"string"}),this.validateProperty({name:"details",type:"string"}),this.validateProperty({name:"children",type:Array}),this.validateProperty({name:"type",type:"string"}),this.validateProperty({name:"xref",type:rt.CrossReference}),this.model.type&&(this.model.base||this.error("TYPE_UNKNOWN",`Type ${this.model.type} does not resolve`)),this.model.xref){let t=this.model.parent?.effectiveXref;t&&this.model.xref===t&&delete this.model.xref}this.validateChildUniqueness()}error(t,n){this.model.error(t,n)}validateStructure(t,...n){if(this.validateProperty({name:"id",type:"number",required:t}),this.model.children&&n.length){let i=0;for(let r of this.model.children){let a=!1;for(let s of n)if(r instanceof s){a=!0;break}a||this.error("UNACCEPTABLE_TYPE",`${r.path} type ${r.constructor.name} is not allowed`),i++}}}validateProperty({name:t,type:n,required:i,nullable:r}){let a=this.model[t];if(a===void 0){if(i){this.error("REQUIRED_PROPERTY",`Missing required property ${t}`);return}return}if(a===null){if(r){this.error("NULL_PROPERTY",`Property ${t} is null`);return}return}if(Number.isNaN(a)&&this.error("NAN_PROPERTY",`Property ${t} is NaN`),n!==void 0){if(typeof n=="string"){typeof a!==n&&this.error("NON_STRING_PROPERTY",`Property ${t} type is ${typeof a} (expected ${n})`);return}if(typeof n=="function"){a instanceof n||this.error("PROPERTY_NOT_INSTANCE",`Property ${t} is not an instance of ${n.name}`);return}Object.values(n).includes(a)||this.error("INVALID_ENUM_KEY",`Property ${t} value ${a} is not in enum`)}}validateChildUniqueness(){let t={};for(let i of this.model.children){let r=function(a){i instanceof Fa?a=`${a}:${i.direction}`:i instanceof oo&&(a=`${a}:${i.element}`);let s=`${i.tag};${a};${i.conformance}`;t[s]?t[s]++:t[s]=1};var n=r;r(i.name),i.effectiveId&&r(i.effectiveId)}for(let i in t)if(t[i]>1){let r=i.split(";");this.error("DUPLICATE_CHILD",`Duplicate ${r[0]} ${r[1]}`)}}};(e=>{e.validators={}})(Bt||(Bt={}));var ks=J.get("ValidateModel");function N6(e){let t=new N6.Result(e);function n(i){let r=Bt.validators[i.tag];if(!r){i.error("UNKNOWN_MODEL_TYPE",`No validator for ${i.tag}`);return}try{new r(i).validate()}catch(a){throw console.error(`Error validating ${i.path}`),a}if(t.elementCount++,!i.valid&&(t.invalidElementCount++,i.errors))for(let a of i.errors)t.errorCounts[a.code]?t.errorCounts[a.code]++:t.errorCounts[a.code]=1,t.errors.push(a);J.nest(()=>{i.children.forEach(n)})}return ks.info("Validating matter model"),Kt.memoize(()=>n(e)),t}(e=>{class t{constructor(i){this.model=i}elementCount=0;invalidElementCount=0;errorCounts={};errors=Array();get invalidElementPercent(){return(this.invalidElementCount/this.elementCount*100).toPrecision(2)}report(){this.errors.length?(ks.error("*** Validation error summary ***"),this.errors.forEach(i=>ks.error(i.message,fe.dict({code:i.code,xref:i.xref,src:i.source}))),ks.error("Error counts by code:"),J.nest(()=>{let i=Object.keys(this.errorCounts).sort((r,a)=>r.localeCompare(a,void 0,{sensitivity:"base"}));for(let r of i)ks.error(`${r}: ${this.errorCounts[r]}`)}),ks.error(`*** Total ${this.errors.length} validation error${this.errors.length===1?"":"s"} ***`),ks.error(`*** Total ${this.invalidElementCount} invalid element${this.invalidElementCount===1?"":"s"} (${this.invalidElementPercent}%) ***`)):ks.info("*** Validation successful ***"),ks.debug(`*** Total ${this.elementCount} element${this.elementCount===1?"":"s"} ***`)}}e.Result=t})(N6||(N6={}));var pg;(e=>{e.AllowedEmptyEnums=new Set(["tag","namespace","ModeBase.ModeTagStruct.value","ModeSelect.state.standardNamespace","OnOff.offWithEffect.effectVariant","OperationalState.OperationalStateEnum","OperationalState.events.operationCompletion.completionErrorCode","OperationalState.ErrorStateEnum"])})(pg||(pg={}));var La=class extends Bt{validate(){this.validateProperty({name:"type",type:"string"}),this.validateProperty({name:"byteSize",type:"number"}),this.validateProperty({name:"constraint",type:Pr}),this.validateProperty({name:"conformance",type:Ot}),this.validateProperty({name:"access",type:pn}),this.validateProperty({name:"quality",type:ir}),this.validateProperty({name:"metatype",type:$e}),this.model.conformance.validateReferences(t=>t.match(/^[A-Z0-9_$]+$/)?!!this.model.owner(Me)?.features.find(i=>i.name===t):!!this.model.parent?.member(t)),this.validateAspect("conformance"),this.validateAspect("constraint"),this.validateAspect("access"),this.validateAspect("quality"),this.validateType(),this.validateEntries(),super.validate()}validateAspect(t){let n=this.model[t];n?.errors&&n.errors.forEach(i=>this.model.error(i.code,i.message))}validateType(){if(this.model.effectiveType===void 0){if(this.model.metatype||this.model.isDeprecated||this.model.isDisallowed)return;this.error("NO_TYPE","No type information");return}if(this.model.base===void 0)return;let n=this.model.metabase;if(n===void 0){this.error("METATYPE_UNKNOWN",`No metatype for ${this.model.type}`);return}let i=n.metatype;if(i===void 0){this.error("METATYPE_MISSING",`Metabase ${n.name} has no metatype`);return}let r=this.model.default;if(r===void 0||this.validateSpecialDefault(i,r))return;if(i===$e.string&&r==="empty"){delete this.model.default;return}let a=zt.cast(i,r);if(a===zt.Invalid){this.error("INVALID_VALUE",`Value "${r}" is not a ${i}`);return}if(r=a,i===$e.enum&&typeof r=="string"){let s=this.model.member(r);s||(s=this.model.member(c=>c.name.toLowerCase()===r.toLowerCase())),s&&s.effectiveId!==void 0?r=s.effectiveId:this.error("INVALID_ENTRY",`"${r}" is not in ${i} ${this.model.type}`)}this.model.default=r}validateEntries(){let t=this.model.type===void 0?void 0:wm[this.model.type]?.metatype;switch(t){case $e.object:this.model.children.length||this.error("CHILDLESS_STRUCT","struct element with no children");break;case $e.enum:case $e.bitmap:let n=this.model.base;if(!n||!n.isSeed||!n.name.startsWith("enum")||this.model.parent?.name==="semtag")break;!this.model.members.length&&!pg.AllowedEmptyEnums.has(this.model.path)&&this.error(`CHILDLESS_${t.toUpperCase()}`,`${this.model.type} with no children`),t==$e.enum?this.validateEnumKeys():this.validateBitFields();break;case $e.array:this.model.children.length?this.model.children.length>1&&this.error("OVERLY_TYPED_ARRAY","array element with multiple entry types"):this.error("UNTYPED_ARRAY","array element with no entry type");break}}validateEnumKeys(){let t=new Set,n=new Set;for(let i of this.model.children)i.id&&(t.has(i.id)?this.error("DUPLICATE_ENUM_ID",`${this.model.type} ID 0x${i.id.toString(16)} appears more than once`):t.add(i.id)),n.has(i.name)&&this.error("DUPLICATE_ENUM_NAME",`${this.model.type} name "${i.name}" appears more than once`)}validateBitFields(){let t=Array();for(let n of this.model.children){let i,r;if(typeof n.constraint.value=="number")i=n.constraint.value,r=n.constraint.value+1;else if(i=n.constraint.min,r=n.constraint.max,typeof i!="number"||typeof r!="number"||i<0||i>r){this.error("UNCONSTRAINED_BIT_RANGE",`${this.model.type} bit field "${n.name}" is not properly constrained`);continue}for(let a of t)i<a.max&&r>a.min&&this.error("OVERLAPPING_BIT_RANGE",`${this.model.type} bit fields "${a.name}" and "${n.name}" overlap`);t.push({name:n.name,min:i,max:r})}}validateSpecialDefault(t,n){if(typeof n=="object"&&zt.is(n,zt.reference)){let i=n.name;return this.model.parent?.member(i)||this.error("MEMBER_UNKNOWN",`Default value references unknown property ${i}`),!0}if(typeof n=="string"){let i=this.model.parent?.member(n);if(i)return this.model.default=zt.Reference(i.name),!0}if(t===$e.bitmap&&Array.isArray(n)){for(let i of n){if(typeof i!="string"&&typeof i!="number"){this.error("INVALID_BIT_FLAG",`Default bit flag ${n} is not a string or number`);continue}this.model.member(i)||this.error("UNRESOLVED_BIT_FLAG",`Default bit flag ${n} is not a valid bit value`)}return!0}}};Bt.validators[p.Tag]=class extends La{validate(){this.validateStructure(!0,Gn),super.validate()}};Bt.validators[ie.Tag]=class extends Bt{validate(){this.validateStructure(!1,Ye,xn,Fa,Nl),this.validateProperty({name:"singleton",type:"boolean"}),this.validateProperty({name:"classification",type:ie.Classification}),!this.model.children.length&&this.model.type===void 0&&this.error("EMPTY_CLUSTER","Cluster has no elements"),super.validate()}};Bt.validators[U.Tag]=class extends Bt{validate(){this.validateStructure(!0,Gn),this.validateProperty({name:"effectiveDirection",type:U.Direction,required:!0}),this.validateProperty({name:"response",type:"string"});let t=this.model.response;if(t&&t!=="status"){let n=this.model.responseModel;n||this.error("RESPONSE_NOT_FOUND",`response type ${t} not found`),n instanceof Pn||this.error("INVALID_RESPONSE_TYPE",`response type ${t} is not a ValueModel`)}super.validate()}};Bt.validators[C.Tag]=class extends La{validate(){this.validateStructure(!1,Gn),super.validate()}};Bt.validators[Oe.Tag]=class extends Bt{validate(){this.validateStructure(!1,st,oo,Gn),this.validateProperty({name:"classification",type:ia}),super.validate()}};Bt.validators[Tc.Tag]=class extends Bt{validate(){this.validateStructure(!0,xm),super.validate()}};Bt.validators[Se.Tag]=class extends La{validate(){this.validateStructure(!0,Gn),this.validateProperty({name:"priority",type:Se.Priority,required:!0}),super.validate()}};Bt.validators[Cc.Tag]=class extends Bt{validate(){this.validateStructure(!0,Gn),super.validate()}};Bt.validators[o.Tag]=class extends La{validate(){this.validateStructure(!1,Gn),super.validate()}};Bt.validators[ka.Tag]=class extends Bt{validate(){this.validateStructure(!1),this.validateProperty({name:"version",type:"string"}),super.validate()}};Bt.validators[Sc.Tag]=class extends Bt{validate(){this.validateStructure(!0,xm),super.validate()}};Bt.validators[x.Tag]=class extends Bt{validate(){this.validateStructure(!1,oo,oo,Gn),this.validateProperty({name:"element",type:x.ElementType,required:!0});let t=this.model.parent?.tag;if(t)switch(this.model.element){case x.ElementType.ClientCluster:case x.ElementType.ServerCluster:t!==Xe.DeviceType&&this.error("ILLEGAL_REQUIREMENT_PARENT",`Requirement type ${this.model.type} must be parented by device type`);break;case x.ElementType.Feature:case x.ElementType.Attribute:case x.ElementType.Command:case x.ElementType.Event:t!==Xe.Requirement&&this.error("ILLEGAL_REQUIREMENT_PARENT",`Requirement type ${this.model.type} must be parented by cluster requirement`);break}super.validate()}};Bt.validators[nn.Tag]=class extends Bt{validate(){this.validateStructure(!0,mg),super.validate()}};Bt.validators[We.Tag]=class extends Bt{validate(){this.validateStructure(!0),super.validate()}};var P6=kr.standard;var Am=(e=>(e[e.Success=0]="Success",e[e.Failure=1]="Failure",e[e.InvalidSubscription=125]="InvalidSubscription",e[e.UnsupportedAccess=126]="UnsupportedAccess",e[e.UnsupportedEndpoint=127]="UnsupportedEndpoint",e[e.InvalidAction=128]="InvalidAction",e[e.UnsupportedCommand=129]="UnsupportedCommand",e[e.InvalidCommand=133]="InvalidCommand",e[e.UnsupportedAttribute=134]="UnsupportedAttribute",e[e.ConstraintError=135]="ConstraintError",e[e.UnsupportedWrite=136]="UnsupportedWrite",e[e.ResourceExhausted=137]="ResourceExhausted",e[e.NotFound=139]="NotFound",e[e.UnreportableAttribute=140]="UnreportableAttribute",e[e.InvalidDataType=141]="InvalidDataType",e[e.UnsupportedRead=143]="UnsupportedRead",e[e.DataVersionMismatch=146]="DataVersionMismatch",e[e.Timeout=148]="Timeout",e[e.UnsupportedNode=155]="UnsupportedNode",e[e.Busy=156]="Busy",e[e.UnsupportedCluster=195]="UnsupportedCluster",e[e.NoUpstreamSubscription=197]="NoUpstreamSubscription",e[e.NeedsTimedInteraction=198]="NeedsTimedInteraction",e[e.UnsupportedEvent=199]="UnsupportedEvent",e[e.PathsExhausted=200]="PathsExhausted",e[e.TimedRequestMismatch=201]="TimedRequestMismatch",e[e.FailsafeRequired=202]="FailsafeRequired",e[e.InvalidInState=203]="InvalidInState",e[e.NoCommandResponse=204]="NoCommandResponse",e))(Am||{});var ue=Am,ve=class e extends lt{constructor(t,n,i){super(),this.code=n,this.clusterCode=i,this.message=`(${n}${i!==void 0?`/${i}`:""}) ${t}`}static is(t,...n){return t instanceof e&&(!n.length||n.includes(t.code))}};var li=class extends ve{constructor(t,n,i=ue.ConstraintError){super(t,i),this.fieldName=n,this.message=`(${this.constructor.name}/${this.code}) ${t}`}},$t=class extends li{},vi=class extends li{constructor(t,n){super(t,n,ue.InvalidAction)}},ep=class extends li{constructor(t,n){super(t,n,ue.InvalidAction)}};function pr(e){return(...t)=>{try{return e(...t),!0}catch(n){return li.accept(n),!1}}}var yr=class{encode(t){return this.validate(t),this.encodeInternal(t)}decode(t,n=!0){let i=this.decodeInternal(t);return n&&this.validate(i),i}validate(t){}};var L6=(e,t,n)=>({type:e,offset:t,length:n}),M=e=>L6(0,e,1),Kr=(e,t)=>L6(1,e,t),Ac=(e,t)=>L6(2,e,t),k6=class extends yr{constructor(t){super(),this.bitSchemas=t;let n={};for(let i in this.bitSchemas){let{offset:r,length:a}=this.bitSchemas[i];n[i]=(1<<a)-1<<r}this.masks=n}masks;encode(t){return super.encode(t)}encodeInternal(t){let n=0;for(let i in this.bitSchemas){let{type:r,offset:a}=this.bitSchemas[i];switch(r){case 0:t[i]&&(n|=this.masks[i]);break;case 2:case 1:n|=t[i]<<a}}return n}decodeInternal(t){let n={};for(let i in this.bitSchemas){let{type:r,offset:a}=this.bitSchemas[i],s=this.masks[i];r===0?n[i]=(t&s)!==0:n[i]=(t&s)>>a}return n}},F6=class extends yr{constructor(t){super(),this.bitSchemas=t;let n=0,i={};for(let r in this.bitSchemas){let{type:a,offset:s,length:c}=this.bitSchemas[r],l=s%8,d=(s-l)/8,f;a===0?f=1<<l:f=(1<<c)-1,i[r]={bitOffset:l,byteOffset:d,mask:f},n=Math.max(n,s+c)}this.byteArrayLength=Math.ceil(n/8),this.maskOffset=i}byteArrayLength;maskOffset;encodeInternal(t){let n=new Uint8Array(this.byteArrayLength);for(let i in this.bitSchemas){let{type:r}=this.bitSchemas[i],{bitOffset:a,byteOffset:s}=this.maskOffset[i],{mask:c}=this.maskOffset[i];switch(r){case 0:t[i]&&(n[s]|=c);break;case 2:case 1:{let l=t[i]&c;for(;l!==0;){n[s++]|=l<<a&255;let d=8-a;a=0,l=l>>d}}}}return n}decodeInternal(t){if(t.length!==this.byteArrayLength)throw new De(`Unexpected length: ${t.length}. Expected ${this.byteArrayLength}`);let n={};for(let i in this.bitSchemas){let{type:r}=this.bitSchemas[i],{mask:a,bitOffset:s,byteOffset:c}=this.maskOffset[i];if(r===0)n[i]=(t[c]&a)!==0;else{let l=0,d=0;for(;a!==0;){l|=(t[c++]>>s&a)<<d;let f=8-s;s=0,d+=f,a=a>>f}n[i]=l}}return n}};function B6(e,...t){return Object.fromEntries(Object.keys(e).map(n=>[n,t.indexOf(Lf(n))!=-1]))}function ao(e,t){let n={};for(let i in e){let r=t[i];r!==void 0?n[i]=r:n[i]=0}return n}var Ba=e=>new k6(e),oA=e=>new F6(e);var je=(e=>(e[e.SignedInt=0]="SignedInt",e[e.UnsignedInt=4]="UnsignedInt",e[e.Boolean=8]="Boolean",e[e.Float=10]="Float",e[e.Utf8String=12]="Utf8String",e[e.ByteString=16]="ByteString",e[e.Null=20]="Null",e[e.Structure=21]="Structure",e[e.Array=22]="Array",e[e.List=23]="List",e[e.EndOfContainer=24]="EndOfContainer",e))(je||{}),gg=(e=>(e[e.OneByte=0]="OneByte",e[e.TwoBytes=1]="TwoBytes",e[e.FourBytes=2]="FourBytes",e[e.EightBytes=3]="EightBytes",e))(gg||{});var Pl=Ba({typeLength:Kr(0,5),tagControl:Ac(5,3)}),yg=0,ii=class{static getUIntTlvLength(t){return t<=255?0:t<=65535?1:t<=4294967295?2:3}static getIntTlvLength(t){return t>0?t<=Ty?0:t<=Cy?1:t<=Sy?2:3:t>=by?0:t>=xy?1:t>=wy?2:3}static readTagType(t){let{tagControl:n,typeLength:i}=Pl.decode(t.readUInt8());return{tag:this.readTag(t,n),typeLength:this.parseTypeLength(i)}}static readTag(t,n){switch(n){case 0:return;case 1:return{id:t.readUInt8()};case 2:return{profile:yg,id:t.readUInt16()};case 3:return{profile:yg,id:t.readUInt32()};case 4:case 5:throw new Yt(`Unsupported implicit profile ${n}`);case 6:return{profile:t.readUInt32(),id:t.readUInt16()};default:throw new Yt(`Unexpected tagControl ${n}`)}}static parseTypeLength(t){let n=t&3,i=t&252;switch(i){case 12:case 16:case 0:case 4:return{type:i,length:n};case 8:switch(n){case 0:return{type:i,value:!1};case 1:return{type:i,value:!0};case 2:return{type:10,length:n};case 3:return{type:10,length:n};default:throw new De(`Unexpected Boolean length ${n}`)}default:return{type:t}}}static readPrimitive(t,n){switch(n.type){case 0:{let i=n.length;switch(i){case 0:return t.readInt8();case 1:return t.readInt16();case 2:return t.readInt32();case 3:return t.readInt64();default:throw new De(`Unexpected SignedInt length ${i}`)}}case 4:{let i=n.length;switch(i){case 0:return t.readUInt8();case 1:return t.readUInt16();case 2:return t.readUInt32();case 3:return t.readUInt64();default:throw new De(`Unexpected UnsignedInt length ${i}`)}}case 10:{let i=n.length;switch(i){case 2:return t.readFloat();case 3:return t.readDouble();default:throw new De(`Unexpected Float length ${i}`)}}case 12:{let i=n.length;switch(i){case 0:return t.readUtf8String(t.readUInt8());case 1:return t.readUtf8String(t.readUInt16());case 2:return t.readUtf8String(t.readUInt32());case 3:return t.readUtf8String(Number(t.readUInt64()));default:throw new De(`Unexpected Utf8String length ${i}`)}}case 16:{let i=n.length;switch(i){case 0:return t.readByteArray(t.readUInt8());case 1:return t.readByteArray(t.readUInt16());case 2:return t.readByteArray(t.readUInt32());case 3:return t.readByteArray(Number(t.readUInt64()));default:throw new De(`Unexpected ByteString length ${i}`)}}case 8:return n.value;case 20:return null;default:throw new De(`Unexpected TLV type ${n.type}`)}}static writeTag(t,n,i){let{profile:r,id:a}=i??{},s;switch(n.type){case 12:case 16:case 0:case 4:case 10:s=n.type|n.length;break;case 8:s=n.type+(n.value?1:0);break;default:s=n.type}if(r===void 0&&a===void 0)t.writeUInt8(Pl.encode({tagControl:0,typeLength:s}));else if(r===void 0){if(a===void 0)throw new De("Invalid TLV tag: id should be defined for a context specific tag.");t.writeUInt8(Pl.encode({tagControl:1,typeLength:s})),t.writeUInt8(a)}else if(r===yg){if(a===void 0)throw new De("Invalid TLV tag: id should be defined for a datatype profile.");a&4294901760?(t.writeUInt8(Pl.encode({tagControl:3,typeLength:s})),t.writeUInt32(a)):(t.writeUInt8(Pl.encode({tagControl:2,typeLength:s})),t.writeUInt16(a))}else{if(a===void 0)throw new De("Invalid TLV tag: id should be defined for a custom profile.");a&4294901760?(t.writeUInt8(Pl.encode({tagControl:7,typeLength:s})),t.writeUInt32(r),t.writeUInt32(a)):(t.writeUInt8(Pl.encode({tagControl:6,typeLength:s})),t.writeUInt32(r),t.writeUInt16(a))}}static getTagByteLength(t){let{profile:n,id:i}=t??{};if(n===void 0&&i===void 0)return 1;if(n===void 0){if(i===void 0)throw new De("Invalid TLV tag: id should be defined for a context specific tag.");return 2}else if(n===yg){if(i===void 0)throw new De("Invalid TLV tag: id should be defined for a datatype profile.");return i&4294901760?5:3}else{if(i===void 0)throw new De("Invalid TLV tag: id should be defined for a custom profile.");return i&4294901760?9:7}}static writePrimitive(t,n,i){switch(n.type){case 0:return this.writeUInt(t,n.length,i);case 4:{let r=n.length;switch(r){case 0:return t.writeUInt8(i);case 1:return t.writeUInt16(i);case 2:return t.writeUInt32(i);case 3:return t.writeUInt64(i);default:throw new De(`Unexpected UnsignedInt length ${r}`)}}case 10:{let r=n.length;switch(r){case 2:return t.writeFloat(i);case 3:return t.writeDouble(i);default:throw new De(`Unexpected Float length ${r}`)}}case 12:{let r=i,a=we.fromString(r);return this.writeUInt(t,n.length,a.length),t.writeByteArray(a)}case 16:{let r=i;return this.writeUInt(t,n.length,r.length),t.writeByteArray(r)}case 8:return;default:throw new De(`Unexpected TLV type ${n.type}`)}}static getPrimitiveByteLength(t,n){switch(t.type){case 0:case 4:case 10:return this.getUIntByteLength(t.length);case 12:{let i=n,r=we.fromString(i);return this.getUIntByteLength(t.length)+r.length}case 16:{let i=n;return this.getUIntByteLength(t.length)+i.length}case 8:return 0;default:throw new De(`Unexpected TLV type ${t.type}`)}}static writeUInt(t,n,i){switch(n){case 0:return t.writeInt8(i);case 1:return t.writeInt16(i);case 2:return t.writeInt32(i);case 3:return t.writeInt64(i)}}static getUIntByteLength(t){switch(t){case 0:return 1;case 1:return 2;case 2:return 4;case 3:return 8}}};var Si=class extends yr{decodeInternal(t){return this.decodeTlvInternal(new W6(t)).value}encodeInternal(t){let n=new $6;return this.encodeTlvInternal(n,t),n.toByteArray()}encodeTlv(t,n){let i=new _6;return this.encodeTlvInternal(i,t,void 0,n),i.toTlvArray()}decodeTlv(t){return this.decodeTlvInternal(new tp(t)).value}decodeTlvInternal(t){let{tag:n,typeLength:i}=t.readTagType();return{tag:n,value:this.decodeTlvInternalValue(t,i)}}injectField(t,n,i,r){return t}removeField(t,n,i){return t}},_6=class{tlvArray=new Array;writeTag(t,n){this.tlvArray.push({tag:n,typeLength:t})}writePrimitive(t,n){this.tlvArray[this.tlvArray.length-1].value=n}toTlvArray(){return this.tlvArray}},tp=class{constructor(t){this.tlvElements=t}index=-1;readTagType(){return this.index++,this.tlvElements[this.index]}readPrimitive(t){return this.tlvElements[this.index].value}},$6=class{writer=new Dn(Et.Little);writeTag(t,n){ii.writeTag(this.writer,t,n)}writePrimitive(t,n){ii.writePrimitive(this.writer,t,n)}toByteArray(){return this.writer.toByteArray()}},W6=class{reader;constructor(t){this.reader=new qn(t,Et.Little)}readTagType(){return ii.readTagType(this.reader)}readPrimitive(t){return ii.readPrimitive(this.reader,t)}};var rn=class extends Si{constructor(t,n,i){super(),this.underlyingSchema=t,this.wrap=n,this.unwrap=i}decodeTlvInternalValue(t,n){return this.unwrap(this.underlyingSchema.decodeTlvInternalValue(t,n))}encodeTlvInternal(t,n,i,r){this.underlyingSchema.encodeTlvInternal(t,this.wrap(n),i,r)}validate(t){this.underlyingSchema.validate(this.wrap(t))}};var vg=class e extends Si{constructor(t,n,i,r){super(),this.type=t,this.lengthProvider=n,this.min=i,this.max=r}encodeTlvInternal(t,n,i){let r={type:this.type,length:this.lengthProvider(n)};t.writeTag(r,i),t.writePrimitive(r,n)}decodeTlvInternalValue(t,n){if(n.type!==this.type)throw new De(`Unexpected type ${n.type}, was expecting ${this.type}.`);return t.readPrimitive(n)}validate(t){if(typeof t!="number"&&typeof t!="bigint")throw new vi(`Expected number, got ${typeof t}.`);this.validateBoundaries(t)}validateBoundaries(t){if(this.min!==void 0&&t<this.min)throw new $t(`Invalid value: ${t} is below the minimum, ${this.min}.`);if(this.max!==void 0&&t>this.max)throw new $t(`Invalid value: ${t} is above the maximum, ${this.max}.`)}bound({min:t,max:n}){return new e(this.type,this.lengthProvider,Sf(t,this.min),Cf(n,this.max))}},ra=class e extends vg{constructor(t,n,i,r){super(t,n,i,r)}decodeTlvInternalValue(t,n){let i=super.decodeTlvInternalValue(t,n);return typeof i=="bigint"?Number(i):i}bound({min:t,max:n}){return new e(this.type,this.lengthProvider,Sf(t,this.min),Cf(n,this.max))}validate(t){if(typeof t!="number")throw new vi(`Expected number, got ${typeof t}.`);this.validateBoundaries(t)}},aA=vg,Ua=new ra(je.Float,e=>gg.FourBytes,zI,KI),H6=new ra(je.Float,e=>gg.EightBytes),$i=new ra(je.SignedInt,e=>ii.getIntTlvLength(e),by,Ty),Ct=new ra(je.SignedInt,e=>ii.getIntTlvLength(e),xy,Cy),oa=new ra(je.SignedInt,e=>ii.getIntTlvLength(e),wy,Sy),vt=new aA(je.SignedInt,e=>ii.getIntTlvLength(e),jI,GI),P=new ra(je.UnsignedInt,e=>ii.getUIntTlvLength(e),0,255),B=new ra(je.UnsignedInt,e=>ii.getUIntTlvLength(e),0,65535),kl=new ra(je.UnsignedInt,e=>ii.getUIntTlvLength(e),0,16777215),ee=new ra(je.UnsignedInt,e=>ii.getUIntTlvLength(e),0,4294967295),nt=new aA(je.UnsignedInt,e=>ii.getUIntTlvLength(e),0,HI),$=()=>ee,Ie=(e,t)=>{let n=Ba(t);return new rn(e,i=>n.encode(i),i=>n.decode(i))},Ii=P.bound({max:100}),aa=B.bound({max:1e4}),ki=nt,Nt=ee,np=nt,sA=nt,Fr=nt;function Wi(e,t=!0){if(!t||e>=0&&e<=65524)return e;throw new $t(`Invalid vendor ID: ${e}`)}(e=>{e.isValid=t=>{try{return e(t),!0}catch{return!1}}})(Wi||(Wi={}));var zn=new rn(B,e=>e,e=>Wi(e,!1));var Fi;(e=>{e.asMei=(t,n)=>{if(t<0||t>65524)throw new $t(`Invalid vendor prefix for MEI: ${t}`);if(n<0||n>65534)throw new $t(`Invalid type suffix for MEI: ${n}`);return(t<<16)+n>>>0},e.fromMei=t=>{let n=t>>>16;if(n>65524)throw new $t(`Invalid vendor prefix for MEI: ${t}`);if((t&65535)>65534)throw new $t(`Invalid type suffix for MEI: ${t}`);return{vendorPrefix:Wi(n),typeSuffix:t&65535}},e.hasCustomMeiPrefix=(t,n)=>n===void 0?t>65534:t>>>16===n})(Fi||(Fi={}));function sa(e,t=!0){if(!t)return e;let{vendorPrefix:n,typeSuffix:i}=Fi.fromMei(e);if(i>=0&&i<=32767&&n===0||i>=64512&&i<=65534&&n!==0)return e;throw new $t(`Invalid cluster ID: ${e}`)}(e=>{e.isVendorSpecific=t=>{try{let{vendorPrefix:n}=Fi.fromMei(t);return n!==0}catch(n){return li.accept(n),!1}},e.isValid=pr(e),e.buildVendorSpecific=(t,n)=>e(Fi.asMei(t,n))})(sa||(sa={}));var rr=new rn(ee,e=>e,e=>sa(e,!1));function gr(e,t=!0){if(!t||e>=61440&&e<=65534)return e;let{typeSuffix:n}=Fi.fromMei(e);if(n>=0&&n<=20479)return e;throw new $t(`Invalid attribute ID: ${e}`)}(e=>{e.isGlobal=t=>t>=61440&&t<=65534,e.isValid=pr(e)})(gr||(gr={}));var Mm=new rn(ee,e=>e,e=>gr(e,!1));function Oo(e,t=!0){if(!t)return e;let{typeSuffix:n}=Fi.fromMei(e);if(n>=0&&n<=255)return e;throw new $t(`Invalid command ID: ${e}`)}(e=>{e.isValid=pr(e)})(Oo||(Oo={}));var ip=new rn(ee,e=>e,e=>Oo(e,!1));function Fs(e,t=!0){if(!t)return e;let{typeSuffix:n}=Fi.fromMei(e);if(n>=0&&n<=255)return e;throw new $t(`Invalid event ID: ${e}`)}(e=>{e.isValid=pr(e)})(Fs||(Fs={}));var bg=new rn(ee,e=>e,e=>Fs(e,!1));var j6=class extends Si{getEncodedByteLength(t){let n=0;return t.forEach(({tag:i,typeLength:r,value:a})=>{switch(r.type){case je.Null:case je.Boolean:case je.Array:case je.Structure:case je.List:case je.EndOfContainer:n+=ii.getTagByteLength(i);break;case je.UnsignedInt:case je.SignedInt:case je.Float:case je.Utf8String:case je.ByteString:n+=ii.getTagByteLength(i),n+=ii.getPrimitiveByteLength(r,a);break}}),n}encodeTlvInternal(t,n,i){n.forEach(({tag:r,typeLength:a,value:s})=>{switch(i!==void 0&&(r=i,i=void 0),a.type){case je.Null:case je.Boolean:case je.Array:case je.Structure:case je.List:case je.EndOfContainer:t.writeTag(a,i??r);break;case je.UnsignedInt:case je.SignedInt:case je.Float:case je.Utf8String:case je.ByteString:t.writeTag(a,i??r),t.writePrimitive(a,s);break}})}decodeTlvInternalValue(t,n){return this.decodeTlvValueRec(t,n,new Array)}decodeTlvValueRec(t,n,i,r){switch(n.type){case je.Null:i.push({tag:r,typeLength:n,value:null});break;case je.Boolean:case je.UnsignedInt:case je.SignedInt:case je.Float:case je.Utf8String:case je.ByteString:i.push({tag:r,typeLength:n,value:t.readPrimitive(n)});break;case je.Array:case je.Structure:case je.List:for(i.push({tag:r,typeLength:n});;){let{tag:a,typeLength:s}=t.readTagType();if(this.decodeTlvValueRec(t,s,i,a),s.type===je.EndOfContainer)break}break;case je.EndOfContainer:i.push({tag:r,typeLength:n});break}return i}validate(t){if(!Array.isArray(t))throw new vi(`Expected TlvStream, got ${typeof t}.`);t.forEach(({typeLength:n})=>{if(!n||typeof n!="object")throw new vi(`Expected typeLength properties in TlvStream, got ${typeof n}.`);if(typeof n.type!="number")throw new vi(`Expected typeLength.type as number in TlvStream, got ${typeof n.type}.`)})}decodeAnyTlvStream(t){if(t.length===0)return;let n=new tp(t),i=this.decodeGenericElement(n),r=n.readTagType();if(r!==void 0)throw new De(`Unexpected data left after parsing all data: ${J.toJSON(r)}`);return i}decodeGenericElement(t,n,i=!1){let r=n??t.readTagType(),{tag:a,typeLength:{type:s}}=r;switch(s){case je.Null:case je.Boolean:case je.UnsignedInt:case je.SignedInt:case je.Float:case je.Utf8String:case je.ByteString:if(a!==void 0&&!i)throw new De(`Tag detected for a native type: ${J.toJSON(r)}`);return t.readPrimitive(r.typeLength);case je.Array:case je.List:return this.decodeGenericArrayOrList(t,s===je.List);case je.Structure:return this.decodeGenericStructure(t);default:throw new De(`Unknown type: ${s}`)}}decodeGenericArrayOrList(t,n=!1){let i=new Array;for(;;){let r=t.readTagType(),{tag:a,typeLength:{type:s}}=r;if(s===je.EndOfContainer)break;if(a!==void 0&&!n)throw new De(`Tag detected : ${J.toJSON(r)}`);i.push(this.decodeGenericElement(t,r,n))}return i}decodeGenericStructure(t){let n={};for(;;){let i=t.readTagType(),{tag:r,typeLength:{type:a}}=i;if(a===je.EndOfContainer)break;if(r===void 0||r.id===void 0)throw new De(`Tag missing for a structure: ${J.toJSON(i)}`);n[r.id]=this.decodeGenericElement(t,i,!0)}return n}},kn=new j6;var Xr=class extends Si{constructor(t,n=0,i=65535){super(),this.elementSchema=t,this.minLength=n,this.maxLength=i}encodeTlvInternal(t,n,i,r){t.writeTag({type:je.Array},i),n.forEach(a=>this.elementSchema.encodeTlvInternal(t,a,void 0,r)),t.writeTag({type:je.EndOfContainer})}decodeTlvInternalValue(t,n){if(n.type!==je.Array)throw new De(`Unexpected type ${n.type}, expected Array (${je.Array}).`);let i=new Array;for(;;){let{tag:r,typeLength:a}=t.readTagType();if(r!==void 0)throw new De("Array element tags should be anonymous.");if(a.type===je.EndOfContainer)break;i.push(this.elementSchema.decodeTlvInternalValue(t,a))}return i}injectField(t,n,i,r){return Array.isArray(t)&&t.forEach((a,s)=>t[s]=this.elementSchema.injectField(a,n,i,r)),t}removeField(t,n,i){return Array.isArray(t)&&t.forEach((r,a)=>t[a]=this.elementSchema.removeField(r,n,i)),t}validate(t){if(!Array.isArray(t))throw new vi(`Expected array, got ${typeof t}.`);if(t.length>this.maxLength)throw new $t(`Array ${si(t)} is too long: ${t.length}, max ${this.maxLength}.`);if(t.length<this.minLength)throw new $t(`Array ${si(t)} is too short: ${t.length}, min ${this.minLength}.`);t.forEach((n,i)=>{try{this.elementSchema.validate(n)}catch(r){throw li.accept(r),r.fieldName=`[${i}]${r.fieldName!==void 0?`.${r.fieldName}`:""}`,r}})}decodeFromChunkedArray(t,n){if(n===void 0&&t[0].listIndex!==void 0)throw new De(`When no current value is supplied the first chunked element needs to have a list index of undefined, but received ${t[0].listIndex}.`);n=n!==void 0?Na(n):[];for(let{listIndex:i,element:r}of t)if(i===void 0)n=this.decodeTlv(r);else if(i===null){let a=this.elementSchema.decodeTlv(r);n.push(a)}else r[0].typeLength.type===je.Null?n.splice(i,1):n[i]=this.elementSchema.decodeTlv(r);return n}encodeAsChunkedArray(t){let n=[];return n.push({listIndex:void 0,element:this.encodeTlv([])}),t.forEach(i=>{let r=this.elementSchema.encodeTlv(i);n.push({listIndex:null,element:r})}),n}},Y=(e,{minLength:t,maxLength:n,length:i}={})=>new Xr(e,i??t,i??n);var rp=class extends Si{encodeTlvInternal(t,n,i){}decodeTlv(t){}decodeTlvInternalValue(t,n){throw new Re("decodeTlvInternalValue should never be called")}validate(t){if(t!==void 0)throw new vi(`Expected void, got ${typeof t}.`)}},G6=new rp;var Em=class extends lt{};var V=(e,t,{scene:n=!1,persistent:i=!1,omitChanges:r=!1,default:a,readAcl:s=W.View,timed:c=!1}={})=>({id:gr(e),schema:t,optional:!1,writable:!1,fixed:!1,scene:n,persistent:i,timed:c,fabricScoped:!1,omitChanges:r,default:a,readAcl:s,isConditional:!1,optionalIf:[],mandatoryIf:[],unknown:!1}),ye=(e,t,{scene:n=!1,persistent:i=!1,omitChanges:r=!1,default:a,readAcl:s=W.View,timed:c=!1}={})=>({id:gr(e),schema:t,optional:!0,writable:!1,fixed:!1,scene:n,persistent:i,fabricScoped:!1,omitChanges:r,default:a,readAcl:s,timed:c,isConditional:!1,optionalIf:[],mandatoryIf:[],unknown:!1});var He=(e,t,{scene:n=!1,persistent:i=!0,omitChanges:r=!1,default:a,readAcl:s=W.View,writeAcl:c=W.View,timed:l=!1}={})=>({id:gr(e),schema:t,optional:!1,writable:!0,fixed:!1,scene:n,persistent:i,fabricScoped:!1,omitChanges:r,default:a,readAcl:s,timed:l,writeAcl:c,isConditional:!1,optionalIf:[],mandatoryIf:[],unknown:!1}),_e=(e,t,{scene:n=!1,persistent:i=!0,omitChanges:r=!1,default:a,readAcl:s=W.View,writeAcl:c=W.View,timed:l=!1}={})=>({id:gr(e),schema:t,optional:!0,writable:!0,fixed:!1,scene:n,persistent:i,fabricScoped:!1,omitChanges:r,default:a,readAcl:s,timed:l,writeAcl:c,isConditional:!1,optionalIf:[],mandatoryIf:[],unknown:!1});var ca=(e,t,{scene:n=!1,persistent:i=!0,omitChanges:r=!1,default:a,readAcl:s=W.View,timed:c=!1}={})=>({id:gr(e),schema:t,optional:!1,writable:!1,fixed:!1,scene:n,persistent:i,fabricScoped:!0,omitChanges:r,default:a,readAcl:s,timed:c,isConditional:!1,optionalIf:[],mandatoryIf:[],unknown:!1}),Mc=(e,t,{scene:n=!1,persistent:i=!0,omitChanges:r=!1,default:a,readAcl:s=W.View,writeAcl:c=W.View,timed:l=!1}={})=>({id:gr(e),schema:t,optional:!1,writable:!0,fixed:!1,scene:n,persistent:i,fabricScoped:!0,omitChanges:r,default:a,readAcl:s,timed:l,writeAcl:c,isConditional:!1,optionalIf:[],mandatoryIf:[],unknown:!1}),cA=(e,t,{scene:n=!1,persistent:i=!0,omitChanges:r=!1,default:a,readAcl:s=W.View,writeAcl:c=W.View,timed:l=!1}={})=>({id:gr(e),schema:t,optional:!0,writable:!0,fixed:!1,scene:n,persistent:i,fabricScoped:!0,omitChanges:r,default:a,readAcl:s,timed:l,writeAcl:c,isConditional:!1,optionalIf:[],mandatoryIf:[],unknown:!1});var me=(e,t,{scene:n=!1,persistent:i=!1,omitChanges:r=!1,default:a,readAcl:s=W.View,timed:c=!1}={})=>({id:gr(e),schema:t,optional:!1,writable:!1,fixed:!0,scene:n,persistent:i,fabricScoped:!1,omitChanges:r,default:a,readAcl:s,timed:c,isConditional:!1,optionalIf:[],mandatoryIf:[],unknown:!1});var Je=(e,t,{scene:n=!1,persistent:i=!1,omitChanges:r=!1,default:a,readAcl:s=W.View,timed:c=!1}={})=>({id:gr(e),schema:t,optional:!0,writable:!1,fixed:!0,scene:n,persistent:i,fabricScoped:!1,omitChanges:r,default:a,readAcl:s,timed:c,isConditional:!1,optionalIf:[],mandatoryIf:[],unknown:!1});var lA=e=>({id:gr(e),schema:kn,optional:!1,writable:!0,fixed:!1,scene:!1,persistent:!1,fabricScoped:!1,omitChanges:!0,default:void 0,readAcl:W.View,timed:!1,isConditional:!0,optionalIf:[],mandatoryIf:[],unknown:!0}),ne=G6,X=(e,t,n,i,{invokeAcl:r=W.Operate,timed:a=!1}={})=>({optional:!1,requestId:Oo(e),requestSchema:t,responseId:Oo(n),responseSchema:i,invokeAcl:r,timed:a,isConditional:!1,optionalIf:[],mandatoryIf:[]}),wt=(e,t,n,i,{invokeAcl:r=W.Operate,timed:a=!1}={})=>({optional:!0,requestId:Oo(e),requestSchema:t,responseId:Oo(n),responseSchema:i,invokeAcl:r,timed:a,isConditional:!1,optionalIf:[],mandatoryIf:[]});var Te=(e=>(e[e.Debug=0]="Debug",e[e.Info=1]="Info",e[e.Critical=2]="Critical",e))(Te||{}),it=(e,t,n,{readAcl:i=W.View}={})=>({id:Fs(e),schema:n,priority:t,optional:!1,isConditional:!1,readAcl:i,optionalIf:[],mandatoryIf:[],unknown:!1}),ct=(e,t,n,{readAcl:i=W.View}={})=>({id:Fs(e),schema:n,priority:t,optional:!0,readAcl:i,isConditional:!1,optionalIf:[],mandatoryIf:[],unknown:!1});var dA=e=>({id:Fs(e),schema:G6,priority:0,optional:!1,readAcl:W.View,isConditional:!1,optionalIf:[],mandatoryIf:[],unknown:!0}),Om=e=>({clusterRevision:V(65533,B),featureMap:V(65532,Ie(ee,e)),attributeList:V(65531,Y(Mm)),eventList:V(65530,Y(bg)),acceptedCommandList:V(65529,Y(ip)),generatedCommandList:V(65528,Y(ip))}),uA=({id:e,name:t,revision:n,features:i={},supportedFeatures:r={},attributes:a={},commands:s={},events:c={},unknown:l=!1})=>({id:sa(e),name:t,revision:n,features:i,supportedFeatures:r,commands:s,attributes:Iy(a,Om(i)),events:c,unknown:l});function yt(e){let t={id:sa(e.id),name:e.name,revision:e.revision,features:e.features??{},supportedFeatures:e.supportedFeatures??{},attributes:{...e.attributes,...Om(e.features??{})},commands:e.commands??{},events:e.events??{},unknown:!1};return e.base&&(t.base=e.base),e.extensions&&(t.extensions=e.extensions),t}(e=>{e.Unknown=e({id:0,revision:0,name:"Unknown",attributes:{},commands:{},events:{}})})(yt||(yt={}));var xg=class extends lt{},Ec=class e{constructor(t){this.cluster=t}compose(t){this.validateFeatureSelection(t);let n=this.cluster.extensions,i;if(n){let r=this.cluster.base??this.cluster,a=s=>{let c={},l=this.cluster[s];for(let d in r[s])c[d]=l[d]??r[s][d];return c};i=yt({...r,attributes:a("attributes"),commands:a("commands"),events:a("events"),supportedFeatures:B6(this.cluster.features,...t),base:r});for(let s of n)s.component?this.accept(i,s.component,this.cluster,s.flags):this.reject(i,s.flags)}else{let r=B6(this.cluster.features,...t);Rn(r,this.cluster.supportedFeatures)?i=this.cluster:i=yt({...this.cluster,supportedFeatures:r,base:this.cluster.base??this.cluster})}return i}validateFeatureSelection(t){for(let n of t)if(!this.cluster.features[xt(n)])throw new xg(`"${n}" is not a valid feature identifier`)}accept(t,n,i,r){for(let a in r)if(!!t.supportedFeatures[a]!=!!r[a])return;e.injectElements(t,n,i)}static injectElements(t,n,i){function r(a){let s=n[a];if(!s)return;let c=t[a];c?c={...c}:c={},t[a]=c;for(let l in s){let d=i?.[a]?.[l];d?c[l]=d:c[l]=s[l]}}r("attributes"),r("commands"),r("events")}reject(t,n){for(let i in n)if(!!t.supportedFeatures[i]!=!!n[i])return;throw new xg(`Feature combination ${si(n)} is disallowed by the Matter specification`)}};var Ls=class{constructor(t){this.cluster=t}alter(t){return z6(this.cluster,t,(n,i)=>{for(let r in i)n[r]=i[r]})}set(t){return z6(this.cluster,{attributes:t},(n,i)=>{n.default=i})}enable(t){return z6(this.cluster,t,(n,i)=>{i===!0?n.optional=!1:i===!1&&(n.optional=!0)})}};function z6(e,t,n){let i={...e};for(let r of["attributes","commands","events"]){let a=t[r];if(a===void 0)continue;let s=i[r];if(s===void 0)continue;let c=!1;for(let l in a){let d=a[l];if(d===void 0)continue;let f=s[l];f&&(c||(s=i[r]={...i[r]},c=!0),s[l]={...f},n(s[l],d))}}return i}function h(e,...t){let n=yt(e);for(let i of t)Ec.injectElements(n,i);return Object.assign(n,{with(...i){return new Ec(n).compose(i)},alter(i){return new Ls(n).alter(i)},set(i){return new Ls(n).set(i)},enable(i){return new Ls(n).enable(i)}}),n}(e=>{function t(a){return a}e.Component=t;function n(...a){return a}e.Extensions=n;function i(a){return{id:a.id,name:a.name,with(...s){return new Ec(yt(a)).compose(s)}}}e.ExtensibleOnly=i;function r(a,{optionalIf:s,mandatoryIf:c}){return{...a,optional:!0,isConditional:!0,optionalIf:s??[],mandatoryIf:c??[]}}e.AsConditional=r})(h||(h={}));var op=class extends Si{constructor(t,n=je.Structure,i=!1){super(),this.fieldDefinitions=t,this.type=n,this.allowProtocolSpecificTags=i;for(let r in this.fieldDefinitions){let a=this.fieldDefinitions[r];if(a.repeated&&n!==je.List)throw new Error("Repeated fields are only allowed in TLV List.");this.fieldById[a.id]={name:r,field:a}}}fieldById=new Array;#e(t,n,i,r){let{id:a,schema:s,optional:c,repeated:l}=this.fieldDefinitions[n],{forWriteInteraction:d=!1,allowMissingFieldsForNonFabricFilteredRead:f=!1}=r??{};if(d&&f)throw new Re("Encode options cannot indicate a write interaction and a fabric filtered read interaction at the same time.");let g=i[n];if(g===void 0){if(!c&&!f){if(d&&a===Eo.id)return;throw new ep(`Missing mandatory field ${n}`,n)}return}if(l){if(!Array.isArray(g))throw new vi(`Repeated field ${n} should be an array.`,n);for(let b of g)s.encodeTlvInternal(t,b,{id:a},r)}else s.encodeTlvInternal(t,g,{id:a},r)}#t(t,n,i){for(let r in this.fieldDefinitions)this.#e(t,r,n,i)}#n(t,n,i){let r=new Set;for(let a of Object.keys(n))this.#e(t,a,n,i),r.add(a);for(let a in this.fieldDefinitions)r.has(a)||this.#e(t,a,n,i)}encodeTlvInternal(t,n,i,r){t.writeTag({type:this.type},i),this.type===je.Structure?this.#t(t,n,r):this.#n(t,n,r),t.writeTag({type:je.EndOfContainer})}decodeTlvInternalValue(t,n){if(n.type!==this.type)throw new De(`Unexpected type ${n.type} (expected ${this.type}).`);let i={};for(;;){let{tag:{profile:r,id:a}={},typeLength:s}=t.readTagType();if(s.type===je.EndOfContainer)break;if(r!==void 0&&!this.allowProtocolSpecificTags)throw new De("Structure element tags should be context-specific.");if(a===void 0)throw new De("Structure element tags should have an id.");let c=this.fieldById[a];if(c===void 0){kn.decodeTlvInternalValue(t,s);continue}let{field:l,name:d}=c,f=l.schema.decodeTlvInternalValue(t,s);l.repeated?i[d]===void 0?i[d]=[f]:i[d].push(f):i[d]=f}for(let r in this.fieldDefinitions){let{optional:a,fallback:s,repeated:c}=this.fieldDefinitions[r];a||i[r]!==void 0||s!==void 0&&(c?i[r]=[s]:i[r]=s)}return i}validate(t){for(let n in this.fieldDefinitions){let{optional:i,schema:r,repeated:a}=this.fieldDefinitions[n],s=t[n];if(s===void 0){if(i)continue;throw new ep(`Missing mandatory field ${n}`,n)}if(a){let{minLength:c=2,maxLength:l=65535}=this.fieldDefinitions[n];if(!Array.isArray(s))throw new vi(`Repeated field ${n} should be an array.`,n);if(s.length>l)throw new $t(`Repeated field list for ${n} is too long: ${s.length}, max ${l}.`,n);if(s.length<c)throw new $t(`Repeated field list for ${n} is too short: ${s.length}, min ${c}.`,n);for(let d of s)try{r.validate(d)}catch(f){throw li.accept(f),f.fieldName=`${n}${f.fieldName!==void 0?`.${f.fieldName}`:""}`,f}}else try{r.validate(s)}catch(c){throw li.accept(c),c.fieldName=`${n}${c.fieldName!==void 0?`.${c.fieldName}`:""}`,c}}}injectField(t,n,i,r){for(let a in this.fieldDefinitions){let s=this.fieldDefinitions[a];s.id===n?r(t[a])&&(s.schema.validate(i),t[a]=i):t[a]=s.schema.injectField(t[a],n,i,r)}return t}removeField(t,n,i){for(let r in this.fieldDefinitions){let a=this.fieldDefinitions[r];a.id===n?t[r]!==void 0&&i(t[r])&&delete t[r]:t[r]=a.schema.removeField(t[r],n,i)}return t}},I=e=>new op(e,je.Structure),K6=class extends op{constructor(t,n,i=je.Structure,r=!1){super(t,i,r),this.maxSize=n}encode(t){let n=super.encode(t);if(n.length>this.maxSize)throw new ce(`Encoded TLV object with ${n.length} bytes exceeds maximum size of ${this.maxSize} bytes.`);return n}},mA=(e,t)=>new K6(e,t,je.Structure),so=(e,t=!1)=>new op(e,je.List,t),m=(e,t,n)=>({id:e,schema:t,fallback:n,optional:!1}),R=(e,t)=>({id:e,schema:t,optional:!0});var wg=(e,t,n)=>{let{maxLength:i}=n??{};return{id:e,schema:t,optional:!0,repeated:!0,minLength:0,maxLength:i}};function Li(e){if(!(e&65535))throw new $t("CaseAuthenticatedTag version number must not be 0.");return e}(e=>{e.getIdentifyValue=t=>t>>>16,e.getVersion=t=>t&65535,e.increaseVersion=t=>{if((0,e.getVersion)(t)===65535)throw new $t("CaseAuthenticatedTag version number must not exceed 0xffff.");return e(t+1)},e.validateNocTagList=t=>{if(t.length>3)throw new $t(`Too many CaseAuthenticatedTags (${t.length}).`);if(new Set(t.map(i=>e.getIdentifyValue(i))).size!==t.length)throw new $t("CASEAuthenticatedTags field contains duplicate identifier values.")}})(Li||(Li={}));var X6=class extends rn{constructor(){super(ee,t=>t,t=>Li(t))}validate(t){if(super.validate(t),!(t&65535))throw new $t("CaseAuthenticatedTag version number must not be 0.")}},Y6=new X6;function Rt(e){return vl(e)}(e=>{let t=BigInt("0x0000000000000001"),n=BigInt("0xFFFFFFEFFFFFFFFF");e.UNSPECIFIED_NODE_ID=e(0),e.toHexString=i=>{let r=new Dn(Et.Big);return r.writeUInt64(i),we.toHex(r.toByteArray()).toUpperCase()},e.randomOperationalNodeId=()=>{for(;;){let i=qe.getRandomBigInt(8);if(i>=t&&i<=n)return e(i)}},e.isOperationalNodeId=i=>i>=t&&i<=n,e.fromGroupNodeId=i=>{if(i<0||i>65535)throw new De(`Invalid group ID: ${i}`);return e(BigInt("0xFFFFFFFFFFFF"+i.toString(16).padStart(4,"0")))},e.fromTemporaryLocalNodeId=i=>{if(i<0||i>4294967295)throw new De(`Invalid ID: ${i}`);return e(BigInt("0xFFFFFFFE"+i.toString(16).padStart(8,"0")))},e.fromCaseAuthenticatedTag=i=>{if(i<0||i>4294967295)throw new De(`Invalid CASE Authenticated tag: ${i}`);return e(BigInt("0xFFFFFFFD"+i.toString(16).padStart(8,"0")))},e.isCaseAuthenticatedTag=i=>{let r=i.toString(16);return r.startsWith("fffffffd")&&r.length===16},e.extractAsCaseAuthenticatedTag=i=>{if(!(0,e.isCaseAuthenticatedTag)(i))throw new De(`Invalid CASE Authenticated tag: ${i}`);return Li(parseInt(i.toString(16).slice(8),16))},e.getFromPakeKeyIdentifier=i=>{if(i<0||i>4294967295)throw new De(`Invalid ID: ${i}`);return e(BigInt("0xFFFFFFFB"+i.toString(16).padStart(8,"0")))}})(Rt||(Rt={}));var Ft=new rn(nt,e=>e,e=>Rt(BigInt(e)));var Fl=Ft;var Dm=class e extends Si{constructor(t,n=0,i=1024){if(super(),this.type=t,this.minLength=n,this.maxLength=i,n<0)throw new Re("Minimum length should be a positive number.")}encodeTlvInternal(t,n,i){let r={type:this.type,length:ii.getUIntTlvLength(n.length)};t.writeTag(r,i),t.writePrimitive(r,n)}decodeTlvInternalValue(t,n){if(n.type!==this.type)throw new De(`Unexpected type ${n.type}.`);return t.readPrimitive(n)}validate(t){if(this.type===je.Utf8String&&typeof t!="string")throw new vi(`Expected string, got ${typeof t}.`);if(this.type===je.ByteString&&!(t instanceof Uint8Array))throw new vi(`Expected Uint8Array, got ${typeof t}.`);if(t.length>this.maxLength)throw new $t(`String ${si(t)} is too long: ${t.length}, max ${this.maxLength}.`);if(t.length<this.minLength)throw new $t(`String ${si(t)} is too short: ${t.length}, min ${this.minLength}.`)}bound({minLength:t,maxLength:n,length:i}){return new e(this.type,i??Sf(this.minLength,t),i??Cf(this.maxLength,n))}},be=new Dm(je.ByteString),Z=new Dm(je.Utf8String),J3e=Z.bound({maxLength:32}),e6e=Z.bound({maxLength:64}),t6e=Z.bound({maxLength:256}),n6e=be.bound({minLength:6,maxLength:8});var Z6=class extends Si{constructor(t){super(),this.schema=t}encodeTlvInternal(t,n,i,r){n===null?t.writeTag({type:je.Null},i):this.schema.encodeTlvInternal(t,n,i,r)}decodeTlvInternalValue(t,n){if(n.type===je.Null)return null;let i=this.schema.decodeTlvInternalValue(t,n);return i!==null&&(this.schema instanceof Xr||this.schema instanceof Dm)&&i.length===0?null:i}validate(t){t!==null&&this.schema.validate(t)}injectField(t,n,i,r){return t!==null?this.schema.injectField(t,n,i,r):t}removeField(t,n,i){return t!==null?this.schema.removeField(t,n,i):t}},k=e=>new Z6(e);function co(e,t=!0){if(!t||e>=0&&e<=65534)return e;throw new $t(`EndpointNumber must be between 0 and 0xFFFE, got ${e}`)}(e=>{e.isValid=pr(e)})(co||(co={}));var yn=new rn(B,e=>e,e=>co(e,!1));function la(e,t=!0){if(!t)return e;let{typeSuffix:n}=Fi.fromMei(e);if(n>=0&&n<=49151)return e;throw new $t(`Invalid device type ID: ${e}`)}(e=>{e.isValid=pr(e)})(la||(la={}));var Tg=new rn(ee,e=>e,e=>la(e,!1));function Jn(e){return e}(e=>{e.NO_FABRIC=0,e.OMIT_FABRIC=-1})(Jn||(Jn={}));var Q6=class extends rn{constructor(){super(P.bound({min:0,max:254}),t=>t===Jn.OMIT_FABRIC?void 0:t,t=>{switch(t){case void 0:return Jn.OMIT_FABRIC;case 0:return Jn.NO_FABRIC;default:return t}})}validate(t){let n=this.wrap(t);n!==void 0&&this.underlyingSchema.validate(n)}},Ut=new Q6;var hA={},re;(e=>{function t(i){return hA[i]}e.get=t;function n(i){i&&i.id!==void 0&&(hA[i.id]=i)}e.register=n})(re||(re={}));var un;(e=>{let t;(r=>{r[r.View=1]="View",r[r.ProxyView=2]="ProxyView",r[r.Operate=3]="Operate",r[r.Manage=4]="Manage",r[r.Administer=5]="Administer"})(t=e.AccessControlEntryPrivilege||(e.AccessControlEntryPrivilege={}));let n;(r=>{r[r.Pase=1]="Pase",r[r.Case=2]="Case",r[r.Group=3]="Group"})(n=e.AccessControlEntryAuthMode||(e.AccessControlEntryAuthMode={})),e.TlvAccessControlTarget=I({cluster:m(0,k(rr)),endpoint:m(1,k(yn)),deviceType:m(2,k(Tg))}),e.TlvAccessControlEntry=I({privilege:m(1,$()),authMode:m(2,$()),subjects:m(3,k(Y(Fl))),targets:m(4,k(Y(e.TlvAccessControlTarget))),fabricIndex:m(254,Ut)}),e.TlvAccessControlExtension=I({data:m(1,be.bound({maxLength:128})),fabricIndex:m(254,Ut)});let i;(r=>{r[r.Changed=0]="Changed",r[r.Added=1]="Added",r[r.Removed=2]="Removed"})(i=e.ChangeType||(e.ChangeType={})),e.TlvAccessControlEntryChangedEvent=I({adminNodeId:m(1,k(Ft)),adminPasscodeId:m(2,k(B)),changeType:m(3,$()),latestValue:m(4,k(e.TlvAccessControlEntry)),fabricIndex:m(254,Ut)}),e.TlvAccessControlExtensionChangedEvent=I({adminNodeId:m(1,k(Ft)),adminPasscodeId:m(2,k(B)),changeType:m(3,$()),latestValue:m(4,k(e.TlvAccessControlExtension)),fabricIndex:m(254,Ut)}),e.ClusterInstance=h({id:31,name:"AccessControl",revision:1,attributes:{acl:Mc(0,Y(e.TlvAccessControlEntry),{default:[],readAcl:W.Administer,writeAcl:W.Administer}),extension:cA(1,Y(e.TlvAccessControlExtension),{default:[],readAcl:W.Administer,writeAcl:W.Administer}),subjectsPerAccessControlEntry:me(2,B.bound({min:4}),{default:4}),targetsPerAccessControlEntry:me(3,B.bound({min:3}),{default:3}),accessControlEntriesPerFabric:me(4,B.bound({min:4}),{default:4})},events:{accessControlEntryChanged:it(0,Te.Info,e.TlvAccessControlEntryChangedEvent,{readAcl:W.Administer}),accessControlExtensionChanged:it(1,Te.Info,e.TlvAccessControlExtensionChangedEvent,{readAcl:W.Administer})}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(un||(un={}));var Cg=un.Cluster;re.register(un.Complete);var Ll;(e=>{e.TlvGetSetupPinRequest=I({tempAccountIdentifier:m(0,Z.bound({minLength:16,maxLength:100}))}),e.TlvGetSetupPinResponse=I({setupPin:m(0,Z)}),e.TlvLoginRequest=I({tempAccountIdentifier:m(0,Z.bound({minLength:16,maxLength:100})),setupPin:m(1,Z.bound({minLength:8})),node:R(2,Ft)}),e.TlvLogoutRequest=I({node:R(0,Ft)}),e.TlvLoggedOutEvent=I({node:R(0,Ft)}),e.ClusterInstance=h({id:1294,name:"AccountLogin",revision:2,commands:{getSetupPin:X(0,e.TlvGetSetupPinRequest,1,e.TlvGetSetupPinResponse,{invokeAcl:W.Administer,timed:!0}),login:X(2,e.TlvLoginRequest,2,ne,{invokeAcl:W.Administer,timed:!0}),logout:X(3,e.TlvLogoutRequest,3,ne,{timed:!0})},events:{loggedOut:ct(0,Te.Critical,e.TlvLoggedOutEvent,{readAcl:W.Administer})}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(Ll||(Ll={}));var jV=Ll.Cluster;re.register(Ll.Complete);var Bl;(e=>{let t;(a=>{a[a.Other=0]="Other",a[a.Scene=1]="Scene",a[a.Sequence=2]="Sequence",a[a.Automation=3]="Automation",a[a.Exception=4]="Exception",a[a.Notification=5]="Notification",a[a.Alarm=6]="Alarm"})(t=e.ActionType||(e.ActionType={})),e.CommandBits={instantAction:M(0),instantActionWithTransition:M(1),startAction:M(2),startActionWithDuration:M(3),stopAction:M(4),pauseAction:M(5),pauseActionWithDuration:M(6),resumeAction:M(7),enableAction:M(8),enableActionWithDuration:M(9),disableAction:M(10),disableActionWithDuration:M(11)};let n;(a=>{a[a.Inactive=0]="Inactive",a[a.Active=1]="Active",a[a.Paused=2]="Paused",a[a.Disabled=3]="Disabled"})(n=e.ActionState||(e.ActionState={})),e.TlvAction=I({actionId:m(0,B),name:m(1,Z.bound({maxLength:32})),type:m(2,$()),endpointListId:m(3,B),supportedCommands:m(4,Ie(B,e.CommandBits)),state:m(5,$())});let i;(a=>{a[a.Other=0]="Other",a[a.Room=1]="Room",a[a.Zone=2]="Zone"})(i=e.EndpointListType||(e.EndpointListType={})),e.TlvEndpointList=I({endpointListId:m(0,B),name:m(1,Z.bound({maxLength:32})),type:m(2,$()),endpoints:m(3,Y(yn,{maxLength:256}))}),e.TlvInstantActionRequest=I({actionId:m(0,B),invokeId:R(1,ee)}),e.TlvInstantActionWithTransitionRequest=I({actionId:m(0,B),invokeId:R(1,ee),transitionTime:m(2,B)}),e.TlvStartActionRequest=I({actionId:m(0,B),invokeId:R(1,ee)}),e.TlvStartActionWithDurationRequest=I({actionId:m(0,B),invokeId:R(1,ee),duration:m(2,ee)}),e.TlvStopActionRequest=I({actionId:m(0,B),invokeId:R(1,ee)}),e.TlvPauseActionRequest=I({actionId:m(0,B),invokeId:R(1,ee)}),e.TlvPauseActionWithDurationRequest=I({actionId:m(0,B),invokeId:R(1,ee),duration:m(2,ee)}),e.TlvResumeActionRequest=I({actionId:m(0,B),invokeId:R(1,ee)}),e.TlvEnableActionRequest=I({actionId:m(0,B),invokeId:R(1,ee)}),e.TlvEnableActionWithDurationRequest=I({actionId:m(0,B),invokeId:R(1,ee),duration:m(2,ee)}),e.TlvDisableActionRequest=I({actionId:m(0,B),invokeId:R(1,ee)}),e.TlvDisableActionWithDurationRequest=I({actionId:m(0,B),invokeId:R(1,ee),duration:m(2,ee)}),e.TlvStateChangedEvent=I({actionId:m(0,B),invokeId:m(1,ee),newState:m(2,$())});let r;(a=>{a[a.Unknown=0]="Unknown",a[a.Interrupted=1]="Interrupted"})(r=e.ActionError||(e.ActionError={})),e.TlvActionFailedEvent=I({actionId:m(0,B),invokeId:m(1,ee),newState:m(2,$()),error:m(3,$())}),e.ClusterInstance=h({id:37,name:"Actions",revision:1,attributes:{actionList:V(0,Y(e.TlvAction,{maxLength:256}),{default:[]}),endpointLists:V(1,Y(e.TlvEndpointList,{maxLength:256}),{default:[]}),setupUrl:ye(2,Z.bound({maxLength:512}))},commands:{instantAction:wt(0,e.TlvInstantActionRequest,0,ne),instantActionWithTransition:wt(1,e.TlvInstantActionWithTransitionRequest,1,ne),startAction:wt(2,e.TlvStartActionRequest,2,ne),startActionWithDuration:wt(3,e.TlvStartActionWithDurationRequest,3,ne),stopAction:wt(4,e.TlvStopActionRequest,4,ne),pauseAction:wt(5,e.TlvPauseActionRequest,5,ne),pauseActionWithDuration:wt(6,e.TlvPauseActionWithDurationRequest,6,ne),resumeAction:wt(7,e.TlvResumeActionRequest,7,ne),enableAction:wt(8,e.TlvEnableActionRequest,8,ne),enableActionWithDuration:wt(9,e.TlvEnableActionWithDurationRequest,9,ne),disableAction:wt(10,e.TlvDisableActionRequest,10,ne),disableActionWithDuration:wt(11,e.TlvDisableActionWithDurationRequest,11,ne)},events:{stateChanged:it(0,Te.Info,e.TlvStateChangedEvent),actionFailed:it(1,Te.Info,e.TlvActionFailedEvent)}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(Bl||(Bl={}));var GV=Bl.Cluster;re.register(Bl.Complete);var J6=class extends Si{encodeTlvInternal(t,n,i){t.writeTag({type:je.Boolean,value:n},i)}decodeTlvInternalValue(t,n){if(n.type!==je.Boolean)throw new De(`Unexpected type ${n.type}.`);return n.value}validate(t){if(typeof t!="boolean")throw new vi(`Expected boolean, got ${typeof t}.`)}},Ae=new J6;var zV=I({}),e5=class extends rp{encodeTlvInternal(t,n,i){if(n!==void 0)throw new De("No value should be passed");zV.encodeTlvInternal(t,{},i)}},Fe=new e5;var Bs;(e=>{let t;(c=>{c.Condition="Condition",c.Warning="Warning",c.ReplacementProductList="ReplacementProductList"})(t=e.Feature||(e.Feature={}));let n;(c=>{c[c.Up=0]="Up",c[c.Down=1]="Down"})(n=e.DegradationDirection||(e.DegradationDirection={}));let i;(c=>{c[c.Upc=0]="Upc",c[c.Gtin8=1]="Gtin8",c[c.Ean=2]="Ean",c[c.Gtin14=3]="Gtin14",c[c.Oem=4]="Oem"})(i=e.ProductIdentifierType||(e.ProductIdentifierType={})),e.TlvReplacementProduct=I({productIdentifierType:m(0,$()),productIdentifierValue:m(1,Z.bound({maxLength:20}))});let r;(c=>{c[c.Ok=0]="Ok",c[c.Warning=1]="Warning",c[c.Critical=2]="Critical"})(r=e.ChangeIndication||(e.ChangeIndication={})),e.ConditionComponent=h.Component({attributes:{condition:V(0,Ii),degradationDirection:me(1,$())}}),e.ReplacementProductListComponent=h.Component({attributes:{replacementProductList:me(5,Y(e.TlvReplacementProduct,{maxLength:5}),{default:[]})}}),e.Base=h.Component({features:{condition:M(0),warning:M(1),replacementProductList:M(2)},name:"ResourceMonitoring",revision:1,attributes:{changeIndication:V(2,$(),{default:0}),inPlaceIndicator:ye(3,Ae),lastChangedTime:_e(4,k(Nt),{persistent:!0,default:null})},commands:{resetCondition:wt(0,Fe,0,ne)},extensions:h.Extensions({flags:{condition:!0},component:e.ConditionComponent},{flags:{replacementProductList:!0},component:e.ReplacementProductListComponent})});let a={condition:!0},s={replacementProductList:!0};e.CompleteInstance=h.Component({name:e.Base.name,revision:e.Base.revision,features:e.Base.features,attributes:{...e.Base.attributes,condition:h.AsConditional(e.ConditionComponent.attributes.condition,{mandatoryIf:[a]}),degradationDirection:h.AsConditional(e.ConditionComponent.attributes.degradationDirection,{mandatoryIf:[a]}),replacementProductList:h.AsConditional(e.ReplacementProductListComponent.attributes.replacementProductList,{mandatoryIf:[s]})},commands:e.Base.commands}),e.Complete=e.CompleteInstance})(Bs||(Bs={}));var Ul;(e=>{e.Base={...Bs.Base,id:114,name:"ActivatedCarbonFilterMonitoring"},e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance,e.CompleteInstance=h({...Bs.Complete,id:114,name:"ActivatedCarbonFilterMonitoring"}),e.Complete=e.CompleteInstance})(Ul||(Ul={}));var KV=Ul.Cluster;re.register(Ul.Complete);var mn;(e=>{let t;(a=>{a.Basic="Basic"})(t=e.Feature||(e.Feature={})),e.TlvOpenBasicCommissioningWindowRequest=I({commissioningTimeout:m(0,B)});let n;(a=>{a[a.WindowNotOpen=0]="WindowNotOpen",a[a.EnhancedWindowOpen=1]="EnhancedWindowOpen",a[a.BasicWindowOpen=2]="BasicWindowOpen"})(n=e.CommissioningWindowStatus||(e.CommissioningWindowStatus={})),e.TlvOpenCommissioningWindowRequest=I({commissioningTimeout:m(0,B),pakePasscodeVerifier:m(1,be.bound({length:97})),discriminator:m(2,B.bound({max:4095})),iterations:m(3,ee.bound({min:1e3,max:1e5})),salt:m(4,be.bound({minLength:16,maxLength:32}))});let i;(a=>{a[a.Busy=2]="Busy",a[a.PakeParameterError=3]="PakeParameterError",a[a.WindowNotOpen=4]="WindowNotOpen"})(i=e.StatusCode||(e.StatusCode={})),e.BasicComponent=h.Component({commands:{openBasicCommissioningWindow:X(1,e.TlvOpenBasicCommissioningWindowRequest,1,ne,{invokeAcl:W.Administer,timed:!0})}}),e.Base=h.Component({id:60,name:"AdministratorCommissioning",revision:1,features:{basic:M(0)},attributes:{windowStatus:V(0,$()),adminFabricIndex:V(1,k(Ut)),adminVendorId:V(2,k(zn))},commands:{openCommissioningWindow:X(0,e.TlvOpenCommissioningWindowRequest,0,ne,{invokeAcl:W.Administer,timed:!0}),revokeCommissioning:X(2,Fe,2,ne,{invokeAcl:W.Administer,timed:!0})},extensions:h.Extensions({flags:{basic:!0},component:e.BasicComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let r={basic:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:e.Cluster.attributes,commands:{...e.Cluster.commands,openBasicCommissioningWindow:h.AsConditional(e.BasicComponent.commands.openBasicCommissioningWindow,{mandatoryIf:[r]})}}),e.Complete=e.CompleteInstance})(mn||(mn={}));var XV=mn.Cluster;re.register(mn.Complete);var Vl;(e=>{let t;(i=>{i.Fair="Fair",i.Moderate="Moderate",i.VeryPoor="VeryPoor",i.ExtremelyPoor="ExtremelyPoor"})(t=e.Feature||(e.Feature={}));let n;(i=>{i[i.Unknown=0]="Unknown",i[i.Good=1]="Good",i[i.Fair=2]="Fair",i[i.Moderate=3]="Moderate",i[i.Poor=4]="Poor",i[i.VeryPoor=5]="VeryPoor",i[i.ExtremelyPoor=6]="ExtremelyPoor"})(n=e.AirQualityEnum||(e.AirQualityEnum={})),e.Base=h.Component({id:91,name:"AirQuality",revision:1,features:{fair:M(0),moderate:M(1),veryPoor:M(2),extremelyPoor:M(3)},attributes:{airQuality:V(0,$(),{default:0})},extensions:h.Extensions()}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(Vl||(Vl={}));var YV=Vl.Cluster;re.register(Vl.Complete);var Va;(e=>{let t;(i=>{i.Reset="Reset"})(t=e.Feature||(e.Feature={})),e.TlvResetRequest=I({alarms:m(0,ee)}),e.TlvModifyEnabledAlarmsRequest=I({mask:m(0,ee)}),e.TlvNotifyEvent=I({active:m(1,ee),inactive:m(2,ee),state:m(3,ee),mask:m(4,ee)}),e.ResetComponent=h.Component({attributes:{latch:me(1,ee)},commands:{reset:X(0,e.TlvResetRequest,0,ne)}}),e.Base=h.Component({features:{reset:M(0)},name:"AlarmBase",revision:1,attributes:{mask:V(0,ee),state:V(2,ee),supported:me(3,ee)},commands:{modifyEnabledAlarms:wt(1,e.TlvModifyEnabledAlarmsRequest,1,ne)},events:{notify:it(0,Te.Info,e.TlvNotifyEvent)},extensions:h.Extensions({flags:{reset:!0},component:e.ResetComponent})});let n={reset:!0};e.CompleteInstance=h.Component({name:e.Base.name,revision:e.Base.revision,features:e.Base.features,attributes:{...e.Base.attributes,latch:h.AsConditional(e.ResetComponent.attributes.latch,{mandatoryIf:[n]})},commands:{...e.Base.commands,reset:h.AsConditional(e.ResetComponent.commands.reset,{mandatoryIf:[n]})},events:e.Base.events}),e.Complete=e.CompleteInstance})(Va||(Va={}));var ql;(e=>{e.TlvApplication=I({catalogVendorId:m(0,B),applicationId:m(1,Z)});let t;(n=>{n[n.Stopped=0]="Stopped",n[n.ActiveVisibleFocus=1]="ActiveVisibleFocus",n[n.ActiveHidden=2]="ActiveHidden",n[n.ActiveVisibleNotFocus=3]="ActiveVisibleNotFocus"})(t=e.ApplicationStatus||(e.ApplicationStatus={})),e.ClusterInstance=h({id:1293,name:"ApplicationBasic",revision:1,attributes:{vendorName:Je(0,Z.bound({maxLength:32})),vendorId:Je(1,zn),applicationName:me(2,Z),productId:Je(3,B),application:me(4,e.TlvApplication),status:V(5,$()),applicationVersion:me(6,Z.bound({maxLength:32})),allowedVendorList:me(7,Y(zn),{default:[],readAcl:W.Administer,writeAcl:W.Administer})}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(ql||(ql={}));var ZV=ql.Cluster;re.register(ql.Complete);var _l;(e=>{let t;(r=>{r.ApplicationPlatform="ApplicationPlatform"})(t=e.Feature||(e.Feature={})),e.TlvApplication=I({catalogVendorId:m(0,B),applicationId:m(1,Z)}),e.TlvApplicationEp=I({application:m(0,e.TlvApplication),endpoint:R(1,yn)}),e.TlvLaunchAppRequest=I({application:R(0,e.TlvApplication),data:R(1,be)});let n;(r=>{r[r.Success=0]="Success",r[r.AppNotAvailable=1]="AppNotAvailable",r[r.SystemBusy=2]="SystemBusy"})(n=e.Status||(e.Status={})),e.TlvLauncherResponse=I({status:m(0,$()),data:R(1,be)}),e.TlvStopAppRequest=I({application:R(0,e.TlvApplication)}),e.TlvHideAppRequest=I({application:R(0,e.TlvApplication)}),e.ApplicationPlatformComponent=h.Component({attributes:{catalogList:V(0,Y(B),{persistent:!0,default:[]})}}),e.Base=h.Component({id:1292,name:"ApplicationLauncher",revision:1,features:{applicationPlatform:M(0)},attributes:{currentApp:ye(1,k(e.TlvApplicationEp),{default:null})},commands:{launchApp:X(0,e.TlvLaunchAppRequest,3,e.TlvLauncherResponse),stopApp:X(1,e.TlvStopAppRequest,3,e.TlvLauncherResponse),hideApp:X(2,e.TlvHideAppRequest,3,e.TlvLauncherResponse)},extensions:h.Extensions({flags:{applicationPlatform:!0},component:e.ApplicationPlatformComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let i={applicationPlatform:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,catalogList:h.AsConditional(e.ApplicationPlatformComponent.attributes.catalogList,{mandatoryIf:[i]})},commands:e.Cluster.commands}),e.Complete=e.CompleteInstance})(_l||(_l={}));var QV=_l.Cluster;re.register(_l.Complete);var $l;(e=>{let t;(r=>{r.NameUpdates="NameUpdates"})(t=e.Feature||(e.Feature={})),e.TlvRenameOutputRequest=I({index:m(0,P),name:m(1,Z)});let n;(r=>{r[r.Hdmi=0]="Hdmi",r[r.Bt=1]="Bt",r[r.Optical=2]="Optical",r[r.Headphone=3]="Headphone",r[r.Internal=4]="Internal",r[r.Other=5]="Other"})(n=e.OutputType||(e.OutputType={})),e.TlvOutputInfo=I({index:m(0,P),outputType:m(1,$()),name:m(2,Z)}),e.TlvSelectOutputRequest=I({index:m(0,P)}),e.NameUpdatesComponent=h.Component({commands:{renameOutput:X(1,e.TlvRenameOutputRequest,1,ne,{invokeAcl:W.Manage})}}),e.Base=h.Component({id:1291,name:"AudioOutput",revision:1,features:{nameUpdates:M(0)},attributes:{outputList:V(0,Y(e.TlvOutputInfo),{default:[]}),currentOutput:V(1,P)},commands:{selectOutput:X(0,e.TlvSelectOutputRequest,0,ne)},extensions:h.Extensions({flags:{nameUpdates:!0},component:e.NameUpdatesComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let i={nameUpdates:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:e.Cluster.attributes,commands:{...e.Cluster.commands,renameOutput:h.AsConditional(e.NameUpdatesComponent.commands.renameOutput,{mandatoryIf:[i]})}}),e.Complete=e.CompleteInstance})($l||($l={}));var JV=$l.Cluster;re.register($l.Complete);var ap;(e=>{e.BallastStatus={ballastNonOperational:M(0),lampFailure:M(1)},e.LampAlarmMode={lampBurnHours:M(0)},e.ClusterInstance=h({id:769,name:"BallastConfiguration",revision:4,attributes:{physicalMinLevel:V(0,P.bound({min:1,max:254}),{default:1}),physicalMaxLevel:V(1,P.bound({min:1,max:254}),{default:254}),ballastStatus:ye(2,Ie(P,e.BallastStatus)),minLevel:He(16,P,{writeAcl:W.Manage}),maxLevel:He(17,P,{writeAcl:W.Manage}),intrinsicBallastFactor:_e(20,k(P),{writeAcl:W.Manage}),ballastFactorAdjustment:_e(21,k(P.bound({min:100})),{default:null,writeAcl:W.Manage}),lampQuantity:V(32,P),lampType:_e(48,Z.bound({maxLength:16}),{default:"",writeAcl:W.Manage}),lampManufacturer:_e(49,Z.bound({maxLength:16}),{default:"",writeAcl:W.Manage}),lampRatedHours:_e(50,k(kl),{default:null,writeAcl:W.Manage}),lampBurnHours:_e(51,k(kl),{default:0,writeAcl:W.Manage}),lampAlarmMode:_e(52,Ie(P,e.LampAlarmMode),{writeAcl:W.Manage}),lampBurnHoursTripPoint:_e(53,k(kl),{default:null,writeAcl:W.Manage})}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(ap||(ap={}));var eq=ap.Cluster;re.register(ap.Complete);var lo;(e=>{e.TlvCapabilityMinima=I({caseSessionsPerFabric:m(0,B.bound({min:3})),subscriptionsPerFabric:m(1,B.bound({min:3}))});let t;(i=>{i[i.Other=0]="Other",i[i.Matte=1]="Matte",i[i.Satin=2]="Satin",i[i.Polished=3]="Polished",i[i.Rugged=4]="Rugged",i[i.Fabric=5]="Fabric"})(t=e.ProductFinish||(e.ProductFinish={}));let n;(i=>{i[i.Black=0]="Black",i[i.Navy=1]="Navy",i[i.Green=2]="Green",i[i.Teal=3]="Teal",i[i.Maroon=4]="Maroon",i[i.Purple=5]="Purple",i[i.Olive=6]="Olive",i[i.Gray=7]="Gray",i[i.Blue=8]="Blue",i[i.Lime=9]="Lime",i[i.Aqua=10]="Aqua",i[i.Red=11]="Red",i[i.Fuchsia=12]="Fuchsia",i[i.Yellow=13]="Yellow",i[i.White=14]="White",i[i.Nickel=15]="Nickel",i[i.Chrome=16]="Chrome",i[i.Brass=17]="Brass",i[i.Copper=18]="Copper",i[i.Silver=19]="Silver",i[i.Gold=20]="Gold"})(n=e.Color||(e.Color={})),e.TlvProductAppearance=I({finish:m(0,$()),primaryColor:m(1,k($()))}),e.TlvStartUpEvent=I({softwareVersion:m(0,ee)}),e.TlvLeaveEvent=I({fabricIndex:m(0,Ut)}),e.TlvReachableChangedEvent=I({reachableNewValue:m(0,Ae)}),e.ClusterInstance=h({id:40,name:"BasicInformation",revision:3,attributes:{dataModelRevision:me(0,B),vendorName:me(1,Z.bound({maxLength:32})),vendorId:me(2,zn),productName:me(3,Z.bound({maxLength:32})),productId:me(4,B),nodeLabel:He(5,Z.bound({maxLength:32}),{persistent:!0,default:"",writeAcl:W.Manage}),location:He(6,Z.bound({length:2}),{persistent:!0,default:"XX",writeAcl:W.Administer}),hardwareVersion:me(7,B,{default:0}),hardwareVersionString:me(8,Z.bound({minLength:1,maxLength:64})),softwareVersion:me(9,ee,{default:0}),softwareVersionString:me(10,Z.bound({minLength:1,maxLength:64})),manufacturingDate:Je(11,Z.bound({minLength:8,maxLength:16})),partNumber:Je(12,Z.bound({maxLength:32})),productUrl:Je(13,Z.bound({maxLength:256})),productLabel:Je(14,Z.bound({maxLength:64})),serialNumber:Je(15,Z.bound({maxLength:32})),localConfigDisabled:_e(16,Ae,{persistent:!0,default:!1,writeAcl:W.Manage}),reachable:ye(17,Ae,{default:!0}),uniqueId:Je(18,Z.bound({maxLength:32})),capabilityMinima:me(19,e.TlvCapabilityMinima,{default:{caseSessionsPerFabric:3,subscriptionsPerFabric:3}}),productAppearance:Je(20,e.TlvProductAppearance),specificationVersion:me(21,ee,{default:0}),maxPathsPerInvoke:me(22,B.bound({min:1}),{default:1})},events:{startUp:it(0,Te.Critical,e.TlvStartUpEvent),shutDown:ct(1,Te.Critical,Fe),leave:ct(2,Te.Info,e.TlvLeaveEvent),reachableChanged:ct(3,Te.Info,e.TlvReachableChangedEvent)}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(lo||(lo={}));var tq=lo.Cluster;re.register(lo.Complete);function Oc(e,t=!0){if(!t||e>=0&&e<=65535)return Number(e);throw new $t(`Invalid group ID: ${e}`)}(e=>{e.UNSPECIFIED_GROUP_ID=e(0),e.isValid=pr(e)})(Oc||(Oc={}));var hn=new rn(B,e=>e,e=>Oc(e,!1));var Wl;(e=>{e.TlvTarget=I({node:R(1,Ft),group:R(2,hn),endpoint:R(3,yn),cluster:R(4,rr),fabricIndex:m(254,Ut)}),e.ClusterInstance=h({id:30,name:"Binding",revision:1,attributes:{binding:Mc(0,Y(e.TlvTarget),{persistent:!0,default:[],writeAcl:W.Manage})}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(Wl||(Wl={}));var nq=Wl.Cluster;re.register(Wl.Complete);var Hl;(e=>{e.TlvStateChangeEvent=I({stateValue:m(0,Ae)}),e.ClusterInstance=h({id:69,name:"BooleanState",revision:1,attributes:{stateValue:V(0,Ae)},events:{stateChange:ct(0,Te.Info,e.TlvStateChangeEvent)}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(Hl||(Hl={}));var iq=Hl.Cluster;re.register(Hl.Complete);var jl;(e=>{let t;(s=>{s.Visual="Visual",s.Audible="Audible",s.AlarmSuppress="AlarmSuppress",s.SensitivityLevel="SensitivityLevel"})(t=e.Feature||(e.Feature={})),e.AlarmMode={visual:M(0),audible:M(1)},e.TlvEnableDisableAlarmRequest=I({alarmsToEnableDisable:m(0,Ie(P,e.AlarmMode))}),e.TlvAlarmsStateChangedEvent=I({alarmsActive:m(0,Ie(P,e.AlarmMode)),alarmsSuppressed:R(1,Ie(P,e.AlarmMode))}),e.TlvSuppressAlarmRequest=I({alarmsToSuppress:m(0,Ie(P,e.AlarmMode))}),e.SensorFault={generalFault:M(0)},e.TlvSensorFaultEvent=I({sensorFault:m(0,Ie(B,e.SensorFault))}),e.SensitivityLevelComponent=h.Component({attributes:{currentSensitivityLevel:He(0,P,{persistent:!0}),supportedSensitivityLevels:me(1,P.bound({min:2,max:10})),defaultSensitivityLevel:Je(2,P)}}),e.VisualOrAudibleComponent=h.Component({attributes:{alarmsActive:V(3,Ie(P,e.AlarmMode)),alarmsEnabled:ye(5,Ie(P,e.AlarmMode),{persistent:!0}),alarmsSupported:me(6,Ie(P,e.AlarmMode))},commands:{enableDisableAlarm:X(1,e.TlvEnableDisableAlarmRequest,1,ne)},events:{alarmsStateChanged:it(0,Te.Info,e.TlvAlarmsStateChangedEvent)}}),e.AlarmSuppressComponent=h.Component({attributes:{alarmsSuppressed:V(4,Ie(P,e.AlarmMode))},commands:{suppressAlarm:X(0,e.TlvSuppressAlarmRequest,0,ne)}}),e.Base=h.Component({id:128,name:"BooleanStateConfiguration",revision:1,features:{visual:M(0),audible:M(1),alarmSuppress:M(2),sensitivityLevel:M(3)},attributes:{sensorFault:ye(7,Ie(B,e.SensorFault))},events:{sensorFault:ct(1,Te.Info,e.TlvSensorFaultEvent)},extensions:h.Extensions({flags:{sensitivityLevel:!0},component:e.SensitivityLevelComponent},{flags:{visual:!0},component:e.VisualOrAudibleComponent},{flags:{audible:!0},component:e.VisualOrAudibleComponent},{flags:{alarmSuppress:!0},component:e.AlarmSuppressComponent},{flags:{alarmSuppress:!0,visual:!0,audible:!0},component:!1})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let n={sensitivityLevel:!0},i={visual:!0},r={audible:!0},a={alarmSuppress:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,currentSensitivityLevel:h.AsConditional(e.SensitivityLevelComponent.attributes.currentSensitivityLevel,{mandatoryIf:[n]}),supportedSensitivityLevels:h.AsConditional(e.SensitivityLevelComponent.attributes.supportedSensitivityLevels,{mandatoryIf:[n]}),defaultSensitivityLevel:h.AsConditional(e.SensitivityLevelComponent.attributes.defaultSensitivityLevel,{optionalIf:[n]}),alarmsActive:h.AsConditional(e.VisualOrAudibleComponent.attributes.alarmsActive,{mandatoryIf:[i,r]}),alarmsSuppressed:h.AsConditional(e.AlarmSuppressComponent.attributes.alarmsSuppressed,{mandatoryIf:[a]}),alarmsEnabled:h.AsConditional(e.VisualOrAudibleComponent.attributes.alarmsEnabled,{optionalIf:[i,r]}),alarmsSupported:h.AsConditional(e.VisualOrAudibleComponent.attributes.alarmsSupported,{mandatoryIf:[i,r]})},commands:{suppressAlarm:h.AsConditional(e.AlarmSuppressComponent.commands.suppressAlarm,{mandatoryIf:[a]}),enableDisableAlarm:h.AsConditional(e.VisualOrAudibleComponent.commands.enableDisableAlarm,{mandatoryIf:[i,r]})},events:{...e.Cluster.events,alarmsStateChanged:h.AsConditional(e.VisualOrAudibleComponent.events.alarmsStateChanged,{mandatoryIf:[i,r]})}}),e.Complete=e.CompleteInstance})(jl||(jl={}));var rq=jl.Cluster;re.register(jl.Complete);var Gl;(e=>{e.ClusterInstance=h({id:57,name:"BridgedDeviceBasicInformation",revision:3,attributes:{vendorName:Je(1,Z.bound({maxLength:32})),vendorId:Je(2,zn),productName:Je(3,Z.bound({maxLength:32})),nodeLabel:_e(5,Z.bound({maxLength:32}),{persistent:!0,writeAcl:W.Manage}),hardwareVersion:Je(7,B),hardwareVersionString:Je(8,Z.bound({minLength:1,maxLength:64})),softwareVersion:Je(9,ee),softwareVersionString:Je(10,Z.bound({minLength:1,maxLength:64})),manufacturingDate:Je(11,Z.bound({minLength:8,maxLength:16})),partNumber:Je(12,Z.bound({maxLength:32})),productUrl:Je(13,Z.bound({maxLength:256})),productLabel:Je(14,Z.bound({maxLength:64})),serialNumber:Je(15,Z.bound({maxLength:32})),reachable:V(17,Ae),uniqueId:Je(18,Z.bound({maxLength:32})),productAppearance:Je(20,lo.TlvProductAppearance)},events:{startUp:ct(0,Te.Critical,lo.TlvStartUpEvent),shutDown:ct(1,Te.Critical,Fe),leave:ct(2,Te.Critical,Fe),reachableChanged:it(3,Te.Critical,lo.TlvReachableChangedEvent)}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(Gl||(Gl={}));var oq=Gl.Cluster;re.register(Gl.Complete);var gn;(e=>{let t;(d=>{d.NumericMeasurement="NumericMeasurement",d.LevelIndication="LevelIndication",d.MediumLevel="MediumLevel",d.CriticalLevel="CriticalLevel",d.PeakMeasurement="PeakMeasurement",d.AverageMeasurement="AverageMeasurement"})(t=e.Feature||(e.Feature={}));let n;(d=>{d[d.Ppm=0]="Ppm",d[d.Ppb=1]="Ppb",d[d.Ppt=2]="Ppt",d[d.Mgm3=3]="Mgm3",d[d.Ugm3=4]="Ugm3",d[d.Ngm3=5]="Ngm3",d[d.Pm3=6]="Pm3",d[d.Bqm3=7]="Bqm3"})(n=e.MeasurementUnit||(e.MeasurementUnit={}));let i;(d=>{d[d.Unknown=0]="Unknown",d[d.Low=1]="Low",d[d.Medium=2]="Medium",d[d.High=3]="High",d[d.Critical=4]="Critical"})(i=e.LevelValue||(e.LevelValue={}));let r;(d=>{d[d.Air=0]="Air",d[d.Water=1]="Water",d[d.Soil=2]="Soil"})(r=e.MeasurementMedium||(e.MeasurementMedium={})),e.NumericMeasurementComponent=h.Component({attributes:{measuredValue:V(0,k(Ua),{default:null}),minMeasuredValue:V(1,k(Ua),{default:null}),maxMeasuredValue:V(2,k(Ua),{default:null}),uncertainty:ye(7,Ua),measurementUnit:me(8,$())}}),e.PeakMeasurementComponent=h.Component({attributes:{peakMeasuredValue:V(3,k(Ua),{default:null}),peakMeasuredValueWindow:V(4,ee.bound({max:604800}),{default:1})}}),e.AverageMeasurementComponent=h.Component({attributes:{averageMeasuredValue:V(5,k(Ua),{default:null}),averageMeasuredValueWindow:V(6,ee.bound({max:604800}),{default:1})}}),e.LevelIndicationComponent=h.Component({attributes:{levelValue:V(10,$(),{default:0})}}),e.Base=h.Component({features:{numericMeasurement:M(0),levelIndication:M(1),mediumLevel:M(2),criticalLevel:M(3),peakMeasurement:M(4),averageMeasurement:M(5)},name:"ConcentrationMeasurement",revision:3,attributes:{measurementMedium:me(9,$())},extensions:h.Extensions({flags:{numericMeasurement:!0},component:e.NumericMeasurementComponent},{flags:{peakMeasurement:!0},component:e.PeakMeasurementComponent},{flags:{averageMeasurement:!0},component:e.AverageMeasurementComponent},{flags:{levelIndication:!0},component:e.LevelIndicationComponent},{flags:{mediumLevel:!0,levelIndication:!1},component:!1},{flags:{criticalLevel:!0,levelIndication:!1},component:!1},{flags:{peakMeasurement:!0,numericMeasurement:!1},component:!1},{flags:{averageMeasurement:!0,numericMeasurement:!1},component:!1},{flags:{numericMeasurement:!1,levelIndication:!1},component:!1})});let a={numericMeasurement:!0},s={peakMeasurement:!0},c={averageMeasurement:!0},l={levelIndication:!0};e.CompleteInstance=h.Component({name:e.Base.name,revision:e.Base.revision,features:e.Base.features,attributes:{...e.Base.attributes,measuredValue:h.AsConditional(e.NumericMeasurementComponent.attributes.measuredValue,{mandatoryIf:[a]}),minMeasuredValue:h.AsConditional(e.NumericMeasurementComponent.attributes.minMeasuredValue,{mandatoryIf:[a]}),maxMeasuredValue:h.AsConditional(e.NumericMeasurementComponent.attributes.maxMeasuredValue,{mandatoryIf:[a]}),peakMeasuredValue:h.AsConditional(e.PeakMeasurementComponent.attributes.peakMeasuredValue,{mandatoryIf:[s]}),peakMeasuredValueWindow:h.AsConditional(e.PeakMeasurementComponent.attributes.peakMeasuredValueWindow,{mandatoryIf:[s]}),averageMeasuredValue:h.AsConditional(e.AverageMeasurementComponent.attributes.averageMeasuredValue,{mandatoryIf:[c]}),averageMeasuredValueWindow:h.AsConditional(e.AverageMeasurementComponent.attributes.averageMeasuredValueWindow,{mandatoryIf:[c]}),uncertainty:h.AsConditional(e.NumericMeasurementComponent.attributes.uncertainty,{optionalIf:[a]}),measurementUnit:h.AsConditional(e.NumericMeasurementComponent.attributes.measurementUnit,{mandatoryIf:[a]}),levelValue:h.AsConditional(e.LevelIndicationComponent.attributes.levelValue,{mandatoryIf:[l]})}}),e.Complete=e.CompleteInstance})(gn||(gn={}));var zl;(e=>{e.Base={...gn.Base,id:1037,name:"CarbonDioxideConcentrationMeasurement"},e.ClusterInstance=h.ExtensibleOnly(e.Base),e.Cluster=e.ClusterInstance,e.CompleteInstance=h({...gn.Complete,id:1037,name:"CarbonDioxideConcentrationMeasurement"}),e.Complete=e.CompleteInstance})(zl||(zl={}));var aq=zl.Cluster;re.register(zl.Complete);var Kl;(e=>{e.Base={...gn.Base,id:1036,name:"CarbonMonoxideConcentrationMeasurement"},e.ClusterInstance=h.ExtensibleOnly(e.Base),e.Cluster=e.ClusterInstance,e.CompleteInstance=h({...gn.Complete,id:1036,name:"CarbonMonoxideConcentrationMeasurement"}),e.Complete=e.CompleteInstance})(Kl||(Kl={}));var sq=Kl.Cluster;re.register(Kl.Complete);var Do;(e=>{let t;(c=>{c.ContentSearch="ContentSearch",c.UrlPlayback="UrlPlayback",c.AdvancedSeek="AdvancedSeek",c.TextTracks="TextTracks",c.AudioTracks="AudioTracks"})(t=e.Feature||(e.Feature={})),e.SupportedProtocols={dash:M(0),hls:M(1)};let n;(c=>{c[c.Pixels=0]="Pixels",c[c.Percentage=1]="Percentage"})(n=e.MetricType||(e.MetricType={})),e.TlvDimension=I({width:m(0,H6),height:m(1,H6),metric:m(2,$())}),e.TlvStyleInformation=I({imageUrl:R(0,Z.bound({maxLength:8192})),color:R(1,Z),size:R(2,e.TlvDimension)}),e.TlvBrandingInformation=I({providerName:m(0,Z.bound({maxLength:256})),background:R(1,e.TlvStyleInformation),logo:R(2,e.TlvStyleInformation),progressBar:R(3,e.TlvStyleInformation),splash:R(4,e.TlvStyleInformation),waterMark:R(5,e.TlvStyleInformation)}),e.TlvTrackPreference=I({languageCode:m(0,Z.bound({maxLength:32})),characteristics:R(1,k(Y($()))),audioOutputIndex:R(2,k(P))}),e.TlvPlaybackPreferences=I({playbackPosition:R(0,k(nt)),textTrack:R(1,k(e.TlvTrackPreference)),audioTracks:R(2,k(Y(e.TlvTrackPreference)))}),e.TlvLaunchUrlRequest=I({contentUrl:m(0,Z),displayString:R(1,Z),brandingInformation:R(2,e.TlvBrandingInformation),playbackPreferences:R(3,e.TlvPlaybackPreferences)});let i;(c=>{c[c.Success=0]="Success",c[c.UrlNotAvailable=1]="UrlNotAvailable",c[c.AuthFailed=2]="AuthFailed",c[c.TextTrackNotAvailable=3]="TextTrackNotAvailable",c[c.AudioTrackNotAvailable=4]="AudioTrackNotAvailable"})(i=e.Status||(e.Status={})),e.TlvLauncherResponse=I({status:m(0,$()),data:R(1,Z)});let r;(c=>{c[c.Actor=0]="Actor",c[c.Channel=1]="Channel",c[c.Character=2]="Character",c[c.Director=3]="Director",c[c.Event=4]="Event",c[c.Franchise=5]="Franchise",c[c.Genre=6]="Genre",c[c.League=7]="League",c[c.Popularity=8]="Popularity",c[c.Provider=9]="Provider",c[c.Sport=10]="Sport",c[c.SportsTeam=11]="SportsTeam",c[c.Type=12]="Type",c[c.Video=13]="Video",c[c.Season=14]="Season",c[c.Episode=15]="Episode",c[c.Any=16]="Any"})(r=e.ParameterEnum||(e.ParameterEnum={})),e.TlvAdditionalInfo=I({name:m(0,Z.bound({maxLength:256})),value:m(1,Z.bound({maxLength:8192}))}),e.TlvParameter=I({type:m(0,$()),value:m(1,Z.bound({maxLength:1024})),externalIdList:R(2,Y(e.TlvAdditionalInfo))}),e.TlvContentSearch=I({parameterList:m(0,Y(e.TlvParameter))}),e.TlvLaunchContentRequest=I({search:m(0,e.TlvContentSearch),autoPlay:m(1,Ae),data:R(2,Z),playbackPreferences:R(3,e.TlvPlaybackPreferences),useCurrentContext:R(4,Ae)}),e.UrlPlaybackComponent=h.Component({attributes:{acceptHeader:V(0,Y(Z,{maxLength:100}),{persistent:!0,default:[]}),supportedStreamingProtocols:V(1,Ie(ee,e.SupportedProtocols),{persistent:!0})},commands:{launchUrl:X(1,e.TlvLaunchUrlRequest,2,e.TlvLauncherResponse)}}),e.ContentSearchComponent=h.Component({commands:{launchContent:X(0,e.TlvLaunchContentRequest,2,e.TlvLauncherResponse)}}),e.ContentSearchOrUrlPlaybackComponent=h.Component({}),e.Base=h.Component({id:1290,name:"ContentLauncher",revision:2,features:{contentSearch:M(0),urlPlayback:M(1),advancedSeek:M(2),textTracks:M(3),audioTracks:M(4)},extensions:h.Extensions({flags:{urlPlayback:!0},component:e.UrlPlaybackComponent},{flags:{contentSearch:!0},component:e.ContentSearchComponent},{flags:{contentSearch:!0},component:e.ContentSearchOrUrlPlaybackComponent},{flags:{urlPlayback:!0},component:e.ContentSearchOrUrlPlaybackComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let a={urlPlayback:!0},s={contentSearch:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{acceptHeader:h.AsConditional(e.UrlPlaybackComponent.attributes.acceptHeader,{mandatoryIf:[a]}),supportedStreamingProtocols:h.AsConditional(e.UrlPlaybackComponent.attributes.supportedStreamingProtocols,{mandatoryIf:[a]})},commands:{launchContent:h.AsConditional(e.ContentSearchComponent.commands.launchContent,{mandatoryIf:[s]}),launchUrl:h.AsConditional(e.UrlPlaybackComponent.commands.launchUrl,{mandatoryIf:[a]})}}),e.Complete=e.CompleteInstance})(Do||(Do={}));var cq=Do.Cluster;re.register(Do.Complete);var Xl;(e=>{let t;(d=>{d.ChannelList="ChannelList",d.LineupInfo="LineupInfo",d.ElectronicGuide="ElectronicGuide",d.RecordProgram="RecordProgram"})(t=e.Feature||(e.Feature={}));let n;(d=>{d[d.Satellite=0]="Satellite",d[d.Cable=1]="Cable",d[d.Terrestrial=2]="Terrestrial",d[d.Ott=3]="Ott"})(n=e.ChannelType||(e.ChannelType={})),e.TlvChannelInfo=I({majorNumber:m(0,B),minorNumber:m(1,B),name:R(2,Z),callSign:R(3,Z),affiliateCallSign:R(4,Z),identifier:R(5,Z),type:R(6,$())});let i;(d=>{d[d.Mso=0]="Mso"})(i=e.LineupInfoType||(e.LineupInfoType={})),e.TlvLineupInfo=I({operatorName:m(0,Z),lineupName:R(1,Z),postalCode:R(2,Z),lineupInfoType:m(3,$())}),e.TlvChangeChannelRequest=I({match:m(0,Z)});let r;(d=>{d[d.Success=0]="Success",d[d.MultipleMatches=1]="MultipleMatches",d[d.NoMatches=2]="NoMatches"})(r=e.Status||(e.Status={})),e.TlvChangeChannelResponse=I({status:m(0,$()),data:R(1,Z)}),e.TlvPageToken=I({limit:R(0,B),after:R(1,Z.bound({maxLength:8192})),before:R(2,Z.bound({maxLength:8192}))}),e.RecordingFlag={scheduled:M(0),recordSeries:M(1),recorded:M(2)},e.TlvGetProgramGuideRequest=I({startTime:m(0,Nt),endTime:m(1,Nt),channelList:R(2,Y(e.TlvChannelInfo,{maxLength:255})),pageToken:R(3,k(e.TlvPageToken)),recordingFlag:R(5,k(Ie(P,e.RecordingFlag))),externalIdList:R(6,Y(Do.TlvAdditionalInfo,{maxLength:255})),data:R(7,be.bound({maxLength:8092}))}),e.TlvChannelPaging=I({previousToken:R(0,k(e.TlvPageToken)),nextToken:R(1,k(e.TlvPageToken))}),e.TlvSeriesInfo=I({season:m(0,Z.bound({maxLength:256})),episode:m(1,Z.bound({maxLength:256}))}),e.TlvProgramCategory=I({category:m(0,Z.bound({maxLength:256})),subCategory:R(1,Z.bound({maxLength:256}))}),e.TlvProgramCast=I({name:m(0,Z.bound({maxLength:256})),role:m(1,Z.bound({maxLength:256}))}),e.TlvProgram=I({identifier:m(0,Z.bound({maxLength:255})),channel:m(1,e.TlvChannelInfo),startTime:m(2,Nt),endTime:m(3,Nt),title:m(4,Z.bound({maxLength:255})),subtitle:R(5,Z.bound({maxLength:255})),description:R(6,Z.bound({maxLength:8192})),audioLanguages:R(7,Y(Z,{maxLength:10})),ratings:R(8,Y(Z,{maxLength:255})),thumbnailUrl:R(9,Z.bound({maxLength:8192})),posterArtUrl:R(10,Z.bound({maxLength:8192})),dvbiUrl:R(11,Z.bound({maxLength:8192})),releaseDate:R(12,Z.bound({maxLength:30})),parentalGuidanceText:R(13,Z.bound({maxLength:255})),recordingFlag:R(14,Ie(P,e.RecordingFlag)),seriesInfo:R(15,k(e.TlvSeriesInfo)),categoryList:R(16,Y(e.TlvProgramCategory,{maxLength:255})),castList:R(17,Y(e.TlvProgramCast,{maxLength:255})),externalIdList:R(18,Y(Do.TlvAdditionalInfo,{maxLength:255}))}),e.TlvProgramGuideResponse=I({paging:m(0,e.TlvChannelPaging),programList:m(1,Y(e.TlvProgram))}),e.TlvRecordProgramRequest=I({programIdentifier:m(0,Z.bound({maxLength:255})),shouldRecordSeries:m(1,Ae),externalIdList:R(2,Y(Do.TlvAdditionalInfo,{maxLength:255})),data:R(3,be.bound({maxLength:8092}))}),e.TlvCancelRecordProgramRequest=I({programIdentifier:m(0,Z.bound({maxLength:255})),shouldRecordSeries:m(1,Ae),externalIdList:R(2,Y(Do.TlvAdditionalInfo,{maxLength:255})),data:R(3,be.bound({maxLength:8092}))}),e.TlvChangeChannelByNumberRequest=I({majorNumber:m(0,B),minorNumber:m(1,B)}),e.TlvSkipChannelRequest=I({count:m(0,Ct)}),e.ChannelListComponent=h.Component({attributes:{channelList:V(0,Y(e.TlvChannelInfo),{default:[]})}}),e.LineupInfoComponent=h.Component({attributes:{lineup:V(1,k(e.TlvLineupInfo),{default:null})}}),e.ChannelListOrLineupInfoComponent=h.Component({commands:{changeChannel:X(0,e.TlvChangeChannelRequest,1,e.TlvChangeChannelResponse)}}),e.ElectronicGuideComponent=h.Component({commands:{getProgramGuide:X(4,e.TlvGetProgramGuideRequest,5,e.TlvProgramGuideResponse)}}),e.RecordProgramAndElectronicGuideComponent=h.Component({commands:{recordProgram:X(6,e.TlvRecordProgramRequest,6,ne),cancelRecordProgram:X(7,e.TlvCancelRecordProgramRequest,7,ne)}}),e.Base=h.Component({id:1284,name:"Channel",revision:2,features:{channelList:M(0),lineupInfo:M(1),electronicGuide:M(2),recordProgram:M(3)},attributes:{currentChannel:ye(2,k(e.TlvChannelInfo),{default:null})},commands:{changeChannelByNumber:X(2,e.TlvChangeChannelByNumberRequest,2,ne),skipChannel:X(3,e.TlvSkipChannelRequest,3,ne)},extensions:h.Extensions({flags:{channelList:!0},component:e.ChannelListComponent},{flags:{lineupInfo:!0},component:e.LineupInfoComponent},{flags:{channelList:!0},component:e.ChannelListOrLineupInfoComponent},{flags:{lineupInfo:!0},component:e.ChannelListOrLineupInfoComponent},{flags:{electronicGuide:!0},component:e.ElectronicGuideComponent},{flags:{recordProgram:!0,electronicGuide:!0},component:e.RecordProgramAndElectronicGuideComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let a={channelList:!0},s={lineupInfo:!0},c={electronicGuide:!0},l={recordProgram:!0,electronicGuide:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,channelList:h.AsConditional(e.ChannelListComponent.attributes.channelList,{mandatoryIf:[a]}),lineup:h.AsConditional(e.LineupInfoComponent.attributes.lineup,{mandatoryIf:[s]})},commands:{...e.Cluster.commands,changeChannel:h.AsConditional(e.ChannelListOrLineupInfoComponent.commands.changeChannel,{mandatoryIf:[a,s]}),getProgramGuide:h.AsConditional(e.ElectronicGuideComponent.commands.getProgramGuide,{mandatoryIf:[c]}),recordProgram:h.AsConditional(e.RecordProgramAndElectronicGuideComponent.commands.recordProgram,{mandatoryIf:[l]}),cancelRecordProgram:h.AsConditional(e.RecordProgramAndElectronicGuideComponent.commands.cancelRecordProgram,{mandatoryIf:[l]})}}),e.Complete=e.CompleteInstance})(Xl||(Xl={}));var lq=Xl.Cluster;re.register(Xl.Complete);var Qe;(e=>{let t;(S=>{S.HueSaturation="HueSaturation",S.EnhancedHue="EnhancedHue",S.ColorLoop="ColorLoop",S.Xy="Xy",S.ColorTemperature="ColorTemperature"})(t=e.Feature||(e.Feature={}));let n;(S=>{S[S.ShortestDistance=0]="ShortestDistance",S[S.LongestDistance=1]="LongestDistance",S[S.Up=2]="Up",S[S.Down=3]="Down"})(n=e.Direction||(e.Direction={})),e.Options={executeIfOff:M(0)},e.TlvMoveToHueRequest=I({hue:m(0,P.bound({max:254})),direction:m(1,$()),transitionTime:m(2,B.bound({max:65534})),optionsMask:m(3,Ie(P,e.Options)),optionsOverride:m(4,Ie(P,e.Options))});let i;(S=>{S[S.Stop=0]="Stop",S[S.Up=1]="Up",S[S.Down=3]="Down"})(i=e.MoveMode||(e.MoveMode={})),e.TlvMoveHueRequest=I({moveMode:m(0,$()),rate:m(1,P),optionsMask:m(2,Ie(P,e.Options)),optionsOverride:m(3,Ie(P,e.Options))});let r;(S=>{S[S.Up=1]="Up",S[S.Down=3]="Down"})(r=e.StepMode||(e.StepMode={})),e.TlvStepHueRequest=I({stepMode:m(0,$()),stepSize:m(1,P),transitionTime:m(2,P),optionsMask:m(3,Ie(P,e.Options)),optionsOverride:m(4,Ie(P,e.Options))}),e.TlvMoveToSaturationRequest=I({saturation:m(0,P.bound({max:254})),transitionTime:m(1,B.bound({max:65534})),optionsMask:m(2,Ie(P,e.Options)),optionsOverride:m(3,Ie(P,e.Options))}),e.TlvMoveSaturationRequest=I({moveMode:m(0,$()),rate:m(1,P),optionsMask:m(2,Ie(P,e.Options)),optionsOverride:m(3,Ie(P,e.Options))}),e.TlvStepSaturationRequest=I({stepMode:m(0,$()),stepSize:m(1,P),transitionTime:m(2,P),optionsMask:m(3,Ie(P,e.Options)),optionsOverride:m(4,Ie(P,e.Options))}),e.TlvMoveToHueAndSaturationRequest=I({hue:m(0,P.bound({max:254})),saturation:m(1,P.bound({max:254})),transitionTime:m(2,B.bound({max:65534})),optionsMask:m(3,Ie(P,e.Options)),optionsOverride:m(4,Ie(P,e.Options))}),e.TlvMoveToColorRequest=I({colorX:m(0,B.bound({max:65279})),colorY:m(1,B.bound({max:65279})),transitionTime:m(2,B.bound({max:65534})),optionsMask:m(3,Ie(P,e.Options)),optionsOverride:m(4,Ie(P,e.Options))}),e.TlvMoveColorRequest=I({rateX:m(0,Ct),rateY:m(1,Ct),optionsMask:m(2,Ie(P,e.Options)),optionsOverride:m(3,Ie(P,e.Options))}),e.TlvStepColorRequest=I({stepX:m(0,Ct),stepY:m(1,Ct),transitionTime:m(2,B.bound({max:65534})),optionsMask:m(3,Ie(P,e.Options)),optionsOverride:m(4,Ie(P,e.Options))}),e.TlvMoveToColorTemperatureRequest=I({colorTemperatureMireds:m(0,B.bound({max:65279})),transitionTime:m(1,B.bound({max:65534})),optionsMask:m(2,Ie(P,e.Options)),optionsOverride:m(3,Ie(P,e.Options))}),e.TlvMoveColorTemperatureRequest=I({moveMode:m(0,$()),rate:m(1,B),colorTemperatureMinimumMireds:m(2,B.bound({max:65279})),colorTemperatureMaximumMireds:m(3,B.bound({max:65279})),optionsMask:m(4,Ie(P,e.Options)),optionsOverride:m(5,Ie(P,e.Options))}),e.TlvStepColorTemperatureRequest=I({stepMode:m(0,$()),stepSize:m(1,B),transitionTime:m(2,B.bound({max:65534})),colorTemperatureMinimumMireds:m(3,B.bound({max:65279})),colorTemperatureMaximumMireds:m(4,B.bound({max:65279})),optionsMask:m(5,Ie(P,e.Options)),optionsOverride:m(6,Ie(P,e.Options))}),e.TlvEnhancedMoveToHueRequest=I({enhancedHue:m(0,B),direction:m(1,$()),transitionTime:m(2,B.bound({max:65534})),optionsMask:m(3,Ie(P,e.Options)),optionsOverride:m(4,Ie(P,e.Options))}),e.TlvEnhancedMoveHueRequest=I({moveMode:m(0,$()),rate:m(1,B),optionsMask:m(2,Ie(P,e.Options)),optionsOverride:m(3,Ie(P,e.Options))}),e.TlvEnhancedStepHueRequest=I({stepMode:m(0,$()),stepSize:m(1,B),transitionTime:m(2,B.bound({max:65534})),optionsMask:m(3,Ie(P,e.Options)),optionsOverride:m(4,Ie(P,e.Options))}),e.TlvEnhancedMoveToHueAndSaturationRequest=I({enhancedHue:m(0,B),saturation:m(1,P.bound({max:254})),transitionTime:m(2,B.bound({max:65534})),optionsMask:m(3,Ie(P,e.Options)),optionsOverride:m(4,Ie(P,e.Options))});let a;(S=>{S[S.Inactive=0]="Inactive",S[S.Active=1]="Active"})(a=e.ColorLoopActive||(e.ColorLoopActive={}));let s;(S=>{S[S.Decrement=0]="Decrement",S[S.Increment=1]="Increment"})(s=e.ColorLoopDirection||(e.ColorLoopDirection={})),e.UpdateFlags={updateAction:M(0),updateDirection:M(1),updateTime:M(2),updateStartHue:M(3),reserved:Kr(4,4)};let c;(S=>{S[S.DeActivateTheColorLoop=0]="DeActivateTheColorLoop",S[S.ActivateTheColorLoopFromTheValueInTheColorLoopStartEnhancedHueField=1]="ActivateTheColorLoopFromTheValueInTheColorLoopStartEnhancedHueField",S[S.ActivateTheColorLoopFromTheValueOfTheEnhancedCurrentHueAttribute=2]="ActivateTheColorLoopFromTheValueOfTheEnhancedCurrentHueAttribute"})(c=e.Action||(e.Action={}));let l;(S=>{S[S.DecrementTheHueInTheColorLoop=0]="DecrementTheHueInTheColorLoop",S[S.IncrementTheHueInTheColorLoop=1]="IncrementTheHueInTheColorLoop"})(l=e.ColorLoopSetDirection||(e.ColorLoopSetDirection={})),e.TlvColorLoopSetRequest=I({updateFlags:m(0,Ie(P,e.UpdateFlags)),action:m(1,$()),direction:m(2,$()),time:m(3,B),startHue:m(4,B),optionsMask:m(5,Ie(P,e.Options)),optionsOverride:m(6,Ie(P,e.Options))}),e.TlvStopMoveStepRequest=I({optionsMask:m(0,Ie(P,e.Options)),optionsOverride:m(1,Ie(P,e.Options))});let d;(S=>{S[S.None=0]="None",S[S.OtherUnknown=1]="OtherUnknown",S[S.TemperatureMonitoring=2]="TemperatureMonitoring",S[S.OpticalLuminanceMonitoringAndFeedback=3]="OpticalLuminanceMonitoringAndFeedback",S[S.OpticalColorMonitoringAndFeedback=4]="OpticalColorMonitoringAndFeedback"})(d=e.DriftCompensation||(e.DriftCompensation={}));let f;(S=>{S[S.CurrentHueAndCurrentSaturation=0]="CurrentHueAndCurrentSaturation",S[S.CurrentXAndCurrentY=1]="CurrentXAndCurrentY",S[S.ColorTemperatureMireds=2]="ColorTemperatureMireds"})(f=e.ColorMode||(e.ColorMode={}));let g;(S=>{S[S.CurrentHueAndCurrentSaturation=0]="CurrentHueAndCurrentSaturation",S[S.CurrentXAndCurrentY=1]="CurrentXAndCurrentY",S[S.ColorTemperatureMireds=2]="ColorTemperatureMireds",S[S.EnhancedCurrentHueAndCurrentSaturation=3]="EnhancedCurrentHueAndCurrentSaturation"})(g=e.EnhancedColorMode||(e.EnhancedColorMode={})),e.ColorCapabilities={hueSaturation:M(0),enhancedHue:M(1),colorLoop:M(2),xy:M(3),colorTemperature:M(4)},e.HueSaturationComponent=h.Component({attributes:{currentHue:V(0,P.bound({max:254}),{persistent:!0,default:0}),currentSaturation:V(1,P.bound({max:254}),{scene:!0,persistent:!0,default:0})},commands:{moveToHue:X(0,e.TlvMoveToHueRequest,0,ne),moveHue:X(1,e.TlvMoveHueRequest,1,ne),stepHue:X(2,e.TlvStepHueRequest,2,ne),moveToSaturation:X(3,e.TlvMoveToSaturationRequest,3,ne),moveSaturation:X(4,e.TlvMoveSaturationRequest,4,ne),stepSaturation:X(5,e.TlvStepSaturationRequest,5,ne),moveToHueAndSaturation:X(6,e.TlvMoveToHueAndSaturationRequest,6,ne)}}),e.XyComponent=h.Component({attributes:{currentX:V(3,B.bound({max:65279}),{scene:!0,persistent:!0,default:24939}),currentY:V(4,B.bound({max:65279}),{scene:!0,persistent:!0,default:24701})},commands:{moveToColor:X(7,e.TlvMoveToColorRequest,7,ne),moveColor:X(8,e.TlvMoveColorRequest,8,ne),stepColor:X(9,e.TlvStepColorRequest,9,ne)}}),e.ColorTemperatureComponent=h.Component({attributes:{colorTemperatureMireds:V(7,B,{scene:!0,persistent:!0,default:250}),colorTempPhysicalMinMireds:V(16395,B.bound({max:65279}),{default:0}),colorTempPhysicalMaxMireds:V(16396,B.bound({max:65279}),{default:65279}),coupleColorTempToLevelMinMireds:ye(16397,B),startUpColorTemperatureMireds:_e(16400,k(B.bound({max:65279})),{persistent:!0,writeAcl:W.Manage})},commands:{moveToColorTemperature:X(10,e.TlvMoveToColorTemperatureRequest,10,ne),moveColorTemperature:X(75,e.TlvMoveColorTemperatureRequest,75,ne),stepColorTemperature:X(76,e.TlvStepColorTemperatureRequest,76,ne)}}),e.EnhancedHueComponent=h.Component({attributes:{enhancedCurrentHue:V(16384,B,{scene:!0,persistent:!0,default:0})},commands:{enhancedMoveToHue:X(64,e.TlvEnhancedMoveToHueRequest,64,ne),enhancedMoveHue:X(65,e.TlvEnhancedMoveHueRequest,65,ne),enhancedStepHue:X(66,e.TlvEnhancedStepHueRequest,66,ne),enhancedMoveToHueAndSaturation:X(67,e.TlvEnhancedMoveToHueAndSaturationRequest,67,ne)}}),e.ColorLoopComponent=h.Component({attributes:{colorLoopActive:V(16386,$(),{scene:!0,persistent:!0,default:0}),colorLoopDirection:V(16387,$(),{scene:!0,persistent:!0,default:0}),colorLoopTime:V(16388,B,{scene:!0,persistent:!0,default:25}),colorLoopStartEnhancedHue:V(16389,B,{default:8960}),colorLoopStoredEnhancedHue:V(16390,B,{default:0})},commands:{colorLoopSet:X(68,e.TlvColorLoopSetRequest,68,ne)}}),e.HueSaturationOrXyOrColorTemperatureComponent=h.Component({commands:{stopMoveStep:X(71,e.TlvStopMoveStepRequest,71,ne)}}),e.Base=h.Component({id:768,name:"ColorControl",revision:6,features:{hueSaturation:M(0),enhancedHue:M(1),colorLoop:M(2),xy:M(3),colorTemperature:M(4)},attributes:{remainingTime:ye(2,B,{default:0}),driftCompensation:ye(5,$()),compensationText:ye(6,Z.bound({maxLength:254})),colorMode:V(8,$(),{persistent:!0,default:1}),options:He(15,Ie(P,e.Options)),numberOfPrimaries:me(16,k(P.bound({max:6}))),primary1X:Je(17,B.bound({max:65279})),primary1Y:Je(18,B.bound({max:65279})),primary1Intensity:Je(19,k(P)),primary2X:Je(21,B.bound({max:65279})),primary2Y:Je(22,B.bound({max:65279})),primary2Intensity:Je(23,k(P)),primary3X:Je(25,B.bound({max:65279})),primary3Y:Je(26,B.bound({max:65279})),primary3Intensity:Je(27,k(P)),primary4X:Je(32,B.bound({max:65279})),primary4Y:Je(33,B.bound({max:65279})),primary4Intensity:Je(34,k(P)),primary5X:Je(36,B.bound({max:65279})),primary5Y:Je(37,B.bound({max:65279})),primary5Intensity:Je(38,k(P)),primary6X:Je(40,B.bound({max:65279})),primary6Y:Je(41,B.bound({max:65279})),primary6Intensity:Je(42,k(P)),whitePointX:_e(48,B.bound({max:65279}),{writeAcl:W.Manage}),whitePointY:_e(49,B.bound({max:65279}),{writeAcl:W.Manage}),colorPointRx:_e(50,B.bound({max:65279}),{writeAcl:W.Manage}),colorPointRy:_e(51,B.bound({max:65279}),{writeAcl:W.Manage}),colorPointRIntensity:_e(52,k(P),{writeAcl:W.Manage}),colorPointGx:_e(54,B.bound({max:65279}),{writeAcl:W.Manage}),colorPointGy:_e(55,B.bound({max:65279}),{writeAcl:W.Manage}),colorPointGIntensity:_e(56,k(P),{writeAcl:W.Manage}),colorPointBx:_e(58,B.bound({max:65279}),{writeAcl:W.Manage}),colorPointBy:_e(59,B.bound({max:65279}),{writeAcl:W.Manage}),colorPointBIntensity:_e(60,k(P),{writeAcl:W.Manage}),enhancedColorMode:V(16385,$(),{scene:!0,persistent:!0,default:1}),colorCapabilities:V(16394,Ie(B,e.ColorCapabilities))},extensions:h.Extensions({flags:{hueSaturation:!0},component:e.HueSaturationComponent},{flags:{xy:!0},component:e.XyComponent},{flags:{colorTemperature:!0},component:e.ColorTemperatureComponent},{flags:{enhancedHue:!0},component:e.EnhancedHueComponent},{flags:{colorLoop:!0},component:e.ColorLoopComponent},{flags:{hueSaturation:!0},component:e.HueSaturationOrXyOrColorTemperatureComponent},{flags:{xy:!0},component:e.HueSaturationOrXyOrColorTemperatureComponent},{flags:{colorTemperature:!0},component:e.HueSaturationOrXyOrColorTemperatureComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let b={hueSaturation:!0},w={xy:!0},O={colorTemperature:!0},D={enhancedHue:!0},y={colorLoop:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,currentHue:h.AsConditional(e.HueSaturationComponent.attributes.currentHue,{mandatoryIf:[b]}),currentSaturation:h.AsConditional(e.HueSaturationComponent.attributes.currentSaturation,{mandatoryIf:[b]}),currentX:h.AsConditional(e.XyComponent.attributes.currentX,{mandatoryIf:[w]}),currentY:h.AsConditional(e.XyComponent.attributes.currentY,{mandatoryIf:[w]}),colorTemperatureMireds:h.AsConditional(e.ColorTemperatureComponent.attributes.colorTemperatureMireds,{mandatoryIf:[O]}),enhancedCurrentHue:h.AsConditional(e.EnhancedHueComponent.attributes.enhancedCurrentHue,{mandatoryIf:[D]}),colorLoopActive:h.AsConditional(e.ColorLoopComponent.attributes.colorLoopActive,{mandatoryIf:[y]}),colorLoopDirection:h.AsConditional(e.ColorLoopComponent.attributes.colorLoopDirection,{mandatoryIf:[y]}),colorLoopTime:h.AsConditional(e.ColorLoopComponent.attributes.colorLoopTime,{mandatoryIf:[y]}),colorLoopStartEnhancedHue:h.AsConditional(e.ColorLoopComponent.attributes.colorLoopStartEnhancedHue,{mandatoryIf:[y]}),colorLoopStoredEnhancedHue:h.AsConditional(e.ColorLoopComponent.attributes.colorLoopStoredEnhancedHue,{mandatoryIf:[y]}),colorTempPhysicalMinMireds:h.AsConditional(e.ColorTemperatureComponent.attributes.colorTempPhysicalMinMireds,{mandatoryIf:[O]}),colorTempPhysicalMaxMireds:h.AsConditional(e.ColorTemperatureComponent.attributes.colorTempPhysicalMaxMireds,{mandatoryIf:[O]}),coupleColorTempToLevelMinMireds:h.AsConditional(e.ColorTemperatureComponent.attributes.coupleColorTempToLevelMinMireds,{optionalIf:[O]}),startUpColorTemperatureMireds:h.AsConditional(e.ColorTemperatureComponent.attributes.startUpColorTemperatureMireds,{optionalIf:[O]})},commands:{moveToHue:h.AsConditional(e.HueSaturationComponent.commands.moveToHue,{mandatoryIf:[b]}),moveHue:h.AsConditional(e.HueSaturationComponent.commands.moveHue,{mandatoryIf:[b]}),stepHue:h.AsConditional(e.HueSaturationComponent.commands.stepHue,{mandatoryIf:[b]}),moveToSaturation:h.AsConditional(e.HueSaturationComponent.commands.moveToSaturation,{mandatoryIf:[b]}),moveSaturation:h.AsConditional(e.HueSaturationComponent.commands.moveSaturation,{mandatoryIf:[b]}),stepSaturation:h.AsConditional(e.HueSaturationComponent.commands.stepSaturation,{mandatoryIf:[b]}),moveToHueAndSaturation:h.AsConditional(e.HueSaturationComponent.commands.moveToHueAndSaturation,{mandatoryIf:[b]}),moveToColor:h.AsConditional(e.XyComponent.commands.moveToColor,{mandatoryIf:[w]}),moveColor:h.AsConditional(e.XyComponent.commands.moveColor,{mandatoryIf:[w]}),stepColor:h.AsConditional(e.XyComponent.commands.stepColor,{mandatoryIf:[w]}),moveToColorTemperature:h.AsConditional(e.ColorTemperatureComponent.commands.moveToColorTemperature,{mandatoryIf:[O]}),enhancedMoveToHue:h.AsConditional(e.EnhancedHueComponent.commands.enhancedMoveToHue,{mandatoryIf:[D]}),enhancedMoveHue:h.AsConditional(e.EnhancedHueComponent.commands.enhancedMoveHue,{mandatoryIf:[D]}),enhancedStepHue:h.AsConditional(e.EnhancedHueComponent.commands.enhancedStepHue,{mandatoryIf:[D]}),enhancedMoveToHueAndSaturation:h.AsConditional(e.EnhancedHueComponent.commands.enhancedMoveToHueAndSaturation,{mandatoryIf:[D]}),colorLoopSet:h.AsConditional(e.ColorLoopComponent.commands.colorLoopSet,{mandatoryIf:[y]}),stopMoveStep:h.AsConditional(e.HueSaturationOrXyOrColorTemperatureComponent.commands.stopMoveStep,{mandatoryIf:[b,w,O]}),moveColorTemperature:h.AsConditional(e.ColorTemperatureComponent.commands.moveColorTemperature,{mandatoryIf:[O]}),stepColorTemperature:h.AsConditional(e.ColorTemperatureComponent.commands.stepColorTemperature,{mandatoryIf:[O]})}}),e.Complete=e.CompleteInstance})(Qe||(Qe={}));var dq=Qe.Cluster;re.register(Qe.Complete);var Yl;(e=>{e.TlvContentAppMessageRequest=I({data:m(0,Z.bound({maxLength:500})),encodingHint:R(1,Z.bound({maxLength:100}))});let t;(n=>{n[n.Success=0]="Success",n[n.UnexpectedData=1]="UnexpectedData"})(t=e.Status||(e.Status={})),e.TlvContentAppMessageResponse=I({status:m(0,$()),data:R(1,Z.bound({maxLength:500})),encodingHint:R(2,Z.bound({maxLength:100}))}),e.ClusterInstance=h({id:1296,name:"ContentAppObserver",revision:1,commands:{contentAppMessage:X(0,e.TlvContentAppMessageRequest,1,e.TlvContentAppMessageResponse)}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(Yl||(Yl={}));var uq=Yl.Cluster;re.register(Yl.Complete);var Zl;(e=>{let t;(b=>{b.ScreenTime="ScreenTime",b.PinManagement="PinManagement",b.BlockUnrated="BlockUnrated",b.OnDemandContentRating="OnDemandContentRating",b.ScheduledContentRating="ScheduledContentRating",b.BlockChannels="BlockChannels",b.BlockApplications="BlockApplications",b.BlockContentTimeWindow="BlockContentTimeWindow"})(t=e.Feature||(e.Feature={})),e.TlvRatingName=I({ratingName:m(0,Z.bound({maxLength:8})),ratingNameDesc:R(1,Z.bound({maxLength:64}))}),e.TlvSetOnDemandRatingThresholdRequest=I({rating:m(0,Z.bound({maxLength:8}))}),e.TlvSetScheduledContentRatingThresholdRequest=I({rating:m(0,Z.bound({maxLength:8}))}),e.TlvAddBonusTimeRequest=I({pinCode:R(0,Z.bound({maxLength:6})),bonusTime:m(1,ee)}),e.TlvSetScreenDailyTimeRequest=I({screenTime:m(0,ee.bound({max:86400}))}),e.TlvBlockChannel=I({blockChannelIndex:m(0,k(B)),majorNumber:m(1,B),minorNumber:m(2,B),identifier:R(3,Z)}),e.TlvAddBlockChannelsRequest=I({channels:m(0,Y(e.TlvBlockChannel))}),e.TlvRemoveBlockChannelsRequest=I({channelIndexes:m(0,Y(B))}),e.TlvAppInfo=I({catalogVendorId:m(0,B),applicationId:m(1,Z)}),e.TlvAddBlockApplicationsRequest=I({applications:m(0,Y(e.TlvAppInfo))}),e.TlvRemoveBlockApplicationsRequest=I({applications:m(0,Y(e.TlvAppInfo))});let n;(b=>{b[b.Sunday=0]="Sunday",b[b.Monday=1]="Monday",b[b.Tuesday=2]="Tuesday",b[b.Wednesday=3]="Wednesday",b[b.Thursday=4]="Thursday",b[b.Friday=5]="Friday",b[b.Saturday=6]="Saturday"})(n=e.DayOfWeek||(e.DayOfWeek={})),e.TlvTimePeriod=I({startHour:m(0,P.bound({max:23})),startMinute:m(1,P.bound({max:59})),endHour:m(2,P.bound({max:23})),endMinute:m(3,P.bound({max:59}))}),e.TlvTimeWindow=I({timeWindowIndex:m(0,k(B)),dayOfWeek:m(1,$()),timePeriod:m(2,Y(e.TlvTimePeriod))}),e.TlvSetBlockContentTimeWindowRequest=I({timeWindow:m(0,e.TlvTimeWindow)}),e.TlvRemoveBlockContentTimeWindowRequest=I({timeWindowIndexes:m(0,Y(B))}),e.TlvUpdatePinRequest=I({oldPin:m(0,Z.bound({maxLength:6})),newPin:m(1,Z.bound({maxLength:6}))}),e.TlvResetPinResponse=I({pinCode:m(0,Z.bound({maxLength:6}))});let i;(b=>{b[b.InvalidPinCode=2]="InvalidPinCode",b[b.InvalidRating=3]="InvalidRating",b[b.InvalidChannel=4]="InvalidChannel",b[b.ChannelAlreadyExist=5]="ChannelAlreadyExist",b[b.ChannelNotExist=6]="ChannelNotExist",b[b.UnidentifiableApplication=7]="UnidentifiableApplication",b[b.ApplicationAlreadyExist=8]="ApplicationAlreadyExist",b[b.ApplicationNotExist=9]="ApplicationNotExist",b[b.TimeWindowAlreadyExist=10]="TimeWindowAlreadyExist",b[b.TimeWindowNotExist=11]="TimeWindowNotExist"})(i=e.StatusCode||(e.StatusCode={})),e.OnDemandContentRatingComponent=h.Component({attributes:{onDemandRatings:V(1,Y(e.TlvRatingName),{default:[]}),onDemandRatingThreshold:V(2,Z.bound({maxLength:8}))},commands:{setOnDemandRatingThreshold:X(9,e.TlvSetOnDemandRatingThresholdRequest,9,ne,{invokeAcl:W.Manage})}}),e.ScheduledContentRatingComponent=h.Component({attributes:{scheduledContentRatings:V(3,Y(e.TlvRatingName),{default:[]}),scheduledContentRatingThreshold:V(4,Z.bound({maxLength:8}))},commands:{setScheduledContentRatingThreshold:X(10,e.TlvSetScheduledContentRatingThresholdRequest,10,ne,{invokeAcl:W.Manage})}}),e.ScreenTimeComponent=h.Component({attributes:{screenDailyTime:V(5,ee.bound({max:86400})),remainingScreenTime:V(6,ee.bound({max:86400}))},commands:{addBonusTime:X(5,e.TlvAddBonusTimeRequest,5,ne),setScreenDailyTime:X(6,e.TlvSetScreenDailyTimeRequest,6,ne,{invokeAcl:W.Manage})},events:{remainingScreenTimeExpired:it(0,Te.Info,Fe)}}),e.BlockUnratedComponent=h.Component({attributes:{blockUnrated:V(7,Ae)},commands:{blockUnratedContent:X(7,Fe,7,ne,{invokeAcl:W.Manage}),unblockUnratedContent:X(8,Fe,8,ne,{invokeAcl:W.Manage})}}),e.BlockChannelsComponent=h.Component({attributes:{blockChannelList:V(8,Y(e.TlvBlockChannel),{default:[]})},commands:{addBlockChannels:X(11,e.TlvAddBlockChannelsRequest,11,ne,{invokeAcl:W.Manage}),removeBlockChannels:X(12,e.TlvRemoveBlockChannelsRequest,12,ne,{invokeAcl:W.Manage})}}),e.BlockApplicationsComponent=h.Component({attributes:{blockApplicationList:V(9,Y(e.TlvAppInfo),{default:[]})},commands:{addBlockApplications:X(13,e.TlvAddBlockApplicationsRequest,13,ne,{invokeAcl:W.Manage}),removeBlockApplications:X(14,e.TlvRemoveBlockApplicationsRequest,14,ne,{invokeAcl:W.Manage})}}),e.BlockContentTimeWindowComponent=h.Component({attributes:{blockContentTimeWindow:V(10,Y(e.TlvTimeWindow,{maxLength:7}),{default:[]})},commands:{setBlockContentTimeWindow:X(15,e.TlvSetBlockContentTimeWindowRequest,15,ne,{invokeAcl:W.Manage}),removeBlockContentTimeWindow:X(16,e.TlvRemoveBlockContentTimeWindowRequest,16,ne,{invokeAcl:W.Manage})},events:{enteringBlockContentTimeWindow:it(1,Te.Info,Fe)}}),e.PinManagementComponent=h.Component({commands:{updatePin:X(0,e.TlvUpdatePinRequest,0,ne,{invokeAcl:W.Manage,timed:!0}),resetPin:X(1,Fe,2,e.TlvResetPinResponse,{invokeAcl:W.Administer,timed:!0})}}),e.Base=h.Component({id:1295,name:"ContentControl",revision:1,features:{screenTime:M(0),pinManagement:M(1),blockUnrated:M(2),onDemandContentRating:M(3),scheduledContentRating:M(4),blockChannels:M(5),blockApplications:M(6),blockContentTimeWindow:M(7)},attributes:{enabled:V(0,Ae)},commands:{enable:X(3,Fe,3,ne,{invokeAcl:W.Manage,timed:!0}),disable:X(4,Fe,4,ne,{invokeAcl:W.Manage,timed:!0})},extensions:h.Extensions({flags:{onDemandContentRating:!0},component:e.OnDemandContentRatingComponent},{flags:{scheduledContentRating:!0},component:e.ScheduledContentRatingComponent},{flags:{screenTime:!0},component:e.ScreenTimeComponent},{flags:{blockUnrated:!0},component:e.BlockUnratedComponent},{flags:{blockChannels:!0},component:e.BlockChannelsComponent},{flags:{blockApplications:!0},component:e.BlockApplicationsComponent},{flags:{blockContentTimeWindow:!0},component:e.BlockContentTimeWindowComponent},{flags:{pinManagement:!0},component:e.PinManagementComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let r={onDemandContentRating:!0},a={scheduledContentRating:!0},s={screenTime:!0},c={blockUnrated:!0},l={blockChannels:!0},d={blockApplications:!0},f={blockContentTimeWindow:!0},g={pinManagement:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,onDemandRatings:h.AsConditional(e.OnDemandContentRatingComponent.attributes.onDemandRatings,{mandatoryIf:[r]}),onDemandRatingThreshold:h.AsConditional(e.OnDemandContentRatingComponent.attributes.onDemandRatingThreshold,{mandatoryIf:[r]}),scheduledContentRatings:h.AsConditional(e.ScheduledContentRatingComponent.attributes.scheduledContentRatings,{mandatoryIf:[a]}),scheduledContentRatingThreshold:h.AsConditional(e.ScheduledContentRatingComponent.attributes.scheduledContentRatingThreshold,{mandatoryIf:[a]}),screenDailyTime:h.AsConditional(e.ScreenTimeComponent.attributes.screenDailyTime,{mandatoryIf:[s]}),remainingScreenTime:h.AsConditional(e.ScreenTimeComponent.attributes.remainingScreenTime,{mandatoryIf:[s]}),blockUnrated:h.AsConditional(e.BlockUnratedComponent.attributes.blockUnrated,{mandatoryIf:[c]}),blockChannelList:h.AsConditional(e.BlockChannelsComponent.attributes.blockChannelList,{mandatoryIf:[l]}),blockApplicationList:h.AsConditional(e.BlockApplicationsComponent.attributes.blockApplicationList,{mandatoryIf:[d]}),blockContentTimeWindow:h.AsConditional(e.BlockContentTimeWindowComponent.attributes.blockContentTimeWindow,{mandatoryIf:[f]})},commands:{...e.Cluster.commands,updatePin:h.AsConditional(e.PinManagementComponent.commands.updatePin,{mandatoryIf:[g]}),resetPin:h.AsConditional(e.PinManagementComponent.commands.resetPin,{mandatoryIf:[g]}),addBonusTime:h.AsConditional(e.ScreenTimeComponent.commands.addBonusTime,{mandatoryIf:[s]}),setScreenDailyTime:h.AsConditional(e.ScreenTimeComponent.commands.setScreenDailyTime,{mandatoryIf:[s]}),blockUnratedContent:h.AsConditional(e.BlockUnratedComponent.commands.blockUnratedContent,{mandatoryIf:[c]}),unblockUnratedContent:h.AsConditional(e.BlockUnratedComponent.commands.unblockUnratedContent,{mandatoryIf:[c]}),setOnDemandRatingThreshold:h.AsConditional(e.OnDemandContentRatingComponent.commands.setOnDemandRatingThreshold,{mandatoryIf:[r]}),setScheduledContentRatingThreshold:h.AsConditional(e.ScheduledContentRatingComponent.commands.setScheduledContentRatingThreshold,{mandatoryIf:[a]}),addBlockChannels:h.AsConditional(e.BlockChannelsComponent.commands.addBlockChannels,{mandatoryIf:[l]}),removeBlockChannels:h.AsConditional(e.BlockChannelsComponent.commands.removeBlockChannels,{mandatoryIf:[l]}),addBlockApplications:h.AsConditional(e.BlockApplicationsComponent.commands.addBlockApplications,{mandatoryIf:[d]}),removeBlockApplications:h.AsConditional(e.BlockApplicationsComponent.commands.removeBlockApplications,{mandatoryIf:[d]}),setBlockContentTimeWindow:h.AsConditional(e.BlockContentTimeWindowComponent.commands.setBlockContentTimeWindow,{mandatoryIf:[f]}),removeBlockContentTimeWindow:h.AsConditional(e.BlockContentTimeWindowComponent.commands.removeBlockContentTimeWindow,{mandatoryIf:[f]})},events:{remainingScreenTimeExpired:h.AsConditional(e.ScreenTimeComponent.events.remainingScreenTimeExpired,{mandatoryIf:[s]}),enteringBlockContentTimeWindow:h.AsConditional(e.BlockContentTimeWindowComponent.events.enteringBlockContentTimeWindow,{mandatoryIf:[f]})}}),e.Complete=e.CompleteInstance})(Zl||(Zl={}));var mq=Zl.Cluster;re.register(Zl.Complete);var fA=I({mfgCode:m(0,k(zn)),namespaceId:m(1,P),tag:m(2,P),label:R(3,k(Z.bound({maxLength:64})))});var Us;(e=>{let t;(i=>{i.TagList="TagList"})(t=e.Feature||(e.Feature={})),e.TlvDeviceType=I({deviceType:m(0,Tg),revision:m(1,B.bound({min:1}))}),e.TagListComponent=h.Component({attributes:{tagList:me(4,Y(fA,{minLength:1,maxLength:6}))}}),e.Base=h.Component({id:29,name:"Descriptor",revision:2,features:{tagList:M(0)},attributes:{deviceTypeList:me(0,Y(e.TlvDeviceType,{minLength:1})),serverList:me(1,Y(rr),{default:[]}),clientList:me(2,Y(rr),{default:[]}),partsList:V(3,Y(yn),{default:[]})},extensions:h.Extensions({flags:{tagList:!0},component:e.TagListComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let n={tagList:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,tagList:h.AsConditional(e.TagListComponent.attributes.tagList,{mandatoryIf:[n]})}}),e.Complete=e.CompleteInstance})(Us||(Us={}));var hq=Us.Cluster;re.register(Us.Complete);var sp;(e=>{let t;(y=>{y.PowerAdjustment="PowerAdjustment",y.PowerForecastReporting="PowerForecastReporting",y.StateForecastReporting="StateForecastReporting",y.StartTimeAdjustment="StartTimeAdjustment",y.Pausable="Pausable",y.ForecastAdjustment="ForecastAdjustment",y.ConstraintBasedAdjustment="ConstraintBasedAdjustment"})(t=e.Feature||(e.Feature={})),e.TlvPowerAdjust=I({minPower:m(0,vt),maxPower:m(1,vt),minDuration:m(2,ee),maxDuration:m(3,ee)});let n;(y=>{y[y.LocalOptimization=0]="LocalOptimization",y[y.GridOptimization=1]="GridOptimization"})(n=e.AdjustmentCause||(e.AdjustmentCause={})),e.TlvPowerAdjustRequest=I({power:m(0,vt),duration:m(1,ee),cause:m(2,$())});let i;(y=>{y[y.NormalCompletion=0]="NormalCompletion",y[y.Offline=1]="Offline",y[y.Fault=2]="Fault",y[y.UserOptOut=3]="UserOptOut",y[y.Cancelled=4]="Cancelled"})(i=e.Cause||(e.Cause={})),e.TlvPowerAdjustEndEvent=I({cause:m(0,$()),duration:m(1,ee),energyUse:m(2,vt)});let r;(y=>{y[y.Financial=0]="Financial",y[y.GhgEmissions=1]="GhgEmissions",y[y.Comfort=2]="Comfort",y[y.Temperature=3]="Temperature"})(r=e.CostType||(e.CostType={})),e.TlvCost=I({costType:m(0,$()),value:m(1,oa),decimalPoints:m(2,P),currency:R(3,B.bound({max:999}))}),e.TlvSlot=I({minDuration:m(0,ee),maxDuration:m(1,ee),defaultDuration:m(2,ee),elapsedSlotTime:m(3,ee),remainingSlotTime:m(4,ee),slotIsPauseable:R(5,Ae),minPauseDuration:R(6,ee),maxPauseDuration:R(7,ee),manufacturerEsaState:R(8,B),nominalPower:R(9,vt),minPower:R(10,vt),maxPower:R(11,vt),nominalEnergy:R(12,vt),costs:R(13,Y(e.TlvCost,{maxLength:5})),minPowerAdjustment:R(14,vt),maxPowerAdjustment:R(15,vt),minDurationAdjustment:R(16,ee),maxDurationAdjustment:R(17,ee)});let a;(y=>{y[y.InternalOptimization=0]="InternalOptimization",y[y.LocalOptimization=1]="LocalOptimization",y[y.GridOptimization=2]="GridOptimization"})(a=e.ForecastUpdateReason||(e.ForecastUpdateReason={})),e.TlvForecast=I({forecastId:m(0,B),activeSlotNumber:m(1,k(B)),startTime:m(2,Nt),endTime:m(3,Nt),earliestStartTime:R(4,k(Nt)),latestEndTime:R(5,Nt),isPauseable:m(6,Ae),slots:m(7,Y(e.TlvSlot,{maxLength:10})),forecastUpdateReason:m(8,$())});let s;(y=>{y[y.NoOptOut=0]="NoOptOut",y[y.LocalOptOut=1]="LocalOptOut",y[y.GridOptOut=2]="GridOptOut",y[y.OptOut=3]="OptOut"})(s=e.OptOutState||(e.OptOutState={})),e.TlvPauseRequest=I({duration:m(0,ee),cause:m(1,$())}),e.TlvResumedEvent=I({cause:m(0,$())}),e.TlvStartTimeAdjustRequest=I({requestedStartTime:m(0,Nt),cause:m(1,$())}),e.TlvSlotAdjustment=I({slotIndex:m(0,P),nominalPower:m(1,vt),duration:m(2,ee)}),e.TlvModifyForecastRequest=I({forecastId:m(0,ee),slotAdjustments:m(1,Y(e.TlvSlotAdjustment,{maxLength:10})),cause:m(2,$())}),e.TlvConstraints=I({startTime:m(0,Nt),duration:m(1,ee.bound({min:0,max:86400})),nominalPower:R(2,vt),maximumEnergy:R(3,vt),loadControl:R(4,$i)}),e.TlvRequestConstraintBasedForecastRequest=I({constraints:m(0,Y(e.TlvConstraints,{maxLength:10})),cause:m(1,$())});let c;(y=>{y[y.Evse=0]="Evse",y[y.SpaceHeating=1]="SpaceHeating",y[y.WaterHeating=2]="WaterHeating",y[y.SpaceCooling=3]="SpaceCooling",y[y.SpaceHeatingCooling=4]="SpaceHeatingCooling",y[y.BatteryStorage=5]="BatteryStorage",y[y.SolarPv=6]="SolarPv",y[y.FridgeFreezer=7]="FridgeFreezer",y[y.WashingMachine=8]="WashingMachine",y[y.Dishwasher=9]="Dishwasher",y[y.Cooking=10]="Cooking",y[y.HomeWaterPump=11]="HomeWaterPump",y[y.IrrigationWaterPump=12]="IrrigationWaterPump",y[y.PoolPump=13]="PoolPump",y[y.Other=255]="Other"})(c=e.EsaType||(e.EsaType={}));let l;(y=>{y[y.Offline=0]="Offline",y[y.Online=1]="Online",y[y.Fault=2]="Fault",y[y.PowerAdjustActive=3]="PowerAdjustActive",y[y.Paused=4]="Paused"})(l=e.EsaState||(e.EsaState={})),e.PowerAdjustmentComponent=h.Component({attributes:{powerAdjustmentCapability:V(5,k(Y(e.TlvPowerAdjust,{maxLength:8})),{default:null})},commands:{powerAdjustRequest:X(0,e.TlvPowerAdjustRequest,0,ne),cancelPowerAdjustRequest:X(1,Fe,1,ne)},events:{powerAdjustStart:it(0,Te.Info,Fe),powerAdjustEnd:it(1,Te.Info,e.TlvPowerAdjustEndEvent)}}),e.PowerForecastReportingOrStateForecastReportingComponent=h.Component({attributes:{forecast:V(6,k(e.TlvForecast),{default:null})}}),e.PowerAdjustmentOrStartTimeAdjustmentOrPausableOrForecastAdjustmentOrConstraintBasedAdjustmentComponent=h.Component({attributes:{optOutState:V(7,$(),{default:0})}}),e.PausableComponent=h.Component({commands:{pauseRequest:X(3,e.TlvPauseRequest,3,ne),resumeRequest:X(4,Fe,4,ne)},events:{paused:it(2,Te.Info,Fe),resumed:it(3,Te.Info,e.TlvResumedEvent)}}),e.StartTimeAdjustmentComponent=h.Component({commands:{startTimeAdjustRequest:X(2,e.TlvStartTimeAdjustRequest,2,ne)}}),e.ForecastAdjustmentComponent=h.Component({commands:{modifyForecastRequest:X(5,e.TlvModifyForecastRequest,5,ne)}}),e.ConstraintBasedAdjustmentComponent=h.Component({commands:{requestConstraintBasedForecast:X(6,e.TlvRequestConstraintBasedForecastRequest,6,ne)}}),e.StartTimeAdjustmentOrForecastAdjustmentOrConstraintBasedAdjustmentComponent=h.Component({commands:{cancelRequest:X(7,Fe,7,ne)}}),e.Base=h.Component({id:152,name:"DeviceEnergyManagement",revision:3,features:{powerAdjustment:M(0),powerForecastReporting:M(1),stateForecastReporting:M(2),startTimeAdjustment:M(3),pausable:M(4),forecastAdjustment:M(5),constraintBasedAdjustment:M(6)},attributes:{esaType:me(0,$(),{default:255}),esaCanGenerate:me(1,Ae,{default:!1}),esaState:V(2,$(),{default:0}),absMinPower:V(3,vt,{default:0}),absMaxPower:V(4,vt,{default:0})},extensions:h.Extensions({flags:{powerAdjustment:!0},component:e.PowerAdjustmentComponent},{flags:{powerForecastReporting:!0},component:e.PowerForecastReportingOrStateForecastReportingComponent},{flags:{stateForecastReporting:!0},component:e.PowerForecastReportingOrStateForecastReportingComponent},{flags:{powerAdjustment:!0},component:e.PowerAdjustmentOrStartTimeAdjustmentOrPausableOrForecastAdjustmentOrConstraintBasedAdjustmentComponent},{flags:{startTimeAdjustment:!0},component:e.PowerAdjustmentOrStartTimeAdjustmentOrPausableOrForecastAdjustmentOrConstraintBasedAdjustmentComponent},{flags:{pausable:!0},component:e.PowerAdjustmentOrStartTimeAdjustmentOrPausableOrForecastAdjustmentOrConstraintBasedAdjustmentComponent},{flags:{forecastAdjustment:!0},component:e.PowerAdjustmentOrStartTimeAdjustmentOrPausableOrForecastAdjustmentOrConstraintBasedAdjustmentComponent},{flags:{constraintBasedAdjustment:!0},component:e.PowerAdjustmentOrStartTimeAdjustmentOrPausableOrForecastAdjustmentOrConstraintBasedAdjustmentComponent},{flags:{pausable:!0},component:e.PausableComponent},{flags:{startTimeAdjustment:!0},component:e.StartTimeAdjustmentComponent},{flags:{forecastAdjustment:!0},component:e.ForecastAdjustmentComponent},{flags:{constraintBasedAdjustment:!0},component:e.ConstraintBasedAdjustmentComponent},{flags:{startTimeAdjustment:!0},component:e.StartTimeAdjustmentOrForecastAdjustmentOrConstraintBasedAdjustmentComponent},{flags:{forecastAdjustment:!0},component:e.StartTimeAdjustmentOrForecastAdjustmentOrConstraintBasedAdjustmentComponent},{flags:{constraintBasedAdjustment:!0},component:e.StartTimeAdjustmentOrForecastAdjustmentOrConstraintBasedAdjustmentComponent},{flags:{feature:!1,startTimeAdjustment:!0,stateForecastReporting:!1},component:!1},{flags:{feature:!1,pausable:!0,stateForecastReporting:!1},component:!1},{flags:{feature:!1,forecastAdjustment:!0,stateForecastReporting:!1},component:!1},{flags:{feature:!1,constraintBasedAdjustment:!0,stateForecastReporting:!1},component:!1},{flags:{feature:!1,startTimeAdjustment:!0,powerForecastReporting:!1},component:!1},{flags:{feature:!1,pausable:!0,powerForecastReporting:!1},component:!1},{flags:{feature:!1,forecastAdjustment:!0,powerForecastReporting:!1},component:!1},{flags:{feature:!1,constraintBasedAdjustment:!0,powerForecastReporting:!1},component:!1},{flags:{powerAdjustment:!1,powerForecastReporting:!1,stateForecastReporting:!1,startTimeAdjustment:!1,pausable:!1,forecastAdjustment:!1,constraintBasedAdjustment:!1},component:!1})}),e.ClusterInstance=h.ExtensibleOnly(e.Base),e.Cluster=e.ClusterInstance;let d={powerAdjustment:!0},f={powerForecastReporting:!0},g={stateForecastReporting:!0},b={startTimeAdjustment:!0},w={pausable:!0},O={forecastAdjustment:!0},D={constraintBasedAdjustment:!0};e.CompleteInstance=h({id:e.Base.id,name:e.Base.name,revision:e.Base.revision,features:e.Base.features,attributes:{...e.Base.attributes,powerAdjustmentCapability:h.AsConditional(e.PowerAdjustmentComponent.attributes.powerAdjustmentCapability,{mandatoryIf:[d]}),forecast:h.AsConditional(e.PowerForecastReportingOrStateForecastReportingComponent.attributes.forecast,{mandatoryIf:[f,g]}),optOutState:h.AsConditional(e.PowerAdjustmentOrStartTimeAdjustmentOrPausableOrForecastAdjustmentOrConstraintBasedAdjustmentComponent.attributes.optOutState,{mandatoryIf:[d,b,w,O,D]})},commands:{powerAdjustRequest:h.AsConditional(e.PowerAdjustmentComponent.commands.powerAdjustRequest,{mandatoryIf:[d]}),cancelPowerAdjustRequest:h.AsConditional(e.PowerAdjustmentComponent.commands.cancelPowerAdjustRequest,{mandatoryIf:[d]}),startTimeAdjustRequest:h.AsConditional(e.StartTimeAdjustmentComponent.commands.startTimeAdjustRequest,{mandatoryIf:[b]}),pauseRequest:h.AsConditional(e.PausableComponent.commands.pauseRequest,{mandatoryIf:[w]}),resumeRequest:h.AsConditional(e.PausableComponent.commands.resumeRequest,{mandatoryIf:[w]}),modifyForecastRequest:h.AsConditional(e.ForecastAdjustmentComponent.commands.modifyForecastRequest,{mandatoryIf:[O]}),requestConstraintBasedForecast:h.AsConditional(e.ConstraintBasedAdjustmentComponent.commands.requestConstraintBasedForecast,{mandatoryIf:[D]}),cancelRequest:h.AsConditional(e.StartTimeAdjustmentOrForecastAdjustmentOrConstraintBasedAdjustmentComponent.commands.cancelRequest,{mandatoryIf:[b,O,D]})},events:{powerAdjustStart:h.AsConditional(e.PowerAdjustmentComponent.events.powerAdjustStart,{mandatoryIf:[d]}),powerAdjustEnd:h.AsConditional(e.PowerAdjustmentComponent.events.powerAdjustEnd,{mandatoryIf:[d]}),paused:h.AsConditional(e.PausableComponent.events.paused,{mandatoryIf:[w]}),resumed:h.AsConditional(e.PausableComponent.events.resumed,{mandatoryIf:[w]})}}),e.Complete=e.CompleteInstance})(sp||(sp={}));var fq=sp.Cluster;re.register(sp.Complete);var In;(e=>{let t;(a=>{a.OnOff="OnOff"})(t=e.Feature||(e.Feature={})),e.TlvModeTag=I({mfgCode:R(0,zn),value:m(1,B)}),e.TlvModeOption=I({label:m(0,Z.bound({maxLength:64})),mode:m(1,P),modeTags:m(2,Y(e.TlvModeTag,{maxLength:8}))}),e.TlvChangeToModeRequest=I({newMode:m(0,P)}),e.TlvChangeToModeResponse=I({status:m(0,$()),statusText:m(1,Z.bound({maxLength:64}))});let n;(a=>{a[a.Success=0]="Success",a[a.UnsupportedMode=1]="UnsupportedMode",a[a.GenericFailure=2]="GenericFailure",a[a.InvalidInMode=3]="InvalidInMode"})(n=e.ModeChangeStatus||(e.ModeChangeStatus={}));let i;(a=>{a[a.Auto=0]="Auto",a[a.Quick=1]="Quick",a[a.Quiet=2]="Quiet",a[a.LowNoise=3]="LowNoise",a[a.LowEnergy=4]="LowEnergy",a[a.Vacation=5]="Vacation",a[a.Min=6]="Min",a[a.Max=7]="Max",a[a.Night=8]="Night",a[a.Day=9]="Day"})(i=e.ModeTagEnum||(e.ModeTagEnum={})),e.OnOffComponent=h.Component({attributes:{onMode:He(3,k(P),{persistent:!0,default:null})}}),e.Base=h.Component({features:{onOff:M(0)},name:"ModeBase",revision:2,attributes:{supportedModes:me(0,Y(e.TlvModeOption,{minLength:2,maxLength:255})),currentMode:V(1,P,{scene:!0,persistent:!0}),startUpMode:_e(2,k(P),{persistent:!0})},commands:{changeToMode:X(0,e.TlvChangeToModeRequest,1,e.TlvChangeToModeResponse)},extensions:h.Extensions({flags:{onOff:!0},component:e.OnOffComponent})});let r={onOff:!0};e.CompleteInstance=h.Component({name:e.Base.name,revision:e.Base.revision,features:e.Base.features,attributes:{...e.Base.attributes,onMode:h.AsConditional(e.OnOffComponent.attributes.onMode,{mandatoryIf:[r]})},commands:e.Base.commands}),e.Complete=e.CompleteInstance})(In||(In={}));var cp;(e=>{let t;(r=>{r.OnOff="OnOff"})(t=e.Feature||(e.Feature={}));let n;(r=>{r[r.NoOptimization=16384]="NoOptimization",r[r.DeviceOptimization=16385]="DeviceOptimization",r[r.LocalOptimization=16386]="LocalOptimization",r[r.GridOptimization=16387]="GridOptimization"})(n=e.ModeTag||(e.ModeTag={})),e.OnOffComponent=h.Component({attributes:{onMode:He(3,k(P),{persistent:!0,default:null})}}),e.Base=h.Component({id:159,name:"DeviceEnergyManagementMode",revision:1,features:{onOff:M(0)},attributes:{supportedModes:me(0,Y(In.TlvModeOption,{minLength:2,maxLength:255})),currentMode:V(1,P,{scene:!0,persistent:!0}),startUpMode:_e(2,k(P),{persistent:!0})},commands:{changeToMode:X(0,In.TlvChangeToModeRequest,0,ne)},extensions:h.Extensions({flags:{onOff:!0},component:e.OnOffComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let i={onOff:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,onMode:h.AsConditional(e.OnOffComponent.attributes.onMode,{mandatoryIf:[i]})},commands:e.Cluster.commands}),e.Complete=e.CompleteInstance})(cp||(cp={}));var pq=cp.Cluster;re.register(cp.Complete);var Ql;(e=>{let t;(r=>{r[r.EndUserSupport=0]="EndUserSupport",r[r.NetworkDiag=1]="NetworkDiag",r[r.CrashLogs=2]="CrashLogs"})(t=e.Intent||(e.Intent={}));let n;(r=>{r[r.ResponsePayload=0]="ResponsePayload",r[r.Bdx=1]="Bdx"})(n=e.TransferProtocol||(e.TransferProtocol={})),e.TlvRetrieveLogsRequest=I({intent:m(0,$()),requestedProtocol:m(1,$()),transferFileDesignator:R(2,Z.bound({maxLength:32}))});let i;(r=>{r[r.Success=0]="Success",r[r.Exhausted=1]="Exhausted",r[r.NoLogs=2]="NoLogs",r[r.Busy=3]="Busy",r[r.Denied=4]="Denied"})(i=e.Status||(e.Status={})),e.TlvRetrieveLogsResponse=I({status:m(0,$()),logContent:m(1,be.bound({maxLength:1024})),utcTimeStamp:R(2,ki),timeSinceBoot:R(3,sA)}),e.ClusterInstance=h({id:50,name:"DiagnosticLogs",revision:1,commands:{retrieveLogsRequest:X(0,e.TlvRetrieveLogsRequest,1,e.TlvRetrieveLogsResponse)}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(Ql||(Ql={}));var yq=Ql.Cluster;re.register(Ql.Complete);var Jl;(e=>{let t;(i=>{i.Reset="Reset"})(t=e.Feature||(e.Feature={})),e.Alarm={inflowError:M(0),drainError:M(1),doorError:M(2),tempTooLow:M(3),tempTooHigh:M(4),waterLevelError:M(5)},e.ResetComponent=h.Component({attributes:{latch:me(1,ee)},commands:{reset:X(0,Va.TlvResetRequest,0,ne)}}),e.Base=h.Component({id:93,name:"DishwasherAlarm",revision:1,features:{reset:M(0)},attributes:{mask:V(0,ee),state:V(2,ee),supported:me(3,ee)},commands:{modifyEnabledAlarms:wt(1,Va.TlvModifyEnabledAlarmsRequest,1,ne)},events:{notify:it(0,Te.Info,Va.TlvNotifyEvent)},extensions:h.Extensions({flags:{reset:!0},component:e.ResetComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let n={reset:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,latch:h.AsConditional(e.ResetComponent.attributes.latch,{mandatoryIf:[n]})},commands:{...e.Cluster.commands,reset:h.AsConditional(e.ResetComponent.commands.reset,{mandatoryIf:[n]})},events:e.Cluster.events}),e.Complete=e.CompleteInstance})(Jl||(Jl={}));var gq=Jl.Cluster;re.register(Jl.Complete);var ed;(e=>{let t;(i=>{i.OnOff="OnOff"})(t=e.Feature||(e.Feature={}));let n;(i=>{i[i.Normal=16384]="Normal",i[i.Heavy=16385]="Heavy",i[i.Light=16386]="Light"})(n=e.ModeTag||(e.ModeTag={})),e.Base=h.Component({id:89,name:"DishwasherMode",revision:2,features:{onOff:M(0)},attributes:{supportedModes:me(0,Y(In.TlvModeOption,{minLength:2,maxLength:255}),{default:[]}),currentMode:V(1,P,{scene:!0,persistent:!0}),startUpMode:He(2,P,{persistent:!0}),onMode:He(3,P,{persistent:!0})},commands:{changeToMode:X(0,In.TlvChangeToModeRequest,0,ne)},extensions:h.Extensions()}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(ed||(ed={}));var vq=ed.Cluster;re.register(ed.Complete);var Vs;(e=>{let t;(F=>{F.PinCredential="PinCredential",F.RfidCredential="RfidCredential",F.FingerCredentials="FingerCredentials",F.Logging="Logging",F.WeekDayAccessSchedules="WeekDayAccessSchedules",F.DoorPositionSensor="DoorPositionSensor",F.FaceCredentials="FaceCredentials",F.CredentialOverTheAirAccess="CredentialOverTheAirAccess",F.User="User",F.Notification="Notification",F.YearDayAccessSchedules="YearDayAccessSchedules",F.HolidaySchedules="HolidaySchedules",F.Unbolting="Unbolting"})(t=e.Feature||(e.Feature={}));let n;(F=>{F[F.DoorOpen=0]="DoorOpen",F[F.DoorClosed=1]="DoorClosed",F[F.DoorJammed=2]="DoorJammed",F[F.DoorForcedOpen=3]="DoorForcedOpen",F[F.DoorUnspecifiedError=4]="DoorUnspecifiedError",F[F.DoorAjar=5]="DoorAjar"})(n=e.DoorState||(e.DoorState={})),e.TlvDoorStateChangeEvent=I({doorState:m(0,$())}),e.TlvGetLogRecordRequest=I({logIndex:m(0,B)});let i;(F=>{F[F.Operation=0]="Operation",F[F.Programming=1]="Programming",F[F.Alarm=2]="Alarm"})(i=e.EventType||(e.EventType={}));let r;(F=>{F[F.Keypad=0]="Keypad",F[F.Remote=1]="Remote",F[F.Manual=2]="Manual",F[F.Rfid=3]="Rfid",F[F.Indeterminate=255]="Indeterminate"})(r=e.EventSource||(e.EventSource={})),e.TlvGetLogRecordResponse=I({logEntryId:m(0,B),timestamp:m(1,Nt),eventType:m(2,$()),source:m(3,$()),eventId:m(4,P),userId:m(5,B),pin:m(6,be)}),e.CredentialRules={single:M(0),dual:M(1),tri:M(2)};let a;(F=>{F[F.Add=0]="Add",F[F.Clear=1]="Clear",F[F.Modify=2]="Modify"})(a=e.DataOperationType||(e.DataOperationType={}));let s;(F=>{F[F.Available=0]="Available",F[F.OccupiedEnabled=1]="OccupiedEnabled",F[F.OccupiedDisabled=3]="OccupiedDisabled"})(s=e.UserStatus||(e.UserStatus={}));let c;(F=>{F[F.UnrestrictedUser=0]="UnrestrictedUser",F[F.YearDayScheduleUser=1]="YearDayScheduleUser",F[F.WeekDayScheduleUser=2]="WeekDayScheduleUser",F[F.ProgrammingUser=3]="ProgrammingUser",F[F.NonAccessUser=4]="NonAccessUser",F[F.ForcedUser=5]="ForcedUser",F[F.DisposableUser=6]="DisposableUser",F[F.ExpiringUser=7]="ExpiringUser",F[F.ScheduleRestrictedUser=8]="ScheduleRestrictedUser",F[F.RemoteOnlyUser=9]="RemoteOnlyUser"})(c=e.UserType||(e.UserType={}));let l;(F=>{F[F.Single=0]="Single",F[F.Dual=1]="Dual",F[F.Tri=2]="Tri"})(l=e.CredentialRule||(e.CredentialRule={})),e.TlvSetUserRequest=I({operationType:m(0,$()),userIndex:m(1,B.bound({min:1})),userName:m(2,k(Z.bound({maxLength:10}))),userUniqueId:m(3,k(ee)),userStatus:m(4,k($())),userType:m(5,k($())),credentialRule:m(6,k($()))}),e.TlvGetUserRequest=I({userIndex:m(0,B.bound({min:1}))});let d;(F=>{F[F.ProgrammingPin=0]="ProgrammingPin",F[F.Pin=1]="Pin",F[F.Rfid=2]="Rfid",F[F.Fingerprint=3]="Fingerprint",F[F.FingerVein=4]="FingerVein",F[F.Face=5]="Face"})(d=e.CredentialType||(e.CredentialType={})),e.TlvCredential=I({credentialType:m(0,$()),credentialIndex:m(1,B)}),e.TlvGetUserResponse=I({userIndex:m(0,B.bound({min:1})),userName:m(1,k(Z.bound({maxLength:10}))),userUniqueId:m(2,k(ee)),userStatus:m(3,k($())),userType:m(4,k($())),credentialRule:m(5,k($())),credentials:m(6,k(Y(e.TlvCredential,{minLength:0}))),creatorFabricIndex:m(7,k(Ut)),lastModifiedFabricIndex:m(8,k(Ut)),nextUserIndex:m(9,k(B.bound({min:1})))}),e.TlvClearUserRequest=I({userIndex:m(0,B)}),e.TlvSetCredentialRequest=I({operationType:m(0,$()),credential:m(1,e.TlvCredential),credentialData:m(2,be),userIndex:m(3,k(B.bound({min:1}))),userStatus:m(4,k($())),userType:m(5,k($()))}),e.TlvSetCredentialResponse=I({status:m(0,$()),userIndex:m(1,k(B.bound({min:1}))),nextCredentialIndex:R(2,k(B))}),e.TlvGetCredentialStatusRequest=I({credential:m(0,e.TlvCredential)}),e.TlvGetCredentialStatusResponse=I({credentialExists:m(0,Ae),userIndex:m(1,k(B.bound({min:1}))),creatorFabricIndex:m(2,k(Ut)),lastModifiedFabricIndex:m(3,k(Ut)),nextCredentialIndex:R(4,k(B))}),e.TlvClearCredentialRequest=I({credential:m(0,k(e.TlvCredential))});let f;(F=>{F[F.Unspecified=0]="Unspecified",F[F.ProgrammingCode=1]="ProgrammingCode",F[F.UserIndex=2]="UserIndex",F[F.WeekDaySchedule=3]="WeekDaySchedule",F[F.YearDaySchedule=4]="YearDaySchedule",F[F.HolidaySchedule=5]="HolidaySchedule",F[F.Pin=6]="Pin",F[F.Rfid=7]="Rfid",F[F.Fingerprint=8]="Fingerprint",F[F.FingerVein=9]="FingerVein",F[F.Face=10]="Face"})(f=e.LockDataType||(e.LockDataType={}));let g;(F=>{F[F.Unspecified=0]="Unspecified",F[F.Manual=1]="Manual",F[F.ProprietaryRemote=2]="ProprietaryRemote",F[F.Keypad=3]="Keypad",F[F.Auto=4]="Auto",F[F.Button=5]="Button",F[F.Schedule=6]="Schedule",F[F.Remote=7]="Remote",F[F.Rfid=8]="Rfid",F[F.Biometric=9]="Biometric"})(g=e.OperationSource||(e.OperationSource={})),e.TlvLockUserChangeEvent=I({lockDataType:m(0,$()),dataOperationType:m(1,$()),operationSource:m(2,$()),userIndex:m(3,k(B)),fabricIndex:m(4,k(Ut)),sourceNode:m(5,k(Ft)),dataIndex:m(6,k(B))}),e.DaysMask={sunday:M(0),monday:M(1),tuesday:M(2),wednesday:M(3),thursday:M(4),friday:M(5),saturday:M(6)},e.TlvSetWeekDayScheduleRequest=I({weekDayIndex:m(0,P.bound({min:1})),userIndexUserId:m(1,B.bound({min:1})),daysMask:m(2,Ie(P,e.DaysMask)),startHour:m(3,P.bound({max:23})),startMinute:m(4,P.bound({max:59})),endHour:m(5,P.bound({max:23})),endMinute:m(6,P.bound({max:59}))}),e.TlvGetWeekDayScheduleRequest=I({weekDayIndex:m(0,P.bound({min:1})),userIndexUserId:m(1,B.bound({min:1}))}),e.TlvGetWeekDayScheduleResponse=I({weekDayIndex:m(0,P.bound({min:1})),userIndexUserId:m(1,B.bound({min:1})),status:m(2,$()),daysMask:R(3,Ie(P,e.DaysMask)),startHour:R(4,P.bound({max:23})),startMinute:R(5,P.bound({max:59})),endHour:R(6,P.bound({max:23})),endMinute:R(7,P.bound({max:59}))}),e.TlvClearWeekDayScheduleRequest=I({weekDayIndex:m(0,P),userIndexUserId:m(1,B.bound({min:1}))}),e.TlvSetYearDayScheduleRequest=I({yearDayIndex:m(0,P.bound({min:1})),userIndexUserId:m(1,B.bound({min:1})),localStartTime:m(2,Nt),localEndTime:m(3,Nt)}),e.TlvGetYearDayScheduleRequest=I({yearDayIndex:m(0,P.bound({min:1})),userIndexUserId:m(1,B.bound({min:1}))}),e.TlvGetYearDayScheduleResponse=I({yearDayIndex:m(0,P.bound({min:1})),userIndexUserId:m(1,B.bound({min:1})),status:m(2,$()),localStartTime:R(2,Nt),localEndTime:R(3,Nt)}),e.TlvClearYearDayScheduleRequest=I({yearDayIndex:m(0,P),userIndexUserId:m(1,B.bound({min:1}))});let b;(F=>{F[F.Normal=0]="Normal",F[F.Vacation=1]="Vacation",F[F.Privacy=2]="Privacy",F[F.NoRemoteLockUnlock=3]="NoRemoteLockUnlock",F[F.Passage=4]="Passage"})(b=e.OperatingMode||(e.OperatingMode={})),e.TlvSetHolidayScheduleRequest=I({holidayIndex:m(0,P.bound({min:1})),localStartTime:m(1,Nt),localEndTime:m(2,Nt),operatingMode:m(3,$())}),e.TlvGetHolidayScheduleRequest=I({holidayIndex:m(0,P.bound({min:1}))}),e.TlvGetHolidayScheduleResponse=I({holidayIndex:m(0,P.bound({min:1})),status:m(1,$()),localStartTime:R(2,k(Nt)),localEndTime:R(3,k(Nt)),operatingMode:R(4,k($()))}),e.TlvClearHolidayScheduleRequest=I({holidayIndex:m(0,P)}),e.TlvSetPinCodeRequest=I({userId:m(0,B),userStatus:m(1,k($())),userType:m(2,k($())),pin:m(3,be)}),e.TlvGetPinCodeRequest=I({userId:m(0,B)}),e.TlvGetPinCodeResponse=I({userId:m(0,B),userStatus:m(1,k($())),userType:m(2,k($())),pinCode:m(3,k(be))}),e.TlvClearPinCodeRequest=I({pinSlotIndex:m(0,B)}),e.EventMask={bit0:M(0),bit1:M(1),bit2:M(2),bit3:M(3),bit4:M(4),bit5:M(5),bit6:M(6),bit7:M(7),bit8:M(8),bit9:M(9),bit10:M(10),bit11:M(11),bit12:M(12),bit13:M(13),bit14:M(14),bit15:M(15)},e.KeypadProgrammingEventMask={unknown:M(0),pinCodeChanged:M(1),pinAdded:M(2),pinCleared:M(3),pinChanged:M(4)},e.RemoteProgrammingEventMask={unknown:M(0),pinAdded:M(2),pinCleared:M(3),pinChanged:M(4),rfidCodeAdded:M(5),rfidCodeCleared:M(6)},e.RfidProgrammingEventMask={unknown:M(0),idAdded:M(5),idCleared:M(6)},e.TlvSetUserStatusRequest=I({userId:m(0,B),userStatus:m(1,$())}),e.TlvGetUserStatusRequest=I({userId:m(0,B)}),e.TlvGetUserStatusResponse=I({userId:m(0,B),userStatus:m(1,$())}),e.TlvSetUserTypeRequest=I({userId:m(0,B),userType:m(1,$())}),e.TlvGetUserTypeRequest=I({userId:m(0,B)}),e.TlvGetUserTypeResponse=I({userId:m(0,B),userType:m(1,$())}),e.TlvSetRfidCodeRequest=I({userId:m(0,B),userStatus:m(1,k($())),userType:m(2,k($())),rfidCode:m(3,be)}),e.TlvGetRfidCodeRequest=I({userId:m(0,B)}),e.TlvGetRfidCodeResponse=I({userId:m(0,B),userStatus:m(1,k($())),userType:m(2,k($())),rfidCode:m(3,k(be))}),e.TlvClearRfidCodeRequest=I({rfidSlotIndex:m(0,B)}),e.TlvUnboltDoorRequest=I({pinCode:R(0,be)});let w;(F=>{F[F.NotFullyLocked=0]="NotFullyLocked",F[F.Locked=1]="Locked",F[F.Unlocked=2]="Unlocked",F[F.Unlatched=3]="Unlatched"})(w=e.LockState||(e.LockState={}));let O;(F=>{F[F.DeadBolt=0]="DeadBolt",F[F.Magnetic=1]="Magnetic",F[F.Other=2]="Other",F[F.Mortise=3]="Mortise",F[F.Rim=4]="Rim",F[F.LatchBolt=5]="LatchBolt",F[F.CylindricalLock=6]="CylindricalLock",F[F.TubularLock=7]="TubularLock",F[F.InterconnectedLock=8]="InterconnectedLock",F[F.DeadLatch=9]="DeadLatch",F[F.DoorFurniture=10]="DoorFurniture",F[F.Eurocylinder=11]="Eurocylinder"})(O=e.LockType||(e.LockType={}));let D;(F=>{F[F.NoLedSignal=0]="NoLedSignal",F[F.NoLedSignalAccessAllowed=1]="NoLedSignalAccessAllowed",F[F.LedSignalAll=2]="LedSignalAll"})(D=e.LedSetting||(e.LedSetting={}));let y;(F=>{F[F.Silent=0]="Silent",F[F.Low=1]="Low",F[F.High=2]="High",F[F.Medium=3]="Medium"})(y=e.SoundVolume||(e.SoundVolume={})),e.OperatingModes={normal:M(0),vacation:M(1),privacy:M(2),noRemoteLockUnlock:M(3),passage:M(4)},e.ConfigurationRegister={localProgramming:M(0),keypadInterface:M(1),remoteInterface:M(2),soundVolume:M(5),autoRelockTime:M(6),ledSettings:M(7)},e.LocalProgrammingFeatures={addUsersCredentialsSchedules:M(0),modifyUsersCredentialsSchedules:M(1),clearUsersCredentialsSchedules:M(2),adjustSettings:M(3)},e.AlarmMask={lockJammed:M(0),lockFactoryReset:M(1),na:M(2),lockRadioPowerCycled:M(3),wrongCodeEntryLimit:M(4),frontEscutcheonRemoved:M(5),doorForcedOpen:M(6)},e.TlvLockDoorRequest=I({pinCode:R(0,be)}),e.TlvUnlockDoorRequest=I({pinCode:R(0,be)}),e.TlvUnlockWithTimeoutRequest=I({timeout:m(0,B),pinCode:R(1,be)});let S;(F=>{F[F.LockJammed=0]="LockJammed",F[F.LockFactoryReset=1]="LockFactoryReset",F[F.LockRadioPowerCycled=3]="LockRadioPowerCycled",F[F.WrongCodeEntryLimit=4]="WrongCodeEntryLimit",F[F.FrontEsceutcheonRemoved=5]="FrontEsceutcheonRemoved",F[F.DoorForcedOpen=6]="DoorForcedOpen",F[F.DoorAjar=7]="DoorAjar",F[F.ForcedUser=8]="ForcedUser"})(S=e.AlarmCode||(e.AlarmCode={})),e.TlvDoorLockAlarmEvent=I({alarmCode:m(0,$())});let L;(F=>{F[F.Lock=0]="Lock",F[F.Unlock=1]="Unlock",F[F.NonAccessUserEvent=2]="NonAccessUserEvent",F[F.ForcedUserEvent=3]="ForcedUserEvent",F[F.Unlatch=4]="Unlatch"})(L=e.LockOperationType||(e.LockOperationType={})),e.TlvLockOperationEvent=I({lockOperationType:m(0,$()),operationSource:m(1,$()),userIndex:m(2,k(B)),fabricIndex:m(3,k(Ut)),sourceNode:m(4,k(Ft)),credentials:R(5,k(Y(e.TlvCredential,{minLength:1})))});let H;(F=>{F[F.Unspecified=0]="Unspecified",F[F.InvalidCredential=1]="InvalidCredential",F[F.DisabledUserDenied=2]="DisabledUserDenied",F[F.Restricted=3]="Restricted",F[F.InsufficientBattery=4]="InsufficientBattery"})(H=e.OperationError||(e.OperationError={})),e.TlvLockOperationErrorEvent=I({lockOperationType:m(0,$()),operationSource:m(1,$()),operationError:m(2,$()),userIndex:m(3,k(B)),fabricIndex:m(4,k(Ut)),sourceNode:m(5,k(Ft)),credentials:R(6,k(Y(e.TlvCredential,{minLength:1})))});let oe;(F=>{F[F.UnknownOrMfgSpecific=0]="UnknownOrMfgSpecific",F[F.Lock=1]="Lock",F[F.Unlock=2]="Unlock",F[F.LockFailureInvalidPiNorRfid=3]="LockFailureInvalidPiNorRfid",F[F.LockFailureInvalidSchedule=4]="LockFailureInvalidSchedule",F[F.UnlockFailureInvalidPiNorRfid=5]="UnlockFailureInvalidPiNorRfid",F[F.UnlockFailureInvalidSchedule=6]="UnlockFailureInvalidSchedule",F[F.OneTouchLock=7]="OneTouchLock",F[F.KeyLock=8]="KeyLock",F[F.KeyUnlock=9]="KeyUnlock",F[F.AutoLock=10]="AutoLock",F[F.ScheduleLock=11]="ScheduleLock",F[F.ScheduleUnlock=12]="ScheduleUnlock",F[F.ManualLock=13]="ManualLock",F[F.ManualUnlock=14]="ManualUnlock",F[F.NonAccessUserOperationEvent=15]="NonAccessUserOperationEvent"})(oe=e.OperationEventCode||(e.OperationEventCode={}));let z;(F=>{F[F.UnknownOrMfgSpecific=0]="UnknownOrMfgSpecific",F[F.ProgrammingCodeChanged=1]="ProgrammingCodeChanged",F[F.PinCodeAdded=2]="PinCodeAdded",F[F.PinCodeCleared=3]="PinCodeCleared",F[F.PinCodeChanged=4]="PinCodeChanged",F[F.RfidCodeAdded=5]="RfidCodeAdded",F[F.RfidCodeCleared=6]="RfidCodeCleared"})(z=e.ProgrammingEventCode||(e.ProgrammingEventCode={}));let Q;(F=>{F[F.Duplicate=2]="Duplicate",F[F.Occupied=3]="Occupied"})(Q=e.StatusCode||(e.StatusCode={})),e.DoorPositionSensorComponent=h.Component({attributes:{doorState:V(3,k($())),doorOpenEvents:_e(4,ee,{writeAcl:W.Manage}),doorClosedEvents:_e(5,ee,{writeAcl:W.Manage}),openPeriod:_e(6,B,{writeAcl:W.Manage})},events:{doorStateChange:it(1,Te.Critical,e.TlvDoorStateChangeEvent)}}),e.LoggingComponent=h.Component({attributes:{numberOfLogRecordsSupported:me(16,B,{default:0}),enableLogging:He(32,Ae,{default:!0,writeAcl:W.Administer})},commands:{getLogRecord:X(4,e.TlvGetLogRecordRequest,4,e.TlvGetLogRecordResponse,{invokeAcl:W.Manage})}}),e.UserComponent=h.Component({attributes:{numberOfTotalUsersSupported:me(17,B,{default:0}),credentialRulesSupport:me(27,Ie(P,e.CredentialRules),{default:ao(e.CredentialRules,{single:!0})}),numberOfCredentialsSupportedPerUser:me(28,P,{default:0}),expiringUserTimeout:_e(53,B.bound({min:1,max:2880}),{writeAcl:W.Administer})},commands:{setUser:X(26,e.TlvSetUserRequest,26,ne,{invokeAcl:W.Administer,timed:!0}),getUser:X(27,e.TlvGetUserRequest,28,e.TlvGetUserResponse,{invokeAcl:W.Administer}),clearUser:X(29,e.TlvClearUserRequest,29,ne,{invokeAcl:W.Administer,timed:!0}),setCredential:X(34,e.TlvSetCredentialRequest,35,e.TlvSetCredentialResponse,{invokeAcl:W.Administer,timed:!0}),getCredentialStatus:X(36,e.TlvGetCredentialStatusRequest,37,e.TlvGetCredentialStatusResponse,{invokeAcl:W.Administer}),clearCredential:X(38,e.TlvClearCredentialRequest,38,ne,{invokeAcl:W.Administer,timed:!0})},events:{lockUserChange:it(4,Te.Info,e.TlvLockUserChangeEvent)}}),e.PinCredentialComponent=h.Component({attributes:{numberOfPinUsersSupported:me(18,B,{default:0}),maxPinCodeLength:me(23,P),minPinCodeLength:me(24,P)}}),e.RfidCredentialComponent=h.Component({attributes:{numberOfRfidUsersSupported:me(19,B,{default:0}),maxRfidCodeLength:me(25,P),minRfidCodeLength:me(26,P)}}),e.WeekDayAccessSchedulesComponent=h.Component({attributes:{numberOfWeekDaySchedulesSupportedPerUser:me(20,P,{default:0})},commands:{setWeekDaySchedule:X(11,e.TlvSetWeekDayScheduleRequest,11,ne,{invokeAcl:W.Administer}),getWeekDaySchedule:X(12,e.TlvGetWeekDayScheduleRequest,12,e.TlvGetWeekDayScheduleResponse,{invokeAcl:W.Administer}),clearWeekDaySchedule:X(13,e.TlvClearWeekDayScheduleRequest,13,ne,{invokeAcl:W.Administer})}}),e.YearDayAccessSchedulesComponent=h.Component({attributes:{numberOfYearDaySchedulesSupportedPerUser:me(21,P,{default:0})},commands:{setYearDaySchedule:X(14,e.TlvSetYearDayScheduleRequest,14,ne,{invokeAcl:W.Administer}),getYearDaySchedule:X(15,e.TlvGetYearDayScheduleRequest,15,e.TlvGetYearDayScheduleResponse,{invokeAcl:W.Administer}),clearYearDaySchedule:X(16,e.TlvClearYearDayScheduleRequest,16,ne,{invokeAcl:W.Administer})}}),e.HolidaySchedulesComponent=h.Component({attributes:{numberOfHolidaySchedulesSupported:me(22,P,{default:0})},commands:{setHolidaySchedule:X(17,e.TlvSetHolidayScheduleRequest,17,ne,{invokeAcl:W.Administer}),getHolidaySchedule:X(18,e.TlvGetHolidayScheduleRequest,18,e.TlvGetHolidayScheduleResponse,{invokeAcl:W.Administer}),clearHolidaySchedule:X(19,e.TlvClearHolidayScheduleRequest,19,ne,{invokeAcl:W.Administer})}}),e.PinCredentialOrRfidCredentialComponent=h.Component({attributes:{wrongCodeEntryLimit:He(48,P.bound({min:1}),{writeAcl:W.Administer}),userCodeTemporaryDisableTime:He(49,P.bound({min:1}),{writeAcl:W.Administer})}}),e.PinCredentialNotUserComponent=h.Component({attributes:{sendPinOverTheAir:_e(50,Ae,{default:!0,writeAcl:W.Administer})},commands:{setPinCode:X(5,e.TlvSetPinCodeRequest,5,ne,{invokeAcl:W.Administer,timed:!0}),getPinCode:X(6,e.TlvGetPinCodeRequest,6,e.TlvGetPinCodeResponse,{invokeAcl:W.Administer}),clearPinCode:X(7,e.TlvClearPinCodeRequest,7,ne,{invokeAcl:W.Administer,timed:!0}),clearAllPinCodes:X(8,Fe,8,ne,{invokeAcl:W.Administer,timed:!0})}}),e.CredentialOverTheAirAccessAndPinCredentialComponent=h.Component({attributes:{requirePinForRemoteOperation:He(51,Ae,{default:!0,writeAcl:W.Administer})}}),e.NotificationAndPinCredentialComponent=h.Component({attributes:{keypadOperationEventMask:_e(65,Ie(B,e.EventMask),{default:ao(e.EventMask,{bit0:!0,bit1:!0,bit2:!0,bit3:!0,bit4:!0,bit5:!0,bit6:!0,bit7:!0,bit8:!0,bit9:!0,bit10:!0,bit11:!0,bit12:!0,bit13:!0,bit14:!0,bit15:!0}),writeAcl:W.Administer}),keypadProgrammingEventMask:_e(69,Ie(B,e.KeypadProgrammingEventMask),{default:ao(e.KeypadProgrammingEventMask,{unknown:!0,pinCodeChanged:!0,pinAdded:!0,pinCleared:!0,pinChanged:!0,bit5:!0,bit6:!0,bit7:!0,bit8:!0,bit9:!0,bit10:!0,bit11:!0,bit12:!0,bit13:!0,bit14:!0,bit15:!0}),writeAcl:W.Administer})}}),e.NotificationComponent=h.Component({attributes:{remoteOperationEventMask:_e(66,Ie(B,e.EventMask),{default:ao(e.EventMask,{bit0:!0,bit1:!0,bit2:!0,bit3:!0,bit4:!0,bit5:!0,bit6:!0,bit7:!0,bit8:!0,bit9:!0,bit10:!0,bit11:!0,bit12:!0,bit13:!0,bit14:!0,bit15:!0}),writeAcl:W.Administer}),manualOperationEventMask:_e(67,Ie(B,e.EventMask),{default:ao(e.EventMask,{bit0:!0,bit1:!0,bit2:!0,bit3:!0,bit4:!0,bit5:!0,bit6:!0,bit7:!0,bit8:!0,bit9:!0,bit10:!0,bit11:!0,bit12:!0,bit13:!0,bit14:!0,bit15:!0}),writeAcl:W.Administer}),remoteProgrammingEventMask:_e(70,Ie(B,e.RemoteProgrammingEventMask),{default:ao(e.RemoteProgrammingEventMask,{unknown:!0,bit1:!0,pinAdded:!0,pinCleared:!0,pinChanged:!0,rfidCodeAdded:!0,rfidCodeCleared:!0,bit7:!0,bit8:!0,bit9:!0,bit10:!0,bit11:!0,bit12:!0,bit13:!0,bit14:!0,bit15:!0}),writeAcl:W.Administer})}}),e.NotificationAndRfidCredentialComponent=h.Component({attributes:{rfidOperationEventMask:_e(68,Ie(B,e.EventMask),{default:ao(e.EventMask,{bit0:!0,bit1:!0,bit2:!0,bit3:!0,bit4:!0,bit5:!0,bit6:!0,bit7:!0,bit8:!0,bit9:!0,bit10:!0,bit11:!0,bit12:!0,bit13:!0,bit14:!0,bit15:!0}),writeAcl:W.Administer}),rfidProgrammingEventMask:_e(71,Ie(B,e.RfidProgrammingEventMask),{default:ao(e.RfidProgrammingEventMask,{unknown:!0,bit1:!0,bit2:!0,bit3:!0,bit4:!0,idAdded:!0,idCleared:!0,bit7:!0,bit8:!0,bit9:!0,bit10:!0,bit11:!0,bit12:!0,bit13:!0,bit14:!0,bit15:!0}),writeAcl:W.Administer})}}),e.PinCredentialAndRfidCredentialAndFingerCredentialsNotUserComponent=h.Component({commands:{setUserStatus:wt(9,e.TlvSetUserStatusRequest,9,ne,{invokeAcl:W.Administer}),getUserStatus:wt(10,e.TlvGetUserStatusRequest,10,e.TlvGetUserStatusResponse,{invokeAcl:W.Administer}),setUserType:wt(20,e.TlvSetUserTypeRequest,20,ne,{invokeAcl:W.Administer}),getUserType:wt(21,e.TlvGetUserTypeRequest,21,e.TlvGetUserTypeResponse,{invokeAcl:W.Administer})}}),e.NotUserComponent=h.Component({}),e.RfidCredentialNotUserComponent=h.Component({commands:{setRfidCode:X(22,e.TlvSetRfidCodeRequest,22,ne,{invokeAcl:W.Administer,timed:!0}),getRfidCode:X(23,e.TlvGetRfidCodeRequest,23,e.TlvGetRfidCodeResponse,{invokeAcl:W.Administer}),clearRfidCode:X(24,e.TlvClearRfidCodeRequest,24,ne,{invokeAcl:W.Administer,timed:!0}),clearAllRfidCodes:X(25,Fe,25,ne,{invokeAcl:W.Administer,timed:!0})}}),e.UnboltingComponent=h.Component({commands:{unboltDoor:X(39,e.TlvUnboltDoorRequest,39,ne,{timed:!0})}}),e.Base=h.Component({id:257,name:"DoorLock",revision:7,features:{pinCredential:M(0),rfidCredential:M(1),fingerCredentials:M(2),logging:M(3),weekDayAccessSchedules:M(4),doorPositionSensor:M(5),faceCredentials:M(6),credentialOverTheAirAccess:M(7),user:M(8),notification:M(9),yearDayAccessSchedules:M(10),holidaySchedules:M(11),unbolting:M(12)},attributes:{lockState:V(0,k($()),{scene:!0}),lockType:V(1,$()),actuatorEnabled:V(2,Ae),language:_e(33,Z.bound({maxLength:3}),{writeAcl:W.Manage}),ledSettings:_e(34,$(),{default:0,writeAcl:W.Manage}),autoRelockTime:_e(35,ee,{writeAcl:W.Manage}),soundVolume:_e(36,$(),{default:0,writeAcl:W.Manage}),operatingMode:He(37,$(),{default:0,writeAcl:W.Manage}),supportedOperatingModes:me(38,Ie(B,e.OperatingModes),{default:ao(e.OperatingModes,{vacation:!0,privacy:!0,passage:!0})}),defaultConfigurationRegister:ye(39,Ie(B,e.ConfigurationRegister)),enableLocalProgramming:_e(40,Ae,{default:!0,writeAcl:W.Administer}),enableOneTouchLocking:_e(41,Ae,{default:!0,writeAcl:W.Manage}),enableInsideStatusLed:_e(42,Ae,{default:!0,writeAcl:W.Manage}),enablePrivacyModeButton:_e(43,Ae,{default:!0,writeAcl:W.Manage}),localProgrammingFeatures:_e(44,Ie(P,e.LocalProgrammingFeatures),{writeAcl:W.Administer}),alarmMask:_e(64,Ie(B,e.AlarmMask),{default:ao(e.AlarmMask,{lockJammed:!0,lockFactoryReset:!0,na:!0,lockRadioPowerCycled:!0,wrongCodeEntryLimit:!0,frontEscutcheonRemoved:!0,doorForcedOpen:!0}),writeAcl:W.Administer})},commands:{lockDoor:X(0,e.TlvLockDoorRequest,0,ne,{timed:!0}),unlockDoor:X(1,e.TlvUnlockDoorRequest,1,ne,{timed:!0}),unlockWithTimeout:wt(3,e.TlvUnlockWithTimeoutRequest,3,ne,{timed:!0})},events:{doorLockAlarm:it(0,Te.Critical,e.TlvDoorLockAlarmEvent),lockOperation:it(2,Te.Critical,e.TlvLockOperationEvent),lockOperationError:it(3,Te.Critical,e.TlvLockOperationErrorEvent)},extensions:h.Extensions({flags:{doorPositionSensor:!0},component:e.DoorPositionSensorComponent},{flags:{logging:!0},component:e.LoggingComponent},{flags:{user:!0},component:e.UserComponent},{flags:{pinCredential:!0},component:e.PinCredentialComponent},{flags:{rfidCredential:!0},component:e.RfidCredentialComponent},{flags:{weekDayAccessSchedules:!0},component:e.WeekDayAccessSchedulesComponent},{flags:{yearDayAccessSchedules:!0},component:e.YearDayAccessSchedulesComponent},{flags:{holidaySchedules:!0},component:e.HolidaySchedulesComponent},{flags:{pinCredential:!0},component:e.PinCredentialOrRfidCredentialComponent},{flags:{rfidCredential:!0},component:e.PinCredentialOrRfidCredentialComponent},{flags:{pinCredential:!0,user:!1},component:e.PinCredentialNotUserComponent},{flags:{credentialOverTheAirAccess:!0,pinCredential:!0},component:e.CredentialOverTheAirAccessAndPinCredentialComponent},{flags:{notification:!0,pinCredential:!0},component:e.NotificationAndPinCredentialComponent},{flags:{notification:!0},component:e.NotificationComponent},{flags:{notification:!0,rfidCredential:!0},component:e.NotificationAndRfidCredentialComponent},{flags:{pinCredential:!0,rfidCredential:!0,fingerCredentials:!0,user:!1},component:e.PinCredentialAndRfidCredentialAndFingerCredentialsNotUserComponent},{flags:{user:!1},component:e.NotUserComponent},{flags:{rfidCredential:!0,user:!1},component:e.RfidCredentialNotUserComponent},{flags:{unbolting:!0},component:e.UnboltingComponent},{flags:{user:!0,pinCredential:!0,rfidCredential:!0,fingerCredentials:!0,faceCredentials:!0},component:!1})}),e.ClusterInstance=h({...e.Base,base:yt(e.Base)},e.NotUserComponent),e.Cluster=e.ClusterInstance;let N={doorPositionSensor:!0},q={logging:!0},G={user:!0},te={pinCredential:!0},K={rfidCredential:!0},ae={weekDayAccessSchedules:!0},pe={yearDayAccessSchedules:!0},he={holidaySchedules:!0},Ce={pinCredential:!0,user:!1},Le={credentialOverTheAirAccess:!0,pinCredential:!0},tt={notification:!0,pinCredential:!0},St={notification:!0},qt={notification:!0,rfidCredential:!0},Gt={pinCredential:!0,rfidCredential:!0,fingerCredentials:!0,user:!1},Ze={rfidCredential:!0,user:!1},ft={unbolting:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,doorState:h.AsConditional(e.DoorPositionSensorComponent.attributes.doorState,{mandatoryIf:[N]}),doorOpenEvents:h.AsConditional(e.DoorPositionSensorComponent.attributes.doorOpenEvents,{optionalIf:[N]}),doorClosedEvents:h.AsConditional(e.DoorPositionSensorComponent.attributes.doorClosedEvents,{optionalIf:[N]}),openPeriod:h.AsConditional(e.DoorPositionSensorComponent.attributes.openPeriod,{optionalIf:[N]}),numberOfLogRecordsSupported:h.AsConditional(e.LoggingComponent.attributes.numberOfLogRecordsSupported,{mandatoryIf:[q]}),numberOfTotalUsersSupported:h.AsConditional(e.UserComponent.attributes.numberOfTotalUsersSupported,{mandatoryIf:[G]}),numberOfPinUsersSupported:h.AsConditional(e.PinCredentialComponent.attributes.numberOfPinUsersSupported,{mandatoryIf:[te]}),numberOfRfidUsersSupported:h.AsConditional(e.RfidCredentialComponent.attributes.numberOfRfidUsersSupported,{mandatoryIf:[K]}),numberOfWeekDaySchedulesSupportedPerUser:h.AsConditional(e.WeekDayAccessSchedulesComponent.attributes.numberOfWeekDaySchedulesSupportedPerUser,{mandatoryIf:[ae]}),numberOfYearDaySchedulesSupportedPerUser:h.AsConditional(e.YearDayAccessSchedulesComponent.attributes.numberOfYearDaySchedulesSupportedPerUser,{mandatoryIf:[pe]}),numberOfHolidaySchedulesSupported:h.AsConditional(e.HolidaySchedulesComponent.attributes.numberOfHolidaySchedulesSupported,{mandatoryIf:[he]}),maxPinCodeLength:h.AsConditional(e.PinCredentialComponent.attributes.maxPinCodeLength,{mandatoryIf:[te]}),minPinCodeLength:h.AsConditional(e.PinCredentialComponent.attributes.minPinCodeLength,{mandatoryIf:[te]}),maxRfidCodeLength:h.AsConditional(e.RfidCredentialComponent.attributes.maxRfidCodeLength,{mandatoryIf:[K]}),minRfidCodeLength:h.AsConditional(e.RfidCredentialComponent.attributes.minRfidCodeLength,{mandatoryIf:[K]}),credentialRulesSupport:h.AsConditional(e.UserComponent.attributes.credentialRulesSupport,{mandatoryIf:[G]}),numberOfCredentialsSupportedPerUser:h.AsConditional(e.UserComponent.attributes.numberOfCredentialsSupportedPerUser,{mandatoryIf:[G]}),enableLogging:h.AsConditional(e.LoggingComponent.attributes.enableLogging,{mandatoryIf:[q]}),wrongCodeEntryLimit:h.AsConditional(e.PinCredentialOrRfidCredentialComponent.attributes.wrongCodeEntryLimit,{mandatoryIf:[te,K]}),userCodeTemporaryDisableTime:h.AsConditional(e.PinCredentialOrRfidCredentialComponent.attributes.userCodeTemporaryDisableTime,{mandatoryIf:[te,K]}),sendPinOverTheAir:h.AsConditional(e.PinCredentialNotUserComponent.attributes.sendPinOverTheAir,{optionalIf:[Ce]}),requirePinForRemoteOperation:h.AsConditional(e.CredentialOverTheAirAccessAndPinCredentialComponent.attributes.requirePinForRemoteOperation,{mandatoryIf:[Le]}),expiringUserTimeout:h.AsConditional(e.UserComponent.attributes.expiringUserTimeout,{optionalIf:[G]}),keypadOperationEventMask:h.AsConditional(e.NotificationAndPinCredentialComponent.attributes.keypadOperationEventMask,{optionalIf:[tt]}),remoteOperationEventMask:h.AsConditional(e.NotificationComponent.attributes.remoteOperationEventMask,{optionalIf:[St]}),manualOperationEventMask:h.AsConditional(e.NotificationComponent.attributes.manualOperationEventMask,{optionalIf:[St]}),rfidOperationEventMask:h.AsConditional(e.NotificationAndRfidCredentialComponent.attributes.rfidOperationEventMask,{optionalIf:[qt]}),keypadProgrammingEventMask:h.AsConditional(e.NotificationAndPinCredentialComponent.attributes.keypadProgrammingEventMask,{optionalIf:[tt]}),remoteProgrammingEventMask:h.AsConditional(e.NotificationComponent.attributes.remoteProgrammingEventMask,{optionalIf:[St]}),rfidProgrammingEventMask:h.AsConditional(e.NotificationAndRfidCredentialComponent.attributes.rfidProgrammingEventMask,{optionalIf:[qt]})},commands:{...e.Cluster.commands,getLogRecord:h.AsConditional(e.LoggingComponent.commands.getLogRecord,{mandatoryIf:[q]}),setPinCode:h.AsConditional(e.PinCredentialNotUserComponent.commands.setPinCode,{mandatoryIf:[Ce]}),getPinCode:h.AsConditional(e.PinCredentialNotUserComponent.commands.getPinCode,{mandatoryIf:[Ce]}),clearPinCode:h.AsConditional(e.PinCredentialNotUserComponent.commands.clearPinCode,{mandatoryIf:[Ce]}),clearAllPinCodes:h.AsConditional(e.PinCredentialNotUserComponent.commands.clearAllPinCodes,{mandatoryIf:[Ce]}),setUserStatus:h.AsConditional(e.PinCredentialAndRfidCredentialAndFingerCredentialsNotUserComponent.commands.setUserStatus,{optionalIf:[Gt]}),getUserStatus:h.AsConditional(e.PinCredentialAndRfidCredentialAndFingerCredentialsNotUserComponent.commands.getUserStatus,{optionalIf:[Gt]}),setWeekDaySchedule:h.AsConditional(e.WeekDayAccessSchedulesComponent.commands.setWeekDaySchedule,{mandatoryIf:[ae]}),getWeekDaySchedule:h.AsConditional(e.WeekDayAccessSchedulesComponent.commands.getWeekDaySchedule,{mandatoryIf:[ae]}),clearWeekDaySchedule:h.AsConditional(e.WeekDayAccessSchedulesComponent.commands.clearWeekDaySchedule,{mandatoryIf:[ae]}),setYearDaySchedule:h.AsConditional(e.YearDayAccessSchedulesComponent.commands.setYearDaySchedule,{mandatoryIf:[pe]}),getYearDaySchedule:h.AsConditional(e.YearDayAccessSchedulesComponent.commands.getYearDaySchedule,{mandatoryIf:[pe]}),clearYearDaySchedule:h.AsConditional(e.YearDayAccessSchedulesComponent.commands.clearYearDaySchedule,{mandatoryIf:[pe]}),setHolidaySchedule:h.AsConditional(e.HolidaySchedulesComponent.commands.setHolidaySchedule,{mandatoryIf:[he]}),getHolidaySchedule:h.AsConditional(e.HolidaySchedulesComponent.commands.getHolidaySchedule,{mandatoryIf:[he]}),clearHolidaySchedule:h.AsConditional(e.HolidaySchedulesComponent.commands.clearHolidaySchedule,{mandatoryIf:[he]}),setUserType:h.AsConditional(e.PinCredentialAndRfidCredentialAndFingerCredentialsNotUserComponent.commands.setUserType,{optionalIf:[Gt]}),getUserType:h.AsConditional(e.PinCredentialAndRfidCredentialAndFingerCredentialsNotUserComponent.commands.getUserType,{optionalIf:[Gt]}),setRfidCode:h.AsConditional(e.RfidCredentialNotUserComponent.commands.setRfidCode,{mandatoryIf:[Ze]}),getRfidCode:h.AsConditional(e.RfidCredentialNotUserComponent.commands.getRfidCode,{mandatoryIf:[Ze]}),clearRfidCode:h.AsConditional(e.RfidCredentialNotUserComponent.commands.clearRfidCode,{mandatoryIf:[Ze]}),clearAllRfidCodes:h.AsConditional(e.RfidCredentialNotUserComponent.commands.clearAllRfidCodes,{mandatoryIf:[Ze]}),setUser:h.AsConditional(e.UserComponent.commands.setUser,{mandatoryIf:[G]}),getUser:h.AsConditional(e.UserComponent.commands.getUser,{mandatoryIf:[G]}),clearUser:h.AsConditional(e.UserComponent.commands.clearUser,{mandatoryIf:[G]}),setCredential:h.AsConditional(e.UserComponent.commands.setCredential,{mandatoryIf:[G]}),getCredentialStatus:h.AsConditional(e.UserComponent.commands.getCredentialStatus,{mandatoryIf:[G]}),clearCredential:h.AsConditional(e.UserComponent.commands.clearCredential,{mandatoryIf:[G]}),unboltDoor:h.AsConditional(e.UnboltingComponent.commands.unboltDoor,{mandatoryIf:[ft]})},events:{...e.Cluster.events,doorStateChange:h.AsConditional(e.DoorPositionSensorComponent.events.doorStateChange,{mandatoryIf:[N]}),lockUserChange:h.AsConditional(e.UserComponent.events.lockUserChange,{mandatoryIf:[G]})}}),e.Complete=e.CompleteInstance})(Vs||(Vs={}));var bq=Vs.Cluster;re.register(Vs.Complete);var pA=I({rangeMin:m(0,vt),rangeMax:m(1,vt),percentMax:R(2,aa),percentMin:R(3,aa),percentTypical:R(4,aa),fixedMax:R(5,nt),fixedMin:R(6,nt),fixedTypical:R(7,nt)});var Sg=I({measurementType:m(0,$()),measured:m(1,Ae),minMeasuredValue:m(2,vt),maxMeasuredValue:m(3,vt),accuracyRanges:m(4,Y(pA,{minLength:1}))});var lp;(e=>{let t;(l=>{l.ImportedEnergy="ImportedEnergy",l.ExportedEnergy="ExportedEnergy",l.CumulativeEnergy="CumulativeEnergy",l.PeriodicEnergy="PeriodicEnergy"})(t=e.Feature||(e.Feature={})),e.TlvEnergyMeasurement=I({energy:m(0,vt.bound({min:0})),startTimestamp:R(1,Nt),endTimestamp:R(2,Nt),startSystime:R(3,Fr),endSystime:R(4,Fr)}),e.TlvCumulativeEnergyReset=I({importedResetTimestamp:R(0,k(Nt)),exportedResetTimestamp:R(1,k(Nt)),importedResetSystime:R(2,k(Fr)),exportedResetSystime:R(3,k(Fr))}),e.TlvCumulativeEnergyMeasuredEvent=I({energyImported:R(0,e.TlvEnergyMeasurement),energyExported:R(1,e.TlvEnergyMeasurement)}),e.TlvPeriodicEnergyMeasuredEvent=I({energyImported:R(0,e.TlvEnergyMeasurement),energyExported:R(1,e.TlvEnergyMeasurement)}),e.ImportedEnergyAndCumulativeEnergyComponent=h.Component({attributes:{cumulativeEnergyImported:V(1,k(e.TlvEnergyMeasurement),{default:null})}}),e.ExportedEnergyAndCumulativeEnergyComponent=h.Component({attributes:{cumulativeEnergyExported:V(2,k(e.TlvEnergyMeasurement),{default:null})}}),e.ImportedEnergyAndPeriodicEnergyComponent=h.Component({attributes:{periodicEnergyImported:V(3,k(e.TlvEnergyMeasurement),{default:null})}}),e.ExportedEnergyAndPeriodicEnergyComponent=h.Component({attributes:{periodicEnergyExported:V(4,k(e.TlvEnergyMeasurement),{default:null})}}),e.CumulativeEnergyComponent=h.Component({attributes:{cumulativeEnergyReset:ye(5,k(e.TlvCumulativeEnergyReset),{default:null})},events:{cumulativeEnergyMeasured:it(0,Te.Info,e.TlvCumulativeEnergyMeasuredEvent)}}),e.PeriodicEnergyComponent=h.Component({events:{periodicEnergyMeasured:it(1,Te.Info,e.TlvPeriodicEnergyMeasuredEvent)}}),e.Base=h.Component({id:145,name:"ElectricalEnergyMeasurement",revision:1,features:{importedEnergy:M(0),exportedEnergy:M(1),cumulativeEnergy:M(2),periodicEnergy:M(3)},attributes:{accuracy:me(0,Sg)},extensions:h.Extensions({flags:{importedEnergy:!0,cumulativeEnergy:!0},component:e.ImportedEnergyAndCumulativeEnergyComponent},{flags:{exportedEnergy:!0,cumulativeEnergy:!0},component:e.ExportedEnergyAndCumulativeEnergyComponent},{flags:{importedEnergy:!0,periodicEnergy:!0},component:e.ImportedEnergyAndPeriodicEnergyComponent},{flags:{exportedEnergy:!0,periodicEnergy:!0},component:e.ExportedEnergyAndPeriodicEnergyComponent},{flags:{cumulativeEnergy:!0},component:e.CumulativeEnergyComponent},{flags:{periodicEnergy:!0},component:e.PeriodicEnergyComponent},{flags:{importedEnergy:!1,exportedEnergy:!1},component:!1},{flags:{cumulativeEnergy:!1,periodicEnergy:!1},component:!1})}),e.ClusterInstance=h.ExtensibleOnly(e.Base),e.Cluster=e.ClusterInstance;let n={importedEnergy:!0,cumulativeEnergy:!0},i={exportedEnergy:!0,cumulativeEnergy:!0},r={importedEnergy:!0,periodicEnergy:!0},a={exportedEnergy:!0,periodicEnergy:!0},s={cumulativeEnergy:!0},c={periodicEnergy:!0};e.CompleteInstance=h({id:e.Base.id,name:e.Base.name,revision:e.Base.revision,features:e.Base.features,attributes:{...e.Base.attributes,cumulativeEnergyImported:h.AsConditional(e.ImportedEnergyAndCumulativeEnergyComponent.attributes.cumulativeEnergyImported,{mandatoryIf:[n]}),cumulativeEnergyExported:h.AsConditional(e.ExportedEnergyAndCumulativeEnergyComponent.attributes.cumulativeEnergyExported,{mandatoryIf:[i]}),periodicEnergyImported:h.AsConditional(e.ImportedEnergyAndPeriodicEnergyComponent.attributes.periodicEnergyImported,{mandatoryIf:[r]}),periodicEnergyExported:h.AsConditional(e.ExportedEnergyAndPeriodicEnergyComponent.attributes.periodicEnergyExported,{mandatoryIf:[a]}),cumulativeEnergyReset:h.AsConditional(e.CumulativeEnergyComponent.attributes.cumulativeEnergyReset,{optionalIf:[s]})},events:{cumulativeEnergyMeasured:h.AsConditional(e.CumulativeEnergyComponent.events.cumulativeEnergyMeasured,{mandatoryIf:[s]}),periodicEnergyMeasured:h.AsConditional(e.PeriodicEnergyComponent.events.periodicEnergyMeasured,{mandatoryIf:[c]})}}),e.Complete=e.CompleteInstance})(lp||(lp={}));var xq=lp.Cluster;re.register(lp.Complete);var dp;(e=>{let t;(c=>{c.DirectCurrent="DirectCurrent",c.AlternatingCurrent="AlternatingCurrent",c.PolyphasePower="PolyphasePower",c.Harmonics="Harmonics",c.PowerQuality="PowerQuality"})(t=e.Feature||(e.Feature={})),e.TlvHarmonicMeasurement=I({order:m(0,P.bound({min:1})),measurement:m(1,k(vt))});let n;(c=>{c[c.Unknown=0]="Unknown",c[c.Dc=1]="Dc",c[c.Ac=2]="Ac"})(n=e.PowerMode||(e.PowerMode={})),e.TlvMeasurementRange=I({measurementType:m(0,$()),min:m(1,vt),max:m(2,vt),startTimestamp:R(3,Nt),endTimestamp:R(4,Nt),minTimestamp:R(5,Nt),maxTimestamp:R(6,Nt),startSystime:R(7,Fr),endSystime:R(8,Fr),minSystime:R(9,Fr),maxSystime:R(10,Fr)}),e.TlvMeasurementPeriodRangesEvent=I({ranges:m(0,Y(e.TlvMeasurementRange))}),e.AlternatingCurrentComponent=h.Component({attributes:{reactiveCurrent:ye(6,k(vt),{default:null}),apparentCurrent:ye(7,k(vt.bound({min:0})),{default:null}),reactivePower:ye(9,k(vt),{default:null}),apparentPower:ye(10,k(vt),{default:null}),rmsVoltage:ye(11,k(vt),{default:null}),rmsCurrent:ye(12,k(vt),{default:null}),rmsPower:ye(13,k(vt),{default:null}),frequency:ye(14,k(vt.bound({min:0,max:1e6})),{default:null}),powerFactor:ye(17,k(vt.bound({min:-1e4,max:1e4})),{default:null})}}),e.HarmonicsComponent=h.Component({attributes:{harmonicCurrents:V(15,k(Y(e.TlvHarmonicMeasurement)),{default:null})}}),e.PowerQualityComponent=h.Component({attributes:{harmonicPhases:V(16,k(Y(e.TlvHarmonicMeasurement)),{default:null})}}),e.PolyphasePowerComponent=h.Component({attributes:{neutralCurrent:ye(18,k(vt),{default:null})}}),e.Base=h.Component({id:144,name:"ElectricalPowerMeasurement",revision:1,features:{directCurrent:M(0),alternatingCurrent:M(1),polyphasePower:M(2),harmonics:M(3),powerQuality:M(4)},attributes:{powerMode:V(0,$()),numberOfMeasurementTypes:me(1,P.bound({min:1})),accuracy:me(2,Y(Sg,{minLength:1})),ranges:ye(3,Y(e.TlvMeasurementRange,{minLength:0}),{default:[]}),voltage:ye(4,k(vt),{default:null}),activeCurrent:ye(5,k(vt),{default:null}),activePower:V(8,k(vt),{default:null})},events:{measurementPeriodRanges:ct(0,Te.Info,e.TlvMeasurementPeriodRangesEvent)},extensions:h.Extensions({flags:{alternatingCurrent:!0},component:e.AlternatingCurrentComponent},{flags:{harmonics:!0},component:e.HarmonicsComponent},{flags:{powerQuality:!0},component:e.PowerQualityComponent},{flags:{polyphasePower:!0},component:e.PolyphasePowerComponent},{flags:{polyphasePower:!0,alternatingCurrent:!1},component:!1},{flags:{harmonics:!0,alternatingCurrent:!1},component:!1},{flags:{powerQuality:!0,alternatingCurrent:!1},component:!1},{flags:{directCurrent:!1,alternatingCurrent:!1},component:!1})}),e.ClusterInstance=h.ExtensibleOnly(e.Base),e.Cluster=e.ClusterInstance;let i={alternatingCurrent:!0},r={harmonics:!0},a={powerQuality:!0},s={polyphasePower:!0};e.CompleteInstance=h({id:e.Base.id,name:e.Base.name,revision:e.Base.revision,features:e.Base.features,attributes:{...e.Base.attributes,reactiveCurrent:h.AsConditional(e.AlternatingCurrentComponent.attributes.reactiveCurrent,{optionalIf:[i]}),apparentCurrent:h.AsConditional(e.AlternatingCurrentComponent.attributes.apparentCurrent,{optionalIf:[i]}),reactivePower:h.AsConditional(e.AlternatingCurrentComponent.attributes.reactivePower,{optionalIf:[i]}),apparentPower:h.AsConditional(e.AlternatingCurrentComponent.attributes.apparentPower,{optionalIf:[i]}),rmsVoltage:h.AsConditional(e.AlternatingCurrentComponent.attributes.rmsVoltage,{optionalIf:[i]}),rmsCurrent:h.AsConditional(e.AlternatingCurrentComponent.attributes.rmsCurrent,{optionalIf:[i]}),rmsPower:h.AsConditional(e.AlternatingCurrentComponent.attributes.rmsPower,{optionalIf:[i]}),frequency:h.AsConditional(e.AlternatingCurrentComponent.attributes.frequency,{optionalIf:[i]}),harmonicCurrents:h.AsConditional(e.HarmonicsComponent.attributes.harmonicCurrents,{mandatoryIf:[r]}),harmonicPhases:h.AsConditional(e.PowerQualityComponent.attributes.harmonicPhases,{mandatoryIf:[a]}),powerFactor:h.AsConditional(e.AlternatingCurrentComponent.attributes.powerFactor,{optionalIf:[i]}),neutralCurrent:h.AsConditional(e.PolyphasePowerComponent.attributes.neutralCurrent,{optionalIf:[s]})},events:e.Base.events}),e.Complete=e.CompleteInstance})(dp||(dp={}));var wq=dp.Cluster;re.register(dp.Complete);var up;(e=>{let t;(g=>{g.ChargingPreferences="ChargingPreferences",g.SoCReporting="SoCReporting",g.PlugAndCharge="PlugAndCharge",g.Rfid="Rfid",g.V2X="V2X"})(t=e.Feature||(e.Feature={})),e.TlvEnableDischargingRequest=I({dischargingEnabledUntil:m(0,k(Nt)),maximumDischargeCurrent:m(1,vt.bound({min:0}))}),e.TargetDayOfWeek={sunday:M(0),monday:M(1),tuesday:M(2),wednesday:M(3),thursday:M(4),friday:M(5),saturday:M(6)},e.TlvChargingTarget=I({targetTimeMinutesPastMidnight:m(0,B.bound({max:1439})),targetSoC:R(1,Ii),addedEnergy:R(2,vt.bound({min:0}))}),e.TlvChargingTargetSchedule=I({dayOfWeekForSequence:R(0,Ie(P,e.TargetDayOfWeek)),chargingTargets:R(1,Y(e.TlvChargingTarget,{maxLength:10}))}),e.TlvSetTargetsRequest=I({chargingTargetSchedules:m(0,Y(e.TlvChargingTargetSchedule,{maxLength:7}))}),e.TlvGetTargetsResponse=I({chargingTargetSchedules:m(0,Y(e.TlvChargingTargetSchedule,{maxLength:7}))}),e.TlvRfidEvent=I({uid:m(0,be.bound({maxLength:10}))});let n;(g=>{g[g.NotPluggedIn=0]="NotPluggedIn",g[g.PluggedInNoDemand=1]="PluggedInNoDemand",g[g.PluggedInDemand=2]="PluggedInDemand",g[g.PluggedInCharging=3]="PluggedInCharging",g[g.PluggedInDischarging=4]="PluggedInDischarging",g[g.SessionEnding=5]="SessionEnding",g[g.Fault=6]="Fault"})(n=e.State||(e.State={}));let i;(g=>{g[g.Disabled=0]="Disabled",g[g.ChargingEnabled=1]="ChargingEnabled",g[g.DischargingEnabled=2]="DischargingEnabled",g[g.DisabledError=3]="DisabledError",g[g.DisabledDiagnostics=4]="DisabledDiagnostics"})(i=e.SupplyState||(e.SupplyState={}));let r;(g=>{g[g.NoError=0]="NoError",g[g.MeterFailure=1]="MeterFailure",g[g.OverVoltage=2]="OverVoltage",g[g.UnderVoltage=3]="UnderVoltage",g[g.OverCurrent=4]="OverCurrent",g[g.ContactWetFailure=5]="ContactWetFailure",g[g.ContactDryFailure=6]="ContactDryFailure",g[g.GroundFault=7]="GroundFault",g[g.PowerLoss=8]="PowerLoss",g[g.PowerQuality=9]="PowerQuality",g[g.PilotShortCircuit=10]="PilotShortCircuit",g[g.EmergencyStop=11]="EmergencyStop",g[g.EvDisconnected=12]="EvDisconnected",g[g.WrongPowerSupply=13]="WrongPowerSupply",g[g.LiveNeutralSwap=14]="LiveNeutralSwap",g[g.OverTemperature=15]="OverTemperature",g[g.Other=255]="Other"})(r=e.FaultState||(e.FaultState={})),e.TlvEnableChargingRequest=I({chargingEnabledUntil:m(0,k(Nt)),minimumChargeCurrent:m(1,vt.bound({min:0})),maximumChargeCurrent:m(2,vt.bound({min:0}))}),e.TlvEvConnectedEvent=I({sessionId:m(0,ee)}),e.TlvEvNotDetectedEvent=I({sessionId:m(0,ee),state:m(1,$()),sessionDuration:m(2,ee),sessionEnergyCharged:m(3,vt.bound({min:0})),sessionEnergyDischarged:R(4,vt.bound({min:0}))}),e.TlvEnergyTransferStartedEvent=I({sessionId:m(0,ee),state:m(1,$()),maximumCurrent:m(2,vt.bound({min:0}))});let a;(g=>{g[g.EvStopped=0]="EvStopped",g[g.EvseStopped=1]="EvseStopped",g[g.Other=2]="Other"})(a=e.EnergyTransferStoppedReason||(e.EnergyTransferStoppedReason={})),e.TlvEnergyTransferStoppedEvent=I({sessionId:m(0,ee),state:m(1,$()),reason:m(2,$()),energyTransferred:m(4,vt.bound({min:0}))}),e.TlvFaultEvent=I({sessionId:m(0,k(ee)),state:m(1,$()),faultStatePreviousState:m(2,$()),faultStateCurrentState:m(4,$())}),e.V2XComponent=h.Component({attributes:{dischargingEnabledUntil:V(4,k(Nt),{persistent:!0,default:0}),maximumDischargeCurrent:V(8,vt.bound({min:0}),{persistent:!0,default:0}),sessionEnergyDischarged:V(67,k(vt.bound({min:0})),{persistent:!0,default:null})},commands:{enableDischarging:X(3,e.TlvEnableDischargingRequest,3,ne,{timed:!0})}}),e.ChargingPreferencesComponent=h.Component({attributes:{nextChargeStartTime:V(35,k(Nt),{default:null}),nextChargeTargetTime:V(36,k(Nt),{default:null}),nextChargeRequiredEnergy:V(37,k(vt.bound({min:0})),{default:null}),nextChargeTargetSoC:V(38,k(Ii),{default:null}),approximateEvEfficiency:_e(39,k(B),{persistent:!0,default:null,writeAcl:W.Manage})},commands:{setTargets:X(5,e.TlvSetTargetsRequest,5,ne,{timed:!0}),getTargets:X(6,Fe,0,e.TlvGetTargetsResponse,{timed:!0}),clearTargets:X(7,Fe,7,ne,{timed:!0})}}),e.SoCReportingComponent=h.Component({attributes:{stateOfCharge:V(48,k(Ii),{default:null}),batteryCapacity:V(49,k(vt.bound({min:0})),{default:null})}}),e.PlugAndChargeComponent=h.Component({attributes:{vehicleId:V(50,k(Z.bound({maxLength:32})),{default:null})}}),e.RfidComponent=h.Component({events:{rfid:ct(5,Te.Info,e.TlvRfidEvent)}}),e.Base=h.Component({id:153,name:"EnergyEvse",revision:2,features:{chargingPreferences:M(0),soCReporting:M(1),plugAndCharge:M(2),rfid:M(3),v2X:M(4)},attributes:{state:V(0,k($())),supplyState:V(1,$()),faultState:V(2,$()),chargingEnabledUntil:V(3,k(Nt),{persistent:!0,default:0}),circuitCapacity:V(5,vt.bound({min:0}),{persistent:!0,default:0}),minimumChargeCurrent:V(6,vt.bound({min:0}),{persistent:!0,default:6e3}),maximumChargeCurrent:V(7,vt.bound({min:0}),{persistent:!0,default:0}),userMaximumChargeCurrent:_e(9,vt,{persistent:!0,default:0,writeAcl:W.Manage}),randomizationDelayWindow:_e(10,ee.bound({min:0,max:86400}),{persistent:!0,default:600,writeAcl:W.Manage}),sessionId:V(64,k(ee),{persistent:!0,default:null}),sessionDuration:V(65,k(ee),{persistent:!0,default:null}),sessionEnergyCharged:V(66,k(vt.bound({min:0})),{persistent:!0,default:null})},commands:{disable:X(1,Fe,1,ne,{timed:!0}),enableCharging:X(2,e.TlvEnableChargingRequest,2,ne,{timed:!0}),startDiagnostics:wt(4,Fe,4,ne,{timed:!0})},events:{evConnected:it(0,Te.Info,e.TlvEvConnectedEvent),evNotDetected:it(1,Te.Info,e.TlvEvNotDetectedEvent),energyTransferStarted:it(2,Te.Info,e.TlvEnergyTransferStartedEvent),energyTransferStopped:it(3,Te.Info,e.TlvEnergyTransferStoppedEvent),fault:it(4,Te.Critical,e.TlvFaultEvent)},extensions:h.Extensions({flags:{v2X:!0},component:e.V2XComponent},{flags:{chargingPreferences:!0},component:e.ChargingPreferencesComponent},{flags:{soCReporting:!0},component:e.SoCReportingComponent},{flags:{plugAndCharge:!0},component:e.PlugAndChargeComponent},{flags:{rfid:!0},component:e.RfidComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let s={v2X:!0},c={chargingPreferences:!0},l={soCReporting:!0},d={plugAndCharge:!0},f={rfid:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,dischargingEnabledUntil:h.AsConditional(e.V2XComponent.attributes.dischargingEnabledUntil,{mandatoryIf:[s]}),maximumDischargeCurrent:h.AsConditional(e.V2XComponent.attributes.maximumDischargeCurrent,{mandatoryIf:[s]}),nextChargeStartTime:h.AsConditional(e.ChargingPreferencesComponent.attributes.nextChargeStartTime,{mandatoryIf:[c]}),nextChargeTargetTime:h.AsConditional(e.ChargingPreferencesComponent.attributes.nextChargeTargetTime,{mandatoryIf:[c]}),nextChargeRequiredEnergy:h.AsConditional(e.ChargingPreferencesComponent.attributes.nextChargeRequiredEnergy,{mandatoryIf:[c]}),nextChargeTargetSoC:h.AsConditional(e.ChargingPreferencesComponent.attributes.nextChargeTargetSoC,{mandatoryIf:[c]}),approximateEvEfficiency:h.AsConditional(e.ChargingPreferencesComponent.attributes.approximateEvEfficiency,{optionalIf:[c]}),stateOfCharge:h.AsConditional(e.SoCReportingComponent.attributes.stateOfCharge,{mandatoryIf:[l]}),batteryCapacity:h.AsConditional(e.SoCReportingComponent.attributes.batteryCapacity,{mandatoryIf:[l]}),vehicleId:h.AsConditional(e.PlugAndChargeComponent.attributes.vehicleId,{mandatoryIf:[d]}),sessionEnergyDischarged:h.AsConditional(e.V2XComponent.attributes.sessionEnergyDischarged,{mandatoryIf:[s]})},commands:{...e.Cluster.commands,enableDischarging:h.AsConditional(e.V2XComponent.commands.enableDischarging,{mandatoryIf:[s]}),setTargets:h.AsConditional(e.ChargingPreferencesComponent.commands.setTargets,{mandatoryIf:[c]}),getTargets:h.AsConditional(e.ChargingPreferencesComponent.commands.getTargets,{mandatoryIf:[c]}),clearTargets:h.AsConditional(e.ChargingPreferencesComponent.commands.clearTargets,{mandatoryIf:[c]})},events:{...e.Cluster.events,rfid:h.AsConditional(e.RfidComponent.events.rfid,{optionalIf:[f]})}}),e.Complete=e.CompleteInstance})(up||(up={}));var Tq=up.Cluster;re.register(up.Complete);var mp;(e=>{let t;(r=>{r.OnOff="OnOff"})(t=e.Feature||(e.Feature={}));let n;(r=>{r[r.Manual=16384]="Manual",r[r.TimeOfUse=16385]="TimeOfUse",r[r.SolarCharging=16386]="SolarCharging"})(n=e.ModeTag||(e.ModeTag={})),e.OnOffComponent=h.Component({attributes:{onMode:He(3,k(P),{persistent:!0,default:null})}}),e.Base=h.Component({id:157,name:"EnergyEvseMode",revision:1,features:{onOff:M(0)},attributes:{supportedModes:me(0,Y(In.TlvModeOption,{minLength:2,maxLength:255})),currentMode:V(1,P,{scene:!0,persistent:!0}),startUpMode:_e(2,k(P),{persistent:!0})},commands:{changeToMode:X(0,In.TlvChangeToModeRequest,0,ne)},extensions:h.Extensions({flags:{onOff:!0},component:e.OnOffComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let i={onOff:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,onMode:h.AsConditional(e.OnOffComponent.attributes.onMode,{mandatoryIf:[i]})},commands:e.Cluster.commands}),e.Complete=e.CompleteInstance})(mp||(mp={}));var Cq=mp.Cluster;re.register(mp.Complete);var td;(e=>{let t;(a=>{a.EnergyBalance="EnergyBalance",a.LowPowerModeSensitivity="LowPowerModeSensitivity"})(t=e.Feature||(e.Feature={})),e.TlvBalance=I({step:m(0,Ii),label:R(1,Z.bound({maxLength:64}))});let n;(a=>{a[a.Comfort=0]="Comfort",a[a.Speed=1]="Speed",a[a.Efficiency=2]="Efficiency",a[a.WaterConsumption=3]="WaterConsumption"})(n=e.EnergyPriority||(e.EnergyPriority={})),e.EnergyBalanceComponent=h.Component({attributes:{energyBalances:me(0,Y(e.TlvBalance,{minLength:2,maxLength:10})),currentEnergyBalance:He(1,P,{persistent:!0}),energyPriorities:me(2,Y($(),{length:2}))}}),e.LowPowerModeSensitivityComponent=h.Component({attributes:{lowPowerModeSensitivities:me(3,Y(e.TlvBalance,{minLength:2,maxLength:10})),currentLowPowerModeSensitivity:He(4,P,{persistent:!0})}}),e.Base=h.Component({id:155,name:"EnergyPreference",revision:1,features:{energyBalance:M(0),lowPowerModeSensitivity:M(1)},extensions:h.Extensions({flags:{energyBalance:!0},component:e.EnergyBalanceComponent},{flags:{lowPowerModeSensitivity:!0},component:e.LowPowerModeSensitivityComponent},{flags:{energyBalance:!1,lowPowerModeSensitivity:!1},component:!1})}),e.ClusterInstance=h.ExtensibleOnly(e.Base),e.Cluster=e.ClusterInstance;let i={energyBalance:!0},r={lowPowerModeSensitivity:!0};e.CompleteInstance=h({id:e.Base.id,name:e.Base.name,revision:e.Base.revision,features:e.Base.features,attributes:{energyBalances:h.AsConditional(e.EnergyBalanceComponent.attributes.energyBalances,{mandatoryIf:[i]}),currentEnergyBalance:h.AsConditional(e.EnergyBalanceComponent.attributes.currentEnergyBalance,{mandatoryIf:[i]}),energyPriorities:h.AsConditional(e.EnergyBalanceComponent.attributes.energyPriorities,{mandatoryIf:[i]}),lowPowerModeSensitivities:h.AsConditional(e.LowPowerModeSensitivityComponent.attributes.lowPowerModeSensitivities,{mandatoryIf:[r]}),currentLowPowerModeSensitivity:h.AsConditional(e.LowPowerModeSensitivityComponent.attributes.currentLowPowerModeSensitivity,{mandatoryIf:[r]})}}),e.Complete=e.CompleteInstance})(td||(td={}));var Sq=td.Cluster;re.register(td.Complete);var nd;(e=>{let t;(a=>{a.PacketCounts="PacketCounts",a.ErrorCounts="ErrorCounts"})(t=e.Feature||(e.Feature={}));let n;(a=>{a[a.Rate10M=0]="Rate10M",a[a.Rate100M=1]="Rate100M",a[a.Rate1G=2]="Rate1G",a[a.Rate25G=3]="Rate25G",a[a.Rate5G=4]="Rate5G",a[a.Rate10G=5]="Rate10G",a[a.Rate40G=6]="Rate40G",a[a.Rate100G=7]="Rate100G",a[a.Rate200G=8]="Rate200G",a[a.Rate400G=9]="Rate400G"})(n=e.PhyRate||(e.PhyRate={})),e.PacketCountsComponent=h.Component({attributes:{packetRxCount:V(2,nt,{omitChanges:!0,default:0}),packetTxCount:V(3,nt,{omitChanges:!0,default:0})}}),e.ErrorCountsComponent=h.Component({attributes:{txErrCount:V(4,nt,{omitChanges:!0,default:0}),collisionCount:V(5,nt,{omitChanges:!0,default:0}),overrunCount:V(6,nt,{omitChanges:!0,default:0})}}),e.PacketCountsOrErrorCountsComponent=h.Component({commands:{resetCounts:X(0,Fe,0,ne,{invokeAcl:W.Manage})}}),e.Base=h.Component({id:55,name:"EthernetNetworkDiagnostics",revision:1,features:{packetCounts:M(0),errorCounts:M(1)},attributes:{phyRate:ye(0,k($()),{default:null}),fullDuplex:ye(1,k(Ae),{default:null}),carrierDetect:ye(7,k(Ae),{omitChanges:!0,default:null}),timeSinceReset:ye(8,nt,{omitChanges:!0,default:0})},extensions:h.Extensions({flags:{packetCounts:!0},component:e.PacketCountsComponent},{flags:{errorCounts:!0},component:e.ErrorCountsComponent},{flags:{packetCounts:!0},component:e.PacketCountsOrErrorCountsComponent},{flags:{errorCounts:!0},component:e.PacketCountsOrErrorCountsComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let i={packetCounts:!0},r={errorCounts:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,packetRxCount:h.AsConditional(e.PacketCountsComponent.attributes.packetRxCount,{mandatoryIf:[i]}),packetTxCount:h.AsConditional(e.PacketCountsComponent.attributes.packetTxCount,{mandatoryIf:[i]}),txErrCount:h.AsConditional(e.ErrorCountsComponent.attributes.txErrCount,{mandatoryIf:[r]}),collisionCount:h.AsConditional(e.ErrorCountsComponent.attributes.collisionCount,{mandatoryIf:[r]}),overrunCount:h.AsConditional(e.ErrorCountsComponent.attributes.overrunCount,{mandatoryIf:[r]})},commands:{resetCounts:h.AsConditional(e.PacketCountsOrErrorCountsComponent.commands.resetCounts,{mandatoryIf:[i,r]})}}),e.Complete=e.CompleteInstance})(nd||(nd={}));var Iq=nd.Cluster;re.register(nd.Complete);var id;(e=>{let t;(g=>{g.MultiSpeed="MultiSpeed",g.Auto="Auto",g.Rocking="Rocking",g.Wind="Wind",g.Step="Step",g.AirflowDirection="AirflowDirection"})(t=e.Feature||(e.Feature={})),e.Rock={rockLeftRight:M(0),rockUpDown:M(1),rockRound:M(2)},e.Wind={sleepWind:M(0),naturalWind:M(1)};let n;(g=>{g[g.Forward=0]="Forward",g[g.Reverse=1]="Reverse"})(n=e.AirflowDirection||(e.AirflowDirection={}));let i;(g=>{g[g.Increase=0]="Increase",g[g.Decrease=1]="Decrease"})(i=e.StepDirection||(e.StepDirection={})),e.TlvStepRequest=I({direction:m(0,$()),wrap:R(1,Ae),lowestOff:R(2,Ae)});let r;(g=>{g[g.Off=0]="Off",g[g.Low=1]="Low",g[g.Medium=2]="Medium",g[g.High=3]="High",g[g.On=4]="On",g[g.Auto=5]="Auto",g[g.Smart=6]="Smart"})(r=e.FanMode||(e.FanMode={}));let a;(g=>{g[g.OffLowMedHigh=0]="OffLowMedHigh",g[g.OffLowHigh=1]="OffLowHigh",g[g.OffLowMedHighAuto=2]="OffLowMedHighAuto",g[g.OffLowHighAuto=3]="OffLowHighAuto",g[g.OffHighAuto=4]="OffHighAuto",g[g.OffHigh=5]="OffHigh"})(a=e.FanModeSequence||(e.FanModeSequence={})),e.MultiSpeedComponent=h.Component({attributes:{speedMax:me(4,P.bound({min:1,max:100})),speedSetting:He(5,k(P),{default:0}),speedCurrent:V(6,P)}}),e.RockingComponent=h.Component({attributes:{rockSupport:me(7,Ie(P,e.Rock)),rockSetting:He(8,Ie(P,e.Rock))}}),e.WindComponent=h.Component({attributes:{windSupport:me(9,Ie(P,e.Wind)),windSetting:He(10,Ie(P,e.Wind))}}),e.AirflowDirectionComponent=h.Component({attributes:{airflowDirection:He(11,$(),{default:0})}}),e.StepComponent=h.Component({commands:{step:X(0,e.TlvStepRequest,0,ne)}}),e.Base=h.Component({id:514,name:"FanControl",revision:4,features:{multiSpeed:M(0),auto:M(1),rocking:M(2),wind:M(3),step:M(4),airflowDirection:M(5)},attributes:{fanMode:He(0,$(),{persistent:!0,default:0}),fanModeSequence:me(1,$()),percentSetting:He(2,k(Ii),{default:0}),percentCurrent:V(3,Ii)},extensions:h.Extensions({flags:{multiSpeed:!0},component:e.MultiSpeedComponent},{flags:{rocking:!0},component:e.RockingComponent},{flags:{wind:!0},component:e.WindComponent},{flags:{airflowDirection:!0},component:e.AirflowDirectionComponent},{flags:{step:!0},component:e.StepComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let s={multiSpeed:!0},c={rocking:!0},l={wind:!0},d={airflowDirection:!0},f={step:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,speedMax:h.AsConditional(e.MultiSpeedComponent.attributes.speedMax,{mandatoryIf:[s]}),speedSetting:h.AsConditional(e.MultiSpeedComponent.attributes.speedSetting,{mandatoryIf:[s]}),speedCurrent:h.AsConditional(e.MultiSpeedComponent.attributes.speedCurrent,{mandatoryIf:[s]}),rockSupport:h.AsConditional(e.RockingComponent.attributes.rockSupport,{mandatoryIf:[c]}),rockSetting:h.AsConditional(e.RockingComponent.attributes.rockSetting,{mandatoryIf:[c]}),windSupport:h.AsConditional(e.WindComponent.attributes.windSupport,{mandatoryIf:[l]}),windSetting:h.AsConditional(e.WindComponent.attributes.windSetting,{mandatoryIf:[l]}),airflowDirection:h.AsConditional(e.AirflowDirectionComponent.attributes.airflowDirection,{mandatoryIf:[d]})},commands:{step:h.AsConditional(e.StepComponent.commands.step,{mandatoryIf:[f]})}}),e.Complete=e.CompleteInstance})(id||(id={}));var Aq=id.Cluster;re.register(id.Complete);var rd;(e=>{e.TlvLabelStruct=I({label:m(0,Z.bound({maxLength:16})),value:m(1,Z.bound({maxLength:16}))}),e.Base=h.Component({name:"Label",revision:1,attributes:{labelList:He(0,Y(e.TlvLabelStruct),{default:[]})}}),e.Complete=e.Base})(rd||(rd={}));var hp;(e=>{e.ClusterInstance=h({id:64,name:"FixedLabel",revision:1,attributes:{labelList:V(0,Y(rd.TlvLabelStruct),{persistent:!0,default:[]})}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(hp||(hp={}));var Mq=hp.Cluster;re.register(hp.Complete);var od;(e=>{e.ClusterInstance=h({id:1028,name:"FlowMeasurement",revision:3,attributes:{measuredValue:V(0,k(B),{default:null}),minMeasuredValue:V(1,k(B)),maxMeasuredValue:V(2,k(B.bound({max:65534}))),tolerance:ye(3,B.bound({max:2048}),{default:0})}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(od||(od={}));var Eq=od.Cluster;re.register(od.Complete);var ad;(e=>{e.Base={...gn.Base,id:1067,name:"FormaldehydeConcentrationMeasurement"},e.ClusterInstance=h.ExtensibleOnly(e.Base),e.Cluster=e.ClusterInstance,e.CompleteInstance=h({...gn.Complete,id:1067,name:"FormaldehydeConcentrationMeasurement"}),e.Complete=e.CompleteInstance})(ad||(ad={}));var Oq=ad.Cluster;re.register(ad.Complete);var Xt;(e=>{e.TlvBasicCommissioningInfo=I({failSafeExpiryLengthSeconds:m(0,B),maxCumulativeFailsafeSeconds:m(1,B)});let t;(i=>{i[i.Indoor=0]="Indoor",i[i.Outdoor=1]="Outdoor",i[i.IndoorOutdoor=2]="IndoorOutdoor"})(t=e.RegulatoryLocationType||(e.RegulatoryLocationType={})),e.TlvArmFailSafeRequest=I({expiryLengthSeconds:m(0,B),breadcrumb:m(1,nt)});let n;(i=>{i[i.Ok=0]="Ok",i[i.ValueOutsideRange=1]="ValueOutsideRange",i[i.InvalidAuthentication=2]="InvalidAuthentication",i[i.NoFailSafe=3]="NoFailSafe",i[i.BusyWithOtherAdmin=4]="BusyWithOtherAdmin"})(n=e.CommissioningError||(e.CommissioningError={})),e.TlvArmFailSafeResponse=I({errorCode:m(0,$()),debugText:m(1,Z.bound({maxLength:128}))}),e.TlvSetRegulatoryConfigRequest=I({newRegulatoryConfig:m(0,$()),countryCode:m(1,Z.bound({length:2})),breadcrumb:m(2,nt)}),e.TlvSetRegulatoryConfigResponse=I({errorCode:m(0,$()),debugText:m(1,Z)}),e.TlvCommissioningCompleteResponse=I({errorCode:m(0,$()),debugText:m(1,Z)}),e.ClusterInstance=h({id:48,name:"GeneralCommissioning",revision:1,attributes:{breadcrumb:He(0,nt,{default:0,writeAcl:W.Administer}),basicCommissioningInfo:me(1,e.TlvBasicCommissioningInfo),regulatoryConfig:V(2,$()),locationCapability:me(3,$(),{default:2}),supportsConcurrentConnection:me(4,Ae,{default:!0})},commands:{armFailSafe:X(0,e.TlvArmFailSafeRequest,1,e.TlvArmFailSafeResponse,{invokeAcl:W.Administer}),setRegulatoryConfig:X(2,e.TlvSetRegulatoryConfigRequest,3,e.TlvSetRegulatoryConfigResponse,{invokeAcl:W.Administer}),commissioningComplete:X(4,Fe,5,e.TlvCommissioningCompleteResponse,{invokeAcl:W.Administer})}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(Xt||(Xt={}));var Dq=Xt.Cluster;re.register(Xt.Complete);var ri;(e=>{let t;(l=>{l.DataModelTest="DataModelTest"})(t=e.Feature||(e.Feature={})),e.TlvPayloadTestRequest=I({enableKey:m(0,be.bound({length:16})),value:m(1,P),count:m(2,B.bound({max:2048}))}),e.TlvPayloadTestResponse=I({payload:m(0,be.bound({maxLength:2048}))});let n;(l=>{l[l.Unspecified=0]="Unspecified",l[l.WiFi=1]="WiFi",l[l.Ethernet=2]="Ethernet",l[l.Cellular=3]="Cellular",l[l.Thread=4]="Thread"})(n=e.InterfaceType||(e.InterfaceType={})),e.TlvNetworkInterface=I({name:m(0,Z.bound({maxLength:32})),isOperational:m(1,Ae),offPremiseServicesReachableIPv4:m(2,k(Ae)),offPremiseServicesReachableIPv6:m(3,k(Ae)),hardwareAddress:m(4,be),iPv4Addresses:m(5,Y(be,{maxLength:4})),iPv6Addresses:m(6,Y(be,{maxLength:8})),type:m(7,$())});let i;(l=>{l[l.Unspecified=0]="Unspecified",l[l.PowerOnReboot=1]="PowerOnReboot",l[l.BrownOutReset=2]="BrownOutReset",l[l.SoftwareWatchdogReset=3]="SoftwareWatchdogReset",l[l.HardwareWatchdogReset=4]="HardwareWatchdogReset",l[l.SoftwareUpdateCompleted=5]="SoftwareUpdateCompleted",l[l.SoftwareReset=6]="SoftwareReset"})(i=e.BootReason||(e.BootReason={}));let r;(l=>{l[l.Unspecified=0]="Unspecified",l[l.Radio=1]="Radio",l[l.Sensor=2]="Sensor",l[l.ResettableOverTemp=3]="ResettableOverTemp",l[l.NonResettableOverTemp=4]="NonResettableOverTemp",l[l.PowerSource=5]="PowerSource",l[l.VisualDisplayFault=6]="VisualDisplayFault",l[l.AudioOutputFault=7]="AudioOutputFault",l[l.UserInterfaceFault=8]="UserInterfaceFault",l[l.NonVolatileMemoryError=9]="NonVolatileMemoryError",l[l.TamperDetected=10]="TamperDetected"})(r=e.HardwareFault||(e.HardwareFault={}));let a;(l=>{l[l.Unspecified=0]="Unspecified",l[l.WiFiFault=1]="WiFiFault",l[l.CellularFault=2]="CellularFault",l[l.ThreadFault=3]="ThreadFault",l[l.NfcFault=4]="NfcFault",l[l.BleFault=5]="BleFault",l[l.EthernetFault=6]="EthernetFault"})(a=e.RadioFault||(e.RadioFault={}));let s;(l=>{l[l.Unspecified=0]="Unspecified",l[l.HardwareFailure=1]="HardwareFailure",l[l.NetworkJammed=2]="NetworkJammed",l[l.ConnectionFailed=3]="ConnectionFailed"})(s=e.NetworkFault||(e.NetworkFault={})),e.TlvTestEventTriggerRequest=I({enableKey:m(0,be.bound({length:16})),eventTrigger:m(1,nt)}),e.TlvTimeSnapshotResponse=I({systemTimeMs:m(0,Fr),posixTimeMs:m(1,k(np))}),e.TlvHardwareFaultChangeEvent=I({current:m(0,Y($(),{maxLength:11})),previous:m(1,Y($(),{maxLength:11}))}),e.TlvRadioFaultChangeEvent=I({current:m(0,Y($(),{maxLength:7})),previous:m(1,Y($(),{maxLength:7}))}),e.TlvNetworkFaultChangeEvent=I({current:m(0,Y($(),{maxLength:4})),previous:m(1,Y($(),{maxLength:4}))}),e.TlvBootReasonEvent=I({bootReason:m(0,$())}),e.DataModelTestComponent=h.Component({commands:{payloadTestRequest:X(3,e.TlvPayloadTestRequest,4,e.TlvPayloadTestResponse,{invokeAcl:W.Manage})}}),e.Base=h.Component({id:51,name:"GeneralDiagnostics",revision:2,features:{dataModelTest:M(0)},attributes:{networkInterfaces:V(0,Y(e.TlvNetworkInterface,{maxLength:8}),{default:[]}),rebootCount:V(1,B,{persistent:!0}),upTime:V(2,nt,{omitChanges:!0}),totalOperationalHours:ye(3,ee,{persistent:!0,omitChanges:!0}),bootReason:ye(4,$()),activeHardwareFaults:ye(5,Y($(),{maxLength:11}),{default:[]}),activeRadioFaults:ye(6,Y($(),{maxLength:7}),{default:[]}),activeNetworkFaults:ye(7,Y($(),{maxLength:4}),{default:[]}),testEventTriggersEnabled:V(8,Ae)},commands:{testEventTrigger:X(0,e.TlvTestEventTriggerRequest,0,ne,{invokeAcl:W.Manage}),timeSnapshot:X(1,Fe,2,e.TlvTimeSnapshotResponse)},events:{hardwareFaultChange:ct(0,Te.Critical,e.TlvHardwareFaultChangeEvent),radioFaultChange:ct(1,Te.Critical,e.TlvRadioFaultChangeEvent),networkFaultChange:ct(2,Te.Critical,e.TlvNetworkFaultChangeEvent),bootReason:it(3,Te.Critical,e.TlvBootReasonEvent)},extensions:h.Extensions({flags:{dataModelTest:!0},component:e.DataModelTestComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let c={dataModelTest:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:e.Cluster.attributes,commands:{...e.Cluster.commands,payloadTestRequest:h.AsConditional(e.DataModelTestComponent.commands.payloadTestRequest,{mandatoryIf:[c]})},events:e.Cluster.events}),e.Complete=e.CompleteInstance})(ri||(ri={}));var Rq=ri.Cluster;re.register(ri.Complete);var qa;(e=>{let t;(r=>{r.CacheAndSync="CacheAndSync"})(t=e.Feature||(e.Feature={})),e.TlvGroupKeyMap=I({groupId:m(1,hn),groupKeySetId:m(2,B.bound({min:1})),fabricIndex:m(254,Ut)}),e.TlvGroupInfoMap=I({groupId:m(1,hn),endpoints:m(2,Y(yn,{minLength:1})),groupName:R(3,Z.bound({maxLength:16})),fabricIndex:m(254,Ut)});let n;(r=>{r[r.TrustFirst=0]="TrustFirst",r[r.CacheAndSync=1]="CacheAndSync"})(n=e.GroupKeySecurityPolicy||(e.GroupKeySecurityPolicy={}));let i;(r=>{r[r.PerGroupId=0]="PerGroupId",r[r.AllNodes=1]="AllNodes"})(i=e.GroupKeyMulticastPolicy||(e.GroupKeyMulticastPolicy={})),e.TlvGroupKeySet=I({groupKeySetId:m(0,B),groupKeySecurityPolicy:m(1,$()),epochKey0:m(2,k(be.bound({length:16}))),epochStartTime0:m(3,k(ki)),epochKey1:m(4,k(be.bound({length:16}))),epochStartTime1:m(5,k(ki)),epochKey2:m(6,k(be.bound({length:16}))),epochStartTime2:m(7,k(ki)),groupKeyMulticastPolicy:R(8,$())}),e.TlvKeySetWriteRequest=I({groupKeySet:m(0,e.TlvGroupKeySet)}),e.TlvKeySetReadRequest=I({groupKeySetId:m(0,B)}),e.TlvKeySetReadResponse=I({groupKeySet:m(0,e.TlvGroupKeySet)}),e.TlvKeySetRemoveRequest=I({groupKeySetId:m(0,B)}),e.TlvKeySetReadAllIndicesResponse=I({groupKeySetIDs:m(0,Y(B))}),e.Base=h.Component({id:63,name:"GroupKeyManagement",revision:2,features:{cacheAndSync:M(0)},attributes:{groupKeyMap:Mc(0,Y(e.TlvGroupKeyMap),{persistent:!0,default:[],writeAcl:W.Manage}),groupTable:ca(1,Y(e.TlvGroupInfoMap),{default:[]}),maxGroupsPerFabric:me(2,B,{default:0}),maxGroupKeysPerFabric:me(3,B.bound({min:1}),{default:1})},commands:{keySetWrite:X(0,e.TlvKeySetWriteRequest,0,ne,{invokeAcl:W.Administer}),keySetRead:X(1,e.TlvKeySetReadRequest,2,e.TlvKeySetReadResponse,{invokeAcl:W.Administer}),keySetRemove:X(3,e.TlvKeySetRemoveRequest,3,ne,{invokeAcl:W.Administer}),keySetReadAllIndices:X(4,Fe,5,e.TlvKeySetReadAllIndicesResponse,{invokeAcl:W.Administer})},extensions:h.Extensions()}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(qa||(qa={}));var Nq=qa.Cluster;re.register(qa.Complete);var sd;(e=>{let t;(n=>{n.GroupNames="GroupNames"})(t=e.Feature||(e.Feature={})),e.NameSupportAttribute={nameSupport:M(7)},e.TlvAddGroupRequest=I({groupId:m(0,hn),groupName:m(1,Z.bound({maxLength:16}))}),e.TlvAddGroupResponse=I({status:m(0,$()),groupId:m(1,hn)}),e.TlvViewGroupRequest=I({groupId:m(0,hn)}),e.TlvViewGroupResponse=I({status:m(0,$()),groupId:m(1,hn),groupName:m(2,Z.bound({maxLength:16}))}),e.TlvGetGroupMembershipRequest=I({groupList:m(0,Y(hn))}),e.TlvGetGroupMembershipResponse=I({capacity:m(0,k(P)),groupList:m(1,Y(hn))}),e.TlvRemoveGroupRequest=I({groupId:m(0,hn)}),e.TlvRemoveGroupResponse=I({status:m(0,$()),groupId:m(1,hn)}),e.TlvAddGroupIfIdentifyingRequest=I({groupId:m(0,hn),groupName:m(1,Z.bound({maxLength:16}))}),e.NameSupport={groupNames:M(7)},e.Base=h.Component({id:4,name:"Groups",revision:4,features:{groupNames:M(0)},attributes:{nameSupport:me(0,Ie(P,e.NameSupportAttribute))},commands:{addGroup:X(0,e.TlvAddGroupRequest,0,e.TlvAddGroupResponse,{invokeAcl:W.Manage}),viewGroup:X(1,e.TlvViewGroupRequest,1,e.TlvViewGroupResponse),getGroupMembership:X(2,e.TlvGetGroupMembershipRequest,2,e.TlvGetGroupMembershipResponse),removeGroup:X(3,e.TlvRemoveGroupRequest,3,e.TlvRemoveGroupResponse,{invokeAcl:W.Manage}),removeAllGroups:X(4,Fe,4,ne,{invokeAcl:W.Manage}),addGroupIfIdentifying:X(5,e.TlvAddGroupIfIdentifyingRequest,5,ne,{invokeAcl:W.Manage})},extensions:h.Extensions()}),e.ClusterInstance=h({...e.Base,supportedFeatures:{groupNames:!0}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(sd||(sd={}));var Pq=sd.Cluster;re.register(sd.Complete);var cd;(e=>{e.Base={...Bs.Base,id:113,name:"HepaFilterMonitoring"},e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance,e.CompleteInstance=h({...Bs.Complete,id:113,name:"HepaFilterMonitoring"}),e.Complete=e.CompleteInstance})(cd||(cd={}));var kq=cd.Cluster;re.register(cd.Complete);var ld;(e=>{let t;(s=>{s.CheckInProtocolSupport="CheckInProtocolSupport",s.UserActiveModeTrigger="UserActiveModeTrigger",s.LongIdleTimeSupport="LongIdleTimeSupport"})(t=e.Feature||(e.Feature={})),e.TlvMonitoringRegistration=I({checkInNodeId:m(1,Ft),monitoredSubject:m(2,Fl),fabricIndex:m(254,Ut)}),e.TlvRegisterClientRequest=I({checkInNodeId:m(0,Ft),monitoredSubject:m(1,Fl),key:m(2,be.bound({length:16})),verificationKey:R(3,be.bound({length:16}))}),e.TlvRegisterClientResponse=I({icdCounter:m(0,ee)}),e.TlvUnregisterClientRequest=I({checkInNodeId:m(0,Ft),verificationKey:R(1,be.bound({length:16}))}),e.UserActiveModeTrigger={powerCycle:M(0),settingsMenu:M(1),customInstruction:M(2),deviceManual:M(3),actuateSensor:M(4),actuateSensorSeconds:M(5),actuateSensorTimes:M(6),actuateSensorLightsBlink:M(7),resetButton:M(8),resetButtonLightsBlink:M(9),resetButtonSeconds:M(10),resetButtonTimes:M(11),setupButton:M(12),setupButtonSeconds:M(13),setupButtonLightsBlink:M(14),setupButtonTimes:M(15),appDefinedButton:M(16)};let n;(s=>{s[s.Sit=0]="Sit",s[s.Lit=1]="Lit"})(n=e.OperatingMode||(e.OperatingMode={})),e.TlvStayActiveRequest=I({stayActiveDuration:m(0,ee)}),e.TlvStayActiveResponse=I({promisedActiveDuration:m(0,ee)}),e.CheckInProtocolSupportComponent=h.Component({attributes:{registeredClients:ca(3,Y(e.TlvMonitoringRegistration),{persistent:!0,default:[],readAcl:W.Administer,writeAcl:W.Administer}),icdCounter:V(4,ee,{persistent:!0,omitChanges:!0,default:0,readAcl:W.Administer,writeAcl:W.Administer}),clientsSupportedPerFabric:me(5,B.bound({min:1}),{default:1})},commands:{registerClient:X(0,e.TlvRegisterClientRequest,1,e.TlvRegisterClientResponse,{invokeAcl:W.Manage}),unregisterClient:X(2,e.TlvUnregisterClientRequest,2,ne,{invokeAcl:W.Manage})}}),e.UserActiveModeTriggerComponent=h.Component({attributes:{userActiveModeTriggerHint:me(6,Ie(ee,e.UserActiveModeTrigger))}}),e.LongIdleTimeSupportComponent=h.Component({attributes:{operatingMode:V(8,$())},commands:{stayActiveRequest:X(3,e.TlvStayActiveRequest,4,e.TlvStayActiveResponse)}}),e.Base=h.Component({id:70,name:"IcdManagement",revision:2,features:{checkInProtocolSupport:M(0),userActiveModeTrigger:M(1),longIdleTimeSupport:M(2)},attributes:{idleModeDuration:me(0,ee.bound({min:1,max:64800}),{default:1}),activeModeDuration:me(1,ee,{default:300}),activeModeThreshold:me(2,B,{default:300}),userActiveModeTriggerInstruction:Je(7,Z.bound({maxLength:128}),{default:""})},commands:{stayActiveRequest:wt(3,e.TlvStayActiveRequest,4,e.TlvStayActiveResponse)},extensions:h.Extensions({flags:{checkInProtocolSupport:!0},component:e.CheckInProtocolSupportComponent},{flags:{userActiveModeTrigger:!0},component:e.UserActiveModeTriggerComponent},{flags:{longIdleTimeSupport:!0},component:e.LongIdleTimeSupportComponent},{flags:{longIdleTimeSupport:!0,checkInProtocolSupport:!1},component:!1},{flags:{longIdleTimeSupport:!0,userActiveModeTrigger:!1},component:!1})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let i={checkInProtocolSupport:!0},r={userActiveModeTrigger:!0},a={longIdleTimeSupport:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,registeredClients:h.AsConditional(e.CheckInProtocolSupportComponent.attributes.registeredClients,{mandatoryIf:[i]}),icdCounter:h.AsConditional(e.CheckInProtocolSupportComponent.attributes.icdCounter,{mandatoryIf:[i]}),clientsSupportedPerFabric:h.AsConditional(e.CheckInProtocolSupportComponent.attributes.clientsSupportedPerFabric,{mandatoryIf:[i]}),userActiveModeTriggerHint:h.AsConditional(e.UserActiveModeTriggerComponent.attributes.userActiveModeTriggerHint,{mandatoryIf:[r]}),operatingMode:h.AsConditional(e.LongIdleTimeSupportComponent.attributes.operatingMode,{mandatoryIf:[a]})},commands:{...e.Cluster.commands,registerClient:h.AsConditional(e.CheckInProtocolSupportComponent.commands.registerClient,{mandatoryIf:[i]}),unregisterClient:h.AsConditional(e.CheckInProtocolSupportComponent.commands.unregisterClient,{mandatoryIf:[i]}),stayActiveRequest:h.AsConditional(e.LongIdleTimeSupportComponent.commands.stayActiveRequest,{mandatoryIf:[a]})}}),e.Complete=e.CompleteInstance})(ld||(ld={}));var Fq=ld.Cluster;re.register(ld.Complete);var qs;(e=>{let t;(r=>{r[r.None=0]="None",r[r.LightOutput=1]="LightOutput",r[r.VisibleIndicator=2]="VisibleIndicator",r[r.AudibleBeep=3]="AudibleBeep",r[r.Display=4]="Display",r[r.Actuator=5]="Actuator"})(t=e.IdentifyType||(e.IdentifyType={})),e.TlvIdentifyRequest=I({identifyTime:m(0,B)});let n;(r=>{r[r.Blink=0]="Blink",r[r.Breathe=1]="Breathe",r[r.Okay=2]="Okay",r[r.ChannelChange=11]="ChannelChange",r[r.FinishEffect=254]="FinishEffect",r[r.StopEffect=255]="StopEffect"})(n=e.EffectIdentifier||(e.EffectIdentifier={}));let i;(r=>{r[r.Default=0]="Default"})(i=e.EffectVariant||(e.EffectVariant={})),e.TlvTriggerEffectRequest=I({effectIdentifier:m(0,$()),effectVariant:m(1,$())}),e.ClusterInstance=h({id:3,name:"Identify",revision:4,attributes:{identifyTime:He(0,B,{default:0}),identifyType:V(1,$())},commands:{identify:X(0,e.TlvIdentifyRequest,0,ne,{invokeAcl:W.Manage}),triggerEffect:wt(64,e.TlvTriggerEffectRequest,64,ne,{invokeAcl:W.Manage})}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(qs||(qs={}));var Lq=qs.Cluster;re.register(qs.Complete);var dd;(e=>{let t;(n=>{n[n.Photodiode=0]="Photodiode",n[n.Cmos=1]="Cmos"})(t=e.LightSensorType||(e.LightSensorType={})),e.ClusterInstance=h({id:1024,name:"IlluminanceMeasurement",revision:3,attributes:{measuredValue:V(0,k(B),{default:0}),minMeasuredValue:V(1,k(B.bound({min:1}))),maxMeasuredValue:V(2,k(B.bound({max:65534}))),tolerance:ye(3,B.bound({max:2048})),lightSensorType:ye(4,k(P),{default:null})}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(dd||(dd={}));var Bq=dd.Cluster;re.register(dd.Complete);var ud;(e=>{let t;(r=>{r.NavigationKeyCodes="NavigationKeyCodes",r.LocationKeys="LocationKeys",r.NumberKeys="NumberKeys"})(t=e.Feature||(e.Feature={}));let n;(r=>{r[r.Select=0]="Select",r[r.Up=1]="Up",r[r.Down=2]="Down",r[r.Left=3]="Left",r[r.Right=4]="Right",r[r.RightUp=5]="RightUp",r[r.RightDown=6]="RightDown",r[r.LeftUp=7]="LeftUp",r[r.LeftDown=8]="LeftDown",r[r.RootMenu=9]="RootMenu",r[r.SetupMenu=10]="SetupMenu",r[r.ContentsMenu=11]="ContentsMenu",r[r.FavoriteMenu=12]="FavoriteMenu",r[r.Exit=13]="Exit",r[r.MediaTopMenu=16]="MediaTopMenu",r[r.MediaContextSensitiveMenu=17]="MediaContextSensitiveMenu",r[r.NumberEntryMode=29]="NumberEntryMode",r[r.Number11=30]="Number11",r[r.Number12=31]="Number12",r[r.Number0OrNumber10=32]="Number0OrNumber10",r[r.Numbers1=33]="Numbers1",r[r.Numbers2=34]="Numbers2",r[r.Numbers3=35]="Numbers3",r[r.Numbers4=36]="Numbers4",r[r.Numbers5=37]="Numbers5",r[r.Numbers6=38]="Numbers6",r[r.Numbers7=39]="Numbers7",r[r.Numbers8=40]="Numbers8",r[r.Numbers9=41]="Numbers9",r[r.Dot=42]="Dot",r[r.Enter=43]="Enter",r[r.Clear=44]="Clear",r[r.NextFavorite=47]="NextFavorite",r[r.ChannelUp=48]="ChannelUp",r[r.ChannelDown=49]="ChannelDown",r[r.PreviousChannel=50]="PreviousChannel",r[r.SoundSelect=51]="SoundSelect",r[r.InputSelect=52]="InputSelect",r[r.DisplayInformation=53]="DisplayInformation",r[r.Help=54]="Help",r[r.PageUp=55]="PageUp",r[r.PageDown=56]="PageDown",r[r.Power=64]="Power",r[r.VolumeUp=65]="VolumeUp",r[r.VolumeDown=66]="VolumeDown",r[r.Mute=67]="Mute",r[r.Play=68]="Play",r[r.Stop=69]="Stop",r[r.Pause=70]="Pause",r[r.Record=71]="Record",r[r.Rewind=72]="Rewind",r[r.FastForward=73]="FastForward",r[r.Eject=74]="Eject",r[r.Forward=75]="Forward",r[r.Backward=76]="Backward",r[r.StopRecord=77]="StopRecord",r[r.PauseRecord=78]="PauseRecord",r[r.Angle=80]="Angle",r[r.SubPicture=81]="SubPicture",r[r.VideoOnDemand=82]="VideoOnDemand",r[r.ElectronicProgramGuide=83]="ElectronicProgramGuide",r[r.TimerProgramming=84]="TimerProgramming",r[r.InitialConfiguration=85]="InitialConfiguration",r[r.SelectBroadcastType=86]="SelectBroadcastType",r[r.SelectSoundPresentation=87]="SelectSoundPresentation",r[r.PlayFunction=96]="PlayFunction",r[r.PausePlayFunction=97]="PausePlayFunction",r[r.RecordFunction=98]="RecordFunction",r[r.PauseRecordFunction=99]="PauseRecordFunction",r[r.StopFunction=100]="StopFunction",r[r.MuteFunction=101]="MuteFunction",r[r.RestoreVolumeFunction=102]="RestoreVolumeFunction",r[r.TuneFunction=103]="TuneFunction",r[r.SelectMediaFunction=104]="SelectMediaFunction",r[r.SelectAvInputFunction=105]="SelectAvInputFunction",r[r.SelectAudioInputFunction=106]="SelectAudioInputFunction",r[r.PowerToggleFunction=107]="PowerToggleFunction",r[r.PowerOffFunction=108]="PowerOffFunction",r[r.PowerOnFunction=109]="PowerOnFunction",r[r.F1Blue=113]="F1Blue",r[r.F2Red=114]="F2Red",r[r.F3Green=115]="F3Green",r[r.F4Yellow=116]="F4Yellow",r[r.F5=117]="F5",r[r.Data=118]="Data"})(n=e.CecKeyCode||(e.CecKeyCode={})),e.TlvSendKeyRequest=I({keyCode:m(0,$())});let i;(r=>{r[r.Success=0]="Success",r[r.UnsupportedKey=1]="UnsupportedKey",r[r.InvalidKeyInCurrentState=2]="InvalidKeyInCurrentState"})(i=e.Status||(e.Status={})),e.TlvSendKeyResponse=I({status:m(0,$())}),e.Base=h.Component({id:1289,name:"KeypadInput",revision:1,features:{navigationKeyCodes:M(0),locationKeys:M(1),numberKeys:M(2)},commands:{sendKey:X(0,e.TlvSendKeyRequest,1,e.TlvSendKeyResponse)},extensions:h.Extensions()}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(ud||(ud={}));var Uq=ud.Cluster;re.register(ud.Complete);var md;(e=>{let t;(n=>{n[n.Low=0]="Low",n[n.Normal=1]="Normal",n[n.Extra=2]="Extra",n[n.Max=3]="Max"})(t=e.DrynessLevel||(e.DrynessLevel={})),e.ClusterInstance=h({id:74,name:"LaundryDryerControls",revision:1,attributes:{supportedDrynessLevels:He(0,Y($(),{minLength:1,maxLength:4})),selectedDrynessLevel:He(1,k($()))}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(md||(md={}));var Vq=md.Cluster;re.register(md.Complete);var hd;(e=>{let t;(a=>{a.Spin="Spin",a.Rinse="Rinse"})(t=e.Feature||(e.Feature={}));let n;(a=>{a[a.None=0]="None",a[a.Normal=1]="Normal",a[a.Extra=2]="Extra",a[a.Max=3]="Max"})(n=e.NumberOfRinses||(e.NumberOfRinses={})),e.SpinComponent=h.Component({attributes:{spinSpeeds:V(0,Y(Z,{maxLength:16}),{default:[]}),spinSpeedCurrent:He(1,k(P.bound({max:15})))}}),e.RinseComponent=h.Component({attributes:{numberOfRinses:He(2,$(),{default:1}),supportedRinses:V(3,Y($(),{maxLength:4}),{default:[]})}}),e.Base=h.Component({id:83,name:"LaundryWasherControls",revision:1,features:{spin:M(0),rinse:M(1)},extensions:h.Extensions({flags:{spin:!0},component:e.SpinComponent},{flags:{rinse:!0},component:e.RinseComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let i={spin:!0},r={rinse:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{spinSpeeds:h.AsConditional(e.SpinComponent.attributes.spinSpeeds,{mandatoryIf:[i]}),spinSpeedCurrent:h.AsConditional(e.SpinComponent.attributes.spinSpeedCurrent,{mandatoryIf:[i]}),numberOfRinses:h.AsConditional(e.RinseComponent.attributes.numberOfRinses,{mandatoryIf:[r]}),supportedRinses:h.AsConditional(e.RinseComponent.attributes.supportedRinses,{mandatoryIf:[r]})}}),e.Complete=e.CompleteInstance})(hd||(hd={}));var qq=hd.Cluster;re.register(hd.Complete);var fd;(e=>{let t;(i=>{i.OnOff="OnOff"})(t=e.Feature||(e.Feature={}));let n;(i=>{i[i.Normal=16384]="Normal",i[i.Delicate=16385]="Delicate",i[i.Heavy=16386]="Heavy",i[i.Whites=16387]="Whites"})(n=e.ModeTag||(e.ModeTag={})),e.Base=h.Component({id:81,name:"LaundryWasherMode",revision:2,features:{onOff:M(0)},attributes:{supportedModes:me(0,Y(In.TlvModeOption,{minLength:2,maxLength:255}),{default:[]}),currentMode:V(1,P,{scene:!0,persistent:!0}),startUpMode:He(2,P,{persistent:!0}),onMode:He(3,P,{persistent:!0})},commands:{changeToMode:X(0,In.TlvChangeToModeRequest,0,ne)},extensions:h.Extensions()}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(fd||(fd={}));var _q=fd.Cluster;re.register(fd.Complete);var Bi;(e=>{let t;(s=>{s.OnOff="OnOff",s.Lighting="Lighting",s.Frequency="Frequency"})(t=e.Feature||(e.Feature={})),e.TlvMoveToClosestFrequencyRequest=I({frequency:m(0,B)}),e.Options={executeIfOff:M(0),coupleColorTempToLevel:M(1)},e.TlvMoveToLevelRequest=I({level:m(0,P.bound({max:254})),transitionTime:m(1,k(B)),optionsMask:m(2,Ie(P,e.Options)),optionsOverride:m(3,Ie(P,e.Options))});let n;(s=>{s[s.Up=0]="Up",s[s.Down=1]="Down"})(n=e.MoveMode||(e.MoveMode={})),e.TlvMoveRequest=I({moveMode:m(0,$()),rate:m(1,k(P)),optionsMask:m(2,Ie(P,e.Options)),optionsOverride:m(3,Ie(P,e.Options))});let i;(s=>{s[s.Up=0]="Up",s[s.Down=1]="Down"})(i=e.StepMode||(e.StepMode={})),e.TlvStepRequest=I({stepMode:m(0,$()),stepSize:m(1,P),transitionTime:m(2,k(B)),optionsMask:m(3,Ie(P,e.Options)),optionsOverride:m(4,Ie(P,e.Options))}),e.TlvStopRequest=I({optionsMask:m(0,Ie(P,e.Options)),optionsOverride:m(1,Ie(P,e.Options))}),e.LightingComponent=h.Component({attributes:{remainingTime:V(1,B,{default:0}),minLevel:ye(2,P.bound({min:1}),{default:1}),startUpCurrentLevel:He(16384,k(P),{persistent:!0,writeAcl:W.Manage})}}),e.NotLightingComponent=h.Component({attributes:{minLevel:ye(2,P,{default:0})}}),e.FrequencyComponent=h.Component({attributes:{currentFrequency:V(4,B,{scene:!0,default:0}),minFrequency:V(5,B,{default:0}),maxFrequency:V(6,B,{default:0})},commands:{moveToClosestFrequency:X(8,e.TlvMoveToClosestFrequencyRequest,8,ne)}}),e.Base=h.Component({id:8,name:"LevelControl",revision:5,features:{onOff:M(0),lighting:M(1),frequency:M(2)},attributes:{currentLevel:V(0,k(P),{scene:!0,persistent:!0,default:null}),maxLevel:ye(3,P.bound({max:254}),{default:254}),options:He(15,Ie(P,e.Options)),onOffTransitionTime:_e(16,B,{default:0}),onLevel:He(17,k(P),{default:null}),onTransitionTime:_e(18,k(B),{default:null}),offTransitionTime:_e(19,k(B),{default:null}),defaultMoveRate:_e(20,k(P))},commands:{moveToLevel:X(0,e.TlvMoveToLevelRequest,0,ne),move:X(1,e.TlvMoveRequest,1,ne),step:X(2,e.TlvStepRequest,2,ne),stop:X(3,e.TlvStopRequest,3,ne),moveToLevelWithOnOff:X(4,e.TlvMoveToLevelRequest,4,ne),moveWithOnOff:X(5,e.TlvMoveRequest,5,ne),stepWithOnOff:X(6,e.TlvStepRequest,6,ne),stopWithOnOff:X(7,e.TlvStopRequest,7,ne)},extensions:h.Extensions({flags:{lighting:!0},component:e.LightingComponent},{flags:{lighting:!1},component:e.NotLightingComponent},{flags:{frequency:!0},component:e.FrequencyComponent})}),e.ClusterInstance=h({...e.Base,supportedFeatures:{onOff:!0},base:yt(e.Base)},e.NotLightingComponent),e.Cluster=e.ClusterInstance;let r={lighting:!0},a={frequency:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,remainingTime:h.AsConditional(e.LightingComponent.attributes.remainingTime,{mandatoryIf:[r]}),minLevel:h.AsConditional(e.LightingComponent.attributes.minLevel,{optionalIf:[r]}),currentFrequency:h.AsConditional(e.FrequencyComponent.attributes.currentFrequency,{mandatoryIf:[a]}),minFrequency:h.AsConditional(e.FrequencyComponent.attributes.minFrequency,{mandatoryIf:[a]}),maxFrequency:h.AsConditional(e.FrequencyComponent.attributes.maxFrequency,{mandatoryIf:[a]}),startUpCurrentLevel:h.AsConditional(e.LightingComponent.attributes.startUpCurrentLevel,{mandatoryIf:[r]})},commands:{...e.Cluster.commands,moveToClosestFrequency:h.AsConditional(e.FrequencyComponent.commands.moveToClosestFrequency,{mandatoryIf:[a]})}}),e.Complete=e.CompleteInstance})(Bi||(Bi={}));var $q=Bi.Cluster;re.register(Bi.Complete);var pd;(e=>{e.ClusterInstance=h({id:43,name:"LocalizationConfiguration",revision:1,attributes:{activeLocale:He(0,Z.bound({maxLength:35}),{persistent:!0,writeAcl:W.Manage}),supportedLocales:me(1,Y(Z,{maxLength:32}),{default:[]})}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(pd||(pd={}));var Wq=pd.Cluster;re.register(pd.Complete);var yd;(e=>{e.ClusterInstance=h({id:1288,name:"LowPower",revision:1,commands:{sleep:X(0,Fe,0,ne)}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(yd||(yd={}));var Hq=yd.Cluster;re.register(yd.Complete);var gd;(e=>{let t;(r=>{r.NameUpdates="NameUpdates"})(t=e.Feature||(e.Feature={})),e.TlvRenameInputRequest=I({index:m(0,P),name:m(1,Z)});let n;(r=>{r[r.Internal=0]="Internal",r[r.Aux=1]="Aux",r[r.Coax=2]="Coax",r[r.Composite=3]="Composite",r[r.Hdmi=4]="Hdmi",r[r.Input=5]="Input",r[r.Line=6]="Line",r[r.Optical=7]="Optical",r[r.Video=8]="Video",r[r.Scart=9]="Scart",r[r.Usb=10]="Usb",r[r.Other=11]="Other"})(n=e.InputType||(e.InputType={})),e.TlvInputInfo=I({index:m(0,P),inputType:m(1,$()),name:m(2,Z),description:m(3,Z)}),e.TlvSelectInputRequest=I({index:m(0,P)}),e.NameUpdatesComponent=h.Component({commands:{renameInput:X(3,e.TlvRenameInputRequest,3,ne,{invokeAcl:W.Manage})}}),e.Base=h.Component({id:1287,name:"MediaInput",revision:1,features:{nameUpdates:M(0)},attributes:{inputList:V(0,Y(e.TlvInputInfo),{default:[]}),currentInput:V(1,P)},commands:{selectInput:X(0,e.TlvSelectInputRequest,0,ne),showInputStatus:X(1,Fe,1,ne),hideInputStatus:X(2,Fe,2,ne)},extensions:h.Extensions({flags:{nameUpdates:!0},component:e.NameUpdatesComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let i={nameUpdates:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:e.Cluster.attributes,commands:{...e.Cluster.commands,renameInput:h.AsConditional(e.NameUpdatesComponent.commands.renameInput,{mandatoryIf:[i]})}}),e.Complete=e.CompleteInstance})(gd||(gd={}));var jq=gd.Cluster;re.register(gd.Complete);var vd;(e=>{let t;(d=>{d.AdvancedSeek="AdvancedSeek",d.VariableSpeed="VariableSpeed",d.TextTracks="TextTracks",d.AudioTracks="AudioTracks",d.AudioAdvance="AudioAdvance"})(t=e.Feature||(e.Feature={})),e.TlvPlaybackPosition=I({updatedAt:m(0,ki),position:m(1,k(nt))}),e.TlvSeekRequest=I({position:m(0,nt)});let n;(d=>{d[d.Success=0]="Success",d[d.InvalidStateForCommand=1]="InvalidStateForCommand",d[d.NotAllowed=2]="NotAllowed",d[d.NotActive=3]="NotActive",d[d.SpeedOutOfRange=4]="SpeedOutOfRange",d[d.SeekOutOfRange=5]="SeekOutOfRange"})(n=e.Status||(e.Status={})),e.TlvPlaybackResponse=I({status:m(0,$()),data:R(1,Z)});let i;(d=>{d[d.ForcedSubtitles=0]="ForcedSubtitles",d[d.DescribesVideo=1]="DescribesVideo",d[d.EasyToRead=2]="EasyToRead",d[d.FrameBased=3]="FrameBased",d[d.MainProgram=4]="MainProgram",d[d.OriginalContent=5]="OriginalContent",d[d.VoiceOverTranslation=6]="VoiceOverTranslation",d[d.Caption=7]="Caption",d[d.Subtitle=8]="Subtitle",d[d.Alternate=9]="Alternate",d[d.Supplementary=10]="Supplementary",d[d.Commentary=11]="Commentary",d[d.DubbedTranslation=12]="DubbedTranslation",d[d.Description=13]="Description",d[d.Metadata=14]="Metadata",d[d.EnhancedAudioIntelligibility=15]="EnhancedAudioIntelligibility",d[d.Emergency=16]="Emergency",d[d.Karaoke=17]="Karaoke"})(i=e.Characteristic||(e.Characteristic={})),e.TlvTrackAttributes=I({languageCode:m(0,Z.bound({maxLength:32})),characteristics:R(1,k(Y($()))),displayName:R(2,k(Z.bound({maxLength:256})))}),e.TlvTrack=I({id:m(0,Z.bound({maxLength:32})),trackAttributes:m(1,e.TlvTrackAttributes)}),e.TlvActivateAudioTrackRequest=I({trackId:m(0,Z.bound({maxLength:32})),audioOutputIndex:R(1,k(P))}),e.TlvActivateTextTrackRequest=I({trackId:m(0,Z.bound({maxLength:32}))}),e.TlvRewindRequest=I({audioAdvanceUnmuted:R(0,Ae)}),e.TlvFastForwardRequest=I({audioAdvanceUnmuted:R(0,Ae)});let r;(d=>{d[d.Playing=0]="Playing",d[d.Paused=1]="Paused",d[d.NotPlaying=2]="NotPlaying",d[d.Buffering=3]="Buffering"})(r=e.PlaybackState||(e.PlaybackState={})),e.TlvSkipForwardRequest=I({deltaPositionMilliseconds:m(0,nt)}),e.TlvSkipBackwardRequest=I({deltaPositionMilliseconds:m(0,nt)}),e.TlvStateChangedEvent=I({currentState:m(0,$()),startTime:R(1,ki),duration:R(2,nt),sampledPosition:R(3,e.TlvPlaybackPosition),playbackSpeed:R(4,Ua),seekRangeEnd:R(5,nt),seekRangeStart:R(6,nt),data:R(7,be.bound({maxLength:900})),audioAdvanceUnmuted:R(8,Ae)}),e.AdvancedSeekComponent=h.Component({attributes:{startTime:V(1,k(ki),{default:null}),duration:V(2,k(nt),{default:null}),sampledPosition:V(3,k(e.TlvPlaybackPosition),{default:null}),playbackSpeed:V(4,Ua,{default:0}),seekRangeEnd:V(5,k(nt),{default:null}),seekRangeStart:V(6,k(nt),{default:null})},commands:{seek:X(11,e.TlvSeekRequest,10,e.TlvPlaybackResponse)}}),e.AudioTracksComponent=h.Component({attributes:{activeAudioTrack:V(7,k(e.TlvTrack),{default:null}),availableAudioTracks:V(8,k(Y(e.TlvTrack)),{default:null})},commands:{activateAudioTrack:X(12,e.TlvActivateAudioTrackRequest,12,ne)}}),e.TextTracksComponent=h.Component({attributes:{activeTextTrack:V(9,k(e.TlvTrack),{default:null}),availableTextTracks:V(10,k(Y(e.TlvTrack)),{default:null})},commands:{activateTextTrack:X(13,e.TlvActivateTextTrackRequest,13,ne),deactivateTextTrack:X(14,Fe,14,ne)}}),e.VariableSpeedComponent=h.Component({commands:{rewind:X(6,e.TlvRewindRequest,10,e.TlvPlaybackResponse),fastForward:X(7,e.TlvFastForwardRequest,10,e.TlvPlaybackResponse)}}),e.Base=h.Component({id:1286,name:"MediaPlayback",revision:2,features:{advancedSeek:M(0),variableSpeed:M(1),textTracks:M(2),audioTracks:M(3),audioAdvance:M(4)},attributes:{currentState:V(0,$())},commands:{play:X(0,Fe,10,e.TlvPlaybackResponse),pause:X(1,Fe,10,e.TlvPlaybackResponse),stop:X(2,Fe,10,e.TlvPlaybackResponse),startOver:wt(3,Fe,10,e.TlvPlaybackResponse),previous:wt(4,Fe,10,e.TlvPlaybackResponse),next:wt(5,Fe,10,e.TlvPlaybackResponse),skipForward:wt(8,e.TlvSkipForwardRequest,10,e.TlvPlaybackResponse),skipBackward:wt(9,e.TlvSkipBackwardRequest,10,e.TlvPlaybackResponse)},events:{stateChanged:ct(0,Te.Info,e.TlvStateChangedEvent)},extensions:h.Extensions({flags:{advancedSeek:!0},component:e.AdvancedSeekComponent},{flags:{audioTracks:!0},component:e.AudioTracksComponent},{flags:{textTracks:!0},component:e.TextTracksComponent},{flags:{variableSpeed:!0},component:e.VariableSpeedComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let a={advancedSeek:!0},s={audioTracks:!0},c={textTracks:!0},l={variableSpeed:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,startTime:h.AsConditional(e.AdvancedSeekComponent.attributes.startTime,{mandatoryIf:[a]}),duration:h.AsConditional(e.AdvancedSeekComponent.attributes.duration,{mandatoryIf:[a]}),sampledPosition:h.AsConditional(e.AdvancedSeekComponent.attributes.sampledPosition,{mandatoryIf:[a]}),playbackSpeed:h.AsConditional(e.AdvancedSeekComponent.attributes.playbackSpeed,{mandatoryIf:[a]}),seekRangeEnd:h.AsConditional(e.AdvancedSeekComponent.attributes.seekRangeEnd,{mandatoryIf:[a]}),seekRangeStart:h.AsConditional(e.AdvancedSeekComponent.attributes.seekRangeStart,{mandatoryIf:[a]}),activeAudioTrack:h.AsConditional(e.AudioTracksComponent.attributes.activeAudioTrack,{mandatoryIf:[s]}),availableAudioTracks:h.AsConditional(e.AudioTracksComponent.attributes.availableAudioTracks,{mandatoryIf:[s]}),activeTextTrack:h.AsConditional(e.TextTracksComponent.attributes.activeTextTrack,{mandatoryIf:[c]}),availableTextTracks:h.AsConditional(e.TextTracksComponent.attributes.availableTextTracks,{mandatoryIf:[c]})},commands:{...e.Cluster.commands,rewind:h.AsConditional(e.VariableSpeedComponent.commands.rewind,{mandatoryIf:[l]}),fastForward:h.AsConditional(e.VariableSpeedComponent.commands.fastForward,{mandatoryIf:[l]}),seek:h.AsConditional(e.AdvancedSeekComponent.commands.seek,{mandatoryIf:[a]}),activateAudioTrack:h.AsConditional(e.AudioTracksComponent.commands.activateAudioTrack,{mandatoryIf:[s]}),activateTextTrack:h.AsConditional(e.TextTracksComponent.commands.activateTextTrack,{mandatoryIf:[c]}),deactivateTextTrack:h.AsConditional(e.TextTracksComponent.commands.deactivateTextTrack,{mandatoryIf:[c]})},events:e.Cluster.events}),e.Complete=e.CompleteInstance})(vd||(vd={}));var Gq=vd.Cluster;re.register(vd.Complete);var bd;(e=>{let t;(r=>{r.ReceivedConfirmation="ReceivedConfirmation",r.ConfirmationResponse="ConfirmationResponse",r.ConfirmationReply="ConfirmationReply",r.ProtectedMessages="ProtectedMessages"})(t=e.Feature||(e.Feature={}));let n;(r=>{r[r.Low=0]="Low",r[r.Medium=1]="Medium",r[r.High=2]="High",r[r.Critical=3]="Critical"})(n=e.MessagePriority||(e.MessagePriority={})),e.MessageControl={confirmationRequired:M(0),responseRequired:M(1),replyMessage:M(2),messageConfirmed:M(3),messageProtected:M(4)},e.TlvMessageResponseOption=I({messageResponseId:m(0,ee.bound({min:1})),label:m(1,Z.bound({maxLength:32}))}),e.TlvMessage=I({messageId:m(0,be.bound({length:16})),priority:m(1,$()),messageControl:m(2,Ie(B,e.MessageControl)),startTime:m(3,k(Nt)),duration:m(4,k(nt)),messageText:m(5,Z.bound({maxLength:256})),responses:R(6,Y(e.TlvMessageResponseOption,{maxLength:4})),fabricIndex:m(254,Ut)}),e.TlvPresentMessagesRequest=I({messageId:m(0,be.bound({length:16})),priority:m(1,$()),messageControl:m(2,Ie(B,e.MessageControl)),startTime:m(3,k(Nt)),duration:m(4,k(nt)),messageText:m(5,Z.bound({maxLength:256})),responses:R(6,Y(e.TlvMessageResponseOption,{maxLength:4}))}),e.TlvCancelMessagesRequest=I({messageIDs:m(0,Y(be.bound({length:16}),{maxLength:8}))}),e.TlvMessageQueuedEvent=I({messageId:m(0,be.bound({length:16})),fabricIndex:m(254,Ut)}),e.TlvMessagePresentedEvent=I({messageId:m(0,be.bound({length:16})),fabricIndex:m(254,Ut)});let i;(r=>{r[r.Allowed=0]="Allowed",r[r.Increased=1]="Increased",r[r.Reduced=2]="Reduced",r[r.Disallowed=3]="Disallowed",r[r.Banned=4]="Banned"})(i=e.FutureMessagePreference||(e.FutureMessagePreference={})),e.TlvMessageCompleteEvent=I({messageId:m(0,be.bound({length:16})),responseId:R(1,k(ee)),reply:R(2,k(Z.bound({maxLength:256}))),futureMessagesPreference:m(3,k($())),fabricIndex:m(254,Ut)}),e.Base=h.Component({id:151,name:"Messages",revision:3,features:{receivedConfirmation:M(0),confirmationResponse:M(1),confirmationReply:M(2),protectedMessages:M(3)},attributes:{messages:ca(0,Y(e.TlvMessage,{maxLength:8}),{default:[]}),activeMessageIDs:V(1,Y(be.bound({length:16}),{maxLength:8}),{default:[]})},commands:{presentMessagesRequest:X(0,e.TlvPresentMessagesRequest,0,ne),cancelMessagesRequest:X(1,e.TlvCancelMessagesRequest,1,ne)},events:{messageQueued:it(0,Te.Info,e.TlvMessageQueuedEvent),messagePresented:it(1,Te.Info,e.TlvMessagePresentedEvent),messageComplete:it(2,Te.Info,e.TlvMessageCompleteEvent)},extensions:h.Extensions({flags:{confirmationResponse:!0,receivedConfirmation:!1},component:!1},{flags:{confirmationReply:!0,receivedConfirmation:!1},component:!1})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(bd||(bd={}));var zq=bd.Cluster;re.register(bd.Complete);var xd;(e=>{let t;(a=>{a.PowerAsNumber="PowerAsNumber",a.PowerInWatts="PowerInWatts",a.PowerNumberLimits="PowerNumberLimits"})(t=e.Feature||(e.Feature={})),e.TlvSetCookingParametersRequest=I({cookMode:R(0,P),cookTime:R(1,ee.bound({min:1})),powerSetting:R(2,P),wattSettingIndex:R(3,P),startAfterSetting:R(4,Ae)}),e.TlvAddMoreTimeRequest=I({timeToAdd:m(0,ee.bound({min:1}))}),e.PowerAsNumberComponent=h.Component({attributes:{powerSetting:V(2,P)}}),e.PowerNumberLimitsComponent=h.Component({attributes:{minPower:me(3,P.bound({min:1}),{default:10}),maxPower:me(4,P.bound({max:100}),{default:100}),powerStep:me(5,P,{default:10})}}),e.PowerInWattsComponent=h.Component({attributes:{supportedWatts:me(6,Y(B,{minLength:1,maxLength:10})),selectedWattIndex:V(7,P)}}),e.Base=h.Component({id:95,name:"MicrowaveOvenControl",revision:1,features:{powerAsNumber:M(0),powerInWatts:M(1),powerNumberLimits:M(2)},attributes:{cookTime:V(0,ee.bound({min:1}),{default:30}),maxCookTime:me(1,ee.bound({min:1,max:86400})),wattRating:Je(8,B)},commands:{setCookingParameters:X(0,e.TlvSetCookingParametersRequest,0,ne),addMoreTime:wt(1,e.TlvAddMoreTimeRequest,1,ne)},extensions:h.Extensions({flags:{powerAsNumber:!0},component:e.PowerAsNumberComponent},{flags:{powerNumberLimits:!0},component:e.PowerNumberLimitsComponent},{flags:{powerInWatts:!0},component:e.PowerInWattsComponent},{flags:{powerNumberLimits:!0,powerAsNumber:!1},component:!1},{flags:{powerAsNumber:!0,powerInWatts:!0},component:!1},{flags:{powerAsNumber:!1,powerInWatts:!1},component:!1})}),e.ClusterInstance=h.ExtensibleOnly(e.Base),e.Cluster=e.ClusterInstance;let n={powerAsNumber:!0},i={powerNumberLimits:!0},r={powerInWatts:!0};e.CompleteInstance=h({id:e.Base.id,name:e.Base.name,revision:e.Base.revision,features:e.Base.features,attributes:{...e.Base.attributes,powerSetting:h.AsConditional(e.PowerAsNumberComponent.attributes.powerSetting,{mandatoryIf:[n]}),minPower:h.AsConditional(e.PowerNumberLimitsComponent.attributes.minPower,{mandatoryIf:[i]}),maxPower:h.AsConditional(e.PowerNumberLimitsComponent.attributes.maxPower,{mandatoryIf:[i]}),powerStep:h.AsConditional(e.PowerNumberLimitsComponent.attributes.powerStep,{mandatoryIf:[i]}),supportedWatts:h.AsConditional(e.PowerInWattsComponent.attributes.supportedWatts,{mandatoryIf:[r]}),selectedWattIndex:h.AsConditional(e.PowerInWattsComponent.attributes.selectedWattIndex,{mandatoryIf:[r]})},commands:e.Base.commands}),e.Complete=e.CompleteInstance})(xd||(xd={}));var Kq=xd.Cluster;re.register(xd.Complete);var wd;(e=>{let t;(i=>{i.OnOff="OnOff"})(t=e.Feature||(e.Feature={}));let n;(i=>{i[i.Normal=16384]="Normal",i[i.Defrost=16385]="Defrost"})(n=e.ModeTag||(e.ModeTag={})),e.Base=h.Component({id:94,name:"MicrowaveOvenMode",revision:1,features:{onOff:M(0)},attributes:{supportedModes:me(0,Y(In.TlvModeOption,{minLength:2,maxLength:255}),{default:[]}),currentMode:V(1,P,{scene:!0,persistent:!0})},extensions:h.Extensions()}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(wd||(wd={}));var Xq=wd.Cluster;re.register(wd.Complete);var _a;(e=>{let t;(i=>{i.OnOff="OnOff"})(t=e.Feature||(e.Feature={})),e.TlvSemanticTag=I({mfgCode:m(0,zn),value:m(1,B)}),e.TlvModeOption=I({label:m(0,Z.bound({maxLength:64})),mode:m(1,P),semanticTags:m(2,Y(e.TlvSemanticTag,{maxLength:64}))}),e.TlvChangeToModeRequest=I({newMode:m(0,P)}),e.OnOffComponent=h.Component({attributes:{onMode:He(5,k(P),{persistent:!0,default:null})}}),e.Base=h.Component({id:80,name:"ModeSelect",revision:2,features:{onOff:M(0)},attributes:{description:me(0,Z.bound({maxLength:64})),standardNamespace:me(1,k(B),{default:null}),supportedModes:me(2,Y(e.TlvModeOption,{maxLength:255}),{default:[]}),currentMode:V(3,P,{scene:!0,persistent:!0}),startUpMode:_e(4,k(P),{persistent:!0})},commands:{changeToMode:X(0,e.TlvChangeToModeRequest,0,ne)},extensions:h.Extensions({flags:{onOff:!0},component:e.OnOffComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let n={onOff:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,onMode:h.AsConditional(e.OnOffComponent.attributes.onMode,{mandatoryIf:[n]})},commands:e.Cluster.commands}),e.Complete=e.CompleteInstance})(_a||(_a={}));var Yq=_a.Cluster;re.register(_a.Complete);var di;(e=>{let t;(s=>{s.WiFiNetworkInterface="WiFiNetworkInterface",s.ThreadNetworkInterface="ThreadNetworkInterface",s.EthernetNetworkInterface="EthernetNetworkInterface"})(t=e.Feature||(e.Feature={})),e.TlvScanNetworksRequest=I({ssid:R(0,k(be.bound({minLength:1,maxLength:32}))),breadcrumb:R(1,nt)});let n;(s=>{s[s.Success=0]="Success",s[s.OutOfRange=1]="OutOfRange",s[s.BoundsExceeded=2]="BoundsExceeded",s[s.NetworkIdNotFound=3]="NetworkIdNotFound",s[s.DuplicateNetworkId=4]="DuplicateNetworkId",s[s.NetworkNotFound=5]="NetworkNotFound",s[s.RegulatoryError=6]="RegulatoryError",s[s.AuthFailure=7]="AuthFailure",s[s.UnsupportedSecurity=8]="UnsupportedSecurity",s[s.OtherConnectionFailure=9]="OtherConnectionFailure",s[s.Ipv6Failed=10]="Ipv6Failed",s[s.IpBindFailed=11]="IpBindFailed",s[s.UnknownError=12]="UnknownError"})(n=e.NetworkCommissioningStatus||(e.NetworkCommissioningStatus={})),e.WiFiSecurity={unencrypted:M(0),wep:M(1),wpaPersonal:M(2),wpa2Personal:M(3),wpa3Personal:M(4)};let i;(s=>{s[s["2G4"]=0]="2G4",s[s["3G65"]=1]="3G65",s[s["5G"]=2]="5G",s[s["6G"]=3]="6G",s[s["60G"]=4]="60G",s[s["1G"]=5]="1G"})(i=e.WiFiBand||(e.WiFiBand={})),e.TlvWiFiInterfaceScanResult=I({security:R(0,Ie(P,e.WiFiSecurity)),ssid:R(1,be.bound({maxLength:32})),bssid:R(2,be.bound({length:6})),channel:R(3,B),wiFiBand:R(4,$()),rssi:R(5,$i)}),e.TlvThreadInterfaceScanResult=I({panId:R(0,B.bound({max:65534})),extendedPanId:R(1,nt),networkName:R(2,Z.bound({minLength:1,maxLength:16})),channel:R(3,B),version:R(4,P),extendedAddress:R(5,be),rssi:R(6,$i),lqi:R(7,P)}),e.TlvScanNetworksResponse=I({networkingStatus:m(0,$()),debugText:R(1,Z.bound({maxLength:512})),wiFiScanResults:R(2,Y(e.TlvWiFiInterfaceScanResult)),threadScanResults:R(3,Y(e.TlvThreadInterfaceScanResult))}),e.TlvRemoveNetworkRequest=I({networkId:m(0,be.bound({minLength:1,maxLength:32})),breadcrumb:R(1,nt)}),e.TlvNetworkConfigResponse=I({networkingStatus:m(0,$()),debugText:R(1,Z.bound({maxLength:512})),networkIndex:R(2,P)}),e.TlvConnectNetworkRequest=I({networkId:m(0,be.bound({minLength:1,maxLength:32})),breadcrumb:R(1,nt)}),e.TlvConnectNetworkResponse=I({networkingStatus:m(0,$()),debugText:R(1,Z),errorValue:m(2,k(oa))}),e.TlvReorderNetworkRequest=I({networkId:m(0,be.bound({minLength:1,maxLength:32})),networkIndex:m(1,P),breadcrumb:R(2,nt)}),e.TlvAddOrUpdateWiFiNetworkRequest=I({ssid:m(0,be.bound({maxLength:32})),credentials:m(1,be.bound({maxLength:64})),breadcrumb:R(2,nt)}),e.ThreadCapabilities={isBorderRouterCapable:M(0),isRouterCapable:M(1),isSleepyEndDeviceCapable:M(2),isFullThreadDevice:M(3),isSynchronizedSleepyEndDeviceCapable:M(4)},e.TlvAddOrUpdateThreadNetworkRequest=I({operationalDataset:m(0,be.bound({maxLength:254})),breadcrumb:R(1,nt)}),e.TlvNetworkInfo=I({networkId:m(0,be.bound({minLength:1,maxLength:32})),connected:m(1,Ae)}),e.WiFiNetworkInterfaceOrThreadNetworkInterfaceComponent=h.Component({attributes:{scanMaxTimeSeconds:me(2,P),connectMaxTimeSeconds:me(3,P)},commands:{scanNetworks:X(0,e.TlvScanNetworksRequest,1,e.TlvScanNetworksResponse,{invokeAcl:W.Administer}),removeNetwork:X(4,e.TlvRemoveNetworkRequest,5,e.TlvNetworkConfigResponse,{invokeAcl:W.Administer}),connectNetwork:X(6,e.TlvConnectNetworkRequest,7,e.TlvConnectNetworkResponse,{invokeAcl:W.Administer}),reorderNetwork:X(8,e.TlvReorderNetworkRequest,5,e.TlvNetworkConfigResponse,{invokeAcl:W.Administer})}}),e.WiFiNetworkInterfaceComponent=h.Component({attributes:{supportedWiFiBands:me(8,Y($(),{minLength:1}))},commands:{addOrUpdateWiFiNetwork:X(2,e.TlvAddOrUpdateWiFiNetworkRequest,5,e.TlvNetworkConfigResponse,{invokeAcl:W.Administer})}}),e.ThreadNetworkInterfaceComponent=h.Component({attributes:{supportedThreadFeatures:me(9,Ie(B,e.ThreadCapabilities)),threadVersion:me(10,B)},commands:{addOrUpdateThreadNetwork:X(3,e.TlvAddOrUpdateThreadNetworkRequest,5,e.TlvNetworkConfigResponse,{invokeAcl:W.Administer})}}),e.Base=h.Component({id:49,name:"NetworkCommissioning",revision:2,features:{wiFiNetworkInterface:M(0),threadNetworkInterface:M(1),ethernetNetworkInterface:M(2)},attributes:{maxNetworks:me(0,P.bound({min:1}),{readAcl:W.Administer,writeAcl:W.Administer}),networks:V(1,Y(e.TlvNetworkInfo),{default:[],readAcl:W.Administer,writeAcl:W.Administer}),interfaceEnabled:He(4,Ae,{persistent:!0,default:!0,writeAcl:W.Administer}),lastNetworkingStatus:V(5,k($()),{default:null,readAcl:W.Administer,writeAcl:W.Administer}),lastNetworkId:V(6,k(be.bound({minLength:1,maxLength:32})),{default:null,readAcl:W.Administer,writeAcl:W.Administer}),lastConnectErrorValue:V(7,k(oa),{default:null,readAcl:W.Administer,writeAcl:W.Administer})},extensions:h.Extensions({flags:{wiFiNetworkInterface:!0},component:e.WiFiNetworkInterfaceOrThreadNetworkInterfaceComponent},{flags:{threadNetworkInterface:!0},component:e.WiFiNetworkInterfaceOrThreadNetworkInterfaceComponent},{flags:{wiFiNetworkInterface:!0},component:e.WiFiNetworkInterfaceComponent},{flags:{threadNetworkInterface:!0},component:e.ThreadNetworkInterfaceComponent},{flags:{wiFiNetworkInterface:!0,threadNetworkInterface:!0},component:!1},{flags:{wiFiNetworkInterface:!0,ethernetNetworkInterface:!0},component:!1},{flags:{threadNetworkInterface:!0,ethernetNetworkInterface:!0},component:!1},{flags:{wiFiNetworkInterface:!1,threadNetworkInterface:!1,ethernetNetworkInterface:!1},component:!1})}),e.ClusterInstance=h.ExtensibleOnly(e.Base),e.Cluster=e.ClusterInstance;let r={wiFiNetworkInterface:!0},a={threadNetworkInterface:!0};e.CompleteInstance=h({id:e.Base.id,name:e.Base.name,revision:e.Base.revision,features:e.Base.features,attributes:{...e.Base.attributes,scanMaxTimeSeconds:h.AsConditional(e.WiFiNetworkInterfaceOrThreadNetworkInterfaceComponent.attributes.scanMaxTimeSeconds,{mandatoryIf:[r,a]}),connectMaxTimeSeconds:h.AsConditional(e.WiFiNetworkInterfaceOrThreadNetworkInterfaceComponent.attributes.connectMaxTimeSeconds,{mandatoryIf:[r,a]}),supportedWiFiBands:h.AsConditional(e.WiFiNetworkInterfaceComponent.attributes.supportedWiFiBands,{mandatoryIf:[r]}),supportedThreadFeatures:h.AsConditional(e.ThreadNetworkInterfaceComponent.attributes.supportedThreadFeatures,{mandatoryIf:[a]}),threadVersion:h.AsConditional(e.ThreadNetworkInterfaceComponent.attributes.threadVersion,{mandatoryIf:[a]})},commands:{scanNetworks:h.AsConditional(e.WiFiNetworkInterfaceOrThreadNetworkInterfaceComponent.commands.scanNetworks,{mandatoryIf:[r,a]}),addOrUpdateWiFiNetwork:h.AsConditional(e.WiFiNetworkInterfaceComponent.commands.addOrUpdateWiFiNetwork,{mandatoryIf:[r]}),addOrUpdateThreadNetwork:h.AsConditional(e.ThreadNetworkInterfaceComponent.commands.addOrUpdateThreadNetwork,{mandatoryIf:[a]}),removeNetwork:h.AsConditional(e.WiFiNetworkInterfaceOrThreadNetworkInterfaceComponent.commands.removeNetwork,{mandatoryIf:[r,a]}),connectNetwork:h.AsConditional(e.WiFiNetworkInterfaceOrThreadNetworkInterfaceComponent.commands.connectNetwork,{mandatoryIf:[r,a]}),reorderNetwork:h.AsConditional(e.WiFiNetworkInterfaceOrThreadNetworkInterfaceComponent.commands.reorderNetwork,{mandatoryIf:[r,a]})}}),e.Complete=e.CompleteInstance})(di||(di={}));var Zq=di.Cluster;re.register(di.Complete);var Td;(e=>{e.Base={...gn.Base,id:1043,name:"NitrogenDioxideConcentrationMeasurement"},e.ClusterInstance=h.ExtensibleOnly(e.Base),e.Cluster=e.ClusterInstance,e.CompleteInstance=h({...gn.Complete,id:1043,name:"NitrogenDioxideConcentrationMeasurement"}),e.Complete=e.CompleteInstance})(Td||(Td={}));var Qq=Td.Cluster;re.register(Td.Complete);var $a;(e=>{e.Occupancy={occupied:M(0)};let t;(n=>{n[n.Pir=0]="Pir",n[n.Ultrasonic=1]="Ultrasonic",n[n.PirAndUltrasonic=2]="PirAndUltrasonic",n[n.PhysicalContact=3]="PhysicalContact"})(t=e.OccupancySensorType||(e.OccupancySensorType={})),e.OccupancySensorTypeBitmap={pir:M(0),ultrasonic:M(1),physicalContact:M(2)},e.ClusterInstance=h({id:1030,name:"OccupancySensing",revision:4,attributes:{occupancy:V(0,Ie(P,e.Occupancy)),occupancySensorType:V(1,$()),occupancySensorTypeBitmap:V(2,Ie(P,e.OccupancySensorTypeBitmap)),pirOccupiedToUnoccupiedDelay:_e(16,B,{default:0,writeAcl:W.Manage}),pirUnoccupiedToOccupiedDelay:_e(17,B,{default:0,writeAcl:W.Manage}),pirUnoccupiedToOccupiedThreshold:_e(18,P.bound({min:1,max:254}),{default:1,writeAcl:W.Manage}),ultrasonicOccupiedToUnoccupiedDelay:_e(32,B,{default:0,writeAcl:W.Manage}),ultrasonicUnoccupiedToOccupiedDelay:_e(33,B,{default:0,writeAcl:W.Manage}),ultrasonicUnoccupiedToOccupiedThreshold:_e(34,P.bound({min:1,max:254}),{default:1,writeAcl:W.Manage}),physicalContactOccupiedToUnoccupiedDelay:_e(48,B,{default:0,writeAcl:W.Manage}),physicalContactUnoccupiedToOccupiedDelay:_e(49,B,{default:0,writeAcl:W.Manage}),physicalContactUnoccupiedToOccupiedThreshold:_e(50,P.bound({min:1,max:254}),{default:1,writeAcl:W.Manage})}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})($a||($a={}));var Jq=$a.Cluster;re.register($a.Complete);var uo;(e=>{let t;(c=>{c.Lighting="Lighting",c.DeadFrontBehavior="DeadFrontBehavior",c.OffOnly="OffOnly"})(t=e.Feature||(e.Feature={}));let n;(c=>{c[c.Off=0]="Off",c[c.On=1]="On",c[c.Toggle=2]="Toggle"})(n=e.StartUpOnOff||(e.StartUpOnOff={}));let i;(c=>{c[c.DelayedAllOff=0]="DelayedAllOff",c[c.DyingLight=1]="DyingLight"})(i=e.EffectIdentifier||(e.EffectIdentifier={})),e.TlvOffWithEffectRequest=I({effectIdentifier:m(0,$()),effectVariant:m(1,P)}),e.OnOffControl={acceptOnlyWhenOn:M(0)},e.TlvOnWithTimedOffRequest=I({onOffControl:m(0,Ie(P,e.OnOffControl)),onTime:m(1,B.bound({max:65534})),offWaitTime:m(2,B.bound({max:65534}))});let r;(c=>{c[c.DelayedOffFastFade=0]="DelayedOffFastFade",c[c.NoFade=1]="NoFade",c[c.DelayedOffSlowFade=2]="DelayedOffSlowFade"})(r=e.DelayedAllOffEffectVariant||(e.DelayedAllOffEffectVariant={}));let a;(c=>{c[c.DyingLightFadeOff=0]="DyingLightFadeOff"})(a=e.DyingLightEffectVariant||(e.DyingLightEffectVariant={})),e.LightingComponent=h.Component({attributes:{globalSceneControl:V(16384,Ae,{default:!0}),onTime:He(16385,B,{default:0}),offWaitTime:He(16386,B,{default:0}),startUpOnOff:He(16387,k($()),{persistent:!0,writeAcl:W.Manage})},commands:{offWithEffect:X(64,e.TlvOffWithEffectRequest,64,ne),onWithRecallGlobalScene:X(65,Fe,65,ne),onWithTimedOff:X(66,e.TlvOnWithTimedOffRequest,66,ne)}}),e.NotOffOnlyComponent=h.Component({commands:{on:X(1,Fe,1,ne),toggle:X(2,Fe,2,ne)}}),e.Base=h.Component({id:6,name:"OnOff",revision:6,features:{lighting:M(0),deadFrontBehavior:M(1),offOnly:M(2)},attributes:{onOff:V(0,Ae,{scene:!0,persistent:!0,default:!1})},commands:{off:X(0,Fe,0,ne)},extensions:h.Extensions({flags:{lighting:!0},component:e.LightingComponent},{flags:{offOnly:!1},component:e.NotOffOnlyComponent},{flags:{lighting:!0,offOnly:!0},component:!1},{flags:{deadFrontBehavior:!0,offOnly:!0},component:!1},{flags:{offOnly:!0,lighting:!1,deadFrontBehavior:!0},component:!1})}),e.ClusterInstance=h({...e.Base,base:yt(e.Base)},e.NotOffOnlyComponent),e.Cluster=e.ClusterInstance;let s={lighting:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,globalSceneControl:h.AsConditional(e.LightingComponent.attributes.globalSceneControl,{mandatoryIf:[s]}),onTime:h.AsConditional(e.LightingComponent.attributes.onTime,{mandatoryIf:[s]}),offWaitTime:h.AsConditional(e.LightingComponent.attributes.offWaitTime,{mandatoryIf:[s]}),startUpOnOff:h.AsConditional(e.LightingComponent.attributes.startUpOnOff,{mandatoryIf:[s]})},commands:{...e.Cluster.commands,on:h.AsConditional(e.NotOffOnlyComponent.commands.on,{mandatoryIf:[]}),toggle:h.AsConditional(e.NotOffOnlyComponent.commands.toggle,{mandatoryIf:[]}),offWithEffect:h.AsConditional(e.LightingComponent.commands.offWithEffect,{mandatoryIf:[s]}),onWithRecallGlobalScene:h.AsConditional(e.LightingComponent.commands.onWithRecallGlobalScene,{mandatoryIf:[s]}),onWithTimedOff:h.AsConditional(e.LightingComponent.commands.onWithTimedOff,{mandatoryIf:[s]})}}),e.Complete=e.CompleteInstance})(uo||(uo={}));var e_=uo.Cluster;re.register(uo.Complete);function Cd(e){return vl(e)}var Sd=new rn(nt,e=>e,e=>Cd(e));var fn;(e=>{e.TlvNoc=I({noc:m(1,be.bound({maxLength:400})),icac:m(2,k(be.bound({maxLength:400}))),fabricIndex:m(254,Ut)}),e.TlvFabricDescriptor=I({rootPublicKey:m(1,be.bound({length:65})),vendorId:m(2,zn),fabricId:m(3,Sd),nodeId:m(4,Ft),label:m(5,Z.bound({maxLength:32})),fabricIndex:m(254,Ut)}),e.TlvAttestationRequest=I({attestationNonce:m(0,be.bound({length:32}))}),e.TlvAttestationResponse=I({attestationElements:m(0,be.bound({maxLength:900})),attestationSignature:m(1,be.bound({length:64}))});let t;(i=>{i[i.DacCertificate=1]="DacCertificate",i[i.PaiCertificate=2]="PaiCertificate"})(t=e.CertificateChainType||(e.CertificateChainType={})),e.TlvCertificateChainRequest=I({certificateType:m(0,$())}),e.TlvCertificateChainResponse=I({certificate:m(0,be.bound({maxLength:600}))}),e.TlvCsrRequest=I({csrNonce:m(0,be.bound({length:32})),isForUpdateNoc:R(1,Ae)}),e.TlvCsrResponse=I({nocsrElements:m(0,be.bound({maxLength:900})),attestationSignature:m(1,be.bound({length:64}))}),e.TlvAddNocRequest=I({nocValue:m(0,be.bound({maxLength:400})),icacValue:R(1,be.bound({maxLength:400})),ipkValue:m(2,be.bound({length:16})),caseAdminSubject:m(3,Fl),adminVendorId:m(4,zn)});let n;(i=>{i[i.Ok=0]="Ok",i[i.InvalidPublicKey=1]="InvalidPublicKey",i[i.InvalidNodeOpId=2]="InvalidNodeOpId",i[i.InvalidNoc=3]="InvalidNoc",i[i.MissingCsr=4]="MissingCsr",i[i.TableFull=5]="TableFull",i[i.InvalidAdminSubject=6]="InvalidAdminSubject",i[i.FabricConflict=9]="FabricConflict",i[i.LabelConflict=10]="LabelConflict",i[i.InvalidFabricIndex=11]="InvalidFabricIndex"})(n=e.NodeOperationalCertStatus||(e.NodeOperationalCertStatus={})),e.TlvNocResponse=I({statusCode:m(0,$()),fabricIndex:R(1,Ut),debugText:R(2,Z.bound({maxLength:128}))}),e.TlvUpdateNocRequest=I({nocValue:m(0,be.bound({maxLength:400})),icacValue:R(1,be.bound({maxLength:400})),fabricIndex:m(254,Ut)}),e.TlvUpdateFabricLabelRequest=I({label:m(0,Z.bound({maxLength:32})),fabricIndex:m(254,Ut)}),e.TlvRemoveFabricRequest=I({fabricIndex:m(0,Ut)}),e.TlvAddTrustedRootCertificateRequest=I({rootCaCertificate:m(0,be.bound({maxLength:400}))}),e.ClusterInstance=h({id:62,name:"OperationalCredentials",revision:1,attributes:{nocs:ca(0,Y(e.TlvNoc),{persistent:!0,omitChanges:!0,default:[],readAcl:W.Administer,writeAcl:W.Administer}),fabrics:ca(1,Y(e.TlvFabricDescriptor),{persistent:!0,default:[]}),supportedFabrics:me(2,P.bound({min:5,max:254})),commissionedFabrics:V(3,P,{persistent:!0}),trustedRootCertificates:V(4,Y(be),{persistent:!0,omitChanges:!0,default:[]}),currentFabricIndex:V(5,Ut,{default:Jn(0)})},commands:{attestationRequest:X(0,e.TlvAttestationRequest,1,e.TlvAttestationResponse,{invokeAcl:W.Administer}),certificateChainRequest:X(2,e.TlvCertificateChainRequest,3,e.TlvCertificateChainResponse,{invokeAcl:W.Administer}),csrRequest:X(4,e.TlvCsrRequest,5,e.TlvCsrResponse,{invokeAcl:W.Administer}),addNoc:X(6,e.TlvAddNocRequest,8,e.TlvNocResponse,{invokeAcl:W.Administer}),updateNoc:X(7,e.TlvUpdateNocRequest,8,e.TlvNocResponse,{invokeAcl:W.Administer}),updateFabricLabel:X(9,e.TlvUpdateFabricLabelRequest,8,e.TlvNocResponse,{invokeAcl:W.Administer}),removeFabric:X(10,e.TlvRemoveFabricRequest,8,e.TlvNocResponse,{invokeAcl:W.Administer}),addTrustedRootCertificate:X(11,e.TlvAddTrustedRootCertificateRequest,11,ne,{invokeAcl:W.Administer})}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(fn||(fn={}));var t_=fn.Cluster;re.register(fn.Complete);var Hi;(e=>{e.TlvOperationalStateStruct=I({operationalStateId:m(0,P),operationalStateLabel:R(1,Z.bound({maxLength:64}))}),e.TlvErrorState=I({errorStateId:m(0,P),errorStateLabel:R(1,Z.bound({maxLength:64})),errorStateDetails:R(2,Z.bound({maxLength:64}))}),e.TlvOperationalCommandResponse=I({commandResponseState:m(0,e.TlvErrorState)}),e.TlvOperationalErrorEvent=I({errorState:m(0,e.TlvErrorState)}),e.TlvOperationCompletionEvent=I({completionErrorCode:m(0,P),totalOperationalTime:R(1,k(ee)),pausedTime:R(2,k(ee))});let t;(n=>{n[n.NoError=0]="NoError",n[n.UnableToStartOrResume=1]="UnableToStartOrResume",n[n.UnableToCompleteOperation=2]="UnableToCompleteOperation",n[n.CommandInvalidInState=3]="CommandInvalidInState"})(t=e.GeneralErrorState||(e.GeneralErrorState={})),e.ClusterInstance=h({id:96,name:"OperationalState",revision:2,attributes:{phaseList:V(0,k(Y(Z,{maxLength:32}))),currentPhase:V(1,k(P)),countdownTime:ye(2,k(ee.bound({max:259200})),{omitChanges:!0,default:null}),operationalStateList:V(3,Y(e.TlvOperationalStateStruct),{default:[]}),operationalState:V(4,P),operationalError:V(5,e.TlvErrorState)},commands:{pause:wt(0,Fe,4,e.TlvOperationalCommandResponse),stop:wt(1,Fe,4,e.TlvOperationalCommandResponse),start:wt(2,Fe,4,e.TlvOperationalCommandResponse),resume:wt(3,Fe,4,e.TlvOperationalCommandResponse)},events:{operationalError:it(0,Te.Critical,e.TlvOperationalErrorEvent),operationCompletion:ct(1,Te.Info,e.TlvOperationCompletionEvent)}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(Hi||(Hi={}));var n_=Hi.Cluster;re.register(Hi.Complete);var fp;(e=>{let t;(r=>{r[r.BdxSynchronous=0]="BdxSynchronous",r[r.BdxAsynchronous=1]="BdxAsynchronous",r[r.Https=2]="Https",r[r.VendorSpecific=3]="VendorSpecific"})(t=e.DownloadProtocol||(e.DownloadProtocol={})),e.TlvQueryImageRequest=I({vendorId:m(0,zn),productId:m(1,B),softwareVersion:m(2,ee),protocolsSupported:m(3,Y($(),{maxLength:8})),hardwareVersion:R(4,B),location:R(5,Z.bound({length:2})),requestorCanConsent:R(6,Ae),metadataForProvider:R(7,be.bound({maxLength:512}))});let n;(r=>{r[r.UpdateAvailable=0]="UpdateAvailable",r[r.Busy=1]="Busy",r[r.NotAvailable=2]="NotAvailable",r[r.DownloadProtocolNotSupported=3]="DownloadProtocolNotSupported"})(n=e.Status||(e.Status={})),e.TlvQueryImageResponse=I({status:m(0,$()),delayedActionTime:R(1,ee),imageUri:R(2,Z.bound({maxLength:256})),softwareVersion:R(3,ee),softwareVersionString:R(4,Z.bound({minLength:1,maxLength:64})),updateToken:R(5,be.bound({minLength:8,maxLength:32})),userConsentNeeded:R(6,Ae),metadataForRequestor:R(7,be.bound({maxLength:512}))}),e.TlvApplyUpdateRequest=I({updateToken:m(0,be.bound({minLength:8,maxLength:32})),newVersion:m(1,ee)});let i;(r=>{r[r.Proceed=0]="Proceed",r[r.AwaitNextAction=1]="AwaitNextAction",r[r.Discontinue=2]="Discontinue"})(i=e.ApplyUpdateAction||(e.ApplyUpdateAction={})),e.TlvApplyUpdateResponse=I({action:m(0,$()),delayedActionTime:m(1,ee)}),e.TlvNotifyUpdateAppliedRequest=I({updateToken:m(0,be.bound({minLength:8,maxLength:32})),softwareVersion:m(1,ee)}),e.ClusterInstance=h({id:41,name:"OtaSoftwareUpdateProvider",revision:1,commands:{queryImage:X(0,e.TlvQueryImageRequest,1,e.TlvQueryImageResponse),applyUpdateRequest:X(2,e.TlvApplyUpdateRequest,3,e.TlvApplyUpdateResponse),notifyUpdateApplied:X(4,e.TlvNotifyUpdateAppliedRequest,4,ne)}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(fp||(fp={}));var i_=fp.Cluster;re.register(fp.Complete);var pp;(e=>{e.TlvProviderLocation=I({providerNodeId:m(1,Ft),endpoint:m(2,yn),fabricIndex:m(254,Ut)});let t;(r=>{r[r.Unknown=0]="Unknown",r[r.Idle=1]="Idle",r[r.Querying=2]="Querying",r[r.DelayedOnQuery=3]="DelayedOnQuery",r[r.Downloading=4]="Downloading",r[r.Applying=5]="Applying",r[r.DelayedOnApply=6]="DelayedOnApply",r[r.RollingBack=7]="RollingBack",r[r.DelayedOnUserConsent=8]="DelayedOnUserConsent"})(t=e.UpdateState||(e.UpdateState={}));let n;(r=>{r[r.SimpleAnnouncement=0]="SimpleAnnouncement",r[r.UpdateAvailable=1]="UpdateAvailable",r[r.UrgentUpdateAvailable=2]="UrgentUpdateAvailable"})(n=e.AnnouncementReason||(e.AnnouncementReason={})),e.TlvAnnounceOtaProviderRequest=I({providerNodeId:m(0,Ft),vendorId:m(1,zn),announcementReason:m(2,$()),metadataForNode:R(3,be.bound({maxLength:512})),endpoint:m(4,yn),fabricIndex:m(254,Ut)});let i;(r=>{r[r.Unknown=0]="Unknown",r[r.Success=1]="Success",r[r.Failure=2]="Failure",r[r.TimeOut=3]="TimeOut",r[r.DelayByProvider=4]="DelayByProvider"})(i=e.ChangeReason||(e.ChangeReason={})),e.TlvStateTransitionEvent=I({previousState:m(0,$()),newState:m(1,$()),reason:m(2,$()),targetSoftwareVersion:m(3,k(ee))}),e.TlvVersionAppliedEvent=I({softwareVersion:m(0,ee),productId:m(1,B)}),e.TlvDownloadErrorEvent=I({softwareVersion:m(0,ee),bytesDownloaded:m(1,nt),progressPercent:m(2,k(P.bound({max:100}))),platformCode:m(3,k(vt))}),e.ClusterInstance=h({id:42,name:"OtaSoftwareUpdateRequestor",revision:1,attributes:{defaultOtaProviders:Mc(0,Y(e.TlvProviderLocation),{default:[],writeAcl:W.Administer}),updatePossible:V(1,Ae,{default:!0}),updateState:V(2,$(),{default:0}),updateStateProgress:V(3,k(P.bound({max:100})),{default:null})},commands:{announceOtaProvider:wt(0,e.TlvAnnounceOtaProviderRequest,0,ne,{invokeAcl:W.Administer})},events:{stateTransition:it(0,Te.Info,e.TlvStateTransitionEvent),versionApplied:it(1,Te.Critical,e.TlvVersionAppliedEvent),downloadError:it(2,Te.Info,e.TlvDownloadErrorEvent)}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(pp||(pp={}));var r_=pp.Cluster;re.register(pp.Complete);var Id;(e=>{e.ClusterInstance=h({id:72,name:"OvenCavityOperationalState",revision:1,attributes:{phaseList:V(0,k(Y(Z,{maxLength:32}))),currentPhase:V(1,k(P)),countdownTime:ye(2,k(ee.bound({max:259200})),{omitChanges:!0,default:null}),operationalStateList:V(3,Y(Hi.TlvOperationalStateStruct),{default:[]}),operationalState:V(4,P),operationalError:V(5,Hi.TlvErrorState)},commands:{pause:wt(0,Fe,0,ne),stop:wt(1,Fe,1,ne),start:wt(2,Fe,2,ne),resume:wt(3,Fe,3,ne)},events:{operationalError:it(0,Te.Critical,Hi.TlvOperationalErrorEvent),operationCompletion:ct(1,Te.Info,Hi.TlvOperationCompletionEvent)}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(Id||(Id={}));var o_=Id.Cluster;re.register(Id.Complete);var Ad;(e=>{let t;(r=>{r.OnOff="OnOff"})(t=e.Feature||(e.Feature={}));let n;(r=>{r[r.Bake=16384]="Bake",r[r.Convection=16385]="Convection",r[r.Grill=16386]="Grill",r[r.Roast=16387]="Roast",r[r.Clean=16388]="Clean",r[r.ConvectionBake=16389]="ConvectionBake",r[r.ConvectionRoast=16390]="ConvectionRoast",r[r.Warming=16391]="Warming",r[r.Proofing=16392]="Proofing",r[r.Steam=16393]="Steam"})(n=e.ModeTag||(e.ModeTag={})),e.OnOffComponent=h.Component({attributes:{onMode:He(3,k(P),{persistent:!0,default:null})}}),e.Base=h.Component({id:73,name:"OvenMode",revision:1,features:{onOff:M(0)},attributes:{supportedModes:me(0,Y(In.TlvModeOption,{minLength:2,maxLength:255})),currentMode:V(1,P,{scene:!0,persistent:!0}),startUpMode:_e(2,k(P),{persistent:!0})},commands:{changeToMode:X(0,In.TlvChangeToModeRequest,0,ne)},extensions:h.Extensions({flags:{onOff:!0},component:e.OnOffComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let i={onOff:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,onMode:h.AsConditional(e.OnOffComponent.attributes.onMode,{mandatoryIf:[i]})},commands:e.Cluster.commands}),e.Complete=e.CompleteInstance})(Ad||(Ad={}));var a_=Ad.Cluster;re.register(Ad.Complete);var Md;(e=>{e.Base={...gn.Base,id:1045,name:"OzoneConcentrationMeasurement"},e.ClusterInstance=h.ExtensibleOnly(e.Base),e.Cluster=e.ClusterInstance,e.CompleteInstance=h({...gn.Complete,id:1045,name:"OzoneConcentrationMeasurement"}),e.Complete=e.CompleteInstance})(Md||(Md={}));var s_=Md.Cluster;re.register(Md.Complete);var Ed;(e=>{e.Base={...gn.Base,id:1069,name:"Pm10ConcentrationMeasurement"},e.ClusterInstance=h.ExtensibleOnly(e.Base),e.Cluster=e.ClusterInstance,e.CompleteInstance=h({...gn.Complete,id:1069,name:"Pm10ConcentrationMeasurement"}),e.Complete=e.CompleteInstance})(Ed||(Ed={}));var c_=Ed.Cluster;re.register(Ed.Complete);var Od;(e=>{e.Base={...gn.Base,id:1068,name:"Pm1ConcentrationMeasurement"},e.ClusterInstance=h.ExtensibleOnly(e.Base),e.Cluster=e.ClusterInstance,e.CompleteInstance=h({...gn.Complete,id:1068,name:"Pm1ConcentrationMeasurement"}),e.Complete=e.CompleteInstance})(Od||(Od={}));var l_=Od.Cluster;re.register(Od.Complete);var Dd;(e=>{e.Base={...gn.Base,id:1066,name:"Pm25ConcentrationMeasurement"},e.ClusterInstance=h.ExtensibleOnly(e.Base),e.Cluster=e.ClusterInstance,e.CompleteInstance=h({...gn.Complete,id:1066,name:"Pm25ConcentrationMeasurement"}),e.Complete=e.CompleteInstance})(Dd||(Dd={}));var d_=Dd.Cluster;re.register(Dd.Complete);var Rd;(e=>{let t;(y=>{y.Wired="Wired",y.Battery="Battery",y.Rechargeable="Rechargeable",y.Replaceable="Replaceable"})(t=e.Feature||(e.Feature={}));let n;(y=>{y[y.Ac=0]="Ac",y[y.Dc=1]="Dc"})(n=e.WiredCurrentType||(e.WiredCurrentType={}));let i;(y=>{y[y.Unspecified=0]="Unspecified",y[y.OverVoltage=1]="OverVoltage",y[y.UnderVoltage=2]="UnderVoltage"})(i=e.WiredFault||(e.WiredFault={})),e.TlvWiredFaultChangeEvent=I({current:m(0,Y($(),{maxLength:8})),previous:m(1,Y($(),{maxLength:8}))});let r;(y=>{y[y.Ok=0]="Ok",y[y.Warning=1]="Warning",y[y.Critical=2]="Critical"})(r=e.BatChargeLevel||(e.BatChargeLevel={}));let a;(y=>{y[y.Unspecified=0]="Unspecified",y[y.NotReplaceable=1]="NotReplaceable",y[y.UserReplaceable=2]="UserReplaceable",y[y.FactoryReplaceable=3]="FactoryReplaceable"})(a=e.BatReplaceability||(e.BatReplaceability={}));let s;(y=>{y[y.Unspecified=0]="Unspecified",y[y.OverTemp=1]="OverTemp",y[y.UnderTemp=2]="UnderTemp"})(s=e.BatFault||(e.BatFault={})),e.TlvBatFaultChangeEvent=I({current:m(0,Y($(),{maxLength:8})),previous:m(1,Y($(),{maxLength:8}))});let c;(y=>{y[y.Unspecified=0]="Unspecified",y[y.Aaa=1]="Aaa",y[y.Aa=2]="Aa",y[y.C=3]="C",y[y.D=4]="D",y[y["4V5"]=5]="4V5",y[y["6V0"]=6]="6V0",y[y["9V0"]=7]="9V0",y[y["12Aa"]=8]="12Aa",y[y.Aaaa=9]="Aaaa",y[y.A=10]="A",y[y.B=11]="B",y[y.F=12]="F",y[y.N=13]="N",y[y.No6=14]="No6",y[y.SubC=15]="SubC",y[y.A23=16]="A23",y[y.A27=17]="A27",y[y.Ba5800=18]="Ba5800",y[y.Duplex=19]="Duplex",y[y["4Sr44"]=20]="4Sr44",y[y.E523=21]="E523",y[y.E531=22]="E531",y[y["15V0"]=23]="15V0",y[y["22V5"]=24]="22V5",y[y["30V0"]=25]="30V0",y[y["45V0"]=26]="45V0",y[y["67V5"]=27]="67V5",y[y.J=28]="J",y[y.Cr123A=29]="Cr123A",y[y.Cr2=30]="Cr2",y[y["2Cr5"]=31]="2Cr5",y[y.CrP2=32]="CrP2",y[y.CrV3=33]="CrV3",y[y.Sr41=34]="Sr41",y[y.Sr43=35]="Sr43",y[y.Sr44=36]="Sr44",y[y.Sr45=37]="Sr45",y[y.Sr48=38]="Sr48",y[y.Sr54=39]="Sr54",y[y.Sr55=40]="Sr55",y[y.Sr57=41]="Sr57",y[y.Sr58=42]="Sr58",y[y.Sr59=43]="Sr59",y[y.Sr60=44]="Sr60",y[y.Sr63=45]="Sr63",y[y.Sr64=46]="Sr64",y[y.Sr65=47]="Sr65",y[y.Sr66=48]="Sr66",y[y.Sr67=49]="Sr67",y[y.Sr68=50]="Sr68",y[y.Sr69=51]="Sr69",y[y.Sr516=52]="Sr516",y[y.Sr731=53]="Sr731",y[y.Sr712=54]="Sr712",y[y.Lr932=55]="Lr932",y[y.A5=56]="A5",y[y.A10=57]="A10",y[y.A13=58]="A13",y[y.A312=59]="A312",y[y.A675=60]="A675",y[y.Ac41E=61]="Ac41E",y[y.E10180=62]="E10180",y[y.E10280=63]="E10280",y[y.E10440=64]="E10440",y[y.E14250=65]="E14250",y[y.E14430=66]="E14430",y[y.E14500=67]="E14500",y[y.E14650=68]="E14650",y[y.E15270=69]="E15270",y[y.E16340=70]="E16340",y[y.Rcr123A=71]="Rcr123A",y[y.E17500=72]="E17500",y[y.E17670=73]="E17670",y[y.E18350=74]="E18350",y[y.E18500=75]="E18500",y[y.E18650=76]="E18650",y[y.E19670=77]="E19670",y[y.E25500=78]="E25500",y[y.E26650=79]="E26650",y[y.E32600=80]="E32600"})(c=e.BatCommonDesignation||(e.BatCommonDesignation={}));let l;(y=>{y[y.Unspecified=0]="Unspecified",y[y.Alkaline=1]="Alkaline",y[y.LithiumCarbonFluoride=2]="LithiumCarbonFluoride",y[y.LithiumChromiumOxide=3]="LithiumChromiumOxide",y[y.LithiumCopperOxide=4]="LithiumCopperOxide",y[y.LithiumIronDisulfide=5]="LithiumIronDisulfide",y[y.LithiumManganeseDioxide=6]="LithiumManganeseDioxide",y[y.LithiumThionylChloride=7]="LithiumThionylChloride",y[y.Magnesium=8]="Magnesium",y[y.MercuryOxide=9]="MercuryOxide",y[y.NickelOxyhydride=10]="NickelOxyhydride",y[y.SilverOxide=11]="SilverOxide",y[y.ZincAir=12]="ZincAir",y[y.ZincCarbon=13]="ZincCarbon",y[y.ZincChloride=14]="ZincChloride",y[y.ZincManganeseDioxide=15]="ZincManganeseDioxide",y[y.LeadAcid=16]="LeadAcid",y[y.LithiumCobaltOxide=17]="LithiumCobaltOxide",y[y.LithiumIon=18]="LithiumIon",y[y.LithiumIonPolymer=19]="LithiumIonPolymer",y[y.LithiumIronPhosphate=20]="LithiumIronPhosphate",y[y.LithiumSulfur=21]="LithiumSulfur",y[y.LithiumTitanate=22]="LithiumTitanate",y[y.NickelCadmium=23]="NickelCadmium",y[y.NickelHydrogen=24]="NickelHydrogen",y[y.NickelIron=25]="NickelIron",y[y.NickelMetalHydride=26]="NickelMetalHydride",y[y.NickelZinc=27]="NickelZinc",y[y.SilverZinc=28]="SilverZinc",y[y.SodiumIon=29]="SodiumIon",y[y.SodiumSulfur=30]="SodiumSulfur",y[y.ZincBromide=31]="ZincBromide",y[y.ZincCerium=32]="ZincCerium"})(l=e.BatApprovedChemistry||(e.BatApprovedChemistry={}));let d;(y=>{y[y.Unknown=0]="Unknown",y[y.IsCharging=1]="IsCharging",y[y.IsAtFullCharge=2]="IsAtFullCharge",y[y.IsNotCharging=3]="IsNotCharging"})(d=e.BatChargeState||(e.BatChargeState={}));let f;(y=>{y[y.Unspecified=0]="Unspecified",y[y.AmbientTooHot=1]="AmbientTooHot",y[y.AmbientTooCold=2]="AmbientTooCold",y[y.BatteryTooHot=3]="BatteryTooHot",y[y.BatteryTooCold=4]="BatteryTooCold",y[y.BatteryAbsent=5]="BatteryAbsent",y[y.BatteryOverVoltage=6]="BatteryOverVoltage",y[y.BatteryUnderVoltage=7]="BatteryUnderVoltage",y[y.ChargerOverVoltage=8]="ChargerOverVoltage",y[y.ChargerUnderVoltage=9]="ChargerUnderVoltage",y[y.SafetyTimeout=10]="SafetyTimeout"})(f=e.BatChargeFault||(e.BatChargeFault={})),e.TlvBatChargeFaultChangeEvent=I({current:m(0,Y($(),{maxLength:16})),previous:m(1,Y($(),{maxLength:16}))});let g;(y=>{y[y.Unspecified=0]="Unspecified",y[y.Active=1]="Active",y[y.Standby=2]="Standby",y[y.Unavailable=3]="Unavailable"})(g=e.PowerSourceStatus||(e.PowerSourceStatus={})),e.WiredComponent=h.Component({attributes:{wiredAssessedInputVoltage:ye(3,k(ee),{omitChanges:!0}),wiredAssessedInputFrequency:ye(4,k(B),{omitChanges:!0}),wiredCurrentType:me(5,$()),wiredAssessedCurrent:ye(6,k(ee),{omitChanges:!0}),wiredNominalVoltage:Je(7,ee),wiredMaximumCurrent:Je(8,ee),wiredPresent:ye(9,Ae),activeWiredFaults:ye(10,Y($(),{maxLength:8}),{default:[]})},events:{wiredFaultChange:ct(0,Te.Info,e.TlvWiredFaultChangeEvent)}}),e.BatteryComponent=h.Component({attributes:{batVoltage:ye(11,k(ee),{omitChanges:!0}),batPercentRemaining:ye(12,k(P.bound({max:200})),{omitChanges:!0}),batTimeRemaining:ye(13,k(ee),{omitChanges:!0}),batChargeLevel:V(14,$()),batReplacementNeeded:V(15,Ae),batReplaceability:me(16,$()),batPresent:ye(17,Ae),activeBatFaults:ye(18,Y($(),{maxLength:8}),{default:[]})},events:{batFaultChange:ct(1,Te.Info,e.TlvBatFaultChangeEvent)}}),e.ReplaceableComponent=h.Component({attributes:{batReplacementDescription:me(19,Z.bound({maxLength:60})),batCommonDesignation:Je(20,$()),batAnsiDesignation:Je(21,Z.bound({maxLength:20})),batIecDesignation:Je(22,Z.bound({maxLength:20})),batApprovedChemistry:Je(23,$()),batQuantity:me(25,P)}}),e.ReplaceableOrRechargeableComponent=h.Component({attributes:{batCapacity:Je(24,ee)}}),e.RechargeableComponent=h.Component({attributes:{batChargeState:V(26,$()),batTimeToFullCharge:ye(27,k(ee),{omitChanges:!0}),batFunctionalWhileCharging:V(28,Ae),batChargingCurrent:ye(29,k(ee),{omitChanges:!0}),activeBatChargeFaults:ye(30,Y($(),{maxLength:16}),{default:[]})},events:{batChargeFaultChange:ct(2,Te.Info,e.TlvBatChargeFaultChangeEvent)}}),e.Base=h.Component({id:47,name:"PowerSource",revision:2,features:{wired:M(0),battery:M(1),rechargeable:M(2),replaceable:M(3)},attributes:{status:V(0,$()),order:V(1,P,{persistent:!0}),description:me(2,Z.bound({maxLength:60})),endpointList:V(31,Y(yn),{default:[]})},extensions:h.Extensions({flags:{wired:!0},component:e.WiredComponent},{flags:{battery:!0},component:e.BatteryComponent},{flags:{replaceable:!0},component:e.ReplaceableComponent},{flags:{replaceable:!0},component:e.ReplaceableOrRechargeableComponent},{flags:{rechargeable:!0},component:e.ReplaceableOrRechargeableComponent},{flags:{rechargeable:!0},component:e.RechargeableComponent},{flags:{rechargeable:!0,battery:!1},component:!1},{flags:{replaceable:!0,battery:!1},component:!1})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let b={wired:!0},w={battery:!0},O={replaceable:!0},D={rechargeable:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,wiredAssessedInputVoltage:h.AsConditional(e.WiredComponent.attributes.wiredAssessedInputVoltage,{optionalIf:[b]}),wiredAssessedInputFrequency:h.AsConditional(e.WiredComponent.attributes.wiredAssessedInputFrequency,{optionalIf:[b]}),wiredCurrentType:h.AsConditional(e.WiredComponent.attributes.wiredCurrentType,{mandatoryIf:[b]}),wiredAssessedCurrent:h.AsConditional(e.WiredComponent.attributes.wiredAssessedCurrent,{optionalIf:[b]}),wiredNominalVoltage:h.AsConditional(e.WiredComponent.attributes.wiredNominalVoltage,{optionalIf:[b]}),wiredMaximumCurrent:h.AsConditional(e.WiredComponent.attributes.wiredMaximumCurrent,{optionalIf:[b]}),wiredPresent:h.AsConditional(e.WiredComponent.attributes.wiredPresent,{optionalIf:[b]}),activeWiredFaults:h.AsConditional(e.WiredComponent.attributes.activeWiredFaults,{optionalIf:[b]}),batVoltage:h.AsConditional(e.BatteryComponent.attributes.batVoltage,{optionalIf:[w]}),batPercentRemaining:h.AsConditional(e.BatteryComponent.attributes.batPercentRemaining,{optionalIf:[w]}),batTimeRemaining:h.AsConditional(e.BatteryComponent.attributes.batTimeRemaining,{optionalIf:[w]}),batChargeLevel:h.AsConditional(e.BatteryComponent.attributes.batChargeLevel,{mandatoryIf:[w]}),batReplacementNeeded:h.AsConditional(e.BatteryComponent.attributes.batReplacementNeeded,{mandatoryIf:[w]}),batReplaceability:h.AsConditional(e.BatteryComponent.attributes.batReplaceability,{mandatoryIf:[w]}),batPresent:h.AsConditional(e.BatteryComponent.attributes.batPresent,{optionalIf:[w]}),activeBatFaults:h.AsConditional(e.BatteryComponent.attributes.activeBatFaults,{optionalIf:[w]}),batReplacementDescription:h.AsConditional(e.ReplaceableComponent.attributes.batReplacementDescription,{mandatoryIf:[O]}),batCommonDesignation:h.AsConditional(e.ReplaceableComponent.attributes.batCommonDesignation,{optionalIf:[O]}),batAnsiDesignation:h.AsConditional(e.ReplaceableComponent.attributes.batAnsiDesignation,{optionalIf:[O]}),batIecDesignation:h.AsConditional(e.ReplaceableComponent.attributes.batIecDesignation,{optionalIf:[O]}),batApprovedChemistry:h.AsConditional(e.ReplaceableComponent.attributes.batApprovedChemistry,{optionalIf:[O]}),batCapacity:h.AsConditional(e.ReplaceableOrRechargeableComponent.attributes.batCapacity,{optionalIf:[O,D]}),batQuantity:h.AsConditional(e.ReplaceableComponent.attributes.batQuantity,{mandatoryIf:[O]}),batChargeState:h.AsConditional(e.RechargeableComponent.attributes.batChargeState,{mandatoryIf:[D]}),batTimeToFullCharge:h.AsConditional(e.RechargeableComponent.attributes.batTimeToFullCharge,{optionalIf:[D]}),batFunctionalWhileCharging:h.AsConditional(e.RechargeableComponent.attributes.batFunctionalWhileCharging,{mandatoryIf:[D]}),batChargingCurrent:h.AsConditional(e.RechargeableComponent.attributes.batChargingCurrent,{optionalIf:[D]}),activeBatChargeFaults:h.AsConditional(e.RechargeableComponent.attributes.activeBatChargeFaults,{optionalIf:[D]})},events:{wiredFaultChange:h.AsConditional(e.WiredComponent.events.wiredFaultChange,{optionalIf:[b]}),batFaultChange:h.AsConditional(e.BatteryComponent.events.batFaultChange,{optionalIf:[w]}),batChargeFaultChange:h.AsConditional(e.RechargeableComponent.events.batChargeFaultChange,{optionalIf:[D]})}}),e.Complete=e.CompleteInstance})(Rd||(Rd={}));var u_=Rd.Cluster;re.register(Rd.Complete);var Nd;(e=>{e.ClusterInstance=h({id:46,name:"PowerSourceConfiguration",revision:1,attributes:{sources:V(0,Y(yn,{maxLength:6}),{persistent:!0,default:[]})}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(Nd||(Nd={}));var m_=Nd.Cluster;re.register(Nd.Complete);var yp;(e=>{let t;(r=>{r.NodeTopology="NodeTopology",r.TreeTopology="TreeTopology",r.SetTopology="SetTopology",r.DynamicPowerFlow="DynamicPowerFlow"})(t=e.Feature||(e.Feature={})),e.SetTopologyComponent=h.Component({attributes:{availableEndpoints:me(0,Y(yn,{maxLength:20}),{default:[]})}}),e.DynamicPowerFlowComponent=h.Component({attributes:{activeEndpoints:V(1,Y(yn,{maxLength:20}),{persistent:!0,default:[]})}}),e.Base=h.Component({id:156,name:"PowerTopology",revision:1,features:{nodeTopology:M(0),treeTopology:M(1),setTopology:M(2),dynamicPowerFlow:M(3)},extensions:h.Extensions({flags:{setTopology:!0},component:e.SetTopologyComponent},{flags:{dynamicPowerFlow:!0},component:e.DynamicPowerFlowComponent},{flags:{dynamicPowerFlow:!0,setTopology:!1},component:!1},{flags:{nodeTopology:!0,treeTopology:!0},component:!1},{flags:{nodeTopology:!0,setTopology:!0},component:!1},{flags:{treeTopology:!0,setTopology:!0},component:!1},{flags:{nodeTopology:!1,treeTopology:!1,setTopology:!1},component:!1})}),e.ClusterInstance=h.ExtensibleOnly(e.Base),e.Cluster=e.ClusterInstance;let n={setTopology:!0},i={dynamicPowerFlow:!0};e.CompleteInstance=h({id:e.Base.id,name:e.Base.name,revision:e.Base.revision,features:e.Base.features,attributes:{availableEndpoints:h.AsConditional(e.SetTopologyComponent.attributes.availableEndpoints,{mandatoryIf:[n]}),activeEndpoints:h.AsConditional(e.DynamicPowerFlowComponent.attributes.activeEndpoints,{mandatoryIf:[i]})}}),e.Complete=e.CompleteInstance})(yp||(yp={}));var h_=yp.Cluster;re.register(yp.Complete);var Pd;(e=>{let t;(i=>{i.Extended="Extended"})(t=e.Feature||(e.Feature={})),e.ExtendedComponent=h.Component({attributes:{scaledValue:V(16,k(Ct),{default:0}),minScaledValue:V(17,k(Ct.bound({min:-32767})),{default:0}),maxScaledValue:V(18,k(Ct),{default:0}),scaledTolerance:ye(19,B.bound({max:2048}),{default:0}),scale:V(20,$i.bound({min:-127}),{default:0})}}),e.Base=h.Component({id:1027,name:"PressureMeasurement",revision:3,features:{extended:M(0)},attributes:{measuredValue:V(0,k(Ct)),minMeasuredValue:V(1,k(Ct.bound({min:-32767}))),maxMeasuredValue:V(2,k(Ct)),tolerance:ye(3,B.bound({max:2048}),{default:0})},extensions:h.Extensions({flags:{extended:!0},component:e.ExtendedComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let n={extended:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,scaledValue:h.AsConditional(e.ExtendedComponent.attributes.scaledValue,{mandatoryIf:[n]}),minScaledValue:h.AsConditional(e.ExtendedComponent.attributes.minScaledValue,{mandatoryIf:[n]}),maxScaledValue:h.AsConditional(e.ExtendedComponent.attributes.maxScaledValue,{mandatoryIf:[n]}),scaledTolerance:h.AsConditional(e.ExtendedComponent.attributes.scaledTolerance,{optionalIf:[n]}),scale:h.AsConditional(e.ExtendedComponent.attributes.scale,{mandatoryIf:[n]})}}),e.Complete=e.CompleteInstance})(Pd||(Pd={}));var f_=Pd.Cluster;re.register(Pd.Complete);var gp;(e=>{e.TlvConfiguration=I({proxyAllNodes:m(1,Ae),sourceList:m(2,Y(Ft))}),e.ClusterInstance=h({id:66,name:"ProxyConfiguration",revision:1,attributes:{configurationList:He(0,Y(e.TlvConfiguration),{persistent:!0,default:[]})}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(gp||(gp={}));var p_=gp.Cluster;re.register(gp.Complete);var vp;(e=>{e.TlvProxyDiscoverRequest=I({sourceNodeId:m(0,Ft),numAttributePaths:m(1,B),numEventPaths:m(2,B)}),e.ClusterInstance=h({id:67,name:"ProxyDiscovery",revision:1,commands:{proxyDiscoverRequest:X(0,e.TlvProxyDiscoverRequest,0,ne)}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(vp||(vp={}));var y_=vp.Cluster;re.register(vp.Complete);var bp;(e=>{e.Base={...Bi.Base,id:28,name:"PulseWidthModulation"},e.ClusterInstance=h({...e.Base,supportedFeatures:{onOff:!0},base:yt(e.Base)},Bi.NotLightingComponent),e.Cluster=e.ClusterInstance,e.CompleteInstance=h({...Bi.Complete,id:28,name:"PulseWidthModulation"}),e.Complete=e.CompleteInstance})(bp||(bp={}));var g_=bp.Cluster;re.register(bp.Complete);var kd;(e=>{let t;(f=>{f.ConstantPressure="ConstantPressure",f.CompensatedPressure="CompensatedPressure",f.ConstantFlow="ConstantFlow",f.ConstantSpeed="ConstantSpeed",f.ConstantTemperature="ConstantTemperature",f.Automatic="Automatic",f.LocalOperation="LocalOperation"})(t=e.Feature||(e.Feature={})),e.PumpStatus={deviceFault:M(0),supplyFault:M(1),speedLow:M(2),speedHigh:M(3),localOverride:M(4),running:M(5),remotePressure:M(6),remoteFlow:M(7),remoteTemperature:M(8)};let n;(f=>{f[f.Normal=0]="Normal",f[f.Minimum=1]="Minimum",f[f.Maximum=2]="Maximum",f[f.Local=3]="Local"})(n=e.OperationMode||(e.OperationMode={}));let i;(f=>{f[f.ConstantSpeed=0]="ConstantSpeed",f[f.ConstantPressure=1]="ConstantPressure",f[f.ProportionalPressure=2]="ProportionalPressure",f[f.ConstantFlow=3]="ConstantFlow",f[f.ConstantTemperature=5]="ConstantTemperature",f[f.Automatic=7]="Automatic"})(i=e.ControlMode||(e.ControlMode={})),e.ConstantPressureComponent=h.Component({attributes:{minConstPressure:me(3,k(Ct),{default:null}),maxConstPressure:me(4,k(Ct),{default:null})}}),e.AutomaticComponent=h.Component({attributes:{minConstPressure:Je(3,k(Ct),{default:null}),maxConstPressure:Je(4,k(Ct),{default:null}),minCompPressure:Je(5,k(Ct),{default:null}),maxCompPressure:Je(6,k(Ct),{default:null}),minConstSpeed:Je(7,k(B),{default:null}),maxConstSpeed:Je(8,k(B),{default:null}),minConstFlow:Je(9,k(B),{default:null}),maxConstFlow:Je(10,k(B),{default:null}),minConstTemp:Je(11,k(Ct.bound({min:-27315})),{default:null}),maxConstTemp:Je(12,k(Ct.bound({min:-27315})),{default:null})}}),e.CompensatedPressureComponent=h.Component({attributes:{minCompPressure:me(5,k(Ct),{default:null}),maxCompPressure:me(6,k(Ct),{default:null})}}),e.ConstantSpeedComponent=h.Component({attributes:{minConstSpeed:me(7,k(B),{default:null}),maxConstSpeed:me(8,k(B),{default:null})}}),e.ConstantFlowComponent=h.Component({attributes:{minConstFlow:me(9,k(B),{default:null}),maxConstFlow:me(10,k(B),{default:null})}}),e.ConstantTemperatureComponent=h.Component({attributes:{minConstTemp:me(11,k(Ct.bound({min:-27315})),{default:null}),maxConstTemp:me(12,k(Ct.bound({min:-27315})),{default:null})}}),e.Base=h.Component({id:512,name:"PumpConfigurationAndControl",revision:4,features:{constantPressure:M(0),compensatedPressure:M(1),constantFlow:M(2),constantSpeed:M(3),constantTemperature:M(4),automatic:M(5),localOperation:M(6)},attributes:{maxPressure:me(0,k(Ct),{default:null}),maxSpeed:me(1,k(B),{default:null}),maxFlow:me(2,k(B),{default:null}),pumpStatus:ye(16,Ie(B,e.PumpStatus)),effectiveOperationMode:V(17,$(),{persistent:!0}),effectiveControlMode:V(18,$(),{persistent:!0}),capacity:V(19,k(Ct),{default:null}),speed:ye(20,k(B),{default:null}),lifetimeRunningHours:_e(21,k(kl),{persistent:!0,default:0,writeAcl:W.Manage}),power:ye(22,k(kl),{default:null}),lifetimeEnergyConsumed:_e(23,k(ee),{persistent:!0,default:0,writeAcl:W.Manage}),operationMode:He(32,$(),{persistent:!0,default:0,writeAcl:W.Manage}),controlMode:_e(33,$(),{persistent:!0,default:0,writeAcl:W.Manage})},events:{supplyVoltageLow:ct(0,Te.Info,Fe),supplyVoltageHigh:ct(1,Te.Info,Fe),powerMissingPhase:ct(2,Te.Info,Fe),systemPressureLow:ct(3,Te.Info,Fe),systemPressureHigh:ct(4,Te.Info,Fe),dryRunning:ct(5,Te.Critical,Fe),motorTemperatureHigh:ct(6,Te.Info,Fe),pumpMotorFatalFailure:ct(7,Te.Critical,Fe),electronicTemperatureHigh:ct(8,Te.Info,Fe),pumpBlocked:ct(9,Te.Critical,Fe),sensorFailure:ct(10,Te.Info,Fe),electronicNonFatalFailure:ct(11,Te.Info,Fe),electronicFatalFailure:ct(12,Te.Critical,Fe),generalFault:ct(13,Te.Info,Fe),leakage:ct(14,Te.Info,Fe),airDetection:ct(15,Te.Info,Fe),turbineOperation:ct(16,Te.Info,Fe)},extensions:h.Extensions({flags:{constantPressure:!0},component:e.ConstantPressureComponent},{flags:{automatic:!0},component:e.AutomaticComponent},{flags:{compensatedPressure:!0},component:e.CompensatedPressureComponent},{flags:{constantSpeed:!0},component:e.ConstantSpeedComponent},{flags:{constantFlow:!0},component:e.ConstantFlowComponent},{flags:{constantTemperature:!0},component:e.ConstantTemperatureComponent},{flags:{constantPressure:!1,compensatedPressure:!1,constantFlow:!1,constantSpeed:!1,constantTemperature:!1},component:!1})}),e.ClusterInstance=h.ExtensibleOnly(e.Base),e.Cluster=e.ClusterInstance;let r={constantPressure:!0},a={automatic:!0},s={compensatedPressure:!0},c={constantSpeed:!0},l={constantFlow:!0},d={constantTemperature:!0};e.CompleteInstance=h({id:e.Base.id,name:e.Base.name,revision:e.Base.revision,features:e.Base.features,attributes:{...e.Base.attributes,minConstPressure:h.AsConditional(e.ConstantPressureComponent.attributes.minConstPressure,{mandatoryIf:[r],optionalIf:[a]}),maxConstPressure:h.AsConditional(e.ConstantPressureComponent.attributes.maxConstPressure,{mandatoryIf:[r],optionalIf:[a]}),minCompPressure:h.AsConditional(e.AutomaticComponent.attributes.minCompPressure,{optionalIf:[a],mandatoryIf:[s]}),maxCompPressure:h.AsConditional(e.AutomaticComponent.attributes.maxCompPressure,{optionalIf:[a],mandatoryIf:[s]}),minConstSpeed:h.AsConditional(e.AutomaticComponent.attributes.minConstSpeed,{optionalIf:[a],mandatoryIf:[c]}),maxConstSpeed:h.AsConditional(e.AutomaticComponent.attributes.maxConstSpeed,{optionalIf:[a],mandatoryIf:[c]}),minConstFlow:h.AsConditional(e.AutomaticComponent.attributes.minConstFlow,{optionalIf:[a],mandatoryIf:[l]}),maxConstFlow:h.AsConditional(e.AutomaticComponent.attributes.maxConstFlow,{optionalIf:[a],mandatoryIf:[l]}),minConstTemp:h.AsConditional(e.AutomaticComponent.attributes.minConstTemp,{optionalIf:[a],mandatoryIf:[d]}),maxConstTemp:h.AsConditional(e.AutomaticComponent.attributes.maxConstTemp,{optionalIf:[a],mandatoryIf:[d]})},events:e.Base.events}),e.Complete=e.CompleteInstance})(kd||(kd={}));var v_=kd.Cluster;re.register(kd.Complete);var Fd;(e=>{e.Base={...gn.Base,id:1071,name:"RadonConcentrationMeasurement"},e.ClusterInstance=h.ExtensibleOnly(e.Base),e.Cluster=e.ClusterInstance,e.CompleteInstance=h({...gn.Complete,id:1071,name:"RadonConcentrationMeasurement"}),e.Complete=e.CompleteInstance})(Fd||(Fd={}));var b_=Fd.Cluster;re.register(Fd.Complete);var Ld;(e=>{let t;(i=>{i.Reset="Reset"})(t=e.Feature||(e.Feature={})),e.Alarm={doorOpen:M(0)},e.ResetComponent=h.Component({attributes:{latch:me(1,ee)},commands:{reset:X(0,Va.TlvResetRequest,0,ne)}}),e.Base=h.Component({id:87,name:"RefrigeratorAlarm",revision:1,features:{reset:M(0)},attributes:{mask:V(0,ee),state:V(2,ee),supported:me(3,ee)},events:{notify:it(0,Te.Info,Va.TlvNotifyEvent)},extensions:h.Extensions({flags:{reset:!0},component:e.ResetComponent},{flags:{reset:!0},component:!1})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let n={reset:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,latch:h.AsConditional(e.ResetComponent.attributes.latch,{mandatoryIf:[n]})},commands:{reset:h.AsConditional(e.ResetComponent.commands.reset,{mandatoryIf:[n]})},events:e.Cluster.events}),e.Complete=e.CompleteInstance})(Ld||(Ld={}));var x_=Ld.Cluster;re.register(Ld.Complete);var Bd;(e=>{let t;(i=>{i.OnOff="OnOff"})(t=e.Feature||(e.Feature={}));let n;(i=>{i[i.RapidCool=16384]="RapidCool",i[i.RapidFreeze=16385]="RapidFreeze"})(n=e.ModeTag||(e.ModeTag={})),e.Base=h.Component({id:82,name:"RefrigeratorAndTemperatureControlledCabinetMode",revision:2,features:{onOff:M(0)},attributes:{supportedModes:me(0,Y(In.TlvModeOption,{minLength:2,maxLength:255}),{default:[]}),currentMode:V(1,P,{scene:!0,persistent:!0}),startUpMode:He(2,P,{persistent:!0}),onMode:He(3,P,{persistent:!0})},commands:{changeToMode:X(0,In.TlvChangeToModeRequest,0,ne)},extensions:h.Extensions()}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(Bd||(Bd={}));var w_=Bd.Cluster;re.register(Bd.Complete);var Ud;(e=>{e.ClusterInstance=h({id:1029,name:"RelativeHumidityMeasurement",revision:3,attributes:{measuredValue:V(0,k(B)),minMeasuredValue:V(1,k(B)),maxMeasuredValue:V(2,k(B.bound({max:1e4}))),tolerance:ye(3,B.bound({max:2048}))}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(Ud||(Ud={}));var T_=Ud.Cluster;re.register(Ud.Complete);var Vd;(e=>{let t;(r=>{r.OnOff="OnOff"})(t=e.Feature||(e.Feature={}));let n;(r=>{r[r.CleaningInProgress=64]="CleaningInProgress"})(n=e.ModeChangeStatus||(e.ModeChangeStatus={}));let i;(r=>{r[r.DeepClean=16384]="DeepClean",r[r.Vacuum=16385]="Vacuum",r[r.Mop=16386]="Mop"})(i=e.ModeTag||(e.ModeTag={})),e.Base=h.Component({id:85,name:"RvcCleanMode",revision:2,features:{onOff:M(0)},attributes:{supportedModes:me(0,Y(In.TlvModeOption,{minLength:2,maxLength:255}),{default:[]}),currentMode:V(1,P,{scene:!0,persistent:!0})},commands:{changeToMode:X(0,In.TlvChangeToModeRequest,0,ne)},extensions:h.Extensions()}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(Vd||(Vd={}));var C_=Vd.Cluster;re.register(Vd.Complete);var qd;(e=>{let t;(i=>{i[i.SeekingCharger=64]="SeekingCharger",i[i.Charging=65]="Charging",i[i.Docked=66]="Docked"})(t=e.OperationalState||(e.OperationalState={}));let n;(i=>{i[i.FailedToFindChargingDock=64]="FailedToFindChargingDock",i[i.Stuck=65]="Stuck",i[i.DustBinMissing=66]="DustBinMissing",i[i.DustBinFull=67]="DustBinFull",i[i.WaterTankEmpty=68]="WaterTankEmpty",i[i.WaterTankMissing=69]="WaterTankMissing",i[i.WaterTankLidOpen=70]="WaterTankLidOpen",i[i.MopCleaningPadMissing=71]="MopCleaningPadMissing"})(n=e.ErrorState||(e.ErrorState={})),e.ClusterInstance=h({id:97,name:"RvcOperationalState",revision:2,attributes:{phaseList:V(0,k(Y(Z,{maxLength:32}))),currentPhase:V(1,k(P)),countdownTime:ye(2,k(ee.bound({max:259200})),{omitChanges:!0,default:null}),operationalStateList:V(3,Y(Hi.TlvOperationalStateStruct),{default:[]}),operationalState:V(4,P),operationalError:V(5,Hi.TlvErrorState)},commands:{goHome:wt(128,Fe,4,Hi.TlvOperationalCommandResponse)},events:{operationalError:it(0,Te.Critical,Hi.TlvOperationalErrorEvent),operationCompletion:ct(1,Te.Info,Hi.TlvOperationCompletionEvent)}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(qd||(qd={}));var S_=qd.Cluster;re.register(qd.Complete);var _d;(e=>{let t;(r=>{r.OnOff="OnOff"})(t=e.Feature||(e.Feature={}));let n;(r=>{r[r.Stuck=65]="Stuck",r[r.DustBinMissing=66]="DustBinMissing",r[r.DustBinFull=67]="DustBinFull",r[r.WaterTankEmpty=68]="WaterTankEmpty",r[r.WaterTankMissing=69]="WaterTankMissing",r[r.WaterTankLidOpen=70]="WaterTankLidOpen",r[r.MopCleaningPadMissing=71]="MopCleaningPadMissing",r[r.BatteryLow=72]="BatteryLow"})(n=e.ModeChangeStatus||(e.ModeChangeStatus={}));let i;(r=>{r[r.Idle=16384]="Idle",r[r.Cleaning=16385]="Cleaning",r[r.Mapping=16386]="Mapping"})(i=e.ModeTag||(e.ModeTag={})),e.Base=h.Component({id:84,name:"RvcRunMode",revision:2,features:{onOff:M(0)},attributes:{supportedModes:me(0,Y(In.TlvModeOption,{minLength:2,maxLength:255}),{default:[]}),currentMode:V(1,P,{scene:!0,persistent:!0})},commands:{changeToMode:X(0,In.TlvChangeToModeRequest,0,ne)},extensions:h.Extensions()}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(_d||(_d={}));var I_=_d.Cluster;re.register(_d.Complete);var $d;(e=>{let t;(n=>{n.SceneNames="SceneNames"})(t=e.Feature||(e.Feature={})),e.TlvSceneInfo=I({sceneCount:m(0,P),currentScene:m(1,P),currentGroup:m(2,hn),sceneValid:m(3,Ae),remainingCapacity:m(4,P.bound({max:253})),fabricIndex:m(254,Ut)}),e.TlvAttributeValuePair=I({attributeId:m(0,Mm),valueUnsigned8:R(1,P),valueSigned8:R(2,$i),valueUnsigned16:R(3,B),valueSigned16:R(4,Ct),valueUnsigned32:R(5,ee),valueSigned32:R(6,oa),valueUnsigned64:R(7,nt),valueSigned64:R(8,vt)}),e.TlvExtensionFieldSet=I({clusterId:m(0,rr),attributeValueList:m(1,Y(e.TlvAttributeValuePair))}),e.TlvAddSceneRequest=I({groupId:m(0,hn),sceneId:m(1,P.bound({max:254})),transitionTime:m(2,ee.bound({max:6e7})),sceneName:m(3,Z.bound({maxLength:16})),extensionFieldSetStructs:m(4,Y(e.TlvExtensionFieldSet))}),e.TlvAddSceneResponse=I({status:m(0,$()),groupId:m(1,hn),sceneId:m(2,P.bound({max:254}))}),e.TlvViewSceneRequest=I({groupId:m(0,hn),sceneId:m(1,P.bound({max:254}))}),e.TlvViewSceneResponse=I({status:m(0,$()),groupId:m(1,hn),sceneId:m(2,P.bound({max:254})),transitionTime:R(3,ee.bound({max:6e7})),sceneName:R(4,Z.bound({maxLength:16})),extensionFieldSetStructs:R(5,Y(e.TlvExtensionFieldSet))}),e.TlvRemoveSceneRequest=I({groupId:m(0,hn),sceneId:m(1,P.bound({max:254}))}),e.TlvRemoveSceneResponse=I({status:m(0,$()),groupId:m(1,hn),sceneId:m(2,P.bound({max:254}))}),e.TlvRemoveAllScenesRequest=I({groupId:m(0,hn)}),e.TlvRemoveAllScenesResponse=I({status:m(0,$()),groupId:m(1,hn)}),e.TlvStoreSceneRequest=I({groupId:m(0,hn),sceneId:m(1,P.bound({max:254}))}),e.TlvStoreSceneResponse=I({status:m(0,$()),groupId:m(1,hn),sceneId:m(2,P.bound({max:254}))}),e.TlvRecallSceneRequest=I({groupId:m(0,hn),sceneId:m(1,P.bound({max:254})),transitionTime:R(2,k(ee.bound({max:6e7})))}),e.TlvGetSceneMembershipRequest=I({groupId:m(0,hn)}),e.TlvGetSceneMembershipResponse=I({status:m(0,$()),capacity:m(1,k(P)),groupId:m(2,hn),sceneList:R(3,Y(P))}),e.CopyMode={copyAllScenes:M(0)},e.TlvCopySceneRequest=I({mode:m(0,Ie(P,e.CopyMode)),groupIdentifierFrom:m(1,hn),sceneIdentifierFrom:m(2,P.bound({max:254})),groupIdentifierTo:m(3,hn),sceneIdentifierTo:m(4,P.bound({max:254}))}),e.TlvCopySceneResponse=I({status:m(0,$()),groupIdentifierFrom:m(1,hn),sceneIdentifierFrom:m(2,P.bound({max:254}))}),e.TlvLogicalSceneTable=I({sceneGroupId:m(0,hn),sceneId:m(1,P.bound({max:254})),sceneName:R(2,Z.bound({maxLength:16})),sceneTransitionTime:m(3,ee.bound({max:6e7})),extensionFields:m(4,Y(e.TlvExtensionFieldSet))}),e.Base=h.Component({id:98,name:"ScenesManagement",revision:1,features:{sceneNames:M(0)},attributes:{lastConfiguredBy:ye(0,k(Ft),{default:null}),sceneTableSize:me(1,B,{default:16}),fabricSceneInfo:ca(2,Y(e.TlvSceneInfo),{default:[]})},commands:{addScene:X(0,e.TlvAddSceneRequest,0,e.TlvAddSceneResponse,{invokeAcl:W.Manage}),viewScene:X(1,e.TlvViewSceneRequest,1,e.TlvViewSceneResponse),removeScene:X(2,e.TlvRemoveSceneRequest,2,e.TlvRemoveSceneResponse,{invokeAcl:W.Manage}),removeAllScenes:X(3,e.TlvRemoveAllScenesRequest,3,e.TlvRemoveAllScenesResponse,{invokeAcl:W.Manage}),storeScene:X(4,e.TlvStoreSceneRequest,4,e.TlvStoreSceneResponse,{invokeAcl:W.Manage}),recallScene:X(5,e.TlvRecallSceneRequest,5,ne),getSceneMembership:X(6,e.TlvGetSceneMembershipRequest,6,e.TlvGetSceneMembershipResponse),copyScene:wt(64,e.TlvCopySceneRequest,64,e.TlvCopySceneResponse,{invokeAcl:W.Manage})},extensions:h.Extensions()}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})($d||($d={}));var A_=$d.Cluster;re.register($d.Complete);var Wd;(e=>{let t;(f=>{f.SmokeAlarm="SmokeAlarm",f.CoAlarm="CoAlarm"})(t=e.Feature||(e.Feature={}));let n;(f=>{f[f.Normal=0]="Normal",f[f.Warning=1]="Warning",f[f.Critical=2]="Critical"})(n=e.AlarmState||(e.AlarmState={}));let i;(f=>{f[f.Normal=0]="Normal",f[f.Low=1]="Low",f[f.Warning=2]="Warning",f[f.Critical=3]="Critical"})(i=e.ContaminationState||(e.ContaminationState={}));let r;(f=>{f[f.High=0]="High",f[f.Standard=1]="Standard",f[f.Low=2]="Low"})(r=e.Sensitivity||(e.Sensitivity={})),e.TlvSmokeAlarmEvent=I({alarmSeverityLevel:m(0,$())}),e.TlvInterconnectSmokeAlarmEvent=I({alarmSeverityLevel:m(0,$())}),e.TlvCoAlarmEvent=I({alarmSeverityLevel:m(0,$())}),e.TlvInterconnectCoAlarmEvent=I({alarmSeverityLevel:m(0,$())});let a;(f=>{f[f.Normal=0]="Normal",f[f.SmokeAlarm=1]="SmokeAlarm",f[f.CoAlarm=2]="CoAlarm",f[f.BatteryAlert=3]="BatteryAlert",f[f.Testing=4]="Testing",f[f.HardwareFault=5]="HardwareFault",f[f.EndOfService=6]="EndOfService",f[f.InterconnectSmoke=7]="InterconnectSmoke",f[f.InterconnectCo=8]="InterconnectCo"})(a=e.ExpressedState||(e.ExpressedState={}));let s;(f=>{f[f.NotMuted=0]="NotMuted",f[f.Muted=1]="Muted"})(s=e.MuteState||(e.MuteState={}));let c;(f=>{f[f.Normal=0]="Normal",f[f.Expired=1]="Expired"})(c=e.EndOfService||(e.EndOfService={})),e.TlvLowBatteryEvent=I({alarmSeverityLevel:m(0,$())}),e.SmokeAlarmComponent=h.Component({attributes:{smokeState:V(1,$(),{persistent:!0}),contaminationState:ye(10,$()),smokeSensitivityLevel:_e(11,$(),{writeAcl:W.Manage})},events:{smokeAlarm:it(0,Te.Critical,e.TlvSmokeAlarmEvent),interconnectSmokeAlarm:ct(8,Te.Critical,e.TlvInterconnectSmokeAlarmEvent)}}),e.CoAlarmComponent=h.Component({attributes:{coState:V(2,$(),{persistent:!0})},events:{coAlarm:it(1,Te.Critical,e.TlvCoAlarmEvent),interconnectCoAlarm:ct(9,Te.Critical,e.TlvInterconnectCoAlarmEvent)}}),e.Base=h.Component({id:92,name:"SmokeCoAlarm",revision:1,features:{smokeAlarm:M(0),coAlarm:M(1)},attributes:{expressedState:V(0,$(),{persistent:!0}),batteryAlert:V(3,$(),{persistent:!0}),deviceMuted:ye(4,$(),{persistent:!0}),testInProgress:V(5,Ae),hardwareFaultAlert:V(6,Ae,{persistent:!0}),endOfServiceAlert:V(7,$(),{persistent:!0}),interconnectSmokeAlarm:ye(8,$()),interconnectCoAlarm:ye(9,$()),expiryDate:Je(12,Nt)},commands:{selfTestRequest:wt(0,Fe,0,ne)},events:{lowBattery:it(2,Te.Info,e.TlvLowBatteryEvent),hardwareFault:it(3,Te.Info,Fe),endOfService:it(4,Te.Info,Fe),selfTestComplete:it(5,Te.Info,Fe),alarmMuted:ct(6,Te.Info,Fe),muteEnded:ct(7,Te.Info,Fe),allClear:it(10,Te.Info,Fe)},extensions:h.Extensions({flags:{smokeAlarm:!0},component:e.SmokeAlarmComponent},{flags:{coAlarm:!0},component:e.CoAlarmComponent},{flags:{smokeAlarm:!1,coAlarm:!1},component:!1})}),e.ClusterInstance=h.ExtensibleOnly(e.Base),e.Cluster=e.ClusterInstance;let l={smokeAlarm:!0},d={coAlarm:!0};e.CompleteInstance=h({id:e.Base.id,name:e.Base.name,revision:e.Base.revision,features:e.Base.features,attributes:{...e.Base.attributes,smokeState:h.AsConditional(e.SmokeAlarmComponent.attributes.smokeState,{mandatoryIf:[l]}),coState:h.AsConditional(e.CoAlarmComponent.attributes.coState,{mandatoryIf:[d]}),contaminationState:h.AsConditional(e.SmokeAlarmComponent.attributes.contaminationState,{optionalIf:[l]}),smokeSensitivityLevel:h.AsConditional(e.SmokeAlarmComponent.attributes.smokeSensitivityLevel,{optionalIf:[l]})},commands:e.Base.commands,events:{...e.Base.events,smokeAlarm:h.AsConditional(e.SmokeAlarmComponent.events.smokeAlarm,{mandatoryIf:[l]}),coAlarm:h.AsConditional(e.CoAlarmComponent.events.coAlarm,{mandatoryIf:[d]}),interconnectSmokeAlarm:h.AsConditional(e.SmokeAlarmComponent.events.interconnectSmokeAlarm,{optionalIf:[l]}),interconnectCoAlarm:h.AsConditional(e.CoAlarmComponent.events.interconnectCoAlarm,{optionalIf:[d]})}}),e.Complete=e.CompleteInstance})(Wd||(Wd={}));var M_=Wd.Cluster;re.register(Wd.Complete);var Hd;(e=>{let t;(i=>{i.Watermarks="Watermarks"})(t=e.Feature||(e.Feature={})),e.TlvThreadMetrics=I({id:m(0,nt),name:R(1,Z.bound({maxLength:8})),stackFreeCurrent:R(2,ee),stackFreeMinimum:R(3,ee),stackSize:R(4,ee)}),e.TlvSoftwareFaultEvent=I({id:m(0,nt),name:R(1,Z.bound({maxLength:8})),faultRecording:R(2,be.bound({maxLength:1024}))}),e.WatermarksComponent=h.Component({attributes:{currentHeapHighWatermark:V(3,nt)},commands:{resetWatermarks:X(0,Fe,0,ne,{invokeAcl:W.Manage})}}),e.Base=h.Component({id:52,name:"SoftwareDiagnostics",revision:1,features:{watermarks:M(0)},attributes:{threadMetrics:ye(0,Y(e.TlvThreadMetrics,{maxLength:64}),{default:[]}),currentHeapFree:ye(1,nt),currentHeapUsed:ye(2,nt)},events:{softwareFault:ct(0,Te.Info,e.TlvSoftwareFaultEvent)},extensions:h.Extensions({flags:{watermarks:!0},component:e.WatermarksComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let n={watermarks:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,currentHeapHighWatermark:h.AsConditional(e.WatermarksComponent.attributes.currentHeapHighWatermark,{mandatoryIf:[n]})},commands:{resetWatermarks:h.AsConditional(e.WatermarksComponent.commands.resetWatermarks,{mandatoryIf:[n]})},events:e.Cluster.events}),e.Complete=e.CompleteInstance})(Hd||(Hd={}));var E_=Hd.Cluster;re.register(Hd.Complete);var Lr;(e=>{let t;(c=>{c.LatchingSwitch="LatchingSwitch",c.MomentarySwitch="MomentarySwitch",c.MomentarySwitchRelease="MomentarySwitchRelease",c.MomentarySwitchLongPress="MomentarySwitchLongPress",c.MomentarySwitchMultiPress="MomentarySwitchMultiPress"})(t=e.Feature||(e.Feature={})),e.TlvMultiPressOngoingEvent=I({newPosition:m(0,P),currentNumberOfPressesCounted:m(1,P.bound({min:2}))}),e.TlvMultiPressCompleteEvent=I({previousPosition:m(0,P),totalNumberOfPressesCounted:m(1,P.bound({min:1}))}),e.TlvSwitchLatchedEvent=I({newPosition:m(0,P)}),e.TlvInitialPressEvent=I({newPosition:m(0,P)}),e.TlvLongPressEvent=I({newPosition:m(0,P)}),e.TlvLongReleaseEvent=I({previousPosition:m(0,P)}),e.TlvShortReleaseEvent=I({previousPosition:m(0,P)}),e.MomentarySwitchMultiPressComponent=h.Component({attributes:{multiPressMax:me(2,P.bound({min:2}),{default:2})},events:{multiPressOngoing:it(5,Te.Info,e.TlvMultiPressOngoingEvent),multiPressComplete:it(6,Te.Info,e.TlvMultiPressCompleteEvent)}}),e.LatchingSwitchComponent=h.Component({events:{switchLatched:it(0,Te.Info,e.TlvSwitchLatchedEvent)}}),e.MomentarySwitchComponent=h.Component({events:{initialPress:it(1,Te.Info,e.TlvInitialPressEvent)}}),e.MomentarySwitchLongPressComponent=h.Component({events:{longPress:it(2,Te.Info,e.TlvLongPressEvent),longRelease:it(4,Te.Info,e.TlvLongReleaseEvent)}}),e.MomentarySwitchReleaseComponent=h.Component({events:{shortRelease:it(3,Te.Info,e.TlvShortReleaseEvent)}}),e.Base=h.Component({id:59,name:"Switch",revision:1,features:{latchingSwitch:M(0),momentarySwitch:M(1),momentarySwitchRelease:M(2),momentarySwitchLongPress:M(3),momentarySwitchMultiPress:M(4)},attributes:{numberOfPositions:me(0,P.bound({min:2}),{default:2}),currentPosition:V(1,P,{persistent:!0,default:0})},extensions:h.Extensions({flags:{momentarySwitchMultiPress:!0},component:e.MomentarySwitchMultiPressComponent},{flags:{latchingSwitch:!0},component:e.LatchingSwitchComponent},{flags:{momentarySwitch:!0},component:e.MomentarySwitchComponent},{flags:{momentarySwitchLongPress:!0},component:e.MomentarySwitchLongPressComponent},{flags:{momentarySwitchRelease:!0},component:e.MomentarySwitchReleaseComponent},{flags:{momentarySwitchRelease:!0,momentarySwitch:!1},component:!1},{flags:{momentarySwitchLongPress:!0,momentarySwitch:!1},component:!1},{flags:{momentarySwitchLongPress:!0,momentarySwitchRelease:!1},component:!1},{flags:{momentarySwitchMultiPress:!0,momentarySwitch:!1},component:!1},{flags:{momentarySwitchMultiPress:!0,momentarySwitchRelease:!1},component:!1},{flags:{latchingSwitch:!0,momentarySwitch:!0},component:!1},{flags:{latchingSwitch:!1,momentarySwitch:!1},component:!1})}),e.ClusterInstance=h.ExtensibleOnly(e.Base),e.Cluster=e.ClusterInstance;let n={momentarySwitchMultiPress:!0},i={latchingSwitch:!0},r={momentarySwitch:!0},a={momentarySwitchLongPress:!0},s={momentarySwitchRelease:!0};e.CompleteInstance=h({id:e.Base.id,name:e.Base.name,revision:e.Base.revision,features:e.Base.features,attributes:{...e.Base.attributes,multiPressMax:h.AsConditional(e.MomentarySwitchMultiPressComponent.attributes.multiPressMax,{mandatoryIf:[n]})},events:{switchLatched:h.AsConditional(e.LatchingSwitchComponent.events.switchLatched,{mandatoryIf:[i]}),initialPress:h.AsConditional(e.MomentarySwitchComponent.events.initialPress,{mandatoryIf:[r]}),longPress:h.AsConditional(e.MomentarySwitchLongPressComponent.events.longPress,{mandatoryIf:[a]}),shortRelease:h.AsConditional(e.MomentarySwitchReleaseComponent.events.shortRelease,{mandatoryIf:[s]}),longRelease:h.AsConditional(e.MomentarySwitchLongPressComponent.events.longRelease,{mandatoryIf:[a]}),multiPressOngoing:h.AsConditional(e.MomentarySwitchMultiPressComponent.events.multiPressOngoing,{mandatoryIf:[n]}),multiPressComplete:h.AsConditional(e.MomentarySwitchMultiPressComponent.events.multiPressComplete,{mandatoryIf:[n]})}}),e.Complete=e.CompleteInstance})(Lr||(Lr={}));var O_=Lr.Cluster;re.register(Lr.Complete);var jd;(e=>{e.TlvTargetInfo=I({identifier:m(0,P.bound({max:254})),name:m(1,Z)}),e.TlvNavigateTargetRequest=I({target:m(0,P),data:R(1,Z)});let t;(n=>{n[n.Success=0]="Success",n[n.TargetNotFound=1]="TargetNotFound",n[n.NotAllowed=2]="NotAllowed"})(t=e.Status||(e.Status={})),e.TlvNavigateTargetResponse=I({status:m(0,$()),data:R(1,Z)}),e.TlvTargetUpdatedEvent=I({targetList:R(0,Y(e.TlvTargetInfo)),currentTarget:R(1,P),data:R(2,be.bound({maxLength:900}))}),e.ClusterInstance=h({id:1285,name:"TargetNavigator",revision:2,attributes:{targetList:V(0,Y(e.TlvTargetInfo),{default:[]}),currentTarget:ye(1,P,{default:255})},commands:{navigateTarget:X(0,e.TlvNavigateTargetRequest,1,e.TlvNavigateTargetResponse)},events:{targetUpdated:ct(0,Te.Info,e.TlvTargetUpdatedEvent)}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(jd||(jd={}));var D_=jd.Cluster;re.register(jd.Complete);var Gd;(e=>{let t;(a=>{a.TemperatureNumber="TemperatureNumber",a.TemperatureLevel="TemperatureLevel",a.TemperatureStep="TemperatureStep"})(t=e.Feature||(e.Feature={})),e.TlvSetTemperatureRequest=I({targetTemperature:R(0,Ct),targetTemperatureLevel:R(1,P)}),e.TemperatureNumberComponent=h.Component({attributes:{temperatureSetpoint:V(0,Ct),minTemperature:me(1,Ct),maxTemperature:me(2,Ct)}}),e.TemperatureStepComponent=h.Component({attributes:{step:me(3,Ct)}}),e.TemperatureLevelComponent=h.Component({attributes:{selectedTemperatureLevel:V(4,P.bound({max:31})),supportedTemperatureLevels:V(5,Y(Z,{maxLength:32}),{default:[]})}}),e.Base=h.Component({id:86,name:"TemperatureControl",revision:1,features:{temperatureNumber:M(0),temperatureLevel:M(1),temperatureStep:M(2)},commands:{setTemperature:X(0,e.TlvSetTemperatureRequest,0,ne)},extensions:h.Extensions({flags:{temperatureNumber:!0},component:e.TemperatureNumberComponent},{flags:{temperatureStep:!0},component:e.TemperatureStepComponent},{flags:{temperatureLevel:!0},component:e.TemperatureLevelComponent},{flags:{temperatureStep:!0,temperatureNumber:!1},component:!1},{flags:{temperatureNumber:!0,temperatureLevel:!0},component:!1},{flags:{temperatureNumber:!1,temperatureLevel:!1},component:!1})}),e.ClusterInstance=h.ExtensibleOnly(e.Base),e.Cluster=e.ClusterInstance;let n={temperatureNumber:!0},i={temperatureStep:!0},r={temperatureLevel:!0};e.CompleteInstance=h({id:e.Base.id,name:e.Base.name,revision:e.Base.revision,features:e.Base.features,attributes:{temperatureSetpoint:h.AsConditional(e.TemperatureNumberComponent.attributes.temperatureSetpoint,{mandatoryIf:[n]}),minTemperature:h.AsConditional(e.TemperatureNumberComponent.attributes.minTemperature,{mandatoryIf:[n]}),maxTemperature:h.AsConditional(e.TemperatureNumberComponent.attributes.maxTemperature,{mandatoryIf:[n]}),step:h.AsConditional(e.TemperatureStepComponent.attributes.step,{mandatoryIf:[i]}),selectedTemperatureLevel:h.AsConditional(e.TemperatureLevelComponent.attributes.selectedTemperatureLevel,{mandatoryIf:[r]}),supportedTemperatureLevels:h.AsConditional(e.TemperatureLevelComponent.attributes.supportedTemperatureLevels,{mandatoryIf:[r]})},commands:e.Base.commands}),e.Complete=e.CompleteInstance})(Gd||(Gd={}));var R_=Gd.Cluster;re.register(Gd.Complete);var zd;(e=>{e.ClusterInstance=h({id:1026,name:"TemperatureMeasurement",revision:4,attributes:{measuredValue:V(0,k(Ct)),minMeasuredValue:V(1,k(Ct.bound({min:-27315})),{default:-27315}),maxMeasuredValue:V(2,k(Ct.bound({max:32767})),{default:32767}),tolerance:ye(3,B.bound({max:2048}),{default:0})}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(zd||(zd={}));var N_=zd.Cluster;re.register(zd.Complete);var Kd;(e=>{let t;(N=>{N.Heating="Heating",N.Cooling="Cooling",N.Occupancy="Occupancy",N.ScheduleConfiguration="ScheduleConfiguration",N.Setback="Setback",N.AutoMode="AutoMode",N.LocalTemperatureNotExposed="LocalTemperatureNotExposed"})(t=e.Feature||(e.Feature={}));let n;(N=>{N[N.Off=0]="Off",N[N.Cool=3]="Cool",N[N.Heat=4]="Heat"})(n=e.ThermostatRunningMode||(e.ThermostatRunningMode={}));let i;(N=>{N[N.Sunday=0]="Sunday",N[N.Monday=1]="Monday",N[N.Tuesday=2]="Tuesday",N[N.Wednesday=3]="Wednesday",N[N.Thursday=4]="Thursday",N[N.Friday=5]="Friday",N[N.Saturday=6]="Saturday"})(i=e.StartOfWeek||(e.StartOfWeek={})),e.ScheduleDayOfWeek={sunday:M(0),monday:M(1),tuesday:M(2),wednesday:M(3),thursday:M(4),friday:M(5),saturday:M(6),away:M(7)},e.ScheduleMode={heatSetpointPresent:M(0),coolSetpointPresent:M(1)},e.TlvWeeklyScheduleTransition=I({transitionTime:m(0,B.bound({max:1439})),heatSetpoint:m(1,k(Ct)),coolSetpoint:m(2,k(Ct))}),e.TlvSetWeeklyScheduleRequest=I({numberOfTransitionsForSequence:m(0,P),dayOfWeekForSequence:m(1,Ie(P,e.ScheduleDayOfWeek)),modeForSequence:m(2,Ie(P,e.ScheduleMode)),transitions:m(3,Y(e.TlvWeeklyScheduleTransition,{maxLength:10}))}),e.TlvGetWeeklyScheduleRequest=I({daysToReturn:m(0,Ie(P,e.ScheduleDayOfWeek)),modeToReturn:m(1,Ie(P,e.ScheduleMode))}),e.TlvGetWeeklyScheduleResponse=I({numberOfTransitionsForSequence:m(0,P),dayOfWeekForSequence:m(1,Ie(P,e.ScheduleDayOfWeek)),modeForSequence:m(2,Ie(P,e.ScheduleMode)),transitions:m(3,Y(e.TlvWeeklyScheduleTransition,{maxLength:10}))}),e.RemoteSensing={localTemperature:M(0),outdoorTemperature:M(1),occupancy:M(2)};let r;(N=>{N[N.CoolingOnly=0]="CoolingOnly",N[N.CoolingWithReheat=1]="CoolingWithReheat",N[N.HeatingOnly=2]="HeatingOnly",N[N.HeatingWithReheat=3]="HeatingWithReheat",N[N.CoolingAndHeating=4]="CoolingAndHeating",N[N.CoolingAndHeatingWithReheat=5]="CoolingAndHeatingWithReheat"})(r=e.ControlSequenceOfOperation||(e.ControlSequenceOfOperation={}));let a;(N=>{N[N.Off=0]="Off",N[N.Auto=1]="Auto",N[N.Cool=3]="Cool",N[N.Heat=4]="Heat",N[N.EmergencyHeat=5]="EmergencyHeat",N[N.Precooling=6]="Precooling",N[N.FanOnly=7]="FanOnly",N[N.Dry=8]="Dry",N[N.Sleep=9]="Sleep"})(a=e.SystemMode||(e.SystemMode={}));let s;(N=>{N[N.SetpointHoldOff=0]="SetpointHoldOff",N[N.SetpointHoldOn=1]="SetpointHoldOn"})(s=e.TemperatureSetpointHold||(e.TemperatureSetpointHold={})),e.ProgrammingOperationMode={scheduleActive:M(0),autoRecovery:M(1),economy:M(2)},e.RelayState={heat:M(0),cool:M(1),fan:M(2),heatStage2:M(3),coolStage2:M(4),fanStage2:M(5),fanStage3:M(6)};let c;(N=>{N[N.Manual=0]="Manual",N[N.Schedule=1]="Schedule",N[N.External=2]="External"})(c=e.SetpointChangeSource||(e.SetpointChangeSource={}));let l;(N=>{N[N.Unknown=0]="Unknown",N[N.CoolingFixed=1]="CoolingFixed",N[N.HeatPumpFixed=2]="HeatPumpFixed",N[N.CoolingInverter=3]="CoolingInverter",N[N.HeatPumpInverter=4]="HeatPumpInverter"})(l=e.AcType||(e.AcType={}));let d;(N=>{N[N.Unknown=0]="Unknown",N[N.R22=1]="R22",N[N.R410A=2]="R410A",N[N.R407C=3]="R407C"})(d=e.AcRefrigerantType||(e.AcRefrigerantType={}));let f;(N=>{N[N.Unknown=0]="Unknown",N[N.T1=1]="T1",N[N.T2=2]="T2",N[N.T3=3]="T3"})(f=e.AcCompressorType||(e.AcCompressorType={})),e.AcErrorCode={compressorFail:M(0),roomSensorFail:M(1),outdoorSensorFail:M(2),coilSensorFail:M(3),fanFail:M(4)};let g;(N=>{N[N.Closed=1]="Closed",N[N.Open=2]="Open",N[N.Quarter=3]="Quarter",N[N.Half=4]="Half",N[N.ThreeQuarters=5]="ThreeQuarters"})(g=e.AcLouverPosition||(e.AcLouverPosition={}));let b;(N=>{N[N.BtUh=0]="BtUh"})(b=e.AcCapacityFormat||(e.AcCapacityFormat={}));let w;(N=>{N[N.Heat=0]="Heat",N[N.Cool=1]="Cool",N[N.Both=2]="Both"})(w=e.SetpointRaiseLowerMode||(e.SetpointRaiseLowerMode={})),e.TlvSetpointRaiseLowerRequest=I({mode:m(0,$()),amount:m(1,$i)}),e.AlarmCode={initialization:M(0),hardware:M(1),selfCalibration:M(2)},e.HvacSystemType={coolingStage:Kr(0,2),heatingStage:Kr(2,2),heatingIsHeatPump:M(4),heatingUsesFuel:M(5)},e.OccupancyComponent=h.Component({attributes:{occupancy:V(2,Ie(P,$a.Occupancy),{default:ao($a.Occupancy,{occupied:!0})})}}),e.HeatingComponent=h.Component({attributes:{absMinHeatSetpointLimit:Je(3,Ct,{default:700}),absMaxHeatSetpointLimit:Je(4,Ct,{default:3e3}),piHeatingDemand:ye(8,P.bound({max:100})),occupiedHeatingSetpoint:He(18,Ct,{scene:!0,persistent:!0,default:2e3}),minHeatSetpointLimit:_e(21,Ct,{persistent:!0,writeAcl:W.Manage}),maxHeatSetpointLimit:_e(22,Ct,{persistent:!0,writeAcl:W.Manage})}}),e.CoolingComponent=h.Component({attributes:{absMinCoolSetpointLimit:Je(5,Ct,{default:1600}),absMaxCoolSetpointLimit:Je(6,Ct,{default:3200}),piCoolingDemand:ye(7,P.bound({max:100})),occupiedCoolingSetpoint:He(17,Ct,{scene:!0,persistent:!0,default:2600}),minCoolSetpointLimit:_e(23,Ct,{persistent:!0,writeAcl:W.Manage}),maxCoolSetpointLimit:_e(24,Ct,{persistent:!0,writeAcl:W.Manage})}}),e.NotLocalTemperatureNotExposedComponent=h.Component({attributes:{localTemperatureCalibration:_e(16,$i,{persistent:!0,writeAcl:W.Manage})}}),e.CoolingAndOccupancyComponent=h.Component({attributes:{unoccupiedCoolingSetpoint:He(19,Ct,{persistent:!0,default:2600})}}),e.HeatingAndOccupancyComponent=h.Component({attributes:{unoccupiedHeatingSetpoint:He(20,Ct,{persistent:!0,default:2e3})}}),e.AutoModeComponent=h.Component({attributes:{minSetpointDeadBand:He(25,$i,{persistent:!0,writeAcl:W.Manage}),thermostatRunningMode:ye(30,$(),{default:0})}}),e.ScheduleConfigurationComponent=h.Component({attributes:{startOfWeek:me(32,$()),numberOfWeeklyTransitions:me(33,P,{default:0}),numberOfDailyTransitions:me(34,P,{default:0})},commands:{setWeeklySchedule:X(1,e.TlvSetWeeklyScheduleRequest,1,ne,{invokeAcl:W.Manage}),getWeeklySchedule:X(2,e.TlvGetWeeklyScheduleRequest,0,e.TlvGetWeeklyScheduleResponse),clearWeeklySchedule:X(3,Fe,3,ne,{invokeAcl:W.Manage})}}),e.SetbackComponent=h.Component({attributes:{occupiedSetback:He(52,k(P),{persistent:!0,default:null,writeAcl:W.Manage}),occupiedSetbackMin:me(53,k(P),{default:null}),occupiedSetbackMax:me(54,k(P),{default:null})}}),e.SetbackAndOccupancyComponent=h.Component({attributes:{unoccupiedSetback:He(55,k(P),{persistent:!0,default:null,writeAcl:W.Manage}),unoccupiedSetbackMin:me(56,k(P),{default:null}),unoccupiedSetbackMax:me(57,k(P),{default:null})}}),e.Base=h.Component({id:513,name:"Thermostat",revision:6,features:{heating:M(0),cooling:M(1),occupancy:M(2),scheduleConfiguration:M(3),setback:M(4),autoMode:M(5),localTemperatureNotExposed:M(6)},attributes:{localTemperature:V(0,k(Ct),{default:null}),outdoorTemperature:ye(1,k(Ct),{default:null}),remoteSensing:_e(26,Ie(P,e.RemoteSensing),{persistent:!0,writeAcl:W.Manage}),controlSequenceOfOperation:He(27,$(),{persistent:!0,default:4,writeAcl:W.Manage}),systemMode:He(28,$(),{scene:!0,persistent:!0,default:1,writeAcl:W.Manage}),temperatureSetpointHold:_e(35,$(),{persistent:!0,default:0,writeAcl:W.Manage}),temperatureSetpointHoldDuration:_e(36,k(B.bound({max:1440})),{persistent:!0,default:null,writeAcl:W.Manage}),thermostatProgrammingOperationMode:_e(37,Ie(P,e.ProgrammingOperationMode),{writeAcl:W.Manage}),thermostatRunningState:ye(41,Ie(B,e.RelayState)),setpointChangeSource:ye(48,$(),{default:0}),setpointChangeAmount:ye(49,k(Ct),{default:null}),setpointChangeSourceTimestamp:ye(50,Nt,{default:0}),emergencyHeatDelta:_e(58,P,{persistent:!0,writeAcl:W.Manage}),acType:_e(64,$(),{persistent:!0,default:0,writeAcl:W.Manage}),acCapacity:_e(65,B,{persistent:!0,default:0,writeAcl:W.Manage}),acRefrigerantType:_e(66,$(),{persistent:!0,default:0,writeAcl:W.Manage}),acCompressorType:_e(67,$(),{persistent:!0,default:0,writeAcl:W.Manage}),acErrorCode:_e(68,Ie(ee,e.AcErrorCode),{writeAcl:W.Manage}),acLouverPosition:_e(69,$(),{persistent:!0,writeAcl:W.Manage}),acCoilTemperature:ye(70,k(Ct),{default:null}),acCapacityFormat:_e(71,$(),{persistent:!0,default:0,writeAcl:W.Manage})},commands:{setpointRaiseLower:X(0,e.TlvSetpointRaiseLowerRequest,0,ne)},extensions:h.Extensions({flags:{occupancy:!0},component:e.OccupancyComponent},{flags:{heating:!0},component:e.HeatingComponent},{flags:{cooling:!0},component:e.CoolingComponent},{flags:{localTemperatureNotExposed:!1},component:e.NotLocalTemperatureNotExposedComponent},{flags:{cooling:!0,occupancy:!0},component:e.CoolingAndOccupancyComponent},{flags:{heating:!0,occupancy:!0},component:e.HeatingAndOccupancyComponent},{flags:{autoMode:!0},component:e.AutoModeComponent},{flags:{scheduleConfiguration:!0},component:e.ScheduleConfigurationComponent},{flags:{setback:!0},component:e.SetbackComponent},{flags:{setback:!0,occupancy:!0},component:e.SetbackAndOccupancyComponent},{flags:{autoMode:!0,heating:!1},component:!1},{flags:{autoMode:!0,cooling:!1},component:!1},{flags:{heating:!1,cooling:!1},component:!1})}),e.ClusterInstance=h.ExtensibleOnly(e.Base),e.Cluster=e.ClusterInstance;let O={occupancy:!0},D={heating:!0},y={cooling:!0},S={cooling:!0,occupancy:!0},L={heating:!0,occupancy:!0},H={autoMode:!0},oe={scheduleConfiguration:!0},z={setback:!0},Q={setback:!0,occupancy:!0};e.CompleteInstance=h({id:e.Base.id,name:e.Base.name,revision:e.Base.revision,features:e.Base.features,attributes:{...e.Base.attributes,occupancy:h.AsConditional(e.OccupancyComponent.attributes.occupancy,{mandatoryIf:[O]}),absMinHeatSetpointLimit:h.AsConditional(e.HeatingComponent.attributes.absMinHeatSetpointLimit,{optionalIf:[D]}),absMaxHeatSetpointLimit:h.AsConditional(e.HeatingComponent.attributes.absMaxHeatSetpointLimit,{optionalIf:[D]}),absMinCoolSetpointLimit:h.AsConditional(e.CoolingComponent.attributes.absMinCoolSetpointLimit,{optionalIf:[y]}),absMaxCoolSetpointLimit:h.AsConditional(e.CoolingComponent.attributes.absMaxCoolSetpointLimit,{optionalIf:[y]}),piCoolingDemand:h.AsConditional(e.CoolingComponent.attributes.piCoolingDemand,{optionalIf:[y]}),piHeatingDemand:h.AsConditional(e.HeatingComponent.attributes.piHeatingDemand,{optionalIf:[D]}),localTemperatureCalibration:h.AsConditional(e.NotLocalTemperatureNotExposedComponent.attributes.localTemperatureCalibration,{optionalIf:[]}),occupiedCoolingSetpoint:h.AsConditional(e.CoolingComponent.attributes.occupiedCoolingSetpoint,{mandatoryIf:[y]}),occupiedHeatingSetpoint:h.AsConditional(e.HeatingComponent.attributes.occupiedHeatingSetpoint,{mandatoryIf:[D]}),unoccupiedCoolingSetpoint:h.AsConditional(e.CoolingAndOccupancyComponent.attributes.unoccupiedCoolingSetpoint,{mandatoryIf:[S]}),unoccupiedHeatingSetpoint:h.AsConditional(e.HeatingAndOccupancyComponent.attributes.unoccupiedHeatingSetpoint,{mandatoryIf:[L]}),minHeatSetpointLimit:h.AsConditional(e.HeatingComponent.attributes.minHeatSetpointLimit,{optionalIf:[D]}),maxHeatSetpointLimit:h.AsConditional(e.HeatingComponent.attributes.maxHeatSetpointLimit,{optionalIf:[D]}),minCoolSetpointLimit:h.AsConditional(e.CoolingComponent.attributes.minCoolSetpointLimit,{optionalIf:[y]}),maxCoolSetpointLimit:h.AsConditional(e.CoolingComponent.attributes.maxCoolSetpointLimit,{optionalIf:[y]}),minSetpointDeadBand:h.AsConditional(e.AutoModeComponent.attributes.minSetpointDeadBand,{mandatoryIf:[H]}),thermostatRunningMode:h.AsConditional(e.AutoModeComponent.attributes.thermostatRunningMode,{optionalIf:[H]}),startOfWeek:h.AsConditional(e.ScheduleConfigurationComponent.attributes.startOfWeek,{mandatoryIf:[oe]}),numberOfWeeklyTransitions:h.AsConditional(e.ScheduleConfigurationComponent.attributes.numberOfWeeklyTransitions,{mandatoryIf:[oe]}),numberOfDailyTransitions:h.AsConditional(e.ScheduleConfigurationComponent.attributes.numberOfDailyTransitions,{mandatoryIf:[oe]}),occupiedSetback:h.AsConditional(e.SetbackComponent.attributes.occupiedSetback,{mandatoryIf:[z]}),occupiedSetbackMin:h.AsConditional(e.SetbackComponent.attributes.occupiedSetbackMin,{mandatoryIf:[z]}),occupiedSetbackMax:h.AsConditional(e.SetbackComponent.attributes.occupiedSetbackMax,{mandatoryIf:[z]}),unoccupiedSetback:h.AsConditional(e.SetbackAndOccupancyComponent.attributes.unoccupiedSetback,{mandatoryIf:[Q]}),unoccupiedSetbackMin:h.AsConditional(e.SetbackAndOccupancyComponent.attributes.unoccupiedSetbackMin,{mandatoryIf:[Q]}),unoccupiedSetbackMax:h.AsConditional(e.SetbackAndOccupancyComponent.attributes.unoccupiedSetbackMax,{mandatoryIf:[Q]})},commands:{...e.Base.commands,setWeeklySchedule:h.AsConditional(e.ScheduleConfigurationComponent.commands.setWeeklySchedule,{mandatoryIf:[oe]}),getWeeklySchedule:h.AsConditional(e.ScheduleConfigurationComponent.commands.getWeeklySchedule,{mandatoryIf:[oe]}),clearWeeklySchedule:h.AsConditional(e.ScheduleConfigurationComponent.commands.clearWeeklySchedule,{mandatoryIf:[oe]})}}),e.Complete=e.CompleteInstance})(Kd||(Kd={}));var P_=Kd.Cluster;re.register(Kd.Complete);var Xd;(e=>{let t;(r=>{r[r.Celsius=0]="Celsius",r[r.Fahrenheit=1]="Fahrenheit"})(t=e.TemperatureDisplayMode||(e.TemperatureDisplayMode={}));let n;(r=>{r[r.NoLockout=0]="NoLockout",r[r.Lockout1=1]="Lockout1",r[r.Lockout2=2]="Lockout2",r[r.Lockout3=3]="Lockout3",r[r.Lockout4=4]="Lockout4",r[r.Lockout5=5]="Lockout5"})(n=e.KeypadLockout||(e.KeypadLockout={}));let i;(r=>{r[r.ScheduleProgrammingPermitted=0]="ScheduleProgrammingPermitted",r[r.ScheduleProgrammingDenied=1]="ScheduleProgrammingDenied"})(i=e.ScheduleProgrammingVisibility||(e.ScheduleProgrammingVisibility={})),e.ClusterInstance=h({id:516,name:"ThermostatUserInterfaceConfiguration",revision:2,attributes:{temperatureDisplayMode:He(0,$(),{default:0}),keypadLockout:He(1,$(),{default:0,writeAcl:W.Manage}),scheduleProgrammingVisibility:_e(2,$(),{default:0,writeAcl:W.Manage})}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(Xd||(Xd={}));var k_=Xd.Cluster;re.register(Xd.Complete);var Yd;(e=>{let t;(l=>{l.PacketCounts="PacketCounts",l.ErrorCounts="ErrorCounts",l.MleCounts="MleCounts",l.MacCounts="MacCounts"})(t=e.Feature||(e.Feature={}));let n;(l=>{l[l.Unspecified=0]="Unspecified",l[l.Unassigned=1]="Unassigned",l[l.SleepyEndDevice=2]="SleepyEndDevice",l[l.EndDevice=3]="EndDevice",l[l.Reed=4]="Reed",l[l.Router=5]="Router",l[l.Leader=6]="Leader"})(n=e.RoutingRole||(e.RoutingRole={})),e.TlvNeighborTable=I({extAddress:m(0,nt),age:m(1,ee),rloc16:m(2,B),linkFrameCounter:m(3,ee),mleFrameCounter:m(4,ee),lqi:m(5,P),averageRssi:m(6,k($i.bound({max:0}))),lastRssi:m(7,k($i.bound({max:0}))),frameErrorRate:m(8,P.bound({max:100})),messageErrorRate:m(9,P.bound({max:100})),rxOnWhenIdle:m(10,Ae),fullThreadDevice:m(11,Ae),fullNetworkData:m(12,Ae),isChild:m(13,Ae)}),e.TlvRouteTable=I({extAddress:m(0,nt),rloc16:m(1,B),routerId:m(2,P),nextHop:m(3,P),pathCost:m(4,P),lqiIn:m(5,P),lqiOut:m(6,P),age:m(7,P),allocated:m(8,Ae),linkEstablished:m(9,Ae)}),e.TlvSecurityPolicy=I({rotationTime:m(0,B),flags:m(1,B)}),e.TlvOperationalDatasetComponents=I({activeTimestampPresent:m(0,Ae),pendingTimestampPresent:m(1,Ae),masterKeyPresent:m(2,Ae),networkNamePresent:m(3,Ae),extendedPanIdPresent:m(4,Ae),meshLocalPrefixPresent:m(5,Ae),delayPresent:m(6,Ae),panIdPresent:m(7,Ae),channelPresent:m(8,Ae),pskcPresent:m(9,Ae),securityPolicyPresent:m(10,Ae),channelMaskPresent:m(11,Ae)});let i;(l=>{l[l.Unspecified=0]="Unspecified",l[l.LinkDown=1]="LinkDown",l[l.HardwareFailure=2]="HardwareFailure",l[l.NetworkJammed=3]="NetworkJammed"})(i=e.NetworkFault||(e.NetworkFault={}));let r;(l=>{l[l.Connected=0]="Connected",l[l.NotConnected=1]="NotConnected"})(r=e.ConnectionStatus||(e.ConnectionStatus={})),e.TlvConnectionStatusEvent=I({connectionStatus:m(0,$())}),e.TlvNetworkFaultChangeEvent=I({current:m(0,Y($(),{maxLength:4})),previous:m(1,Y($(),{maxLength:4}))}),e.ErrorCountsComponent=h.Component({attributes:{overrunCount:V(6,nt,{omitChanges:!0,default:0})},commands:{resetCounts:X(0,Fe,0,ne,{invokeAcl:W.Manage})}}),e.MleCountsComponent=h.Component({attributes:{detachedRoleCount:ye(14,B,{omitChanges:!0,default:0}),childRoleCount:ye(15,B,{omitChanges:!0,default:0}),routerRoleCount:ye(16,B,{omitChanges:!0,default:0}),leaderRoleCount:ye(17,B,{omitChanges:!0,default:0}),attachAttemptCount:ye(18,B,{omitChanges:!0,default:0}),partitionIdChangeCount:ye(19,B,{omitChanges:!0,default:0}),betterPartitionAttachAttemptCount:ye(20,B,{omitChanges:!0,default:0}),parentChangeCount:ye(21,B,{omitChanges:!0,default:0})}}),e.MacCountsComponent=h.Component({attributes:{txTotalCount:ye(22,ee,{omitChanges:!0,default:0}),txUnicastCount:ye(23,ee,{omitChanges:!0,default:0}),txBroadcastCount:ye(24,ee,{omitChanges:!0,default:0}),txAckRequestedCount:ye(25,ee,{omitChanges:!0,default:0}),txAckedCount:ye(26,ee,{omitChanges:!0,default:0}),txNoAckRequestedCount:ye(27,ee,{omitChanges:!0,default:0}),txDataCount:ye(28,ee,{omitChanges:!0,default:0}),txDataPollCount:ye(29,ee,{omitChanges:!0,default:0}),txBeaconCount:ye(30,ee,{omitChanges:!0,default:0}),txBeaconRequestCount:ye(31,ee,{omitChanges:!0,default:0}),txOtherCount:ye(32,ee,{omitChanges:!0,default:0}),txRetryCount:ye(33,ee,{omitChanges:!0,default:0}),txDirectMaxRetryExpiryCount:ye(34,ee,{omitChanges:!0,default:0}),txIndirectMaxRetryExpiryCount:ye(35,ee,{omitChanges:!0,default:0}),txErrCcaCount:ye(36,ee,{omitChanges:!0,default:0}),txErrAbortCount:ye(37,ee,{omitChanges:!0,default:0}),txErrBusyChannelCount:ye(38,ee,{omitChanges:!0,default:0}),rxTotalCount:ye(39,ee,{omitChanges:!0,default:0}),rxUnicastCount:ye(40,ee,{omitChanges:!0,default:0}),rxBroadcastCount:ye(41,ee,{omitChanges:!0,default:0}),rxDataCount:ye(42,ee,{omitChanges:!0,default:0}),rxDataPollCount:ye(43,ee,{omitChanges:!0,default:0}),rxBeaconCount:ye(44,ee,{omitChanges:!0,default:0}),rxBeaconRequestCount:ye(45,ee,{omitChanges:!0,default:0}),rxOtherCount:ye(46,ee,{omitChanges:!0,default:0}),rxAddressFilteredCount:ye(47,ee,{omitChanges:!0,default:0}),rxDestAddrFilteredCount:ye(48,ee,{omitChanges:!0,default:0}),rxDuplicatedCount:ye(49,ee,{omitChanges:!0,default:0}),rxErrNoFrameCount:ye(50,ee,{omitChanges:!0,default:0}),rxErrUnknownNeighborCount:ye(51,ee,{omitChanges:!0,default:0}),rxErrInvalidSrcAddrCount:ye(52,ee,{omitChanges:!0,default:0}),rxErrSecCount:ye(53,ee,{omitChanges:!0,default:0}),rxErrFcsCount:ye(54,ee,{omitChanges:!0,default:0}),rxErrOtherCount:ye(55,ee,{omitChanges:!0,default:0})}}),e.Base=h.Component({id:53,name:"ThreadNetworkDiagnostics",revision:2,features:{packetCounts:M(0),errorCounts:M(1),mleCounts:M(2),macCounts:M(3)},attributes:{channel:V(0,k(B)),routingRole:V(1,k($())),networkName:V(2,k(Z.bound({maxLength:16}))),panId:V(3,k(B)),extendedPanId:V(4,k(nt)),meshLocalPrefix:V(5,k(be)),neighborTable:V(7,Y(e.TlvNeighborTable),{default:[]}),routeTable:V(8,Y(e.TlvRouteTable),{default:[]}),partitionId:V(9,k(ee)),weighting:V(10,k(B.bound({max:255}))),dataVersion:V(11,k(B.bound({max:255}))),stableDataVersion:V(12,k(B.bound({max:255}))),leaderRouterId:V(13,k(P.bound({max:62}))),activeTimestamp:ye(56,k(nt),{default:0}),pendingTimestamp:ye(57,k(nt),{default:0}),delay:ye(58,k(ee),{default:0}),securityPolicy:V(59,k(e.TlvSecurityPolicy)),channelPage0Mask:V(60,k(be.bound({length:4}))),operationalDatasetComponents:V(61,k(e.TlvOperationalDatasetComponents)),activeNetworkFaultsList:V(62,Y($(),{maxLength:4}),{default:[]})},events:{connectionStatus:ct(0,Te.Info,e.TlvConnectionStatusEvent),networkFaultChange:ct(1,Te.Info,e.TlvNetworkFaultChangeEvent)},extensions:h.Extensions({flags:{errorCounts:!0},component:e.ErrorCountsComponent},{flags:{mleCounts:!0},component:e.MleCountsComponent},{flags:{macCounts:!0},component:e.MacCountsComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let a={errorCounts:!0},s={mleCounts:!0},c={macCounts:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,overrunCount:h.AsConditional(e.ErrorCountsComponent.attributes.overrunCount,{mandatoryIf:[a]}),detachedRoleCount:h.AsConditional(e.MleCountsComponent.attributes.detachedRoleCount,{optionalIf:[s]}),childRoleCount:h.AsConditional(e.MleCountsComponent.attributes.childRoleCount,{optionalIf:[s]}),routerRoleCount:h.AsConditional(e.MleCountsComponent.attributes.routerRoleCount,{optionalIf:[s]}),leaderRoleCount:h.AsConditional(e.MleCountsComponent.attributes.leaderRoleCount,{optionalIf:[s]}),attachAttemptCount:h.AsConditional(e.MleCountsComponent.attributes.attachAttemptCount,{optionalIf:[s]}),partitionIdChangeCount:h.AsConditional(e.MleCountsComponent.attributes.partitionIdChangeCount,{optionalIf:[s]}),betterPartitionAttachAttemptCount:h.AsConditional(e.MleCountsComponent.attributes.betterPartitionAttachAttemptCount,{optionalIf:[s]}),parentChangeCount:h.AsConditional(e.MleCountsComponent.attributes.parentChangeCount,{optionalIf:[s]}),txTotalCount:h.AsConditional(e.MacCountsComponent.attributes.txTotalCount,{optionalIf:[c]}),txUnicastCount:h.AsConditional(e.MacCountsComponent.attributes.txUnicastCount,{optionalIf:[c]}),txBroadcastCount:h.AsConditional(e.MacCountsComponent.attributes.txBroadcastCount,{optionalIf:[c]}),txAckRequestedCount:h.AsConditional(e.MacCountsComponent.attributes.txAckRequestedCount,{optionalIf:[c]}),txAckedCount:h.AsConditional(e.MacCountsComponent.attributes.txAckedCount,{optionalIf:[c]}),txNoAckRequestedCount:h.AsConditional(e.MacCountsComponent.attributes.txNoAckRequestedCount,{optionalIf:[c]}),txDataCount:h.AsConditional(e.MacCountsComponent.attributes.txDataCount,{optionalIf:[c]}),txDataPollCount:h.AsConditional(e.MacCountsComponent.attributes.txDataPollCount,{optionalIf:[c]}),txBeaconCount:h.AsConditional(e.MacCountsComponent.attributes.txBeaconCount,{optionalIf:[c]}),txBeaconRequestCount:h.AsConditional(e.MacCountsComponent.attributes.txBeaconRequestCount,{optionalIf:[c]}),txOtherCount:h.AsConditional(e.MacCountsComponent.attributes.txOtherCount,{optionalIf:[c]}),txRetryCount:h.AsConditional(e.MacCountsComponent.attributes.txRetryCount,{optionalIf:[c]}),txDirectMaxRetryExpiryCount:h.AsConditional(e.MacCountsComponent.attributes.txDirectMaxRetryExpiryCount,{optionalIf:[c]}),txIndirectMaxRetryExpiryCount:h.AsConditional(e.MacCountsComponent.attributes.txIndirectMaxRetryExpiryCount,{optionalIf:[c]}),txErrCcaCount:h.AsConditional(e.MacCountsComponent.attributes.txErrCcaCount,{optionalIf:[c]}),txErrAbortCount:h.AsConditional(e.MacCountsComponent.attributes.txErrAbortCount,{optionalIf:[c]}),txErrBusyChannelCount:h.AsConditional(e.MacCountsComponent.attributes.txErrBusyChannelCount,{optionalIf:[c]}),rxTotalCount:h.AsConditional(e.MacCountsComponent.attributes.rxTotalCount,{optionalIf:[c]}),rxUnicastCount:h.AsConditional(e.MacCountsComponent.attributes.rxUnicastCount,{optionalIf:[c]}),rxBroadcastCount:h.AsConditional(e.MacCountsComponent.attributes.rxBroadcastCount,{optionalIf:[c]}),rxDataCount:h.AsConditional(e.MacCountsComponent.attributes.rxDataCount,{optionalIf:[c]}),rxDataPollCount:h.AsConditional(e.MacCountsComponent.attributes.rxDataPollCount,{optionalIf:[c]}),rxBeaconCount:h.AsConditional(e.MacCountsComponent.attributes.rxBeaconCount,{optionalIf:[c]}),rxBeaconRequestCount:h.AsConditional(e.MacCountsComponent.attributes.rxBeaconRequestCount,{optionalIf:[c]}),rxOtherCount:h.AsConditional(e.MacCountsComponent.attributes.rxOtherCount,{optionalIf:[c]}),rxAddressFilteredCount:h.AsConditional(e.MacCountsComponent.attributes.rxAddressFilteredCount,{optionalIf:[c]}),rxDestAddrFilteredCount:h.AsConditional(e.MacCountsComponent.attributes.rxDestAddrFilteredCount,{optionalIf:[c]}),rxDuplicatedCount:h.AsConditional(e.MacCountsComponent.attributes.rxDuplicatedCount,{optionalIf:[c]}),rxErrNoFrameCount:h.AsConditional(e.MacCountsComponent.attributes.rxErrNoFrameCount,{optionalIf:[c]}),rxErrUnknownNeighborCount:h.AsConditional(e.MacCountsComponent.attributes.rxErrUnknownNeighborCount,{optionalIf:[c]}),rxErrInvalidSrcAddrCount:h.AsConditional(e.MacCountsComponent.attributes.rxErrInvalidSrcAddrCount,{optionalIf:[c]}),rxErrSecCount:h.AsConditional(e.MacCountsComponent.attributes.rxErrSecCount,{optionalIf:[c]}),rxErrFcsCount:h.AsConditional(e.MacCountsComponent.attributes.rxErrFcsCount,{optionalIf:[c]}),rxErrOtherCount:h.AsConditional(e.MacCountsComponent.attributes.rxErrOtherCount,{optionalIf:[c]})},commands:{resetCounts:h.AsConditional(e.ErrorCountsComponent.commands.resetCounts,{mandatoryIf:[a]})},events:e.Cluster.events}),e.Complete=e.CompleteInstance})(Yd||(Yd={}));var F_=Yd.Cluster;re.register(Yd.Complete);var oi;(e=>{let t;(a=>{a.CalendarFormat="CalendarFormat"})(t=e.Feature||(e.Feature={}));let n;(a=>{a[a.Buddhist=0]="Buddhist",a[a.Chinese=1]="Chinese",a[a.Coptic=2]="Coptic",a[a.Ethiopian=3]="Ethiopian",a[a.Gregorian=4]="Gregorian",a[a.Hebrew=5]="Hebrew",a[a.Indian=6]="Indian",a[a.Islamic=7]="Islamic",a[a.Japanese=8]="Japanese",a[a.Korean=9]="Korean",a[a.Persian=10]="Persian",a[a.Taiwanese=11]="Taiwanese",a[a.UseActiveLocale=255]="UseActiveLocale"})(n=e.CalendarType||(e.CalendarType={}));let i;(a=>{a[a["12Hr"]=0]="12Hr",a[a["24Hr"]=1]="24Hr",a[a.UseActiveLocale=255]="UseActiveLocale"})(i=e.HourFormat||(e.HourFormat={})),e.CalendarFormatComponent=h.Component({attributes:{activeCalendarType:He(1,$(),{persistent:!0,writeAcl:W.Manage}),supportedCalendarTypes:me(2,Y($()),{default:[]})}}),e.Base=h.Component({id:44,name:"TimeFormatLocalization",revision:1,features:{calendarFormat:M(0)},attributes:{hourFormat:He(0,$(),{persistent:!0,writeAcl:W.Manage})},extensions:h.Extensions({flags:{calendarFormat:!0},component:e.CalendarFormatComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let r={calendarFormat:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,activeCalendarType:h.AsConditional(e.CalendarFormatComponent.attributes.activeCalendarType,{mandatoryIf:[r]}),supportedCalendarTypes:h.AsConditional(e.CalendarFormatComponent.attributes.supportedCalendarTypes,{mandatoryIf:[r]})}}),e.Complete=e.CompleteInstance})(oi||(oi={}));var L_=oi.Cluster;re.register(oi.Complete);var Zd;(e=>{let t;(f=>{f.TimeZone="TimeZone",f.NtpClient="NtpClient",f.NtpServer="NtpServer",f.TimeSyncClient="TimeSyncClient"})(t=e.Feature||(e.Feature={})),e.TlvTrustedTimeSource=I({fabricIndex:m(0,Ut),nodeId:m(1,Ft),endpoint:m(2,yn)}),e.TlvFabricScopedTrustedTimeSource=I({nodeId:m(0,Ft),endpoint:m(1,yn)}),e.TlvSetTrustedTimeSourceRequest=I({trustedTimeSource:m(0,k(e.TlvFabricScopedTrustedTimeSource)),fabricIndex:m(254,Ut)}),e.TlvSetDefaultNtpRequest=I({defaultNtp:m(0,k(Z.bound({maxLength:128})))}),e.TlvTimeZone=I({offset:m(0,oa.bound({min:-43200,max:50400})),validAt:m(1,ki),name:R(2,Z.bound({minLength:0,maxLength:64}))}),e.TlvDstOffset=I({offset:m(0,oa),validStarting:m(1,ki),validUntil:m(2,k(ki))});let n;(f=>{f[f.Full=0]="Full",f[f.Partial=1]="Partial",f[f.None=2]="None"})(n=e.TimeZoneDatabase||(e.TimeZoneDatabase={})),e.TlvSetTimeZoneRequest=I({timeZone:m(0,Y(e.TlvTimeZone,{minLength:1,maxLength:2}))}),e.TlvSetTimeZoneResponse=I({dstOffsetsRequired:m(0,Ae)}),e.TlvSetDstOffsetRequest=I({dstOffset:m(0,Y(e.TlvDstOffset))}),e.TlvDstStatusEvent=I({dstOffsetActive:m(0,Ae)}),e.TlvTimeZoneStatusEvent=I({offset:m(0,oa.bound({min:-43200,max:50400})),name:R(1,Z.bound({minLength:0,maxLength:64}))});let i;(f=>{f[f.NoTimeGranularity=0]="NoTimeGranularity",f[f.MinutesGranularity=1]="MinutesGranularity",f[f.SecondsGranularity=2]="SecondsGranularity",f[f.MillisecondsGranularity=3]="MillisecondsGranularity",f[f.MicrosecondsGranularity=4]="MicrosecondsGranularity"})(i=e.Granularity||(e.Granularity={}));let r;(f=>{f[f.None=0]="None",f[f.Unknown=1]="Unknown",f[f.Admin=2]="Admin",f[f.NodeTimeCluster=3]="NodeTimeCluster",f[f.NonMatterSntp=4]="NonMatterSntp",f[f.NonMatterNtp=5]="NonMatterNtp",f[f.MatterSntp=6]="MatterSntp",f[f.MatterNtp=7]="MatterNtp",f[f.MixedNtp=8]="MixedNtp",f[f.NonMatterSntpnts=9]="NonMatterSntpnts",f[f.NonMatterNtpnts=10]="NonMatterNtpnts",f[f.MatterSntpnts=11]="MatterSntpnts",f[f.MatterNtpnts=12]="MatterNtpnts",f[f.MixedNtpnts=13]="MixedNtpnts",f[f.CloudSource=14]="CloudSource",f[f.Ptp=15]="Ptp",f[f.Gnss=16]="Gnss"})(r=e.TimeSource||(e.TimeSource={})),e.TlvSetUtcTimeRequest=I({utcTime:m(0,ki),granularity:m(1,$()),timeSource:R(2,$())});let a;(f=>{f[f.TimeNotAccepted=2]="TimeNotAccepted"})(a=e.StatusCode||(e.StatusCode={})),e.TimeSyncClientComponent=h.Component({attributes:{trustedTimeSource:V(3,k(e.TlvTrustedTimeSource),{persistent:!0,default:null})},commands:{setTrustedTimeSource:X(1,e.TlvSetTrustedTimeSourceRequest,1,ne,{invokeAcl:W.Administer})},events:{missingTrustedTimeSource:it(4,Te.Info,Fe)}}),e.NtpClientComponent=h.Component({attributes:{defaultNtp:V(4,k(Z.bound({maxLength:128})),{persistent:!0,default:null}),supportsDnsResolve:me(12,Ae,{default:!1})},commands:{setDefaultNtp:X(5,e.TlvSetDefaultNtpRequest,5,ne,{invokeAcl:W.Administer})}}),e.TimeZoneComponent=h.Component({attributes:{timeZone:V(5,Y(e.TlvTimeZone,{minLength:1,maxLength:2}),{persistent:!0,default:[{offset:0,validAt:0}]}),dstOffset:V(6,Y(e.TlvDstOffset),{persistent:!0,default:[]}),localTime:V(7,k(ki),{omitChanges:!0,default:null}),timeZoneDatabase:me(8,$(),{default:2}),timeZoneListMaxSize:me(10,P.bound({min:1,max:2})),dstOffsetListMaxSize:me(11,P.bound({min:1}))},commands:{setTimeZone:X(2,e.TlvSetTimeZoneRequest,3,e.TlvSetTimeZoneResponse,{invokeAcl:W.Manage}),setDstOffset:X(4,e.TlvSetDstOffsetRequest,4,ne,{invokeAcl:W.Manage})},events:{dstTableEmpty:it(0,Te.Info,Fe),dstStatus:it(1,Te.Info,e.TlvDstStatusEvent),timeZoneStatus:it(2,Te.Info,e.TlvTimeZoneStatusEvent)}}),e.NtpServerComponent=h.Component({attributes:{ntpServerAvailable:V(9,Ae,{default:!1})}}),e.Base=h.Component({id:56,name:"TimeSynchronization",revision:2,features:{timeZone:M(0),ntpClient:M(1),ntpServer:M(2),timeSyncClient:M(3)},attributes:{utcTime:V(0,k(ki),{omitChanges:!0,default:null}),granularity:V(1,$(),{default:0}),timeSource:ye(2,$(),{default:0})},commands:{setUtcTime:X(0,e.TlvSetUtcTimeRequest,0,ne,{invokeAcl:W.Administer})},events:{timeFailure:it(3,Te.Info,Fe)},extensions:h.Extensions({flags:{timeSyncClient:!0},component:e.TimeSyncClientComponent},{flags:{ntpClient:!0},component:e.NtpClientComponent},{flags:{timeZone:!0},component:e.TimeZoneComponent},{flags:{ntpServer:!0},component:e.NtpServerComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let s={timeSyncClient:!0},c={ntpClient:!0},l={timeZone:!0},d={ntpServer:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,trustedTimeSource:h.AsConditional(e.TimeSyncClientComponent.attributes.trustedTimeSource,{mandatoryIf:[s]}),defaultNtp:h.AsConditional(e.NtpClientComponent.attributes.defaultNtp,{mandatoryIf:[c]}),timeZone:h.AsConditional(e.TimeZoneComponent.attributes.timeZone,{mandatoryIf:[l]}),dstOffset:h.AsConditional(e.TimeZoneComponent.attributes.dstOffset,{mandatoryIf:[l]}),localTime:h.AsConditional(e.TimeZoneComponent.attributes.localTime,{mandatoryIf:[l]}),timeZoneDatabase:h.AsConditional(e.TimeZoneComponent.attributes.timeZoneDatabase,{mandatoryIf:[l]}),ntpServerAvailable:h.AsConditional(e.NtpServerComponent.attributes.ntpServerAvailable,{mandatoryIf:[d]}),timeZoneListMaxSize:h.AsConditional(e.TimeZoneComponent.attributes.timeZoneListMaxSize,{mandatoryIf:[l]}),dstOffsetListMaxSize:h.AsConditional(e.TimeZoneComponent.attributes.dstOffsetListMaxSize,{mandatoryIf:[l]}),supportsDnsResolve:h.AsConditional(e.NtpClientComponent.attributes.supportsDnsResolve,{mandatoryIf:[c]})},commands:{...e.Cluster.commands,setTrustedTimeSource:h.AsConditional(e.TimeSyncClientComponent.commands.setTrustedTimeSource,{mandatoryIf:[s]}),setTimeZone:h.AsConditional(e.TimeZoneComponent.commands.setTimeZone,{mandatoryIf:[l]}),setDstOffset:h.AsConditional(e.TimeZoneComponent.commands.setDstOffset,{mandatoryIf:[l]}),setDefaultNtp:h.AsConditional(e.NtpClientComponent.commands.setDefaultNtp,{mandatoryIf:[c]})},events:{...e.Cluster.events,dstTableEmpty:h.AsConditional(e.TimeZoneComponent.events.dstTableEmpty,{mandatoryIf:[l]}),dstStatus:h.AsConditional(e.TimeZoneComponent.events.dstStatus,{mandatoryIf:[l]}),timeZoneStatus:h.AsConditional(e.TimeZoneComponent.events.timeZoneStatus,{mandatoryIf:[l]}),missingTrustedTimeSource:h.AsConditional(e.TimeSyncClientComponent.events.missingTrustedTimeSource,{mandatoryIf:[s]})}}),e.Complete=e.CompleteInstance})(Zd||(Zd={}));var t5=Zd.Cluster;re.register(Zd.Complete);var Qd;(e=>{e.Base={...gn.Base,id:1070,name:"TotalVolatileOrganicCompoundsConcentrationMeasurement"},e.ClusterInstance=h.ExtensibleOnly(e.Base),e.Cluster=e.ClusterInstance,e.CompleteInstance=h({...gn.Complete,id:1070,name:"TotalVolatileOrganicCompoundsConcentrationMeasurement"}),e.Complete=e.CompleteInstance})(Qd||(Qd={}));var B_=Qd.Cluster;re.register(Qd.Complete);var _s;(e=>{let t;(r=>{r.TemperatureUnit="TemperatureUnit"})(t=e.Feature||(e.Feature={}));let n;(r=>{r[r.Fahrenheit=0]="Fahrenheit",r[r.Celsius=1]="Celsius",r[r.Kelvin=2]="Kelvin"})(n=e.TempUnit||(e.TempUnit={})),e.TemperatureUnitComponent=h.Component({attributes:{temperatureUnit:He(0,$(),{persistent:!0,writeAcl:W.Manage})}}),e.Base=h.Component({id:45,name:"UnitLocalization",revision:1,features:{temperatureUnit:M(0)},extensions:h.Extensions({flags:{temperatureUnit:!0},component:e.TemperatureUnitComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let i={temperatureUnit:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{temperatureUnit:h.AsConditional(e.TemperatureUnitComponent.attributes.temperatureUnit,{mandatoryIf:[i]})}}),e.Complete=e.CompleteInstance})(_s||(_s={}));var U_=_s.Cluster;re.register(_s.Complete);var xp;(e=>{e.ClusterInstance=h({id:65,name:"UserLabel",revision:1,attributes:{labelList:He(0,Y(rd.TlvLabelStruct,{minLength:0}),{persistent:!0,default:[],writeAcl:W.Manage})}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(xp||(xp={}));var V_=xp.Cluster;re.register(xp.Complete);var wp;(e=>{e.TlvValidProxy=I({nodeId:m(1,Ft)}),e.TlvGetValidProxiesResponse=I({proxyNodeIdList:m(0,Y(Ft))}),e.ClusterInstance=h({id:68,name:"ValidProxies",revision:1,attributes:{validProxyList:me(0,Y(e.TlvValidProxy),{persistent:!0,default:[]})},commands:{getValidProxiesRequest:X(0,Fe,1,e.TlvGetValidProxiesResponse)}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(wp||(wp={}));var q_=wp.Cluster;re.register(wp.Complete);var Jd;(e=>{let t;(s=>{s.TimeSync="TimeSync",s.Level="Level"})(t=e.Feature||(e.Feature={}));let n;(s=>{s[s.Closed=0]="Closed",s[s.Open=1]="Open",s[s.Transitioning=2]="Transitioning"})(n=e.ValveState||(e.ValveState={})),e.ValveFault={generalFault:M(0),blocked:M(1),leaking:M(2),notConnected:M(3),shortCircuit:M(4),currentExceeded:M(5)},e.TlvOpenRequest=I({openDuration:R(0,k(ee.bound({min:1}))),targetLevel:R(1,Ii.bound({min:1}))}),e.TlvValveStateChangedEvent=I({valveState:m(0,$()),valveLevel:R(1,Ii)}),e.TlvValveFaultEvent=I({valveFault:m(0,Ie(B,e.ValveFault))});let i;(s=>{s[s.FailureDueToFault=2]="FailureDueToFault"})(i=e.StatusCode||(e.StatusCode={})),e.TimeSyncComponent=h.Component({attributes:{autoCloseTime:V(2,k(ki),{default:null})}}),e.LevelComponent=h.Component({attributes:{currentLevel:V(6,k(Ii),{default:null}),targetLevel:V(7,k(Ii),{default:null}),defaultOpenLevel:_e(8,Ii.bound({min:1}),{persistent:!0,default:100}),levelStep:Je(10,P.bound({min:1,max:50}),{default:1})}}),e.Base=h.Component({id:129,name:"ValveConfigurationAndControl",revision:1,features:{timeSync:M(0),level:M(1)},attributes:{openDuration:V(0,k(ee.bound({min:1})),{default:null}),defaultOpenDuration:He(1,k(ee.bound({min:1})),{persistent:!0,default:null}),remainingDuration:V(3,k(ee),{default:null}),currentState:V(4,k($()),{default:null}),targetState:V(5,k($()),{default:null}),valveFault:ye(9,Ie(B,e.ValveFault))},commands:{open:X(0,e.TlvOpenRequest,0,ne),close:X(1,Fe,1,ne)},events:{valveStateChanged:ct(0,Te.Info,e.TlvValveStateChangedEvent),valveFault:ct(1,Te.Info,e.TlvValveFaultEvent)},extensions:h.Extensions({flags:{timeSync:!0},component:e.TimeSyncComponent},{flags:{level:!0},component:e.LevelComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let r={timeSync:!0},a={level:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,autoCloseTime:h.AsConditional(e.TimeSyncComponent.attributes.autoCloseTime,{mandatoryIf:[r]}),currentLevel:h.AsConditional(e.LevelComponent.attributes.currentLevel,{mandatoryIf:[a]}),targetLevel:h.AsConditional(e.LevelComponent.attributes.targetLevel,{mandatoryIf:[a]}),defaultOpenLevel:h.AsConditional(e.LevelComponent.attributes.defaultOpenLevel,{optionalIf:[a]}),levelStep:h.AsConditional(e.LevelComponent.attributes.levelStep,{optionalIf:[a]})},commands:e.Cluster.commands,events:e.Cluster.events}),e.Complete=e.CompleteInstance})(Jd||(Jd={}));var __=Jd.Cluster;re.register(Jd.Complete);var eu;(e=>{e.ClusterInstance=h({id:1283,name:"WakeOnLan",revision:1,attributes:{macAddress:Je(0,Z.bound({maxLength:12})),linkLocalAddress:Je(1,be)}}),e.Cluster=e.ClusterInstance,e.Complete=e.Cluster})(eu||(eu={}));var $_=eu.Cluster;re.register(eu.Complete);var tu;(e=>{let t;(l=>{l.PacketCounts="PacketCounts",l.ErrorCounts="ErrorCounts"})(t=e.Feature||(e.Feature={}));let n;(l=>{l[l.Unspecified=0]="Unspecified",l[l.None=1]="None",l[l.Wep=2]="Wep",l[l.Wpa=3]="Wpa",l[l.Wpa2=4]="Wpa2",l[l.Wpa3=5]="Wpa3"})(n=e.SecurityType||(e.SecurityType={}));let i;(l=>{l[l.A=0]="A",l[l.B=1]="B",l[l.G=2]="G",l[l.N=3]="N",l[l.Ac=4]="Ac",l[l.Ax=5]="Ax",l[l.Ah=6]="Ah"})(i=e.WiFiVersion||(e.WiFiVersion={})),e.TlvDisconnectionEvent=I({reasonCode:m(0,B)});let r;(l=>{l[l.Unknown=0]="Unknown",l[l.AssociationFailed=1]="AssociationFailed",l[l.AuthenticationFailed=2]="AuthenticationFailed",l[l.SsidNotFound=3]="SsidNotFound"})(r=e.AssociationFailureCause||(e.AssociationFailureCause={})),e.TlvAssociationFailureEvent=I({associationFailureCause:m(0,$()),status:m(1,B)});let a;(l=>{l[l.Connected=0]="Connected",l[l.NotConnected=1]="NotConnected"})(a=e.ConnectionStatus||(e.ConnectionStatus={})),e.TlvConnectionStatusEvent=I({connectionStatus:m(0,$())}),e.ErrorCountsComponent=h.Component({attributes:{beaconLostCount:V(5,k(ee),{omitChanges:!0,default:0}),overrunCount:V(12,k(nt),{omitChanges:!0,default:0})},commands:{resetCounts:X(0,Fe,0,ne)}}),e.PacketCountsComponent=h.Component({attributes:{beaconRxCount:V(6,k(ee),{omitChanges:!0,default:0}),packetMulticastRxCount:V(7,k(ee),{omitChanges:!0,default:0}),packetMulticastTxCount:V(8,k(ee),{omitChanges:!0,default:0}),packetUnicastRxCount:V(9,k(ee),{omitChanges:!0,default:0}),packetUnicastTxCount:V(10,k(ee),{omitChanges:!0,default:0})}}),e.Base=h.Component({id:54,name:"WiFiNetworkDiagnostics",revision:1,features:{packetCounts:M(0),errorCounts:M(1)},attributes:{bssid:V(0,k(be.bound({length:6})),{default:null}),securityType:V(1,k($()),{default:null}),wiFiVersion:V(2,k($()),{default:null}),channelNumber:V(3,k(B),{default:null}),rssi:V(4,k($i.bound({min:-120,max:0})),{omitChanges:!0,default:null}),currentMaxRate:ye(11,k(nt),{omitChanges:!0,default:0})},events:{disconnection:ct(0,Te.Info,e.TlvDisconnectionEvent),associationFailure:ct(1,Te.Info,e.TlvAssociationFailureEvent),connectionStatus:ct(2,Te.Info,e.TlvConnectionStatusEvent)},extensions:h.Extensions({flags:{errorCounts:!0},component:e.ErrorCountsComponent},{flags:{packetCounts:!0},component:e.PacketCountsComponent})}),e.ClusterInstance=h(e.Base),e.Cluster=e.ClusterInstance;let s={errorCounts:!0},c={packetCounts:!0};e.CompleteInstance=h({id:e.Cluster.id,name:e.Cluster.name,revision:e.Cluster.revision,features:e.Cluster.features,attributes:{...e.Cluster.attributes,beaconLostCount:h.AsConditional(e.ErrorCountsComponent.attributes.beaconLostCount,{mandatoryIf:[s]}),beaconRxCount:h.AsConditional(e.PacketCountsComponent.attributes.beaconRxCount,{mandatoryIf:[c]}),packetMulticastRxCount:h.AsConditional(e.PacketCountsComponent.attributes.packetMulticastRxCount,{mandatoryIf:[c]}),packetMulticastTxCount:h.AsConditional(e.PacketCountsComponent.attributes.packetMulticastTxCount,{mandatoryIf:[c]}),packetUnicastRxCount:h.AsConditional(e.PacketCountsComponent.attributes.packetUnicastRxCount,{mandatoryIf:[c]}),packetUnicastTxCount:h.AsConditional(e.PacketCountsComponent.attributes.packetUnicastTxCount,{mandatoryIf:[c]}),overrunCount:h.AsConditional(e.ErrorCountsComponent.attributes.overrunCount,{mandatoryIf:[s]})},commands:{resetCounts:h.AsConditional(e.ErrorCountsComponent.commands.resetCounts,{mandatoryIf:[s]})},events:e.Cluster.events}),e.Complete=e.CompleteInstance})(tu||(tu={}));var W_=tu.Cluster;re.register(tu.Complete);var wn;(e=>{let t;(w=>{w.Lift="Lift",w.Tilt="Tilt",w.PositionAwareLift="PositionAwareLift",w.AbsolutePosition="AbsolutePosition",w.PositionAwareTilt="PositionAwareTilt"})(t=e.Feature||(e.Feature={})),e.TlvGoToLiftPercentageRequest=I({liftPercent100thsValue:m(0,aa)}),e.TlvGoToTiltPercentageRequest=I({tiltPercent100thsValue:m(0,aa)}),e.TlvGoToLiftValueRequest=I({liftValue:m(0,B)}),e.TlvGoToTiltValueRequest=I({tiltValue:m(0,B)});let n;(w=>{w[w.Rollershade=0]="Rollershade",w[w.Rollershade2Motor=1]="Rollershade2Motor",w[w.RollershadeExterior=2]="RollershadeExterior",w[w.RollershadeExterior2Motor=3]="RollershadeExterior2Motor",w[w.Drapery=4]="Drapery",w[w.Awning=5]="Awning",w[w.Shutter=6]="Shutter",w[w.TiltBlindTiltOnly=7]="TiltBlindTiltOnly",w[w.TiltBlindLift=8]="TiltBlindLift",w[w.ProjectorScreen=9]="ProjectorScreen",w[w.Unknown=255]="Unknown"})(n=e.WindowCoveringType||(e.WindowCoveringType={})),e.ConfigStatus={operational:M(0),onlineReserved:M(1),liftMovementReversed:M(2),liftPositionAware:M(3),tiltPositionAware:M(4),liftEncoderControlled:M(5),tiltEncoderControlled:M(6)},e.OperationalStatus={global:Ac(0,2),lift:Ac(2,2),tilt:Ac(4,2)};let i;(w=>{w[w.Stopped=0]="Stopped",w[w.Opening=1]="Opening",w[w.Closing=2]="Closing"})(i=e.MovementStatus||(e.MovementStatus={}));let r;(w=>{w[w.RollerShade=0]="RollerShade",w[w.RomanShade=1]="RomanShade",w[w.BalloonShade=2]="BalloonShade",w[w.WovenWood=3]="WovenWood",w[w.PleatedShade=4]="PleatedShade",w[w.CellularShade=5]="CellularShade",w[w.LayeredShade=6]="LayeredShade",w[w.LayeredShade2D=7]="LayeredShade2D",w[w.SheerShade=8]="SheerShade",w[w.TiltOnlyInteriorBlind=9]="TiltOnlyInteriorBlind",w[w.InteriorBlind=10]="InteriorBlind",w[w.VerticalBlindStripCurtain=11]="VerticalBlindStripCurtain",w[w.InteriorVenetianBlind=12]="InteriorVenetianBlind",w[w.ExteriorVenetianBlind=13]="ExteriorVenetianBlind",w[w.LateralLeftCurtain=14]="LateralLeftCurtain",w[w.LateralRightCurtain=15]="LateralRightCurtain",w[w.CentralCurtain=16]="CentralCurtain",w[w.RollerShutter=17]="RollerShutter",w[w.ExteriorVerticalScreen=18]="ExteriorVerticalScreen",w[w.AwningTerracePatio=19]="AwningTerracePatio",w[w.AwningVerticalScreen=20]="AwningVerticalScreen",w[w.TiltOnlyPergola=21]="TiltOnlyPergola",w[w.SwingingShutter=22]="SwingingShutter",w[w.SlidingShutter=23]="SlidingShutter",w[w.Unknown=255]="Unknown"})(r=e.EndProductType||(e.EndProductType={})),e.Mode={motorDirectionReversed:M(0),calibrationMode:M(1),maintenanceMode:M(2),ledFeedback:M(3)},e.SafetyStatus={remoteLockout:M(0),tamperDetection:M(1),failedCommunication:M(2),positionFailure:M(3),thermalProtection:M(4),obstacleDetected:M(5),power:M(6),stopInput:M(7),motorJammed:M(8),hardwareFailure:M(9),manualOperation:M(10),protection:M(11)},e.LiftAndPositionAwareLiftAndAbsolutePositionComponent=h.Component({attributes:{physicalClosedLimitLift:Je(1,B,{default:0}),currentPositionLift:ye(3,k(B),{persistent:!0,default:null}),installedOpenLimitLift:V(16,B.bound({max:65534}),{persistent:!0,default:0}),installedClosedLimitLift:V(17,B.bound({max:65534}),{persistent:!0,default:65534})}}),e.TiltAndPositionAwareTiltAndAbsolutePositionComponent=h.Component({attributes:{physicalClosedLimitTilt:Je(2,B,{default:0}),currentPositionTilt:ye(4,k(B),{persistent:!0,default:null}),installedOpenLimitTilt:V(18,B.bound({max:65534}),{persistent:!0,default:0}),installedClosedLimitTilt:V(19,B.bound({max:65534}),{persistent:!0,default:65534})}}),e.LiftComponent=h.Component({attributes:{numberOfActuationsLift:ye(5,B,{persistent:!0,default:0})},commands:{goToLiftPercentage:wt(5,e.TlvGoToLiftPercentageRequest,5,ne)}}),e.TiltComponent=h.Component({attributes:{numberOfActuationsTilt:ye(6,B,{persistent:!0,default:0})},commands:{goToTiltPercentage:wt(8,e.TlvGoToTiltPercentageRequest,8,ne)}}),e.LiftAndPositionAwareLiftComponent=h.Component({attributes:{currentPositionLiftPercentage:ye(8,k(Ii),{scene:!0,persistent:!0,default:null}),targetPositionLiftPercent100ths:V(11,k(aa),{scene:!0,default:null}),currentPositionLiftPercent100ths:V(14,k(aa),{persistent:!0,default:null})},commands:{goToLiftPercentage:X(5,e.TlvGoToLiftPercentageRequest,5,ne)}}),e.TiltAndPositionAwareTiltComponent=h.Component({attributes:{currentPositionTiltPercentage:ye(9,k(Ii),{scene:!0,persistent:!0,default:null}),targetPositionTiltPercent100ths:V(12,k(aa),{scene:!0,default:null}),currentPositionTiltPercent100ths:V(15,k(aa),{persistent:!0,default:null})},commands:{goToTiltPercentage:X(8,e.TlvGoToTiltPercentageRequest,8,ne)}}),e.LiftAndAbsolutePositionComponent=h.Component({commands:{goToLiftValue:wt(4,e.TlvGoToLiftValueRequest,4,ne)}}),e.TiltAndAbsolutePositionComponent=h.Component({commands:{goToTiltValue:wt(7,e.TlvGoToTiltValueRequest,7,ne)}}),e.Base=h.Component({id:258,name:"WindowCovering",revision:5,features:{lift:M(0),tilt:M(1),positionAwareLift:M(2),absolutePosition:M(3),positionAwareTilt:M(4)},attributes:{type:me(0,$(),{default:0}),configStatus:V(7,Ie(P,e.ConfigStatus),{persistent:!0}),operationalStatus:V(10,Ie(P,e.OperationalStatus)),endProductType:me(13,$(),{default:0}),mode:He(23,Ie(P,e.Mode),{persistent:!0,writeAcl:W.Manage}),safetyStatus:ye(26,Ie(B,e.SafetyStatus))},commands:{upOrOpen:X(0,Fe,0,ne),downOrClose:X(1,Fe,1,ne),stopMotion:X(2,Fe,2,ne)},extensions:h.Extensions({flags:{lift:!0,positionAwareLift:!0,absolutePosition:!0},component:e.LiftAndPositionAwareLiftAndAbsolutePositionComponent},{flags:{tilt:!0,positionAwareTilt:!0,absolutePosition:!0},component:e.TiltAndPositionAwareTiltAndAbsolutePositionComponent},{flags:{lift:!0},component:e.LiftComponent},{flags:{tilt:!0},component:e.TiltComponent},{flags:{lift:!0,positionAwareLift:!0},component:e.LiftAndPositionAwareLiftComponent},{flags:{tilt:!0,positionAwareTilt:!0},component:e.TiltAndPositionAwareTiltComponent},{flags:{lift:!0,absolutePosition:!0},component:e.LiftAndAbsolutePositionComponent},{flags:{tilt:!0,absolutePosition:!0},component:e.TiltAndAbsolutePositionComponent},{flags:{positionAwareLift:!0,lift:!1},component:!1},{flags:{positionAwareTilt:!0,tilt:!1},component:!1},{flags:{lift:!1,tilt:!1},component:!1})}),e.ClusterInstance=h.ExtensibleOnly(e.Base),e.Cluster=e.ClusterInstance;let a={lift:!0,positionAwareLift:!0,absolutePosition:!0},s={tilt:!0,positionAwareTilt:!0,absolutePosition:!0},c={lift:!0},l={tilt:!0},d={lift:!0,positionAwareLift:!0},f={tilt:!0,positionAwareTilt:!0},g={lift:!0,absolutePosition:!0},b={tilt:!0,absolutePosition:!0};e.CompleteInstance=h({id:e.Base.id,name:e.Base.name,revision:e.Base.revision,features:e.Base.features,attributes:{...e.Base.attributes,physicalClosedLimitLift:h.AsConditional(e.LiftAndPositionAwareLiftAndAbsolutePositionComponent.attributes.physicalClosedLimitLift,{optionalIf:[a]}),physicalClosedLimitTilt:h.AsConditional(e.TiltAndPositionAwareTiltAndAbsolutePositionComponent.attributes.physicalClosedLimitTilt,{optionalIf:[s]}),currentPositionLift:h.AsConditional(e.LiftAndPositionAwareLiftAndAbsolutePositionComponent.attributes.currentPositionLift,{optionalIf:[a]}),currentPositionTilt:h.AsConditional(e.TiltAndPositionAwareTiltAndAbsolutePositionComponent.attributes.currentPositionTilt,{optionalIf:[s]}),numberOfActuationsLift:h.AsConditional(e.LiftComponent.attributes.numberOfActuationsLift,{optionalIf:[c]}),numberOfActuationsTilt:h.AsConditional(e.TiltComponent.attributes.numberOfActuationsTilt,{optionalIf:[l]}),currentPositionLiftPercentage:h.AsConditional(e.LiftAndPositionAwareLiftComponent.attributes.currentPositionLiftPercentage,{optionalIf:[d]}),currentPositionTiltPercentage:h.AsConditional(e.TiltAndPositionAwareTiltComponent.attributes.currentPositionTiltPercentage,{optionalIf:[f]}),targetPositionLiftPercent100ths:h.AsConditional(e.LiftAndPositionAwareLiftComponent.attributes.targetPositionLiftPercent100ths,{mandatoryIf:[d]}),targetPositionTiltPercent100ths:h.AsConditional(e.TiltAndPositionAwareTiltComponent.attributes.targetPositionTiltPercent100ths,{mandatoryIf:[f]}),currentPositionLiftPercent100ths:h.AsConditional(e.LiftAndPositionAwareLiftComponent.attributes.currentPositionLiftPercent100ths,{mandatoryIf:[d]}),currentPositionTiltPercent100ths:h.AsConditional(e.TiltAndPositionAwareTiltComponent.attributes.currentPositionTiltPercent100ths,{mandatoryIf:[f]}),installedOpenLimitLift:h.AsConditional(e.LiftAndPositionAwareLiftAndAbsolutePositionComponent.attributes.installedOpenLimitLift,{mandatoryIf:[a]}),installedClosedLimitLift:h.AsConditional(e.LiftAndPositionAwareLiftAndAbsolutePositionComponent.attributes.installedClosedLimitLift,{mandatoryIf:[a]}),installedOpenLimitTilt:h.AsConditional(e.TiltAndPositionAwareTiltAndAbsolutePositionComponent.attributes.installedOpenLimitTilt,{mandatoryIf:[s]}),installedClosedLimitTilt:h.AsConditional(e.TiltAndPositionAwareTiltAndAbsolutePositionComponent.attributes.installedClosedLimitTilt,{mandatoryIf:[s]})},commands:{...e.Base.commands,goToLiftValue:h.AsConditional(e.LiftAndAbsolutePositionComponent.commands.goToLiftValue,{optionalIf:[g]}),goToLiftPercentage:h.AsConditional(e.LiftComponent.commands.goToLiftPercentage,{optionalIf:[c],mandatoryIf:[d]}),goToTiltValue:h.AsConditional(e.TiltAndAbsolutePositionComponent.commands.goToTiltValue,{optionalIf:[b]}),goToTiltPercentage:h.AsConditional(e.TiltComponent.commands.goToTiltPercentage,{optionalIf:[l],mandatoryIf:[f]})}}),e.Complete=e.CompleteInstance})(wn||(wn={}));var H_=wn.Cluster;re.register(wn.Complete);var j_=J.get("ClusterHelper"),n5=new Map,i5=new Map,r5=new Map,G_=e=>uA({id:e,name:`Unknown cluster ${Br(e)}`,revision:0,unknown:!0});function Dc(e){let t=re.get(e);return t===void 0&&(j_.info(`Unknown cluster ${Br(e)} requested: UnknownCluster instance added.`),t=G_(e),re.register(t)),t}function o5(e,t){if(!n5.has(e.id)){let i=new Map,{attributes:r}=e;for(let a in r){let s=r[a];i.set(s.id,{attribute:s,name:a})}return n5.set(e.id,i),i.get(t)}let n=n5.get(e.id);if(n!==void 0)return n.get(t)}function a5(e,t){if(!i5.has(e.id)){let i=new Map,{events:r}=e;for(let a in r){let s=r[a];i.set(s.id,{event:s,name:a})}return i5.set(e.id,i),i.get(t)}let n=i5.get(e.id);if(n!==void 0)return n.get(t)}function z_(e,t){if(!r5.has(e.id)){let i=new Map,{commands:r}=e;for(let a in r){let s=r[a];i.set(s.requestId,{command:s,name:a})}return r5.set(e.id,i),i.get(t)}let n=r5.get(e.id);if(n!==void 0)return n.get(t)}function Br(e){return e===void 0?"*":`0x${e.toString(16)}`}function s5(e,t,n){let i=e===void 0?"":`${Br(e)}/`;if(t===void 0?i+="*":i+=`${Br(t)}`,n===void 0)return`${i}/*`;let r=Dc(n);return r.unknown?`${i}/unknown(${Br(n)})`:`${i}/${r.name}(${Br(n)})`}function Rc({nodeId:e,endpointId:t,clusterId:n,attributeId:i}){let r=s5(e,t,n);if(t===void 0||n===void 0||i===void 0)return`${r}/${Br(i)}`;let a=Dc(n),s=o5(a,i);return s===void 0?`${r}/unknown(${Br(i)})`:`${r}/${s.name}(${Br(i)})`}function $s({nodeId:e,endpointId:t,clusterId:n,eventId:i,isUrgent:r}){let a=r?"!":"",s=s5(e,t,n);if(t===void 0||n===void 0||i===void 0)return`${a}${s}/${Br(i)}`;let c=a5(Dc(n),i);return c===void 0?`${a}${s}/unknown(${Br(i)})`:`${a}${s}/${c.name}(${Br(i)})`}function Tp({endpointId:e,clusterId:t,commandId:n}){let i=s5(void 0,e,t);if(e===void 0||t===void 0||n===void 0)return`${i}/${Br(n)}`;let r=z_(Dc(t),n);return r===void 0?`${i}/unknown(${Br(n)})`:`${i}/${r.name}(${Br(n)})`}var Ig=15*60,c5=3*60,yA=Ig*1e3,gA=60*1e3,vA=97;var Rm;(e=>{e.FORBIDDEN_PASSCODES=[0,11111111,22222222,33333333,44444444,55555555,66666666,77777777,88888888,99999999,12345678,87654321]})(Rm||(Rm={}));var xqe=new rn(ee,e=>e,e=>e);var Sqe=new rn(B,e=>e,e=>e);function da(e){return BigInt(e)}var bA=new rn(nt,e=>e,e=>da(e));function l5(e,t=!0){if(!t||e>=224&&e<=254)return e;let{typeSuffix:n}=Fi.fromMei(e);if(n>=0&&n<=223)return e;throw new $t(`Invalid field ID: ${e}`)}(e=>{e.isGlobal=t=>t>=224&&t<=254,e.isValid=pr(e)})(l5||(l5={}));var Pqe=new rn(ee,e=>e,e=>l5(e,!1));var i_e={wildcardSkipRootNode:M(0),wildcardSkipGlobalAttributes:M(1),wildcardSkipAttributeList:M(2),wildcardSkipEventList:M(3),wildcardSkipCommandLists:M(4),wildcardSkipCustomElements:M(5),wildcardSkipFixedAttributes:M(6),wildcardSkipChangesOmittedAttributes:M(7),wildcardSkipDiagnosticsClusters:M(8)};var c_e=I({hours:R(0,P.bound({max:23})),minutes:R(1,P.bound({max:59})),seconds:R(2,P.bound({max:59})),hundredths:R(3,P.bound({max:99}))});var Wt=(e=>(e[e.MsgCounterSyncReq=0]="MsgCounterSyncReq",e[e.MsgCounterSyncRsp=1]="MsgCounterSyncRsp",e[e.StandaloneAck=16]="StandaloneAck",e[e.PbkdfParamRequest=32]="PbkdfParamRequest",e[e.PbkdfParamResponse=33]="PbkdfParamResponse",e[e.PasePake1=34]="PasePake1",e[e.PasePake2=35]="PasePake2",e[e.PasePake3=36]="PasePake3",e[e.Sigma1=48]="Sigma1",e[e.Sigma2=49]="Sigma2",e[e.Sigma3=50]="Sigma3",e[e.Sigma2Resume=51]="Sigma2Resume",e[e.StatusReport=64]="StatusReport",e[e.IcdCheckInMessage=80]="IcdCheckInMessage",e))(Wt||{}),mo=(e=>(e[e.Success=0]="Success",e[e.NoSharedTrustRoots=1]="NoSharedTrustRoots",e[e.InvalidParam=2]="InvalidParam",e[e.CloseSession=3]="CloseSession",e[e.Busy=4]="Busy",e))(mo||{}),Nc=(e=>(e[e.Success=0]="Success",e[e.Failure=1]="Failure",e[e.BadPrecondition=2]="BadPrecondition",e[e.OutOfRange=3]="OutOfRange",e[e.BadRequest=4]="BadRequest",e[e.Unsupported=5]="Unsupported",e[e.Unexpected=6]="Unexpected",e[e.ResourceExhausted=7]="ResourceExhausted",e[e.Busy=8]="Busy",e[e.Timeout=9]="Timeout",e[e.Continue=10]="Continue",e[e.Aborted=11]="Aborted",e[e.InvalidArgument=12]="InvalidArgument",e[e.NotFound=13]="NotFound",e[e.AlreadyExists=14]="AlreadyExists",e[e.PermissionDenied=15]="PermissionDenied",e[e.DataLoss=16]="DataLoss",e[e.MessageTooLarge=17]="MessageTooLarge",e))(Nc||{});var xA={skipRootNode:M(0),skipGlobalAttributes:M(1),skipAttributeList:M(2),skipEventList:M(3),skipCommandLists:M(4),skipCustomElements:M(5),skipFixedAttributes:M(6),skipChangesOmittedAttributes:M(7),skipDiagnosticsClusters:M(8)};var Wa=so({enableTagCompression:R(0,Ae),nodeId:R(1,Ft),endpointId:R(2,yn),clusterId:R(3,rr),attributeId:R(4,Mm),listIndex:R(5,k(B)),wildcardPathFlags:R(6,Ie(ee,xA))});var wA=I({dataVersion:R(0,ee),path:m(1,Wa),data:m(2,kn)});var Nm=I({status:R(0,$()),clusterStatus:R(1,$())});var Ag=I({path:m(0,Wa),status:m(1,Nm)});var Cp=I({attributeStatus:R(0,Ag),attributeData:R(1,wA)});var Pc=so({nodeId:R(0,Ft),endpointId:R(1,yn),clusterId:R(2,rr),eventId:R(3,bg),isUrgent:R(4,Ae)});var TA=I({path:m(0,Pc),eventNumber:m(1,bA),priority:m(2,$()),epochTimestamp:R(3,np),systemTimestamp:R(4,Fr),deltaEpochTimestamp:R(5,np),deltaSystemTimestamp:R(6,Fr),data:R(7,kn)});var CA=I({path:m(0,Pc),status:m(1,Nm)});var Sp=I({eventStatus:R(0,CA),eventData:R(1,TA)});var SA=I({subscriptionId:R(0,ee),attributeReports:R(1,Y(Cp)),eventReports:R(2,Y(Sp)),moreChunkedMessages:R(3,Ae),suppressResponse:R(4,Ae),interactionModelRevision:m(255,P)});var d5=I({subscriptionId:R(0,ee),attributeReports:R(1,Y(kn)),eventReports:R(2,Y(kn)),moreChunkedMessages:R(3,Ae),suppressResponse:R(4,Ae),interactionModelRevision:m(255,P)});var Mg=so({endpointId:R(0,yn),clusterId:m(1,rr),commandId:m(2,ip)});var Eg=I({commandPath:m(0,Mg),commandFields:R(1,kn),commandRef:R(2,B)});var Og=I({suppressResponse:m(0,Ae),timedRequest:m(1,Ae),invokeRequests:m(2,Y(Eg)),interactionModelRevision:m(255,P)});var IA=I({commandPath:m(0,Mg),status:m(1,Nm),commandRef:R(2,B)});var Dg=I({command:R(0,Eg),status:R(1,IA)});var Rg=I({suppressResponse:m(0,Ae),invokeResponses:m(1,Y(Dg)),moreChunkedMessages:R(2,Ae),interactionModelRevision:m(255,P)});var u5=I({suppressResponse:m(0,Ae),invokeResponses:m(1,Y(kn)),moreChunkedMessages:R(2,Ae),interactionModelRevision:m(255,P)});var AA=so({nodeId:R(0,Ft),endpointId:m(1,yn),clusterId:m(2,rr)});var Pm=I({path:m(0,AA),dataVersion:m(1,ee)});var Ng=I({nodeId:R(0,Ft),eventMin:m(1,nt)});var m5=I({attributeRequests:R(0,Y(Wa)),eventRequests:R(1,Y(Pc)),eventFilters:R(2,Y(Ng)),isFabricFiltered:m(3,Ae),dataVersionFilters:R(4,Y(Pm)),interactionModelRevision:m(255,P)});var Ip=I({status:m(0,$()),interactionModelRevision:m(255,P)});var Ap=I({keepSubscriptions:m(0,Ae),minIntervalFloorSeconds:m(1,B),maxIntervalCeilingSeconds:m(2,B),attributeRequests:R(3,Y(Wa)),eventRequests:R(4,Y(Pc)),eventFilters:R(5,Y(Ng)),isFabricFiltered:m(7,Ae),dataVersionFilters:R(8,Y(Pm)),interactionModelRevision:m(255,P)});var Pg=I({subscriptionId:m(0,ee),maxInterval:m(2,B),interactionModelRevision:m(255,P)});var h5=I({timeout:m(0,B),interactionModelRevision:m(255,P)});var MA=I({dataVersion:R(0,ee),path:m(1,Wa),data:m(2,kn)});var kg=I({suppressResponse:R(0,Ae),timedRequest:m(1,Ae),writeRequests:m(2,Y(MA)),moreChunkedMessages:R(3,Ae),interactionModelRevision:m(255,P)});var f5=I({writeResponses:m(0,Y(Ag)),interactionModelRevision:m(255,P)});var EA="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-.",p5=class extends yr{encodeInternal(t){let n=t.length,i=0,r=new Array;for(;i<n;){let a=n-i;if(a>2)r.push(this.encodeBase38(t[i++]|t[i++]<<8|t[i++]<<16,5));else if(a==2){r.push(this.encodeBase38(t[i++]|t[i++]<<8,4));break}else{r.push(this.encodeBase38(t[i++],2));break}}return r.join("")}encodeBase38(t,n){let i="";for(let r=0;r<n;r++){let a=t%38;i+=EA[a],t=(t-a)/38}return i}decodeInternal(t){let n=t.length,i=n%5,r=(n-i)/5*3;switch(i){case 4:r+=2;break;case 2:r+=1;break;default:throw new De(`Invalid base38 encoded string length: ${n}`)}let a=new Uint8Array(r),s=0,c=0;for(;c<n;){let l=n-c;if(l>5){let d=this.decodeBase38(t,c,5);a[s++]=d&255,a[s++]=d>>8&255,a[s++]=d>>16&255,c+=5}else if(l==4){let d=this.decodeBase38(t,c,4);a[s++]=d&255,a[s++]=d>>8&255;break}else{let d=this.decodeBase38(t,c,2);a[s++]=d&255;break}}return a}decodeBase38(t,n,i){let r=0;for(let a=i-1;a>=0;a--){let s=t[n+a],c=EA.indexOf(s);if(c===-1)throw new De(`Unexpected character ${s} at ${n+a}`);r=r*38+c}return r}},y5=new p5;var w5=(e=>(e[e.Standard=0]="Standard",e[e.UserIntent=1]="UserIntent",e[e.Custom=2]="Custom",e))(w5||{}),K_={ble:M(1),onIpNetwork:M(2)},DA=Ba(K_),g5=oA({version:Kr(0,3),vendorId:Kr(3,16),productId:Kr(19,16),flowType:Ac(35,2),discoveryCapabilities:Kr(37,8),discriminator:Kr(45,12),passcode:Kr(57,27)}),OA={serialNumber:R(0,kn),pbkdfIterations:R(1,ee.bound({min:1e3,max:1e5})),pbkdfSalt:R(2,be.bound({minLength:16,maxLength:32})),numberOfDevices:R(3,P.bound({min:1})),commissioningTimeout:R(4,B)},v5="MT:",b5=class extends yr{encodeInternal(t){if(t.length===0)throw new ce("Provided Payload data is empty");return v5+t.map(n=>{let{tlvData:i}=n,r=i!==void 0&&i.length>0?we.concat(g5.encode(n),i):g5.encode(n);return y5.encode(r)}).join("*")}decodeInternal(t){if(!t.startsWith(v5))throw new De("The pairing code should start with MT:");return t.slice(v5.length).split("*").map(n=>{let i=y5.decode(n);return{...g5.decode(i.slice(0,11)),tlvData:i.length>11?i.slice(11):void 0}})}decodeTlvData(t,n=I(OA)){let i=n.decode(t);if(i.serialNumber!==void 0){if(!Array.isArray(i.serialNumber)||i.serialNumber.length!==1||i.serialNumber[0].typeLength===void 0||i.serialNumber[0].value===void 0)throw new De("Invalid serial number TLV data");switch(i.serialNumber[0].typeLength.type){case je.Utf8String:case je.UnsignedInt:i.serialNumber=i.serialNumber[0].value;break;default:throw new De("Invalid serial number TLV data")}}return i}encodeTlvData(t,n=I(OA)){let i=Na(t);if("serialNumber"in i&&i.serialNumber!==void 0)switch(typeof i.serialNumber){case"string":i.serialNumber=Z.encodeTlv(i.serialNumber);break;case"number":i.serialNumber=P.encodeTlv(i.serialNumber);break;default:throw new ce("Invalid serial number data")}return n.encode(i)}},RA=new b5,x5=class extends yr{encodeInternal({discriminator:t,passcode:n,vendorId:i,productId:r}){if(t===void 0)throw new De("discriminator is required");if(t>4095)throw new De("discriminator value must be less than 4096");let a="",s=i!==void 0&&r!==void 0;return a+=t>>10|(s?4:0),a+=((t&768)<<6|n&16383).toString().padStart(5,"0"),a+=(n>>14).toString().padStart(4,"0"),s&&(a+=i.toString().padStart(5,"0"),a+=r.toString().padStart(5,"0")),a+=new Vf().computeChecksum(a),a}decodeInternal(t){if(t=t.replace(/[^0-9]/g,""),t.length!==11&&t.length!=21)throw new De("Invalid pairing code");if(new Vf().computeChecksum(t.slice(0,-1))!==parseInt(t.slice(-1)))throw new De("Invalid checksum");let n=!!(parseInt(t[0])&4),i=(parseInt(t[0])&3)<<2|parseInt(t.slice(1,6))>>14&3,r=parseInt(t.slice(1,6))&16383|parseInt(t.slice(6,10))<<14,a,s;return n&&(a=Wi(parseInt(t.slice(10,15))),s=parseInt(t.slice(15,20))),{shortDiscriminator:i,passcode:r,vendorId:a,productId:s}}},NA=new x5;var X_=[[0,0,0,0,0,0,0,1,1,1,0,1,0,1,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,1,1,0,1,0,1,1,0,1,1,1,1,1,0],[0,1,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,1,0],[0,1,0,0,0,1,0,1,1,0,1,0,1,1,0,1,0,0,0,1,0],[0,1,0,0,0,1,0,1,1,1,0,1,0,1,0,1,0,0,0,1,0],[0,1,1,1,1,1,0,1,1,0,1,0,1,1,0,1,1,1,1,1,0],[0,0,0,0,0,0,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0],[1,1,1,1,1,1,1,1,0,0,1,0,1,1,1,1,1,1,1,1,1],[0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,1,1,1,0,1,1],[1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1],[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],[1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1],[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],[1,1,1,1,1,1,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1],[0,0,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],[0,1,1,1,1,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1],[0,1,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],[0,1,0,0,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1],[0,1,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],[0,1,1,1,1,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1],[0,0,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]];var Y_=[{x:19,y:19,dir:0},{x:19,y:17,dir:0},{x:19,y:15,dir:0},{x:19,y:13,dir:0},{x:19,y:11,dir:0},{x:19,y:9,dir:0},{x:17,y:9,dir:1},{x:17,y:11,dir:1},{x:17,y:13,dir:1},{x:17,y:15,dir:1},{x:17,y:17,dir:1},{x:17,y:19,dir:1},{x:15,y:19,dir:0},{x:15,y:17,dir:0},{x:15,y:15,dir:0},{x:15,y:13,dir:0},{x:15,y:11,dir:0},{x:15,y:9,dir:0},{x:13,y:9,dir:1},{x:13,y:11,dir:1},{x:13,y:13,dir:1},{x:13,y:15,dir:1},{x:13,y:17,dir:1},{x:13,y:19,dir:1},{x:11,y:19,dir:0},{x:11,y:17,dir:0},{x:11,y:15,dir:0},{x:11,y:13,dir:0},{x:11,y:11,dir:0},{x:11,y:9,dir:0},{x:11,y:7,dir:0},{x:11,y:4,dir:0},{x:11,y:2,dir:0},{x:11,y:0,dir:0},{x:9,y:0,dir:1},{x:9,y:2,dir:1},{x:9,y:4,dir:1},{x:9,y:7,dir:1},{x:9,y:9,dir:1},{x:9,y:11,dir:1},{x:9,y:13,dir:1},{x:9,y:15,dir:1},{x:9,y:17,dir:1},{x:9,y:19,dir:1},{x:7,y:11,dir:0},{x:7,y:9,dir:0},{x:4,y:9,dir:1},{x:4,y:11,dir:1},{x:2,y:11,dir:0},{x:2,y:9,dir:0},{x:0,y:9,dir:1},{x:0,y:11,dir:1}],Z_="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",T5=class extends yr{encodeInternal(t){let n=new Array,{length:i}=t,r=0;n.push("0010"),r+=4,n.push(i.toString(2).padStart(9,"0")),r+=9;let a=0;for(;a<i;){let O=45*this.getCode(t[a])+(a<i-2?this.getCode(t[a+1]):0);n.push(O.toString(2).padStart(11,"0")),a+=2,r+=11}n.push("0000"),r+=4;let s=8-r%8;s!==0&&(n.push("".padStart(s,"0")),r+=s);let c=19-r/8;for(let O=0;O<c;O++)O%2===0?n.push("11101100"):n.push("00010001");let l=new Uint8Array(19);for(let O=0;O<19;O++)l[O]=Number.parseInt(n.join("").slice(O*8,O*8+8),2);let d=new Yy().computeErrorCorrection(l,7);for(let O=0;O<7;O++)n.push(d[O].toString(2).padStart(8,"0"));let f=[];X_.forEach((O,D)=>f[D]=[...O]);let g=n.join(""),b=0;Y_.forEach(({x:O,y:D,dir:y})=>{let S=y===0?D+1:D,L=y===0?D:D+1;g[b]==="1"&&(f[S][O+1]=1-f[S][O+1]),g[b+1]==="1"&&(f[S][O]=1-f[S][O]),g[b+2]==="1"&&(f[L][O+1]=1-f[L][O+1]),g[b+3]==="1"&&(f[L][O]=1-f[L][O]),b+=4});let w=new Array;w.push(`\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584
`);for(let O=0;O<21;O+=2){w.push("\u2588");for(let D=0;D<21;D++)f[O][D]===0?O===20||f[O+1][D]===1?w.push("\u2584"):w.push(" "):O===20||f[O+1][D]===1?w.push("\u2588"):w.push("\u2580");w.push(`\u2588
`)}return w.push(`\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580
`),w.join("")}getCode(t){let n=Z_.indexOf(t);if(n===-1)throw new De(`Invalid character ${t}`);return n}decodeInternal(t){throw new Yt("Method not implemented.")}get(t){return this.encode(t)}},PA=new T5;var kc=class extends ve{constructor(t,n,i,r){let a=`${t} ${n.path??n}: ${i} (${r})`;super(a,r),this.message=a}},ho=class extends kc{constructor(t,n,i){super("Reading",t,n,i??ue.UnsupportedRead)}},ei=class extends kc{constructor(t,n,i){super("Writing",t,n,i??ue.UnsupportedWrite)}},km=class extends kc{constructor(t,n,i){super("Invoking",t,n,i??ue.UnsupportedAccess)}},Mp=class extends kc{constructor(t,n,i){super("Validating",t,n,i??ue.InvalidDataType)}},vr=class extends Mp{constructor(t,n,i,r){let a=`${i}`;a.length>60&&(i=`${a.substring(60)}\u2026`),super(t,`Value "${a}" is not ${n}`,r)}},ua=class extends Mp{constructor(t,n,i){super(n,`Constraint "${t.constraint}": ${i}`,ue.ConstraintError)}},Hs=class extends Mp{constructor(t,n,i,r){let a;r?a=`Conformance choice "${r}"`:a=`Conformance "${t.conformance}"`,super(n,`${a}: ${i}`,ue.InvalidAction)}},js=class extends kc{constructor(t){super("Referencing",t,"This value is no longer available because its context has exited",ue.Failure)}},Gs=class extends kc{constructor(t){super("Referencing",t,"Container was removed",ue.Failure)}};var Q_=new WeakMap;function Fc(e){let t=Q_.get(e);return t===void 0&&(t=J_(e)),t}Object.freeze(Fc);function J_(e){return e.tag===Xe.Command?t$(e):e$(e)}function e$(e){let t=kA(e),n=(s,c)=>s.offline||s.command?!0:s.authorizedFor(t.readLevel,c),i=(s,c)=>s.offline||s.command?!0:s.authorizedFor(t.writeLevel,c),r=(s,c)=>{if(!(s.offline||s.command)&&!s.authorizedFor(t.readLevel,c))throw new ho(c,"Permission denied",ue.UnsupportedAccess)},a=(s,c)=>{if(!(s.offline||s.command)&&!s.authorizedFor(t.writeLevel,c))throw new ei(c,"Permission denied",ue.UnsupportedAccess)};if(t.timed){let s=a,c=i;a=(l,d)=>{if(!l.offline&&!l.timed)throw new ei(d,"Permission denied because interaction is not timed",ue.NeedsTimedInteraction);s?.(l,d)},i=(l,d)=>!l.offline&&!l.timed?!1:c(l,d)}if(t.fabricSensitive){let s=r,c=n,l=a,d=i;r=(f,g)=>{if(!(f.offline||f.command)){if(f.fabricFiltered){if(f.fabric===void 0)throw new ho(g,"Permission denied: No accessing fabric",ue.UnsupportedAccess);if(g?.owningFabric&&g.owningFabric!==f.fabric)throw new ho(g,"Permission denied: Owning/accessing fabric mismatch",ue.UnsupportedAccess)}s(f,g)}},n=(f,g)=>f.offline||f.command?!0:f.fabric===void 0||g?.owningFabric&&g.owningFabric!==f.fabric?!1:c(f,g),a=(f,g)=>{if(!(f.offline||f.command)){if(f.fabric===void 0)throw new ei(g,"Permission denied: No accessing fabric",ue.UnsupportedAccess);if(g?.owningFabric&&g.owningFabric!==f.fabric)throw new ei(g,"Permission denied: Owning/accessing fabric mismatch");l(f,g)}},i=(f,g)=>f.offline||f.command?!0:f.fabric===void 0||g?.owningFabric&&g.owningFabric!==f.fabric?!1:d(f,g)}return t.readable||(r=(s,c)=>{if(!(s.offline||s.command))throw new ho(c,"Permission defined: Value is write-only")},n=s=>!!s.offline||!!s.command),t.writable||(a=(s,c)=>{if(!(s.offline||s.command))throw new ei(c,"Permission denied: Value is read-only")},i=s=>!!s.offline||!!s.command),Object.freeze({limits:t,authorizeRead:r,mayRead:n,authorizeWrite:a,mayWrite:i,authorizeInvoke(s,c){throw new en(c,"Permission denied: Invoke request but non-command schema")},mayInvoke(){return!1}})}function t$(e){let t=kA(e),n=e.effectiveAccess.timed,i=e.effectiveAccess.fabric;return{limits:t,authorizeRead(r,a){throw new en(a,"Permission denied: Read request but command schema")},mayRead(){return!1},authorizeWrite(r,a){throw new en(a,"Permission denied: Write request but command schema")},mayWrite(){return!1},authorizeInvoke(r,a){if(!r.offline){if(!r.command)throw new km(a,"Invoke attempt without command context");if(n&&!r.timed)throw new km(a,"Invoke attempt without required timed context",ue.TimedRequestMismatch);if(i&&r.fabric===void 0)throw new ei(a,"Permission denied: No accessing fabric",ue.UnsupportedAccess);if(!r.authorizedFor(t.writeLevel,a))throw new km(a,"Permission denied",ue.UnsupportedAccess)}},mayInvoke(r,a){return r.offline?!0:!r.command||n&&!r.timed||i&&r.fabric===void 0?!1:r.authorizedFor(t.writeLevel,a)}}}function kA(e){let t=e.effectiveAccess,i=(e instanceof Pn?e.effectiveQuality:void 0)?.fixed;for(let a=e.parent;!i&&a instanceof Pn;a=a.parent)a.effectiveQuality.fixed&&(i=!0);return Object.freeze({readable:t.readable,writable:t.writable&&!i,fabricScoped:t.fabric===pn.Fabric.Scoped||t.fabric===pn.Fabric.Sensitive,fabricSensitive:t.fabric===pn.Fabric.Sensitive,timed:t.timed===!0,readLevel:t.readPriv===void 0?W.View:pn.PrivilegeLevel[t.readPriv],writeLevel:t.writePriv===void 0?W.Operate:pn.PrivilegeLevel[t.writePriv]})}var C5=Symbol("install-behavior"),nu=class e{#e;#t;#n={};constructor(t,n){this.#e=t,this.#t=n}get endpoint(){return this.#e}get owner(){if(this.#e.owner!==void 0)return this.context.agentFor(this.#e.owner)}get context(){return this.#t}has(t){return this.#e.behaviors.has(t)}get(t){let n=this.#n[t.id];return n||(n=this.#e.behaviors.createSync(t,this)),n}load(t){let n=this.#n[t.id];return n||this.#e.behaviors.createMaybeAsync(t,this)}activate(t){this.#e.behaviors.activate(t,this)}require(t,n){this.#e.behaviors.require(t,n)}isLoaded(t){return this.#n[t.id]!==void 0}get env(){return this.#e.env}toString(){return this.#e.toString()}static for(t,n){let i={};return Object.values(n).forEach(r=>{i[r.id]={get(){return this.get(r)},enumerable:!0}}),Nr({name:`${t.name}Agent`,base:e,instanceDescriptors:i})}[C5](t){this.#n[t.constructor.id]=t}};var FA=15e3,n$=FA/3;function LA(){throw new $r("No provider configured")}var Lc=class{static get=LA;static get enabled(){return this.get!==LA}};var bGe=J.get("BtpSessionHandler");var i$=J.get("CertificateManager"),mt=class extends lt{},r$=365*24*60*60,_A=10957*24*60*60,BA=600,o$=400;function UA(e){return e===0?Qt.NON_WELL_DEFINED_DATE:new Date((e+_A)*1e3)}function Ro(e,t=0){return e.getTime()===Qt.NON_WELL_DEFINED_DATE.getTime()?0:Math.floor(e.getTime()/1e3)-_A+t*r$}function $A(e){let t=new Uint8Array(8);return we.dataViewOf(t).setBigUint64(0,typeof e=="bigint"?e:BigInt(e)),we.toHex(t).toUpperCase()}function a$(e){let t=new Uint8Array(4);return we.dataViewOf(t).setUint32(0,e),we.toHex(t).toUpperCase()}function WA(e){let t=new Uint8Array(2);return we.dataViewOf(t).setUint16(0,e),we.toHex(t).toUpperCase()}var Fm=(e,t)=>n=>[Or(`2b0601040182a27c01${e.toString(16).padStart(2,"0")}`,{value:(t??$A)(n)})],HA=(e,t)=>n=>[Or(`2b0601040182a27c02${e.toString(16).padStart(2,"0")}`,{value:(t??$A)(n)})],s$=Fm(1),c$=Fm(2),l$=Fm(3),d$=Fm(4),u$=Fm(5),S5=Fm(6,a$),m$=HA(1,WA),h$=HA(2,WA),Ep={nodeId:R(17,Ft),firmwareSigningId:R(18,ee),icacId:R(19,nt),rcacId:R(20,nt),fabricId:R(21,Sd),caseAuthenticatedTags:wg(22,Y6,{maxLength:3})},VA=e=>{let t={commonName:R(1,Z),sureName:R(2,Z),serialNum:R(3,Z),countryName:R(4,Z),localityName:R(5,Z),stateOrProvinceName:R(6,Z),orgName:R(7,Z),orgUnitName:R(8,Z),title:R(9,Z),name:R(10,Z),givenName:R(11,Z),initials:R(12,Z),genQualifier:R(13,Z),dnQualifier:R(14,Z),pseudonym:R(15,Z),domainComponent:R(16,Z),...e,commonNamePs:R(129,Z),sureNamePs:R(130,Z),serialNumPs:R(131,Z),countryNamePs:R(132,Z),localityNamePs:R(133,Z),stateOrProvinceNamePs:R(134,Z),orgNamePs:R(135,Z),orgUnitNamePs:R(136,Z),titlePs:R(137,Z),namePs:R(138,Z),givenNamePs:R(139,Z),initialsPs:R(140,Z),genQualifierPs:R(141,Z),dnQualifierPs:R(142,Z),pseudonymPs:R(143,Z)};return so(t)},jA={digitalSignature:M(0),nonRepudiation:M(1),keyEncipherment:M(2),dataEncipherment:M(3),keyAgreement:M(4),keyCertSign:M(5),cRLSign:M(6),encipherOnly:M(7),decipherOnly:M(8)},f$=Ba(jA),Fg=e=>mA({serialNumber:m(1,be.bound({maxLength:20})),signatureAlgorithm:m(2,P),issuer:m(3,VA({...Ep,...e?.issuer??{}})),notBefore:m(4,ee),notAfter:m(5,ee),subject:m(6,VA({...Ep,...e?.subject??{}})),publicKeyAlgorithm:m(7,P),ellipticCurveIdentifier:m(8,P),ellipticCurvePublicKey:m(9,be),extensions:m(10,so({basicConstraints:m(1,I({isCa:m(1,Ae),pathLen:R(2,P)})),keyUsage:m(2,Ie(B,jA)),extendedKeyUsage:R(3,Y(P)),subjectKeyIdentifier:m(4,be.bound({length:20})),authorityKeyIdentifier:m(5,be.bound({length:20})),futureExtension:wg(6,be)})),signature:m(11,be)},o$),Bc=Fg({subject:{rcacId:m(20,nt),fabricId:R(21,Sd)},issuer:Ep}),No=Fg({subject:{nodeId:m(17,Ft),fabricId:m(21,Sd),caseAuthenticatedTags:wg(22,Y6,{maxLength:3})},issuer:Ep}),Op=Fg({subject:{icacId:m(19,nt),fabricId:R(21,Sd)},issuer:Ep}),MGe=Fg(),GA=I({formatVersion:m(0,B),vendorId:m(1,zn),produceIdArray:m(2,Y(B,{minLength:1,maxLength:100})),deviceTypeId:m(3,ee),certificateId:m(4,Z.bound({length:19})),securityLevel:m(5,P),securityInformation:m(6,B),versionNumber:m(7,B),certificationType:m(8,P),dacOriginVendorId:R(9,zn),dacOriginProductId:R(10,B),authorizedPaaList:R(11,Y(be.bound({length:20}),{minLength:1,maxLength:10}))});function qA(e){let t={};return Object.entries(e).forEach(([n,i])=>{if(i!==void 0)switch(n){case"commonName":t.commonName=Qt.CommonName(i);break;case"sureName":t.sureName=Qt.SurName(i);break;case"serialNum":t.serialNum=Qt.SerialNumber(i);break;case"countryName":t.countryName=Qt.CountryName(i);break;case"localityName":t.localityName=Qt.LocalityName(i);break;case"stateOrProvinceName":t.stateOrProvinceName=Qt.StateOrProvinceName(i);break;case"orgName":t.orgName=Qt.OrganisationName(i);break;case"orgUnitName":t.orgUnitName=Qt.OrganizationalUnitName(i);break;case"title":t.title=Qt.Title(i);break;case"name":t.name=Qt.Name(i);break;case"givenName":t.givenName=Qt.GivenName(i);break;case"initials":t.initials=Qt.Initials(i);break;case"genQualifier":t.genQualifier=Qt.GenerationQualifier(i);break;case"dnQualifier":t.dnQualifier=Qt.DnQualifier(i);break;case"pseudonym":t.pseudonym=Qt.Pseudonym(i);break;case"domainComponent":t.domainComponent=Qt.DomainComponent(i);break;case"nodeId":t.nodeId=s$(i);break;case"firmwareSigningId":t.firmwareSigningId=c$(i);break;case"icacId":t.icacId=l$(i);break;case"rcacId":t.rcacId=d$(i);break;case"fabricId":t.fabricId=u$(i);break;case"caseAuthenticatedTags":let r=i;Li.validateNocTagList(r);let a=r[0],s=r[1],c=r[2];a!==void 0&&(t.caseAuthenticatedTag0=S5(a)),s!==void 0&&(t.caseAuthenticatedTag1=S5(s)),c!==void 0&&(t.caseAuthenticatedTag2=S5(c));break;case"vendorId":t.vendorId=m$(i);break;case"productId":t.productId=h$(i);break;case"commonNamePs":t.commonNamePs=Qt.CommonName(i,!0);break;case"sureNamePs":t.sureNamePs=Qt.SurName(i,!0);break;case"serialNumPs":t.serialNumPs=Qt.SerialNumber(i,!0);break;case"countryNamePs":t.countryNamePs=Qt.CountryName(i,!0);break;case"localityNamePs":t.localityNamePs=Qt.LocalityName(i,!0);break;case"stateOrProvinceNamePs":t.stateOrProvinceNamePs=Qt.StateOrProvinceName(i,!0);break;case"orgNamePs":t.orgNamePs=Qt.OrganisationName(i,!0);break;case"orgUnitNamePs":t.orgUnitNamePs=Qt.OrganizationalUnitName(i,!0);break;case"titlePs":t.titlePs=Qt.Title(i,!0);break;case"namePs":t.namePs=Qt.Name(i,!0);break;case"givenNamePs":t.givenNamePs=Qt.GivenName(i,!0);break;case"initialsPs":t.initialsPs=Qt.Initials(i,!0);break;case"genQualifierPs":t.genQualifierPs=Qt.GenerationQualifier(i,!0);break;case"dnQualifierPs":t.dnQualifierPs=Qt.DnQualifier(i,!0);break;case"pseudonymPs":t.pseudonymPs=Qt.Pseudonym(i,!0);break}}),t}function p$(e){let t={};return Object.entries(e).forEach(([n,i])=>{if(i!==void 0)switch(n){case"basicConstraints":t.basicConstraints=mc.BasicConstraints(i);break;case"keyUsage":t.keyUsage=mc.KeyUsage(f$.encode(i));break;case"extendedKeyUsage":t.extendedKeyUsage=mc.ExtendedKeyUsage(i);break;case"subjectKeyIdentifier":t.subjectKeyIdentifier=mc.SubjectKeyIdentifier(i);break;case"authorityKeyIdentifier":t.authorityKeyIdentifier=mc.AuthorityKeyIdentifier(i);break;case"futureExtension":t.futureExtension=XI(we.concat(...i??[]));break}}),t}var ui;(e=>{function t(S){if(S.length>BA)throw new ce(`Certificate to generate is too big: ${S.length} bytes instead of max ${BA} bytes`)}function n({serialNumber:S,notBefore:L,notAfter:H,issuer:oe,subject:z,ellipticCurvePublicKey:Q,extensions:N}){let{basicConstraints:{isCa:q,pathLen:G}}=N;if(!q&&G!==void 0)throw new mt("Path length must be undefined for non-CA certificates.");return{version:xl(0,2),serialNumber:Ju(Co.Integer,S),signatureAlgorithm:So.EcdsaWithSHA256,issuer:qA(oe),validity:{notBefore:UA(L),notAfter:UA(H)},subject:qA(z),publicKey:So.PublicKeyEcPrime256v1(Q),extensions:xl(3,p$(N))}}function i(S){let L=On.encode(n(S));return t(L),L}function r(S){let{extensions:{basicConstraints:{isCa:L}}}=S;if(!L)throw new mt("Root certificate must be a CA.");return i(S)}e.rootCertToAsn1=r;function a(S){let{extensions:{basicConstraints:{isCa:L}}}=S;if(!L)throw new mt("Intermediate certificate must be a CA.");return i(S)}e.intermediateCaCertToAsn1=a;function s(S){let{issuer:{icacId:L,rcacId:H},extensions:{basicConstraints:{isCa:oe}}}=S;if(L===void 0&&H===void 0)throw new mt("Issuer RCAC or ICAC ID must be defined for an operational certificate.");if(oe)throw new mt("Node operational certificate must not be a CA.");return i(S)}e.nodeOperationalCertToAsn1=s;function c(S,L){let H=n(S),oe=On.encode({certificate:H,signAlgorithm:So.EcdsaWithSHA256,signature:uc(qe.sign(L,On.encode(H),"der"))});return t(oe),oe}e.deviceAttestationCertToAsn1=c;function l(S,L){let H=n(S),oe=On.encode({certificate:H,signAlgorithm:So.EcdsaWithSHA256,signature:uc(qe.sign(L,On.encode(H),"der"))});return t(oe),oe}e.productAttestationIntermediateCertToAsn1=l;function d(S,L){let H=n(S),oe=On.encode({certificate:H,signAlgorithm:So.EcdsaWithSHA256,signature:uc(qe.sign(L,On.encode(H),"der"))});return t(oe),oe}e.productAttestationAuthorityCertToAsn1=d;function f(S,L,H){let oe={version:3,digestAlgorithm:[jx],encapContentInfo:Af.Data(S),signerInfo:[{version:3,subjectKeyIdentifier:My(0,L),digestAlgorithm:jx,signatureAlgorithm:So.EcdsaWithSHA256,signature:qe.sign(H,S,"der")}]},z=On.encode(Af.SignedData(oe));return t(z),z}e.certificationDeclarationToAsn1=f;function g(S){if(S.serialNumber.length>20)throw new mt(`Serial number must not be longer then 20 octets. Current serial number has ${S.serialNumber.length} octets.`);if(S.signatureAlgorithm!==1)throw new mt(`Unsupported signature algorithm: ${S.signatureAlgorithm}`);if(S.publicKeyAlgorithm!==1)throw new mt(`Unsupported public key algorithm: ${S.publicKeyAlgorithm}`);if(S.ellipticCurveIdentifier!==1)throw new mt(`Unsupported elliptic curve identifier: ${S.ellipticCurveIdentifier}`);if(Object.keys(S.subject).length>5)throw new mt("Certificate subject must not contain more than 5 RDNs.");if(Object.keys(S.issuer).length>5)throw new mt("Certificate issuer must not contain more than 5 RDNs.");S.notBefore*1e3>Ne.nowMs()&&i$.warn(`Certificate notBefore date is in the future: ${S.notBefore*1e3} vs ${Ne.nowMs()}`)}e.validateGeneralCertificateFields=g;function b(S){if(e.validateGeneralCertificateFields(S),"nodeId"in S.subject)throw new mt("Root certificate must not contain a nodeId.");if(S.subject.fabricId!==void 0){if(Array.isArray(S.subject.fabricId))throw new mt(`Invalid fabricId in NoC certificate: ${J.toJSON(S.subject.fabricId)}`);if(S.subject.fabricId===Cd(0))throw new mt(`Invalid fabricId in NoC certificate: ${J.toJSON(S.subject.fabricId)}`)}if("icacId"in S.subject)throw new mt("Root certificate must not contain an icacId.");if(S.subject.rcacId===void 0||Array.isArray(S.subject.rcacId))throw new mt(`Invalid rcacId in Root certificate: ${J.toJSON(S.subject.rcacId)}`);if("caseAuthenticatedTags"in S.subject)throw new mt("Root certificate must not contain a caseAuthenticatedTags.");if(S.extensions.basicConstraints.isCa!==!0)throw new mt("Root certificate must have isCa set to true.");if(!S.extensions.keyUsage.keyCertSign||!S.extensions.keyUsage.cRLSign)throw new mt("Root certificate keyUsage must have keyCertSign and CRLSign set.");if(S.extensions.extendedKeyUsage!==void 0)throw new mt("Root certificate must not have extendedKeyUsage set.");if(S.extensions.subjectKeyIdentifier===void 0)throw new mt("Root certificate must have subjectKeyIdentifier set.");if(S.extensions.subjectKeyIdentifier.length!==20)throw new mt("Root certificate subjectKeyIdentifier must be 160 bit.");if(S.extensions.authorityKeyIdentifier===void 0)throw new mt("Root certificate must have authorityKeyIdentifier set.");if(S.extensions.authorityKeyIdentifier.length!==20)throw new mt("Root certificate authorityKeyIdentifier must be 160 bit.");if(!we.areEqual(S.extensions.authorityKeyIdentifier,S.extensions.subjectKeyIdentifier))throw new mt("Root certificate authorityKeyIdentifier must be equal to subjectKeyIdentifier.");qe.verify(Ms(S.ellipticCurvePublicKey),r(S),S.signature)}e.verifyRootCertificate=b;function w(S,L){if(e.validateGeneralCertificateFields(L),L.subject.nodeId===void 0||Array.isArray(L.subject.nodeId))throw new mt(`Invalid nodeId in NoC certificate: ${J.toJSON(L.subject.nodeId)}`);if(!Rt.isOperationalNodeId(L.subject.nodeId))throw new mt(`Invalid nodeId in NoC certificate: ${J.toJSON(L.subject.nodeId)}`);if(L.subject.fabricId===void 0||Array.isArray(L.subject.fabricId))throw new mt(`Invalid fabricId in NoC certificate: ${J.toJSON(L.subject.fabricId)}`);if(L.subject.fabricId===Cd(0))throw new mt(`Invalid fabricId in NoC certificate: ${J.toJSON(L.subject.fabricId)}`);if("icacId"in L.subject)throw new mt("Noc certificate must not contain an icacId.");if("rcacId"in L.subject)throw new mt("Noc certificate must not contain an rcacId.");if(L.subject.caseAuthenticatedTags!==void 0&&Li.validateNocTagList(L.subject.caseAuthenticatedTags),S.subject.fabricId!==void 0&&S.subject.fabricId!==L.subject.fabricId)throw new mt(`FabricId in NoC certificate does not match the fabricId in the parent certificate. ${J.toJSON(S.subject.fabricId)} !== ${J.toJSON(L.subject.fabricId)}`);if(L.extensions.basicConstraints.isCa)throw new mt("Noc certificate must not have isCa set to true.");if(!L.extensions.keyUsage.digitalSignature)throw new mt("Noc certificate must have keyUsage set to digitalSignature.");if(L.extensions.extendedKeyUsage===void 0||!L.extensions.extendedKeyUsage.includes(1)&&!L.extensions.extendedKeyUsage.includes(2))throw new mt(`Noc certificate must have extendedKeyUsage with serverAuth and clientAuth: ${J.toJSON(L.extensions.extendedKeyUsage)}`);if(L.extensions.subjectKeyIdentifier===void 0)throw new mt("Noc certificate must have subjectKeyIdentifier set.");if(L.extensions.subjectKeyIdentifier.length!==20)throw new mt("Noc certificate subjectKeyIdentifier must be 160 bit.");if(L.extensions.authorityKeyIdentifier===void 0)throw new mt("Noc certificate must have authorityKeyIdentifier set.");if(L.extensions.authorityKeyIdentifier.length!==20)throw new mt("Noc certificate authorityKeyIdentifier must be 160 bit.");if(!we.areEqual(L.extensions.authorityKeyIdentifier,S.extensions.subjectKeyIdentifier))throw new mt("Noc certificate authorityKeyIdentifier must be equal to Root/Ica subjectKeyIdentifier.");qe.verify(Ms(S.ellipticCurvePublicKey),s(L),L.signature)}e.verifyNodeOperationalCertificate=w;function O(S,L){if(e.validateGeneralCertificateFields(L),"nodeId"in L.subject)throw new mt("Ica certificate must not contain a nodeId.");if(L.subject.fabricId!==void 0){if(Array.isArray(L.subject.fabricId))throw new mt(`Invalid fabricId in NoC certificate: ${J.toJSON(L.subject.fabricId)}`);if(L.subject.fabricId===Cd(0))throw new mt(`Invalid fabricId in NoC certificate: ${J.toJSON(L.subject.fabricId)}`);if(S.subject.fabricId!==L.subject.fabricId)throw new mt(`FabricId in Ica certificate does not match the fabricId in the parent certificate. ${J.toJSON(S.subject.fabricId)} !== ${J.toJSON(L.subject.fabricId)}`)}if(L.subject.icacId===void 0||Array.isArray(L.subject.icacId))throw new mt(`Invalid icacId in Ica certificate: ${J.toJSON(L.subject.icacId)}`);if("rcacId"in L.subject)throw new mt("Ica certificate must not contain an rcacId.");if("caseAuthenticatedTags"in L.subject)throw new mt("Ica certificate must not contain a caseAuthenticatedTags.");if(S.subject.fabricId!==L.subject.fabricId)throw new mt(`FabricId in Ica certificate does not match the fabricId in the parent certificate. ${J.toJSON(S.subject.fabricId)} !== ${J.toJSON(L.subject.fabricId)}`);if(S.subject.rcacId!==L.issuer.rcacId)throw new mt(`RcacId in Ica certificate does not match the rcacId in the parent certificate. ${J.toJSON(S.subject.rcacId)} !== ${J.toJSON(L.issuer.rcacId)}`);if(!L.extensions.basicConstraints.isCa)throw new mt("Ica certificate must have isCa set to true.");if(!L.extensions.keyUsage.keyCertSign||!L.extensions.keyUsage.cRLSign)throw new mt("Ica certificate must have keyUsage set to keyCertSign and CRLSign.");if(L.extensions.extendedKeyUsage!==void 0)throw new mt("Ica certificate must not have extendedKeyUsage set.");if(L.extensions.subjectKeyIdentifier===void 0)throw new mt("Ica certificate must have subjectKeyIdentifier set.");if(L.extensions.subjectKeyIdentifier.length!==20)throw new mt("Ica certificate subjectKeyIdentifier must be 160 bit.");if(L.extensions.authorityKeyIdentifier===void 0)throw new mt("Ica certificate must have authorityKeyIdentifier set.");if(L.extensions.authorityKeyIdentifier.length!==20)throw new mt("Ica certificate authorityKeyIdentifier must be 160 bit.");if(!we.areEqual(L.extensions.authorityKeyIdentifier,S.extensions.subjectKeyIdentifier))throw new mt("Ica certificate authorityKeyIdentifier must be equal to root cert subjectKeyIdentifier.");qe.verify(Ms(S.ellipticCurvePublicKey),a(L),L.signature)}e.verifyIntermediateCaCertificate=O;function D(S){let L={version:0,subject:{organization:Qt.OrganisationName("CSR")},publicKey:So.PublicKeyEcPrime256v1(S.publicKey),endSignedBytes:xl(0)};return On.encode({request:L,signAlgorithm:So.EcdsaWithSHA256,signature:uc(qe.sign(S,On.encode(L),"der"))})}e.createCertificateSigningRequest=D;function y(S){let{[Er.Elements]:L}=On.decode(S);if(L?.length!==3)throw new mt("Invalid CSR data");let[H,oe,z]=L,{[Er.Elements]:Q}=H;if(Q?.length!==4)throw new mt("Invalid CSR data");let[N,q,G]=Q,te=N[Er.Bytes][0];if(te!==0)throw new mt(`Unsupported request version${te}`);let{[Er.Elements]:K}=G;if(K?.length!==2)throw new mt("Invalid CSR data");let[ae,pe]=K,he=pe[Er.Bytes];if(oe[Er.Elements]?.[0]?.[Er.Bytes]===void 0||!we.areEqual(So.EcdsaWithSHA256[Er.ObjectId][Er.Bytes],oe[Er.Elements]?.[0]?.[Er.Bytes]))throw new mt("Unsupported signature type");return qe.verify(Ms(he),On.encode(H),z[Er.Bytes],"der"),he}e.getPublicKeyFromCsr=y})(ui||(ui={}));var zA=we.fromHex("0410ef02a81a87b68121fba8d31978f807a317e50aa8a828446828914b933de8edd4a5c39c9ff71a4ce3647fd7f62653b7d2495fcba4c0f47f876880039e07204a"),KA=we.fromHex("e1f073c934853baffb38bf7e8bdad7a0a674107c7769892a0ff2e06c1a2ef7a7"),XA=we.fromHex("785CE705B86B8F4E6FC793AA60CB43EA696882D5"),DGe=we.fromHex("3082019130820137a00302010202070b8fbaa8dd86ee300a06082a8648ce3d040302301a3118301606035504030c0f4d61747465722054657374205041413020170d3231303632383134323334335a180f39393939313233313233353935395a301a3118301606035504030c0f4d61747465722054657374205041413059301306072a8648ce3d020106082a8648ce3d0301070342000410ef02a81a87b68121fba8d31978f807a317e50aa8a828446828914b933de8edd4a5c39c9ff71a4ce3647fd7f62653b7d2495fcba4c0f47f876880039e07204aa366306430120603551d130101ff040830060101ff020101300e0603551d0f0101ff040403020106301d0603551d0e04160414785ce705b86b8f4e6fc793aa60cb43ea696882d5301f0603551d23041830168014785ce705b86b8f4e6fc793aa60cb43ea696882d5300a06082a8648ce3d0403020348003045022100b9efdb3ea06a52ec0bf01e61daed2c2d156ddb6cf014101dab798fac05fa47e5022060061d3e35d60d9d4b0d448dad7612f7e85c582e3fc312dc18794dd373715e5d"),RGe=we.fromHex("6512caecaecfc543d60623161597162f014684c565a129b62fd28c27ab1ccc50"),NGe=we.fromHex("04b6cb6372887f2928f5bac81aa9d93ae2431cada9d79e242f65177ef9ced932a28ecd03baaf6a8fca184a1a503542960d453f303f1f19421d751e8f8f1a9a9b75"),PGe=we.fromHex("6AFD22771F511FECBF1641976710DCDC31A1717E"),kGe=we.fromHex("308201bd30820164a00302010202084ea8e83182d41c1c300a06082a8648ce3d04030230303118301606035504030c0f4d617474657220546573742050414131143012060a2b0601040182a27c02010c04464646313020170d3231303632383134323334335a180f39393939313233313233353935395a30303118301606035504030c0f4d617474657220546573742050414131143012060a2b0601040182a27c02010c04464646313059301306072a8648ce3d020106082a8648ce3d03010703420004b6cb6372887f2928f5bac81aa9d93ae2431cada9d79e242f65177ef9ced932a28ecd03baaf6a8fca184a1a503542960d453f303f1f19421d751e8f8f1a9a9b75a366306430120603551d130101ff040830060101ff020101300e0603551d0f0101ff040403020106301d0603551d0e041604146afd22771f511fecbf1641976710dcdc31a1717e301f0603551d230418301680146afd22771f511fecbf1641976710dcdc31a1717e300a06082a8648ce3d0403020347003044022050aa8002f4d932a9a00538f65368ad0fffc8efbbc9beb7da569835cf9aa7510e022023bac8fe0f23e75445b65339081a47994929c72aaf0a1548d40d034d514b25de");function YA(e,t){return`node-matter Dev PAI 0x${e.toString(16).toUpperCase()} ${t===void 0?"no PID":`0x${t.toString(16).toUpperCase()}`}`}function y$(e,t){return`node-matter Dev DAC 0x${e.toString(16).toUpperCase()}/0x${t.toString(16).toUpperCase()}`}function I5(){return"Matter Test PAA"}var Lg=class{constructor(t){this.vendorId=t,this.paiCertBytes=this.generatePAICert(t)}paaCertId=BigInt(0);paaKeyPair=to(KA,{publicKey:zA});paaKeyIdentifier=XA;paiCertId=BigInt(1);paiKeyPair=qe.createKeyPair();paiKeyIdentifier=qe.hash(this.paiKeyPair.publicKey).slice(0,20);paiCertBytes;nextCertificateId=2;getPAICert(){return this.paiCertBytes}getDACert(t){let n=qe.createKeyPair();return{keyPair:n,dac:this.generateDaCert(n.publicKey,this.vendorId,t)}}generatePAACert(t){let n=Ne.get().now(),i={serialNumber:we.fromHex(Qo(this.paaCertId)),signatureAlgorithm:1,publicKeyAlgorithm:1,ellipticCurveIdentifier:1,issuer:{commonName:I5(),vendorId:t},notBefore:Ro(n,-1),notAfter:Ro(n,10),subject:{commonName:I5(),vendorId:t},ellipticCurvePublicKey:this.paaKeyPair.publicKey,extensions:{basicConstraints:{isCa:!0,pathLen:1},keyUsage:{keyCertSign:!0,cRLSign:!0},subjectKeyIdentifier:this.paaKeyIdentifier,authorityKeyIdentifier:this.paaKeyIdentifier}};return ui.productAttestationAuthorityCertToAsn1(i,this.paaKeyPair)}generatePAICert(t,n){let i=Ne.get().now(),r={serialNumber:we.fromHex(Qo(this.paiCertId)),signatureAlgorithm:1,publicKeyAlgorithm:1,ellipticCurveIdentifier:1,issuer:{commonName:I5()},notBefore:Ro(i,-1),notAfter:Ro(i,10),subject:{commonName:YA(t,n),vendorId:t,productId:n},ellipticCurvePublicKey:this.paiKeyPair.publicKey,extensions:{basicConstraints:{isCa:!0,pathLen:0},keyUsage:{keyCertSign:!0,cRLSign:!0},subjectKeyIdentifier:this.paiKeyIdentifier,authorityKeyIdentifier:this.paaKeyIdentifier}};return ui.productAttestationIntermediateCertToAsn1(r,this.paaKeyPair)}generateDaCert(t,n,i){let r=Ne.get().now(),a=this.nextCertificateId++,s={serialNumber:we.fromHex(Qo(a)),signatureAlgorithm:1,publicKeyAlgorithm:1,ellipticCurveIdentifier:1,notBefore:Ro(r,-1),notAfter:Ro(r,10),issuer:{commonName:YA(n),vendorId:n},subject:{commonName:y$(n,i),vendorId:n,productId:i},ellipticCurvePublicKey:t,extensions:{basicConstraints:{isCa:!1},keyUsage:{digitalSignature:!0},subjectKeyIdentifier:qe.hash(t).slice(0,20),authorityKeyIdentifier:this.paiKeyIdentifier}};return ui.deviceAttestationCertToAsn1(s,this.paiKeyPair)}};var g$=we.fromHex("AEF3484116E9481EC57BE0472DF41BF499064E5024AD869ECA5E889802D48075"),v$=we.fromHex("62FA823359ACFAA9963E1CFA140ADDF504F37160"),Bg=class{static generate(t,n,i=!1){let r=GA.encode({formatVersion:1,vendorId:t,produceIdArray:[n],deviceTypeId:22,certificateId:"CSA00000SWC00000-00",securityLevel:0,securityInformation:0,versionNumber:1,certificationType:i?1:0});return ui.certificationDeclarationToAsn1(r,v$,to(g$))}};var Ug=class{#e;#t;#n;#i;#o;get construction(){return this.#o}get certificate(){return this.#a().certificate}get intermediateCertificate(){return this.#a().intermediateCertificate}get declaration(){return this.#a().declaration}constructor(t,n){if(typeof t=="function"){let i=t;this.#o=Mt(this,async()=>{this.#r(await i())});return}if(this.#o=Mt(this,()=>{}),t===void 0){if(n===void 0)throw new ce("Cannot generate device certification without product information");let i=new Lg(n.vendorId),{keyPair:r,dac:a}=i.getDACert(n.productId);t={privateKey:to(r.privateKey),certificate:a,intermediateCertificate:i.getPAICert(),declaration:Bg.generate(n.vendorId,n.productId)}}this.#r(t)}#r(t){this.#e=t.privateKey instanceof Uint8Array?to(t.privateKey):t.privateKey,this.#t=t.certificate,this.#n=t.intermediateCertificate,this.#i=t.declaration}sign(t,n){return qe.sign(this.#a().privateKey,[n,t.attestationChallengeKey])}#a(){if(this.#o.assert(),this.#t===void 0||this.#n===void 0||this.#i===void 0||this.#e===void 0)throw new Re("Device certification not initialized while trying to access it. This should never happen.");return{certificate:this.#t,intermediateCertificate:this.#n,declaration:this.#i,privateKey:this.#e}}};var ZA=J.get("RootCertificateManager"),Vg=class e{rootCertId=BigInt(0);rootKeyPair=qe.createKeyPair();rootKeyIdentifier=qe.hash(this.rootKeyPair.publicKey).slice(0,20);rootCertBytes=this.generateRootCert();nextCertificateId=BigInt(1);#e;get construction(){return this.#e}static async create(t){return io(e,t)}constructor(t){this.#e=Mt(this,async()=>{let n=t instanceof Dl?await t.values():t;if(typeof n.rootCertId=="bigint"&&(ArrayBuffer.isView(n.rootKeyPair)||typeof n.rootKeyPair=="object")&&ArrayBuffer.isView(n.rootKeyIdentifier)&&ArrayBuffer.isView(n.rootCertBytes)&&(typeof n.nextCertificateId=="number"||typeof n.nextCertificateId=="bigint")){this.rootCertId=BigInt(n.rootCertId),this.rootKeyPair=to(n.rootKeyPair),this.rootKeyIdentifier=n.rootKeyIdentifier,this.rootCertBytes=n.rootCertBytes,this.nextCertificateId=BigInt(n.nextCertificateId),ZA.debug(`Loaded root certificate with ID ${this.rootCertId} from storage`);return}ZA.debug(`Created new root certificate with ID ${this.rootCertId}`),t instanceof Dl&&await t.set({rootCertId:this.rootCertId,rootKeyPair:this.rootKeyPair.keyPair,rootKeyIdentifier:this.rootKeyIdentifier,rootCertBytes:this.rootCertBytes,nextCertificateId:this.nextCertificateId})})}[Jt.create](t){let n=t.get(Ra).createContext("certificates"),i=new e(n);return t.set(e,i),i}get rootCert(){return this.rootCertBytes}get data(){return{rootCertId:this.rootCertId,rootKeyPair:this.rootKeyPair.keyPair,rootKeyIdentifier:this.rootKeyIdentifier,rootCertBytes:this.rootCertBytes,nextCertificateId:this.nextCertificateId}}generateRootCert(){let t=Ne.get().now(),n={serialNumber:we.fromHex(Qo(this.rootCertId)),signatureAlgorithm:1,publicKeyAlgorithm:1,ellipticCurveIdentifier:1,issuer:{rcacId:this.rootCertId},notBefore:Ro(t,-1),notAfter:Ro(t,10),subject:{rcacId:this.rootCertId},ellipticCurvePublicKey:this.rootKeyPair.publicKey,extensions:{basicConstraints:{isCa:!0},keyUsage:{keyCertSign:!0,cRLSign:!0},subjectKeyIdentifier:this.rootKeyIdentifier,authorityKeyIdentifier:this.rootKeyIdentifier}},i=qe.sign(this.rootKeyPair,ui.rootCertToAsn1(n));return Bc.encode({...n,signature:i})}generateNoc(t,n,i,r){let a=Ne.get().now(),s=this.nextCertificateId++,c={serialNumber:we.fromHex(Qo(s)),signatureAlgorithm:1,publicKeyAlgorithm:1,ellipticCurveIdentifier:1,issuer:{rcacId:this.rootCertId},notBefore:Ro(a,-1),notAfter:Ro(a,10),subject:{fabricId:n,nodeId:i,caseAuthenticatedTags:r},ellipticCurvePublicKey:t,extensions:{basicConstraints:{isCa:!1},keyUsage:{digitalSignature:!0},extendedKeyUsage:[2,1],subjectKeyIdentifier:qe.hash(t).slice(0,20),authorityKeyIdentifier:this.rootKeyIdentifier}},l=qe.sign(this.rootKeyPair,ui.nodeOperationalCertToAsn1(c));return No.encode({...c,signature:l})}};var QA=Symbol("interned-logical-address"),JA=new Map;function mi(e){if(QA in e)return e;let t=JA.get(e.fabricIndex);t===void 0&&JA.set(e.fabricIndex,t=new Map);let n=t.get(e.nodeId);return n||(t.set(e.nodeId,n={...e,[QA]:!0,toString(){let i=this.nodeId>65535?`0x${this.nodeId.toString(16)}`:this.nodeId;return`peer@${this.fabricIndex}:${i}`}}),n)}var zs=class extends Map{delete(t){return super.delete(mi(t))}has(t){return super.has(mi(t))}set(t,n){return super.set(mi(t),n)}get(t){return super.get(mi(t))}};var eM=0,xr=(e=>(e[e.Group=1]="Group",e[e.Unicast=0]="Unicast",e))(xr||{}),A5=0;var br=class{static decodePacket(t){let n=new qn(t,Et.Little),i=this.decodePacketHeader(n),r;if(i.hasMessageExtensions){let s=n.readUInt16();r=n.readByteArray(s)}let a=n.getRemainingBytes();return{header:i,messageExtension:r,applicationPayload:a}}static decodePayload({header:t,applicationPayload:n}){let i=new qn(n,Et.Little),r=this.decodePayloadHeader(i),a;if(r.hasSecuredExtension){let s=i.readUInt16();a=i.readByteArray(s)}return{packetHeader:t,payloadHeader:r,securityExtension:a,payload:i.getRemainingBytes()}}static encodePayload({packetHeader:t,payloadHeader:n,payload:i,securityExtension:r}){if(r!==void 0||n.hasSecuredExtension)throw new Yt("Security extensions not supported when encoding a payload.");return{header:t,applicationPayload:we.concat(this.encodePayloadHeader(n),i)}}static encodePacket({header:t,applicationPayload:n,messageExtension:i}){if(i!==void 0||t.hasMessageExtensions)throw new Yt("Message extensions not supported when encoding a packet.");return we.concat(this.encodePacketHeader(t),n)}static decodePacketHeader(t){let n=t.readUInt8(),i=(n&240)>>4,r=(n&1)!==0,a=(n&2)!==0,s=(n&4)!==0;if(r&&a)throw new De("The header cannot contain destination group and node at the same time. Reserved for future use. Discard message.");if(i!==eM)throw new Yt(`Unsupported header version ${i}.`);let c=t.readUInt16(),l=t.readUInt8(),d=t.readUInt32(),f=s?Rt(t.readUInt64()):void 0,g=r?Rt(t.readUInt64()):void 0,b=a?Oc(t.readUInt16()):void 0,w=l&3;if(w!==1&&w!==0)throw new De(`Unsupported session type ${w}`);let O=(l&128)!==0;if(O)throw new Yt("Privacy enhancements not supported");let D=(l&64)!==0;if(D)throw new Yt("Control Messages not supported");let y=(l&32)!==0;return{securityFlags:l,sessionId:c,sourceNodeId:f,messageId:d,destGroupId:b,destNodeId:g,sessionType:w,hasPrivacyEnhancements:O,isControlMessage:D,hasMessageExtensions:y}}static decodePayloadHeader(t){let n=t.readUInt8(),i=(n&1)!==0,r=(n&2)!==0,a=(n&4)!==0,s=(n&8)!==0,c=(n&16)!==0,l=t.readUInt8(),d=t.readUInt16(),g=(c?t.readUInt16():A5)<<16|t.readUInt16(),b=r?t.readUInt32():void 0;return{protocolId:g,exchangeId:d,messageType:l,isInitiatorMessage:i,requiresAck:a,ackedMessageId:b,hasSecuredExtension:s}}static encodePacketHeader({messageId:t,sessionId:n,destGroupId:i,destNodeId:r,sourceNodeId:a,sessionType:s}){let c=new Dn(Et.Little),l=eM<<4|(i!==void 0?2:0)|(r!==void 0?1:0)|(a!==void 0?4:0),d=s;return c.writeUInt8(l),c.writeUInt16(n),c.writeUInt8(d),c.writeUInt32(t),a!==void 0&&c.writeUInt64(a),r!==void 0&&c.writeUInt64(r),i!==void 0&&c.writeUInt32(i),c.toByteArray()}static messageDiagnostics({packetHeader:{messageId:t,sessionId:n},payloadHeader:{exchangeId:i,messageType:r,protocolId:a,ackedMessageId:s,requiresAck:c},payload:l},d=!1){return fe.dict({id:`${n}/${i}/${t}`,type:`${a}/${r}`,acked:s,reqAck:c,duplicate:d,payload:l})}static encodePayloadHeader({exchangeId:t,isInitiatorMessage:n,messageType:i,protocolId:r,requiresAck:a,ackedMessageId:s}){let c=new Dn(Et.Little),l=(r&4294901760)>>16,d=(n?1:0)|(s!==void 0?2:0)|(a?4:0)|(l!==A5?16:0);return c.writeUInt8(d),c.writeUInt8(i),c.writeUInt16(t),l!==A5?c.writeUInt32(r):c.writeUInt16(r),s!==void 0&&c.writeUInt32(s),c.toByteArray()}};var iu=4294967294,b$=1e3;var Lm=class{constructor(t,n=b$){this.aboutToRolloverCallback=t,this.rolloverInfoDifference=n}messageCounter=(qe.getRandomUInt32()>>>4)+1;async getIncrementedCounter(){if(this.messageCounter++,this.messageCounter>iu)if(this.aboutToRolloverCallback!==void 0)this.messageCounter=0;else throw new Re("Message counter rollover not allowed.");else this.aboutToRolloverCallback!==void 0&&this.messageCounter===iu-this.rolloverInfoDifference&&this.aboutToRolloverCallback();return this.messageCounter}};var uze=Math.pow(2,31),ru=32,ou=class extends lt{},M5=class{},Dp=class extends M5{maximumMessageCounter;messageCounterBitmap=4294967295;constructor(t){super(),t!==void 0&&this.initialize(t)}initialize(t){this.maximumMessageCounter=t,this.messageCounterBitmap=4294967295}calculateDiff(t){return this.maximumMessageCounter===void 0?0:t-this.maximumMessageCounter}calculateMessageCounterBitmap(t,n){if(n<0){if(n<-ru)throw new Re(`Message counter difference too large: ${n}`);let i=1<<-n-1;t|=i}else if(n>0)if(n<=ru){let i=1<<n-1;t=t<<n>>>0|i}else t=0;return t>>>0}updateMessageCounterAndBitmap(t,n){if(this.maximumMessageCounter===void 0){this.initialize(t);return}this.messageCounterBitmap=this.calculateMessageCounterBitmap(this.messageCounterBitmap,n),(n>0||n<-ru)&&(this.maximumMessageCounter=t)}isCounterKnownInBitmap(t){if(t<-ru||t>=0)throw new Re(`Invalid Message counter difference for check: ${t}`);let n=1<<-t-1;return(this.messageCounterBitmap&n)!==0}updateMessageCounter(t){if(t<0||t>iu)throw new Re(`Invalid message counter value: ${t}`);if(this.maximumMessageCounter===void 0){this.updateMessageCounterAndBitmap(t,0);return}if(t===this.maximumMessageCounter)throw new ou("Message counter equals the maximum message counter.");let n=this.calculateDiff(t);if(n<0){if(n<-ru)throw new ou("Message counter is considered duplicate.");if(this.isCounterKnownInBitmap(n))throw new ou("Message counter is within the message counter window and duplicate.")}this.updateMessageCounterAndBitmap(t,n)}};var qg=class extends Dp{calculateDiff(t){if(this.maximumMessageCounter===void 0)return 0;let n=t-this.maximumMessageCounter;return n>0?-n+iu<ru?n-iu-1:n:n<0?n<-ru?iu+n:n:0}};var Ha=300,ja=500,Ga=4e3,E5=17,O5=11,D5=0,R5=1,Bm=class{#e;timestamp=Ne.nowMs();activeTimestamp=0;idleIntervalMs;activeIntervalMs;activeThresholdMs;dataModelRevision;interactionModelRevision;specificationVersion;maxPathsPerInvoke;messageCounter;messageReceptionState;closer;constructor(t){let{manager:n,messageCounter:i,messageReceptionState:r,sessionParameters:{idleIntervalMs:a=ja,activeIntervalMs:s=Ha,activeThresholdMs:c=Ga,dataModelRevision:l=E5,interactionModelRevision:d=O5,specificationVersion:f=D5,maxPathsPerInvoke:g=R5}={},setActiveTimestamp:b}=t;this.#e=n,this.messageCounter=i,this.messageReceptionState=r,this.idleIntervalMs=a,this.activeIntervalMs=s,this.activeThresholdMs=c,this.dataModelRevision=l,this.interactionModelRevision=d,this.specificationVersion=f,this.maxPathsPerInvoke=g,b&&(this.activeTimestamp=this.timestamp)}notifyActivity(t){this.timestamp=Ne.nowMs(),t&&(this.activeTimestamp=this.timestamp)}isPeerActive(){return Ne.nowMs()-this.activeTimestamp<this.activeThresholdMs}getIncrementedMessageCounter(){return this.messageCounter.getIncrementedCounter()}updateMessageCounter(t,n){this.messageReceptionState.updateMessageCounter(t)}get parameters(){let{idleIntervalMs:t,activeIntervalMs:n,activeThresholdMs:i,dataModelRevision:r,interactionModelRevision:a,specificationVersion:s,maxPathsPerInvoke:c}=this;return{idleIntervalMs:t,activeIntervalMs:n,activeThresholdMs:i,dataModelRevision:r,interactionModelRevision:a,specificationVersion:s,maxPathsPerInvoke:c}}get manager(){return this.#e}get owner(){return this.#e?.owner}};var Um=J.get("SecureSession"),x$=we.fromString("SessionKeys"),w$=we.fromString("SessionResumptionKeys"),ma=class extends ve{constructor(t){super(t,ue.UnsupportedAccess)}},za=class e extends Bm{#e=new mr;#t=!1;#n=!0;#i;#o;#r;#a;#s;#c;#l;#m;#d=!1;supportsMRP=!0;static async create(t){let{manager:n,id:i,fabric:r,peerNodeId:a,peerSessionId:s,sharedSecret:c,salt:l,isInitiator:d,isResumption:f,peerSessionParameters:g,caseAuthenticatedTags:b}=t,w=await qe.hkdf(c,l,f?w$:x$,$y*3),O=d?w.slice(16,32):w.slice(0,16),D=d?w.slice(0,16):w.slice(16,32),y=w.slice(32,48);return new e({manager:n,id:i,fabric:r,peerNodeId:a,peerSessionId:s,decryptKey:O,encryptKey:D,attestationKey:y,sessionParameters:g,isInitiator:d,caseAuthenticatedTags:b})}constructor(t){super({...t,setActiveTimestamp:!0,messageCounter:new Lm(()=>{this.end(!0,!0).catch(g=>Um.error(`Error while closing session: ${g}`))}),messageReceptionState:new Dp});let{manager:n,id:i,fabric:r,peerNodeId:a,peerSessionId:s,decryptKey:c,encryptKey:l,attestationKey:d,caseAuthenticatedTags:f}=t;this.#i=i,this.#o=r,this.#r=a,this.#a=s,this.#s=c,this.#c=l,this.#l=d,this.#m=f??[],n?.sessions.add(this),r?.addSession(this),Um.debug(`Created secure ${this.isPase?"PASE":"CASE"} session for fabric index ${r?.fabricIndex}`,this.name,fe.dict({idleIntervalMs:this.idleIntervalMs,activeIntervalMs:this.activeIntervalMs,activeThresholdMs:this.activeThresholdMs,dataModelRevision:this.dataModelRevision,interactionModelRevision:this.interactionModelRevision,specificationVersion:this.specificationVersion,maxPathsPerInvoke:this.maxPathsPerInvoke,caseAuthenticatedTags:this.#m}))}get caseAuthenticatedTags(){return this.#m}get closingAfterExchangeFinished(){return this.#t}get sendCloseMessageWhenClosing(){return this.#n}get isSecure(){return!0}get isPase(){return this.#r===Rt.UNSPECIFIED_NODE_ID}get subscriptions(){return this.#e}get isClosing(){return this.#d}async close(t){t===void 0&&(t=this.isPeerActive()),await this.end(!0,t)}decode({header:t,applicationPayload:n,messageExtension:i},r){t.hasMessageExtensions&&Um.info(`Message extensions are not supported. Ignoring ${i?we.toHex(i):void 0}`);let a=this.generateNonce(t.securityFlags,t.messageId,this.#r),s=br.decodePayload({header:t,applicationPayload:qe.decrypt(this.#s,n,a,r)});return s.payloadHeader.hasSecuredExtension&&Um.info(`Secured extensions are not supported. Ignoring ${s.securityExtension?we.toHex(s.securityExtension):void 0}`),s}encode(t){t.packetHeader.sessionId=this.#a;let{header:n,applicationPayload:i}=br.encodePayload(t),r=br.encodePacketHeader(t.packetHeader),a=r[3],s=this.isPase?Rt.UNSPECIFIED_NODE_ID:this.#o?.nodeId??Rt.UNSPECIFIED_NODE_ID,c=this.generateNonce(a,n.messageId,s);return{header:n,applicationPayload:qe.encrypt(this.#c,i,c,r)}}get attestationChallengeKey(){return this.#l}get fabric(){return this.#o}addAssociatedFabric(t){if(this.#o!==void 0)throw new ze("Session already has an associated Fabric. Cannot change this.");this.#o=t}get id(){return this.#i}get name(){return`secure/${this.#i}`}get peerSessionId(){return this.#a}get nodeId(){return this.#o?.nodeId??Rt.UNSPECIFIED_NODE_ID}get peerNodeId(){return this.#r}get associatedFabric(){if(this.#o===void 0)throw new ma(`${this.isPase?"PASE ":""}Session needs to have an associated Fabric for fabric sensitive data handling.`);return this.#o}async clearSubscriptions(t=!1){let n=[...this.#e];for(let i of n)await i.close(t)}async end(t,n=!1){await this.clearSubscriptions(!0),await this.destroy(t,n)}async destroy(t=!1,n=!0){await this.clearSubscriptions(!1),this.#o?.removeSession(this),t||(this.#n=!1),n?(Um.info(`Register Session ${this.name} to close when exchange is ended.`),this.#t=!0):(this.#d=!0,Um.info(`End ${this.isPase?"PASE":"CASE"} session ${this.name}`),this.manager?.sessions.delete(this),this.closer&&await this.closer)}get peerAddress(){return mi({fabricIndex:this.#o?.fabricIndex??Jn.NO_FABRIC,nodeId:this.#r})}peerIs(t){return(this.#o?.fabricIndex??Jn.NO_FABRIC)===t.fabricIndex&&this.#r===t.nodeId}generateNonce(t,n,i){let r=new Dn(Et.Little);return r.writeUInt8(t),r.writeUInt32(n),r.writeUInt64(i),r.toByteArray()}};function wr(e,t){if(!e?.isSecure)throw new ze(t??"Insecure session in secure context")}function tM(e,t,n,i,r,a=!1){return e.unknown?new $g(e,t,n,i,r):a?new Rp(e,t,n,i,r):new _g(e,t,n,i,r)}var _g=class{constructor(t,n,i,r,a){this.attribute=t,this.name=n,this.endpointId=i,this.clusterId=r;let{schema:s,writable:c,fabricScoped:l,id:d,omitChanges:f}=t;this.schema=s,this.#e=c,this.#t=l,this.#n=!f,this.id=d,this.#o=a}#e;#t;#n;schema;#i=new Array;id;#o;async set(t,n){if(!this.#e)throw new Em(`Attribute ${this.name} is not writable`);if(t=this.schema.injectField(t,Eo.id,Jn.OMIT_FABRIC,i=>i===void 0),this.schema.validate(t),this.#t){t=this.schema.removeField(t,Eo.id,i=>i===Jn.OMIT_FABRIC);try{let i=this.#o.session.associatedFabric;t=this.schema.removeField(t,Eo.id,r=>r.index===i.fabricIndex)}catch(i){ma.accept(i)}}return await this.#o.setAttribute({attributeData:{endpointId:this.endpointId,clusterId:this.clusterId,attribute:this.attribute,value:t,dataVersion:n}})}async get(t,n=!0){return t===void 0?t=this.#t||!this.#n:!t&&this.#t&&(t=!0),await this.#o.getAttribute({endpointId:this.endpointId,clusterId:this.clusterId,attribute:this.attribute,isFabricFiltered:n,alwaysRequestFromRemote:t})}async getWithVersion(t,n=!0){return t===void 0?t=this.#t:!t&&this.#t&&(t=!0),await this.#o.getAttributeWithVersion({endpointId:this.endpointId,clusterId:this.clusterId,attribute:this.attribute,isFabricFiltered:n,alwaysRequestFromRemote:t})}async subscribe(t,n,i,r=!0){if(!this.#n)throw new ce(`Attribute ${this.name} is not updated by subscriptions.`);return this.#o.subscribeAttribute({endpointId:this.endpointId,clusterId:this.clusterId,attribute:this.attribute,minIntervalFloorSeconds:t,maxIntervalCeilingSeconds:n,isFabricFiltered:r,knownDataVersion:i,listener:this.update.bind(this)})}update(t){this.#i.forEach(n=>n(t))}addListener(t){this.#i.push(t)}removeListener(t){let n=this.#i.indexOf(t);n!==-1&&this.#i.splice(n,1)}},Rp=class extends _g{},$g=class extends Rp{};function nM(e,t,n,i,r,a=!1){return e.unknown?new Hg(e,t,n,i,r):a?new Wg(e,t,n,i,r):new Np(e,t,n,i,r)}var Np=class{constructor(t,n,i,r,a){this.event=t,this.name=n,this.endpointId=i,this.clusterId=r,this.id=t.id,this.#t=a}#e=new Array;id;#t;async get(t,n){return await this.#t.getEvent({endpointId:this.endpointId,clusterId:this.clusterId,event:this.event,minimumEventNumber:t,isFabricFiltered:n})}async subscribe(t,n,i=!0,r,a){return await this.#t.subscribeEvent({endpointId:this.endpointId,clusterId:this.clusterId,event:this.event,minIntervalFloorSeconds:t,maxIntervalCeilingSeconds:n,isUrgent:i,minimumEventNumber:r,isFabricFiltered:a,listener:this.update.bind(this)})}update(t){for(let n of this.#e)n(t)}addListener(t){this.#e.push(t)}removeListener(t){let n=this.#e.indexOf(t);n!==-1&&this.#e.splice(n,1)}},Wg=class extends Np{},Hg=class extends Np{};var au=J.get("ClusterClient");function iM(e,t,n,i={}){function r(q,G){D[G]=tM(q,G,t,s,n,!!i?.attributeList?.includes(q.id)),oe[q.id]=G;let te=Lf(G);H[`get${te}Attribute`]=async(K,ae=!0)=>{try{return await D[G].get(K,ae)}catch(pe){if(ve.is(pe,ue.UnsupportedAttribute))return;throw pe}},H[`set${te}Attribute`]=async(K,ae)=>D[G].set(K,ae),H[`subscribe${te}Attribute`]=async(K,ae,pe,he,Ce)=>(D[G].addListener(K),D[G].subscribe(ae,pe,he,Ce)),H[`add${te}AttributeListener`]=K=>{D[G].addListener(K)}}function a(q,G){y[G]=nM(q,G,t,s,n,!!i?.eventList?.includes(q.id)),Q[q.id]=G;let te=Lf(G);H[`get${te}Event`]=async(K,ae)=>{try{return await y[G].get(K,ae)}catch(pe){if(ve.is(pe,ue.UnsupportedEvent))return;throw pe}},H[`subscribe${te}Event`]=async(K,ae,pe,he,Ce,Le)=>(y[G].addListener(K),y[G].subscribe(ae,pe,he,Ce,Le)),H[`add${te}EventListener`]=K=>{y[G].addListener(K)}}let{id:s,name:c,commands:l,attributes:d,events:f,features:g,supportedFeatures:b,revision:w,unknown:O}=e,D={},y={},S={},L;i!==void 0&&i.featureMap!==void 0&&(L=i.featureMap);let H={id:s,name:c,revision:i?.clusterRevision??w,_type:"ClusterClient",supportedFeatures:L??b??{},isUnknown:O,endpointId:t,attributes:D,events:y,commands:S,subscribeAllAttributes:async q=>{let{minIntervalFloorSeconds:G,maxIntervalCeilingSeconds:te,keepSubscriptions:K,isFabricFiltered:ae,eventFilters:pe,dataVersionFilters:he}=q;return n.subscribeMultipleAttributesAndEvents({attributes:[{endpointId:t,clusterId:s}],events:[{endpointId:t,clusterId:s}],minIntervalFloorSeconds:G,maxIntervalCeilingSeconds:te,keepSubscriptions:K,isFabricFiltered:ae,eventFilters:pe,dataVersionFilters:he,attributeListener:Ce=>{let{path:Le,value:tt}=Ce;H._triggerAttributeUpdate(Le.attributeId,tt)},eventListener:Ce=>{let{path:Le,events:tt}=Ce;H._triggerEventUpdate(Le.eventId,tt)}})},_triggerAttributeUpdate(q,G){let te=oe[q];if(te===void 0){au.warn("Unknown attribute id",q);return}D[te]!==void 0?D[te].update(G):au.warn("Attribute not found",te,"in list",Object.keys(D))},_triggerEventUpdate(q,G){let te=Q[q];if(te===void 0){au.warn("Unknown event id",q);return}if(y[te]!==void 0){let K=y[te];G.forEach(ae=>K.update(ae))}else au.warn("Event not found",te,"in list",Object.keys(y))},isAttributeSupported:q=>!!i?.attributeList?.includes(q),isAttributeSupportedByName:q=>{let G=D[q];return G===void 0?!1:!!i?.attributeList?.includes(G.id)},isEventSupported:q=>!!i?.eventList?.includes(q),isEventSupportedByName:q=>{let G=y[q];return G===void 0?!1:!!i?.eventList?.includes(G.id)},isCommandSupported:q=>!!i?.acceptedCommandList?.includes(q),isCommandSupportedByName:q=>{let G=l[q];return G===void 0?!1:!!i?.acceptedCommandList?.includes(G.requestId)}},oe={},z=Iy(d,Om(g));for(let q in z)r(z[q],q);if(i?.attributeList!==void 0){for(let q of i.attributeList)if(oe[q]===void 0){let G=lA(q);r(G,`unknownAttribute_${fe.hex(q)}`),au.info(`Added unknown attribute ${fe.hex(q)} to cluster ${fe.hex(s)}`)}}let Q={};for(let q in f)a(f[q],q);if(i?.eventList!==void 0){for(let q of i.eventList)if(Q[q]===void 0){let G=dA(q);a(G,`unknownEvent_${fe.hex(q)}`),au.info(`Added unknown event ${fe.hex(q)} to cluster ${fe.hex(s)}.`)}}let N={};for(let q in l){let{requestId:G}=l[q];N[G]=q,S[q]=async(te,K={})=>{let{asTimedRequest:ae,timedRequestTimeoutMs:pe,useExtendedFailSafeMessageResponseTimeout:he}=K;return n.invoke({endpointId:t,clusterId:s,command:l[q],request:te,asTimedRequest:ae,timedRequestTimeoutMs:pe,useExtendedFailSafeMessageResponseTimeout:he})},H[q]=H.commands[q]}if(i?.acceptedCommandList!==void 0)for(let q of i.acceptedCommandList)N[q]===void 0&&au.info(`Ignoring unknown command ${q} at cluster ${fe.hex(s)}`);return H}var Ka=J.get("AttributeServer"),T$=xt(Eo.name),Xa=class extends lt{};function rM(e,t,n,i,r,a,s,c){let{id:l,schema:d,writable:f,fabricScoped:g,fixed:b,omitChanges:w,timed:O,default:D,readAcl:y,writeAcl:S}=t;return b?new jg(l,n,y,S,d,f,!1,O,i,D,r,a):g?new Vc(l,n,y,S,d,f,!w,O,i,D,e,r,a,s,c):new Uc(l,n,y,S,d,f,!w,O,i,D,r,a,s,c)}var N5=class{constructor(t,n,i,r,a,s,c,l,d,f){this.id=t,this.name=n,this.schema=a,this.isWritable=s,this.isSubscribable=c,this.requiresTimedInteraction=l,this.#e=i,this.#t=r;try{this.validateWithSchema(d),this.value=d}catch{if(Ka.warn(`Attribute value to initialize for ${n} has an invalid value ${J.toJSON(d)}. Restore to default ${J.toJSON(f)}`),f===void 0)throw new ce(`Attribute value to initialize for ${n} cannot be undefined.`);this.validateWithSchema(f),this.value=f}this.defaultValue=this.value}value=void 0;endpoint;defaultValue;#e;#t;get hasFabricSensitiveData(){return!1}validateWithSchema(t){try{this.schema.validate(t)}catch(n){throw li.accept(n),n.message=`Validation error for attribute "${this.name}"${n.fieldName!==void 0?` in field ${n.fieldName}`:""}: ${n.message}`,n}}assignToEndpoint(t){this.endpoint=t}get writeAcl(){return this.#t??W.Operate}get readAcl(){return this.#e??W.View}},jg=class extends N5{constructor(t,n,i,r,a,s,c,l,d,f,g,b){super(t,n,i,r,a,s,c,l,d,f),this.datasource=g,b===void 0?this.getter=()=>{if(this.value===void 0)throw new Re(`Attribute value for attribute "${n}" is not initialized.`);return this.value}:this.getter=b}isFixed=!0;getter;get(t,n,i){return this.getter(t,this.endpoint,n,i)}getWithVersion(t,n,i){return{version:this.datasource.version,value:this.get(t,n,i)}}getLocal(){return this.getter(void 0,this.endpoint)}init(t){if(t===void 0)throw new Re(`Cannot initialize fixed attribute "${this.name}" with undefined value.`);this.validateWithSchema(t),this.value=t}addValueChangeListener(t){}removeValueChangeListener(t){}addValueSetListener(t){}subscribe(t){}removeValueSetListener(t){}},Uc=class extends jg{isFixed=!1;valueChangeListeners=new Array;valueSetListeners=new Array;setter;validator;delayedChangeData=void 0;constructor(t,n,i,r,a,s,c,l,d,f,g,b,w,O){if(s&&(b===void 0||w===void 0)&&!(b===void 0&&w===void 0))throw new ce(`Getter and setter must be implemented together for writeable attribute "${n}".`);super(t,n,i,r,a,s,c,l,d,f,g,b),w===void 0?this.setter=D=>{let y=this.value;return this.value=D,!Rn(D,y)}:this.setter=w,this.validator=(D,y,S)=>{this.validateWithSchema(D),O!==void 0&&O(D,y,S)}}init(t){if(t===void 0&&(t=this.getter(void 0,this.endpoint)),t===void 0)throw new Re(`Cannot initialize attribute "${this.name}" with undefined value.`);this.validator(t,void 0,this.endpoint),this.value=t}set(t,n,i,r=!1){if(!this.isWritable)throw new ve(`Attribute "${this.name}" is not writable.`,ue.UnsupportedWrite);this.setRemote(t,n,i,r)}setRemote(t,n,i,r=!1){this.processSet(t,n,i,r),this.value=t}setLocal(t){this.processSet(t,void 0),this.value=t}processSet(t,n,i,r=!1){this.validator(t,n,this.endpoint);let a=this.getter(n,this.endpoint,void 0,i),s=this.setter(t,n,this.endpoint,i);r?(this.delayedChangeData={oldValue:this.delayedChangeData?.oldValue??a,newValue:t,changed:!!this.delayedChangeData?.changed||s},Ka.info(`Delay change for attribute "${this.name}" with value ${J.toJSON(t)}`)):this.handleVersionAndTriggerListeners(t,a,s)}triggerDelayedChangeEvents(){if(this.delayedChangeData!==void 0){let{oldValue:t,newValue:n,changed:i}=this.delayedChangeData;this.delayedChangeData=void 0,Ka.info(`Trigger delayed change for attribute "${this.name}" with value ${J.toJSON(n)}`),this.handleVersionAndTriggerListeners(n,t,i)}}handleVersionAndTriggerListeners(t,n,i){if(i){let r=this.datasource.increaseVersion();this.valueChangeListeners.forEach(a=>a(t,r))}n!==void 0&&this.valueSetListeners.forEach(r=>r(t,n))}updated(t){let n=this.value??this.defaultValue;try{this.value=this.get(t,!1)}catch(i){ma.accept(i),this.value===void 0&&(this.value=this.defaultValue)}this.handleVersionAndTriggerListeners(this.value,n,!0)}updatedLocal(){let t=this.value??this.defaultValue;this.value=this.getLocal(),this.handleVersionAndTriggerListeners(this.value,t,!0)}addValueChangeListener(t){this.valueChangeListeners.push(t)}removeValueChangeListener(t){let n=this.valueChangeListeners.indexOf(t);n!==-1&&this.valueChangeListeners.splice(n,1)}addValueSetListener(t){this.valueSetListeners.push(t)}subscribe(t){this.addValueSetListener(t)}removeValueSetListener(t){let n=this.valueSetListeners.indexOf(t);n!==-1&&this.valueSetListeners.splice(n,1)}};function oM(e,t,n,i){return e.getScopedClusterDataValue(t,n)?.value??i}function C$(e,t,n,i,r){let a=oM(e,t,n,r);if(!Rn(i,a)){let s=e.setScopedClusterDataValue(t,n,{value:i});if(Pe.is(s))throw new ce("Seems like an Asynchronous Storage is used with Legacy code paths which is forbidden!");return!0}return!1}function S$(e,t,n,i,r){if(t===void 0)throw new Xa(`Session is required for fabric scoped attribute "${i}".`);wr(t);let a=t.associatedFabric;return C$(a,n,i,e,r)}var Vc=class extends Uc{constructor(t,n,i,r,a,s,c,l,d,f,g,b,w,O,D){if(s&&(w===void 0||O===void 0)&&!(w===void 0&&O===void 0))throw new ce(`Getter and setter must be implemented together for writeable fabric scoped attribute "${n}".`);let y=!1;w===void 0?w=(L,H,oe)=>{if(L===void 0)throw new Xa(`Session is required for fabric scoped attribute ${n}`);if(oe===!0)return wr(L),this.getLocalForFabric(L.associatedFabric);{let z=new Array;for(let Q of b.fabrics){let N=this.getLocalForFabric(Q);if(!Array.isArray(N))throw new Xa(`Fabric scoped attribute "${n}" can only be read for all fabrics if they are arrays.`);z.push(...N)}return z}}:y=!0;let S=!1;O===void 0?O=(L,H)=>S$(L,H,this.cluster,this.name,this.defaultValue):S=!0,super(t,n,i,r,a,s,c,l,d,f,b,w,O,D),this.cluster=g,this.isCustomGetter=y,this.isCustomSetter=S,this.#e()}isCustomGetter;isCustomSetter;fabricSensitiveElementsToRemove=new Array;#e(){let t=kr.standard.get(Me,this.cluster.id);if(t===void 0){Ka.debug(`${this.cluster.name}: Cluster for Fabric scoped element not found in Model, ignore`);return}let n=t.get(xn,this.id);if(n===void 0){Ka.debug(`${this.cluster.name}.${this.id}: Attribute for Fabric scoped element not found in Model, ignore`);return}if(!n.fabricScoped){Ka.debug(`${this.cluster.name}.${this.id}: Attribute is not Fabric scoped in model, ignore`);return}if(n.children.length!==1){Ka.debug(`${this.cluster.name}.${this.id}: Attribute has not exactly one child, ignore`);return}let i=n.children[0].type;if(i===void 0){Ka.debug(`${this.cluster.name}.${this.id}: Attribute field has no type, ignore`);return}let r=t.get(Ye,i);if(r===void 0){Ka.debug(`${this.cluster.name}.${this.id}: DataType ${i} not found in model, ignore`);return}r.children.filter(a=>a.fabricSensitive).forEach(a=>this.fabricSensitiveElementsToRemove.push(xt(a.name)))}get hasFabricSensitiveData(){return this.fabricSensitiveElementsToRemove.length>0}sanitizeFabricSensitiveFields(t,n){if(this.fabricSensitiveElementsToRemove.length&&Array.isArray(t)){let i=n?.fabricIndex??-1;return t.map(r=>{if(r[T$]!==i){let a={...r};return this.fabricSensitiveElementsToRemove.forEach(s=>delete a[s]),a}return r})}return t}init(t){if(t!==void 0)throw new Re(`Cannot initialize fabric scoped attribute "${this.name}" with a value.`)}set(t,n,i,r=!1,a=!1){if(!this.isWritable)throw new ve(`Attribute "${this.name}" is not writable.`,ue.UnsupportedWrite);this.setRemote(t,n,i,r,a)}setRemote(t,n,i,r=!1,a=!1){t=this.schema.injectField(t,Eo.id,n.associatedFabric.fabricIndex,()=>!a),Ka.info(`Set remote value for fabric scoped attribute "${this.name}" to ${J.toJSON(t)}`),super.setRemote(t,n,i,r)}setLocal(t){throw new Xa(`Fabric scoped attribute "${this.name}" can only be set locally by providing a Fabric. Use setLocalForFabric instead.`)}setLocalForFabric(t,n){if(this.isCustomSetter)throw new Xa(`Fabric scoped attribute "${this.name}" cannot be set locally when a custom setter is defined.`);this.validator(t,void 0,this.endpoint);let i=this.getLocalForFabric(n),r=!Rn(t,i);if(r){let a=n.setScopedClusterDataValue(this.cluster,this.name,{value:t});if(Pe.is(a))throw new ce("Seems like an Asynchronous Storage is used with Legacy code paths which is forbidden!")}this.handleVersionAndTriggerListeners(t,i,r)}updatedLocalForFabric(t){let n=this.value??this.defaultValue;try{this.value=this.getLocalForFabric(t)}catch(i){Xa.accept(i),this.value===void 0&&(this.value=this.defaultValue)}this.handleVersionAndTriggerListeners(this.value,n,!0)}getLocalForFabric(t){if(this.isCustomGetter)throw new Xa(`Fabric scoped attribute "${this.name}" cannot be read locally when a custom getter is defined.`);return oM(t,this.cluster,this.name,this.defaultValue)}};var I$=J.get("CommandServer"),Gg=class{constructor(t,n,i,r,a,s,c,l){this.invokeId=t,this.responseId=n,this.name=i,this.requestSchema=r,this.responseSchema=a,this.requiresTimedInteraction=s,this.handler=l,this.#e=c}#e;async invoke(t,n,i,r){let a=this.requestSchema.decodeTlv(n);t.isSecure&&t.fabric&&(a=this.requestSchema.injectField(a,Eo.id,t.associatedFabric.fabricIndex,()=>!0)),this.requestSchema.validate(a),this.debug(`Invoke ${this.name} with data ${J.toJSON(a)}`);let s=await this.handler(a,t,i,r);return this.debug(`Invoke ${this.name} response : ${J.toJSON(s)}`),{code:ue.Success,responseId:this.responseId,response:this.responseSchema.encodeTlv(s)}}debug(t){I$.debug(t)}get invokeAcl(){return this.#e??W.Operate}};var Pp=class{constructor(t,n,i,r,a,s){this.id=t,this.clusterId=n,this.name=i,this.schema=r,this.priority=a,this.#e=s}eventList=new Array;listeners=new Array;endpoint;eventHandler;#e;hasFabricSensitiveData=!1;get readAcl(){return this.#e??W.View}assignToEndpoint(t){this.endpoint=t}bindToEventHandler(t){this.eventHandler=t;let n=new Array;for(let i of this.eventList){let r=this.eventHandler.pushEvent(i);r!==void 0&&Pe.is(r)?n.push(r.then(a=>this.listeners.forEach(s=>s(a)))):this.listeners.forEach(a=>a(r))}if(this.eventList=[],n.length>0)return Promise.all(n).then(()=>Promise.resolve())}triggerEvent(t){if(this.endpoint===void 0||this.endpoint.number===void 0)throw new Re("Endpoint not assigned");let n={eventId:this.id,clusterId:this.clusterId,endpointId:this.endpoint.number,epochTimestamp:Ne.nowMs(),priority:this.priority,data:t};if(this.eventHandler===void 0)this.eventList.push(n);else{let i=this.eventHandler.pushEvent(n);return Pe.then(i,r=>{this.listeners.forEach(a=>a(r))})}}addListener(t){this.listeners.push(t)}removeListener(t){let n=this.listeners.indexOf(t);n!==-1&&this.listeners.splice(n,1)}get(t,n,i,r){if(this.eventHandler===void 0)throw new Re("EventServer not bound to EventHandler");if(this.endpoint===void 0)throw new Re("EventServer not bound to Endpoint");return this.eventHandler.getEvents({endpointId:this.endpoint.number,clusterId:this.clusterId,eventId:this.id},r,n?t.fabric?.fabricIndex??Jn.NO_FABRIC:void 0)}},zg=class extends Pp{hasFabricSensitiveData=!0;get(t,n,i,r){return super.get(t,!0,i,r)}triggerEvent(t){if(!cn(t)||t===null)throw new ce("FabricSensitive events need to have an object as data.");if(!("fabricIndex"in t))throw new Re("FabricSensitive events requires fabricIndex in data.");return super.triggerEvent(t)}};var A$=J.get("Fabric"),M$=we.fromString("CompressedFabric"),E$=we.fromString("GroupKey v1.0"),kp=class extends lt{},Kg;(e=>{e.asTlvGroupSet=t=>{let{groupKeySetId:n,epochKey0:i,epochStartTime0:r,epochKey1:a,epochStartTime1:s,epochKey2:c,epochStartTime2:l,groupKeySecurityPolicy:d,groupKeyMulticastPolicy:f}=t;return{groupKeySetId:n,epochKey0:i,epochStartTime0:r,epochKey1:a,epochStartTime1:s,epochKey2:c,epochStartTime2:l,groupKeySecurityPolicy:d,groupKeyMulticastPolicy:f}}})(Kg||(Kg={}));var Fp=class e{constructor(t,n,i,r,a,s,c,l,d,f,g,b,w,O,D){this.fabricIndex=t,this.fabricId=n,this.nodeId=i,this.rootNodeId=r,this.operationalId=a,this.rootPublicKey=s,this.rootVendorId=l,this.rootCert=d,this.identityProtectionKey=f,this.operationalIdentityProtectionKey=g,this.intermediateCACert=b,this.operationalCert=w,this.label=O,this.#n=c,this.#t=D??new Map}#e=new Set;#t;#n;#i=new Array;#o;toStorageObject(){return{fabricIndex:this.fabricIndex,fabricId:this.fabricId,nodeId:this.nodeId,rootNodeId:this.rootNodeId,operationalId:this.operationalId,rootPublicKey:this.rootPublicKey,keyPair:this.#n.keyPair,rootVendorId:this.rootVendorId,rootCert:this.rootCert,identityProtectionKey:this.identityProtectionKey,operationalIdentityProtectionKey:this.operationalIdentityProtectionKey,intermediateCACert:this.intermediateCACert,operationalCert:this.operationalCert,label:this.label,scopedClusterData:this.#t}}static createFromStorageObject(t){return new e(t.fabricIndex,t.fabricId,t.nodeId,t.rootNodeId,t.operationalId,t.rootPublicKey,to(t.keyPair),t.rootVendorId,t.rootCert,t.identityProtectionKey,t.operationalIdentityProtectionKey,t.intermediateCACert,t.operationalCert,t.label,t.scopedClusterData)}async setLabel(t){this.label=t,await this.persist()}get publicKey(){return this.#n.publicKey}sign(t){return qe.sign(this.#n,t)}verifyCredentials(t,n){if(n===void 0)ui.verifyNodeOperationalCertificate(Bc.decode(this.rootCert),No.decode(t));else{let i=Op.decode(n);ui.verifyNodeOperationalCertificate(i,No.decode(t)),ui.verifyIntermediateCaCertificate(Bc.decode(this.rootCert),i)}}matchesFabricIdAndRootPublicKey(t,n){return this.fabricId===t&&we.areEqual(this.rootPublicKey,n)}matchesKeyPair(t){return we.areEqual(this.#n.publicKey,t.publicKey)&&we.areEqual(this.#n.privateKey,t.privateKey)}getDestinationId(t,n){let i=new Dn(Et.Little);return i.writeByteArray(n),i.writeByteArray(this.rootPublicKey),i.writeUInt64(this.fabricId),i.writeUInt64(t),qe.hmac(this.operationalIdentityProtectionKey,i.toByteArray())}addSession(t){this.#e.add(t)}removeSession(t){this.#e.delete(t)}addRemoveCallback(t){this.#i.push(t)}deleteRemoveCallback(t){let n=this.#i.indexOf(t);n>=0&&this.#i.splice(n,1)}set persistCallback(t){this.#o=t}async remove(t){for(let n of this.#i)await n();for(let n of[...this.#e])await n.destroy(!1,n.id===t)}persist(t=!0){return this.#o?.(t)}getScopedClusterDataValue(t,n){let i=this.#t.get(t.id);if(i!==void 0)return i.get(n)}setScopedClusterDataValue(t,n,i){return this.#t.has(t.id)||this.#t.set(t.id,new Map),this.#t.get(t.id).set(n,i),this.persist(!1)}deleteScopedClusterDataValue(t,n){if(this.#t.has(t.id))return this.#t.get(t.id).delete(n),this.persist(!1)}hasScopedClusterDataValue(t,n){return this.#t.has(t.id)&&this.#t.get(t.id).has(n)}deleteScopedClusterData(t){return this.#t.delete(t.id),this.persist(!1)}getScopedClusterDataKeys(t){return this.#t.has(t.id)?Array.from(this.#t.get(t.id).keys()):[]}getGroupKeySet(t){if(t===0)return Kg.asTlvGroupSet(this.getGroupSetForIpk())}getGroupSetForIpk(){return{groupKeySetId:0,epochKey0:this.identityProtectionKey,operationalEpochKey0:this.operationalIdentityProtectionKey,epochStartTime0:0,groupSessionId0:null,epochKey1:null,operationalEpochKey1:null,epochStartTime1:null,groupSessionId1:null,epochKey2:null,operationalEpochKey2:null,epochStartTime2:null,groupSessionId2:null,groupKeySecurityPolicy:qa.GroupKeySecurityPolicy.TrustFirst,groupKeyMulticastPolicy:qa.GroupKeyMulticastPolicy.PerGroupId}}getAllGroupKeySets(){return[Kg.asTlvGroupSet(this.getGroupSetForIpk())]}get externalInformation(){return{fabricIndex:this.fabricIndex,fabricId:this.fabricId,nodeId:this.nodeId,rootNodeId:this.rootNodeId,rootVendorId:this.rootVendorId,label:this.label}}addressOf(t){return mi({fabricIndex:this.fabricIndex,nodeId:t})}},Xg=class{#e=qe.createKeyPair();#t;#n;#i;#o;#r;#a;#s;#c;#l;#m;#d="";get publicKey(){return this.#e.publicKey}get fabricIndex(){return this.#m}createCertificateSigningRequest(){return ui.createCertificateSigningRequest(this.#e)}setRootCert(t){let n=Bc.decode(t);return ui.verifyRootCertificate(n),this.#n=t,this.#c=n.ellipticCurvePublicKey,this}get rootCert(){return this.#n}hasRootCert(){return this.#n!==void 0}setOperationalCert(t,n){n!==void 0&&n.length===0&&(n=void 0);let{subject:{nodeId:i,fabricId:r,caseAuthenticatedTags:a},ellipticCurvePublicKey:s}=No.decode(t);if(A$.debug(`FabricBuilder setOperationalCert: nodeId=${i}, fabricId=${r}, caseAuthenticatedTags=${a}`),a!==void 0&&Li.validateNocTagList(a),!we.areEqual(s,this.#e.publicKey))throw new kp("Operational Certificate does not match public key.");if(this.#n===void 0)throw new ze("Root Certificate needs to be set first.");if(n!==void 0){let c=Op.decode(n);ui.verifyIntermediateCaCertificate(Bc.decode(this.#n),c),ui.verifyNodeOperationalCertificate(c,No.decode(t))}else ui.verifyNodeOperationalCertificate(Bc.decode(this.#n),No.decode(t));return this.#o=t,this.#i=n,this.#r=Cd(r),this.#a=i,this}setRootVendorId(t){return this.#t=t,this}setRootNodeId(t){return this.#s=t,this}setIdentityProtectionKey(t){return this.#l=t,this}initializeFromFabricForUpdate(t){this.#t=t.rootVendorId,this.#s=t.rootNodeId,this.#l=t.identityProtectionKey,this.#n=t.rootCert,this.#c=t.rootPublicKey,this.#d=t.label}matchesToFabric(t){if(this.#r===void 0||this.#c===void 0)throw new ze("Node Operational Data needs to be set first.");return t.matchesFabricIdAndRootPublicKey(this.#r,this.#c)}get nodeId(){return this.#a}get fabricId(){return this.#r}get keyPair(){return this.#e}async build(t){if(this.#m!==void 0)throw new Re("FabricBuilder can only be built once");if(this.#s===void 0)throw new Re("rootNodeId needs to be set");if(this.#t===void 0)throw new Re("vendorId needs to be set");if(this.#n===void 0||this.#c===void 0)throw new Re("rootCert needs to be set");if(this.#l===void 0)throw new Re("identityProtectionKey needs to be set");if(this.#o===void 0||this.#r===void 0||this.#a===void 0)throw new Re("operationalCert needs to be set");this.#m=t;let n=new Dn(Et.Big);n.writeUInt64(this.#r);let i=await qe.hkdf(this.#c.slice(1),n.toByteArray(),M$,8);return new Fp(this.#m,this.#r,this.#a,this.#s,i,this.#c,this.#e,this.#t,this.#n,this.#l,await qe.hkdf(this.#l,i,E$),this.#i,this.#o,this.#d)}};var Vm=class extends ze{},O$=J.get("FailsafeTimer"),Yg=class{constructor(t,n,i,r){this.associatedFabric=t,this.#e=r,this.#t=this.#i(n),this.#n=Ne.getTimer("Max cumulative failsafe",i*1e3,()=>this.expire()).start()}#e;#t;#n;async close(){this.#t.isRunning&&this.#t.stop(),this.#n.isRunning&&this.#n.stop()}async reArm(t,n){if(!this.#t.isRunning)throw new ze("FailSafe already expired.");if(this.associatedFabric?.fabricIndex!==t?.fabricIndex)throw new ze(`FailSafe already armed (index=${this.associatedFabric?.fabricIndex}) with different fabric (index=${t?.fabricIndex}).`);this.#t.stop(),n===0?await this.expire():this.#t=this.#i(n)}async expire(){this.complete(),await this.#e()}complete(){this.#t.stop(),this.#n.stop()}#i(t){return Ne.getTimer("Failsafe expiration",t*1e3,()=>this.expire().catch(n=>O$.error("Error during failsafe expiration",n))).start()}};var Zg=J.get("FailsafeContext"),qm=class extends ze{},Po=class{#e;#t;#n;#i;#o;#r;#a;#s=new Xg;#c=tr();constructor(t){let{expiryLengthSeconds:n,associatedFabric:i,maxCumulativeFailsafeSeconds:r}=t;this.#e=t.sessions,this.#t=t.fabrics,this.#o=t.associatedFabric,this.#i=Mt(this,async()=>{await Promise.resolve(),await this.storeEndpointState(),this.#n=new Yg(i,n,r,()=>this.#l()),Zg.debug(`Arm failSafe timer for ${n}s.`)})}async extend(t,n){await this.#i,await this.#n?.reArm(t,n),n>0&&Zg.debug(`Extend failSafe timer for ${n}s.`)}get fabricIndex(){return this.#s.fabricIndex}get construction(){return this.#i}get commissioned(){return this.#c}get associatedFabric(){return this.#o}get csrSessionId(){return this.#r}get forUpdateNoc(){return this.#a}get hasRootCert(){return this.#s.hasRootCert()}get rootCert(){return this.#s.rootCert}async completeCommission(){if(this.#n===void 0)throw new ze("armFailSafe should be called first!");this.#n.complete(),this.fabricIndex!==void 0&&await this.#t.persistFabrics(),this.#n=void 0,await this.commissioned.emit(),await this.removePaseSession(),await this.close()}getFailSafeContext(){if(this.#n===void 0)throw new ze("armFailSafe should be called first!");return this.#n}getNextFabricIndex(){return this.#t.getNextFabricIndex()}async addFabric(t){return this.#t.addFabric(t),this.#n!==void 0&&(this.#o=this.#n.associatedFabric=t),t.fabricIndex}async updateFabric(t){await this.#t.updateFabric(t),await this.#e.deleteResumptionRecordsForFabric(t)}createCertificateSigningRequest(t,n){if(this.#t.findByKeypair(this.#s.keyPair))throw new ze("Key pair already exists.");let i=this.#s.createCertificateSigningRequest();return this.#r=n,this.#a=t,i}async removePaseSession(){let t=this.#e.getPaseSession();t&&await t.close(!0)}async close(){await this.#i,await this.#i.close(async()=>{this.#n&&(await this.#n.close(),this.#n=void 0,await this.rollback())})}setRootCert(t){this.#s.setRootCert(t)}async buildUpdatedFabric(t,n){if(this.associatedFabric===void 0)throw new ze("No fabric associated with failsafe context, but we prepare an Fabric update.");return this.#s.initializeFromFabricForUpdate(this.associatedFabric),this.#s.setOperationalCert(t,n),await this.#s.build(this.associatedFabric.fabricIndex)}async buildFabric(t){let n=this.#s,{nocValue:i,icacValue:r,adminVendorId:a,ipkValue:s,caseAdminSubject:c}=t;if(!Rt.isOperationalNodeId(c)&&!Rt.isCaseAuthenticatedTag(c))try{if(Li.getVersion(Rt.extractAsCaseAuthenticatedTag(c))===0)throw new qm}catch(d){throw d instanceof li||d instanceof De?new qm:d}if(n.setOperationalCert(i,r),this.#t.getFabrics().find(d=>n.matchesToFabric(d)))throw new Vm(`Fabric with Id ${n.fabricId} and Node Id ${n.nodeId} already exists.`);return n.setRootVendorId(a).setIdentityProtectionKey(s).setRootNodeId(c).build(this.#t.getNextFabricIndex())}async#l(){Zg.info("Failsafe timer expired, Reset fabric builder."),await this.close()}async rollback(){this.fabricIndex!==void 0&&!this.#a&&(Zg.debug(`Revoking fabric with index ${this.fabricIndex}`),await this.#t.revokeFabric(this.fabricIndex)),await this.removePaseSession();let t;if(this.fabricIndex!==void 0){let n=this.fabricIndex;if(t=this.#t.getFabrics().find(i=>i.fabricIndex===n),t!==void 0){let i=this.#e.getSessionForNode(t.addressOf(t.rootNodeId));i!==void 0&&i.isSecure&&await i.close(!1)}}if(await this.restoreNetworkState(),this.#a&&this.associatedFabric!==void 0&&await this.restoreFabric(this.associatedFabric),!this.#a&&t!==void 0){let n=this.fabricIndex;if(n!==void 0){let i=this.#t.getFabrics().find(r=>r.fabricIndex===n);i!==void 0&&await this.revokeFabric(i)}}await this.restoreBreadcrumb()}async restoreFabric(t){await this.updateFabric(t)}};var D$={powerCycle:M(0),deviceManufacturerUrl:M(1),administrator:M(2),settingsMenuOnNode:M(3),customInstruction:M(4),deviceManual:M(5),pressResetButton:M(6),pressResetButtonWithApplicationOfPower:M(7),pressRestButtonForNumberOfSeconds:M(8),pressResetButtonUntilLightBlinks:M(9),pressResetButtonForNumberOfSecondsWithApplicationOfPower:M(10),pressResetButtonUntilLightBlinksWithApplicationOfPower:M(11),pressResetButtonNumberOfTimes:M(12),pressSetupButton:M(13),pressSetupButtonWithApplicationOfPower:M(14),pressSetupButtonForNumberOfSeconds:M(15),pressSetupButtonUntilLightBlinks:M(16),pressSetupButtonForNumberOfSecondsWithApplicationOfPower:M(17),pressSetupButtonUntilLightBlinksWithApplicationOfPower:M(18),pressSetupButtonNumberOfTimes:M(19)},aM=Ba(D$),Ks=(e=>(e[e.NotCommissioning=0]="NotCommissioning",e[e.Basic=1]="Basic",e[e.Enhanced=2]="Enhanced",e))(Ks||{});var sM=I({declaration:m(1,be),attestationNonce:m(2,be.bound({length:32})),timestamp:m(3,ee),firmwareInfo:R(4,be)}),Qg=I({certSigningRequest:m(1,be),csrNonce:m(2,be.bound({length:32})),vendorReserved1:R(3,be),vendorReserved2:R(4,be),vendorReserved3:R(5,be)});var _m=class e extends mr{scannerFor(t){return this.find(n=>n.type===t)}hasScannerFor(t){return this.scannerFor(t)!==void 0}select(t){return this.filter(n=>n.type===_n.UDP||t?.ble&&n.type===_n.BLE)}[Jt.create](t){let n=new e;return t.set(e,n),n}};var $Ke=J.get("EndpointStructureLogger");var su=class extends lt{},Lp=class extends lt{},Tr=(e=>(e[e.Added=0]="Added",e[e.Removed=1]="Removed",e[e.Updated=2]="Updated",e))(Tr||{}),bn=class e{#e=1;#t=new Map;#n=!1;#i;#o={added:ht(),updated:ht(),deleted:ht(),failsafeClosed:ht()};#r;constructor(t){this.#i=t;let n;this.#i===void 0?n=()=>{}:n=async()=>{if(this.#i===void 0)return;let i=await this.#i.get("fabrics",[]);for(let r of i)this.#a(Fp.createFromStorageObject(r));this.#e=await this.#i.get("nextFabricIndex",this.#e),this.#n=!0},this.#r=Mt(this,n)}get construction(){return this.#r}async[Mt.construct](){await this.construction}[Jt.create](t){let n=new e(t.get(Ra).createContext("fabrics"));return t.set(e,n),n}get events(){return this.#o}for(t){typeof t=="object"&&(t=t.fabricIndex);let n=this.#t.get(t);if(n===void 0)throw new su(`Cannot access fabric for unknown index ${t}`);return n}getNextFabricIndex(){this.#r.assert();for(let t=0;t<254;t++){let n=this.#e++;if(this.#e>254&&(this.#e=1),!this.#t.has(Jn(n)))return Jn(n)}throw new Lp("No free fabric index available.")}persistFabrics(){if(this.#i===void 0)throw new ce("Fabric persistence is disabled because FabricManager constructed without storage");this.#r.assert();let t=this.#i.set("fabrics",Array.from(this.#t.values()).map(n=>n.toStorageObject()));return Pe.is(t)?t.then(()=>this.#i.set("nextFabricIndex",this.#e)):this.#i.set("nextFabricIndex",this.#e)}addFabric(t){this.#r.assert(),this.#a(t)}#a(t){let{fabricIndex:n}=t;if(this.#t.has(n))throw new ze(`Fabric with index ${n} already exists.`);this.#t.set(n,t),t.addRemoveCallback(async()=>this.removeFabric(n)),t.persistCallback=(i=!0)=>{let r=this.persistFabrics();return Pe.then(r,()=>{i&&this.#o.updated.emit(t)})},this.#n&&this.#o.added.emit(t)}async removeFabric(t){await this.#r;let n=this.#t.get(t);if(n===void 0)throw new su(`Fabric with index ${t} cannot be removed because it does not exist.`);this.#t.delete(t),await this.persistFabrics(),this.#o.deleted.emit(n)}getFabrics(){return this.#r.assert(),Array.from(this.#t.values())}findFabricFromDestinationId(t,n){this.#r.assert();for(let i of this.#t.values()){let r=i.getDestinationId(i.nodeId,n);if(we.areEqual(r,t))return i}throw new Re("Fabric cannot be found from destinationId")}findByKeypair(t){this.#r.assert();for(let n of this.#t.values())if(n.matchesKeyPair(t))return n}findByIndex(t){return Array.from(this.#t.values()).find(n=>n.fabricIndex===t)}async updateFabric(t){await this.#r;let{fabricIndex:n}=t;if(!this.#t.has(n))throw new su(`Fabric with index ${n} cannot be updated because it does not exist.`);this.#t.set(n,t),await this.persistFabrics(),this.#o.updated.emit(t)}async revokeFabric(t){await this.#r;let n=this.#t.get(t);if(n===void 0)throw new ze(`Fabric with index ${t} does not exist to revoke.`);await n.remove()}};var P5=J.get("AccessControlManager"),R$={fabricIndex:Jn.NO_FABRIC,privilege:W.Administer,authMode:un.AccessControlEntryAuthMode.Pase,subjects:[],targets:[]};var Bp=class extends ve{constructor(t){super(t??"Unauthorized",ue.UnsupportedAccess)}},Jg=class{#e;#t=()=>!0;constructor(t=[],n){this.#e=t,n!==void 0&&(this.#t=n)}updateAccessControlList(t=[]){this.#e=[...t]}#n(t){return this.#e.filter(n=>n.fabricIndex===t.fabricIndex)}#i(t,n){if(t===n)return!0;if(!Rt.isCaseAuthenticatedTag(t)||!Rt.isCaseAuthenticatedTag(n))return!1;let i=Rt.extractAsCaseAuthenticatedTag(t),r=Rt.extractAsCaseAuthenticatedTag(n);return Li.getIdentifyValue(i)===Li.getIdentifyValue(r)&&Li.getVersion(r)>=Li.getVersion(i)}#o(t,n){switch(t.add(n),n){case W.ProxyView:t.add(W.View);break;case W.Operate:t.add(W.View);break;case W.Manage:t.add(W.Operate),t.add(W.View);break;case W.Administer:t.add(W.Manage),t.add(W.Operate),t.add(W.ProxyView),t.add(W.View);break}}allowsPrivilege(t,n,i,r){let a=this.getGrantedPrivileges(t,n,i);return a.includes(r)?!0:(P5.notice(`Failed access control check for ${n.number}/0x${Qo(i)} and fabricIndex ${t.associatedFabric.fabricIndex}, acl=`,this.#n(t.associatedFabric),"with ISD=",this.#r(t),"granted privileges=",a,"not contains",r),!1)}getGrantedPrivileges(t,n,i){let r=n.number,a=t.fabric,s=this.#r(t),c=a?this.#n(a):[R$],l=new Set;s.authMode===un.AccessControlEntryAuthMode.Pase&&s.isCommissioning&&this.#o(l,W.Administer);for(let d of c){if(l.has(W.Administer))break;if(d.fabricIndex===Jn.NO_FABRIC||d.fabricIndex!==s.fabricIndex){P5.debug("Skipping ACL entry with mismatched fabric index",d.fabricIndex,s.fabricIndex);continue}if(d.authMode!==s.authMode){P5.debug("Skipping ACL entry with mismatched auth mode",d.authMode,s.authMode);continue}if(d.subjects===null||d.subjects.length===0){if(d.authMode!==un.AccessControlEntryAuthMode.Case&&d.authMode!==un.AccessControlEntryAuthMode.Group)throw new ze("ACL error: only CASE and Group auth can have empty subjects")}else{let f=!1;e:for(let g of d.subjects)for(let b of s.subjects)if(this.#i(g,b)){f=!0;break e}if(!f)continue}if(!(d.targets===null||d.targets.length===0)){let f=!1;for(let{cluster:g,endpoint:b,deviceType:w}of d.targets){if(g===null&&b===null&&w===null)throw new ze("ACL error: target cannot be empty");if(b!==null&&w!==null)throw new ze("ACL error: target cannot specify both endpoint and device type");if(!(g!==null&&g!==i)&&!(b!==null&&b!==r)&&!(w!==null&&n.deviceType!==w)){f=!0;break}}if(!f)continue}this.#t(c,d,s,n,i)&&this.#o(l,d.privilege)}if(s.authMode===un.AccessControlEntryAuthMode.Group&&l.has(W.Administer))throw new ze("ACL error: should never grant Administer privilege to a Group");return[...l]}#r(t){let n=t.fabric,i={isCommissioning:!1,authMode:0,subjects:new Array,fabricIndex:Jn.NO_FABRIC};if(t.isPase)i.authMode=un.AccessControlEntryAuthMode.Pase,i.isCommissioning=!0,i.subjects.push(Rt(0)),n&&(i.fabricIndex=n.fabricIndex);else{if(i.authMode=un.AccessControlEntryAuthMode.Case,i.subjects.push(t.peerNodeId),t.caseAuthenticatedTags.forEach(r=>i.subjects.push(Rt.fromCaseAuthenticatedTag(r))),n===void 0)throw new ze("ACL error: fabric is undefined");i.fabricIndex=n.fabricIndex}return i}};var cM=J.get("AttributeDataDecoder");function Up(e){let t=e.flatMap(({attributeData:n})=>n!==void 0?n:[]);return P$(t)}function k5(e,t=!1){let n;return e.forEach(i=>{if(i===void 0)return;let{path:r}=i;if(r.enableTagCompression){if(n===void 0)throw new De("Tag compression enabled, but no previous path");r.nodeId===void 0&&n.nodeId!==void 0&&(r.nodeId=n.nodeId),r.endpointId===void 0&&(r.endpointId=n.endpointId),r.clusterId===void 0&&(r.clusterId=n.clusterId),r.attributeId===void 0&&(r.attributeId=n.attributeId),i.dataVersion===void 0&&n.dataVersion!==void 0&&(i.dataVersion=n.dataVersion)}else if(r.endpointId!==void 0&&r.clusterId!==void 0&&r.attributeId!==void 0)n={nodeId:r.nodeId,endpointId:r.endpointId,clusterId:r.clusterId,attributeId:r.attributeId,dataVersion:i.dataVersion};else if(!t)throw new De("Tag compression disabled, but path is incomplete: "+J.toJSON(r))}),e}function N$(e,t=!1){let n=k5(e,t),i=new Map;return n.forEach(r=>{if(!r)return;let{path:{nodeId:a,endpointId:s,clusterId:c,attributeId:l}}=r,d=`${a}-${s}-${c}-${l}`,f=i.get(d)||[];f.push(r),i.set(d,f)}),Array.from(i.values())}function P$(e){let t=N$(e),n=new Array;return t.forEach(i=>{let{path:{nodeId:r,endpointId:a,clusterId:s,attributeId:c},dataVersion:l}=i[0];if(a===void 0||s===void 0||c===void 0)throw new De(`Invalid attribute path ${a}/${s}/${c}`);try{let d=Dc(s),f=o5(d,c);if(f===void 0){cM.debug(`Decode unknown attribute ${fe.hex(s)}/${fe.hex(c)} via the AnySchema.`);let O=`Unknown (${fe.hex(c)})`,D=F$(i);n.push({path:{nodeId:r,endpointId:a,clusterId:s,attributeId:c,attributeName:O},version:l,value:D});return}let{attribute:g,name:b}=f,w=k$(g,i);n.push({path:{nodeId:r,endpointId:a,clusterId:s,attributeId:c,attributeName:b},version:l,value:w})}catch(d){cM.error(`Error decoding attribute ${a}/${fe.hex(s)}/${fe.hex(c)}: ${d.message}`)}}),n}function k$(e,t){let{schema:n,optional:i,default:r}=e;if(!t.length){if(i)return;if(r===void 0)throw new Em("Attribute not found.");return r}return L5(n,t)}function F5(e,t,n){if(!(e instanceof Xr))throw new De("Attribute is not an list but multiple values were returned.");return e.decodeFromChunkedArray(t.map(({data:i,path:{listIndex:r}})=>({listIndex:r,element:i})),n)}function L5(e,t,n){return t.length?t.length===1&&t[0].path.listIndex===void 0?e.decodeTlv(t[0].data):F5(e,t,n):n}function F$(e){let t=kn;if(e.length)if(e.length===1&&e[0].path.listIndex===void 0){let n=t.decodeTlv(e[0].data);return t.decodeAnyTlvStream(n)}else return new Xr(t).decodeFromChunkedArray(e.map(({data:i,path:{listIndex:r}})=>({listIndex:r,element:i}))).map(i=>t.decodeAnyTlvStream(i))}function lM(e,t){let{attributeData:n,attributeStatus:i}=e;if(n===void 0)return Cp.encodeTlv({attributeStatus:i});let{path:r,schema:a,payload:s,dataVersion:c}=n;return Cp.encodeTlv({attributeData:{path:r,data:a.encodeTlv(s,t),dataVersion:c}})}function dM(e,t){let{eventData:n,eventStatus:i}=e;if(n===void 0)return Sp.encodeTlv({eventStatus:i});let{path:r,schema:a,payload:s,eventNumber:c,deltaEpochTimestamp:l,epochTimestamp:d,deltaSystemTimestamp:f,systemTimestamp:g,priority:b}=n;return Sp.encodeTlv({eventData:{path:r,data:a.encodeTlv(s,t),priority:b,systemTimestamp:g,deltaSystemTimestamp:f,deltaEpochTimestamp:l,epochTimestamp:d,eventNumber:c}})}function uM(e){let{attributeData:t}=e;if(t===void 0)return!1;let{schema:n,payload:i,path:{listIndex:r}}=t;return n instanceof Xr&&Array.isArray(i)&&i.length>0&&r===void 0}function mM(e){let{hasFabricSensitiveData:t,attributeData:n}=e;if(n===void 0)throw new ze(`Cannot chunk an AttributePayload with just a attributeStatus: ${J.toJSON(e)}`);let{schema:i,path:r,dataVersion:a,payload:s}=n;if(!(i instanceof Xr)||!Array.isArray(s))throw new ze(`Cannot chunk an AttributePayload with attributeData that is not an array: ${J.toJSON(e)}`);let c=new Array;return c.push({hasFabricSensitiveData:t,attributeData:{schema:i,path:{...r,listIndex:void 0},payload:[],dataVersion:a}}),s.forEach(l=>{c.push({hasFabricSensitiveData:t,attributeData:{schema:i.elementSchema,path:{...r,listIndex:null},payload:l,dataVersion:a}})}),c}var hM=J.get("EventDataDecoder");function Vp(e){let t=e.flatMap(({eventData:n})=>n!==void 0?n:[]);return B$(t)}function L$(e){let t=new Map;return e.forEach(n=>{if(!n)return;let{path:{nodeId:i,endpointId:r,clusterId:a,eventId:s}}=n,c=`${i}-${r}-${a}-${s}`,l=t.get(c)||[];l.push(n),t.set(c,l)}),Array.from(t.values())}function B$(e){let t=L$(e),n=new Array;return t.forEach(i=>{let{path:{nodeId:r,endpointId:a,clusterId:s,eventId:c}}=i[0];if(a===void 0||s===void 0||c===void 0)throw new De(`Invalid event path ${a}/${s}/${c}`);try{let l=Dc(s),d=a5(l,c);if(d===void 0){hM.debug(`Decode unknown event ${fe.hex(s)}/${fe.hex(c)} via the AnySchema.`);let w=`Unknown (${fe.hex(c)})`,O=i.map(D=>({...D,data:D.data===void 0?void 0:U$(D.data),path:void 0}));n.push({path:{nodeId:r,endpointId:a,clusterId:s,eventId:c,eventName:w},events:O});return}let{event:{schema:f},name:g}=d,b=i.map(w=>({...w,data:w.data===void 0?void 0:f.decodeTlv(w.data),path:void 0}));n.push({path:{nodeId:r,endpointId:a,clusterId:s,eventId:c,eventName:g},events:b})}catch(l){hM.error(`Error decoding event ${a}/${s}/${c}: ${l.message}`)}}),n}function U$(e){let t=kn;if(e.length===0)return;let n=t.decodeTlv(e);return t.decodeAnyTlvStream(n)}var ev=J.get("EventHandler"),fM=1e4,tv=class e{constructor(t){this.eventStorage=t,this.#e=Mt(this,async()=>{this.eventNumber=await this.eventStorage.get("lastEventNumber",this.eventNumber),ev.debug(`Set/Restore last event number: ${this.eventNumber}`)})}eventNumber=da(0);storedEventCount=0;events={[Te.Critical]:new Array,[Te.Info]:new Array,[Te.Debug]:new Array};#e;get construction(){return this.#e}static async create(t){let n=new e(t);return await n.#e,n}getEvents(t,n,i){let r=n!==void 0&&n.length>0?d=>n.some(f=>f.eventMin!==void 0&&d.eventNumber>=da(f.eventMin)):()=>!0,a=new Array,{endpointId:s,clusterId:c,eventId:l}=t;for(let d of[Te.Critical,Te.Info,Te.Debug]){let f=this.events[d];for(let g of f)s===g.endpointId&&c===g.clusterId&&l===g.eventId&&r(g)&&a.push(g)}return ev.debug(`Got ${a.length} events for ${$s(t)} with filters: ${J.toJSON(n)}`),i!==void 0?a.filter(({data:d})=>!("fabricIndex"in d)||d.fabricIndex===i):a}pushEvent(t){let n={eventNumber:da(++this.eventNumber),...t};ev.debug(`Received event: ${J.toJSON(n)}`),this.events[t.priority].push(n),this.storedEventCount++;let i=this.eventStorage.set("lastEventNumber",this.eventNumber);return Pe.is(i)?i.then(()=>(this.cleanUpEvents(),n)):(this.cleanUpEvents(),n)}cleanUpEvents(){if(this.storedEventCount<fM)return;let t=this.storedEventCount-fM;for(let n of[Te.Debug,Te.Info,Te.Critical]){let i=this.events[n];if(i.length>0){let r=i.splice(0,i.length-t);ev.debug(`Removed ${r.length} events from priority ${n}`);return}}}};var B5=class extends yr{encodeInternal({generalStatus:t,protocolId:n,protocolStatus:i,protocolData:r}){let a=new Dn(Et.Little);return a.writeUInt16(t),a.writeUInt32(n),a.writeUInt16(i),r!==void 0&&r.length>0&&a.writeByteArray(r),a.toByteArray()}decodeInternal(t){let n=new qn(t,Et.Little),i=n.readUInt16(),r=n.readUInt32(),a=n.readUInt16(),s=n.getRemainingBytesCount()>0?n.getRemainingBytes():void 0;return{generalStatus:i,protocolId:r,protocolStatus:a,remainingBytes:s}}},qp=new B5;var ha=class extends lt{constructor(t,n,i){super(`(${n}/${i}) ${t}`),this.generalStatusCode=n,this.protocolStatusCode=i}},V$=3e4,_p=2e3,ko=class{constructor(t,n=V$){this.exchange=t,this.#e=n}#e;async nextMessage(t,n,i=this.#e){let r=await this.exchange.nextMessage(i),a=r.payloadHeader.messageType;if(this.throwIfErrorStatusReport(r,t),n!==void 0&&a!==n)throw new De(`Received unexpected message type: ${a}, expected: ${n} (${t})`);return r}async nextMessageDecoded(t,n,i,r=this.#e){return n.decode((await this.nextMessage(i,t,r)).payload)}async waitForSuccess(t,n=this.#e){await this.nextMessage(t,Wt.StatusReport,n)}async send(t,n,i,r){r={...r,expectedProcessingTimeMs:r?.expectedProcessingTimeMs??this.#e};let a=i.encode(t);return await this.exchange.send(n,a,r),a}sendError(t){return this.sendStatusReport(Nc.Failure,t)}sendSuccess(){return this.sendStatusReport(Nc.Success,mo.Success)}sendCloseSession(){return this.sendStatusReport(Nc.Success,mo.CloseSession,!1)}getChannelName(){return this.exchange.channel.channel.name}async close(){await this.exchange.close()}async sendStatusReport(t,n,i){await this.exchange.send(Wt.StatusReport,qp.encode({generalStatus:t,protocolId:0,protocolStatus:n}),{requiresAck:i})}throwIfErrorStatusReport(t,n){let{payloadHeader:{messageType:i},payload:r}=t;if(i!==Wt.StatusReport)return;let{generalStatus:a,protocolId:s,protocolStatus:c}=qp.decode(r);if(a!==Nc.Success)throw new ha(`Received general error status for protocol ${s}${n?` (${n})`:""}`,a,c);if(c!==mo.Success)throw new ha(`Received general success status, but protocol status is not Success${n?` (${n})`:""}`,a,c)}};var q$=J.get("InsecureSession"),nv=class extends Bm{#e;closingAfterExchangeFinished=!1;supportsMRP=!0;constructor(t){let{initiatorNodeId:n,isInitiator:i}=t;super({...t,setActiveTimestamp:!i,messageReceptionState:new qg}),this.#e=n??Rt.randomOperationalNodeId()}get isSecure(){return!1}get isPase(){return!1}decode(t){return br.decodePayload(t)}encode(t){return br.encodePayload(t)}get attestationChallengeKey(){throw new ze("Not supported on an unsecure session")}setFabric(t){throw new ze("Not supported on an unsecure session")}get name(){return`insecure/${this.#e}`}get id(){return $m}get peerSessionId(){return $m}get nodeId(){return this.#e}get peerNodeId(){}get associatedFabric(){throw new ma("Session needs to be a secure session")}async destroy(){await this.end()}async end(){q$.info(`End insecure session ${this.name}`),this.manager?.insecureSessions.delete(this.nodeId)}};var pM=J.get("SessionManager"),_$={idleIntervalMs:ja,activeIntervalMs:Ha,activeThresholdMs:Ga,dataModelRevision:jt.DATA_MODEL_REVISION,interactionModelRevision:jt.INTERACTION_MODEL_REVISION,specificationVersion:jt.SPECIFICATION_VERSION,maxPathsPerInvoke:10},$m=0,Kn=class e{#e;#t=new Map;#n=new mr;#i=qe.getRandomUInt16();#o=new zs;#r=new Lm;#a=ht();#s;#c=new ht;#l;#m=new Io;#d=new pm(this);constructor(t){this.#e=t,this.#s={..._$,...t.parameters},this.#m.on(t.fabrics.events.deleted,async n=>this.deleteResumptionRecordsForFabric(n)),this.#l=Mt(this,()=>this.#f())}[Jt.create](t){let n=new e({storage:t.get(Ra).createContext("sessions"),fabrics:t.get(bn)});return t.set(e,n),n}get construction(){return this.#l}get context(){return this.#e}get sessions(){return this.#n}get insecureSessions(){return this.#t}get sessionParameters(){return this.#s}get subscriptionsChanged(){return this.#a}get resubmissionStarted(){return this.#c}fabricFor(t){return this.#e.fabrics.for(t)}get owner(){return this.#e.owner}createInsecureSession(t){this.#l.assert();let{initiatorNodeId:n,sessionParameters:i,isInitiator:r}=t;if(n!==void 0&&this.#t.has(n))throw new ze(`UnsecureSession with NodeId ${n} already exists.`);for(;;){let a=new nv({manager:this,messageCounter:this.#r,initiatorNodeId:n,sessionParameters:i,isInitiator:r??!1}),s=a.nodeId;if(!this.#t.has(s))return this.#t.set(s,a),a}}async createSecureSession(t){await this.construction;let{sessionId:n,fabric:i,peerNodeId:r,peerSessionId:a,sharedSecret:s,salt:c,isInitiator:l,isResumption:d,peerSessionParameters:f,caseAuthenticatedTags:g}=t,b=await za.create({manager:this,id:n,fabric:i,peerNodeId:r,peerSessionId:a,sharedSecret:s,salt:c,isInitiator:l,isResumption:d,peerSessionParameters:f,caseAuthenticatedTags:g}),w=O=>{b.isClosing||this.#a.emit(b,O)};return b.subscriptions.added.on(w),b.subscriptions.deleted.on(w),this.#n.add(b),b}async deleteResumptionRecord(t){await this.#l,this.#o.delete(t),await this.#u()}async deleteResumptionRecordsForFabric(t){await this.#l;for(let n of this.#o.keys())n.fabricIndex===t.fabricIndex&&this.#o.delete(n);await this.#u()}findOldestInactiveSession(){this.#l.assert();let t;for(let n of this.#n)(!t||n.activeTimestamp<t.activeTimestamp)&&(t=n);if(t===void 0)throw new ze("No session found to close and all session ids are taken.");return t}async getNextAvailableSessionId(){await this.#l;for(let n=0;n<65535;n++){let i=this.#i;if(this.#i=this.#i+1&65535,this.#i===0&&this.#i++,this.getSession(i)===void 0)return i}let t=this.findOldestInactiveSession();return await t.end(!0,!1),this.#i=t.id,this.#i++}getSession(t){return this.#l.assert(),this.#n.get("id",t)}getPaseSession(){return this.#l.assert(),[...this.#n].find(t=>t.isSecure&&t.isPase&&!t.closingAfterExchangeFinished)}getSessionForNode(t){return this.#l.assert(),[...this.#n].find(n=>n.isSecure?n.peerIs(t):!1)}async removeAllSessionsForNode(t,n=!1){await this.#l;for(let i of this.#n){if(!i.isSecure)continue;let r=i;r.peerIs(t)&&await r.destroy(n,!1)}}getUnsecureSession(t){return this.#l.assert(),t===void 0?this.#t.get(Rt.UNSPECIFIED_NODE_ID):this.#t.get(t)}findGroupSession(t,n){throw this.#l.assert(),new Error(`Not implemented ${t} ${n}`)}findResumptionRecordById(t){return this.#l.assert(),[...this.#o.values()].find(n=>we.areEqual(n.resumptionId,t))}findResumptionRecordByAddress(t){return this.#l.assert(),this.#o.get(t)}async saveResumptionRecord(t){await this.#l,this.#o.set(t.fabric.addressOf(t.peerNodeId),t),await this.#u()}async#u(){await this.#l,await this.#e.storage.set("resumptionRecords",[...this.#o].map(([t,{sharedSecret:n,resumptionId:i,peerNodeId:r,fabric:a,sessionParameters:s,caseAuthenticatedTags:c}])=>({nodeId:t.nodeId,sharedSecret:n,resumptionId:i,fabricId:a.fabricId,peerNodeId:r,sessionParameters:s,caseAuthenticatedTags:c})))}async#f(){await this.#e.fabrics.construction,(await this.#e.storage.get("resumptionRecords",[])).forEach(({nodeId:n,sharedSecret:i,resumptionId:r,fabricId:a,peerNodeId:s,sessionParameters:{idleIntervalMs:c,activeIntervalMs:l,activeThresholdMs:d,dataModelRevision:f,interactionModelRevision:g,specificationVersion:b,maxPathsPerInvoke:w}={},caseAuthenticatedTags:O})=>{let D=this.#e.fabrics.getFabrics().find(y=>y.fabricId===a);if(pM.info("restoring resumption record for node",n,"and peer node",s,"for fabric index",D?.fabricIndex),!D){pM.error("fabric not found for resumption record",a);return}this.#o.set(D.addressOf(n),{sharedSecret:i,resumptionId:r,fabric:D,peerNodeId:s,sessionParameters:{idleIntervalMs:c??ja,activeIntervalMs:l??Ha,activeThresholdMs:d??Ga,dataModelRevision:f??E5,interactionModelRevision:g??O5,specificationVersion:b??D5,maxPathsPerInvoke:w??R5},caseAuthenticatedTags:O})})}getActiveSessionInformation(){return this.#l.assert(),[...this.#n].filter(t=>t.isSecure&&!t.isPase).map(t=>({name:t.name,nodeId:t.nodeId,peerNodeId:t.peerNodeId,fabric:t instanceof za?t.fabric?.externalInformation:void 0,isPeerActive:t.isPeerActive(),secure:t.isSecure,lastInteractionTimestamp:t instanceof za?t.timestamp:void 0,lastActiveTimestamp:t instanceof za?t.activeTimestamp:void 0,numberOfActiveSubscriptions:t instanceof za?t.subscriptions.size:0}))}async close(){this.#l.status===ot.Status.Initializing&&await this.#l,await this.#d,this.#m.close(),await this.#u();for(let t of this.#n)await t?.end(!1),this.#n.delete(t);for(let t of this.#t.values())await t?.end()}updateAllSubscriptions(){this.#d.run(async()=>{for(let t of this.#n)for(let n of t.subscriptions)await n.update()})}async clearSubscriptionsForNode(t,n,i){for(let r of this.#n)r.fabric?.fabricIndex===t&&r.peerNodeId===n&&await r.clearSubscriptions(i)}};var $$=J.get("ChannelManager"),qc=class extends lt{},_c=class e{#e=new zs;#t=new Map;#n;constructor(t=3){this.#n=t}[Jt.create](t){let n=new e;return t.set(e,this),n}set caseSessionsPerFabricAndNode(t){this.#n=t}#i(t){let n=t[0];for(let i of t)i.session.timestamp<n.session.timestamp&&(n=i);return n}async setChannel(t,n){n.closeCallback=async()=>this.removeChannel(t,n.session);let i=this.#e.get(t)??[];if(i.push(n),this.#e.set(t,i),i.length>this.#n){let r=this.#i(i),{session:a}=r;n.session.id!==a.id&&await a.destroy(!1,!1),$$.info(`Close oldest channel for fabric ${mi(t)} (from session ${a.id})`),await r.close()}}hasChannel(t){return!!this.#e.get(t)?.length}getChannel(t,n){let i=this.#e.get(t)??[];if(n!==void 0&&(i=i.filter(r=>r.session.id===n.id)),i.length===0)throw new qc(`Can't find a channel to ${mi(t)}${n!==void 0?` session ${n.id}`:""}`);return i[i.length-1]}getChannelForSession(t){if(t.isSecure&&!t.isPase){let n=t,i=n.fabric,r=n.peerNodeId;return i===void 0?this.#t.get(t):this.getChannel(i.addressOf(r),t)}return this.#t.get(t)}async removeAllNodeChannels(t){let n=this.#e.get(t)??[];for(let i of n)await i.close()}async removeChannel(t,n){let i=this.#e.get(t)??[],r=i.findIndex(({session:s})=>s.id===n.id);if(r===-1)return;let a=i.splice(r,1)[0];a!==void 0&&(await a.close(),this.#e.set(t,i))}getOrCreateAsPaseChannel(t,n){let i=new fa(t,n,async()=>void this.#t.delete(n));return this.#t.set(n,i),i}async getOrCreateChannel(t,n){if(!n.isSecure)return this.getOrCreateAsPaseChannel(t,n);let i=n,r=i.fabric,a=i.peerNodeId;if(r===void 0)return this.getOrCreateAsPaseChannel(t,n);let s=r.addressOf(a);try{return this.getChannel(s,n)}catch(l){qc.accept(l)}let c=new fa(t,n,async()=>this.removeChannel(s,n));return await this.setChannel(s,c),c}async close(){for(let t of this.#t.values())await t.close();this.#t.clear();for(let t of this.#e.values())for(let n of t)await n.close();this.#e.clear()}};var Wm=I({idleIntervalMs:R(1,ee),activeIntervalMs:R(2,ee),activeThresholdMs:R(3,B),dataModelRevision:R(4,B),interactionModelRevision:R(5,B),specificationVersion:R(6,ee),maxPathsPerInvoke:R(7,B)}),U5=I({initiatorRandom:m(1,be.bound({length:32})),initiatorSessionId:m(2,B),passcodeId:m(3,B),hasPbkdfParameters:m(4,Ae),initiatorSessionParams:R(5,Wm)}),V5=I({initiatorRandom:m(1,be.bound({length:32})),responderRandom:m(2,be.bound({length:32})),responderSessionId:m(3,B),pbkdfParameters:R(4,I({iterations:m(1,ee),salt:m(2,be.bound({minLength:16,maxLength:32}))})),responderSessionParams:R(5,Wm)}),q5=I({x:m(1,be.bound({length:65}))}),_5=I({y:m(1,be.bound({length:65})),verifier:m(2,be.bound({length:32}))}),$5=I({verifier:m(1,be.bound({length:32}))});var yM=32*2,rv=we.fromString("Sigma1_Resume"),ov=we.fromString("Sigma2_Resume"),av=we.fromString("NCASE_SigmaS1"),sv=we.fromString("NCASE_SigmaS2"),cv=we.fromString("Sigma2"),lv=we.fromString("Sigma3"),dv=we.fromString("NCASE_Sigma2N"),uv=we.fromString("NCASE_Sigma3N"),H5=I({initiatorRandom:m(1,be.bound({length:32})),initiatorSessionId:m(2,B),destinationId:m(3,be.bound({length:32})),initiatorEcdhPublicKey:m(4,be.bound({length:65})),initiatorSessionParams:R(5,Wm),resumptionId:R(6,be.bound({length:16})),initiatorResumeMic:R(7,be.bound({length:16}))}),j5=I({responderRandom:m(1,be.bound({length:32})),responderSessionId:m(2,B),responderEcdhPublicKey:m(3,be.bound({length:65})),encrypted:m(4,be),responderSessionParams:R(5,Wm)}),G5=I({resumptionId:m(1,be.bound({length:16})),resumeMic:m(2,be.bound({length:16})),responderSessionId:m(3,B),responderSessionParams:R(4,Wm)}),z5=I({encrypted:m(1,be)}),Hm=I({nodeOpCert:m(1,be),intermediateCACert:R(2,be),ecdhPublicKey:m(3,be.bound({length:65})),peerEcdhPublicKey:m(4,be.bound({length:65}))}),mv=I({nodeOpCert:m(1,be),intermediateCACert:R(2,be),signature:m(3,be.bound({length:yM})),resumptionId:m(4,be.bound({length:16}))}),hv=I({nodeOpCert:m(1,be),intermediateCACert:R(2,be),signature:m(3,be.bound({length:yM}))});var fv=class extends ko{async readSigma1(){let{payload:t}=await this.nextMessage("CASE Sigma1",Wt.Sigma1);return{sigma1Bytes:t,sigma1:H5.decode(t)}}sendSigma2(t){return this.send(t,Wt.Sigma2,j5)}sendSigma2Resume(t){return this.send(t,Wt.Sigma2Resume,G5)}async readSigma3(){let{payload:t}=await this.nextMessage("CASE Sigma3",Wt.Sigma3);return{sigma3Bytes:t,sigma3:z5.decode(t)}}},pv=class extends ko{sendSigma1(t){return this.send(t,Wt.Sigma1,H5)}async readSigma2(){let{payload:t,payloadHeader:{messageType:n}}=await this.nextMessage("CASE Sigma2 or Sigma2Resume");switch(n){case Wt.Sigma2:return{sigma2Bytes:t,sigma2:j5.decode(t)};case Wt.Sigma2Resume:return{sigma2Resume:G5.decode(t)};default:throw new ze(`Received unexpected message type while expecting CASE Sigma2: ${n}, expected: ${Wt.Sigma2} or ${Wt.Sigma2Resume}`)}}sendSigma3(t){return this.send(t,Wt.Sigma3,z5)}};var Wp=J.get("CaseServer"),yv=class{#e;#t;constructor(t,n){this.#e=t,this.#t=n}async onNewExchange(t){let n=new fv(t);try{await this.handleSigma1(n)}catch(i){Wp.error("An error occurred during the commissioning",i),i instanceof su?await n.sendError(mo.NoSharedTrustRoots):i instanceof ha||await n.sendError(mo.InvalidParam)}finally{await t.session.destroy()}}getId(){return 0}async handleSigma1(t){Wp.info(`Received pairing request from ${t.getChannelName()}`);let n=qe.getRandom(),{sigma1Bytes:i,sigma1:r}=await t.readSigma1(),{initiatorSessionId:a,resumptionId:s,initiatorResumeMic:c,destinationId:l,initiatorRandom:d,initiatorEcdhPublicKey:f,initiatorSessionParams:g}=r,b=qe.getRandomData(16),w=s!==void 0&&c!==void 0?this.#e.findResumptionRecordById(s):void 0;if(s!==void 0&&c!==void 0&&w!==void 0){let{sharedSecret:O,fabric:D,peerNodeId:y,caseAuthenticatedTags:S}=w,L=await qe.hkdf(O,we.concat(d,s),rv);qe.decrypt(L,c,av);let H=await this.#e.getNextAvailableSessionId(),oe=we.concat(d,s),z=await this.#e.createSecureSession({sessionId:H,fabric:D,peerNodeId:y,peerSessionId:a,sharedSecret:O,salt:oe,isInitiator:!1,isResumption:!0,peerSessionParameters:g,caseAuthenticatedTags:S}),Q=we.concat(d,b),N=await qe.hkdf(O,Q,ov),q=qe.encrypt(N,new Uint8Array(0),sv);try{await t.sendSigma2Resume({resumptionId:b,resumeMic:q,responderSessionId:H,responderSessionParams:this.#e.sessionParameters})}catch(G){throw await z.destroy(!1),G}Wp.info(`session ${z.id} resumed with ${t.getChannelName()} for Fabric ${Rt.toHexString(D.nodeId)}(index ${D.fabricIndex}) and PeerNode ${Rt.toHexString(y)}`,"with CATs",S),w.resumptionId=b,await t.waitForSuccess("Success after CASE Sigma2Resume"),await t.close(),await this.#e.saveResumptionRecord(w)}else if(s===void 0&&c===void 0||s!==void 0&&c!==void 0&&w===void 0){let O=this.#t.findFabricFromDestinationId(l,d),{operationalCert:D,intermediateCACert:y,operationalIdentityProtectionKey:S}=O,{publicKey:L,sharedSecret:H}=qe.ecdhGeneratePublicKeyAndSecret(f),oe=we.concat(S,n,L,qe.hash(i)),z=await qe.hkdf(H,oe,cv),Q=Hm.encode({nodeOpCert:D,intermediateCACert:y,ecdhPublicKey:L,peerEcdhPublicKey:f}),N=O.sign(Q),q=mv.encode({nodeOpCert:D,intermediateCACert:y,signature:N,resumptionId:b}),G=qe.encrypt(z,q,dv),te=await this.#e.getNextAvailableSessionId(),K=await t.sendSigma2({responderRandom:n,responderSessionId:te,responderEcdhPublicKey:L,encrypted:G,responderSessionParams:this.#e.sessionParameters}),{sigma3Bytes:ae,sigma3:{encrypted:pe}}=await t.readSigma3(),he=we.concat(S,qe.hash([i,K])),Ce=await qe.hkdf(H,he,lv),Le=qe.decrypt(Ce,pe,uv),{nodeOpCert:tt,intermediateCACert:St,signature:qt}=hv.decode(Le);O.verifyCredentials(tt,St);let Gt=Hm.encode({nodeOpCert:tt,intermediateCACert:St,ecdhPublicKey:f,peerEcdhPublicKey:L}),{ellipticCurvePublicKey:Ze,subject:{fabricId:ft,nodeId:F,caseAuthenticatedTags:Ve}}=No.decode(tt);if(O.fabricId!==ft)throw new De(`Fabric ID mismatch: ${O.fabricId} !== ${ft}`);qe.verify(Ms(Ze),Gt,qt);let ln=we.concat(S,qe.hash([i,K,ae])),_t=await this.#e.createSecureSession({sessionId:te,fabric:O,peerNodeId:F,peerSessionId:a,sharedSecret:H,salt:ln,isInitiator:!1,isResumption:!1,peerSessionParameters:g,caseAuthenticatedTags:Ve});Wp.info(`session ${_t.id} created with ${t.getChannelName()} for Fabric ${Rt.toHexString(O.nodeId)}(index ${O.fabricIndex}) and PeerNode ${Rt.toHexString(F)}`,"with CATs",Ve),await t.sendSuccess();let Mn={peerNodeId:F,fabric:O,sharedSecret:H,resumptionId:b,sessionParameters:_t.parameters,caseAuthenticatedTags:Ve};await t.close(),await this.#e.saveResumptionRecord(Mn)}else throw Wp.info(`Invalid resumption ID or resume MIC received from ${t.getChannelName()}`,s,c),new De("Invalid resumption ID or resume MIC.")}async close(){}};var bv=0,xv=we.fromString("CHIP PAKE V1 Commissioning"),gv=class extends ko{async readPbkdfParamRequest(){let{payload:t}=await this.nextMessage("PASE PbkdfParamRequest",Wt.PbkdfParamRequest,_p);return{requestPayload:t,request:U5.decode(t)}}async sendPbkdfParamResponse(t){return this.send(t,Wt.PbkdfParamResponse,V5,{expectedProcessingTimeMs:_p})}readPasePake1(){return this.nextMessageDecoded(Wt.PasePake1,q5,"PASE Pake1")}sendPasePake2(t){return this.send(t,Wt.PasePake2,_5)}readPasePake3(){return this.nextMessageDecoded(Wt.PasePake3,$5,"PASE Pake3")}},vv=class extends ko{sendPbkdfParamRequest(t){return this.send(t,Wt.PbkdfParamRequest,U5,{expectedProcessingTimeMs:_p})}async readPbkdfParamResponse(){let{payload:t}=await this.nextMessage("PASE PbkdfParamResponse",Wt.PbkdfParamResponse,_p);return{responsePayload:t,response:V5.decode(t)}}sendPasePake1(t){return this.send(t,Wt.PasePake1,q5)}readPasePake2(){return this.nextMessageDecoded(Wt.PasePake2,_5,"PASE Pake2")}sendPasePake3(t){return this.send(t,Wt.PasePake3,$5)}};var{bytesToNumberBE:W$}=As,K5=J.get("PaseServer"),H$=6e4,gM=20,Hp=class extends ze{},jm=class e{constructor(t,n,i,r){this.sessions=t,this.w0=n,this.L=i,this.pbkdfParameters=r}pairingTimer;pairingErrors=0;static async fromPin(t,n,i){let{w0:r,L:a}=await Es.computeW0L(i,n);return new e(t,r,a,i)}static fromVerificationValue(t,n,i){let r=W$(n.slice(0,32)),a=n.slice(32,97);return new e(t,r,a,i)}getId(){return 0}async onNewExchange(t){let n=new gv(t);try{await this.handlePairingRequest(n)}catch(i){this.pairingErrors++,K5.error(`An error occurred during the PASE commissioning (${this.pairingErrors}/${gM}):`,i);let r=!(i instanceof ha);if(await this.cancelPairing(n,r),this.pairingErrors>=gM)throw new Hp("Pase server: Too many errors during PASE commissioning, aborting commissioning window")}finally{await t.session.destroy()}}async handlePairingRequest(t){if(this.sessions.getPaseSession())throw new ze("Pase server: Pairing already in progress (PASE session exists), ignoring new exchange.");if(this.pairingTimer!==void 0&&this.pairingTimer.isRunning)throw new ze("Pase server: Pairing already in progress (PASE establishment Timer running), ignoring new exchange.");K5.info(`Received pairing request from ${t.getChannelName()}.`),this.pairingTimer=Ne.getTimer("PASE pairing timeout",H$,()=>this.cancelPairing(t)).start();let{requestPayload:n,request:{initiatorRandom:i,initiatorSessionParams:r,passcodeId:a,hasPbkdfParameters:s,initiatorSessionId:c}}=await t.readPbkdfParamRequest();if(a!==bv)throw new De(`Unsupported passcode ID ${a}.`);let l=await this.sessions.getNextAvailableSessionId(),d=qe.getRandom(),f=await t.sendPbkdfParamResponse({initiatorRandom:i,responderRandom:d,responderSessionId:l,pbkdfParameters:s?void 0:this.pbkdfParameters,responderSessionParams:this.sessions.sessionParameters}),g=Es.create(qe.hash([xv,n,f]),this.w0),{x:b}=await t.readPasePake1(),w=g.computeY(),{Ke:O,hAY:D,hBX:y}=await g.computeSecretAndVerifiersFromX(this.L,b,w);await t.sendPasePake2({y:w,verifier:y});let{verifier:S}=await t.readPasePake3();if(!we.areEqual(S,D))throw new De("Received incorrect key confirmation from the initiator.");await this.sessions.createSecureSession({sessionId:l,fabric:void 0,peerNodeId:Rt.UNSPECIFIED_NODE_ID,peerSessionId:c,sharedSecret:O,salt:new Uint8Array(0),isInitiator:!1,isResumption:!1,peerSessionParameters:r}),K5.info(`Session ${l} created with ${t.getChannelName()}.`),await t.sendSuccess(),await t.close(),this.pairingTimer?.stop(),this.pairingTimer=void 0}async cancelPairing(t,n=!0){this.pairingTimer?.stop(),this.pairingTimer=void 0,n&&await t.sendError(mo.InvalidParam),await t.close()}async close(){}};var j$=J.get("SecureChannelProtocol"),X5=class{getId(){return 0}async onNewExchange(t,n){let i=n.payloadHeader.messageType;switch(i){case Wt.StatusReport:await this.handleInitialStatusReport(t,n);break;default:if(i!==Wt.StandaloneAck)throw new ve(`Unexpected initial message on secure channel protocol: ${i.toString(16)}`,ue.InvalidAction)}}async handleInitialStatusReport(t,n){let{payloadHeader:{messageType:i},payload:r}=n;if(i!==Wt.StatusReport)throw new ze(`Unexpected message type on secure channel protocol, expected StatusReport: ${i.toString(16)}`);let{generalStatus:a,protocolId:s,protocolStatus:c}=qp.decode(r);if(a!==Nc.Success)throw new ha(`Received general error status (${s})`,a,c);if(c!==mo.CloseSession)throw new ha("Received general success status, but protocol status is not CloseSession",a,c);let{session:l}=t;wr(l),j$.debug(`Peer requested to close session ${l.name}. Remove session now.`),await l.destroy(!1,!1)}async close(){}},Xs=class extends X5{#e;#t;#n=tr();constructor(t,n){super(),this.#t=new yv(t,n)}get tooManyPaseErrors(){return this.#n}setPaseCommissioner(t){this.#e=t}removePaseCommissioner(){this.#e=void 0}async onNewExchange(t,n){switch(n.payloadHeader.messageType){case Wt.PbkdfParamRequest:if(this.#e===void 0){let r=new ko(t);await r.sendError(mo.InvalidParam),await r.close();return}try{await this.#e.onNewExchange(t)}catch(r){Hp.accept(r),await this.#n.emit()}break;case Wt.Sigma1:await this.#t.onNewExchange(t);break;default:await super.onNewExchange(t,n)}}static isStandaloneAck(t,n){return t===0&&n===Wt.StandaloneAck}};var Yr=J.get("MessageExchange"),Ur=class extends ci{},jp=class extends lt{constructor(t,n){super(`(${br.messageDiagnostics(n)}) ${t}`),this.receivedMessage=n}},G$=5,z$=1.6,K$=.25,X$=1.1,Y$=1,Z$=200,vM=2e3,Q$=5e3,J$=54,Gm=class e{constructor(t,n,i,r,a,s,c){this.context=t,this.isInitiator=n;let{channel:l}=t,{session:d}=l;this.#v=i,this.#y=r,this.#p=a,this.#x=s,this.#b=c;let{activeIntervalMs:f,idleIntervalMs:g,activeThresholdMs:b}=d.parameters;this.#e=f??Ha,this.#t=g??ja,this.#n=b??Ga,this.#i=G$,this.#g=d.supportsMRP&&!l.isReliable,Yr.debug("New exchange",fe.dict({channel:l.name,protocol:this.#b,id:this.#x,session:d.name,peerSessionId:this.#v,"active threshold ms":this.#n,"active interval ms":this.#e,"idle interval ms":this.#t,maxTransmissions:this.#i,useMrp:this.#g}))}static fromInitialMessage(t,n){let{channel:{session:i}}=t;return new e(t,!1,i.id,n.packetHeader.destNodeId,n.packetHeader.sourceNodeId,n.payloadHeader.exchangeId,n.payloadHeader.protocolId)}static initiate(t,n,i){let{channel:{session:r}}=t;return new e(t,!0,r.peerSessionId,r.nodeId,r.peerNodeId,n,i)}#e;#t;#n;#i;#o=new tg;#r;#a=Ne.getTimer("Ack receipt timeout",Z$,()=>{if(this.#r!==void 0){let t=this.#r;this.#r=void 0,this.sendStandaloneAckForMessage(t).catch(n=>Yr.error("An error happened when sending a standalone ack",n))}});#s;#c;#l;#m;#d=0;#u;#f=!1;#h;#v;#y;#p;#x;#b;#w=tr();#g;get closed(){return this.#w}get isClosing(){return this.#f}get id(){return this.#x}get channel(){return this.context.channel}get session(){return this.channel.session}get maxPayloadSize(){return this.channel.maxPayloadSize-J$}async sendStandaloneAckForMessage(t){let{packetHeader:{messageId:n},payloadHeader:{requiresAck:i}}=t;!i||!this.#g||await this.send(Wt.StandaloneAck,new Uint8Array(0),{includeAcknowledgeMessageId:n})}async onMessageReceived(t,n=!1){Yr.debug("Message \xAB",br.messageDiagnostics(t,n)),t.payloadHeader.requiresAck&&!this.#g&&(Yr.debug("Ignoring ack-required flag because MRP is not used for this exchange"),t.payloadHeader.requiresAck=!1);let{packetHeader:{messageId:i},payloadHeader:{requiresAck:r,ackedMessageId:a,protocolId:s,messageType:c}}=t,l=Xs.isStandaloneAck(s,c);if(s!==this.#b&&!l)throw new ze(`Drop received a message for an unexpected protocol. Expected: ${this.#b}, received: ${s}`);if(this.session.notifyActivity(!0),n){r&&await this.sendStandaloneAckForMessage(t);return}if(i===this.#s?.payloadHeader.ackedMessageId){await this.channel.send(this.#s);return}let d=this.#s?.packetHeader.messageId;if(d!==void 0){if(a===void 0)throw new ze("Previous message ack is missing");if(a!==d){if(!l)throw new ze(`Incorrect ack received. Expected ${d}, received: ${a}`)}else if(this.#m?.stop(),this.#d=0,this.#c?.(t),this.#c=void 0,this.#l=void 0,this.#s=void 0,l&&this.#u!==void 0)return this.#C()}if(!l){if(r){if(this.#r!==void 0){this.#a.stop(),await this.sendStandaloneAckForMessage(this.#r);return}this.#r=t,this.#a.start()}await this.#o.write(t)}}async send(t,n,i){i?.requiresAck&&!this.#g&&(i.requiresAck=!1);let{expectAckOnly:r=!1,expectedProcessingTimeMs:a=vM,requiresAck:s,includeAcknowledgeMessageId:c}=i??{};if(!this.#g&&c!==void 0)throw new Re("Cannot include an acknowledge message ID when MRP is not used");if(t===Wt.StandaloneAck){if(!this.#g)return;if(s)throw new ze("A standalone ack may not require acknowledgement.")}if(this.#s!==void 0&&t!==Wt.StandaloneAck)throw new ze("The previous message has not been acked yet, cannot send a new message.");this.session.notifyActivity(!1);let l=c;l===void 0&&this.#g&&(l=this.#r?.packetHeader.messageId,l!==void 0&&(this.#a.stop(),this.#r=void 0));let d={packetHeader:{sessionId:this.#v,sessionType:xr.Unicast,messageId:await this.session.getIncrementedMessageCounter(),destNodeId:this.#p,sourceNodeId:this.#y,hasPrivacyEnhancements:!1,isControlMessage:!1,hasMessageExtensions:!1},payloadHeader:{exchangeId:this.#x,protocolId:t===Wt.StandaloneAck?0:this.#b,messageType:t,isInitiatorMessage:this.isInitiator,requiresAck:s??(this.#g&&t!==Wt.StandaloneAck),ackedMessageId:l,hasSecuredExtension:!1},payload:n},f;if(this.#g&&d.payloadHeader.requiresAck){this.#s=d,this.#m=Ne.getTimer("Message retransmission",this.#T(0),()=>this.#S(d,a));let{promise:g,resolver:b,rejecter:w}=Oa();f=g,this.#c=b,this.#l=w}if(await this.channel.send(d),f!==void 0){this.#d=0,this.#m?.start();let g=await f;this.#c=void 0,this.#l=void 0;let{payloadHeader:{protocolId:b,messageType:w}}=g;if(r&&!Xs.isStandaloneAck(b,w))throw new jp("Expected ack only",g)}}nextMessage(t){let n;switch(this.channel.type){case"tcp":n=3e4;break;case"udp":if(!this.#g)throw new ze("No response expected for this message exchange because UDP and no MRP.");n=this.calculateMaximumPeerResponseTime(t);break;case"ble":n=3e4;break;default:throw new ze(`Can not calculate expected timeout for unknown channel type: ${this.channel.type}`)}return n+=Q$,this.#o.read(n)}#T(t,n){let{activeIntervalMs:i,idleIntervalMs:r}=n??{activeIntervalMs:this.#e,idleIntervalMs:this.#t},a=n!==void 0||this.session.isPeerActive()?i:r;return Math.floor(X$*a*Math.pow(z$,Math.max(0,t-Y$))*(1+(n!==void 0?1:Math.random())*K$))}calculateMaximumPeerResponseTime(t=vM){let n=t;for(let i=0;i<this.#i;i++)n+=this.#T(i,this.context.localSessionParameters);return n}#S(t,n){if(this.#d++,this.#d>=this.#i){if(n!==void 0){let r=this.calculateMaximumPeerResponseTime(n)-(this.#m?.intervalMs??0);if(r>0){this.#d--,Yr.debug(`Wait additional ${r}ms for processing time and peer resubmissions after all our resubmissions`),this.#m=Ne.getTimer("Message wait time after resubmissions",r,()=>this.#S(t)).start();return}}this.#s!==void 0&&this.#l!==void 0&&(this.#r=void 0,this.#l(new Ur),this.#l=void 0,this.#c=void 0),this.#u!==void 0&&this.#C().catch(r=>Yr.error("An error happened when closing the exchange",r));return}this.session.notifyActivity(!1),this.#d===1&&this.context.resubmissionStarted();let i=this.#T(this.#d);Yr.debug(`Resubmit message ${t.packetHeader.messageId} (retransmission attempt ${this.#d}, backoff time ${i}ms))`),this.channel.send(t).then(()=>this.#I(t,i,n)).catch(r=>{Yr.error("An error happened when retransmitting a message",r),r instanceof $c?this.#C().catch(a=>Yr.error("An error happened when closing the exchange",a)):this.#I(t,i,n)})}#I(t,n,i){this.#m=Ne.getTimer("Message retransmission",n,()=>this.#S(t,i)).start()}async destroy(){if(this.#u===void 0&&this.#r!==void 0){this.#a.stop();let t=this.#r;this.#r=void 0;try{await this.sendStandaloneAckForMessage(t)}catch(n){Yr.error("An error happened when closing the exchange",n)}}await this.#C()}startTimedInteraction(t){if(this.#h!==void 0&&this.#h.isRunning)throw this.#h.stop(),new ve("Timed interaction already running for this exchange",ue.InvalidAction);Yr.debug(`Starting timed interaction with Transaction ID ${this.#x} for ${t}ms from ${this.channel.name}`),this.#h=Ne.getTimer("Timed interaction",t,()=>{Yr.debug(`Timed interaction with Transaction ID ${this.#x} from ${this.channel.name} timed out`)}).start()}clearTimedInteraction(){this.#h!==void 0&&(Yr.debug(`Clearing timed interaction with Transaction ID ${this.#x} from ${this.channel.name}`),this.#h.stop(),this.#h=void 0)}hasTimedInteraction(){return this.#h!==void 0}hasActiveTimedInteraction(){return this.#h!==void 0&&this.#h.isRunning}hasExpiredTimedInteraction(){return this.#h!==void 0&&!this.#h.isRunning}async close(){if(this.#u!==void 0)return;if(this.#f=!0,this.#r!==void 0){this.#a.stop();let n=this.#r;this.#r=void 0;try{await this.sendStandaloneAckForMessage(n)}catch(i){Yr.error("An error happened when closing the exchange",i)}}else if(this.#s===void 0)return this.#C();let t=0;for(let n=this.#d;n<=this.#i;n++)t+=this.#T(n);this.#u=Ne.getTimer("Message exchange cleanup",t,async()=>await this.#C()).start()}async#C(){this.#f=!0,this.#m?.stop(),this.#u?.stop(),this.#h?.stop(),this.#o.close(),await this.#w.emit()}};var Ui=J.get("ExchangeManager"),eW=5,$c=class extends lt{},fa=class{constructor(t,n,i){this.channel=t,this.session=n,this.#e=i}closed=!1;#e;set closeCallback(t){this.#e=t}get isReliable(){return this.channel.isReliable}get type(){return this.channel.type}get maxPayloadSize(){return this.channel.maxPayloadSize}send(t){Ui.debug("Message \xBB",br.messageDiagnostics(t));let n=this.session.encode(t),i=br.encodePacket(n);return i.length>this.maxPayloadSize&&Ui.warn(`Matter message to send to ${this.name} is ${i.length}bytes long, which is larger than the maximum allowed size of ${this.maxPayloadSize}. This only works if both nodes support it.`),this.channel.send(i)}get name(){return`${this.channel.name} on session ${this.session.name}`}async close(){let t=this.closed;this.closed=!0,await this.channel.close(),t||await this.#e?.()}},fo=class e{#e;#t;#n;#i=new Y5;#o=new Map;#r=new Map;#a=new Map;#s=new Set;#c=new Io(this);constructor(t){this.#e=t.transportInterfaces,this.#t=t.sessionManager,this.#n=t.channelManager;for(let n of this.#e)this.#f(n);this.#c.on(this.#e.added,this.#f),this.#c.on(this.#e.deleted,this.#h),this.#c.on(this.#t.sessions.deleted,n=>{n.closingAfterExchangeFinished||(n.closer=this.#l(n))})}[Jt.create](t){let n=new e({transportInterfaces:t.get(wc),sessionManager:t.get(Kn),channelManager:t.get(_c)});return t.set(e,n),n}hasProtocolHandler(t){return this.#r.has(t)}getProtocolHandler(t){return this.#r.get(t)}addProtocolHandler(t){if(this.hasProtocolHandler(t.getId()))throw new ce(`Handler for protocol ${t.getId()} already registered.`);this.#r.set(t.getId(),t)}initiateExchange(t,n){return this.initiateExchangeWithChannel(this.#n.getChannel(t),n)}initiateExchangeWithChannel(t,n){let i=this.#i.getIncrementedCounter(),r=i|65536,a=Gm.initiate(this.#u(t),i,n);return this.#m(r,a),a}async close(){for(let t of this.#r.values())await t.close();for(let t of this.#a.keys())this.#h(t);await Promise.allSettled(this.#s);for(let t of this.#o.values())await t.destroy();this.#o.clear()}async onMessage(t,n){let i=br.decodePacket(n);if(i.header.sessionType===xr.Group)throw new Yt("Group messages are not supported");let r;if(i.header.sessionType===xr.Unicast)if(i.header.sessionId===$m){let g=i.header.sourceNodeId??Rt.UNSPECIFIED_NODE_ID;r=this.#t.getUnsecureSession(g)??this.#t.createInsecureSession({initiatorNodeId:g})}else r=this.#t.getSession(i.header.sessionId);else i.header.sessionType===xr.Group&&i.header.sourceNodeId;if(r===void 0)throw new ze(`Cannot find a session for ID ${i.header.sessionId}${i.header.sourceNodeId!==void 0?` and source NodeId ${i.header.sourceNodeId}`:""}`);let a=i.header.messageId,s;try{r?.updateMessageCounter(i.header.messageId,i.header.sourceNodeId),s=!1}catch(g){ou.accept(g),s=!0}let c=n.slice(0,n.length-i.applicationPayload.length),l=r.decode(i,c),d=l.payloadHeader.isInitiatorMessage?l.payloadHeader.exchangeId:l.payloadHeader.exchangeId|65536,f=this.#o.get(d);if(f!==void 0&&(f.session.id!==r.id||f.isInitiator===l.payloadHeader.isInitiatorMessage)&&(f=void 0),f!==void 0)await f.onMessageReceived(l,s);else{if(r.closingAfterExchangeFinished)throw new ze(`Session with ID ${i.header.sessionId} marked for closure, decline new exchange creation.`);let g=this.#r.get(l.payloadHeader.protocolId);if(g!==void 0&&l.payloadHeader.isInitiatorMessage&&!s){if(l.payloadHeader.messageType==Wt.StandaloneAck&&!l.payloadHeader.requiresAck){Ui.debug(`Ignoring unsolicited standalone ack message ${a} for protocol ${l.payloadHeader.protocolId} and exchange id ${l.payloadHeader.exchangeId}.`);return}let b=Gm.fromInitialMessage(this.#u(await this.#n.getOrCreateChannel(t,r)),l);this.#m(d,b),await b.onMessageReceived(l),await g.onNewExchange(b,l)}else if(l.payloadHeader.requiresAck){let b=Gm.fromInitialMessage(this.#u(await this.#n.getOrCreateChannel(t,r)),l);this.#m(d,b),await b.send(Wt.StandaloneAck,new Uint8Array(0),{includeAcknowledgeMessageId:l.packetHeader.messageId}),await b.close(),Ui.debug(`Ignoring unsolicited message ${a} for protocol ${l.payloadHeader.protocolId}.`)}else{if(g===void 0)throw new ze(`Unsupported protocol ${l.payloadHeader.protocolId}`);if(s){Ui.info(`Ignoring duplicate message ${a} (requires no ack) for protocol ${l.payloadHeader.protocolId}.`);return}else Ui.info(`Discarding unexpected message ${a} for protocol ${l.payloadHeader.protocolId}, exchangeIndex ${d} and sessionId ${r.id} : ${J.toJSON(l)}`)}}}async deleteExchange(t){let n=this.#o.get(t);if(n===void 0){Ui.info(`Exchange with index ${t} to delete not found or already deleted.`);return}let{session:i}=n;if(i.isSecure&&i.closingAfterExchangeFinished){Ui.debug(`Exchange index ${t} Session ${i.name} is already marked for closure. Close session now.`);try{await this.#l(i)}catch(r){Ui.error(`Error closing session ${i.name}. Ignoring.`,r)}}this.#o.delete(t)}async#l(t){let n=t.id,i=t.name,r=t;if(!r.closedByExchange){r.closedByExchange=!0;for(let[a,s]of this.#o.entries())s.session.id===n&&await s.destroy();if(t.sendCloseMessageWhenClosing){let a=this.#n.getChannelForSession(t);if(Ui.debug(`Channel for session ${t.name} is ${a?.name}`),a!==void 0){let s=this.initiateExchangeWithChannel(a,0);if(Ui.debug(`Initiated exchange ${!!s} to close session ${i}`),s!==void 0)try{let c=new ko(s);await c.sendCloseSession(),await c.close()}catch(c){c instanceof $c?Ui.debug("Session already closed because channel is disconnected."):Ui.error("Error closing session",c)}await s.destroy()}}t.closingAfterExchangeFinished&&await t.destroy(!1,!1)}}#m(t,n){n.closed.on(()=>this.deleteExchange(t)),this.#o.set(t,n),this.#d(n.session.id)}#d(t){if(t===$m)return;let n=Array.from(this.#o.values()).filter(r=>r.session.id===t&&!r.isClosing);if(n.length<=eW)return;let i=n[0];Ui.debug(`Closing oldest exchange ${i.id} for session ${t}`),i.close().catch(r=>Ui.error("Error closing exchange",r))}#u(t){return{channel:t,localSessionParameters:this.#t.sessionParameters,resubmissionStarted:()=>this.#t.resubmissionStarted.emit(t.session)}}#f(t){let n=t instanceof Ol;this.#a.set(t,t.onData((i,r)=>{if(n&&r.length>i.maxPayloadSize){Ui.warn(`Ignoring UDP message with size ${r.length} from ${i.name}, which is larger than the maximum allowed size of ${i.maxPayloadSize}.`);return}try{this.onMessage(i,r).catch(a=>Ui.error(a))}catch(a){Ui.warn("Ignoring UDP message with error",a)}}))}#h(t){let n=this.#a.get(t);if(n===void 0)return;this.#a.delete(t);let i=n.close().catch(r=>Ui.error("Error closing network listener",r)).finally(()=>this.#s.delete(i));this.#s.add(i)}},Y5=class{exchangeCounter=qe.getRandomUInt16();getIncrementedCounter(){return this.exchangeCounter++,this.exchangeCounter>65535&&(this.exchangeCounter=0),this.exchangeCounter}},zm=class{constructor(t,n,i){this.exchangeManager=t,this.channel=n,this.reconnectChannelFunc=i}hasProtocolHandler(t){return this.exchangeManager.hasProtocolHandler(t)}getProtocolHandler(t){return this.exchangeManager.getProtocolHandler(t)}addProtocolHandler(t){this.exchangeManager.addProtocolHandler(t)}initiateExchange(){return this.exchangeManager.initiateExchangeWithChannel(this.channel,1)}async reconnectChannel(){return this.reconnectChannelFunc===void 0?!1:(this.channel=await this.reconnectChannelFunc(),!0)}get session(){return this.channel.session}get channelType(){return this.channel.type}};var Cv=(e=>(e[e.StatusResponse=1]="StatusResponse",e[e.ReadRequest=2]="ReadRequest",e[e.SubscribeRequest=3]="SubscribeRequest",e[e.SubscribeResponse=4]="SubscribeResponse",e[e.ReportData=5]="ReportData",e[e.WriteRequest=6]="WriteRequest",e[e.WriteResponse=7]="WriteResponse",e[e.InvokeRequest=8]="InvokeRequest",e[e.InvokeResponse=9]="InvokeResponse",e[e.TimedRequest=10]="TimedRequest",e))(Cv||{}),cu=J.get("InteractionMessenger"),wv=class{constructor(t){this.exchange=t}calculateMaximumPeerResponseTime(t){return this.exchange.calculateMaximumPeerResponseTime(t)}send(t,n,i){return this.exchange.send(t,n,i)}sendStatus(t){return this.send(1,Ip.encode({status:t,interactionModelRevision:jt.INTERACTION_MODEL_REVISION}))}async waitForSuccess(t){await this.nextMessage(1,t)}async nextMessage(t,n){let i=await this.exchange.nextMessage(n),r=i.payloadHeader.messageType;if(this.throwIfErrorStatusMessage(i),t!==void 0&&r!==t)throw new De(`Received unexpected message type: ${r}, expected: ${t}`);return i}async close(){await this.exchange.close()}throwIfErrorStatusMessage(t){let{payloadHeader:{messageType:n},payload:i}=t;if(n!==1)return;let{status:r}=Ip.decode(i);if(r!==ue.Success)throw new ve(`Received error status: ${r}`,r)}getExchangeChannelName(){return this.exchange.channel.name}},Wc=class extends wv{async handleRequest(t){let n=!0,i=!1;try{for(;n;){let r=await this.exchange.nextMessage();switch(i=r.packetHeader.sessionType===xr.Group,n=!1,r.payloadHeader.messageType){case 2:{if(i)throw new ve("ReadRequest is not supported in group sessions",Am.InvalidAction);let a=m5.decode(r.payload);await this.sendDataReport(await t.handleReadRequest(this.exchange,a,r),a.isFabricFiltered);break}case 6:{let a=kg.decode(r.payload),{suppressResponse:s}=a,c=await t.handleWriteRequest(this.exchange,a,r);!s&&!i&&await this.send(7,f5.encode(c));break}case 3:{let a=Ap.decode(r.payload);await t.handleSubscribeRequest(this.exchange,a,this,r);break}case 8:{let a=Og.decode(r.payload);await t.handleInvokeRequest(this.exchange,a,this,r);break}case 10:{let a=h5.decode(r.payload);t.handleTimedRequest(this.exchange,a,r),await this.sendStatus(ue.Success),n=!0;break}default:throw new ve(`Unsupported message type ${r.payloadHeader.messageType}`,Am.InvalidAction)}}}catch(r){let a=ue.Failure;r instanceof ve?(cu.info(`Sending status response ${r.code} for interaction error: ${r.message}`),a=r.code):r instanceof ci?cu.info(r):cu.warn(r),!i&&!(r instanceof ci)&&await this.sendStatus(a)}finally{await this.exchange.close()}}async sendDataReport(t,n){let{subscriptionId:i,attributeReportsPayload:r,eventReportsPayload:a,suppressResponse:s,interactionModelRevision:c}=t,l={subscriptionId:i,suppressResponse:s,interactionModelRevision:c,attributeReports:void 0,eventReports:void 0};if(r!==void 0||a!==void 0){let d=[...r??[]],f=[...a??[]];l.moreChunkedMessages=!0;let g=d5.encode(l),b=!1,w=!1,O=async()=>{await this.sendDataReportMessage(l),l.attributeReports=void 0,l.eventReports=void 0,D=g.length,b=!1,w=!1},D=g.length;for(;;)if(d.length>0){let y=d.shift();if(y!==void 0){b||(b=!0,D+=3);let S=!n&&y.hasFabricSensitiveData,L=lM(y,{allowMissingFieldsForNonFabricFilteredRead:S}),H=kn.getEncodedByteLength(L);if(D+H>this.exchange.maxPayloadSize){if(uM(y)){d.unshift(...mM(y));continue}await O()}D+=H,l.attributeReports===void 0&&(l.attributeReports=[]),l.attributeReports.push(L)}}else if(f.length>0){let y=f.shift();if(y===void 0){delete l.moreChunkedMessages;break}w||(w=!0,D+=3);let S=!n&&y.hasFabricSensitiveData,L=dM(y,{allowMissingFieldsForNonFabricFilteredRead:S}),H=kn.getEncodedByteLength(L);D+H>this.exchange.maxPayloadSize&&await O(),D+=H,l.eventReports===void 0&&(l.eventReports=[]),l.eventReports.push(L)}else{delete l.moreChunkedMessages;break}}await this.sendDataReportMessage(l)}async sendDataReportMessage(t){let n={...t,suppressResponse:t.moreChunkedMessages?!1:t.suppressResponse},i=d5.encode(n);if(i.length>this.exchange.maxPayloadSize)throw new ze(`DataReport is too long to fit in a single chunk, This should not happen! Data: ${J.toJSON(n)}`);if(cu.debug(`Sending DataReport chunk with ${n.attributeReports?.length??0} attributes and ${n.eventReports?.length??0} events: ${i.length} bytes (moreChunkedMessages: ${n.moreChunkedMessages??!1}, suppressResponse: ${n.suppressResponse})`),n.suppressResponse)try{await this.exchange.send(5,i,{expectAckOnly:!0})}catch(r){jp.accept(r);let{receivedMessage:a}=r;this.throwIfErrorStatusMessage(a)}else await this.exchange.send(5,i),await this.waitForSuccess()}},Gp=class extends wv{async waitFor(t,n){let i=await this.nextMessage(n),{payloadHeader:{messageType:r}}=i;if(r!==t){if(r===1){let a=Ip.decode(i.payload).status;throw new ve(`Received status response ${a}`,a)}throw new ze(`Received unexpected message type ${r.toString(16)}. Expected ${t.toString(16)}`)}return i}async readDataReports(t=!0){let n,i=[],r=[];for(;;){let a=await this.waitFor(5),s=SA.decode(a.payload);if(n===void 0&&s.subscriptionId!==void 0)n=s.subscriptionId;else if((n!==void 0||s.subscriptionId!==void 0)&&s.subscriptionId!==n)throw new De(`Invalid subscription ID ${s.subscriptionId} received`);if(cu.debug(`Received DataReport chunk with ${s.attributeReports?.length??0} attributes and ${s.eventReports?.length??0} events, suppressResponse: ${s.suppressResponse}, moreChunkedMessages: ${s.moreChunkedMessages}`),Array.isArray(s.attributeReports)&&s.attributeReports.length>0&&i.push(...s.attributeReports),Array.isArray(s.eventReports)&&s.eventReports.length>0&&r.push(...s.eventReports),(s.moreChunkedMessages||t&&!s.suppressResponse)&&await this.sendStatus(ue.Success),!s.moreChunkedMessages)return s.attributeReports=i,s.eventReports=r,s}}},Tv=class extends Gp{constructor(t){super(t.initiateExchange()),this.exchangeProvider=t}async send(t,n,i){try{if(this.exchange.channel.closed)throw new $c("The exchange channel is closed. Please connect the device first.");return await this.exchange.send(t,n,i)}catch(r){if(r instanceof Ur||r instanceof $c){if(cu.info(`${r instanceof Ur?"Retransmission limit reached":"Channel not connected"}, trying to reconnect and resend the message.`),await this.exchange.close(),await this.exchangeProvider.reconnectChannel())return this.exchange=this.exchangeProvider.initiateExchange(),await this.exchange.send(t,n,i)}else throw r}}async sendReadRequest(t){return await this.send(2,m5.encode(t)),this.readDataReports()}#e(t){let n=Ap.encode(t);if(n.length<=this.exchange.maxPayloadSize)return n;let i=t.dataVersionFilters??[];t.dataVersionFilters=[];let r=Ap.encode(t);if(r.length>this.exchange.maxPayloadSize)throw new ze(`SubscribeRequest is too long to fit in a single chunk, This should not happen! Data: ${J.toJSON(t)}`);let a=this.exchange.maxPayloadSize-r.length;for(;a>0&&i.length>0;){let s=i.shift();if(s===void 0)break;let l=Pm.encodeTlv(s).length;if(l>a){i.unshift(s);break}t.dataVersionFilters.push(s),a-=l}return cu.debug(`Removed ${i.length} DataVersionFilters from SubscribeRequest to fit into a single message`),Ap.encode(t)}async sendSubscribeRequest(t){let n=this.#e(t);await this.send(3,n);let i=await this.readDataReports(),{subscriptionId:r}=i;if(r===void 0)throw new De("Subscription ID not provided in report");let a=await this.nextMessage(4),s=Pg.decode(a.payload);if(s.subscriptionId!==r)throw new ze(`Received subscription ID ${s.subscriptionId} instead of ${r}`);return{subscribeResponse:s,report:i}}async sendInvokeCommand(t,n){if(t.suppressResponse)await this.requestWithSuppressedResponse(8,Og,t,n);else return await this.request(8,Og,9,Rg,t,n)}async sendWriteCommand(t){if(t.suppressResponse)await this.requestWithSuppressedResponse(6,kg,t);else return await this.request(6,kg,7,f5,t)}sendTimedRequest(t){return this.request(10,h5,1,Ip,{timeout:t,interactionModelRevision:jt.INTERACTION_MODEL_REVISION})}async requestWithSuppressedResponse(t,n,i,r){await this.send(t,n.encode(i),{expectAckOnly:!0,expectedProcessingTimeMs:r})}async request(t,n,i,r,a,s){await this.send(t,n.encode(a),{expectAckOnly:!1,expectedProcessingTimeMs:s});let c=await this.nextMessage(i,s);return r.decode(c.payload)}};var bM=J.get("Subscription"),Sv=class{#e;#t;#n;#i;#o;constructor(t,n,i){this.#e=t,this.#t=n,this.#o=i,this.#e.subscriptions.add(this),bM.debug(`Added subscription ${this.#t} to ${this.#e.name}`)}get id(){return this.#t}get criteria(){return this.#o}get isClosed(){return!!this.#n}get isCanceledByPeer(){return!!this.#i}get session(){return this.#e}async update(){}set isCanceledByPeer(t){this.#i=t}set isClosed(t){this.#n=t}async close(t=!0){this.#n=!0,this.#e.subscriptions.delete(this),bM.debug(`Removed subscription ${this.id} from ${this.#e.name}`)}};var Vi=J.get("ServerSubscription"),tW=60*60,nW=3*60,xM=2,iW=10,wM;(e=>{function t(n){return{maxIntervalSeconds:n?.maxIntervalSeconds??nW,minIntervalSeconds:Math.max(n?.minIntervalSeconds??xM,xM),randomizationWindowSeconds:n?.randomizationWindowSeconds??iW}}e.of=t})(wM||(wM={}));var Iv=class extends Sv{#e;#t;#n=0;#i;#o;#r=new Map;#a=new Set;#s=new Map;#c=new Map;#l=!1;#m;#d;minIntervalFloorMs;maxIntervalCeilingMs;peerAddress;sendingUpdateInProgress=!1;sendNextUpdateImmediately=!1;sendUpdateErrorCounter=0;attributeUpdatePromises=new Set;constructor(t){let{id:n,context:i,criteria:r,minIntervalFloor:a,maxIntervalCeiling:s,subscriptionOptions:c}=t;super(i.session,n,r),this.#e=i,this.#t=i.structure,this.peerAddress=this.session.peerAddress,this.minIntervalFloorMs=a*1e3,this.maxIntervalCeilingMs=s*1e3;let{maxInterval:l,sendInterval:d}=this.determineSendingIntervals(c.minIntervalSeconds*1e3,c.maxIntervalSeconds*1e3,c.randomizationWindowSeconds*1e3);this.#m=l,this.#d=d,this.#i=Ne.getTimer("Subscription update",this.#d,()=>this.prepareDataUpdate()),this.#o=Ne.getTimer("Subscription delay",50,()=>this.sendUpdate().catch(f=>Vi.warn("Sending subscription update failed:",f)))}determineSendingIntervals(t,n,i){let r=Math.min(Math.max(t,Math.max(this.minIntervalFloorMs,Math.min(n,this.maxIntervalCeilingMs)))+Math.floor(i*Math.random()),tW*1e3),a=Math.floor(r/2);return a<6e4&&(a=Math.max(this.minIntervalFloorMs,Math.floor(r*.8))),a<t&&(Vi.warn(`Determined subscription send interval of ${a}ms is too low. Using maxInterval (${r}ms) instead.`),a=t),{maxInterval:r,sendInterval:a}}registerNewAttributes(){let t=new Array,n=new Array,i=new Set(this.#s.keys());return this.criteria.attributeRequests!==void 0&&this.criteria.attributeRequests.forEach(r=>{let a=this.#t.getAttributes([r]);if(a.length===0){let{endpointId:s,clusterId:c,attributeId:l}=r;if(s===void 0||c===void 0||l===void 0)Vi.debug(`Subscription attribute ${this.#t.resolveAttributeName(r)}: ignore non-existing attribute`);else try{throw this.#t.validateConcreteAttributePath(s,c,l),new Re("validateConcreteAttributePath check should throw StatusResponseError but did not.")}catch(d){ve.accept(d),Vi.debug(`Subscription attribute ${this.#t.resolveAttributeName(r)}: unsupported path: Status=${d.code}`),n.push({path:r,status:{status:d.code}})}return}a.forEach(({path:s,attribute:c})=>{i.delete(bi(s));let l=this.#s.get(bi(s));if(l!==void 0){let{attribute:d,listener:f}=l;if(d!==c)f!==void 0&&d.removeValueChangeListener(f),this.#s.delete(bi(s));else return}if(c.isSubscribable){let d=(f,g)=>this.attributeChangeListener(s,c.schema,g,f);c.addValueChangeListener(d),this.#s.set(bi(s),{attribute:c,listener:d})}else this.#s.set(bi(s),{attribute:c});t.push({path:s,attribute:c})})}),this.unregisterAttributeListeners(Array.from(i.values())),{newAttributes:t,attributeErrors:n}}unregisterAttributeListeners(t){for(let n of t){let i=this.#s.get(n);if(i!==void 0){let{attribute:r,listener:a}=i;a!==void 0&&r.removeValueChangeListener(a),this.#s.delete(n)}}}registerNewEvents(){let t=new Array,n=new Array,i=new Set(this.#c.keys());return this.criteria.eventRequests!==void 0&&this.criteria.eventRequests.forEach(r=>{let a=this.#t.getEvents([r]);if(a.length===0){let{endpointId:s,clusterId:c,eventId:l}=r;if(s===void 0||c===void 0||l===void 0)Vi.debug(`Subscription event ${this.#t.resolveEventName(r)}: ignore non-existing event`);else try{throw this.#t.validateConcreteEventPath(s,c,l),new Re("validateConcreteEventPath should throw StatusResponseError but did not.")}catch(d){ve.accept(d),Vi.debug(`Subscription event ${this.#t.resolveEventName(r)}: unsupported path: Status=${d.code}`),n.push({path:r,status:{status:d.code}})}return}a.forEach(({path:s,event:c})=>{i.delete(pa(s));let l=this.#c.get(pa(s));if(l!==void 0){let{event:f,listener:g}=l;if(f!==c)g!==void 0&&f.removeListener(g),this.#c.delete(pa(s));else return}let d=f=>this.eventChangeListener(s,c.schema,f);c.addListener(d),t.push({path:s,event:c}),this.#c.set(pa(s),{event:c,listener:d})})}),this.unregisterEventListeners(Array.from(i.values())),{newEvents:t,eventErrors:n}}unregisterEventListeners(t){for(let n of t){let i=this.#c.get(n);if(i!==void 0){let{event:r,listener:a}=i;a!==void 0&&r.removeListener(a),this.#c.delete(n)}}}async updateSubscription(){let{newAttributes:t}=this.registerNewAttributes();for(let{path:i,attribute:r}of t){let{version:a,value:s}=await this.#e.readAttribute(i,r);this.#r.set(bi(i),{attribute:r,path:i,schema:r.schema,version:a,value:s})}let{newEvents:n}=this.registerNewEvents();n.flatMap(({path:i,event:r})=>{let{schema:a}=r;return r.get(this.session,this.criteria.isFabricFiltered,void 0,this.criteria.eventFilters).map(c=>({event:r,schema:a,path:i,data:c}))}).sort((i,r)=>{let a=i.data?.eventNumber??da(0),s=r.data?.eventNumber??da(0);return a>s?1:a<s?-1:0}).forEach(i=>this.#a.add(i)),this.prepareDataUpdate()}get maxInterval(){return Math.ceil(this.#m/1e3)}get sendInterval(){return Math.ceil(this.#d/1e3)}activateSendingUpdates(){this.criteria.eventFilters!==void 0&&(this.criteria.eventFilters.length=0),this.criteria.dataVersionFilters!==void 0&&(this.criteria.dataVersionFilters.length=0),this.#l=!0,(this.#r.size>0||this.#a.size>0)&&this.sendUpdate(),this.#i=Ne.getTimer("Subscription update",this.#d,()=>this.prepareDataUpdate()).start()}prepareDataUpdate(){if(this.#o.isRunning||!this.#l)return;this.#i.stop();let n=Ne.nowMs()-this.#n;if(n<this.minIntervalFloorMs){this.#i=Ne.getTimer("Subscription update",this.minIntervalFloorMs-n,()=>this.prepareDataUpdate()).start();return}this.#o.start(),this.#i=Ne.getTimer("Subscription update",this.#d,()=>this.prepareDataUpdate()).start()}async sendUpdate(){if(this.sendingUpdateInProgress){Vi.debug("Sending update already in progress, delaying update ..."),this.sendNextUpdateImmediately=!0;return}let t=new Array,n={};Array.from(this.#r.values()).forEach(r=>{let{path:{nodeId:a,endpointId:s,clusterId:c}}=r,l=`${a}-${s}-${c}`;n[l]=n[l]??[],n[l].push(r)}),this.#r.clear(),Object.values(n).forEach(r=>t.push(...r.sort(({version:a},{version:s})=>a-s)));let i=Array.from(this.#a.values());this.#a.clear(),this.#n=Ne.nowMs(),this.sendingUpdateInProgress=!0;try{await this.sendUpdateMessage(t,i),this.sendUpdateErrorCounter=0}catch(r){if(this.isClosed)return;if(this.sendUpdateErrorCounter++,Vi.error(`Error sending subscription update message (error count=${this.sendUpdateErrorCounter}):`,r),this.sendUpdateErrorCounter<=2){let a=Array.from(this.#r.values());this.#r.clear();let s=Array.from(this.#a.values());this.#a.clear(),[...t,...a].forEach(c=>this.#r.set(bi(c.path),c)),[...i,...s].forEach(c=>this.#a.add(c))}else if(Vi.error(`Sending update failed 3 times in a row, canceling subscription ${this.id} and let controller subscribe again.`),this.sendNextUpdateImmediately=!1,r instanceof ci||r instanceof zr||r instanceof qc)await this.session.destroy(!1);else throw r}this.sendingUpdateInProgress=!1,this.sendNextUpdateImmediately&&(Vi.debug("Sending delayed update immediately after last one was sent."),this.sendNextUpdateImmediately=!1,await this.sendUpdate())}async sendInitialReport(t){this.#i.stop();let{newAttributes:n,attributeErrors:i}=this.registerNewAttributes(),r=new Map(this.criteria.dataVersionFilters?.map(({path:b,dataVersion:w})=>[Fo(b),w])??[]),a=!1,s=new Array;for(let{path:b,attribute:w}of n)try{let{value:O,version:D}=await this.#e.readAttribute(b,w);if(O===void 0)continue;let{nodeId:y,endpointId:S,clusterId:L}=b,H=S!==void 0&&L!==void 0?r.get(Fo({nodeId:y,endpointId:S,clusterId:L})):void 0;if(H!==void 0&&H===D){a=!0;continue}s.push({path:b,value:O,version:D,schema:w.schema,attribute:w})}catch(O){Vi.error(`Error reading attribute ${this.#t.resolveAttributeName(b)}:`,O)}let c=s.map(({path:b,schema:w,value:O,version:D,attribute:y})=>({hasFabricSensitiveData:y.hasFabricSensitiveData,attributeData:{path:b,dataVersion:D,payload:O,schema:w}}));i.forEach(b=>c.push({hasFabricSensitiveData:!1,attributeStatus:b}));let{newEvents:l,eventErrors:d}=this.registerNewEvents(),f=!1,g=new Array;for(let{path:b,event:w}of l){let{schema:O}=w;try{let D=await this.#e.readEvent(b,w,this.criteria.eventFilters);D.length===0?f=!0:D.forEach(({eventNumber:y,priority:S,epochTimestamp:L,data:H})=>{g.push({hasFabricSensitiveData:w.hasFabricSensitiveData,eventData:{path:b,eventNumber:y,priority:S,epochTimestamp:L,payload:H,schema:O}})})}catch(D){Vi.error(`Error reading event ${this.#t.resolveEventName(b)}:`,D)}}if(g.sort((b,w)=>{let O=b.eventData?.eventNumber??0,D=w.eventData?.eventNumber??0;return O>D?1:O<D?-1:0}),s.length===0&&!a&&g.length===0&&!f)throw new ve("Subscription failed because no attributes or events are matching the query",ue.InvalidAction);d.forEach(b=>g.push({hasFabricSensitiveData:!1,eventStatus:b})),Vi.debug(`Initialize Subscription with ${s.length} attributes and ${g.length} events.`),this.#n=Ne.nowMs(),await t.sendDataReport({suppressResponse:!1,subscriptionId:this.id,interactionModelRevision:jt.INTERACTION_MODEL_REVISION,attributeReportsPayload:c,eventReportsPayload:g},this.criteria.isFabricFiltered)}attributeChangeListener(t,n,i,r){let a=this.attributeChangeHandler(t,n,i,r);if(Pe.is(a)){let s=Promise.resolve(a).catch(c=>Vi.error("Error handling attribute change:",c)).finally(()=>this.attributeUpdatePromises.delete(s));this.attributeUpdatePromises.add(s)}}attributeChangeHandler(t,n,i,r){let a=this.#s.get(bi(t));if(a===void 0)return;let{attribute:s}=a;if(s instanceof Vc)return this.#e.readAttribute(t,s,!0).then(({value:c})=>{this.#r.set(bi(t),{attribute:s,path:t,schema:n,version:i,value:c}),this.prepareDataUpdate()});this.#r.set(bi(t),{attribute:s,path:t,schema:n,version:i,value:r}),this.prepareDataUpdate()}eventChangeListener(t,n,i){let r=this.#c.get(pa(t));if(r===void 0)return;let{event:a}=r;if(a instanceof zg){let{data:s}=i;if(cn(s)&&"fabricIndex"in s&&s.fabricIndex!==this.session.fabric?.fabricIndex)return}this.#a.add({event:a,path:t,schema:n,data:i}),t.isUrgent&&this.prepareDataUpdate()}async flush(){this.#o.stop(),Vi.debug(`Flushing subscription ${this.id} with ${this.#r.size} attributes and ${this.#a.size} events`),(this.#r.size>0||this.#a.size>0)&&this.sendUpdate()}async close(t=!1){if(this.isClosed=!0,this.#l=!1,this.attributeUpdatePromises.size){let n=[...this.attributeUpdatePromises.values()];this.attributeUpdatePromises.clear(),await Promise.all(n)}this.#i.stop(),this.#o.stop(),this.unregisterAttributeListeners(Array.from(this.#s.keys())),this.unregisterEventListeners(Array.from(this.#c.keys())),t&&await this.flush(),await super.close()}async sendUpdateMessage(t,n){Vi.debug(`Sending subscription update message for ID ${this.id} with ${t.length} attributes and ${n.length} events`);let i=this.#e.initiateExchange(this.peerAddress,1);if(i===void 0)return;Vi.debug(`Sending subscription changes for ID ${this.id}: ${t.map(({path:a,value:s,version:c})=>`${this.#t.resolveAttributeName(a)}=${J.toJSON(s)} (${c})`).join(", ")}`);let r=new Wc(i);try{t.length===0&&n.length===0?await r.sendDataReport({suppressResponse:!0,subscriptionId:this.id,interactionModelRevision:jt.INTERACTION_MODEL_REVISION},this.criteria.isFabricFiltered):await r.sendDataReport({suppressResponse:!1,subscriptionId:this.id,interactionModelRevision:jt.INTERACTION_MODEL_REVISION,attributeReportsPayload:t.map(({path:a,schema:s,value:c,version:l,attribute:d})=>({hasFabricSensitiveData:d.hasFabricSensitiveData,attributeData:{path:a,dataVersion:l,schema:s,payload:c}})),eventReportsPayload:n.map(({path:a,schema:s,event:c,data:l})=>{let{eventNumber:d,priority:f,epochTimestamp:g,data:b}=l;return{hasFabricSensitiveData:c.hasFabricSensitiveData,eventData:{path:a,eventNumber:d,priority:f,epochTimestamp:g,schema:s,payload:b}}})},this.criteria.isFabricFiltered)}catch(a){ve.is(a,ue.InvalidSubscription,ue.Failure)?(Vi.info(`Subscription ${this.id} cancelled by peer.`),this.isCanceledByPeer=!0,await this.close(!1)):(ve.accept(a),Vi.info(`Subscription ${this.id} update failed:`,a),await this.close(!1))}finally{await r.close()}}};var Av;(e=>{function t(n){return{maxIntervalSeconds:n?.maxIntervalSeconds??180,minIntervalSeconds:Math.max(n?.minIntervalSeconds??2,2),randomizationWindowSeconds:n?.randomizationWindowSeconds??10}}e.of=t})(Av||(Av={}));var Dt=J.get("InteractionServer");function Kp(e,t,n){return`${e}/${t}/${n}`}function Km({endpointId:e,clusterId:t,commandId:n}){return Kp(e,t,n)}function bi({endpointId:e,clusterId:t,attributeId:n}){return Kp(e,t,n)}function pa({endpointId:e,clusterId:t,eventId:n}){return Kp(e,t,n)}function Fo({nodeId:e,endpointId:t,clusterId:n}){return`${e}/${t}/${n}`}function zp(e){let{endpointId:t,clusterId:n,attributeId:i}=e;return t!==void 0&&n!==void 0&&i!==void 0}function TM(e,t=!1){if(t)throw new ve("Illegal read request with group session",ue.InvalidAction);let{clusterId:n,attributeId:i}=e;if(n===void 0&&i!==void 0&&!sg.has(i))throw new ve(`Illegal read request for wildcard cluster and non global attribute ${i}`,ue.InvalidAction)}function rW(e,t=!1){let{endpointId:n,clusterId:i,attributeId:r}=e;if(i===void 0||r===void 0)throw new ve("Illegal write request with wildcard cluster or attribute ID",ue.InvalidAction);if(t&&n!==void 0)throw new ve("Illegal write request with group ID and endpoint ID",ue.InvalidAction)}function CM(e){let{endpointId:t,clusterId:n,eventId:i}=e;return t!==void 0&&n!==void 0&&i!==void 0}function SM(e,t=!1){let{clusterId:n,eventId:i}=e;if(n===void 0&&i!==void 0)throw new ve("Illegal read request with wildcard cluster ID",ue.InvalidAction);if(t)throw new ve("Illegal read request with group session",ue.InvalidAction)}function Z5(e){let{endpointId:t,clusterId:n,commandId:i}=e;return t!==void 0&&n!==void 0&&i!==void 0}function oW(e,t=!1){let{endpointId:n,clusterId:i,commandId:r}=e;if(i===void 0||r===void 0)throw new ve("Illegal write request with wildcard cluster or attribute ID",ue.InvalidAction);if(t&&n!==void 0)throw new ve("Illegal write request with group ID and endpoint ID",ue.InvalidAction)}function IM(e){return kr.standard.get(Me,e)}function aW(e,t){return IM(e)?.get(xn,t)}function sW(e,t){return IM(e)?.get(Fa,t)}var Mv=class{#e;#t=qe.getRandomUInt32();#n=!1;#i;#o;constructor(t){this.#e=t,this.#i=Av.of(t.subscriptionOptions),this.#o=t.maxPathsPerInvoke??10,this.#e.structure.change.on(async()=>{this.#e.sessions.updateAllSubscriptions()})}getId(){return 1}get isClosing(){return this.#n}get maxPathsPerInvoke(){return this.#o}async onNewExchange(t){this.#n||await new Wc(t).handleRequest(this)}async handleReadRequest(t,{attributeRequests:n,dataVersionFilters:i,eventRequests:r,eventFilters:a,isFabricFiltered:s,interactionModelRevision:c},l){if(Dt.debug(`Received read request from ${t.channel.name}: attributes:${n?.map(b=>this.#r.resolveAttributeName(b)).join(", ")??"none"}, events:${r?.map(b=>this.#r.resolveEventName(b)).join(", ")??"none"} isFabricFiltered=${s}`),c>jt.INTERACTION_MODEL_REVISION&&Dt.debug(`Interaction model revision of sender ${c} is higher than supported ${jt.INTERACTION_MODEL_REVISION}.`),n===void 0&&r===void 0)throw new ve("Only Read requests with attributeRequests or eventRequests are supported right now",ue.UnsupportedRead);if(l.packetHeader.sessionType!==xr.Unicast)throw new ve("Subscriptions are only allowed on unicast sessions",ue.InvalidAction);let d=new Map(i?.map(({path:b,dataVersion:w})=>[Fo(b),w])??[]);d.size>0&&Dt.debug(`DataVersionFilters: ${Array.from(d.entries()).map(([b,w])=>`${b}=${w}`).join(", ")}`);let f=new Array;for(let b of n??[]){TM(b);let w=this.#r.getAttributes([b]);if(w.length===0){if(zp(b)){let{endpointId:O,clusterId:D,attributeId:y}=b;try{throw this.#r.validateConcreteAttributePath(O,D,y),new Re("validateConcreteAttributePath should throw StatusResponseError but did not.")}catch(S){ve.accept(S),Dt.debug(`Error reading attribute from ${t.channel.name}: ${this.#r.resolveAttributeName(b)}: unsupported path: Status=${S.code}`),f.push({hasFabricSensitiveData:!1,attributeStatus:{path:b,status:{status:S.code}}})}}Dt.debug(`Read from ${t.channel.name}: ${this.#r.resolveAttributeName(b)}: ${this.#r.resolveAttributeName(b)}: ignore non-existing attribute`);continue}for(let{path:O,attribute:D}of w){let{nodeId:y,endpointId:S,clusterId:L}=O;try{if(aW(L,D.id)?.readable===!1)throw new ve(`Attribute ${D.id} is not readable.`,ue.UnsupportedRead);let H,oe;try{({value:H,version:oe}=await this.readAttribute(O,D,t,s,l,this.#r.getEndpoint(S)))}catch(N){if(ma.accept(N),S===void 0||L===void 0)throw new ze("Should never happen");let q=this.#r.getClusterServer(S,L);if(q===void 0||q.datasource==null)throw new ze("Should never happen");oe=q.datasource.version,H=[]}let z=S!==void 0&&L!==void 0?d.get(Fo({nodeId:y,endpointId:S,clusterId:L})):void 0;if(z!==void 0&&z===oe){Dt.debug(`Read attribute from ${t.channel.name}: ${this.#r.resolveAttributeName(O)}=${J.toJSON(H)} (version=${oe}) ignored because of dataVersionFilter`);continue}Dt.debug(`Read attribute from ${t.channel.name}: ${this.#r.resolveAttributeName(O)}=${J.toJSON(H)} (version=${oe})`);let{schema:Q}=D;f.push({hasFabricSensitiveData:D.hasFabricSensitiveData,attributeData:{path:O,dataVersion:oe,payload:H,schema:Q}})}catch(H){Dt.error(`Error while reading attribute from ${t.channel.name} to ${this.#r.resolveAttributeName(O)}:`,H),ve.accept(H),zp(b)&&f.push({hasFabricSensitiveData:!1,attributeStatus:{path:O,status:{status:H.code}}})}}}let g;if(r){g=[];for(let b of r){SM(b);let w=this.#r.getEvents([b]);if(w.length===0){if(CM(b)){let{endpointId:D,clusterId:y,eventId:S}=b;try{throw this.#r.validateConcreteEventPath(D,y,S),new Re("validateConcreteEventPath should throw StatusResponseError but did not.")}catch(L){ve.accept(L),Dt.debug(`Read event from ${t.channel.name}: ${this.#r.resolveEventName(b)}: unsupported path: Status=${L.code}`),g?.push({hasFabricSensitiveData:!1,eventStatus:{path:b,status:{status:L.code}}})}}Dt.debug(`Read event from ${t.channel.name}: ${this.#r.resolveEventName(b)}: ignore non-existing event`);continue}let O=new Array;for(let{path:D,event:y}of w)try{let{endpointId:S}=D,L=await this.readEvent(D,a,y,t,s,l,this.#r.getEndpoint(S));Dt.debug(`Read event from ${t.channel.name}: ${this.#r.resolveEventName(D)}=${J.toJSON(L)}`);let{schema:H}=y;O.push(...L.map(({eventNumber:oe,priority:z,epochTimestamp:Q,data:N})=>({hasFabricSensitiveData:y.hasFabricSensitiveData,eventData:{path:D,eventNumber:oe,priority:z,epochTimestamp:Q,payload:N,schema:H}})))}catch(S){Dt.error(`Error while reading event from ${t.channel.name} to ${this.#r.resolveEventName(D)}:`,S),ve.accept(S),CM(b)&&g?.push({hasFabricSensitiveData:!1,eventStatus:{path:D,status:{status:S.code}}})}g.push(...O.sort((D,y)=>{let S=D.eventData?.eventNumber??da(0),L=y.eventData?.eventNumber??da(0);return S>L?1:S<L?-1:0}))}}return{interactionModelRevision:jt.INTERACTION_MODEL_REVISION,suppressResponse:!0,attributeReportsPayload:f,eventReportsPayload:g}}async readAttribute(t,n,i,r,a,s,c=!1){return n.getWithVersion(i.session,r,c?void 0:a)}async readEvent(t,n,i,r,a,s,c){return i.get(r.session,a,s,n)}async handleWriteRequest(t,{suppressResponse:n,timedRequest:i,writeRequests:r,interactionModelRevision:a,moreChunkedMessages:s},c){let l=c.packetHeader.sessionType;if(Dt.debug(`Received write request from ${t.channel.name}: ${r.map(S=>this.#r.resolveAttributeName(S.path)).join(", ")}, suppressResponse=${n}, moreChunkedMessages=${s}`),s&&n)throw new ve("MoreChunkedMessages and SuppressResponse cannot be used together in write messages",ue.InvalidAction);a>jt.INTERACTION_MODEL_REVISION&&Dt.debug(`Interaction model revision of sender ${a} is higher than supported ${jt.INTERACTION_MODEL_REVISION}.`);let d=t.hasActiveTimedInteraction();if(d&&s)throw new ve("Write Request action that is part of a Timed Write Interaction SHALL NOT be chunked.",ue.InvalidAction);if(t.hasExpiredTimedInteraction())throw t.clearTimedInteraction(),new ve("Timed request window expired. Decline write request.",ue.Timeout);if(i!==t.hasTimedInteraction())throw new ve(`timedRequest flag of write interaction (${i}) mismatch with expected timed interaction (${d}).`,ue.TimedRequestMismatch);if(d&&(Dt.debug(`Write request from ${t.channel.name} successfully received while timed interaction is running.`),t.clearTimedInteraction(),l!==xr.Unicast))throw new ve("Write requests are only allowed on unicast sessions when a timed interaction is running.",ue.InvalidAction);if(l===xr.Group&&!n)throw new ve("Write requests are only allowed as group casts when suppressResponse=true.",ue.InvalidAction);let f=k5(r,!0),g=new Array,b=new Set,w=new Map,O=new Set;for(let S of f){let{path:L,dataVersion:H}=S;rW(L);let oe=this.#r.getAttributes([L],!0);if(oe.length===0){if(zp(L)){let{endpointId:z,clusterId:Q,attributeId:N}=L;try{throw this.#r.validateConcreteAttributePath(z,Q,N),new ve(`Attribute ${N} is not writable.`,ue.UnsupportedWrite)}catch(q){ve.accept(q),Dt.debug(`Write from ${t.channel.name}: ${this.#r.resolveAttributeName(L)} not allowed: Status=${q.code}`),g.push({path:L,statusCode:q.code})}}else Dt.debug(`Write from ${t.channel.name}: ${this.#r.resolveAttributeName(L)}: ignore non-existing (wildcard) attribute`);continue}if(oe.length===1&&zp(L)){let{endpointId:z,clusterId:Q}=L,{attribute:N}=oe[0];if(N.requiresTimedInteraction&&!d){Dt.debug("This write requires a timed interaction which is not initialized."),g.push({path:L,statusCode:ue.NeedsTimedInteraction});continue}if(N instanceof Vc&&(!t.session.isSecure||!t.session.fabric)){Dt.debug("This write requires a secure session with a fabric assigned which is missing."),g.push({path:L,statusCode:ue.UnsupportedAccess});continue}if(H!==void 0){let q=this.#r.getClusterServer(z,Q)?.datasource,{nodeId:G}=L,te=Fo({nodeId:G,endpointId:z,clusterId:Q}),K=w.get(te)??q?.version;if(K!==void 0){if(H!==K){Dt.debug(`This write requires a specific data version (${H}) which do not match the current cluster data version (${K}).`),g.push({path:L,statusCode:ue.DataVersionMismatch});continue}w.set(te,K)}}}for(let{path:z,attribute:Q}of oe){let{schema:N,defaultValue:q}=Q,G=bi(z);try{if(!(Q instanceof Uc)&&!(Q instanceof Vc))throw new ve("Fixed attributes cannot be written",ue.UnsupportedWrite);if(O.has(G)){Dt.debug("This write is not allowed due to previous access denied.");continue}let{endpointId:te}=z,{listIndex:K}=L,ae=K===void 0?L5(N,[S],q):F5(N,[S],(await this.readAttribute(z,Q,t,!0,c,this.#r.getEndpoint(te))).value??q);if(Dt.debug(`Handle write request from ${t.channel.name} resolved to: ${this.#r.resolveAttributeName(z)}=${J.toJSON(ae)} (listIndex=${K}, for-version=${H})`),Q.requiresTimedInteraction&&!d)throw Dt.debug("This write requires a timed interaction which is not initialized."),new ve("This write requires a timed interaction which is not initialized.",ue.NeedsTimedInteraction);await this.writeAttribute(z,Q,ae,t,c,this.#r.getEndpoint(te),d,N instanceof Xr),N instanceof Xr&&!b.has(Q)&&b.add(Q)}catch(te){if(ve.is(te,ue.UnsupportedAccess)&&O.add(G),oe.length===1&&zp(L)){if(Dt.error(`Error while handling write request from ${t.channel.name} to ${this.#r.resolveAttributeName(z)}:`,te instanceof ve?te.message:te),te instanceof ve){g.push({path:z,statusCode:te.code,clusterStatusCode:te.clusterCode});continue}g.push({path:z,statusCode:ue.ConstraintError});continue}else Dt.debug(`While handling write request from ${t.channel.name} to ${this.#r.resolveAttributeName(z)} ignored: ${te.message}`)}g.push({path:z,statusCode:ue.Success})}}let D=g.filter(({statusCode:S})=>S!==ue.Success);Dt.debug(`Write request from ${t.channel.name} done ${D.length?`with following errors: ${D.map(({path:S,statusCode:L})=>`${this.#r.resolveAttributeName(S)}=${J.toJSON(L)}`).join(", ")}`:"without errors"}`);let y={interactionModelRevision:jt.INTERACTION_MODEL_REVISION,writeResponses:g.map(({path:S,statusCode:L,clusterStatusCode:H})=>({path:S,status:{status:L,clusterStatus:H}}))};for(let S of b.values())try{S.triggerDelayedChangeEvents()}catch(L){Dt.error(`Ignored Error while writing attribute from ${t.channel.name} to ${S.name}:`,L)}return y}async writeAttribute(t,n,i,r,a,s,c,l=!1){n.set(i,r.session,a,l)}async handleSubscribeRequest(t,{minIntervalFloorSeconds:n,maxIntervalCeilingSeconds:i,attributeRequests:r,dataVersionFilters:a,eventRequests:s,eventFilters:c,keepSubscriptions:l,isFabricFiltered:d,interactionModelRevision:f},g,b){if(Dt.debug(`Received subscribe request from ${t.channel.name} (keepSubscriptions=${l}, isFabricFiltered=${d})`),f>jt.INTERACTION_MODEL_REVISION&&Dt.debug(`Interaction model revision of sender ${f} is higher than supported ${jt.INTERACTION_MODEL_REVISION}.`),b.packetHeader.sessionType!==xr.Unicast)throw new ve("Subscriptions are only allowed on unicast sessions",ue.InvalidAction);wr(t.session,"Subscriptions are only implemented on secure sessions");let w=t.session,O=w.fabric;if(O===void 0)throw new ve("Subscriptions are only implemented after a fabric has been assigned",ue.InvalidAction);if(l||(Dt.debug(`Clear subscriptions for Subscriber node ${w.peerNodeId} because keepSubscriptions=false`),await this.#e.sessions.clearSubscriptionsForNode(O.fabricIndex,w.peerNodeId,!0)),(!Array.isArray(r)||r.length===0)&&(!Array.isArray(s)||s.length===0))throw new ve("No attributes or events requested",ue.InvalidAction);if(Dt.debug(`Subscribe to attributes:${r?.map(H=>this.#r.resolveAttributeName(H)).join(", ")??"none"}, events:${s?.map(H=>this.#r.resolveEventName(H)).join(", ")??"none"}`),a!==void 0&&a.length>0&&Dt.debug(`DataVersionFilters: ${a.map(({path:{nodeId:H,endpointId:oe,clusterId:z},dataVersion:Q})=>`${Fo({nodeId:H,endpointId:oe,clusterId:z})}=${Q}`).join(", ")}`),c!==void 0&&c.length>0&&Dt.debug(`Event filters: ${c.map(H=>`${H.nodeId}/${H.eventMin}`).join(", ")}`),r?.forEach(H=>TM(H)),s?.forEach(H=>SM(H)),n<0)throw new ve("minIntervalFloorSeconds should be greater or equal to 0",ue.InvalidAction);if(i<0)throw new ve("maxIntervalCeilingSeconds should be greater or equal to 1",ue.InvalidAction);if(i<n)throw new ve("maxIntervalCeilingSeconds should be greater or equal to minIntervalFloorSeconds",ue.InvalidAction);this.#t===4294967295&&(this.#t=0);let D=this.#t++,y={session:w,structure:this.#r,readAttribute:(H,oe,z)=>this.readAttribute(H,oe,t,d,b,this.#r.getEndpoint(H.endpointId),z),readEvent:(H,oe,z)=>this.readEvent(H,z,oe,t,d,b,this.#r.getEndpoint(H.endpointId)),initiateExchange:(H,oe)=>this.#e.initiateExchange(H,oe)},S=new Iv({id:D,context:y,criteria:{attributeRequests:r,dataVersionFilters:a,eventRequests:s,eventFilters:c,isFabricFiltered:d},minIntervalFloor:n,maxIntervalCeiling:i,subscriptionOptions:this.#i});try{await S.sendInitialReport(g)}catch(H){Dt.error(`Subscription ${D} for Session ${w.id}: Error while sending initial data reports`,H),await S.close(),H instanceof ve&&(Dt.info(`Sending status response ${H.code} for interaction error: ${H.message}`),await g.sendStatus(H.code)),await g.close();return}let L=S.maxInterval;Dt.info(`Successfully created subscription ${D} for Session ${w.id}. Updates: ${n} - ${i} => ${L} seconds (sendInterval = ${S.sendInterval} seconds)`),await g.send(Cv.SubscribeResponse,Pg.encode({subscriptionId:D,maxInterval:L,interactionModelRevision:jt.INTERACTION_MODEL_REVISION})),S.activateSendingUpdates()}async handleInvokeRequest(t,{invokeRequests:n,timedRequest:i,suppressResponse:r,interactionModelRevision:a},s,c){Dt.debug(`Received invoke request from ${t.channel.name}${n.length>0?` with ${n.length} commands`:""}: ${n.map(({commandPath:{endpointId:D,clusterId:y,commandId:S}})=>this.#r.resolveCommandName({endpointId:D,clusterId:y,commandId:S})).join(", ")}, suppressResponse=${r}`),a>jt.INTERACTION_MODEL_REVISION&&Dt.debug(`Interaction model revision of sender ${a} is higher than supported ${jt.INTERACTION_MODEL_REVISION}.`);let l=t.hasActiveTimedInteraction();if(t.hasExpiredTimedInteraction())throw t.clearTimedInteraction(),new ve("Timed request window expired. Decline invoke request.",ue.Timeout);if(i!==t.hasTimedInteraction())throw new ve(`timedRequest flag of invoke interaction (${i}) mismatch with expected timed interaction (${l}).`,ue.TimedRequestMismatch);if(l&&(Dt.debug(`Invoke request from ${t.channel.name} received while timed interaction is running.`),t.clearTimedInteraction(),c.packetHeader.sessionType!==xr.Unicast))throw new ve("Invoke requests are only allowed on unicast sessions when a timed interaction is running.",ue.InvalidAction);if(n.length>this.#o)throw new ve(`Only ${this.#o} invoke requests are supported in one message. This message contains ${n.length}`,ue.InvalidAction);if(n.forEach(({commandPath:D})=>oW(D)),n.length>1){let D=new Set;n.forEach(({commandPath:y})=>{if(!Z5(y))throw new ve("Wildcard paths are not supported in multi-command invoke requests",ue.InvalidAction);let S=Km(y);if(D.has(S))throw new ve(`Duplicate command paths (${S}) are not allowed in multi-command invoke requests`,ue.InvalidAction);D.add(S)})}let d=c.packetHeader.sessionType===xr.Group,f={suppressResponse:!1,interactionModelRevision:jt.INTERACTION_MODEL_REVISION,invokeResponses:[],moreChunkedMessages:n.length>1},g=u5.encode(f),b=g.length,w=0,O=async D=>{if(w++,d)return;let y=Dg.encodeTlv(D),S=kn.getEncodedByteLength(y);if(b+S>t.maxPayloadSize||w===n.length){let L=!1;if(b+S<=t.maxPayloadSize&&(f.invokeResponses.push(y),L=!0),f.invokeResponses.length>0&&(n.length>1&&Dt.debug(`Send ${L?"final ":""}invoke response for ${f.invokeResponses} commands`),await s.send(Cv.InvokeResponse,u5.encode({...f,moreChunkedMessages:w<n.length?!0:void 0})),f.invokeResponses=[],b=g.length),!L)return w--,O(D)}else f.invokeResponses.push(y),b+=S};for(let{commandPath:D,commandFields:y,commandRef:S}of n){let L=this.#r.getCommands([D]);if(L.length===0){if(Z5(D)){let{endpointId:oe,clusterId:z,commandId:Q}=D,N;try{throw this.#r.validateConcreteCommandPath(oe,z,Q),new Re("validateConcreteCommandPath should throw StatusResponseError but did not.")}catch(q){ve.accept(q),Dt.debug(`Invoke from ${t.channel.name}: ${this.#r.resolveCommandName(D)} unsupported path: Status=${q.code}`),N={status:{commandPath:D,status:{status:q.code},commandRef:S}}}await O(N)}else Dt.debug(`Invoke from ${t.channel.name}: ${this.#r.resolveCommandName(D)} ignore non-existing command`);continue}let H=Z5(D);for(let{command:oe,path:z}of L){let{endpointId:Q,clusterId:N,commandId:q}=z;if(Q===void 0){Dt.error(`Invoke from ${t.channel.name}: ${this.#r.resolveCommandName(z)} invalid path because empty endpoint!`),H&&await O({status:{commandPath:z,status:{status:ue.UnsupportedEndpoint},commandRef:S}});continue}let G=this.#r.getEndpoint(Q);if(G===void 0){Dt.error(`Invoke from ${t.channel.name}: ${this.#r.resolveCommandName(z)} invalid path because endpoint not found!`),H&&await O({status:{commandPath:z,status:{status:ue.UnsupportedEndpoint},commandRef:S}});continue}if(oe.requiresTimedInteraction&&!l){Dt.debug("This invoke requires a timed interaction which is not initialized."),H&&await O({status:{commandPath:z,status:{status:ue.NeedsTimedInteraction},commandRef:S}});continue}if(sW(N,q)?.fabricScoped&&(!t.session.isSecure||!t.session.fabric)){Dt.debug("This invoke requires a secure session with a fabric assigned which is missing."),H&&await O({status:{commandPath:z,status:{status:ue.UnsupportedAccess},commandRef:S}});continue}let te;try{te=await this.invokeCommand(z,oe,t,y??Fe.encodeTlv(y),c,G,l)}catch(Ce){ve.accept(Ce);let Le=Ce.code,tt=`Error ${fe.hex(Le)}${Ce.clusterCode!==void 0?`/${fe.hex(Ce.clusterCode)}`:""} while invoking command: ${Ce.message}`;Ce instanceof li?(Dt.info(`Validation-${tt}${Ce.fieldName!==void 0?` in field ${Ce.fieldName}`:""}`),Le===ue.InvalidAction&&(Le=ue.InvalidCommand)):Dt.info(tt),te={code:Le,clusterCode:Ce.clusterCode,responseId:oe.responseId,response:ne.encodeTlv()}}let{code:K,clusterCode:ae,responseId:pe,response:he}=te;he.length===0?await O({status:{commandPath:z,status:{status:K,clusterStatus:ae},commandRef:S}}):await O({command:{commandPath:{...z,commandId:pe},commandFields:he,commandRef:S}})}}}async invokeCommand(t,n,i,r,a,s,c=!1){return n.invoke(i.session,r,a,s)}handleTimedRequest(t,{timeout:n,interactionModelRevision:i}){Dt.debug(`Received timed request (${n}ms) from ${t.channel.name}`),i>jt.INTERACTION_MODEL_REVISION&&Dt.debug(`Interaction model revision of sender ${i} is higher than supported ${jt.INTERACTION_MODEL_REVISION}.`),t.startTimedInteraction(n)}async close(){this.#n=!0}get#r(){return this.#e.structure}};var $n=J.get("InteractionClient"),Xp=[{}],Q5=1e4,cW=3e4,Ev=class{subscriptionListeners=new Map;subscriptionUpdateTimers=new Map;constructor(){}getId(){return 1}registerSubscriptionListener(t,n){this.subscriptionListeners.set(t,n)}removeSubscriptionListener(t){this.subscriptionListeners.delete(t)}registerSubscriptionUpdateTimer(t,n){this.subscriptionUpdateTimers.set(t,n)}removeSubscriptionUpdateTimer(t){this.subscriptionUpdateTimers.get(t)?.stop(),this.subscriptionUpdateTimers.delete(t)}async onNewExchange(t){let n=new Gp(t),i=await n.readDataReports(!1),r=i.subscriptionId;if(r===void 0)throw await n.sendStatus(ue.InvalidSubscription),new De("Invalid Data report without Subscription ID");let a=this.subscriptionListeners.get(r),s=this.subscriptionUpdateTimers.get(r);if(a===void 0){await n.sendStatus(ue.InvalidSubscription),$n.info(`Received data for unknown subscription ID ${r}. Cancel this subscription.`),s!==void 0&&this.removeSubscriptionUpdateTimer(r),await n.close();return}await n.sendStatus(ue.Success),await n.close(),s!==void 0&&s.stop().start(),a(i)}async close(){this.subscriptionListeners.clear(),this.subscriptionUpdateTimers.forEach(t=>t.stop()),this.subscriptionUpdateTimers.clear()}},Xm=class{constructor(t,n,i,r){if(this.exchangeProvider=t,this.address=n,this.#t=i,r!==void 0&&(this.#e=r),this.exchangeProvider.hasProtocolHandler(1)){let a=this.exchangeProvider.getProtocolHandler(1);if(!(a instanceof Ev))throw new ce(`Already existing protocol handler ${1} is not a SubscriptionClient.`);this.subscriptionClient=a}else this.subscriptionClient=new Ev,this.exchangeProvider.addProtocolHandler(this.subscriptionClient)}#e={attributeValues:new Map,clusterDataVersions:new Map};ownSubscriptionIds=new Set;subscriptionClient;#t;registerSubscriptionListener(t,n){this.ownSubscriptionIds.add(t),this.subscriptionClient.registerSubscriptionListener(t,n)}removeSubscription(t){this.ownSubscriptionIds.delete(t),this.subscriptionClient.removeSubscriptionListener(t),this.subscriptionClient.removeSubscriptionUpdateTimer(t)}async getAllAttributes(t={}){return(await this.getMultipleAttributesAndEvents({attributes:Xp,...t})).attributeReports}async getAllEvents(t={}){return(await this.getMultipleAttributesAndEvents({events:Xp,...t})).eventReports}async getAllAttributesAndEvents(t={}){return this.getMultipleAttributesAndEvents({attributes:Xp,events:Xp,...t})}async getMultipleAttributes(t={}){return(await this.getMultipleAttributesAndEvents(t)).attributeReports}async getMultipleEvents(t={}){return(await this.getMultipleAttributesAndEvents(t)).eventReports}async getMultipleAttributesAndEvents(t={}){let{attributes:n,dataVersionFilters:i,executeQueued:r,events:a,enrichCachedAttributeData:s,eventFilters:c}=t;if(n===void 0&&a===void 0)throw new ce("When reading attributes and events, at least one must be specified.");return(n?.length??0)+(a?.length??0)>9&&$n.debug("Read interactions with more then 9 paths might be not allowed by the device. Consider splitting then into several read requests."),$n.debug(`Sending read request: attributes: ${n?.map(d=>Rc(d)).join(", ")} and events: ${a?.map(d=>$s(d)).join(", ")}`),i!==void 0&&i?.length>0&&$n.debug(`Using data version filters: ${i.map(({endpointId:d,clusterId:f,dataVersion:g})=>`${d}/${f}=${g}`).join(", ")}`),c!==void 0&&c?.length>0&&$n.debug(`Using event filters: ${c.map(({nodeId:d,eventMin:f})=>`${d}=${f}`).join(", ")}`),this.withMessenger(async d=>{let{isFabricFiltered:f=!0}=t,g=await this.processReadRequest(d,{attributeRequests:n,dataVersionFilters:i?.map(({endpointId:b,clusterId:w,dataVersion:O})=>({path:{endpointId:b,clusterId:w},dataVersion:O})),eventRequests:a,eventFilters:c,isFabricFiltered:f,interactionModelRevision:jt.INTERACTION_MODEL_REVISION});return i!==void 0&&i.length>0&&s&&this.#n(g.attributeReports,i),g},r)}async getAttribute(t){let{alwaysRequestFromRemote:n=!1}=t;return(await this.getAttributeWithVersion({...t,alwaysRequestFromRemote:n}))?.value}async getAttributeWithVersion(t){let{endpointId:n,clusterId:i,attribute:r,alwaysRequestFromRemote:a=!1,isFabricFiltered:s,executeQueued:c}=t,{id:l}=r;if(!a){let f=this.#e.attributeValues.get(bi({endpointId:n,clusterId:i,attributeId:l}))?.value,g=this.#e.clusterDataVersions.get(Fo({endpointId:n,clusterId:i}))?.dataVersion;if(f!==void 0&&g!==void 0)return{value:f,version:g}}let{attributeReports:d}=await this.getMultipleAttributesAndEvents({attributes:[{endpointId:n,clusterId:i,attributeId:l}],isFabricFiltered:s,executeQueued:c});if(d.length!==0){if(d.length>1)throw new De("Unexpected response with more then one attribute");return{value:d[0].value,version:d[0].version}}}async getEvent(t){let{endpointId:n,clusterId:i,event:r,minimumEventNumber:a,isFabricFiltered:s=!0,executeQueued:c}=t,{id:l}=r;return(await this.getMultipleAttributesAndEvents({events:[{endpointId:n,clusterId:i,eventId:l}],eventFilters:a!==void 0?[{eventMin:a}]:void 0,isFabricFiltered:s,executeQueued:c}))?.eventReports[0]?.events}async processReadRequest(t,n){let{attributeRequests:i,eventRequests:r}=n;$n.debug(`Sending read request to ${t.getExchangeChannelName()} for attributes ${i?.map(c=>Rc(c)).join(", ")} and events ${r?.map(c=>$s(c)).join(", ")}`);let a=await t.sendReadRequest(n),s={attributeReports:Up(a.attributeReports??[]),eventReports:Vp(a.eventReports??[])};return $n.debug(`Received read response with attributes ${s.attributeReports.map(({path:c,value:l})=>`${Rc(c)} = ${J.toJSON(l)}`).join(", ")} and events ${s.eventReports.map(({path:c,events:l})=>`${$s(c)} = ${J.toJSON(l)}`).join(", ")}`),s}async setAttribute(t){let{attributeData:n,asTimedRequest:i,timedRequestTimeoutMs:r,suppressResponse:a,executeQueued:s}=t,{endpointId:c,clusterId:l,attribute:d,value:f,dataVersion:g}=n,b=await this.setMultipleAttributes({attributes:[{endpointId:c,clusterId:l,attribute:d,value:f,dataVersion:g}],asTimedRequest:i,timedRequestTimeoutMs:r,suppressResponse:a,executeQueued:s});if(b.length){let{path:{endpointId:w,clusterId:O,attributeId:D},status:y}=b[0];if(y!==void 0&&y!==ue.Success)throw new ve(`Error setting attribute ${w}/${O}/${D}`,y)}}async setMultipleAttributes(t){let{executeQueued:n}=t;return this.withMessenger(async i=>{let{attributes:r,asTimedRequest:a,timedRequestTimeoutMs:s=Q5,suppressResponse:c=!1}=t;$n.debug(`Sending write request: ${r.map(({endpointId:g,clusterId:b,attribute:{id:w},value:O,dataVersion:D})=>`${Rc({endpointId:g,clusterId:b,attributeId:w})} = ${J.toJSON(O)} (version=${D})`).join(", ")}`);let l=r.map(({endpointId:g,clusterId:b,attribute:{id:w,schema:O},value:D,dataVersion:y})=>({path:{endpointId:g,clusterId:b,attributeId:w},data:O.encodeTlv(D,{forWriteInteraction:!0}),dataVersion:y})),d=r.some(({attribute:{timed:g}})=>g)||a===!0||t.timedRequestTimeoutMs!==void 0;d&&await i.sendTimedRequest(s);let f=await i.sendWriteCommand({suppressResponse:c,timedRequest:d,writeRequests:l,moreChunkedMessages:!1,interactionModelRevision:jt.INTERACTION_MODEL_REVISION});if(f===void 0){if(!c)throw new ze("No response received from write interaction but expected.");return[]}return f.writeResponses.flatMap(({status:{status:g,clusterStatus:b},path:{nodeId:w,endpointId:O,clusterId:D,attributeId:y}})=>({path:{nodeId:w,endpointId:O,clusterId:D,attributeId:y},status:g??b??ue.Failure})).filter(({status:g})=>g!==ue.Success)},n)}async subscribeAttribute(t){let{executeQueued:n}=t;return this.withMessenger(async i=>{let{endpointId:r,clusterId:a,attribute:s,minIntervalFloorSeconds:c,maxIntervalCeilingSeconds:l,isFabricFiltered:d=!0,listener:f,knownDataVersion:g,keepSubscriptions:b=!0,updateTimeoutHandler:w}=t,{id:O}=s;$n.debug(`Sending subscribe request for attribute: ${Rc({endpointId:r,clusterId:a,attributeId:O})}${g!==void 0?` (knownDataVersion=${g})`:""}`);let{report:D,subscribeResponse:{subscriptionId:y,maxInterval:S}}=await i.sendSubscribeRequest({interactionModelRevision:jt.INTERACTION_MODEL_REVISION,attributeRequests:[{endpointId:r,clusterId:a,attributeId:O}],dataVersionFilters:g!==void 0?[{path:{endpointId:r,clusterId:a},dataVersion:g}]:void 0,keepSubscriptions:b,minIntervalFloorSeconds:c,maxIntervalCeilingSeconds:l,isFabricFiltered:d}),L=H=>{if(!Array.isArray(H.attributeReports)||!H.attributeReports.length){$n.debug("Subscription result empty");return}let oe=Up(H.attributeReports);if(oe.length===0)throw new ze("Subscription result reporting undefined/no value not specified");if(oe.length>1)throw new De("Unexpected response with more then one attribute");let{path:{endpointId:z,clusterId:Q,attributeId:N,attributeName:q},value:G,version:te}=oe[0];if(G===void 0)throw new ze("Subscription result reporting undefined value not specified.");this.#e.attributeValues.set(bi({endpointId:z,clusterId:Q,attributeId:N}),{endpointId:z,clusterId:Q,attributeId:N,attributeName:q,value:G}),this.#e.clusterDataVersions.set(Fo({endpointId:z,clusterId:Q}),{endpointId:z,clusterId:Q,dataVersion:te}),f?.(G,te)};this.registerSubscriptionListener(y,L),w!==void 0&&this.registerSubscriptionUpdateTimer(i,y,S,w),L(D)},n)}async subscribeEvent(t){let{executeQueued:n}=t;return this.withMessenger(async i=>{let{endpointId:r,clusterId:a,event:s,minIntervalFloorSeconds:c,maxIntervalCeilingSeconds:l,isUrgent:d,minimumEventNumber:f,isFabricFiltered:g=!0,listener:b,updateTimeoutHandler:w}=t,{id:O}=s;$n.debug(`Sending subscribe request for event: ${$s({endpointId:r,clusterId:a,eventId:O})}`);let{report:D,subscribeResponse:{subscriptionId:y,maxInterval:S}}=await i.sendSubscribeRequest({interactionModelRevision:jt.INTERACTION_MODEL_REVISION,eventRequests:[{endpointId:r,clusterId:a,eventId:O,isUrgent:d}],eventFilters:f!==void 0?[{eventMin:f}]:void 0,keepSubscriptions:!0,minIntervalFloorSeconds:c,maxIntervalCeilingSeconds:l,isFabricFiltered:g}),L=H=>{if(!Array.isArray(H.eventReports)||!H.eventReports.length){$n.debug("Subscription result empty");return}let oe=Vp(H.eventReports);if(oe.length===0)throw new ze("Received empty subscription result value.");if(oe.length>1)throw new De("Unexpected response with more then one attribute.");let{events:z}=oe[0];if(z===void 0)throw new ze("Subscription result reporting undefined value not specified.");z.forEach(Q=>b?.(Q))};this.registerSubscriptionListener(y,L),w!==void 0&&this.registerSubscriptionUpdateTimer(i,y,S,w),L(D)},n)}async subscribeAllAttributesAndEvents(t){let{isUrgent:n}=t;return this.subscribeMultipleAttributesAndEvents({...t,attributes:Xp,events:[{isUrgent:n}]})}async subscribeMultipleAttributesAndEvents(t){let{attributes:n,events:i,executeQueued:r}=t;return(n?.length??0)+(i?.length??0)>3&&$n.debug("Subscribe interactions with more then 3 paths might be not allowed by the device."),this.withMessenger(async s=>{let{minIntervalFloorSeconds:c,maxIntervalCeilingSeconds:l,keepSubscriptions:d=!0,isFabricFiltered:f=!0,attributeListener:g,eventListener:b,eventFilters:w,dataVersionFilters:O,updateTimeoutHandler:D,enrichCachedAttributeData:y}=t;$n.debug(`Sending subscribe request: attributes: ${n.map(Q=>Rc(Q)).join(", ")} and events: ${i.map(Q=>$s(Q)).join(", ")}`),O!==void 0&&O?.length>0&&$n.debug(`Using data version filters: ${O.map(({endpointId:Q,clusterId:N,dataVersion:q})=>`${Q}/${N}=${q}`).join(", ")}`),w!==void 0&&w?.length>0&&$n.debug(`Using event filters: ${w.map(({nodeId:Q,eventMin:N})=>`${Q}=${N}`).join(", ")}`);let{report:S,subscribeResponse:{subscriptionId:L,maxInterval:H}}=await s.sendSubscribeRequest({interactionModelRevision:jt.INTERACTION_MODEL_REVISION,attributeRequests:n,eventRequests:i,keepSubscriptions:d,minIntervalFloorSeconds:c,maxIntervalCeilingSeconds:l,isFabricFiltered:f,eventFilters:w,dataVersionFilters:O?.map(({endpointId:Q,clusterId:N,dataVersion:q})=>({path:{endpointId:Q,clusterId:N},dataVersion:q}))});$n.info(`Subscription successfully initialized with ID ${L} and maxInterval ${H}s.`);let oe=Q=>{if((!Array.isArray(Q.attributeReports)||!Q.attributeReports.length)&&(!Array.isArray(Q.eventReports)||!Q.eventReports.length)){$n.debug("Subscription result empty");return}let{attributeReports:N,eventReports:q}=Q;N!==void 0&&N.forEach(G=>{let{path:{endpointId:te,clusterId:K,attributeId:ae,attributeName:pe},value:he,version:Ce}=G;if($n.debug(`Received attribute update: ${Rc({endpointId:te,clusterId:K,attributeId:ae})} = ${J.toJSON(he)} (version=${Ce})`),he===void 0)throw new ze("Received empty subscription result value.");let Le=bi({endpointId:te,clusterId:K,attributeId:ae}),tt=this.#e.attributeValues.get(Le)?.value;this.#e.attributeValues.set(Le,{endpointId:te,clusterId:K,attributeId:ae,attributeName:pe,value:he}),this.#e.clusterDataVersions.set(Fo({endpointId:te,clusterId:K}),{endpointId:te,clusterId:K,dataVersion:Ce}),g?.(G,tt!==void 0?!Rn(tt,he):void 0,tt)}),q!==void 0&&q.forEach(G=>{$n.debug(`Received event update: ${$s(G.path)}: ${J.toJSON(G.events)}`);let{events:te}=G;this.#e.maxEventNumber=te.length===1?te[0].eventNumber:te.reduce((K,{eventNumber:ae})=>K<ae?ae:K,this.#e.maxEventNumber??te[0].eventNumber),b?.(G)})};this.registerSubscriptionListener(L,Q=>{oe({attributeReports:Q.attributeReports!==void 0?Up(Q.attributeReports):void 0,eventReports:Q.eventReports!==void 0?Vp(Q.eventReports):void 0})}),D!==void 0&&this.registerSubscriptionUpdateTimer(s,L,H,D);let z={attributeReports:S.attributeReports!==void 0?Up(S.attributeReports):void 0,eventReports:S.eventReports!==void 0?Vp(S.eventReports):void 0};return oe(z),O!==void 0&&O.length>0&&y&&this.#n(z.attributeReports??[],O),z},r)}async invoke(t){let{executeQueued:n}=t;return this.withMessenger(async i=>{let{endpointId:r,clusterId:a,request:s,command:{requestId:c,requestSchema:l,responseId:d,responseSchema:f,optional:g,timed:b},asTimedRequest:w,timedRequestTimeoutMs:O=Q5,useExtendedFailSafeMessageResponseTimeout:D=!1}=t,y=b||w===!0||t.timedRequestTimeoutMs!==void 0;$n.debug(`Invoking command: ${Tp({endpointId:r,clusterId:a,commandId:c})} with ${J.toJSON(s)}`),l.validate(s);let S=l.encodeTlv(s);y&&await i.sendTimedRequest(O);let L=await i.sendInvokeCommand({invokeRequests:[{commandPath:{endpointId:r,clusterId:a,commandId:c},commandFields:S}],timedRequest:y,suppressResponse:!1,interactionModelRevision:jt.INTERACTION_MODEL_REVISION},D?cW:void 0);if(L===void 0)throw new ze("No response received from invoke interaction but expected.");let{invokeResponses:H}=L;if(H.length===0)throw new ze("Received invoke response with no invoke results.");let{command:oe,status:z}=H[0];if(z!==void 0){let Q=z.status.status;if(Q!==ue.Success)throw new ve(`Received non-success result: ${Q}`,Q??ue.Failure,z.status.clusterStatus);if(f!==ne)throw new ze("A response was expected for this command.");return}if(oe!==void 0){let{commandPath:{commandId:Q},commandFields:N}=oe;if(Q!==d)throw new ze(`Received invoke response with unexpected command ID ${Q}, expected ${d}.`);if(N===void 0){if(f!==ne)throw new ze(`A response was expected for command ${c}.`);return}let q=f.decodeTlv(N);return $n.debug(`Received invoke response: ${Tp({endpointId:r,clusterId:a,commandId:c})} with ${J.toJSON(q)})}`),q}if(!g)throw new ze("Received invoke response with no result nor response.")},n)}async invokeWithSuppressedResponse(t){let{executeQueued:n}=t;return this.withMessenger(async i=>{let{endpointId:r,clusterId:a,request:s,command:{requestId:c,requestSchema:l,timed:d},asTimedRequest:f,timedRequestTimeoutMs:g=Q5}=t,b=d||f===!0||t.timedRequestTimeoutMs!==void 0;$n.debug(`Invoking command with suppressedResponse: ${Tp({endpointId:r,clusterId:a,commandId:c})} with ${J.toJSON(s)}`);let w=l.encodeTlv(s);if(b&&await i.sendTimedRequest(g),await i.sendInvokeCommand({invokeRequests:[{commandPath:{endpointId:r,clusterId:a,commandId:c},commandFields:w}],timedRequest:b,suppressResponse:!0,interactionModelRevision:jt.INTERACTION_MODEL_REVISION})!==void 0)throw new ze("Response received from invoke interaction but none expected because response is suppressed.");$n.debug(`Invoke successful: ${Tp({endpointId:r,clusterId:a,commandId:c})}`)},n)}async withMessenger(t,n=!1){let i=new Tv(this.exchangeProvider);try{if(n){if(this.#t===void 0)throw new ce("Cannot execute queued operation without a queue.");return await this.#t.add(()=>t(i))}return await t(i)}finally{await i.close()}}registerSubscriptionUpdateTimer(t,n,i,r){if(!this.ownSubscriptionIds.has(n))throw new ze(`Cannot register update timer for subscription ${n} because it is not owned by this client.`);let a=i*1e3+t.calculateMaximumPeerResponseTime(),s=Ne.getTimer("Subscription retry",a,()=>{$n.info(`Subscription ${n} timed out after ${a}ms ...`),this.removeSubscription(n),r()}).start();this.subscriptionClient.registerSubscriptionUpdateTimer(n,s)}close(){for(let t of this.ownSubscriptionIds)this.removeSubscription(t);this.#e.attributeValues.clear(),this.#e.clusterDataVersions.clear()}get session(){return this.exchangeProvider.session}get channelType(){return this.exchangeProvider.channelType}#n(t,n){let i=new Map;n.forEach(({endpointId:r,clusterId:a,dataVersion:s})=>{i.has(r)||i.set(r,new Map),i.get(r)?.set(a,this.#e.clusterDataVersions.get(Fo({endpointId:r,clusterId:a}))?.dataVersion??s)}),t.forEach(({path:{endpointId:r,clusterId:a}})=>{i.has(r)&&i.get(r)?.delete(a)}),this.#e.attributeValues.forEach(({endpointId:r,clusterId:a,attributeId:s,attributeName:c,value:l})=>{let d=i.get(r)?.get(a);d!==void 0&&($n.debug(`Enriching cached data for ${r}/${a}/${s}=`,l),t.push({path:{endpointId:r,clusterId:a,attributeId:s,attributeName:c},value:l,version:d}))})}getCachedClusterDataVersions(t){let{endpointId:n,clusterId:i}=t??{};return[...this.#e.clusterDataVersions.values()].filter(({endpointId:r,clusterId:a})=>(n===void 0||n===r)&&(i===void 0||i===a)).map(({endpointId:r,clusterId:a,dataVersion:s})=>({endpointId:r,clusterId:a,dataVersion:s}))}get maxKnownEventNumber(){return this.#e.maxEventNumber}};var AM=[I6.id,S6.id],lW=[...AM,ug.id,dg.id],dW=kr.standard.clusters.filter(e=>e.diagnostics&&e.id!==void 0).map(e=>e.id),Ov=class{endpoints=new Map;attributes=new Map;attributePaths=new Array;events=new Map;eventPaths=new Array;commands=new Map;commandPaths=new Array;change=ht();clear(){this.endpoints.clear(),this.attributes.clear(),this.attributePaths.length=0,this.events.clear(),this.eventPaths.length=0,this.commands.clear(),this.commandPaths.length=0}close(){for(let t of this.endpoints.values())t.close()}initializeFromEndpoint(t){this.clear(),this.verifyAndInitializeStructureElementsFromEndpoint(t),this.initializeStructureFromEndpoints(t),this.change.emit()}initializeStructureFromEndpoints(t){let n=t.getChildEndpoints();for(let i=0;i<n.length;i++)this.verifyAndInitializeStructureElementsFromEndpoint(n[i]),this.initializeStructureFromEndpoints(n[i])}verifyAndInitializeStructureElementsFromEndpoint(t){if(t.number===void 0)throw new Re("Endpoint ID is undefined. It needs to be initialized first!");t.verifyRequiredClusters();for(let n of t.getAllClusterServers()){let{id:i,attributes:r,events:a,commands:s}=n;for(let c in r){let l=r[c],d={endpointId:t.number,clusterId:i,attributeId:l.id};this.attributes.set(bi(d),l),this.attributePaths.push(d)}for(let c in a){let l=a[c],d={endpointId:t.number,clusterId:i,eventId:l.id};this.events.set(pa(d),l),this.eventPaths.push(d)}for(let c in s){let l=s[c],d={endpointId:t.number,clusterId:i,commandId:l.invokeId};this.commands.set(Km(d),l),this.commandPaths.push(d)}}if(this.endpoints.has(t.number))throw new ce(`Endpoint ID ${t.number} exists twice`);this.endpoints.set(t.number,t)}toHex(t){return t===void 0?"*":`0x${t.toString(16)}`}resolveGenericElementName(t,n,i,r,a){let s=t===void 0?"":`${this.toHex(t)}/`;if(n===void 0)return`${s}*/${this.toHex(i)}/${this.toHex(r)}`;let c=this.endpoints.get(n);if(c===void 0)return`${s}unknown(${this.toHex(n)})/${this.toHex(i)}/${this.toHex(r)}`;let l=`${c.name}(${this.toHex(n)})`;if(i===void 0)return`${s}${l}/*/${this.toHex(r)}`;let d=c.getClusterServerById(i);if(d===void 0)return`${s}${l}/unknown(${this.toHex(i)})/${this.toHex(r)}`;let f=`${d.name}(${this.toHex(i)})`;if(r===void 0)return`${s}${l}/${f}/*`;let b=`${a.get(Kp(n,i,r))?.name??"unknown"}(${this.toHex(r)})`;return`${s}${l}/${f}/${b}`}resolveAttributeName({nodeId:t,endpointId:n,clusterId:i,attributeId:r}){return this.resolveGenericElementName(t,n,i,r,this.attributes)}resolveEventName({nodeId:t,endpointId:n,clusterId:i,eventId:r,isUrgent:a}){return`${a?"!":""}${this.resolveGenericElementName(t,n,i,r,this.events)}`}resolveCommandName({endpointId:t,clusterId:n,commandId:i}){return this.resolveGenericElementName(void 0,t,n,i,this.commands)}getEndpoint(t){return this.endpoints.get(t)}hasEndpoint(t){return this.endpoints.has(t)}getClusterServer(t,n){return this.endpoints.get(t)?.getClusterServerById(n)}hasClusterServer(t,n){return!!this.getClusterServer(t,n)}getAttribute(t,n,i){return this.attributes.get(bi({endpointId:t,clusterId:n,attributeId:i}))}hasAttribute(t,n,i){return!!this.getAttribute(t,n,i)}validateConcreteAttributePath(t,n,i){if(!this.hasEndpoint(t))throw new ve(`Endpoint ${t} does not exist.`,ue.UnsupportedEndpoint);if(!this.hasClusterServer(t,n))throw new ve(`Cluster ${n} does not exist.`,ue.UnsupportedCluster);if(this.hasAttribute(t,n,i))return!0;throw new ve(`Attribute ${i} does not exist`,ue.UnsupportedAttribute)}getEvent(t,n,i){return this.events.get(pa({endpointId:t,clusterId:n,eventId:i}))}hasEvent(t,n,i){return!!this.getEvent(t,n,i)}validateConcreteEventPath(t,n,i){if(!this.hasEndpoint(t))throw new ve(`Endpoint ${t} does not exist.`,ue.UnsupportedEndpoint);if(!this.hasClusterServer(t,n))throw new ve(`Cluster ${n} does not exist.`,ue.UnsupportedCluster);if(this.hasEvent(t,n,i))return!0;throw new ve(`Event ${i} does not exist`,ue.UnsupportedEvent)}getCommand(t,n,i){return this.commands.get(Km({endpointId:t,clusterId:n,commandId:i}))}hasCommand(t,n,i){return!!this.getCommand(t,n,i)}validateConcreteCommandPath(t,n,i){if(!this.hasEndpoint(t))throw new ve(`Endpoint ${t} does not exist.`,ue.UnsupportedEndpoint);if(!this.hasClusterServer(t,n))throw new ve(`Cluster ${n} does not exist.`,ue.UnsupportedCluster);if(this.hasCommand(t,n,i))return!0;throw new ve(`Command ${i} does not exist`,ue.UnsupportedCommand)}attributePathMatchesWildcardPathFlags({endpointId:t,clusterId:n,attributeId:i},r){if(r===void 0)return!1;if(r.skipRootNode&&t===0||i>=65528&&i<=65531&&(r.skipGlobalAttributes&&lW.includes(i)||r.skipAttributeList&&i===dg.id||r.skipEventList&&i===ug.id||r.skipCommandLists&&AM.includes(i))||r.skipCustomElements&&(Fi.hasCustomMeiPrefix(n)||Fi.hasCustomMeiPrefix(i)))return!0;let a=kr.standard.get(Me,n);if(a!==void 0){let s=a.get(xn,i);if(s!==void 0&&(r.skipFixedAttributes&&s.fixed||r.skipChangesOmittedAttributes&&s.changesOmitted)||r.skipDiagnosticsClusters&&dW.includes(n))return!0}return!1}getAttributes(t,n=!1){let i=new Array;return t.forEach(({endpointId:r,clusterId:a,attributeId:s,wildcardPathFlags:c})=>{if(this.validateAnyPathDataTypes({endpointId:r,clusterId:a,attributeId:s}),r!==void 0&&a!==void 0&&s!==void 0){let l={endpointId:r,clusterId:a,attributeId:s},d=this.attributes.get(bi(l));if(d===void 0||n&&!d.isWritable||this.attributePathMatchesWildcardPathFlags(l))return;i.push({path:l,attribute:d})}else this.attributePaths.filter(l=>(r===void 0||r===l.endpointId)&&(a===void 0||a===l.clusterId)&&(s===void 0||s===l.attributeId)).forEach(l=>{let d=this.attributes.get(bi(l));d!==void 0&&(n&&!d.isWritable||this.attributePathMatchesWildcardPathFlags(l,c)||i.push({path:l,attribute:d}))})}),i}getEvents(t){let n=new Array;return t.forEach(({endpointId:i,clusterId:r,eventId:a,isUrgent:s})=>{if(this.validateAnyPathDataTypes({endpointId:i,clusterId:r,eventId:a}),i!==void 0&&r!==void 0&&a!==void 0){let c={endpointId:i,clusterId:r,eventId:a,isUrgent:s},l=this.events.get(pa(c));if(l===void 0)return;n.push({path:c,event:l})}else this.eventPaths.filter(c=>(i===void 0||i===c.endpointId)&&(r===void 0||r===c.clusterId)&&(a===void 0||a===c.eventId)).forEach(({endpointId:c,clusterId:l,eventId:d})=>{let f={endpointId:c,clusterId:l,eventId:d,isUrgent:s},g=this.events.get(pa(f));g!==void 0&&n.push({path:f,event:g})})}),n}getCommands(t){let n=new Array;return t.forEach(({endpointId:i,clusterId:r,commandId:a})=>{if(this.validateAnyPathDataTypes({endpointId:i,clusterId:r,commandId:a}),i!==void 0&&r!==void 0&&a!==void 0){let s={endpointId:i,clusterId:r,commandId:a},c=this.commands.get(Km(s));if(c===void 0)return;n.push({path:s,command:c})}else this.commandPaths.filter(s=>(i===void 0||i===s.endpointId)&&(r===void 0||r===s.clusterId)&&(a===void 0||a===s.commandId)).forEach(s=>{let c=this.commands.get(Km(s));c!==void 0&&n.push({path:s,command:c})})}),n}validateAnyPathDataTypes(t){let{endpointId:n,clusterId:i,attributeId:r,eventId:a,commandId:s}=t;n!==void 0&&co(n),i!==void 0&&sa(i),r!==void 0&&gr(r),a!==void 0&&Fs(a),s!==void 0&&Oo(s)}};var Ym=J.get("DeviceAdvertiser"),Ys=class e{#e;#t=new Set;#n=tr();#i=new tr;#o=new Io;#r;#a=null;#s=!1;#c=Ks.NotCommissioning;#l=new pm(this);constructor(t){this.#e=t,this.#r=Ne.getPeriodicTimer("Server node announcement",gA,()=>this.#l.run(()=>this.advertise())),this.#o.on(this.#e.fabrics.events.deleted,async()=>{this.#e.fabrics.getFabrics().length===0&&await this.#m()}),this.#o.on(this.#e.sessions.resubmissionStarted,n=>{Ym.debug(`Resubmission started, re-announce node ${n}`),this.advertise(!0).catch(i=>Ym.warn("Error sending announcement:",i))}),this.#o.on(this.#e.sessions.subscriptionsChanged,(n,i)=>{i.isCanceledByPeer&&(Ym.debug("Subscription canceled by peer, re-announce"),this.startAdvertising().catch(r=>Ym.warn("Error sending announcement:",r)))})}[Jt.create](t){let n=new e({fabrics:t.get(bn),sessions:t.get(Kn)});return t.set(e,n),n}get timedOut(){return this.#n}get operationalModeEnded(){return this.#i}async enterCommissioningMode(t,n){this.#c=t;for(let i of this.#t)await i.setCommissionMode(t,n);await this.startAdvertising()}async exitCommissioningMode(){this.#c=Ks.NotCommissioning,this.#r.stop(),this.#a=null;for(let t of this.#t)await t.expireCommissioningAnnouncement()}async startAdvertising(){this.#s||(this.#r.isRunning&&this.#r.stop(),this.#a=Ne.nowMs(),this.#r.start(),await this.advertise())}async advertise(t=!1){if(!t){if(this.#a!==null&&Ne.nowMs()-this.#a>yA){Ym.debug("Announcement duration reached, stop announcing"),await this.#n.emit();return}if(this.#c!==Ks.NotCommissioning){for(let i of this.#t)await i.announce();return}}let n=this.#e.fabrics.getFabrics();if(n.length){let i=0;for(let r of n){let a=this.#e.sessions.getSessionForNode(r.addressOf(r.rootNodeId));(a===void 0||!a.isSecure||a.subscriptions.size===0)&&(i++,Ym.debug("Announcing",fe.dict({fabric:r.fabricId})))}for(let r of this.#t)await r.setFabrics(n),(i>0||this.#c!==Ks.NotCommissioning)&&await r.announce()}else await this.#m(),await this.#i.emit()}async advertiseFabrics(t,n=!1){for(let i of this.#t)await i.setFabrics(t,n),await i.announce()}async#m(){for(let t of this.#t)await t.expireFabricAnnouncement()}async close(){await this.#l,this.#o.close();for(let t of this.#t)await t.close()}hasBroadcaster(t){return this.#t.has(t)}addBroadcaster(t){this.#t.add(t)}async deleteBroadcaster(t){this.#t.delete(t)&&await t.expireAllAnnouncements()}};var MM=J.get("CaseClient"),Dv=class{#e;constructor(t){this.#e=t}async pair(t,n,i,r){let a=new pv(t,r),s=qe.getRandom(),c=await this.#e.getNextAvailableSessionId(),{operationalIdentityProtectionKey:l,operationalCert:d,intermediateCACert:f}=n,{publicKey:g,ecdh:b}=qe.ecdhGeneratePublicKey(),w,O=!1,D=this.#e.findResumptionRecordByAddress(n.addressOf(i));if(D!==void 0){let{sharedSecret:oe,resumptionId:z}=D,Q=await qe.hkdf(oe,we.concat(s,z),rv),N=qe.encrypt(Q,new Uint8Array(0),av);w=await a.sendSigma1({initiatorSessionId:c,destinationId:n.getDestinationId(i,s),initiatorEcdhPublicKey:g,initiatorRandom:s,resumptionId:z,initiatorResumeMic:N,initiatorSessionParams:this.#e.sessionParameters})}else w=await a.sendSigma1({initiatorSessionId:c,destinationId:n.getDestinationId(i,s),initiatorEcdhPublicKey:g,initiatorRandom:s,initiatorSessionParams:this.#e.sessionParameters});let y,{sigma2Bytes:S,sigma2:L,sigma2Resume:H}=await a.readSigma2();if(H!==void 0){if(D===void 0)throw new De("Received an unexpected sigma2Resume.");let{sharedSecret:oe,fabric:z,sessionParameters:Q}=D,{responderSessionId:N,resumptionId:q,resumeMic:G}=H,te={...t.session.parameters,...Q??{}},K=we.concat(s,q),ae=await qe.hkdf(oe,K,ov);qe.decrypt(ae,G,sv);let pe=we.concat(s,D.resumptionId);y=await this.#e.createSecureSession({sessionId:c,fabric:z,peerNodeId:i,peerSessionId:N,sharedSecret:oe,salt:pe,isInitiator:!0,isResumption:!0,peerSessionParameters:te}),await a.sendSuccess(),MM.info(`Case client: session resumed with ${a.getChannelName()} and parameters`,fe.dict(y.parameters)),D.resumptionId=q,D.sessionParameters=y.parameters,O=!0}else{let{responderEcdhPublicKey:oe,encrypted:z,responderRandom:Q,responderSessionId:N,responderSessionParams:q}=L,G={...t.session.parameters,...q??{}},te=qe.ecdhGenerateSecret(oe,b),K=we.concat(l,Q,oe,qe.hash(w)),ae=await qe.hkdf(te,K,cv),pe=qe.decrypt(ae,z,dv),{nodeOpCert:he,intermediateCACert:Ce,signature:Le,resumptionId:tt}=mv.decode(pe),St=Hm.encode({nodeOpCert:he,intermediateCACert:Ce,ecdhPublicKey:oe,peerEcdhPublicKey:g}),{ellipticCurvePublicKey:qt,subject:{fabricId:Gt,nodeId:Ze}}=No.decode(he);if(qe.verify(Ms(qt),St,Le),Ze!==i)throw new De("The node ID in the peer certificate doesn't match the expected peer node ID");if(Ze!==i)throw new De("The node ID in the peer certificate doesn't match the expected peer node ID");if(Gt!==n.fabricId)throw new De("The fabric ID in the peer certificate doesn't match the expected fabric ID");if(Ce!==void 0){let{subject:{fabricId:Ar}}=Op.decode(Ce);if(Ar!==n.fabricId)throw new De("The fabric ID in the peer intermediate CA certificate doesn't match the expected fabric ID")}n.verifyCredentials(he,Ce);let ft=we.concat(l,qe.hash([w,S])),F=await qe.hkdf(te,ft,lv),Ve=Hm.encode({nodeOpCert:d,intermediateCACert:f,ecdhPublicKey:g,peerEcdhPublicKey:oe}),ln=n.sign(Ve),_t=hv.encode({nodeOpCert:d,intermediateCACert:f,signature:ln}),Mn=qe.encrypt(F,_t,uv),pi=await a.sendSigma3({encrypted:Mn});await a.waitForSuccess("Success after CASE Sigma3");let ar=we.concat(l,qe.hash([w,S,pi]));y=await this.#e.createSecureSession({sessionId:c,fabric:n,peerNodeId:i,peerSessionId:N,sharedSecret:te,salt:ar,isInitiator:!0,isResumption:!1,peerSessionParameters:G}),MM.info(`Case client: Paired successfully with ${a.getChannelName()} and parameters`,fe.dict(y.parameters)),D={fabric:n,peerNodeId:i,sharedSecret:te,resumptionId:tt,sessionParameters:y.parameters}}return await a.close(),await this.#e.saveResumptionRecord(D),{session:y,resumed:O}}};var{numberToBytesBE:uW}=As,mW=J.get("PaseClient"),lu=class{#e;constructor(t){this.#e=t}static async generatePakePasscodeVerifier(t,n){let{w0:i,L:r}=await Es.computeW0L(n,t);return we.concat(uW(i,32),r)}static generateRandomPasscode(){let t;return t=qe.getRandomUInt32()%99999998+1,Rm.FORBIDDEN_PASSCODES.includes(t)&&(t+=1),t}static generateRandomDiscriminator(){return qe.getRandomUInt16()%4096}async pair(t,n,i){let r=new vv(n),a=qe.getRandom(),s=await this.#e.getNextAvailableSessionId(),c=await r.sendPbkdfParamRequest({initiatorRandom:a,initiatorSessionId:s,passcodeId:bv,hasPbkdfParameters:!1,initiatorSessionParams:t}),{responsePayload:l,response:{pbkdfParameters:d,responderSessionId:f,responderSessionParams:g}}=await r.readPbkdfParamResponse();if(d===void 0)throw new De("Missing requested PbkdfParameters in the response.");t={...n.session.parameters,...g??{}};let{w0:b,w1:w}=await Es.computeW0W1(d,i),O=Es.create(qe.hash([xv,c,l]),b),D=O.computeX();await r.sendPasePake1({x:D});let{y,verifier:S}=await r.readPasePake2(),{Ke:L,hAY:H,hBX:oe}=await O.computeSecretAndVerifiersFromY(w,D,y);if(!we.areEqual(S,oe))throw new De("Received incorrect key confirmation from the receiver.");await r.sendPasePake3({verifier:H}),await r.waitForSuccess("Success after PASE Pake3");let z=await this.#e.createSecureSession({sessionId:s,fabric:void 0,peerNodeId:Rt.UNSPECIFIED_NODE_ID,peerSessionId:f,sharedSecret:L,salt:new Uint8Array(0),isInitiator:!0,isResumption:!1,peerSessionParameters:t});return await r.close(),mW.info(`Pase client: Paired successfully with ${r.getChannelName()}.`),z}};var Hc=J.get("DeviceCommissioner"),Yp=class{},ji=class e{#e;#t;#n=mn.CommissioningWindowStatus.WindowNotOpen;#i;#o;#r=new Io(this);constructor(t){this.#e=t,this.#r.on(this.#e.advertiser.timedOut,this.endCommissioning),this.#r.on(this.#e.fabrics.events.deleted,this.reactivateAdvertiser),this.#r.on(this.#e.advertiser.operationalModeEnded,this.allowBasicCommissioning),this.#r.on(this.#e.secureChannelProtocol.tooManyPaseErrors,async()=>{Hc.info("Maximum number of PASE pairing errors reached, canceling commissioning"),await this.endCommissioning()}),this.#r.on(this.#e.sessions.sessions.deleted,n=>{let i=n.fabric?.fabricIndex,r=i===void 0?void 0:this.#e.fabrics.findByIndex(i)?.fabricIndex;(this.#e.fabrics.getFabrics().length>0||n.isPase||!r)&&this.#e.advertiser.startAdvertising().catch(a=>Hc.warn("Error while announcing",a))})}[Jt.create](t){let n=new e({fabrics:t.get(bn),sessions:t.get(Kn),advertiser:t.get(Ys),secureChannelProtocol:t.get(Xs),commissioningConfig:t.get(Yp)});return t.set(e,n),n}get failsafeContext(){return this.assertFailsafeArmed(),this.#t}async allowEnhancedCommissioning(t,n,i){if(this.#n===mn.CommissioningWindowStatus.BasicWindowOpen)throw new ze("Basic commissioning window is already open! Cannot set Enhanced commissioning mode.");this.#e.secureChannelProtocol.setPaseCommissioner(n),await this.#s(mn.CommissioningWindowStatus.EnhancedWindowOpen,i,t)}async allowBasicCommissioning(t){if(this.#n===mn.CommissioningWindowStatus.EnhancedWindowOpen)throw new ze("Enhanced commissioning window is already open! Cannot set Basic commissioning mode.");this.#e.secureChannelProtocol.setPaseCommissioner(await jm.fromPin(this.#e.sessions,this.#e.commissioningConfig.values.passcode,{iterations:1e3,salt:qe.get().getRandomData(32)})),await this.#s(mn.CommissioningWindowStatus.BasicWindowOpen,t)}async beginTimed(t){await t.construction,this.#t=t,this.#e.fabrics.events.added.on(n=>{let i=this.#e.fabrics.getFabrics();this.#e.advertiser.advertiseFabrics(i,!0).catch(r=>Hc.warn(`Error sending Fabric announcement for Index ${n.fabricIndex}`,r)),Hc.info("Announce done",fe.dict({fabric:n.fabricId,fabricIndex:n.fabricIndex}))}),t.commissioned.on(async()=>await this.endCommissioning()),t.construction.change.on(n=>{n===ot.Status.Destroyed&&(this.#t=void 0)})}get isFailsafeArmed(){return this.#t!==void 0}assertFailsafeArmed(t){if(!this.isFailsafeArmed)throw new ve(t??"Failsafe timer needs to be armed to execute this action.",ue.FailsafeRequired)}reactivateAdvertiser(){this.#n!==mn.CommissioningWindowStatus.WindowNotOpen&&this.#a(this.#n,this.#i).catch(t=>Hc.warn("Error sending announcement:",t))}async#a(t,n){this.#n=t;let i=this.#e.commissioningConfig.values;await this.#e.advertiser.enterCommissioningMode(t===mn.CommissioningWindowStatus.EnhancedWindowOpen?Ks.Enhanced:Ks.Basic,{...i.productDescription,discriminator:n??i.discriminator})}async#s(t,n,i){if(this.#n===t&&(i===void 0||i===this.#i))return this.reactivateAdvertiser();if(this.#n!==mn.CommissioningWindowStatus.WindowNotOpen)throw new Re(`Commissioning window already open with different mode (${this.#n})!`);if(this.#o!==void 0)throw new Re("Commissioning window already open with different callback!");this.#o=n,this.#i=i,this.#a(t,i).catch(r=>Hc.warn("Error sending announcement:",r))}async endCommissioning(){if(this.#n!==mn.CommissioningWindowStatus.WindowNotOpen){if(Hc.debug("Commissioning mode ended, stop announcements."),(this.#n===mn.CommissioningWindowStatus.EnhancedWindowOpen||this.#e.fabrics.getFabrics().length>0)&&this.#e.secureChannelProtocol.removePaseCommissioner(),this.#n=mn.CommissioningWindowStatus.WindowNotOpen,this.#o!==void 0){let t=this.#o;this.#o=void 0,t()}await this.#e.advertiser.exitCommissioningMode(),Hc.info("All announcements stopped")}}async close(){this.#r.close(),await this.endCommissioning(),this.#t&&(await this.#t.close(),this.#t=void 0)}};var Rv=class e{constructor(t,n,i,r,a,s,c={}){this.sessionStorage=t,this.fabricStorage=n,this.commissioningChangedCallback=a,this.sessionChangedCallback=s,this.#a=new _c(r),this.#t=new bn(n),this.#s.on(this.#t.events.deleted,async({fabricIndex:d})=>this.commissioningChangedCallback(d,Tr.Removed)),this.#s.on(this.#t.events.updated,({fabricIndex:d})=>this.commissioningChangedCallback(d,Tr.Updated)),this.#n=new Kn({fabrics:this.#t,storage:t,parameters:c,owner:this}),this.#r=new wc,this.#e=new fo({transportInterfaces:this.#r,sessionManager:this.#n,channelManager:this.#a});let l=new Xs(this.#n,this.#t);this.#e.addProtocolHandler(l),this.#s.on(this.#n.sessions.added,d=>{d.fabric&&this.sessionChangedCallback(d.fabric.fabricIndex)}),this.#s.on(this.#n.sessions.deleted,async d=>{let f=d.fabric?.fabricIndex;f!==void 0&&this.sessionChangedCallback(f)}),this.#s.on(this.#n.subscriptionsChanged,(d,f)=>{let g=d.fabric;g!==void 0&&this.sessionChangedCallback(g.fabricIndex)}),this.#o=new Ys({fabrics:this.fabricManager,sessions:this.sessionManager}),this.#i=new ji({fabrics:this.fabricManager,sessions:this.sessionManager,advertiser:this.#o,secureChannelProtocol:l,commissioningConfig:new class extends Yp{get values(){return i()}}}),this.#l=Mt(this,async()=>{await this.#t.construction.ready,this.#s.on(this.#t.events.added,({fabricIndex:d})=>this.commissioningChangedCallback(d,Tr.Added)),await this.#n.construction.ready})}#e;#t;#n;#i;#o;#r;#a;#s=new Io;#c=!1;#l;get construction(){return this.#l}static async create(t,n,i,r=3,a,s,c){return io(e,t,n,i,r,a,s,c)}get fabricManager(){return this.#t}get sessionManager(){return this.#n}get exchangeManager(){return this.#e}get advertiser(){return this.#o}get commissioner(){return this.#i}get failsafeContext(){return this.#i.failsafeContext}get isClosing(){return this.#c}async beginTimed(t){return this.#i.beginTimed(t)}assertFailSafeArmed(t){return this.#i.assertFailsafeArmed(t)}isFailsafeArmed(){return this.#i.isFailsafeArmed}hasBroadcaster(t){return this.#o.hasBroadcaster(t)}addBroadcaster(t){return this.#o.addBroadcaster(t),this}async deleteBroadcaster(t){return this.#o.deleteBroadcaster(t)}addTransportInterface(t){return this.#r.add(t),this}async deleteTransportInterface(t){this.#r.delete(t)}hasProtocolHandler(t){return this.exchangeManager.hasProtocolHandler(t)}addProtocolHandler(t){return this.exchangeManager.addProtocolHandler(t),this}async start(){await this.startAnnouncement()}async startAnnouncement(){return this.#o.startAdvertising()}async announce(t=!1){return this.#o.advertise(t)}reAnnounceAsCommissionable(){this.#i.reactivateAdvertiser()}findFabricFromDestinationId(t,n){return this.#t.findFabricFromDestinationId(t,n)}async sendFabricAnnouncements(t,n=!1){return this.#o.advertiseFabrics(t,n)}getFabricByIndex(t){return this.#t.findByIndex(t)}initiateExchange(t,n){return this.#e.initiateExchange(t,n)}getFabrics(){return this.#t.getFabrics()}isCommissioned(){return!!this.#t.getFabrics().length}async allowEnhancedCommissioning(t,n,i){return this.#i.allowEnhancedCommissioning(t,n,i)}async allowBasicCommissioning(t){return this.#i.allowBasicCommissioning(t)}async endCommissioning(){return this.#i.endCommissioning()}existsOpenPaseSession(){return!!this.#n.getPaseSession()}async close(){this.#c=!0,this.#s.close(),await this.#i.close(),await this.#o.close(),await this.exchangeManager.close(),await this.#n.close(),await this.#a.close(),await this.#r.close()}getActiveSessionInformation(){return this.#n.getActiveSessionInformation()}static of(t){if(t===void 0)throw new Re("Device operation without session");let n=t.owner;if(!(n instanceof e))throw new Re("Device operation on non-device session");return n}};var ya="_services._dns-sd._udp.local",po="_matterc._udp.local",Zm="_matterd._udp.local",Zs="_matter._tcp.local",EM=e=>`_I${e}._sub.${Zs}`,Nv=(e,t)=>`${e}-${t}.${Zs}`,Zp=e=>`_V${e}._sub.${po}`,Qp=e=>`_T${e}._sub.${po}`,Jp=e=>`_S${e}._sub.${po}`,e0=e=>`_L${e}._sub.${po}`,t0=()=>`_CM._sub.${po}`,n0=e=>`${e}.${po}`;var Pv=class{#e;#t;#n;#i=!1;constructor(t,n,i){this.#e=t,this.#t=n,this.#n=i}async close(){this.#i||(this.#i=!0,await this.#t.expireAllAnnouncements(this.#e),this.#n())}async setCommissionMode(t,n){this.#o(),await this.#t.setCommissionMode(this.#e,t,n)}async setFabrics(t,n=!1){this.#o(),n&&await this.#t.expireCommissioningAnnouncement(this.#e),await this.#t.setFabrics(this.#e,t)}async setCommissionerInfo(t){this.#o(),await this.#t.setCommissionerInfo(this.#e,t)}async announce(){this.#o(),await this.#t.announce(this.#e)}async expireFabricAnnouncement(){this.#o(),await this.#t.expireFabricAnnouncement(this.#e)}async expireCommissioningAnnouncement(){this.#o(),await this.#t.expireCommissioningAnnouncement(this.#e)}async expireAllAnnouncements(){this.#o(),await this.#t.expireAllAnnouncements(this.#e)}#o(){if(this.#i)throw new ce("Illegal operation on closed MdnsInstanceBroadcaster")}};var OM=J.get("MdnsServer"),J5="224.0.0.251",e2="ff02::fb",t2=5353,du=(e=>(e[e.Commissionable=0]="Commissionable",e[e.Operative=1]="Operative",e))(du||{}),kv=class e{static async create(t,n){let{enableIpv4:i=!0,netInterface:r}=n??{};return new e(t,await hm.create({network:t,netInterface:r,broadcastAddressIpv4:i?J5:void 0,broadcastAddressIpv6:e2,listeningPort:t2}),r)}#e=new Map;#t=new Jy("MDNS discovery",async t=>{let n=new Map;for(let[i,r]of this.#e)n.set(i,await r(t));return n},15*60*1e3);#n=new Map;#i;#o;#r;constructor(t,n,i){n.onMessage((r,a,s)=>void this.#a(r,a,s)),this.#i=t,this.#o=n,this.#r=i}buildDnsRecordKey(t,n){return`${t.name}-${t.recordClass}-${t.recordType}-${n}`}buildTypePortKey(t,n){return`${n}-${t}`}isKeyForPort(t,n){return t.startsWith(`${n}-`)}async#a(t,n,i){if(i===void 0)return;let r=await this.#t.get(i);if(r.size===0)return;let a=lr.decode(t);if(a===void 0)return;let{transactionId:s,messageType:c,queries:l,answers:d}=a;if(!(c!==Jo.Query&&c!==Jo.TruncatedQuery)&&l.length!==0)for(let f of r.values()){let g=l.flatMap(y=>this.#m(y,f));if(g.length===0)continue;let b=l.find(y=>y.recordType!==Yn.A&&y.recordType!==Yn.AAAA)!==void 0?f.filter(y=>!g.includes(y)&&y.recordType!==Yn.PTR):[];if(d.length>0){for(let y of d)if(g=g.filter(S=>!Rn(S,y)),g.length===0)break;if(g.length===0)continue;if(b.length>0)for(let y of d)b=b.filter(S=>!Rn(S,y))}let w=Ne.nowMs(),O=l.filter(y=>!y.uniCastResponse).length===0,D=g.map(y=>({timeSinceLastMultiCast:w-(this.#n.get(this.buildDnsRecordKey(y,i))??0),ttl:y.ttl}));if(O&&D.filter(({timeSinceLastMultiCast:y,ttl:S})=>y>S/4*1e3).length>0&&(O=!1),!O){if(g=g.filter((y,S)=>D[S].timeSinceLastMultiCast>1e3),g.length===0)continue;g.forEach(y=>this.#n.set(this.buildDnsRecordKey(y,i),w))}this.#c({messageType:Jo.Response,transactionId:s,answers:g,additionalRecords:b},i,O?n:void 0).catch(y=>{OM.warn(`Failed to send mDNS response to ${n}`,y)}),await Ne.sleep("MDNS delay",20+Math.floor(Math.random()*100))}}async#s(t,n){let i=n.filter(({recordType:a})=>a===Yn.PTR),r=n.filter(({recordType:a})=>a!==Yn.PTR);await this.#c({messageType:Jo.Response,answers:i,additionalRecords:r},t)}async#c(t,n,i){let{answers:r=[],additionalRecords:a=[]}=t,s=[...r],c=[...a],l={...t,answers:[],additionalRecords:[]},d=lr.encode(l),f=d.length;for(;s.length>0;){let g=s.shift();if(g===void 0)break;let b=lr.encodeRecord(g);f+=b.length,f>Mf&&(await this.#o.send(lr.encode(l),n,i),l.answers.length=0,f=d.length+b.length),l.answers.push(b)}for(let g of c){let b=lr.encodeRecord(g);if(f+=b.length,f>Mf)break;l.additionalRecords.push(b)}await this.#o.send(lr.encode(l),n,i)}async announce(t){await Promise.all((await this.#l()).map(async({name:n})=>{let i=await this.#t.get(n);for(let[r,a]of i)t!==void 0&&!this.isKeyForPort(r,t)||(await this.#s(n,a),await Ne.sleep("MDNS delay",20+Math.floor(Math.random()*100)))}))}async expireAnnouncements(t,n){await Promise.all(this.#t.keys().map(async i=>{let r=await this.#t.get(i);for(let[a,s]of r){if(t!==void 0&&!this.isKeyForPort(a,t)||t!==void 0&&n!==void 0&&a!==this.buildTypePortKey(n,t))continue;let c;s.forEach(l=>{l.ttl=0,c===void 0&&l.recordType===Yn.TXT&&(c=l.name)}),OM.debug("Expiring records",fe.dict({instanceName:c,port:t,netInterface:i})),await this.#s(i,s),this.#e.delete(a),await Ne.sleep("MDNS delay",20+Math.floor(Math.random()*100))}})),await this.#t.clear(),this.#n.clear()}async setRecordsGenerator(t,n,i){await this.#t.clear(),this.#n.clear(),this.#e.set(this.buildTypePortKey(n,t),i)}async close(){await this.#t.close(),this.#n.clear(),await this.#o.close()}#l(){return this.#r===void 0?this.#i.getNetInterfaces():[{name:this.#r}]}#m({name:t,recordType:n},i){return n===Yn.ANY?i.filter(r=>r.name===t):i.filter(r=>r.name===t&&r.recordType===n)}};var Qm=J.get("MdnsBroadcaster"),hW={powerCycle:!0,deviceManual:!0},Fv=class e{#e=new Set;#t=new Map;#n;#i;#o;#r=new mr;static async create(t,n){let{enableIpv4:i,multicastInterface:r}=n??{};return new e(t,await kv.create(t,{enableIpv4:i,netInterface:r}),i)}constructor(t,n,i){this.#n=t,this.#i=n,this.#o=i}createInstanceBroadcaster(t){let n=new Pv(t,this,()=>{this.#r.delete(n)});return this.#r.add(n),n}#a(t){let{sessionIdleInterval:n,sessionActiveInterval:i,sessionActiveThreshold:r}=t;if(n!==void 0&&n>36e5)throw new ce("Session Idle Interval must be less than 1 hour");if(i!==void 0&&i>36e5)throw new ce("Session Active Interval must be less than 1 hour");if(r!==void 0&&r>65535)throw new ce("Session Active Threshold must be less than 65535 seconds")}#s(t,n){let i=["customInstruction","pressRestButtonForNumberOfSeconds","pressResetButtonUntilLightBlinks","pressResetButtonForNumberOfSecondsWithApplicationOfPower","pressResetButtonUntilLightBlinksWithApplicationOfPower","pressResetButtonNumberOfTimes","pressSetupButtonForNumberOfSeconds","pressSetupButtonUntilLightBlinks","pressSetupButtonForNumberOfSecondsWithApplicationOfPower","pressSetupButtonUntilLightBlinksWithApplicationOfPower","pressSetupButtonNumberOfTimes"].find(r=>t[r]===!0);if(i&&n.length===0)throw new ce(`Pairing instructions required for Pairing Hint of type "${i}"`)}#c(t,n){let i=new Array;return n.forEach(r=>{Dr(r)?i.push(QI(t,r)):Wr(r)?this.#o&&i.push(ZI(t,r)):Qm.warn(`Unknown IP address type: ${r}`)}),i}async setCommissionMode(t,n,i){this.#a(i);let{name:r,deviceType:a,vendorId:s,productId:c,discriminator:l,sessionIdleInterval:d=ja,sessionActiveInterval:f=Ha,sessionActiveThreshold:g=Ga,pairingHint:b=hW,pairingInstructions:w=""}=i;this.#s(b,w),await this.expireCommissioningAnnouncement(t),Qm.debug(`Announce commissioning mode ${n} ${r} ${a} ${s} ${c} ${l} ${t}`),this.#e.add(t);let O=l>>8&15,D=we.toHex(qe.getRandomData(8)).toUpperCase(),y=Zp(s),S=Qp(a),L=Jp(O),H=e0(l),oe=t0(),z=n0(D);await this.#i.setRecordsGenerator(t,du.Commissionable,async Q=>{let N=await this.#n.getIpMac(Q);if(N===void 0)return[];let{mac:q,ipV4:G,ipV6:te}=N,K=q.replace(/:/g,"").toUpperCase()+"0000.local";Qm.debug("Announcement Generator: Commission mode ",fe.dict({mode:n,qname:z,port:t,interface:Q}));let ae=[ai(ya,po),ai(ya,y),ai(ya,S),ai(ya,L),ai(ya,H),ai(ya,oe),ai(po,z),ai(y,z),ai(S,z),ai(L,z),ai(H,z),ai(oe,z),Dy(z,{priority:0,weight:0,port:t,target:K}),Oy(z,[`VP=${s}+${c}`,`DT=${a}`,`DN=${r}`,`SII=${d}`,`SAI=${f}`,`SAT=${g}`,`D=${l}`,`CM=${n}`,`PH=${aM.encode(b)}`,`PI=${w}`])];return ae.push(...this.#c(K,[...te,...G])),ae})}async setFabrics(t,n,{sessionIdleInterval:i=ja,sessionActiveInterval:r=Ha,sessionActiveThreshold:a=Ga}={}){let s=this.#t.get(t);if(s!==void 0){let c=new Set(n.map(l=>l.fabricIndex));s.every(l=>c.has(l))||await this.expireFabricAnnouncement(t)}this.#t.set(t,n.map(c=>c.fabricIndex)),await this.#i.setRecordsGenerator(t,du.Operative,async c=>{let l=await this.#n.getIpMac(c);if(l===void 0)return[];let{mac:d,ipV4:f,ipV6:g}=l,b=d.replace(/:/g,"").toUpperCase()+"0000.local",w=[ai(ya,Zs)];return n.forEach(O=>{let{operationalId:D,nodeId:y}=O,S=we.toHex(D).toUpperCase(),L=EM(S),H=Nv(S,Rt.toHexString(y));Qm.debug("Announcement Generator: Fabric",fe.dict({id:`${we.toHex(D)}/${y}`,qname:H,port:t,interface:c}));let oe=[ai(ya,L),ai(Zs,H),ai(L,H),Dy(H,{priority:0,weight:0,port:t,target:b}),Oy(H,[`SII=${i}`,`SAI=${r}`,`SAT=${a}`])];w.push(...oe)}),w.push(...this.#c(b,[...g,...f])),w})}async setCommissionerInfo(t,{deviceName:n,deviceType:i,vendorId:r,productId:a,sessionIdleInterval:s=ja,sessionActiveInterval:c=Ha,sessionActiveThreshold:l=Ga}){Qm.debug("Announcement: Commissioner",fe.dict({port:t,deviceType:i}));let d=we.toHex(qe.getRandomData(8)).toUpperCase(),f=`_T${i}._sub.${Zm}`,g=`_V${r}._sub.${Zm}`,b=`${d}.${Zm}`;this.#e.add(t),await this.#i.setRecordsGenerator(t,du.Commissionable,async w=>{let O=await this.#n.getIpMac(w);if(O===void 0)return[];let{mac:D,ipV4:y,ipV6:S}=O,L=D.replace(/:/g,"").toUpperCase()+"0000.local",H=[ai(ya,Zm),ai(Zm,g),ai(g,b),Dy(b,{priority:0,weight:0,port:t,target:L}),Oy(b,[`VP=${r}+${a}`,`DT=${i}`,`DN=${n}`,`SII=${s}`,`SAI=${c}`,`SAT=${l}`])];return i!==void 0&&(H.push(ai(ya,f)),H.push(ai(f,b))),H.push(...this.#c(L,[...S,...y])),H})}async announce(t){this.#i.announce(t).catch(n=>Qm.error(n))}async expireFabricAnnouncement(t){this.#t.has(t)&&(await this.#i.expireAnnouncements(t,du.Operative),this.#t.delete(t))}async expireCommissioningAnnouncement(t){this.#e.has(t)&&(await this.#i.expireAnnouncements(t,du.Commissionable),this.#e.delete(t))}async expireAllAnnouncements(t){!this.#e.has(t)&&!this.#t.has(t)||(await this.#i.expireAnnouncements(t),this.#e.delete(t),this.#t.delete(t))}async close(){for(;this.#r.size;)await this.#r.deleted;await this.#i.expireAnnouncements(),this.#e.clear(),this.#t.clear(),await this.#i.close()}};var Ai=J.get("MdnsScanner"),n2=1.5,Jm=class e{get type(){return _n.UDP}static async create(t,n){let{enableIpv4:i,netInterface:r}=n??{};return new e(await hm.create({network:t,netInterface:r,broadcastAddressIpv4:i?J5:void 0,broadcastAddressIpv6:e2,listeningPort:t2}),i)}#e=new Map;#t;#n=n2;#i=new Map;#o=new Map;#r=new Map;#a;#s=!1;#c;#l;constructor(t,n){t.onMessage((i,r,a)=>this.#C(i,r,a)),this.#c=t,this.#l=n,this.#a=Ne.getPeriodicTimer("Discovered node expiration",60*1e3,()=>this.#P()).start()}async#m(){this.#t?.stop();let t=Array.from(this.#e.values()),n=t.flatMap(({queries:d})=>d),i=t.flatMap(({answers:d})=>d);this.#t=Ne.getTimer("MDNS discovery",this.#n*1e3,()=>this.#m()).start(),Ai.debug(`Sending ${n.length} query records for ${this.#e.size} queries with ${i.length} known answers. Re-Announce in ${this.#n} seconds`);let r=this.#n*2;this.#n=Math.min(r,60*60);let a=[...i],s={messageType:Jo.TruncatedQuery,transactionId:0,queries:n,authorities:[],answers:[],additionalRecords:[]},c=lr.encode(s),l=c.length;for(;a.length>0;){let d=a.shift();if(d===void 0)break;let f=lr.encodeRecord(d);l+=f.length,l>Mf&&(s.answers.length===0&&Ai.warn(`MDNS Query with ${J.toJSON(n)} is too big to fit into a single MDNS message. Send anyway, but please report!`),await this.#c.send(lr.encode(s)),s.queries.length=0,s.answers.length=0,l=c.length+f.length),s.answers.push(f)}await this.#c.send(lr.encode({...s,messageType:Jo.Query}))}#d(t,n,i=[]){let r=this.#e.get(t);if(r){let{queries:a}=r,s=n.filter(c=>!a.some(l=>l.name===c.name&&l.recordType===c.recordType&&l.recordClass===c.recordClass));if(s.length===0){Ai.debug(`No new query records for query ${t}, keeping existing queries and do not re-announce.`);return}n=[...s,...a],i=[...r.answers,...i]}this.#e.set(t,{queries:n,answers:i}),Ai.debug(`Set ${n.length} query records for query ${t}: ${J.toJSON(n)}`),this.#t?.stop(),this.#n=n2,this.#t=Ne.getTimer("MDNS discovery",0,()=>this.#m()).start()}#u(){return Array.from(this.#e.values()).flatMap(({answers:t})=>t)}#f(t){this.#e.delete(t),this.#e.size===0?(Ai.debug(`Removing last query ${t} and stopping announce timer`),this.#t?.stop(),this.#n=n2):Ai.debug(`Removing query ${t}`)}#h(t){let n=this.#i.get(t);if(n===void 0)return;let{addresses:i}=n;if(i.size!==0)return{...n,addresses:this.#v(Array.from(i.values())).map(({ip:r,port:a})=>({ip:r,port:a,type:"udp"}))}}#v(t){return t.sort((n,i)=>{let r=Dr(n.ip),a=Dr(i.ip);if(r&&!a)return-1;if(!r&&a)return 1;if(r&&a){if(n.ip.startsWith("fd")&&!i.ip.startsWith("fd"))return-1;if(!n.ip.startsWith("fd")&&i.ip.startsWith("fd"))return 1;if(n.ip.startsWith("fe80:")&&!i.ip.startsWith("fe80:"))return-1;if(!n.ip.startsWith("fe80:")&&i.ip.startsWith("fe80:"))return 1}return 0})}async#y(t,n,i=!0){let{promise:r,resolver:a}=Oa(),s=n!==void 0?Ne.getTimer("MDNS timeout",n*1e3,()=>this.#p(t,!0)).start():void 0;return this.#r.set(t,{resolver:a,timer:s,resolveOnUpdatedRecords:i}),Ai.debug(`Registered waiter for query ${t} with ${n!==void 0?`timeout ${n} seconds`:"no timeout"}${i?"":" (not resolving on updated records)"}`),{promise:r}}#p(t,n,i=!1){let r=this.#r.get(t);if(r===void 0)return;let{timer:a,resolver:s,resolveOnUpdatedRecords:c}=r;i&&!c||(Ai.debug(`Finishing waiter for query ${t}, resolving: ${n}`),a!==void 0&&a.stop(),n&&s(),this.#r.delete(t))}#x(t){return this.#r.has(t)}#b(t,n){let i=we.toHex(t).toUpperCase();return Nv(i,Rt.toHexString(n))}async findOperationalDevice({operationalId:t},n,i,r=!1){if(this.#s)throw new ce("Cannot discover operational device because scanner is closing.");let a=this.#b(t,n),s=r?void 0:this.#h(a);if(s===void 0){let{promise:c}=await this.#y(a,i);this.#d(a,[{name:a,recordClass:ws.IN,recordType:Yn.SRV}]),await c,s=this.#h(a),this.#f(a)}return s}cancelOperationalDeviceDiscovery(t,n,i=!0){let r=this.#b(t.operationalId,n);this.#p(r,i)}cancelCommissionableDeviceDiscovery(t,n=!0){let i=this.#g(t);this.#p(i,n)}getDiscoveredOperationalDevice({operationalId:t},n){return this.#h(this.#b(t,n))}#w(t){let n=Array.from(this.#o.values()),i=new Array;return"instanceId"in t?i.push(...n.filter(({instanceId:r})=>r===t.instanceId)):"longDiscriminator"in t?i.push(...n.filter(({D:r})=>r===t.longDiscriminator)):"shortDiscriminator"in t?i.push(...n.filter(({SD:r})=>r===t.shortDiscriminator)):"vendorId"in t&&"productId"in t?i.push(...n.filter(({V:r,P:a})=>r===t.vendorId&&a===t.productId)):"vendorId"in t?i.push(...n.filter(({V:r})=>r===t.vendorId)):"deviceType"in t?i.push(...n.filter(({DT:r})=>r===t.deviceType)):"productId"in t?i.push(...n.filter(({P:r})=>r===t.productId)):Object.keys(t).length===0&&i.push(...n.filter(({CM:r})=>r===1||r===2)),i.map(r=>({...r,addresses:this.#v(Array.from(r.addresses.values())).map(({ip:a,port:s})=>({ip:a,port:s,type:"udp"})),expires:void 0}))}#g(t){if("instanceId"in t)return n0(t.instanceId);if("longDiscriminator"in t)return e0(t.longDiscriminator);if("shortDiscriminator"in t)return Jp(t.shortDiscriminator);if("vendorId"in t&&"productId"in t)return`_VP${t.vendorId}+${t.productId}`;if("vendorId"in t)return Zp(t.vendorId);if("deviceType"in t)return Qp(t.deviceType);if("productId"in t)return`_P${t.productId}`;if(Object.keys(t).length===0)return t0();throw new ce(`Invalid commissionable device identifier : ${J.toJSON(t)}`)}#T(t){let n=t.indexOf(".");return n!==-1?t.substring(0,n):t}#S(t,n){if(this.#s)throw new ce("Cannot discover commissionable device because scanner is closing.");let i=this.#g({instanceId:this.#T(t)});if(this.#e.has(i))return i;let r=this.#g({longDiscriminator:n.D});if(this.#e.has(r))return r;let a=this.#g({shortDiscriminator:n.SD});if(this.#e.has(a))return a;if(n.V!==void 0&&n.P!==void 0){let c=this.#g({vendorId:Wi(n.V),productId:n.P});if(this.#e.has(c))return c}if(n.V!==void 0){let c=this.#g({vendorId:Wi(n.V)});if(this.#e.has(c))return c}if(n.DT!==void 0){let c=this.#g({deviceType:n.DT});if(this.#e.has(c))return c}if(n.P!==void 0){let c=this.#g({productId:n.P});if(this.#e.has(c))return c}let s=this.#g({});if(this.#e.has(s))return s}#I(t){let n=new Array;return n.push(po),"instanceId"in t?n.push(n0(t.instanceId)):"longDiscriminator"in t?n.push(e0(t.longDiscriminator)):"shortDiscriminator"in t?n.push(Jp(t.shortDiscriminator)):"vendorId"in t?n.push(Zp(t.vendorId)):"deviceType"in t?n.push(Qp(t.deviceType)):n.push(t0()),n.map(i=>({name:i,recordClass:ws.IN,recordType:Yn.PTR}))}async findCommissionableDevices(t,n=5,i=!1){let r=i?[]:this.#w(t).filter(({addresses:a})=>a.length>0);if(r.length===0){let a=this.#g(t),{promise:s}=await this.#y(a,n);this.#d(a,this.#I(t)),await s,r=this.#w(t),this.#f(a)}return r}async findCommissionableDevicesContinuously(t,n,i=900){let r=new Set,a=Ne.nowMs()+i*1e3,s=this.#g(t);for(this.#d(s,this.#I(t));;){this.#w(t).forEach(d=>{let{deviceIdentifier:f}=d;r.has(f)||(r.add(f),n(d))});let c=Math.ceil((a-Ne.nowMs())/1e3);if(c<=0)break;let{promise:l}=await this.#y(s,c,!1);await l}return this.#w(t)}getDiscoveredCommissionableDevices(t){return this.#w(t)}async close(){this.#s=!0,this.#a.stop(),this.#t?.stop(),await this.#c.close(),[...this.#r.keys()].forEach(t=>this.#p(t,!!this.#r.get(t)?.timer))}#C(t,n,i){if(this.#s)return;let r=lr.decode(t);if(r===void 0||r.messageType!==Jo.Response&&r.messageType!==Jo.TruncatedResponse)return;let a=[...r.answers,...r.additionalRecords];this.#E(a,this.#u(),i)||this.#R(a,this.#u(),i)}#A(t,n,i){return t.filter(({name:a,recordType:s})=>(s===Yn.A&&this.#l||s===Yn.AAAA)&&a===n).map(({value:a,ttl:s})=>({value:a.startsWith("fe80::")?`${a}%${i}`:a,ttl:s}))}#E(t,n,i){let r=!1,a=t.find(({name:c,recordType:l})=>l===Yn.TXT&&c.endsWith(Zs));a!==void 0&&(this.#O(a,i),r=!0);let s=t.find(({name:c,recordType:l})=>l===Yn.SRV&&c.endsWith(Zs))??n.find(({name:c,recordType:l})=>l===Yn.SRV&&c.endsWith(Zs));return s!==void 0&&(this.#D(s,t,n,i),r=!0),r}#O(t,n){let{name:i,value:r,ttl:a}=t;if(a===0){this.#i.has(i)&&(Ai.debug(`Removing operational device ${i} from cache (interface ${n}) because of ttl=0`),this.#i.delete(i));return}if(!Array.isArray(r))return;let s=this.#M(t);if(s===void 0)return;let c=this.#i.get(i);c!==void 0?c={...c,expires:Ne.nowMs()+a*1e3,...s}:(Ai.debug(`Adding operational device ${i} in cache (interface ${n}) with TXT data:`,e.discoveryDataDiagnostics(s)),c={deviceIdentifier:i,addresses:new Map,expires:Ne.nowMs()+a*1e3,...s}),this.#i.set(i,c)}#D(t,n,i,r){let{name:a,ttl:s,value:{target:c,port:l}}=t;if(s===0)return this.#i.has(a)&&(Ai.debug(`Removing operational device ${a} from cache (interface ${r}) because of ttl=0`),this.#i.delete(a)),!0;let d=this.#A([...n,...i],c,r),f=this.#i.has(a),g=this.#i.get(a)??{deviceIdentifier:a,addresses:new Map,expires:Ne.nowMs()+s*1e3},{addresses:b}=g;if(d.length>0){for(let{value:w,ttl:O}of d){if(O===0){Ai.debug(`Removing IP ${w} for operational device ${a} from cache (interface ${r}) because of ttl=0`),b.delete(w);continue}let D=b.get(w)??{ip:w,port:l,type:"udp",expires:0};D.expires=Ne.nowMs()+O*1e3,b.set(D.ip,D)}g.addresses=b,this.#i.has(a)||Ai.debug(`Added IPs for operational device ${a} to cache (interface ${r}):`,...e.deviceAddressDiagnostics(b)),this.#i.set(a,g)}if(b.size===0&&this.#x(a)){let w=[{name:c,recordClass:ws.IN,recordType:Yn.AAAA}];this.#l&&w.push({name:c,recordClass:ws.IN,recordType:Yn.A}),Ai.debug(`Requesting IP addresses for operational device ${a} (interface ${r}).`),this.#d(a,w,n)}else b.size>0&&this.#p(a,!0,f);return!0}#R(t,n,i){let r=t.filter(({name:l})=>l.endsWith(po));if(!r.length&&(r=n.filter(({name:l})=>l.endsWith(po)),!r.length))return;let a=new Set,s=r.filter(({recordType:l})=>l===Yn.TXT);for(let l of s){let{name:d,ttl:f}=l;if(f===0){this.#o.has(d)&&(Ai.debug(`Removing commissionable device ${d} from cache (interface ${i}) because of ttl=0`),this.#o.delete(d));continue}let g=this.#N(l);if(g===void 0)continue;if(g.instanceId=this.#T(d),g.deviceIdentifier=g.instanceId,g.D!==void 0&&g.SD===void 0&&(g.SD=g.D>>8&15),g.VP!==void 0){let w=g.VP.split("+");g.V=w[0]!==void 0?parseInt(w[0]):void 0,g.P=w[1]!==void 0?parseInt(w[1]):void 0}let b=this.#o.get(d);b===void 0?(a.add(d),Ai.debug(`Found commissionable device ${d} with data:`,e.discoveryDataDiagnostics(g))):g.addresses=b.addresses,this.#o.set(d,g)}let c=r.filter(({recordType:l})=>l===Yn.SRV);for(let l of c){let d=this.#o.get(l.name);if(d===void 0)continue;let{value:{target:f,port:g},ttl:b}=l;if(b===0){Ai.debug(`Removing commissionable device ${l.name} from cache (interface ${i}) because of ttl=0`),this.#o.delete(l.name);continue}let w=d.addresses.size>0,O=this.#A([...t,...n],f,i);if(O.length>0)for(let{value:y,ttl:S}of O){if(S===0){Ai.debug(`Removing IP ${y} for commissionable device ${l.name} from cache (interface ${i}) because of ttl=0`),d.addresses.delete(y);continue}let L=d.addresses.get(y)??{ip:y,port:g,type:"udp",expires:0};L.expires=Ne.nowMs()+S*1e3,d.addresses.set(y,L)}if(this.#o.set(l.name,d),d.addresses.size===0){let y=this.#S("",d);if(y===void 0)continue;let S=[{name:f,recordClass:ws.IN,recordType:Yn.AAAA}];this.#l&&S.push({name:f,recordClass:ws.IN,recordType:Yn.A}),Ai.debug(`Requesting IP addresses for commissionable device ${l.name} (interface ${i}).`),this.#d(y,S,t)}if(d.addresses.size===0)continue;let D=this.#S(l.name,d);D!==void 0&&(a.delete(l.name),this.#p(D,!0,w))}if(a.size!==0)for(let l of Array.from(a.values())){let d=this.#o.get(l);if(d===void 0)continue;let f=this.#S("",d);f!==void 0&&(Ai.debug(`Requesting more records for commissionable device ${l} (interface ${i}).`),this.#d(f,[{name:l,recordClass:ws.IN,recordType:Yn.ANY}],t))}}#M(t){let{value:n}=t,i={};if(Array.isArray(n))for(let r of n){let[a,s]=r.split("=");if(!(a===void 0||s===void 0))if(["SII","SAI","SAT","T","D","CM","DT","PH","ICD"].includes(a)){let c=parseInt(s);if(isNaN(c))continue;i[a]=c}else["VP","DN","RI","PI"].includes(a)&&(i[a]=s)}return(i.T===void 0||i.T===1)&&(i.T=0),i.ICD===void 0&&(i.ICD=0),i}#N(t){let{value:n,ttl:i}=t;if(!Array.isArray(n))return;let r={addresses:new Map,expires:Ne.nowMs()+i*1e3,...this.#M(t)};if(!(r.D===void 0||r.CM===void 0))return r}#P(){let t=Ne.nowMs();[...this.#i.entries()].forEach(([n,{addresses:i,expires:r}])=>{t<r&&[...i.entries()].forEach(([a,{expires:s}])=>{t<s||i.delete(a)}),(t>=r||i.size===0)&&this.#i.delete(n)}),[...this.#o.entries()].forEach(([n,{addresses:i,expires:r}])=>{t<r&&[...i.entries()].forEach(([a,{expires:s}])=>{t<s||i.delete(a)}),(t>=r||i.size===0)&&this.#o.delete(n)})}static discoveryDataDiagnostics(t){return fe.dict({SII:t.SII,SAI:t.SAI,SAT:t.SAT,T:t.T,DT:t.DT,PH:t.PH,ICD:t.ICD,VP:t.VP,DN:t.DN,RI:t.RI,PI:t.PI})}static deviceAddressDiagnostics(t){return Array.from(t.values()).map(n=>fe.dict({ip:n.ip,port:n.port,type:n.type}))}};var DM=J.get("MDNS"),uu=class e{#e;#t;#n;#i;limitedToNetInterface;get enableIpv4(){return this.#i}constructor(t,n){t.set(e,this),t.runtime.add(this);let i=t.get(cm);this.#i=i.boolean("mdns.ipv4")??n?.ipv4??!0,this.limitedToNetInterface=i.get("mdns.networkInterface",n?.networkInterface),this.#n=Mt(this,async()=>{let r=t.get(nr);this.#e=await Fv.create(r,{enableIpv4:this.enableIpv4,multicastInterface:this.limitedToNetInterface}),this.#t=await Jm.create(r,{enableIpv4:this.enableIpv4,netInterface:this.limitedToNetInterface})})}static[Jt.create](t){return new this(t)}createInstanceBroadcaster(t){return this.broadcaster.createInstanceBroadcaster(t)}get broadcaster(){return this.#n.assert("MDNS broadcaster",this.#e)}get scanner(){return this.#n.assert("MDNS scanner",this.#t)}get[fe.value](){return"MDNS"}get construction(){return this.#n}async[Symbol.asyncDispose](){await this.#n.close(async()=>{let t=Pe.then(this.#e?.close(),void 0,i=>DM.error("Error disposing of MDNS broadcaster",i)),n=Pe.then(this.#t?.close(),void 0,i=>DM.error("Error disposing of MDNS scanner",i));await Promise.all([t,n]),this.#e=this.#t=void 0})}};var on=J.get("ControllerCommissioner");var Fn=class extends lt{},i2=class extends Fn{},fW=6e4,Lv=class{#e;#t;#n;#i;#o;#r=new Array;#a=new Map;#s=new Map;#c;#l;#m;#d=1;#u={};#f=fW;constructor(t,n,i,r,a){this.#e=t,this.#t=n,this.#n=i,this.#i=a,this.#o=r,on.debug(`Commissioning options: ${J.toJSON(r)}`),this.#v()}async executeCommissioning(){this.#y();for(let t of this.#r){on.info(`Executing commissioning step ${t.stepNumber}.${t.subStepNumber}: ${t.name}`);try{let n=await t.stepLogic();if(this.#p(t,n),this.#m!==void 0){let i=Ne.nowMs()-this.#m;if(this.#l!==void 0&&Ne.nowMs()>this.#l)throw on.error(`Commissioning step ${t.stepNumber}.${t.subStepNumber}: ${t.name} succeeded, but commissioning took too long in general!`),new Fn("Commissioning took too long!");i>this.#f/2&&(on.info(`After Commissioning step ${t.stepNumber}.${t.subStepNumber}: ${t.name} succeeded, ${Math.floor(i/1e3)}s elapsed since last arm failsafe, re-arming failsafe`),await this.#g())}if(n.code===3)break}catch(n){if(n instanceof i2)on.error(`Commissioning step ${t.stepNumber}.${t.subStepNumber}: ${t.name} failed with recoverable error: ${n.message} ... Continuing with process`);else if(n instanceof Fn||n instanceof ve){on.error(`Commissioning step ${t.stepNumber}.${t.subStepNumber}: ${t.name} failed with error: ${n.message} ... Aborting commissioning`),await this.#T(),ve.accept(n);let i=new Fn(n.message);throw i.stack=n.stack,i}else throw n}}}#h(t,n=co(0),i=!1){if(!i&&n===0){let a=this.#s.get(t.id);if(a!==void 0)return on.debug(`Returning existing cluster client for cluster ${t.name} (endpoint ${n}, isFeatureSpecific ${i})`),a}on.debug(`Creating new cluster client for cluster ${t.name} (endpoint ${n}, isFeatureSpecific ${i})`);let r=iM(t,n,this.#e);return this.#s.set(t.id,r),r}#v(){this.#r.push({stepNumber:0,subStepNumber:1,name:"GetInitialData",stepLogic:()=>this.#w()}),this.#r.push({stepNumber:3,subStepNumber:1,name:"GeneralCommissioning.ArmFailsafe",stepLogic:()=>this.#g()}),this.#r.push({stepNumber:5,subStepNumber:1,name:"GeneralCommissioning.ConfigureRegulatoryInformation",stepLogic:()=>this.#S()}),this.#r.push({stepNumber:5,subStepNumber:2,name:"TimeSynchronization.SynchronizeTime",stepLogic:()=>this.#I()}),this.#r.push({stepNumber:6,subStepNumber:1,name:"OperationalCredentials.DeviceAttestation",stepLogic:()=>this.#C()}),this.#r.push({stepNumber:7,subStepNumber:1,name:"OperationalCredentials.Certificates",stepLogic:()=>this.#A()}),this.#r.push({stepNumber:10,subStepNumber:1,name:"AccessControl",stepLogic:()=>this.#E()}),this.#e.channelType===_n.BLE?(this.#r.push({stepNumber:11,subStepNumber:1,name:"NetworkCommissioning.Validate",stepLogic:()=>this.#O()}),this.#o.wifiNetwork!==void 0&&this.#r.push({stepNumber:11,subStepNumber:2,name:"NetworkCommissioning.Wifi",stepLogic:()=>this.#D()}),this.#o.threadNetwork!==void 0&&this.#r.push({stepNumber:11,subStepNumber:3,name:"NetworkCommissioning.Thread",stepLogic:()=>this.#R()})):on.info(`Skipping NetworkCommissioning steps because the device is already on IP network (${this.#e.channelType})`),this.#r.push({stepNumber:12,subStepNumber:1,name:"Reconnect",stepLogic:()=>this.#M()}),this.#r.push({stepNumber:15,subStepNumber:1,name:"GeneralCommissioning.Complete",stepLogic:()=>this.#N()})}#y(){this.#r.sort((t,n)=>t.stepNumber!==n.stepNumber?t.stepNumber-n.stepNumber:t.subStepNumber-n.subStepNumber)}#p(t,n){this.#a.set(`${t.stepNumber}-${t.subStepNumber}`,n)}getCommissioningStepResult(t,n){return this.#a.get(`${t}-${n}`)}#x(t,{statusCode:n,debugText:i,fabricIndex:r}){if(on.debug(`Commissioning step ${t} returned ${n}, ${i}${r!==void 0?`, fabricIndex: ${r}`:""}`),n!==fn.NodeOperationalCertStatus.Ok)throw new Fn(`Commission error for "${t}": ${n}, ${i}${r!==void 0?`, fabricIndex: ${r}`:""}`)}#b(t,{errorCode:n,debugText:i}){if(on.debug(`Commissioning step ${t} returned ${n}, ${i}`),n!==Xt.CommissioningError.Ok)throw new Fn(`Commission error for "${t}": ${n}, ${i}`)}async#w(){let t=this.#h(Us.Cluster);this.#u.rootPartsList=await t.getPartsListAttribute(),this.#u.rootServerList=await t.getServerListAttribute();let n=await this.#e.getMultipleAttributes({attributes:[{clusterId:di.Complete.id,attributeId:di.Complete.attributes.featureMap.id},{clusterId:di.Complete.id,attributeId:di.Complete.attributes.networks.id}]}),i=new Array,r=new Array;for(let{path:{endpointId:c,attributeId:l},value:d}of n)l===di.Complete.attributes.featureMap.id?i.push({endpointId:c,value:d}):l===di.Complete.attributes.networks.id&&r.push({endpointId:c,value:d});this.#u.networkFeatures=i,this.#u.networkStatus=r;let a=this.#h(lo.Cluster);this.#u.vendorId=await a.getVendorIdAttribute(),this.#u.productId=await a.getProductIdAttribute(),this.#u.productName=await a.getProductNameAttribute();let s=this.#h(Xt.Cluster);return this.#u.supportsConcurrentConnection=await s.getSupportsConcurrentConnectionAttribute(),{code:0,breadcrumb:this.#d}}async#g(){let t=this.#h(Xt.Cluster);if(this.#u.basicCommissioningInfo===void 0){let n=await t.getBasicCommissioningInfoAttribute();this.#u.basicCommissioningInfo=n,this.#f=n.failSafeExpiryLengthSeconds*1e3,this.#c=Ne.nowMs(),this.#l=this.#c+n.maxCumulativeFailsafeSeconds*1e3}return this.#b("armFailSafe",await t.armFailSafe({breadcrumb:this.#d,expiryLengthSeconds:this.#u.basicCommissioningInfo?.failSafeExpiryLengthSeconds})),this.#m=Ne.nowMs(),{code:0,breadcrumb:this.#d}}async#T(){try{await this.#h(Xt.Cluster).armFailSafe({breadcrumb:this.#d,expiryLengthSeconds:0})}catch(t){on.error("Error while resetting failsafe timer",t)}}async#S(){if(this.#u.networkFeatures===void 0)throw new Fn("No network features collected. This should never happen.");if(this.#u.networkFeatures.some(({value:{wiFiNetworkInterface:n,threadNetworkInterface:i}})=>n||i)){let n=this.#h(Xt.Cluster),i=await n.getLocationCapabilityAttribute();i===Xt.RegulatoryLocationType.IndoorOutdoor?i=this.#o.regulatoryLocation:on.debug(`Device does not support a configurable regulatory location type. Location is set to "${i===Xt.RegulatoryLocationType.Indoor?"Indoor":"Outdoor"}"`);let r=this.#o.regulatoryCountryCode,a=await n.setRegulatoryConfig({breadcrumb:this.#d++,newRegulatoryConfig:i,countryCode:r},{useExtendedFailSafeMessageResponseTimeout:!0});return a.errorCode===Xt.CommissioningError.ValueOutsideRange&&r!=="XX"?(on.debug(`Device does not support a configurable country code. Use "XX" instead of "${r}"`),r="XX",this.#b("setRegulatoryConfig",await n.setRegulatoryConfig({breadcrumb:this.#d,newRegulatoryConfig:i,countryCode:r},{useExtendedFailSafeMessageResponseTimeout:!0}))):this.#b("setRegulatoryConfig",a),{code:0,breadcrumb:this.#d}}return{code:2,breadcrumb:this.#d}}async#I(){return this.#u.rootServerList!==void 0&&this.#u.rootServerList.find(t=>t===t5.id)&&on.debug("TimeSynchronization cluster is supported"),{code:2,breadcrumb:this.#d}}async#C(){let t=this.#h(fn.Cluster),{certificate:n}=await t.certificateChainRequest({certificateType:fn.CertificateChainType.DacCertificate},{useExtendedFailSafeMessageResponseTimeout:!0}),{certificate:i}=await t.certificateChainRequest({certificateType:fn.CertificateChainType.PaiCertificate},{useExtendedFailSafeMessageResponseTimeout:!0}),{attestationElements:r,attestationSignature:a}=await t.attestationRequest({attestationNonce:qe.getRandomData(32)},{useExtendedFailSafeMessageResponseTimeout:!0});if(n.length===0||i.length===0||r.length===0||a.length===0)throw new Fn("Device Attestation data missing from device");return{code:0,breadcrumb:this.#d}}async#A(){let t=this.#h(fn.Cluster),{nocsrElements:n,attestationSignature:i}=await t.csrRequest({csrNonce:qe.getRandomData(32)},{useExtendedFailSafeMessageResponseTimeout:!0});if(n.length===0||i.length===0)throw new De("Invalid response from device");let{certSigningRequest:r}=Qg.decode(n),a=ui.getPublicKeyFromCsr(r);await t.addTrustedRootCertificate({rootCaCertificate:this.#t.rootCert},{useExtendedFailSafeMessageResponseTimeout:!0});let s=this.#t.generateNoc(a,this.#n.fabricId,this.#e.address.nodeId);return this.#x("addNoc",await t.addNoc({nocValue:s,icacValue:new Uint8Array(0),ipkValue:this.#n.identityProtectionKey,adminVendorId:this.#n.rootVendorId,caseAdminSubject:this.#n.rootNodeId},{useExtendedFailSafeMessageResponseTimeout:!0})),{code:0,breadcrumb:this.#d}}async#E(){return{code:2,breadcrumb:this.#d}}async#O(){if(this.#u.networkFeatures===void 0||this.#u.networkStatus===void 0)throw new Fn("No network features or status collected. This should never happen.");if(this.#o.wifiNetwork===void 0&&this.#o.threadNetwork===void 0){let t=this.#u.networkFeatures.length===0||this.#u.networkFeatures.some(({value:{ethernetNetworkInterface:i}})=>i===!0),n=this.#u.networkStatus.length===0||this.#u.networkStatus.some(({value:i})=>i.some(({connected:r})=>r));if(!t&&!n)throw new Fn("No Wi-Fi/Thread network credentials are configured for commissioning and no Ethernet interface is available on the device and no interface already connected.")}return{code:0,breadcrumb:this.#d}}async#D(){if(this.#o.wifiNetwork===void 0)return on.debug("WiFi network is not configured"),{code:2,breadcrumb:this.#d};if(this.#u.networkFeatures!==void 0&&this.#u.networkStatus!==void 0){let O=this.#u.networkFeatures.find(({endpointId:y})=>y===0)?.value,D=this.#u.networkStatus.find(({endpointId:y})=>y===0)?.value;if(on.debug(`Root Networks found: ${J.toJSON(O)} - ${J.toJSON(D)}`),O?.wiFiNetworkInterface!==!0)return on.debug("Commissionee does not support any WiFi network interface"),{code:2,breadcrumb:this.#d};if(D!==void 0&&D.length>0&&D[0].connected)return on.debug("Commissionee is already connected to the WiFi network"),this.#u.successfullyConnectedToNetwork=!0,{code:2,breadcrumb:this.#d}}on.debug("Configuring WiFi network ...");let t=this.#h(di.Cluster.with("WiFiNetworkInterface"),co(0),!0),n=we.fromString(this.#o.wifiNetwork.wifiSsid),i=we.fromString(this.#o.wifiNetwork.wifiCredentials),{networkingStatus:r,wiFiScanResults:a,debugText:s}=await t.scanNetworks({ssid:n,breadcrumb:this.#d++},{useExtendedFailSafeMessageResponseTimeout:!0});if(r!==di.NetworkCommissioningStatus.Success)throw new Fn(`Commissionee failed to scan for WiFi networks: ${s}`);if(a===void 0||a.length===0)throw new Fn(`Commissionee did not return any WiFi networks for the requested SSID ${this.#o.wifiNetwork.wifiSsid}`);let{networkingStatus:c,debugText:l,networkIndex:d}=await t.addOrUpdateWiFiNetwork({ssid:n,credentials:i,breadcrumb:this.#d++},{useExtendedFailSafeMessageResponseTimeout:!0});if(c!==di.NetworkCommissioningStatus.Success)throw new Fn(`Commissionee failed to add WiFi network: ${l}`);if(d===void 0)throw new Fn("Commissionee did not return network index");on.debug(`Commissionee added WiFi network ${this.#o.wifiNetwork.wifiSsid} with network index ${d}`);let f=await t.getNetworksAttribute();if(f[d]===void 0)throw new Fn(`Commissionee did not return network with index ${d}`);let{networkId:g,connected:b}=f[d];if(b)return this.#u.successfullyConnectedToNetwork=!0,on.debug(`Commissionee is already connected to WiFi network ${this.#o.wifiNetwork.wifiSsid} (networkId ${we.toHex(g)})`),{code:0,breadcrumb:this.#d};let w=await t.connectNetwork({networkId:g,breadcrumb:this.#d++},{useExtendedFailSafeMessageResponseTimeout:!0});if(w.networkingStatus!==di.NetworkCommissioningStatus.Success)throw new Fn(`Commissionee failed to connect to WiFi network: ${w.debugText}`);return this.#u.successfullyConnectedToNetwork=!0,on.debug(`Commissionee successfully connected to WiFi network ${this.#o.wifiNetwork.wifiSsid} (networkId ${we.toHex(g)})`),{code:0,breadcrumb:this.#d}}async#R(){if(this.#u.successfullyConnectedToNetwork)return on.debug("Node is already connected to a network. Skipping Thread configuration."),{code:2,breadcrumb:this.#d};if(this.#o.threadNetwork===void 0)return on.debug("Thread network is not configured"),{code:2,breadcrumb:this.#d};if(this.#u.networkFeatures!==void 0&&this.#u.networkStatus!==void 0){let w=this.#u.networkFeatures.find(({endpointId:D})=>D===0)?.value,O=this.#u.networkStatus.find(({endpointId:D})=>D===0)?.value;if(on.debug(`Root Networks found: ${J.toJSON(w)} - ${J.toJSON(O)}`),w?.threadNetworkInterface!==!0)return on.debug("Commissionee does not support any Thread network interface"),{code:2,breadcrumb:this.#d};if(O!==void 0&&O.length>0&&O[0].connected)return on.debug("Commissionee is already connected to the Thread network"),{code:2,breadcrumb:this.#d}}on.debug("Configuring Thread network ...");let t=this.#h(di.Cluster.with("ThreadNetworkInterface"),co(0),!0),{networkingStatus:n,threadScanResults:i,debugText:r}=await t.scanNetworks({breadcrumb:this.#d++},{useExtendedFailSafeMessageResponseTimeout:!0});if(n!==di.NetworkCommissioningStatus.Success)throw new Fn(`Commissionee failed to scan for Thread networks: ${r}`);if(i===void 0||i.length===0)throw new Fn(`Commissionee did not return any Thread networks for the requested Network ${this.#o.threadNetwork.networkName}`);let a=i.find(({networkName:w})=>w===this.#o.threadNetwork?.networkName);if(a===void 0)throw new Fn(`Commissionee did not return the requested Network ${this.#o.threadNetwork.networkName}: ${J.toJSON(i)}`);on.debug(`Commissionee found wanted Thread network ${this.#o.threadNetwork.networkName}: ${J.toJSON(a)}`);let{networkingStatus:s,debugText:c,networkIndex:l}=await t.addOrUpdateThreadNetwork({operationalDataset:we.fromHex(this.#o.threadNetwork.operationalDataset),breadcrumb:this.#d++},{useExtendedFailSafeMessageResponseTimeout:!0});if(s!==di.NetworkCommissioningStatus.Success)throw new Fn(`Commissionee failed to add Thread network: ${c}`);if(l===void 0)throw new Fn("Commissionee did not return network index");on.debug(`Commissionee added Thread network ${this.#o.threadNetwork.networkName} with network index ${l}`);let d=await t.getNetworksAttribute();if(d[l]===void 0)throw new Fn(`Commissionee did not return network with index ${l}`);let{networkId:f,connected:g}=d[l];if(g)return on.debug(`Commissionee is already connected to Thread network ${this.#o.threadNetwork.networkName} (networkId ${we.toHex(f)})`),{code:0,breadcrumb:this.#d};let b=await t.connectNetwork({networkId:f,breadcrumb:this.#d++},{useExtendedFailSafeMessageResponseTimeout:!0});if(b.networkingStatus!==di.NetworkCommissioningStatus.Success)throw new Fn(`Commissionee failed to connect to Thread network: ${b.debugText}`);return on.debug(`Commissionee successfully connected to Thread network ${this.#o.threadNetwork.networkName} (networkId ${we.toHex(f)})`),{code:0,breadcrumb:this.#d}}async#M(){on.debug("Reconnecting with device ...");let t=await this.#i(this.#e.address);return t===void 0?(on.debug("CASE commissioning handled externally, terminating commissioning flow"),{code:3,breadcrumb:this.#d}):(this.#e=t,this.#s.clear(),on.debug("Successfully reconnected with device ..."),{code:0,breadcrumb:this.#d})}async#N(){let t=this.#h(Xt.Cluster);return this.#b("commissioningComplete",await t.commissioningComplete(void 0,{useExtendedFailSafeMessageResponseTimeout:!0})),{code:0,breadcrumb:this.#d}}};var eh=J.get("ControllerDiscovery"),mu=class extends Ur{},Qs=class extends Ur{},jc=class{static async discoverDeviceAddressesByIdentifier(t,n,i=30){eh.info(`Start Discovering devices using identifier ${J.toJSON(n)} ...`);let r=t.map(async a=>{let s=await a.findCommissionableDevices(n,i);if(eh.info(`Found ${s.length} devices using identifier ${J.toJSON(n)}`),s.length===0)throw new Fn(`No device discovered using identifier ${J.toJSON(n)}! Please check that the relevant device is online.`);let c=s.filter(l=>l.addresses.length>0);if(c.length===0)throw new Fn(`Device discovered using identifier ${J.toJSON(n)}, but no Network addresses discovered.`);return c});return await Bf(r)}static async discoverCommissionableDevices(t,n,i={},r){let a=new Map;await Promise.all(t.map(async c=>{await c.findCommissionableDevicesContinuously(i,l=>{let{deviceIdentifier:d}=l;a.has(d)||(a.set(d,l),r?.(l))},n)}));let s=new Map;return t.forEach(c=>{c.getDiscoveredCommissionableDevices(i).forEach(d=>{let{deviceIdentifier:f}=d;a.has(f)||(a.set(f,d),r?.(d)),s.has(f)||s.set(f,d)})}),Array.from(s.values())}static async discoverOperationalDevice(t,n,i,r,a){let s=await i.findOperationalDevice(t,n,r,a);if(s===void 0)throw new mu("The operational device cannot be found on the network. Please make sure it is online.");return s}static cancelOperationalDeviceDiscovery(t,n,i){i.cancelOperationalDeviceDiscovery(t,n)}static cancelCommissionableDeviceDiscovery(t,n={}){t.cancelCommissionableDeviceDiscovery(n)}static async iterateServerAddresses(t,n,i,r,a){let s=async(d,f)=>{let g=Ds(d);eh.debug(`Try to communicate with ${g} ...`);try{return{result:await r(d,f),resultAddress:d,resultDevice:f}}catch(b){if(b instanceof n||b instanceof ci)eh.debug(`Failed to communicate with ${g}, try other servers ...`,b);else throw b}},c=new Map;t.forEach(d=>d.addresses.forEach(f=>c.set(Ds(f),{address:f,device:d})));let l=new Set;if(a!==void 0){let d=Ds(a),f=c.has(Ds(a))?c.get(d)?.device:void 0;c.delete(d);let g=await s(a,f);if(g!==void 0)return g;l.add(d)}for(;;){eh.debug(`Server addresses to try: ${Array.from(c).map(([f,{device:g}])=>`${g?.DN}: ${f}`).join(",")}`);let d=!1;for(let{address:f,device:g}of c.values()){let b=Ds(f);if(!l.has(b)){l.add(b);try{d=!0;let w=await s(f,g);if(w!==void 0)return w}catch(w){if(w instanceof n||w instanceof ci)eh.debug(`Failed to communicate with ${b}, try next server ...`,w);else throw w}}}if(d)(await i()).forEach(f=>f.addresses.forEach(g=>c.set(Ds(g),{address:g,device:f})));else throw new Qs("Failed to connect on any discovered server")}}};var Bv=class{};var hu=J.get("PeerSet"),pW=6e5,yW=5e3,gW=4,vW=100,r2=(e=>(e[e.None=0]="None",e[e.RetransmissionDiscovery=1]="RetransmissionDiscovery",e[e.TimedDiscovery=2]="TimedDiscovery",e[e.FullDiscovery=3]="FullDiscovery",e))(r2||{}),Uv=class e{#e;#t;#n;#i;#o;#r;#a=new mr;#s=new zs;#c=new zs;#l;#m;#d=new ng(gW,vW);#u=new Map;constructor(t){let{sessions:n,channels:i,exchanges:r,scanners:a,netInterfaces:s,store:c}=t;this.#e=n,this.#t=i,this.#n=r,this.#i=a,this.#o=s,this.#m=c,this.#r=new Dv(this.#e),this.#a.added.on(l=>{l.address=mi(l.address),this.#s.set(l.address,l)}),this.#a.deleted.on(l=>{this.#s.delete(l.address)}),this.#e.resubmissionStarted.on(this.#w.bind(this)),this.#l=Mt(this,async()=>{for(let l of await this.#m.loadPeers())this.#a.add(l)})}get added(){return this.#a.added}get deleted(){return this.#a.deleted}has(t){return"address"in t?this.#a.has(t):this.#s.has(t)}get size(){return this.#a.size}find(t){return this.#a.find(t)}filter(t){return this.#a.filter(t)}map(t){return this.#a.map(t)}[Symbol.iterator](){return this.#a[Symbol.iterator]()}get construction(){return this.#l}[Jt.create](t){let n=new e({sessions:t.get(Kn),channels:t.get(_c),exchanges:t.get(fo),scanners:t.get(_m),netInterfaces:t.get(um),store:t.get(Bv)});return t.set(e,n),n}get peers(){return this.#a}async connect(t,n){let{discoveryData:i}=n;t=mi(t);let r;try{r=this.#t.getChannel(t)}catch(s){qc.accept(s),r=await this.#f(t,n)}let a=this.#u.get(t)??{attributeValues:new Map,clusterDataVersions:new Map};return this.#u.set(t,a),new Xm(new zm(this.#n,r,async()=>{if(!this.#t.hasChannel(t))throw new Ur(`Device ${mi(t)} is currently not reachable.`);await this.#t.removeAllNodeChannels(t);let s=this.#p(t);if(s===void 0)throw hu.info(`Re-discovering device failed (no address found), remove all sessions for ${mi(t)}`),await this.#e.removeAllSessionsForNode(t),new Ur(`No operational address found for ${mi(t)}`);if(await this.#v(t,s,i,2e3)===void 0)throw new Ur(`${mi(t)} is not reachable.`);return this.#t.getChannel(t)}),t,this.#d,a)}get(t){return"address"in t?this.#s.get(t.address):this.#s.get(t)}async disconnect(t){let n=this.get(t)?.address;n!==void 0&&(await this.#e.removeAllSessionsForNode(n,!0),await this.#t.removeAllNodeChannels(n))}async delete(t){let n=this.get(t);n!==void 0&&(hu.info(`Removing ${n.address}`),this.#a.delete(n),await this.#m.deletePeer(n.address),await this.disconnect(n),await this.#e.deleteResumptionRecord(n.address))}async close(){let t=this.#i.scannerFor(_n.UDP);for(let[n,{timer:i}]of this.#c.entries())i?.stop(),t?.cancelOperationalDeviceDiscovery(this.#e.fabricFor(n),n.nodeId,!1);this.#d.close()}async#f(t,n){let i=this.#p(t);try{return await this.#h(t,i,n)}catch(r){throw(r instanceof mu||r instanceof ci)&&this.#s.has(t)&&(hu.info(`Resume failed, remove all sessions for ${mi(t)}`),await this.#e.removeAllSessionsForNode(t)),r}}async#h(t,n,i={}){t=mi(t);let{discoveryType:r=3,timeoutSeconds:a,discoveryData:s=this.#s.get(t)?.discoveryData}=i;if(a!==void 0&&r!==2)throw new ce("Cannot set timeout without timed discovery.");if(r===1)throw new ce("Cannot set retransmission discovery type.");let c=this.#i.scannerFor(_n.UDP);if(!c)throw new ce("Cannot discover device without mDNS scanner.");let l=this.#c.get(t)??{type:0};l.type!==0&&l.type<r&&(c.cancelOperationalDeviceDiscovery(this.#e.fabricFor(t),t.nodeId),this.#c.delete(t),l.type=0);let{type:d,promises:f}=l;if(n!==void 0&&(d===0||r===0)){let w=await this.#v(t,n,s);if(w!==void 0)return w;if(r===0)throw new mu(`${t} is not reachable right now.`)}if(f!==void 0){if(d>r)throw new mu(`${t} is not reachable right now and discovery already running.`);return await Bf(f)}let g=new Array,b;if(n!==void 0&&r===3){let{promise:w,resolver:O,rejecter:D}=Oa();b=Ne.getPeriodicTimer("Controller reconnect",pW,async()=>{try{hu.debug(`Polling for device at ${Ds(n)} ...`);let y=await this.#v(t,n,s);y!==void 0&&b?.isRunning&&(b?.stop(),c.cancelOperationalDeviceDiscovery(this.#e.fabricFor(t),t.nodeId),this.#c.delete(t),O(y))}catch(y){b?.isRunning&&(b?.stop(),c.cancelOperationalDeviceDiscovery(this.#e.fabricFor(t),t.nodeId),this.#c.delete(t),D(y))}}).start(),g.push(()=>w)}return g.push(async()=>{let w=await jc.discoverOperationalDevice(this.#e.fabricFor(t),t.nodeId,c,a,a===void 0),{timer:O}=this.#c.get(t)??{};O?.stop(),this.#c.delete(t);let{result:D}=await jc.iterateServerAddresses([w],ci,async()=>{let y=c.getDiscoveredOperationalDevice(this.#e.fabricFor(t),t.nodeId);return y!==void 0?[y]:[]},async(y,S)=>{let L=await this.#y(t,y,S);return await this.#x(t,y,{...s,...S}),L});return D}),this.#c.set(t,{type:r,promises:g,timer:b}),await Bf(g).finally(()=>this.#c.delete(t))}async#v(t,n,i,r){t=mi(t);let{ip:a,port:s}=n;try{hu.debug(`Resuming connection to ${mi(t)} at ${a}:${s}${r!==void 0?` with expected processing time of ${r}ms`:""}`);let c=await this.#y(t,n,i,r);return await this.#x(t,n),c}catch(c){if(c instanceof ci){hu.debug(`Failed to resume connection to ${t} connection with ${a}:${s}, discover the node:`,c),await this.#e.removeAllSessionsForNode(t);return}else throw c}}async#y(t,n,i,r){let{ip:a,port:s}=n,c=Dr(a),l=this.#o.interfaceFor(_n.UDP,c?"::":"0.0.0.0");if(l===void 0)throw new Qs(`IPv${c?"6":"4"} interface not initialized for port ${s}. Cannot use ${a} for pairing.`);let d=await l.openChannel(n),{sessionParameters:f}=this.#e.findResumptionRecordByAddress(t)??{},g=this.#e.createInsecureSession({sessionParameters:{idleIntervalMs:i?.SII??f?.idleIntervalMs,activeIntervalMs:i?.SAI??f?.activeIntervalMs,activeThresholdMs:i?.SAT??f?.activeThresholdMs},isInitiator:!0}),b=new fa(d,g),w;try{let D=this.#n.initiateExchangeWithChannel(b,0);try{let{session:y,resumed:S}=await this.#r.pair(D,this.#e.fabricFor(t),t.nodeId,r);w=y,S||this.#u.delete(t)}catch(y){throw await D.close(),y}}catch(D){throw ci.accept(D),new Qs(D.message)}await g.destroy();let O=new fa(d,w);return await this.#t.setChannel(t,O),O}#p(t){let i=this.#i.scannerFor(_n.UDP)?.getDiscoveredOperationalDevice(this.#e.fabricFor(t),t.nodeId),r=this.#b(t);return r!==void 0&&i!==void 0&&i.addresses.some(({ip:a,port:s})=>a===r.ip&&s===r.port)&&(i.addresses.length=0),i?.addresses[0]}async#x(t,n,i){let r=this.#s.get(t);r===void 0&&(r={address:t},this.#a.add(r)),r.operationalAddress=n,i!==void 0&&(r.discoveryData={...r.discoveryData,...i}),await this.#m.updatePeer(r)}#b(t){return this.#s.get(t)?.operationalAddress}#w(t){if(!t.isSecure||t.fabric===void 0)return;let{associatedFabric:n,peerNodeId:i}=t;if(n===void 0||i===void 0)return;let r=n.addressOf(i);this.#c.has(r)||(this.#c.set(r,{type:1}),this.#i.scannerFor(_n.UDP)?.findOperationalDevice(n,i,yW,!0).catch(a=>{hu.error(`Failed to discover ${r} after resubmission started.`,a)}).finally(()=>{this.#c.get(r)?.type===1&&this.#c.delete(r)}))}};var RM=J.get("PeerCommissioner"),NM=class e{#e;#t;constructor(t){this.#e=t,this.#t=new lu(t.sessions)}[Jt.create](t){let n=new e({peers:t.get(Uv),scanners:t.get(_m),netInterfaces:t.get(um),sessions:t.get(Kn),exchanges:t.get(fo),certificates:t.get(Vg)});return t.set(e,n),n}async commission(t){let{discovery:{timeoutSeconds:n=30},passcode:i}=t,r={regulatoryLocation:Xt.RegulatoryLocationType.Outdoor,regulatoryCountryCode:"XX",...t},a="commissionableDevice"in t.discovery?t.discovery.commissionableDevice:void 0,{discovery:{discoveryCapabilities:s={},knownAddress:c}}=t,l="identifierData"in t.discovery?t.discovery.identifierData:{};if(this.#e.scanners.hasScannerFor(_n.UDP)&&this.#e.netInterfaces.hasInterfaceFor(_n.UDP,"::")!==void 0&&(s.onIpNetwork=!0),a!==void 0){let{addresses:b}=a;s.ble===!0?s={onIpNetwork:!0,ble:b.some(w=>w.type==="ble")}:s.onIpNetwork===!0&&(b=b.filter(w=>w.type!=="ble")),b.sort(w=>w.type==="udp"?-1:1),c=b[0],"instanceId"in a&&a.instanceId!==void 0?l={instanceId:a.instanceId}:l={longDiscriminator:a.D}}let d=this.#e.scanners.select(s);RM.info(`Commissioning device with identifier ${J.toJSON(l)} and ${d.length} scanners and knownAddress ${J.toJSON(c)}`);let f,g;if(c!==void 0)try{f=await this.#n(c,i)}catch(b){ci.accept(b)}if(f===void 0){let b=await jc.discoverDeviceAddressesByIdentifier(d,l,n),{result:w}=await jc.iterateServerAddresses(b,ci,async()=>d.flatMap(O=>O.getDiscoveredCommissionableDevices(l)),async(O,D)=>{let y=await this.#n(O,i,D);return g=D,y});f=w}return await this.#i(f,r,g)}async#n(t,n,i){let r;if(i!==void 0&&RM.info("Commissioning device",Jm.discoveryDataDiagnostics(i)),t.type==="udp"){let{ip:d}=t,f=Dr(d),g=this.#e.netInterfaces.interfaceFor(_n.UDP,f?"::":"0.0.0.0");if(g===void 0)throw new Qs(`IPv${f?"6":"4"} interface not initialized. Cannot use ${d} for commissioning.`);r=await g.openChannel(t)}else{let d=this.#e.netInterfaces.interfaceFor(_n.BLE);if(!d)throw new Qs(`BLE interface not initialized. Cannot use ${t.peripheralAddress} for commissioning.`);r=await d.openChannel(t)}let a=this.#e.sessions.createInsecureSession({sessionParameters:{idleIntervalMs:i?.SII,activeIntervalMs:i?.SAI,activeThresholdMs:i?.SAT},isInitiator:!0}),s=new fa(r,a),c=this.#e.exchanges.initiateExchangeWithChannel(s,0),l;try{l=await this.#t.pair(this.#e.sessions.sessionParameters,c,n)}catch(d){throw await c.close(),d}return await a.destroy(),new fa(r,l)}async#i(t,n,i){let{fabric:r,performCaseCommissioning:a}=n,s=r.addressOf(n.nodeId??Rt.randomOperationalNodeId()),c=new Lv(new Xm(new zm(this.#e.exchanges,t),s),this.#e.certificates,r,n,async l=>{if(await t.close(),a!==void 0){await a(l,i);return}return await this.#e.peers.connect(l,{discoveryType:r2.TimedDiscovery,timeoutSeconds:120,discoveryData:i})});try{await c.executeCommissioning()}catch(l){throw await this.#e.peers.delete(s),l}return s}};var i0=function(){return{}};function Vv({base:e,values:t,name:n}){e===i0&&(e=void 0);let i=e?new e:{},r;for(let a in t){let s=t[a];(!Object.prototype.hasOwnProperty.call(i,a)||i[a]!==s)&&(r||(r={}),r[a]=s)}return r?Nr({name:n??e?.name??"State",base:e,instanceProperties:r}):e??i0}var fu;(e=>{e.reference=Symbol("reference")})(fu||(fu={}));function o2(e,t){let n=e.effectiveMetatype??$e.any;switch(n){case $e.object:return bW(e,t);case $e.array:return xW(e,t);default:return $e.cast[n]}}function bW(e,t){let n={};for(let r of e.activeMembers){if(r.isDeprecated)continue;let a={name:xt(r.name),cast:t.get(r).cast};n[a.name]=a;let s=r.name.toLowerCase();n[s]||(n[s]=a)}let i=$e.cast.object;return r=>{let a=i(r),s={};for(let c in a){let l=n[c];if(l===void 0&&(l=n[c.toLowerCase()]),l===void 0)throw new Ao(`Property "${c}" is unsupported`);s[l.name]=l.cast(a[c])}return s}}function xW(e,t){let n=e.listEntry;if(n===void 0)throw new en(Zn(e.path),"List schema has no entry definition");let i=$e.cast.array,r=t.get(n).cast;return a=>i(a).map(r)}function r0(e,t){if(typeof e!="number")throw new vr(t,"a number",e)}function pu(e,t){if(!(typeof e=="boolean"||e===0||e===1))throw new vr(t,"a boolean",e)}function a2(e,t){if(!cn(e))throw new vr(t,"an object",e)}function qv(e,t){if(!(typeof e=="number"||typeof e=="bigint"))throw new vr(t,"a number or bigint",e)}function PM(e,t){if(typeof e!="string")throw new vr(t,"a string",e)}function kM(e,t){if(!(e instanceof Uint8Array))throw new vr(t,"a byte array",e)}function FM(e,t){if(!(typeof e=="string"||e instanceof Uint8Array))throw new vr(t,"a string or byte array",e)}function _v(e,t){if(!Array.isArray(e))throw new vr(t,"an array",e)}var ga;(e=>{function t(i){return i}e.instrumentStruct=t;function n(i){return i}e.instrumentList=n})(ga||(ga={}));var Ht;(e=>{e.reference=Symbol("reference")})(Ht||(Ht={}));var wW=Symbol("options");function LM(e,t){let n={},i=t.metabase?.byteSize;if(i===void 0)throw new en(Zn(t.path),"Base bitmap type has no byteSize defined");let r=i*8;for(let s of t.activeMembers){if(s.isDeprecated)continue;let c;t.id===Ps.id?c=xt(s.description??s.name):c=xt(s.name);let l=TW(c,r,s);n[c]=l}let a=Nr({name:t.name,initialize(s,c){if(!cn(s.value))throw new en(s.location,`Cannot manage ${typeof s.value} because it is not a bitmap object`);Object.defineProperties(this,{[Ht.reference]:{value:s},[wW]:{value:c}}),Object.defineProperties(this,n)}});return ga.instrumentStruct(a),(s,c)=>(s.owner=new a(s,c),s.owner)}function TW(e,t,n){let i=n.effectiveConstraint,r,a;if(typeof i.value=="number")r=i.value,a=r+1;else if(typeof i.min=="number"&&typeof i.max=="number"){if(r=i.min,a=i.max,r>a){let c=r;r=a,a=c}}else throw new en(Zn(n.path),"Bitfield is not properly constrained");if(a>t)throw new en(Zn(n.path),`Bitfield range end ${a} is too large for a ${t}-bit bitmap`);let s=1<<a-r;return s===2?{enumerable:!0,get(){let c=this[Ht.reference].value;if(c===void 0)throw new Gs(this[Ht.reference].location);return!!c[e]},set(c){let l=this[Ht.reference];c!==void 0&&pu(c,l.location.path),l.change(()=>{let d=l.value;if(d===void 0)throw new Gs(this[Ht.reference].location);d[e]=!!c})}}:{enumerable:!0,get(){let c=this[Ht.reference].value;if(c===void 0)throw new Gs(this[Ht.reference].location);return c[e]},set(c){let l=this[Ht.reference];if(c!==void 0){if(r0(c,l.location.path),c>=s)throw new ua(n,this[Ht.reference].location,`Value ${c} is too large for bitfield`);if(c<0)throw new ua(n,this[Ht.reference].location,`Illegal negative value ${c} for bitfield`)}l.change(()=>{let d=l.value;if(d===void 0)throw new Gs(this[Ht.reference].location);d[e]=c||0})}}}function $v(e,t,n,i){let r=e.value[t],a=!1,s={...e.location,path:e.location.path.at(t)},c={owner:e,get value(){return r},get expired(){return a},get location(){return s},set location(d){s=d},get rootOwner(){return e.rootOwner},set value(d){r!==d&&(n(d),l(d),this.change(()=>e.value[t]=d))},get original(){if(e.original)return e.original[t]},change(d){if(a)throw new js(this.location);e.change(()=>{if(i&&r===this.original){let f=i(r);e.value[t]=f,l(f)}d()})},refresh(){if(e.expired){a=!0;return}if(e.value===void 0){a=!0,l(void 0);return}l(e.value[t])}};return e.subrefs||(e.subrefs={}),e.subrefs[t]=c,c;function l(d){r=d;let f=c.subrefs;if(f)for(let g in f)f[g].refresh()}}var th=e=>e;function BM(e,t){let n=CW(e,t);return(i,r)=>{if(!Array.isArray(i.value))throw new en(i.location,`Cannot manage ${typeof i.value} because it is not an array`);return SW(n,i,r)}}function CW(e,t){let n=t instanceof Pn?t.listEntry:void 0;if(n===void 0)throw new en(Zn(t.path),"List schema has no entry definition");let i=e.get(n),r=Fc(t);return{schema:t,fabricScoped:t.effectiveAccess.fabric==pn.Fabric.Scoped,fabricSensitive:t.effectiveAccess.fabric==pn.Fabric.Sensitive,manageEntries:i.manage!==th,manageEntry:i.manage,validateEntry:i.validate,authorizeRead:r.authorizeRead,authorizeWrite:r.authorizeWrite}}function SW(e,t,n){let{manageEntry:i,validateEntry:r,authorizeRead:a,authorizeWrite:s}=e,c=()=>t.value??[],l=()=>{if(t.expired)throw new js(t.location);return t.value},d=()=>c().length,f=Q=>{if(Q>65535)throw new ei(t.location,`Index ${Q} is greater than allowed maximum of 65535`);t.change(()=>l().length=Q)},g=Q=>c()[Q]!==void 0,b,w=()=>c()[Symbol.iterator],O=()=>Reflect.ownKeys(c()),D=(Q,N)=>Reflect.getOwnPropertyDescriptor(c(),N),y={...t.location,path:t.location.path.at(-1)};e.manageEntries?b=Q=>{if(a(n,t.location),Q<0||Q>=c().length)throw new ho(t.location,`Index ${Q} is out of bounds`);if(Q>65535)throw new ho(t.location,`Index ${Q} is greater than allowed maximum of 65535`);let N=c()[Q];if(N==null)return N;let q=t.subrefs?.[Q];return q===void 0&&(q=$v(t,Q,()=>!0,G=>Array.isArray(G)?[...G]:cn(G)?{...G}:G),i(q,n)),q.owner}:b=(Q,N)=>{if(a(n,N),Q<0||Q>c().length)throw new ei(N,`Index ${Q} is out of bounds`);return c()[Q]};let S=(Q,N,q)=>{if(s(n,q),Q<0||Q>c().length+1)throw new ei(q,`Index ${Q} is out of bounds`);if(Q>65535)throw new ho(q,`Index ${Q} is greater than allowed maximum of 65535`);N&&N[Ht.reference]&&(N=N[Ht.reference].value),t.change(()=>l()[Q]=N)};if(e.fabricScoped){let Q=function(N,q){if(N<0)throw new(q?ho:ei)(t.location,`Negative index ${N} unsupported`);let G=0;for(let te=0;te<c().length;te++){let K=c()[te];if(typeof K=="object"&&(n.offline||!K.fabricIndex||K.fabricIndex===n.fabric)){if(G===N)return te;G++}}if(q)throw new ho(t.location,`Index ${N} extends beyond available entries`);if(G===N)return c().length;throw new ei(t.location,`Index ${N} would leave gaps in fabric-filtered list`)};var L=Q;if(n.fabricFiltered||e.fabricSensitive){let N=b;g=G=>{try{return N(Q(G,!0),t.location)!==void 0}catch{return!1}},b=(G,te)=>N(Q(G,!0),te);let q=S;S=(G,te,K)=>{if(te===void 0){let ae=Q(G,!1);l().splice(ae,1)}else{if(typeof te!="object")throw new ei(K,"Fabric scoped list value is not an object",ue.Failure);te.fabricIndex??=n.fabric,q(Q(G,!1),te,K)}},d=()=>{let G=0;for(let te=0;te<c().length;te++){let K=c()[te];cn(K)&&(n.offline||!K.fabricIndex||K.fabricIndex===n.fabric)&&G++}return G},f=G=>{let te=d();t.change(()=>{for(let K=te-1;K>=G;K--){let ae=l()[Q(K,!0)];if(typeof ae=="object"&&(n.offline||!ae.fabricIndex||ae.fabricIndex===n.fabric))l().splice(Q(K,!1),1);else if(ae!==void 0)throw new ei(t.location,"Fabric scoped list value is not an object",ue.Failure)}})},w=()=>()=>{let G=c()[Symbol.iterator]();return{...G,next(){for(;;){let te=G.next();if(!(!te.done&&cn(te.value)&&te.value.fabricIndex!==n.fabric))return te}},[Symbol.iterator](){return this}}},O=()=>{let G=d();return Reflect.ownKeys(c()).filter(K=>typeof K!="string"||!K.match(/^[0-9]+$/)||Number.parseInt(K)<G)},D=(G,te)=>(typeof te=="string"&&te.match(/^[0-9]+$/)&&(te=Number.parseInt(te)),typeof te!="number"?Reflect.getOwnPropertyDescriptor(c(),te):Reflect.getOwnPropertyDescriptor(c(),Q(te,!0)))}}let H=[],oe={get(Q,N,q){if(typeof N=="string"&&N.match(/^[0-9]+/))return y.path.id=N,b(Number.parseInt(N),y);switch(N){case"length":return d();case Symbol.iterator:return w();case Ht.reference:return t;case"toString":return function(){return si(this)};case Symbol.toStringTag:return}return Reflect.get(c(),N,q)},set(Q,N,q,G){return typeof N=="string"&&N.match(/^[0-9]+/)?(y.path.id=N,r?.(q,n,y),S(Number.parseInt(N),q,y),!0):N==="length"?(f(q),!0):Reflect.set(l(),N,q,G)},has(Q,N){return typeof N=="string"&&N.match(/^[0-9]+/)?g(Number.parseInt(N)):Reflect.has(c(),N)},deleteProperty:(Q,N)=>typeof N=="string"&&N.match(/^[0-9]+/)?(y.path.id=N,S(Number.parseInt(N),void 0,y),!0):Reflect.deleteProperty(l(),N),ownKeys:O,getOwnPropertyDescriptor:D},z=ga.instrumentList((Q,N)=>new Proxy(N,Q));return t.owner=z(oe,H),t.owner}var Gi;(e=>{e.properties=Symbol("properties")})(Gi||(Gi={}));var yo=Symbol("options"),s2=Symbol("authorize-read");function nh(e,t){let n={},i={},r=!1;for(let c of t.activeMembers){let l=xt(c.name),{access:d,descriptor:f}=IW(e,c);n[l]=f,i[l]=d,c.name==="FabricIndex"&&(r=!0)}let a=t.name;t.tag===Xe.Cluster&&!a.endsWith("$State")&&(a=`${a}$State`);let s=Nr({name:a,initialize(c,l){if(!cn(c.value))throw new en(c.location,`Cannot manage ${typeof c.value} because it is not a struct`);if(r){let d=c.value.fabricIndex;c.location={...c.location,owningFabric:d}}Object.defineProperties(this,{[Ht.reference]:{value:c},[yo]:{value:l}}),Object.defineProperties(this,n)},instanceDescriptors:{[s2]:{value(c){let l=i[c];if(l===void 0)throw new ce(`Direct read of unknown property ${c}`);l.authorizeRead(this[yo],this[Ht.reference].location)}}}});return ga.instrumentStruct(s),(c,l)=>(c.owner=new s(c,l),c.owner)}(e=>{function t(n,i){if(!n?.[s2])throw new ce("Cannot authorize read of unmanaged value");return n[s2](i)}e.assertDirectReadAuthorized=t})(nh||(nh={}));function IW(e,t){let n=xt(t.name),{access:i,manage:r,validate:a}=e.get(t),s=t.effectiveAccess.fabric===pn.Fabric.Scoped&&t.effectiveMetatype===$e.array,c={enumerable:!0,set(l){i.authorizeWrite(this[yo],this[Ht.reference].location);let d=this[Ht.reference].value[n],f=this;this[Ht.reference].change(()=>{let g=this[Ht.reference].value,b;if(g[Gi.properties]){let w=g[Gi.properties](this[Ht.reference].rootOwner,this[yo]);n in w?b=w:b=g}else b=g;if(l&&l[Ht.reference]&&(l=l[Ht.reference].value),s&&Array.isArray(l)&&Array.isArray(b[n])){let w=f[n];for(let O=0;O<l.length;O++)w[O]=l[O];w.length=l.length}else b[n]=l;if(!this[yo].acceptInvalid&&a)try{a(l,this[yo],{path:this[Ht.reference].location.path,siblings:g})}catch(w){throw b[n]=d,w}})}};if(r===th)c.get=function(){if(i.mayRead(this[yo],this[Ht.reference].location)){let l=this[Ht.reference].value;if(l===void 0)throw new Gs(this[Ht.reference].location);if(l[Gi.properties]){let d=l[Gi.properties](this[Ht.reference].rootOwner,this[yo]);if(n in d)return d[n]}return l[n]}};else{let l;switch(t.effectiveMetatype){case $e.array:l=d=>[...d];break;case $e.bitmap:l=d=>typeof d=="number"||typeof d=="bigint"?{}:{...d};break;default:l=d=>({...d})}c.get=function(){let d,f=this[Ht.reference].value;if(f[Gi.properties]){let O=f[Gi.properties](this[Ht.reference].rootOwner,this[yo]);n in O?d=O[n]:d=f[n]}else d=f[n];if(d===void 0||!i.mayRead(this[yo],this[Ht.reference].location))return;if(d===null)return d;let g=this[Ht.reference].subrefs?.[n];if(g)return g.owner;let b=O=>{i.authorizeWrite(this[yo],this[Ht.reference].location),a&&a(O,this[yo],{path:this[Ht.reference].location.path,siblings:this[Ht.reference].value})},w=$v(this[Ht.reference],n,b,l);return w.owner=r(w,this[yo]),w.owner}}return{descriptor:c,access:i}}function c2(e,t){switch(e.effectiveMetatype){case $e.object:return nh(t,e);case $e.bitmap:return LM(t,e);case $e.array:return BM(t,e);default:return th}}function d2(e,t){switch(e.effectiveMetatype){case $e.any:case $e.object:return AW(e,t);case $e.array:return MW(e,t);default:return EW()}}var l2=new WeakMap;function UM(e){if(l2.has(e))return l2.get(e);let t={};for(let n of e.activeMembers){if(n.default!==void 0){t[xt(n.name)]=n.default;continue}if(n.mandatory&&n.nullable){t[xt(n.name)]=null;continue}}return l2.set(e,t),t}function AW(e,t){let n={},i={},r={};for(let a of e.activeMembers){let s=a.effectiveMetatype,c;(s===$e.object||s===$e.array)&&(c=t.get(a).patch);let l=xt(a.name);n[l]=c,s===$e.object&&(i[l]=UM(a)),s===$e.array&&(r[l]=!0)}return(a,s,c)=>{if(typeof a!="object"||a===null||Array.isArray(a))throw new ei(c,`patch definition ${a} is not an object`);if(typeof s!="object"||s===null||Array.isArray(s))throw new ei(c,`cannot patch ${s} because it is not an object`);for(let l in a){if(!(l in n))throw new ei(c,`${l} is not a property of ${e.name}`);let d=a[l],f=n[l];if(!f||d===null||typeof d!="object"){s[l]=d;continue}if(r[l]&&(s[l]===void 0||s[l]===null)){d=f(d,[],c.at(l)),s[l]=d;continue}if(s[l]===void 0||s[l]===null){d=f(d,{...i[l]},c.at(l)),s[l]=d;continue}f(d,s[l],c.at(l))}return s}}function MW(e,t){let n=e.listEntry;if(n===void 0)throw new en(Zn(e.path),"List schema has no entry definition");let i=n?.effectiveMetatype,r;(i===$e.object||i===$e.array)&&(r=t.get(n).patch);let a;return i===$e.object&&(a=UM(n)),(s,c,l)=>{if(typeof s!="object"||s===null)throw new ei(l,`patch definition ${s} is not an object`);if(!Array.isArray(c))throw new ei(l,`patch definition ${s} is not an object`);for(let d in s){let f=Number.parseInt(d);if(f<0||Number.isNaN(f))throw new ei(l,`key ${f} is not a valid array index`);let g=s[d];if(r){let b=f<c.length?c[f]:void 0;g==null||b===void 0||b===null?(a&&cn(g)&&(g=r(g,{...a},l.at(f))),c[f]=g):r(g,c[f],l.at(f))}else c[f]=g}return c}}function EW(){return(e,t,n)=>{throw new ce(`Cannot generate patch ${n} because it does not define not a collection`)}}var yu=class extends en{constructor(t,n){super(Zn(t.path),`Unknown or unsupported top-level conformance node type ${n.code}`)}},Zt=(e=>(e.Nonconformant="nonconformant",e.Conformant="conformant",e.Optional="optional",e.Disallowed="disallowed",e.Value="value",e.Evaluate="evaluate",e))(Zt||{});function gu(e,t,n){return e.code==="evaluate"?e.evaluate(t,n):e}function vu(e){return e.code==="value"?{code:e.value===void 0||e.value===null||e.value===!1?"nonconformant":"conformant"}:e}function Za(e){return e.code!=="evaluate"}function Js(e){switch(e=vu(e),e.code){case"conformant":case"optional":return!0;default:return!1}}function u2(e,t,n){if(t.code!=="value")throw new en(e,`Expected a value for ${n} but conformance node is "${t.code}"`)}var ec={code:"conformant"},tc={code:"nonconformant"};function Wv(e){let t=vu(e);switch(t.code){case"nonconformant":return ec;case"evaluate":let n=t.evaluate;return{code:"evaluate",evaluate:(i,r)=>{let a=n(i,r);return a=vu(a),a.code==="nonconformant"?ec:tc}};default:return tc}}function Hv(e,t,n){return{code:"evaluate",evaluate:(i,r)=>{let a=gu(e,i,r),s=gu(t,i,r);return n(Js(a),Js(s))?ec:tc}}}var OW={[Ot.Operator.EQ]:(e,t)=>e===t,[Ot.Operator.GT]:(e,t)=>e>t,[Ot.Operator.GTE]:(e,t)=>e>=t,[Ot.Operator.LT]:(e,t)=>e<t,[Ot.Operator.LTE]:(e,t)=>e<=t};function VM(e,t,n,i,r){let a=OW[e];if(a===void 0)throw new en(Zn(i.path),`Unknown binary operator ${e}`);return u2(r,t,`Left-hand side of "${e}"`),u2(r,n,`Right-hand side of "${e}"`),t.value!==void 0&&t.value!==null&&n.value!==void 0&&n.value!==null&&a(t.value,n.value)?ec:tc}function qM(e,t,n,i){return Za(t)&&Za(n)?VM(e,t,n,i,Zn(i.path)):{code:"evaluate",evaluate:(r,a)=>VM(e,gu(t,r,a),gu(n,r,a),i,a)}}function m2(e){if(Za(e))return e;let{evaluate:t}=e;return{code:"evaluate",evaluate:(n,i)=>{let r=t(n,i);return u2(i,r,"boolean test"),vu(r)}}}function _M(e,t,n){let i=e.conformance.ast,{featuresAvailable:r,featuresSupported:a}=Qn.normalize(t,n),s=l(i),c;switch(s.code){case Zt.Conformant:c=H;break;case Zt.Nonconformant:case Zt.Disallowed:c=oe;break;case Zt.Optional:break;case Zt.Evaluate:let{evaluate:N}=s;c=(q,G,te)=>{let K=N(q,te);switch(K.code){case Zt.Conformant:H(q,G,te);break;case Zt.Nonconformant:case Zt.Disallowed:oe(q,G,te);break;case Zt.Optional:break;case Zt.Value:K.value===void 0?oe(q,G,te):H(q,G,te);break;default:throw new yu(e,s)}};break;default:throw new yu(e,s)}return c!==oe&&e.effectiveMetatype===$e.enum&&(c=Q(c)),c;function l(N){switch(N?.type){case Ot.Special.Empty:case Ot.Special.Desc:case Ot.Flag.Provisional:case Ot.Flag.Deprecated:case Ot.Flag.Optional:return{code:Zt.Optional};case Ot.Special.Choice:return d(N.param);case Ot.Special.Group:return f(N.param);case Ot.Special.Name:return g(N.param);case Ot.Special.OptionalIf:return b(N.param);case Ot.Special.Value:return w(N.param);case Ot.Flag.Disallowed:return O();case Ot.Flag.Mandatory:return D();case Ot.Operator.AND:case Ot.Operator.OR:case Ot.Operator.XOR:return y(N.type,N.param);case Ot.Operator.EQ:case Ot.Operator.NE:case Ot.Operator.GT:case Ot.Operator.LT:case Ot.Operator.GTE:case Ot.Operator.LTE:return S(N.type,N.param);case Ot.Operator.NOT:return L(N.param);default:throw new en(Zn(e.path),`Unsupported conformance AST node type ${N.type}`)}}function d(N){let q=l(N.expr),G=N.name,te={count:0,target:N.num,orMore:!!N.orMore};return{code:Zt.Evaluate,evaluate:(K,ae)=>{let pe=ae?.choices,he;return pe&&(he=pe[G],he||(he=pe[G]={...te}),K!==void 0&&he.count++),gu(q,K,ae)}}}function f(N){if(!Array.isArray(N))throw new en(Zn(e.path),"Conformance AST group parameter is not an array");let q=N.map(te=>l(te)),G=Array();for(let te of q)if(te.code!==Zt.Nonconformant){if(te.code===Zt.Optional||te.code===Zt.Conformant){if(G.length){G.push(te);break}return te}G.push(te)}return{code:Zt.Evaluate,evaluate:(te,K)=>{for(let ae of G){let pe=gu(ae,te,K);if(pe.code!==Zt.Nonconformant)return pe}return tc}}}function g(N){return r.has(N)?a.has(N)?ec:tc:(N=xt(N),{code:Zt.Evaluate,evaluate:(q,G)=>({code:Zt.Value,value:G?.siblings?.[N]})})}function b(N){let q=l(N)??{};switch(q=vu(q),q.code){case Zt.Conformant:return{code:Zt.Optional};case Zt.Evaluate:let G=q.evaluate;return{code:Zt.Evaluate,evaluate:(te,K)=>{let ae=G(te,K);return ae=vu(ae),ae.code===Zt.Conformant?{code:Zt.Optional}:ae}};default:return q}}function w(N){return{code:Zt.Value,value:N}}function O(){return{code:Zt.Disallowed}}function D(){return ec}function y(N,{lhs:q,rhs:G}){let te=m2(l(q)),K=m2(l(G));switch(N){case Ot.Operator.AND:return Za(te)?Js(te)?K:tc:Za(K)?Js(K)?te:tc:Hv(te,K,(ae,pe)=>ae&&pe);case Ot.Operator.OR:return Za(te)?Js(te)?ec:K:Za(K)?Js(K)?ec:te:Hv(te,K,(ae,pe)=>ae||pe);case Ot.Operator.XOR:return Za(te)?Js(te)?Wv(K):K:Za(K)?Js(K)?Wv(te):te:Hv(te,K,(ae,pe)=>ae?!pe:pe);default:throw new en(Zn(e.path),`Unknown logical binary operator ${N}`)}}function S(N,{lhs:q,rhs:G}){return qM(N,l(q),l(G),e)}function L(N){let q=l(N);return Wv(q)}function H(N,q,G){if(N===void 0)throw new Hs(e,G,"Matter requires you to set this attribute")}function oe(N,q,G){if(N!==void 0)throw new Hs(e,G,"Matter does not allow you to set this attribute")}function z(N){return q=>{throw new Hs(N,q,`Matter does not allow enum value ${N.name} (ID ${N.effectiveId}) here`)}}function Q(N){let q=e.activeMembers;if(!q.length)return N;let G;for(let te of q){let K=te.effectiveId;if(K===void 0)continue;let ae=l(te.conformance.ast),pe;switch(ae.code){case Zt.Conformant:case Zt.Optional:continue;case Zt.Nonconformant:case Zt.Disallowed:pe=z(te);break;case Zt.Evaluate:let{evaluate:he}=ae,Ce=z(te);pe=Le=>{switch(he(!0,Le).code){case Zt.Conformant:case Zt.Optional:break;case Zt.Nonconformant:case Zt.Disallowed:Ce(Le);break;default:throw new yu(te,ae)}};break;default:throw new yu(te,ae)}G||(G={}),G[K]=pe}return G===void 0?N:(te,K,ae)=>{N?.(te,K,ae),typeof te=="number"&&G[te]?.(ae)}}}function $M(e,t,n,i){let r=_M(e,t,n);if(!(!r&&!i))return(a,s,c)=>{r?.(a,s,c),a!==void 0&&i?.(a,s,c)}}function o0(e,t){if(e.empty)return;if(t.effectiveMetatype===$e.array)return DW(e,t);if(e.in)return(i,r,a)=>{if(!e.test(i,a.siblings))throw new ua(t,a,`Value ${i} is not one of the values allowed by "in" constraint`)};switch(t.effectiveMetatype){case $e.integer:case $e.float:return(i,r,a)=>{if(qv(i,a),!e.test(i,a.siblings))throw new ua(t,a,`Value ${i} is not within bounds defined by constraint`)};case $e.boolean:return(i,r,a)=>{if(pu(i,a),!e.test(i,a.siblings))throw new ua(t,a,`Value ${i} is disallowed by constraint`)};case $e.string:case $e.bytes:return(i,r,a)=>{if(FM(i,a),!e.test(i.length,a.siblings))throw new ua(t,a,`Lenght of value ${i} is not within bounds defined by constraint`)};default:throw new Re(`Cannot define constraint for unsupported metatype ${t.effectiveMetatype}`)}}function DW(e,t){let n;if(e.entry){let i=t.listEntry;i&&(n=o0(e.entry,i))}return(i,r,a)=>{if(_v(i,a),!e.test(i.length,a.siblings))throw new ua(t,a,`Array length ${i.length} is not within bounds defined by constraint`);if(n){let s={...a,path:a.path.at("")},c=0;for(let l of i)l!=null&&(s.path.id=c,n(l,r,s),c++)}}}function h2(e,t){if(e instanceof Me)return WM(e,t)??(()=>{});let n,i=e.effectiveMetatype;switch(i){case $e.enum:n=NW(e);break;case $e.bitmap:n=PW(e);break;case $e.integer:case $e.float:n=jv(e,qv);break;case $e.boolean:n=jv(e,pu);break;case $e.string:n=jv(e,PM);break;case $e.bytes:n=jv(e,kM);break;case $e.object:n=WM(e,t);break;case $e.array:n=kW(e,t);break;case $e.date:case $e.any:break;case void 0:let r=e.effectiveType;if(r===void 0){if(e.isDisallowed)break;throw new en(Zn(e.path),"No type defined")}throw new en(Zn(e.path),`Cannot determine metatype for type "${r}"`);default:throw new en(Zn(e.path),`Unsupported validation metatype ${i}`)}return n=RW(e,n),n=$M(e,t.featureMap,t.supportedFeatures,n),n}function RW(e,t){return e.effectiveQuality.nullable===!0?(n,i,r)=>{n!==null&&t?.(n,i,r)}:t}function NW(e){let t=new Set(e.activeMembers.map(r=>r.id).filter(r=>r!==void 0)),i=e.effectiveConstraint.in?o0(e.effectiveConstraint,e):void 0;return(r,a,s)=>{if(r0(r,s),!t.has(r))throw new vr(s,"defined in enum",r,ue.ConstraintError);i?.(r,a,s)}}function PW(e){let t={};for(let n of e.activeMembers){let i=n.effectiveConstraint,r;typeof i.min=="number"&&typeof i.max=="number"?r=i.max-i.min:r=1;let a;n?.parent?.id===Ps.id?a=xt(n.description??n.name):a=xt(n.name),t[a]={schema:n,max:r}}return(n,i,r)=>{a2(n,r);for(let a in n){let s=t[a],c=r.path.at(a);if(s===void 0)throw new vr(c,"defined in bitmap",a);let l=n[a];if(l!==void 0){if(s.max===1)pu(l,c);else if(r0(l,c),l>s.max)throw new vr(c,"in range of bit field",l)}}}}function jv(e,t){let n=o0(e.effectiveConstraint,e);return(i,r,a)=>{i!==void 0&&(t(i,a),n?.(i,r,a))}}function WM(e,t){let n={};for(let r of e.activeMembers){if(r.isDeprecated||xn.isGlobal(r))continue;let a=t.get(r).validate;a&&(n[xt(r.name)]=a)}return(r,a,s)=>{a2(r,s);let c={path:s.path.at(""),siblings:r,choices:{}};for(let l in n){let d;if(r[Gi.properties]){let f=r[Ht.reference],g=r[Gi.properties](f,a);l in g?d=g[l]:d=r[l]}else d=r[l];c.path.id=l,n[l](d,a,c)}for(let l in c.choices){let d=c.choices[l];if(d.count<d.target)throw new Hs(e,s,`Too few fields present (${d.count} of min ${d.target})`,l);if(d.count>d.target&&!d.orMore)throw new Hs(e,s,`Too many fields present (${d.count} of max ${d.target})`,l)}}}function kW(e,t){let n=e.listEntry,i;if(n){let a=t.get(n).validate;a&&(i=(s,c,l)=>{if(!s||typeof s[Symbol.iterator]!="function")throw new vr(l,"a list",s);let d=0,f={path:l.path.at("")};for(let g of s)g!=null&&(f.path.id=d,a(g,c,f),d++)})}let r=o0(e.constraint,e);return(a,s,c)=>{_v(a,c),r?.(a,s,c),i?.(a,s,c)}}var Gv=class{#e=new Set;#t=new WeakMap;#n;#i;#o;#r;#a;#s;constructor(t){t instanceof Me?(this.#n=t.featureMap,this.#i=t.supportedFeatures??new Qn):(this.#n=new xn(Ps),this.#i=new Qn),this.#o=new Set(t.activeMembers),this.#r=this.#c(t)}get owner(){return this.#r.owner}get schema(){return this.#r.schema}get access(){return this.#r.access}get validate(){return this.#r.validate}get manage(){return this.#r.manage}get patch(){return this.#r.patch}get cast(){return this.#r.cast}get memberNames(){let t=this.#a;if(!t){t=new Set;for(let n of this.#o)t.add(xt(n.name));this.#a=t}return t}get persistentNames(){let t=this.#s;if(!t){t=new Set;for(let n of this.#o)(n.effectiveQuality.nonvolatile||n.effectiveAccess.writable||n.effectiveAccess.fabricScoped)&&t.add(xt(n.name));this.#s=t}return t}get featureMap(){return this.#n}get supportedFeatures(){return this.#i}get(t){if(t===this.#r?.schema)return this;let n=this.#t.get(t);return n===void 0&&(n=this.#c(t),this.#t.set(t,n)),n}#c(t){let n=(r,a)=>{let s=!1;return(...c)=>{if(!s){if(i===void 0)throw new Re("Deferred I/O generation invoked impossibly early");i[r]=a(t,this),s=!0}return i[r](...c)}},i;if(this.#l(t))i={owner:this,schema:t,access:Fc(t),validate:n("validate",h2),manage:n("manage",c2),patch:n("patch",d2),cast:n("cast",o2)};else try{this.#e.add(t),i={owner:this,schema:t,access:Fc(t),validate:h2(t,this),manage:c2(t,this),patch:d2(t,this),cast:o2(t,this)}}finally{this.#e.delete(t)}return this.#t.set(t,i),i}#l(t){return this.#e.has(t)}};var zv;(e=>{e.empty=new Ye({name:"Empty",type:"struct"})})(zv||(zv={}));function HM(e){let n=(e.schema??zv.empty).extend({name:`${xt(e.id,!0)}$State`});return FW(n,new e.State),new Gv(n)}function FW(e,t){let n=new Set;for(let r of e.activeMembers)n.add(xt(r.name));function i(r){if(!r||r===Object.prototype)return;let a=Object.getOwnPropertyDescriptors(r);for(let s in a)if(!(n.has(s)||s==="constructor")&&!n.has(s)){n.add(s);let c=new Gn({name:s,type:"any",access:new pn({readPriv:pn.Privilege.View,writePriv:pn.Privilege.Operate})}),l=a[s];!l.writable&&!l.set&&(c.quality="F"),e.children.push(c)}i(Object.getPrototypeOf(r))}i(t)}var ih=Symbol("endpoint-owner"),f2=Symbol("state"),p2=Symbol("internal"),y2=Symbol("events"),g2=Symbol("supervisor"),An=class{#e;static id;static schema;static early=!1;get agent(){return this.#e}get endpoint(){return this.#e.endpoint}get context(){return this.#e.context}get env(){return this.endpoint.env}get session(){let t=this.#e.context.session;if(t===void 0)throw new ce("Illegal operation outside session context");return wr(t),t}asAdmin(t){let n=this.context,i=n.offline;try{n.offline=!0,t()}finally{n.offline=i}}constructor(t,n){this.#e=t,this[ih]=n,t!==void 0&&t[C5](this)}static get supervisor(){return Object.hasOwn(this,g2)?this[g2]:this[g2]=HM(this)}static State=i0;static Internal=i0;static Events=Gr;initialize(t){}[Symbol.asyncDispose](){}toString(){return`${this.endpoint}.${this.constructor.id}`}reactTo(t,n,i){this[ih].reactTo(t,n,i)}callback(t,n){let i=ht();return this.reactTo(i,t,n),(...r)=>i.emit(...r)}static supports(t){return this===t||this.prototype instanceof t}static get defaults(){return new this.State}static set(t){return Nr({name:this.name,base:this,staticProperties:{State:Vv({name:`${this.name}$State`,base:this.State,values:t})}})}static dependencies;get[fu.reference](){return this[ih].datasource}};Object.defineProperties(An.prototype,{state:{get(){return this[f2]||(this[f2]=this[ih].datasource.reference(this.context)),this[f2]},enumerable:!0},internal:{get(){return this[p2]||(this[p2]=this[ih].getInternal()),this[p2]},enumerable:!1},events:{get(){return this[y2]||(this[y2]=this[ih].events),this[y2]},enumerable:!0}});(e=>{function t(...n){throw new Yt}e.unimplemented=t})(An||(An={}));var go=class extends An{static id="network";static early=!0;[Symbol.asyncDispose](){return this.internal.runtime?.close()}};(e=>{class t{runtime}e.Internal=t;class n{port=5540;operationalPort=-1}e.State=n})(go||(go={}));var v2=Symbol("knownDefaults");function b2(e){return new e}function jM(e,t,n){let i=new Set;n===void 0&&(t.schema&&(n=t.schema),n||(n=UW(e))),n=VW(n,e);let r;return t.name.startsWith(e.name)?r=t.name:r=`${e.name}Behavior`,n.freeze(),Nr({name:r,base:t,staticProperties:{State:LW(e,n,t,i),Events:BW(e,t,i)},staticDescriptors:{id:{value:xt(e.name),enumerable:!0},cluster:{value:e,enumerable:!0},schema:{value:n}},instanceDescriptors:qW(e,t)})}function LW(e,t,n,i){let r=n.State;if(r===void 0)throw new ce(`No state class defined for behavior class ${n.name}`);let a=new r,s=r[v2],c,l;if(t instanceof Me){let b=Qn.normalize(t.featureMap,t.supportedFeatures);c=b.featuresAvailable,l=b.featuresSupported}else c=new Qn,l=new Qn;let d={};for(let b of t.activeMembers){let w=xt(b.name);d[w]?d[w].push(b):d[w]=[b]}let f={};for(let b in d){let w=d[b],O,D=!1;for(let S of w)if(S.effectiveConformance.isApplicable(c,l)){O=S,D=!0;break}if(!D){a[b]!==void 0&&(s?s===r[v2]&&(s={...s}):s={},s[b]=a[b],f[b]=void 0);continue}let y=e.attributes[b];if(y?.id===Ps.id){f[b]=e.supportedFeatures;continue}f[b]=_W(a[b]===void 0?s?.[b]:a[b],y,O)}for(let b in f)i.add(b);let g=Vv({name:`${e.name}$State`,base:n.State,values:f});return s&&(g[v2]=s),g}function BW(e,t,n){let i=new Set(["interactionBegin","interactionEnd"]),r=new t.Events,a=new Set;for(let s in e.events)a.add(s),!e.events[s].optional&&r[s]===void 0&&i.add(s);for(let s of n){let c=`${s}$Changing`;r[c]===void 0&&i.add(c);let l=`${s}$Changed`;r[l]===void 0&&i.add(l)}return Nr({name:`${e.name}$Events`,base:t.Events,initialize(){for(let s of i)this[s]=tr()}})}function UW(e){let t;for(let n of P6.children)if(n.tag===Xe.Cluster&&n.id===e.id){t=new Me(n);break}if(t===void 0)throw new ce(`Cannot locate schema for cluster ${e.id}, please supply manually`);return t}function VW(e,t){if(!(e instanceof Me))return e;let n=new Qn(t.supportedFeatures);return new Qn(t.supportedFeatures).is(e.supportedFeatures)||(e=e.clone(),e.supportedFeatures=n),e}function qW(e,t){let n={},i=b2(t);for(let r in e.commands)i[r]||(n[r]={value:An.unimplemented,writable:!0});return n}function _W(e,t,n){if(e!==void 0)return e;if(t?.optional)return;if(t?.default!==void 0)return t.default;if(!n)return;if(n.nullable)return null;let i=n.effectiveDefault;if(i)return i;if(n.effectiveConformance.isMandatory)switch(n.effectiveMetatype){case $e.bitmap:case $e.object:return{};case $e.array:return[]}}var Kv;(e=>{e.Empty={components:[]}})(Kv||(Kv={}));var de=class extends An{static id;get cluster(){return this.constructor.cluster}get features(){return this.cluster.supportedFeatures}static cluster=yt.Unknown;static Interface=Kv.Empty;static early=!0;static dependencies=[go];constructor(t,n){if(super(t,n),!this.constructor.cluster)throw new ce("ClusterBehavior class has no cluster defined")}static for(t,n){return jM(t,this,n)}static with(...t){let n=new Ec(this.cluster).compose(t);return this.for(n)}static alter(t){return this.for(new Ls(this.cluster).alter(t))}static enable(t){return this.for(new Ls(this.cluster).enable(t))}static withInterface(){return this}static supports(t){if(!An.supports.call(this,t))return!1;let n=t.cluster;if(!n)return!1;let i=n.supportedFeatures,r=this.cluster.supportedFeatures;for(let a in i)if(i[a]&&!r[a])return!1;return!0}requireAttributeEnabled(t){if(this.state[t]===void 0)throw new ce(`To use this feature, please enable attribute ${String(t)} by setting the value during initialization.`);return this.state[t]}assertAttributeEnabled(t){if(this.state[t]===void 0)throw new ce(`To use this feature, please enable attribute ${String(t)} by setting the value during initialization.`)}};(e=>{class t extends Gr{interactionBegin=ht();interactionEnd=tr()}e.Events=t})(de||(de={}));var GM=J.get("ValidatedElements"),rh=class{attributes=new Set;commands=new Set;events=new Set;errors;#e;#t;#n;#i;constructor(t,n){if(this.#t=t,this.#n=n,this.#e=t.name,this.#i=t.cluster,typeof t!="function"&&this.error(void 0,"Is not a class",!0),this.#i===void 0){this.error("cluster","Property missing",!0);return}if(typeof this.#i!="object"){this.error("cluster","Property is not an object",!0);return}n!==void 0&&(n===null||typeof n!="object")&&this.error("instance","Is not an object",!0),this.#o(),this.#r(),this.#a()}report(){if(!this.errors)return;let t=!1;for(let n of this.errors){let i=fe.squash("Error in ",fe.strong(n.element),": ",n.message);n.fatal?(t=!0,GM.error(i)):GM.warn(i)}if(t)throw new ce(`There ${this.errors.length>1?`are ${this.errors.length} errors`:"is 1 error"} in a ClusterBehavior implementation for property ${this.#e} (see log for details)`)}#o(){let t=this.#i.attributes;if(!t){this.error("cluster.attributes","Property missing",!0);return}let n;if(this.#n)n=this.#n.state;else{let i=this.#t.State;if(!i){this.error("State","Property missing",!0);return}try{n=new i}catch{this.error("State","Not constructable",!0);return}}for(let i in t){let r=t[i];if(!r){this.error(`cluster.attributes.${i}`,"Undefined element in cluster definition",!0);continue}if(n[i]===void 0){r.optional||this.error(`State.${i}`,"Mandatory element unsupported",!1);continue}this.attributes.add(i)}}#r(){let t=this.#i.commands;if(!t){this.error("cluster.commands","Property missing",!0);return}let n;if(this.#n)n=this.#n;else try{n=b2(this.#t)}catch{this.error("constructor","Not constructable",!0);return}for(let i in t){let r=t[i];if(!r){this.error(`cluster.commands.${i}`,"Undefined element in cluster definition",!0);continue}let a=n[i];if(!(i in n)||a===void 0){r.optional||this.error(i,"Implementation missing",!0);continue}if(typeof a!="function"){this.error(i,"Implementation is not a function",!0);continue}if(a===An.unimplemented){if(!r.optional){if(this.#e.match(/^(?:Groups|Scenes|GroupKeyManagement)(?:Server|Behavior)/))continue;this.error(i,"Throws unimplemented exception",!1)}continue}this.commands.add(i)}}#a(){let t=this.#i.events;if(typeof t!="object"||t===null){this.error("cluster.events","Invalid definition",!0);return}let n=this.#t.Events;if(!n){this.error("Events","Implementation missing",!0);return}let i;if(this.#n)i=this.#n.events;else try{i=new n}catch{this.error("Events","Not constructable",!0);return}for(let r in t){let a=t[r];if(!a){this.error(`cluster.events.${r}`,"Undefined element in cluster definition",!0);continue}if(!(r in i)){a.optional||this.error(`cluster.events.${r}`,"Implementation missing",!0);continue}this.events.add(r)}}error(t,n,i){this.errors||(this.errors=[]);let r=t===void 0?this.#e:`${this.#e}.${t}`;this.errors?.push({element:r,message:n,fatal:i})}};var Mi=class{};(e=>{let t;(n=>{n.Initialize="initialize",n.Read="read",n.Write="write",n.Invoke="invoke",n.Destroy="destroy"})(t=e.ActionType||(e.ActionType={}))})(Mi||(Mi={}));var Lo;(e=>{e.context=Symbol("association");function t(i){if(i!=null)return i[e.context]}e.contextOf=t;function n(i,r){i[e.context]=r}e.setContextOf=n})(Lo||(Lo={}));var Zr=class extends lt{},Xv=class extends lt{},Yv=class extends lt{},Gc=class extends lt{},Zv=class extends lt{};var an=(e=>(e.ReadOnly="read only",e.Shared="shared",e.Waiting="waiting",e.Exclusive="exclusive",e.CommittingPhaseOne="committing phase one",e.CommittingPhaseTwo="committing phase two",e.RollingBack="rolling back",e.Destroyed="destroyed",e))(an||{});(e=>{function t(i,r,a){if(!r.includes(i.status))throw new Zr(`Cannot transition transaction from ${n(i.status)} to ${n(a)}`)}e.assert=t;function n(i){return`<${i}>`}e.formatStatus=n})(an||(an={}));var zM=J.get("ResourceSet"),zc=class{#e;#t=new Set;constructor(t,n=t.resources){this.#e=t;for(let i of n){for(;i[fu.reference];)i=i[fu.reference];this.#t.add(i)}}async acquireLocks(){for(;;){let t;for(let n of this.#t){let i=n.lockedBy;i&&i!==this.#e&&(t||(t=new Set),t.add(i))}if(!t)break;this.#n(t),await this.#e.waitFor(t)}return this.acquireLocksSync()}acquireLocksSync(){let t=new Set,n=new Set;for(let i of this.#t){if(i.lockedBy){if(i.lockedBy===this.#e)continue;zM.warn("Transaction",this.#e.via,"blocked by",i.lockedBy.via),n.add(i)}t.add(i)}if(n.size){zM.warn("You may need to await transaction.begin() to acquire locks asynchronously");let i=[...n].map(r=>r.toString());throw new Xv(`Cannot lock ${no("and",...i)} synchronously`)}for(let i of t)i.lockedBy=this.#e;return t}releaseLocks(){let t=new Set;for(let n of this.#t)n.lockedBy===this.#e&&(delete n.lockedBy,t.add(n));return t}assertResourcesAreLocked(t,n){for(let i of t.resources)if(i.lockedBy!==t)throw new Zr(`Transaction attempted ${n} but does not have all resources locked`)}#n(t){let n=new Set,i=r=>{if(n.add(r),r===this.#e)throw new Yv("Resource deadlock detected, write operation cannot proceed.  To prevent this you can await transaction.begin() before modifying state");if(r.waitingOn)for(let a of r.waitingOn)n.has(a)||i(a)};for(let r of t)i(r)}[Symbol.iterator](){return this.#t[Symbol.iterator]()}};var Bo=J.get("Transaction"),KM=5,XM=5;function w2(e,t){let n=new Qv(e),i=0;function r(l){if(i++,i>XM)throw new Zr(`Transaction commits have cascaded ${XM} times which likely indicates an infinite loop`);let d=n.commit();return Pe.is(d)?d.then(()=>n.status===Qa.Status.Exclusive?r(l):l):n.status===Qa.Status.Exclusive?r(l):l}let a=l=>{if(i)throw l;Bo.error("Rolling back",n.via,"due to error:",fe.weak(l?.message||`${l}`));try{let d=n.rollback();if(Pe.is(d))return Promise.resolve(d).catch(f=>{throw f!==l&&Bo.error("Secondary error in",n.via,"rollback:",f),l})}catch(d){d!==l&&Bo.error("Secondary error in",n.via,"rollback:",d)}throw l},s=n.close.bind(n),c=!1;try{let l=t(n);if(Pe.is(l))return c=!0,Promise.resolve(l).then(r,a).finally(s);let d=r(l);return Pe.is(d)?(c=!0,Promise.resolve(d).catch(a).finally(s)):d}catch(l){let d=a(l);return c=!0,Promise.resolve(d).finally(s)}finally{c||n.close()}}var Qv=class{#e=new Set;#t=new Map;#n=new Set;#i;#o;#r;#a;#s;constructor(t,n=!1){this.#r=fe.via(t),n?this.#i=an.ReadOnly:this.#i=an.Shared}close(){this.#i=an.Destroyed,this.#n.clear(),this.#t.clear(),this.#e.clear(),this.#s?.emit()}get via(){return this.#r}get status(){return this.#i}get participants(){return this.#e}get resources(){return this.#n}get waitingOn(){return this.#o}onShared(t,n){this.#a===void 0&&(this.#a=ht()),this.#a[n?"once":"on"](t)}onClose(t){this.status===an.Destroyed&&t(),this.#s===void 0&&(this.#s=ht()),this.#s.once(t)}async addResources(...t){if(this.#p(),this.#i===an.Exclusive){let i=await new zc(this,t).acquireLocks();this.#y(i)}this.addResourcesSync(...t)}addResourcesSync(...t){if(this.#p(),this.#i===an.Exclusive){let i=new zc(this,t).acquireLocksSync();this.#y(i)}else if(this.#i!==an.Shared)throw new Zr(`Cannot add resources to transaction that is ${this.status}`);for(let n of t)this.#n.add(n)}async begin(){if(this.#p(),this.status!==an.Exclusive){if(this.status!==an.Shared)throw new Zr(`Cannot begin write transaction because transaction is ${this.#i}`);this.#i=an.Waiting;try{let n=await new zc(this,this.#n).acquireLocks();this.#y(n),this.#i=an.Exclusive}catch(t){throw this.#i=an.Shared,t}}}beginSync(){if(this.#p(),this.status!==an.Exclusive){if(this.status!==an.Shared)throw new Zr(`Cannot begin write transaction because transaction is ${this.#i}`);this.#i=an.Exclusive;try{let n=new zc(this,this.#n).acquireLocksSync();this.#y(n)}catch(t){throw this.#i=an.Shared,t}}}addParticipants(...t){this.#p();for(let n of t)if(!this.#e.has(n)){if([...this.#e].findIndex(i=>i.toString()===n.toString())!==-1)throw new ce(`Participant ${n} identity is not unique`);if(this.#e.add(n),n.role!==void 0){if(this.#t.has(n.role))throw new Zr(`A participant is already registered for role ${n.role}`);this.#t.set(n.role,n)}}}getParticipant(t){return this.#p(),this.#t.get(t)}commit(){if(this.#p(),this.#i===an.Shared)return this.rollback();let t=()=>{let i=[...this.#e],r=this.#c(an.CommittingPhaseOne,"committed",this.#m.bind(this));return Pe.is(r)?r.then(()=>this.#f(i)):this.#f(i)},n=this.#l();return Pe.is(n)?n.then(t):t()}rollback(){return this.#p(),this.#c(an.RollingBack,"rolled back",()=>this.#h())}waitFor(t){if(this.#p(),this.waitingOn)throw new Zr("Attempted wait on a transaction that is already waiting");return Bo.debug("Transaction",this.via,"waiting on",no("and",...[...t].map(n=>n.via))),this.#o=t,new Promise(n=>{for(let i of t)i.onShared(()=>{t.delete(i),t.size||(this.#o=void 0,n())},!0)}).finally(()=>this.#o=void 0)}toString(){return`transaction<${this.via}>`}#c(t,n,i){if(this.status!==an.Shared&&this.status!==an.Exclusive)throw new Zr(`Illegal attempt to enter status ${t} when transaction is ${this.#i}`);let r=()=>{let c=new zc(this,this.#n).releaseLocks();this.#y(c,`${n} and unlocked`),this.#e.clear(),this.#i=an.Shared,this.#a?.emit()},a=!1;try{this.#i=t;let s=i();if(Pe.is(s))return a=!0,Promise.resolve(s).finally(r)}finally{a||r()}}#l(){let t=!1,n=!1,i=this.participants[Symbol.iterator](),r=1,a=l=>{let d=this.#c(an.RollingBack,"rolled back",()=>this.#h());if(Pe.is(d))return d.then(()=>{throw ve.reject(l),new Gc("Rolled back due to pre-commit error")});throw ve.reject(l),new Gc("Rolled back due to pre-commit error")},s=()=>{if(r++,r>KM)return Bo.error(`State has not settled after ${KM} pre-commit cycles which likely indicates an infinite loop`),a();t=!1,i=this.participants[Symbol.iterator]()},c=l=>{if(!n)for(l&&(t=!0);;){let d=i.next();if(d.done){if(t){let b=s();if(Pe.is(b))return b;continue}break}let f=d.value,g=b=>(n=!0,Bo.error(`Error pre-commit of ${f}:`,b),a(b));try{let b=f.preCommit?.();if(Pe.is(b))return Promise.resolve(b).catch(g).then(c);b&&(t=!0)}catch(b){return g(b)}}};return c()}#m(){let t=this.#d();return Pe.is(t)?Promise.resolve(t).then(this.#u.bind(this)):this.#u()}#d(){let t=!1,n;for(let r of this.participants){let a=s=>{Bo.error(`Error committing ${r} (phase one):`,s),t=!0};try{let s=r.commit1();Pe.is(s)&&(n||(n=[]),n.push(Promise.resolve(s).catch(a)))}catch(s){a(s);break}}let i=()=>{if(t){let r=this.#h();if(Pe.is(r))return r.then(()=>{throw new Gc("Rolled back due to commit phase one error")});throw new Gc("Rolled back due to commit phase one error")}};return n?Promise.allSettled(n).then(i):i()}#u(){this.#i=an.CommittingPhaseTwo;let t,n;for(let i of this.participants){let r=Pe.then(()=>i.commit2(),void 0,a=>{Bo.error(`Error committing (phase two) ${i}, state inconsistency possible:`,a),t?t.push(i):t=[i]});Pe.is(r)&&(n?n.push(r):n=[r])}if(n)return Promise.allSettled(n).then(()=>x2(t,"in commit phase 2"));x2(t,"in commit phase 2")}#f(t){let n=t[Symbol.iterator](),i=()=>{let r=n.next();if(r.done)return;let a=r.value;return Pe.then(()=>a.postCommit?.(),()=>i(),s=>{Bo.error(`Error post-commit of ${a}:`,s)})};return i()}#h(){this.#i=an.RollingBack;let t,n;for(let r of this.participants){let a=Pe.then(()=>r.rollback(),void 0,s=>{Bo.error(`Error rolling back ${r}, state inconsistency possible:`,s),t?t.push(r):t=[r]});Pe.is(a)&&(n?n.push(a):n=[a])}let i=()=>{this.#i=an.Shared,x2(t,"in commit phase 2")};if(n)return Promise.allSettled(n).then(i);i()}#v(...t){Bo.debug("Transaction",this.#r,t)}#y(t,n="locked"){if(!t.size)return;let i;n==="locked"?i=fe.strong(no("and",...[...t].map(r=>r.toString()))):i=`${t.size} resource${t.size===1?"":"s"}`,this.#v(n,i)}#p(){if(this.#i===an.Destroyed)throw Bo.warn("You have accessed transaction",this.via,"outside of the context in which it was active.  Open a new context or ensure your operation completes before the context exits"),new Zv(`Transaction ${this.#r} is destroyed`);if(this.#i===an.ReadOnly)throw new Zu}},oh=new Qv("readonly",!0);function x2(e,t){if(!e?.length)return;let n=e.length>1?"s":"";throw new Gc(`Unhandled error${n} ${t} participant${n} ${no("and",...e.map(i=>i.toString()))}`)}var $W=an,Qa={act(e,t){return w2(e,t)},ReadOnly:oh,Status:$W,[Symbol.toStringTag]:"Transaction"};Qa.act=w2;function Jv(e){let t=new Map;return{[Symbol.toStringTag]:"ContextAgents",agentFor(n){let i=t.get(n);return i===void 0&&t.set(n,i=new n.agentType(n,e)),i}}}var T2=1,Uo={act(e,t,n,i){let r=T2;T2=(T2+1)%65535;let a=fe.via(`${e}#${r.toString(16)}`),s,c,l=f=>(s=YM(f,c,i),n(s)),d=!1;try{c=t?.begin(a);let f=Qa.act(a,l);return Pe.is(f)?(d=!0,Promise.resolve(f).finally(()=>{c?.[Symbol.dispose]()})):f}finally{d||c?.[Symbol.dispose]()}},ReadOnly:YM(oh),[Symbol.toStringTag]:"OfflineContext"};function YM(e,t,n){let i,r=Object.freeze({...n,offline:!0,transaction:e,activity:t,authorizedFor(a){return a===W.View},agentFor(a){return i||(i=Jv(r)),i?.agentFor(a)},get[Lo.context](){return this},[Symbol.toStringTag]:"OfflineContext"});return r}var ZM=de.for(un.Cluster);var Ja=J.get("AccessControlServer"),Vo=class extends ZM{initialize(){this.reactTo(this.events.acl$Changing,this.#t),this.reactTo(this.events.acl$Changed,this.#n),this.state.extension!==void 0&&this.events.extension$Changing!==void 0&&this.events.extension$Changed!==void 0&&(this.reactTo(this.events.extension$Changing,this.#i),this.reactTo(this.events.extension$Changed,this.#o));let t=this.endpoint.lifecycle;t.online!==void 0&&this.reactTo(t.online,this.#e)}#e(){let t=this.env.get(bn).getFabrics(),n=Na(this.state.acl),i=n.length;for(let r of t)n.some(a=>a.fabricIndex===r.fabricIndex)||(n.push({fabricIndex:r.fabricIndex,privilege:un.AccessControlEntryPrivilege.Administer,authMode:un.AccessControlEntryAuthMode.Case,subjects:[r.rootNodeId],targets:null}),Ja.warn("Added missing ACL entry for fabric",r.fabricIndex,"for Node ID",r.rootNodeId,". This should only happen once after upgrading to matter.js 0.9.1"));n.length>i&&(this.state.acl=n),Ja.info("initializing ACL manager with ACL",n),this.internal.aclManager=new Jg(n,(r,a,s,c,l)=>this.extensionEntryAccessCheck(r,a,s,c,l)),this.reactTo(this.events.acl$Changed,this.#r)}#t(t){let n=this.context.session?.associatedFabric.fabricIndex;if(n===void 0)return;let i=t.filter(r=>r.fabricIndex===n);if(i.length>this.state.accessControlEntriesPerFabric)throw new ve("AccessControlEntriesPerFabric exceeded",ue.ResourceExhausted);for(let r of i){let{privilege:a,subjects:s,targets:c,authMode:l}=r;if(s!==null&&s.length>this.state.subjectsPerAccessControlEntry)throw new ve("SubjectsPerAccessControlEntry exceeded",ue.ResourceExhausted);if(c!==null&&c.length>this.state.targetsPerAccessControlEntry)throw new ve("TargetsPerAccessControlEntry exceeded",ue.ResourceExhausted);if(l===un.AccessControlEntryAuthMode.Pase)throw new ve("AuthMode for ACL must not be PASE",ue.ConstraintError);if(l===un.AccessControlEntryAuthMode.Case){if(s!==null){for(let d of s)if(Rt.isCaseAuthenticatedTag(d)){let f=Rt.extractAsCaseAuthenticatedTag(d);if(Li.getVersion(f)===0)throw new ve("CaseAuthenticatedTag version 0 is not allowed",ue.ConstraintError)}else if(!Rt.isOperationalNodeId(d))throw new ve("Subject must be a valid OperationalNodeId or CaseAuthenticatedTag",ue.ConstraintError)}}else if(l===un.AccessControlEntryAuthMode.Group){if(a===un.AccessControlEntryPrivilege.Administer)throw new ve("Group ACLs must not have Administer privilege",ue.ConstraintError);if(s!==null){for(let d of s)if(Oc(d)===Oc.UNSPECIFIED_GROUP_ID)throw new ve("Subject must be a valid GroupId for Group ACLs",ue.ConstraintError)}}if(c!==null)for(let d of c){let{cluster:f,endpoint:g,deviceType:b}=d;if(b!==null&&g!==null)throw new ve("DeviceType and Endpoint are mutually exclusive",ue.ConstraintError);if(f===null&&g===null&&b===null)throw new ve("At least one field must be present",ue.ConstraintError);if(f!==null&&!sa.isValid(f))throw new ve("Cluster must be a valid ClusterId",ue.ConstraintError);if(g!==null&&!co.isValid(g))throw new ve("Endpoint must be a valid OperationalNodeId",ue.ConstraintError);if(b!==null&&!la.isValid(b))throw new ve("DeviceType must be a valid DeviceType",ue.ConstraintError)}}}#n(t,n){if(this.internal.aclManager===void 0)return;let{session:i}=this.context,r=i?.associatedFabric.fabricIndex;if(r===void 0||this.events.accessControlEntryChanged===void 0)return;let a=i===void 0||i?.isPase?0:null,s=a===null?i?.associatedFabric.rootNodeId:null;if(s===void 0)return;let c=t.filter(f=>f.fabricIndex===r),l=n.filter(f=>f.fabricIndex===r),d=0;for(;d<c.length;d++)if(!Rn(c[d],l[d])){let f=l[d]===void 0?un.ChangeType.Added:c[d]===void 0?un.ChangeType.Removed:un.ChangeType.Changed;this.events.accessControlEntryChanged.emit({changeType:f,adminNodeId:s,adminPasscodeId:a,latestValue:(f===un.ChangeType.Removed?l[d]:c[d])??null,fabricIndex:r},this.context)}if(l.length>d)for(let f=l.length-1;f>=d;f--)this.events.accessControlEntryChanged.emit({changeType:un.ChangeType.Removed,adminNodeId:s,adminPasscodeId:a,latestValue:n[f],fabricIndex:r},this.context)}#i(t){let n=this.context.session?.associatedFabric.fabricIndex;if(n===void 0)return;let i=t.filter(r=>r.fabricIndex===n);if(i.length!==0){if(i.length>1)throw new ve("Extension list must contain a single entry",ue.ConstraintError);this.extensionEntryValidator(i[0])}}#o(t,n){if(this.internal.aclManager===void 0)return;let{session:i}=this.context,r=i?.associatedFabric.fabricIndex;if(r===void 0||this.events.accessControlExtensionChanged===void 0)return;let a=i===void 0||i?.isPase?0:null,s=a===null?i?.associatedFabric.rootNodeId:null;if(s===void 0)return;let c=t.filter(f=>f.fabricIndex===r),l=n.filter(f=>f.fabricIndex===r),d=c.length>l.length?un.ChangeType.Added:c.length<l.length?un.ChangeType.Removed:un.ChangeType.Changed;this.events.accessControlExtensionChanged.emit({changeType:d,adminNodeId:s,adminPasscodeId:a,latestValue:(d===un.ChangeType.Removed?l[0]:c[0])??null,fabricIndex:r},this.context)}accessLevelsFor(t,n,i){return n.cluster===void 0?(Ja.warn("Access control check without cluster, returning View access level"),[W.View]):t.session===void 0?(Ja.warn("Access control check without session, returning View access level"),[W.View]):i===void 0?(Ja.warn("Access control check without endpoint, returning View access level"),[W.View]):this.aclManager.getGrantedPrivileges(t.session,i,n.cluster)}extensionEntryValidator(t){let{data:n}=t;if(n.length<2||n[0]!==je.List||n[n.length-1]!==je.EndOfContainer)throw new ve("Extension must be a valid TLV",ue.ConstraintError);try{so({},!0).decode(n)}catch(i){throw Ja.debug("Extension TLV decoding failed:",i),new ve("Extension must be a valid TLV",ue.ConstraintError)}}extensionEntryAccessCheck(t,n,i,r,a){return!0}get aclManager(){if(this.internal.aclManager===void 0)throw new Re("ACL manager not initialized yet");return this.internal.aclManager}#r(t){this.aclUpdateDelayed?(Ja.info("ACL updated, but ACL manager update is delayed",t),this.internal.delayedAclData=t):(Ja.info("ACL updated, updating ACL manager",t),this.aclManager.updateAccessControlList(Na(t)))}get aclUpdateDelayed(){return this.internal.aclUpdateDelayed}set aclUpdateDelayed(t){Ja.info("Setting ACL update delayed to",t),t||this.#a(),this.internal.aclUpdateDelayed=t}#a(){if(this.internal.delayedAclData===void 0)return;let t=Na(this.internal.delayedAclData);this.internal.delayedAclData=void 0,Ja.info("Updating ACL manager with ACL",t),this.aclManager.updateAccessControlList(t)}};(e=>{class t{aclManager;aclUpdateDelayed=!1;delayedAclData}e.Internal=t})(Vo||(Vo={}));function a0(e){return{act(t){let n,i,r,{exchange:a}=e,s=a?.session;if(s?(wr(s),i=s.fabric?.fabricIndex,r=s.peerNodeId):(i=e.fabric,r=e.subject),r===void 0)throw new ce("OnlineContext requires an authorized subject");let{message:c}=e,l=fe.via(`online#${c?.packetHeader?.messageId?.toString(16)??"?"}@${r.toString(16)}`),d,f,g;e.tracer&&e.actionType&&(f={type:e.actionType});let b=()=>{f&&e.tracer?.record(f),c&&Lo.setContextOf(c,void 0),g&&g[Symbol.dispose]()},w=y=>(d={...e,session:s,exchange:a,subject:r,fabric:i,transaction:y,trace:f,interactionComplete:a?.closed,authorizedFor(S,L){if(L===void 0)throw new Re("AccessControl.Location is required");if(L.accessLevels!==void 0)return L.accessLevels.includes(S);if(e.root===void 0)throw new Re("Root endpoint is required");let H=e.root.act(z=>z.get(Vo));if(Pe.is(H))throw new Re("AccessControlServer should already be initialized.");let oe=H.accessLevelsFor(d,L,e.endpoint);return L.accessLevels=oe,oe.includes(S)},agentFor(S){return n||(n=Jv(d)),n.agentFor(S)},get[Lo.context](){return this}},c&&Lo.setContextOf(c,d),t(d)),O=y=>{if(f){let S=y.code;typeof S=="number"&&(f.status=S)}throw y},D=!1;try{g=e.activity?.frame(l);let y=Qa.act(l,w);return Pe.is(y)?(D=!0,Promise.resolve(y).catch(O).finally(b)):y}catch(y){throw O(y),y}finally{!D&&d&&b()}},[Symbol.toStringTag]:"OnlineContext"}}var ah=de.for(lo.Cluster);var s0=de.withInterface().for(fn.Cluster);var QM=J.get("NetworkingServer"),va=class extends go{initialize(){this.state.ble===void 0?this.state.ble=Lc.enabled:this.state.ble&&!Lc.enabled&&(QM.warn("Disabling Bluetooth commissioning because BLE support is not installed"),this.state.ble=!1);let t=this.state.discoveryCapabilities;switch(t.ble){case void 0:t.ble=this.state.ble;break;case!0:this.state.ble||(t.ble=!1);break}return t.onIpNetwork===void 0&&(t.onIpNetwork=!0),this.reactTo(this.agent.get(Vr).events.commissioned,this.#e),super.initialize()}openAdvertisementWindow(){if(!this.internal.runtime)throw new ce("Cannot advertise offline server");this.internal.runtime.openAdvertisementWindow().catch(t=>QM.error("Failed to open advertisement window",t))}advertiseNow(){if(!this.internal.runtime)throw new ce("Cannot advertise offline server");this.env.runtime.add(this.internal.runtime.advertiseNow())}#e(){this.internal.runtime&&this.internal.runtime.endUncommissionedMode()}};(e=>{class t extends go.Internal{}e.Internal=t;class n extends go.State{listeningAddressIpv4=void 0;listeningAddressIpv6=void 0;ipv4=!0;ble=void 0;discoveryCapabilities={onIpNetwork:!0};subscriptionOptions=void 0}e.State=n})(va||(va={}));var ba=class extends An{static id="sessions";initialize(){let t=this.env;t.has(Kn)&&this.#t(t.get(Kn));let n=t.eventsFor(Kn);this.reactTo(n.added,this.#t),this.reactTo(n.deleted,this.#r)}#e(t){return{name:t.name,nodeId:t.nodeId,peerNodeId:t.peerNodeId,fabric:t.fabric?.externalInformation,isPeerActive:t.isPeerActive(),lastInteractionTimestamp:t.timestamp,lastActiveTimestamp:t.activeTimestamp,numberOfActiveSubscriptions:t.subscriptions.size}}#t(t){this.reactTo(t.sessions.added,this.#n),this.reactTo(t.sessions.deleted,this.#i),this.reactTo(t.subscriptionsChanged,this.#o)}#n(t){if(t.isPase)return;let n=this.#e(t);this.state.sessions[t.id]=n,this.events.opened.emit(n)}#i(t){t.id in this.state.sessions&&(delete this.state.sessions[t.id],this.events.closed.emit(this.#e(t)))}#o(t){if(t.isPase)return;let n=this.state.sessions[t.id];n!==void 0&&(n.numberOfActiveSubscriptions=t.subscriptions.size,this.state.sessions[t.id]=n,this.events.subscriptionsChanged.emit(n))}#r(){this.state.sessions={}}};(e=>{class t{sessions={}}e.State=t;class n extends Gr{opened=ht();closed=ht();subscriptionsChanged=ht()}e.Events=n})(ba||(ba={}));var WW=J.get("Commissioning"),Vr=class e extends An{static id="commissioning";static early=!0;initialize(){if(this.state.passcode===-1)this.state.passcode=lu.generateRandomPasscode();else if(Rm.FORBIDDEN_PASSCODES.includes(this.state.passcode))throw new ce(`Passcode ${this.state.passcode} is not allowed`);this.state.discriminator===-1&&(this.state.discriminator=lu.generateRandomDiscriminator()),this.reactTo(this.endpoint.lifecycle.online,this.#i),this.reactTo(this.endpoint.lifecycle.partsReady,this.#o)}[Symbol.asyncDispose](){this.internal.unregisterFailsafeListener?.()}handleFabricChange(t,n){if(this.env.has(Po)){let s=this.env.get(Po);if(n===Tr.Added||n===Tr.Updated){if(s.construction.status!==ot.Status.Destroyed)if(s.fabricIndex===t){this.#n(s);return}else throw new ze(`Failsafe owns a different fabricIndex then ${s.forUpdateNoc?"updated":"added"}.`)}else if(n===Tr.Removed&&s.fabricIndex!==t)throw new ze("Failsafe owns a different fabricIndex then removed.")}let i=this.env.get(bn).getFabrics(),r=!!i.length;if(n===Tr.Removed)delete this.state.fabrics[t];else{let s=i.find(c=>c.fabricIndex===t);s!==void 0&&(this.state.fabrics[t]={fabricIndex:s.fabricIndex,fabricId:s.fabricId,nodeId:s.nodeId,rootNodeId:s.rootNodeId,rootVendorId:s.rootVendorId,label:s.label})}let a=!1;if(r!==this.state.commissioned&&(this.state.commissioned=r,r?(this.events.commissioned.emit(this.context),this.endpoint.lifecycle.commissioned.emit(this.context)):(this.events.decommissioned.emit(this.context),this.endpoint.lifecycle.decommissioned.emit(this.context),a=!0)),this.events.fabricsChanged.emit(t,n),a){let s=this.agent.get(ba);Object.keys(s.state.sessions).length>0?this.reactTo(s.events.closed,this.#e):this.#t()}}#e(){let t=this.agent.get(ba);Object.keys(t.state.sessions).length===0&&this.#t()}#t(){this.env.runtime.add(this.endpoint.factoryReset().then(this.callback(this.initiateCommissioning)))}#n(t){if(this.internal.unregisterFailsafeListener)return;let n=this.callback(function(i){i===ot.Status.Destroyed&&(t.fabricIndex!==void 0&&this.handleFabricChange(t.fabricIndex,t.forUpdateNoc?Tr.Updated:Tr.Added),this.internal.unregisterFailsafeListener?.())});this.internal.unregisterFailsafeListener=this.callback(function(){t.construction.change.off(n),this.internal.unregisterFailsafeListener=void 0}),t.construction.change.on(n)}initiateCommissioning(){let{passcode:t,discriminator:n}=this.state,{qrPairingCode:i,manualPairingCode:r}=this.state.pairingCodes;WW.notice(fe.strong(this.endpoint.toString()),"is uncommissioned",fe.dict({passcode:t,discriminator:n,"manual pairing code":r}),fe.list([PA.get(i).trim(),`QR code URL: https://project-chip.github.io/connectedhomeip/qrcode.html?data=${i}
`]))}static pairingCodesFor(t){let n=t.stateOf(ah),i=t.stateOf(e),r=t.stateOf(va),a=RA.encode([{version:0,vendorId:n.vendorId,productId:n.productId,flowType:i.flowType,discriminator:i.discriminator,passcode:i.passcode,discoveryCapabilities:DA.encode(r.discoveryCapabilities)}]);return{manualPairingCode:NA.encode({discriminator:i.discriminator,passcode:i.passcode}),qrPairingCode:a}}static schema=new Ye({name:"CommissioningState",type:"struct",children:[o({name:"passcode",type:"uint32",quality:"N"}),o({name:"discriminator",type:"uint16",quality:"N"})]});#i(){let t=this.env.get(bn).getFabrics();if(!t.length)this.initiateCommissioning();else{let n={};t.forEach(({fabricIndex:i,externalInformation:r})=>n[i]=r),this.state.fabrics=n}}#o(){this.state.commissioned=!!this.agent.get(s0).state.commissionedFabrics,this.endpoint.lifecycle.initialized.emit(this.state.commissioned)}};(e=>{class t{unregisterFailsafeListener=void 0}e.Internal=t;class n{commissioned=!1;fabrics={};passcode=-1;discriminator=-1;flowType=w5.Standard;additionalBleAdvertisementData=void 0;pairingCodes={};[Gi.properties](a){return{get pairingCodes(){return e.pairingCodesFor(a)}}}}e.State=n;class i extends Gr{commissioned=ht();decommissioned=ht();fabricsChanged=ht()}e.Events=i})(Vr||(Vr={}));var HW=J.get("PartLifecycle"),Tn=class e{#e;#t;#n=!1;#i=!1;#o=!1;#r=!1;#a=!1;#s=ht(t=>this.emitError("installed",t));#c=ht(t=>this.emitError("ready",t));#l=ht(t=>this.emitError("partsReady",t));#m=ht(t=>this.emitError("destroyed",t));#d=ht(t=>this.emitError("changed",t));#u=tr();#f;get installed(){return this.#s}get ready(){return this.#c}get partsReady(){return this.#l}get treeReady(){return this.partsReady}get destroyed(){return this.#m}get changed(){return this.#d}get reset(){return this.#u}get isInstalled(){return this.#n}get isReady(){return this.#i}get isPartsReady(){return this.#o}get isTreeReady(){return this.isPartsReady}get isEssential(){return this.#t}get hasId(){return this.#r}get hasNumber(){return this.#a}constructor(t,n){this.#e=t,this.#t=n??!0,t.construction.change.on(i=>{i===ot.Status.Crashed&&this.change(e.Change.Crashed)})}bubble(t,n){this.#d.emit(t,n)}change(t){switch(t){case e.Change.Installed:this.#n=!0;break;case e.Change.Ready:if(!this.#r)throw new ce("Endpoint reports as ready but has no ID assigned");if(!this.#a)throw new ce("Endpoint reports as ready but has no number assigned");this.#i=!0;break;case e.Change.PartsReady:if(!this.#i)throw new ce("Endpoint reports as parts-ready but is not itself ready");this.#o=!0;break;case e.Change.IdAssigned:this.#r=!0;break;case e.Change.NumberAssigned:this.#a=!0;break}if(this.#f){this.#f?.push(t);return}this.#f=[t];try{for(;this.#f.length;){let n=this.#f[0];this.#f.shift(),this.#d.emit(n,this.#e);let i=this[n];i!==void 0&&i.emit()}}finally{this.#f=void 0}}emitError(t,n){HW.error("Unhandled error in",fe.strong(`${this.#e}.lifecycle.${t}`),"handler:",n)}resetting(){this.#n=this.#i=this.#o=!1}};(e=>{let t;(n=>{n.Installed="installed",n.Ready="ready",n.PartsReady="partsReady",n.Crashed="crashed",n.Destroyed="destroyed",n.ServersChanged="serversChanged",n.ClientsChanged="clientsChanged",n.IdAssigned="idAssigned",n.NumberAssigned="numberAssigned"})(t=e.Change||(e.Change={}))})(Tn||(Tn={}));var nc=class extends ce{},xa=class{#e;#t;constructor(t){this.#t=t}get nodeDescription(){return this.#t.toString()}assertNumberAvailable(t,n){let i;if(this.#t.lifecycle.hasNumber&&this.#t.number===t?i=this.#t:(this.#e===void 0&&(this.#e=Uo.ReadOnly.agentFor(this.#t).get(Ei).partsById),i=this.#e?.[t]),i&&i!==n){let r;throw i.lifecycle.hasId?r=`endpoint ${i.id}`:r="another endpoint",new nc(`Endpoint number ${t} is already assigned to ${r}`)}}};var Ei=class extends An{static id="index";static early=!0;initialize(){this.reactTo(this.endpoint.lifecycle.changed,this.#e)}[Symbol.asyncDispose](){this.internal.changeBroadcaster?.stop(),delete this.internal.changeBroadcaster}get partsById(){return this.internal.partsById}get partsByNumber(){return this.internal.partsByNumber}forNumber(t){return this.endpoint.lifecycle.hasNumber&&t===this.endpoint.number?this.endpoint:this.internal.partsByNumber[t]}#e(t,n){switch(t){case Tn.Change.IdAssigned:case Tn.Change.NumberAssigned:case Tn.Change.Installed:this.#t(n),this.#i();break;case Tn.Change.Destroyed:this.#n(n),this.#i();break}}#t(t){t.lifecycle.hasNumber&&(this.env.get(xa).assertNumberAvailable(t.number,t),this.internal.partsByNumber[t.number]=t);for(let n of t.parts)this.#t(n)}#n(t){t.id&&this.internal.partsById[t.id]===t&&delete this.internal.partsById[t.id],t.number!==void 0&&this.internal.partsByNumber[t.number]===t&&delete this.internal.partsByNumber[t.number];for(let n of t.parts)this.#n(n);this.#i()}#i(){this.internal.changeBroadcaster||Promise.resolve().then(()=>{this.events.change.emit()})}};(e=>{class t{changeBroadcaster;partsById={};partsByNumber={}}e.Internal=t;class n extends Gr{change=ht()}e.Events=n})(Ei||(Ei={}));var es=class extends An{static id="parts";add(t){this.endpoint.parts.add(t)}delete(t){return this.endpoint.parts.delete(t)}clear(){this.endpoint.parts.clear()}has(t){return this.endpoint.parts.has(t)}indexOf(t){return this.endpoint.parts.indexOf(t)}*[Symbol.iterator](){for(let t of this.endpoint.parts)yield this.context.agentFor(t)}};var c0=de.for(Us.Cluster);var JM=de.withInterface().for(Bl.Cluster);var e1=class extends JM{};var zi=de.withInterface().for(qs.Cluster);var Ke=class extends zi{initialize(){this.state.identifyType===void 0&&(this.state.identifyType=qs.IdentifyType.None),this.internal.identifyTimer=Ne.getPeriodicTimer("Identify time update",1e3,this.callback(this.#i)),this.reactTo(this.events.identifyTime$Changed,this.#n)}#e(){this.internal.identifyTimer?.isRunning||(this.internal.identifyTimer?.start(),this.state.isIdentifying=!0,this.events.startIdentifying.emit())}#t(){this.internal.identifyTimer?.isRunning&&(this.internal.identifyTimer?.stop(),this.state.isIdentifying=!1,this.events.stopIdentifying.emit())}#n(){this.state.identifyTime===0?this.#t():this.#e()}async[Symbol.asyncDispose](){this.#t(),await super[Symbol.asyncDispose]?.()}#i(){let t=(this.state.identifyTime??0)-1;t<=0&&(t=0),this.state.identifyTime=t}identify({identifyTime:t}){this.state.identifyTime=t}};(e=>{class t{identifyTimer}e.Internal=t;class n extends zi.State{isIdentifying=!1}e.State=n;class i extends zi.Events{startIdentifying=ht();stopIdentifying=ht()}e.Events=i})(Ke||(Ke={}));function Be(...e){let t={};return e7(t,e),t}(e=>{function t(n,i){let r={...n};return e7(r,i),r}e.extend=t})(Be||(Be={}));function e7(e,t){for(let n of t){if(typeof n.id!="string")throw new ce("Behavior type has no ID");e[xt(n.id)]=n}}function t7(e){return{...e,deviceClass:e.deviceClass??ia.Simple,behaviors:e.behaviors??{},requirements:e.requirements??{}}}function Ue(e){let t=t7(e),n;return{...t,get defaults(){if(!n){n={};for(let i in t.behaviors)n[i]=t.behaviors[i].defaults}return n},set(i){let r=Array();for(let a in this.behaviors){let s=i[a],c=this.behaviors[a];s&&r.push(c.set(s))}return this.with(...r)},with(...i){return Ue({...e,behaviors:Be.extend(this.behaviors,i)})}}}var l0;(e=>{e.ActionsServer=e1,e.IdentifyServer=Ke,e.server={mandatory:{Parts:es,Index:Ei},optional:{Actions:e.ActionsServer,Identify:e.IdentifyServer}}})(l0||(l0={}));var jW=Ue({name:"Aggregator",deviceType:14,deviceRevision:1,requirements:l0,behaviors:Be(l0.server.mandatory.Parts,l0.server.mandatory.Index)}),t1=jW;var qo=class extends c0{static dependencies=[Ei];async initialize(){if(this.endpoint.behaviors.has(Ei))this.reactTo(this.agent.get(Ei).events.change,this.#i);else if(this.endpoint.hasParts)for(let t of this.endpoint.parts)this.#n(t);await this.#i(),this.reactTo(this.endpoint.lifecycle.changed,this.#t),this.state.serverList=this.#o,this.#e()}#e(){if(!this.state.deviceTypeList.length){let t=this.endpoint.type;this.state.deviceTypeList=[{deviceType:t.deviceType,revision:t.deviceRevision}]}}addDeviceTypes(...t){this.#e();let n=this.state.deviceTypeList;e:for(let i of t){if(typeof i=="string"){let r=kr.standard.get(st,i);if(r===void 0)throw new ce(`Device type ${i} not found`);i={deviceType:la(r.id),revision:r.revision}}for(let r of n)if(Rn(i,r))continue e;n.push(i)}}addTags(...t){if(!this.features.tagList)throw new ce('You must enable the descriptor "TagList" feature to set tags');let n=this.state.tagList;e:for(let i of t){for(let r of n)if(r.mfgCode===i.mfgCode&&r.namespaceId===i.namespaceId&&r.tag===i.tag&&r.label!==i.label&&i.label!==null&&i.label!==void 0){r.label=i.label;continue e}n.push(i)}}hasDeviceType(t){return this.state.deviceTypeList.findIndex(n=>n.deviceType===t)!==-1}async#t(t,n){switch(t){case Tn.Change.Ready:if(!this.endpoint.parts.has(n))return;await this.#i(),this.#n(n);break;case Tn.Change.ServersChanged:if(n!==this.endpoint)return;await this.context.transaction.addResources(this),await this.context.transaction.begin(),this.state.serverList=this.#o;break}}#n(t){this.reactTo(t.lifecycle.destroyed,this.#i)}async#i(){let t=this.endpoint,n;if(this.agent.has(Ei)){let i=this.agent.get(Ei);n=Object.keys(i.partsByNumber).map(a=>Number.parseInt(a));let r=n.indexOf(this.endpoint.number);r!==-1&&n.splice(r,1)}else t.hasParts?n=[...t.parts].map(i=>i.lifecycle.hasNumber?i.number:void 0).filter(i=>i!==void 0):n=[];if(n.sort(),this.state.partsList.length===n.length){let i=n.length;for(;i<n.length&&this.state.partsList[i]===n[i];i++);if(i===n.length)return}await this.context.transaction.addResources(this),await this.context.transaction.begin(),this.state.partsList=n}get#o(){let t=new Array;for(let n of Object.values(this.endpoint.behaviors.supported)){let i=n.cluster?.id;i&&t.push(i)}return t}};var C2=de.for(Gl.Cluster);var GW=J.get("BridgedDeviceBasicInformationServer"),sh=class extends C2{async initialize(){this.endpoint.lifecycle.isInstalled?(await this.agent.load(qo),await this.#t()):this.reactTo(this.endpoint.lifecycle.installed,this.#t,{once:!0}),this.reactTo(this.events.reachable$Changed,this.#e),this.state.uniqueId!==void 0&&this.state.serialNumber!==void 0&&this.state.uniqueId===this.state.serialNumber&&GW.warn("uniqueId and serialNumber shall not be the same.")}#e(t){this.events.reachableChanged.emit({reachableNewValue:t},this.context)}async#t(){let t=this.agent.owner;if(t===void 0)throw new ce(`Bridged node ${this.endpoint} has no parent`);if(!t.get(qo).hasDeviceType(t1.deviceType))throw new ce(`Bridged node ${this.endpoint} owner ${t} is not an aggregator`);this.agent.get(qo).addDeviceTypes("BridgedNode")}};(e=>{class t extends C2.State{reachable=!0}e.State=t})(sh||(sh={}));var n7=de.for(Nd.Cluster);var ch=class extends n7{};var i7=de.for(Rd.Cluster);var n1=class extends i7{initialize(){this.agent.get(qo).addDeviceTypes("PowerSource")}};var lh;(e=>{e.BridgedDeviceBasicInformationServer=sh,e.PowerSourceConfigurationServer=ch,e.PowerSourceServer=n1,e.server={mandatory:{Parts:es,Index:Ei,BridgedDeviceBasicInformation:e.BridgedDeviceBasicInformationServer},optional:{PowerSourceConfiguration:e.PowerSourceConfigurationServer,PowerSource:e.PowerSourceServer}}})(lh||(lh={}));var zW=Ue({name:"BridgedNode",deviceType:19,deviceRevision:2,deviceClass:ia.Utility,requirements:lh,behaviors:Be(lh.server.mandatory.Parts,lh.server.mandatory.Index,lh.server.mandatory.BridgedDeviceBasicInformation)}),r7=zW;var o7=J.get("BasicInformationServer"),KW=ah.enable({events:{startUp:!0,shutDown:!0,leave:!0}}).set({maxPathsPerInvoke:0}),dh=class extends KW{initialize(){let t=this.state,n={};function i(a,s){(t[a]===void 0||t[a]===0)&&(t[a]=s,n[a]=s)}i("vendorId",Wi(65521)),i("vendorName","Matter.js Test Vendor"),i("productId",32768),i("productName","Matter.js Test Product"),i("hardwareVersion",0),i("softwareVersion",0),Object.keys(n).length&&o7.warn("Using development values for some BasicInformation attributes:",fe.dict(n)),i("productLabel",t.productName),i("nodeLabel",t.productName),i("dataModelRevision",jt.DATA_MODEL_REVISION),i("hardwareVersionString",t.hardwareVersion.toString()),i("softwareVersionString",t.softwareVersion.toString()),i("specificationVersion",jt.SPECIFICATION_VERSION),i("maxPathsPerInvoke",10);let r=this.endpoint.lifecycle;r.online!==void 0&&this.reactTo(r.online,this.#e),this.state.reachable!==void 0&&this.events.reachable$Changed!==void 0&&(this.events.reachableChanged===void 0&&(this.events.reachableChanged=ht()),this.reactTo(this.events.reachable$Changed,this.#t)),this.state.uniqueId!==void 0&&this.state.serialNumber!==void 0&&this.state.uniqueId===this.state.serialNumber&&o7.warn("uniqueId and serialNumber shall not be the same.")}[Symbol.asyncDispose](){this.events.shutDown?.emit(void 0,this.context)}#e(){this.events.startUp.emit({softwareVersion:this.state.softwareVersion},this.context);let t=this.env.get(bn);this.reactTo(t.events.deleted,this.#n)}#t(t){this.events.reachableChanged?.emit({reachableNewValue:t},this.context)}#n({fabricIndex:t}){this.events.leave.emit({fabricIndex:t},this.context)}};var a7=de.withInterface().for(qa.Cluster);var i1=class extends a7{initialize(){if(this.state.maxGroupKeysPerFabric!==1)throw new ce("maxGroupKeysPerFabric must be 1 for now.");if(this.state.maxGroupsPerFabric!==0)throw new ce("maxGroupsPerFabric must be 0 for now.");this.state.groupTable=[]}keySetWrite(){throw new ve("We do not support and additional groups then the IPK",ue.ResourceExhausted)}keySetRead({groupKeySetId:t}){if(this.context.session===void 0)throw new ce("Session must be defined");let i=this.context.session.associatedFabric.getGroupKeySet(t);if(i===void 0)throw new ve(`GroupKeySet ${t} not found`,ue.NotFound);return{groupKeySet:{...i,epochKey0:null,epochKey1:null,epochKey2:null}}}keySetRemove({groupKeySetId:t}){throw t===0?new ve(`GroupKeySet ${t} cannot be removed`,ue.InvalidCommand):new ve(`GroupKeySet ${t} not found`,ue.NotFound)}keySetReadAllIndices(){if(this.context.session===void 0)throw new ce("Session must be defined");return{groupKeySetIDs:this.context.session.associatedFabric.getAllGroupKeySets().map(({groupKeySetId:i})=>i)}}};var S2=de.withInterface().for(mn.Cluster);mn.Cluster.commands={...mn.Cluster.commands,openCommissioningWindow:X(0,I({commissioningTimeout:m(0,B),pakePasscodeVerifier:m(1,be),discriminator:m(2,B.bound({max:4095})),iterations:m(3,ee),salt:m(4,be)}),0,ne,{invokeAcl:W.Administer,timed:!0})};var I2=J.get("AdministratorCommissioningServer"),Kc=class extends S2{async openCommissioningWindow({pakePasscodeVerifier:t,discriminator:n,iterations:i,salt:r,commissioningTimeout:a}){if(t.length!==vA)throw new ve("PAKE Passcode verifier length is invalid.",ue.Failure,mn.StatusCode.PakeParameterError);if(i<1e3||i>1e5)throw new ve("PAKE iterations invalid.",ue.Failure,mn.StatusCode.PakeParameterError);if(r.length<16||r.length>32)throw new ve("PAKE salt has invalid length.",ue.Failure,mn.StatusCode.PakeParameterError);let s=this.env.get(ji);this.#t(a,s),this.#e(a,mn.CommissioningWindowStatus.EnhancedWindowOpen),await this.env.get(ji).allowEnhancedCommissioning(n,jm.fromVerificationValue(this.env.get(Kn),t,{iterations:i,salt:r}),this.callback(this.#n))}async openBasicCommissioningWindow({commissioningTimeout:t}){let n=this.env.get(ji);this.#t(t,n),this.#e(t,mn.CommissioningWindowStatus.BasicWindowOpen),await n.allowBasicCommissioning(this.callback(this.#n))}async revokeCommissioning(){if(this.internal.commissioningWindowTimeout===void 0)throw new ve("No commissioning window is opened that could be revoked.",ue.Failure,mn.StatusCode.WindowNotOpen);if(I2.debug("Revoking commissioning window."),await this.#i(),this.env.has(Po)){let t=this.env.get(Po);t&&await t.close()}}#e(t,n){if(this.internal.commissioningWindowTimeout!==void 0)throw new Re("Commissioning window already initialized.");I2.debug(`Commissioning window timer started for ${t} seconds for ${this.context.session?.name}.`),this.internal.commissioningWindowTimeout=Ne.getTimer("Commissioning timeout",t*1e3,this.callback(this.#o)).start();let i=this.session.associatedFabric;this.state.windowStatus=n,this.state.adminFabricIndex=i.fabricIndex,this.state.adminVendorId=i.rootVendorId;let r=this.callback(this.#r);this.internal.stopMonitoringFabricForRemoval=()=>{i.deleteRemoveCallback(r)},this.session.associatedFabric.addRemoveCallback(r)}#t(t,n){if(this.internal.commissioningWindowTimeout!==void 0)throw new ve("A commissioning window is already opened.",ue.Failure,mn.StatusCode.Busy);if(t>Ig)throw new ve(`Commissioning timeout must not exceed ${Ig} seconds.`,ue.InvalidCommand);if(t<c5)throw new ve(`Commissioning timeout must not be lower then ${c5} seconds.`,ue.InvalidCommand);if(n.isFailsafeArmed)throw new ve("Failsafe timer armed, assume commissioning in progress.",ue.Failure,mn.StatusCode.Busy)}#n(){I2.debug("End commissioning window."),this.internal.commissioningWindowTimeout!==void 0&&(this.internal.commissioningWindowTimeout.stop(),this.internal.commissioningWindowTimeout=void 0),this.internal.stopMonitoringFabricForRemoval?.(),this.state.adminFabricIndex=null,this.state.windowStatus=mn.CommissioningWindowStatus.WindowNotOpen,this.state.adminFabricIndex=null,this.state.adminVendorId=null}async#i(){this.callback(this.#n),await this.env.get(ji).endCommissioning()}#o(){this.env.runtime.add(this.#i())}#r(){this.state.adminFabricIndex=null,this.internal.stopMonitoringFabricForRemoval?.()}[Symbol.asyncDispose](){this.internal.commissioningWindowTimeout!==void 0&&(this.internal.commissioningWindowTimeout.stop(),this.internal.commissioningWindowTimeout=void 0)}};(e=>{class t{commissioningWindowTimeout;stopMonitoringFabricForRemoval}e.Internal=t;class n extends S2.State{windowStatus=mn.CommissioningWindowStatus.WindowNotOpen}e.State=n})(Kc||(Kc={}));var A2=de.withInterface().for(Xt.Cluster);var bu=de.withInterface().for(yt(di.Base));var xu=class extends bu{};var r1=class extends Po{#e;#t;constructor(t,n){super(n),this.#e=t,this.#e.env.set(Po,this),this.construction.change.on(i=>{i===ot.Status.Destroyed&&this.#e.env.delete(Po,this)})}async storeEndpointState(){this.#t={networks:new Map},this.#e.behaviors.has(bu)&&this.#e.visit(t=>{t.behaviors.has(bu)&&this.#t?.networks.set(t,t.stateOf(bu).networks)})}async restoreNetworkState(){await this.#e.act(this.restoreNetworkState.name,async t=>{let n=t.context;await this.#e.visit(async i=>{let r=this.#t?.networks.get(i);r&&(n.agentFor(i).get(bu).state.networks=[...r])})})}async revokeFabric(t){await t.remove()}async restoreBreadcrumb(){await this.#e.act(this.restoreBreadcrumb.name,t=>{t.generalCommissioning.state.breadcrumb=0})}async rollback(){if(!this.fabricIndex&&this.hasRootCert)try{this.#e.env.get(bn).events.failsafeClosed.emit()}catch(t){sm.accept(t)}return super.rollback()}};var o1={errorCode:Xt.CommissioningError.Ok,debugText:""},s7=J.get("GeneralCommissioningClusterHandler"),uh=class extends A2{initialize(){let t=this.state.basicCommissioningInfo;t.failSafeExpiryLengthSeconds===void 0&&(t.failSafeExpiryLengthSeconds=60),t.maxCumulativeFailsafeSeconds===void 0&&(t.maxCumulativeFailsafeSeconds=900),this.state.breadcrumb=0}async armFailSafe({breadcrumb:t,expiryLengthSeconds:n}){wr(this.session,"armFailSafe can only be called on a secure session");let i=this.env.get(ji);try{if(!i.isFailsafeArmed&&this.agent.get(Kc).state.windowStatus!==mn.CommissioningWindowStatus.WindowNotOpen&&!this.session.isPase)throw new ze("Failed to arm failsafe using CASE while commissioning window is opened.");if(i.isFailsafeArmed)await i.failsafeContext.extend(this.session.fabric,n);else{if(n===0)return o1;await i.beginTimed(new r1(this.endpoint,{fabrics:this.env.get(bn),sessions:this.env.get(Kn),expiryLengthSeconds:n,maxCumulativeFailsafeSeconds:this.state.basicCommissioningInfo.maxCumulativeFailsafeSeconds,associatedFabric:this.session.fabric}))}i.isFailsafeArmed&&(this.state.breadcrumb=t)}catch(r){return ze.accept(r),s7.debug("Error while arming failSafe timer",r),{errorCode:Xt.CommissioningError.BusyWithOtherAdmin,debugText:r.message}}return o1}async setRegulatoryConfig({breadcrumb:t,newRegulatoryConfig:n,countryCode:i}){let r=this.state.locationCapability,a=this.agent.get(dh);if(a.state.location!==i){if(this.state.allowCountryCodeChange===!1&&i!=="XX")return{errorCode:Xt.CommissioningError.ValueOutsideRange,debugText:`Country code change not allowed: ${i}`};if(this.state.countryCodeWhitelist!==void 0&&!this.state.countryCodeWhitelist.includes(i))return{errorCode:Xt.CommissioningError.ValueOutsideRange,debugText:`Country code change not allowed: ${i}`};i!=="XX"&&(a.state.location=i)}let c;switch(r){case Xt.RegulatoryLocationType.Outdoor:c=[Xt.RegulatoryLocationType.Outdoor];break;case Xt.RegulatoryLocationType.Indoor:c=[Xt.RegulatoryLocationType.Indoor];break;case Xt.RegulatoryLocationType.IndoorOutdoor:c=[Xt.RegulatoryLocationType.Indoor,Xt.RegulatoryLocationType.Outdoor,Xt.RegulatoryLocationType.IndoorOutdoor];break;default:return{errorCode:Xt.CommissioningError.ValueOutsideRange,debugText:`Invalid regulatory location: ${n===Xt.RegulatoryLocationType.Indoor?"Indoor":"Outdoor"}`}}return c.includes(n)?(this.asAdmin(()=>{this.state.regulatoryConfig=n}),this.state.breadcrumb=t,o1):{errorCode:Xt.CommissioningError.ValueOutsideRange,debugText:`Invalid regulatory location: ${n===Xt.RegulatoryLocationType.Indoor?"Indoor":"Outdoor"}`}}async commissioningComplete(){if(this.session.isPase)return{errorCode:Xt.CommissioningError.InvalidAuthentication,debugText:"Command not executed over CASE session."};let t=this.session.associatedFabric,n=this.env.get(ji);if(!n.isFailsafeArmed)return{errorCode:Xt.CommissioningError.NoFailSafe,debugText:"FailSafe not armed."};let i=n.failsafeContext;wr(this.session,"commissioningComplete can only be called on a secure session");let r=i.associatedFabric?.fabricIndex;return t.fabricIndex!==r?{errorCode:Xt.CommissioningError.InvalidAuthentication,debugText:`Associated fabric ${t.fabricIndex} does not match the one from the failsafe context ${r}.`}:(await i.completeCommission(),this.state.breadcrumb=BigInt(0),s7.info(`Commissioning completed on fabric #${t.fabricId} as node #${t.nodeId}.`),o1)}};(e=>{class t extends A2.State{allowCountryCodeChange=!0;countryCodeWhitelist=void 0}e.State=t})(uh||(uh={}));var d0=J.get("OperationalCredentials");fn.Cluster.commands={...fn.Cluster.commands,attestationRequest:X(0,I({attestationNonce:m(0,be)}),1,fn.TlvAttestationResponse,{invokeAcl:W.Administer}),csrRequest:X(4,I({csrNonce:m(0,be),isForUpdateNoc:R(1,Ae)}),5,fn.TlvCsrResponse,{invokeAcl:W.Administer})};var mh=class extends s0{initialize(){this.state.supportedFabrics===void 0&&(this.state.supportedFabrics=254),this.state.commissionedFabrics=this.state.fabrics.length,this.reactTo(this.endpoint.lifecycle.online,this.#a)}async attestationRequest({attestationNonce:t}){if(t.length!==32)throw new ve("Invalid attestation nonce length",ue.InvalidCommand);let n=await this.getCertification(),i=sM.encode({declaration:n.declaration,attestationNonce:t,timestamp:0});return{attestationElements:i,attestationSignature:n.sign(this.session,i)}}async csrRequest({csrNonce:t,isForUpdateNoc:n}){if(t.length!==32)throw new ve("Invalid csr nonce length",ue.InvalidCommand);if(n&&this.session.isPase)throw new ve("csrRequest for UpdateNoc received on a PASE session.",ue.InvalidCommand);let r=this.env.get(ji).failsafeContext;if(r.fabricIndex!==void 0)throw new ve(`csrRequest received after ${r.forUpdateNoc?"UpdateNOC":"AddNOC"} already invoked.`,ue.ConstraintError);let a=await this.getCertification(),s=r.createCertificateSigningRequest(n??!1,this.session.id),c=Qg.encode({certSigningRequest:s,csrNonce:t});return{nocsrElements:c,attestationSignature:a.sign(this.session,c)}}async certificateChainRequest({certificateType:t}){let n=await this.getCertification();switch(t){case fn.CertificateChainType.DacCertificate:return{certificate:n.certificate};case fn.CertificateChainType.PaiCertificate:return{certificate:n.intermediateCertificate};default:throw new ve(`Unsupported certificate type: ${t}`,ue.InvalidCommand)}}#e(t){if(t instanceof Vm)return{statusCode:fn.NodeOperationalCertStatus.FabricConflict,debugText:t.message};if(t instanceof Lp)return{statusCode:fn.NodeOperationalCertStatus.TableFull,debugText:t.message};if(t instanceof Al||t instanceof mt||t instanceof li||t instanceof De)return{statusCode:fn.NodeOperationalCertStatus.InvalidNoc,debugText:t.message};if(t instanceof kp)return{statusCode:fn.NodeOperationalCertStatus.InvalidPublicKey,debugText:t.message};if(t instanceof qm)return{statusCode:fn.NodeOperationalCertStatus.InvalidAdminSubject,debugText:t.message};throw t}async addNoc({nocValue:t,icacValue:n,ipkValue:i,caseAdminSubject:r,adminVendorId:a}){let s=this.#s;if(s.fabricIndex!==void 0)throw new ve(`addNoc received after ${s.forUpdateNoc?"UpdateNOC":"AddNOC"} already invoked.`,ue.ConstraintError);if(!s.hasRootCert)return{statusCode:fn.NodeOperationalCertStatus.InvalidNoc,debugText:"Root certificate not found."};if(s.csrSessionId!==this.session.id)return{statusCode:fn.NodeOperationalCertStatus.MissingCsr,debugText:"CSR not found in failsafe context."};if(s.forUpdateNoc)throw new ve("addNoc received after csr request was invoked for UpdateNOC.",ue.ConstraintError);let c=this.state;if(c.commissionedFabrics>=c.supportedFabrics)return{statusCode:fn.NodeOperationalCertStatus.TableFull,debugText:`No more fabrics can be added because limit ${c.supportedFabrics} reached.`};let l;try{l=await s.buildFabric({nocValue:t,icacValue:n,adminVendorId:a,ipkValue:i,caseAdminSubject:r})}catch(f){return d0.info("Building fabric for addNoc failed",f),this.#e(f)}this.agent.get(Vo).state.acl.push({fabricIndex:l.fabricIndex,privilege:un.AccessControlEntryPrivilege.Administer,authMode:un.AccessControlEntryAuthMode.Case,subjects:[r],targets:null}),await s.addFabric(l);try{this.session.isPase&&(d0.debug(`Add Fabric ${l.fabricIndex} to PASE session ${this.session.name}.`),this.session.addAssociatedFabric(l));let f=this.state.fabrics.findIndex(b=>b.fabricIndex===l.fabricIndex),g=this.state.nocs.findIndex(b=>b.fabricIndex===l.fabricIndex);if(f!==-1||g!==-1)throw new ze(`FabricIndex ${l.fabricIndex} already exists in state. This should not happen.`)}catch(f){throw await l.remove(this.session.id),f}return d0.info(`addNoc success, adminVendorId ${a}, caseAdminSubject ${r}`),{statusCode:fn.NodeOperationalCertStatus.Ok,fabricIndex:l.fabricIndex}}async updateNoc({nocValue:t,icacValue:n}){wr(this.session);let i=this.#s;if(i.fabricIndex!==void 0)throw new ve(`updateNoc received after ${i.forUpdateNoc?"UpdateNOC":"AddNOC"} already invoked.`,ue.ConstraintError);if(i.forUpdateNoc)throw new ve("addNoc received after csr request was invoked for UpdateNOC.",ue.ConstraintError);if(i.hasRootCert)throw new ve("Trusted root certificate added in this session which is now allowed for UpdateNOC.",ue.ConstraintError);if(!i.forUpdateNoc)throw new ve("csrRequest not invoked for UpdateNOC.",ue.ConstraintError);if(this.session.associatedFabric.fabricIndex!==i.associatedFabric?.fabricIndex)throw new ve("Fabric of this session and the failsafe context do not match.",ue.ConstraintError);try{let r=await i.buildUpdatedFabric(t,n);return await i.updateFabric(r),{statusCode:fn.NodeOperationalCertStatus.Ok,fabricIndex:r.fabricIndex}}catch(r){return d0.info("Building fabric for updateNoc failed",r),this.#e(r)}}async updateFabricLabel({label:t}){let n=this.session.associatedFabric,i=n.fabricIndex,a=this.env.get(bn).getFabrics().find(s=>s.label===t&&s.fabricIndex!==i);return a!==void 0?{statusCode:fn.NodeOperationalCertStatus.LabelConflict,debugText:`Label ${t} already used by fabric ${a.fabricIndex}`}:(await n.setLabel(t),{statusCode:fn.NodeOperationalCertStatus.Ok,fabricIndex:n.fabricIndex})}async removeFabric({fabricIndex:t}){let n=this.env.get(bn).findByIndex(t);return n===void 0?{statusCode:fn.NodeOperationalCertStatus.InvalidFabricIndex,debugText:`Fabric ${t} not found`}:(await n.remove(this.session.id),{statusCode:fn.NodeOperationalCertStatus.Ok,fabricIndex:t})}addTrustedRootCertificate({rootCaCertificate:t}){let n=this.#s;if(n.hasRootCert)throw new ve("Trusted root certificate already added in this FailSafe context.",ue.ConstraintError);if(n.fabricIndex!==void 0)throw new ve(`Cannot add trusted root certificates after ${n.forUpdateNoc?"UpdateNOC":"AddNOC"}.`,ue.ConstraintError);try{n.setRootCert(t)}catch(a){throw d0.info("setting root certificate failed",a),a instanceof Al||a instanceof mt||a instanceof li||a instanceof De?new ve(a.message,ue.InvalidCommand):a}let r=this.env.get(bn).getFabrics().map(a=>a.rootCert);r.push(t),this.state.trustedRootCertificates=r}async#t(){let t=this.env.get(bn).getFabrics();this.state.fabrics=t.map(n=>({fabricId:n.fabricId,label:n.label,nodeId:n.nodeId,rootPublicKey:n.rootPublicKey,vendorId:n.rootVendorId,fabricIndex:n.fabricIndex})),this.state.nocs=t.map(n=>({noc:n.operationalCert,icac:n.intermediateCACert??null,fabricIndex:n.fabricIndex})),this.state.trustedRootCertificates=t.map(n=>n.rootCert),this.state.commissionedFabrics=t.length,await this.context.transaction.commit()}async getCertification(){let t=this.internal.certification??(this.internal.certification=new Ug(this.state.certification,this.agent.get(ts).state));return await t.construction,t}async#n({fabricIndex:t}){await this.#t(),this.agent.get(Vr).handleFabricChange(t,Tr.Added)}async#i({fabricIndex:t}){await this.#t(),this.agent.get(Vr).handleFabricChange(t,Tr.Updated)}async#o({fabricIndex:t}){await this.#t(),this.agent.get(Vr).handleFabricChange(t,Tr.Removed)}async#r(){await this.#t()}async#a(){let t=this.env.get(bn);this.reactTo(t.events.added,this.#n,{lock:!0}),this.reactTo(t.events.updated,this.#i,{lock:!0}),this.reactTo(t.events.deleted,this.#o,{lock:!0}),this.reactTo(t.events.failsafeClosed,this.#r,{lock:!0}),await this.#t()}get#s(){return this.env.get(ji).failsafeContext}};(e=>{class t{certification;commissionedFabric}e.Internal=t;class n extends s0.State{certification=void 0;[Gi.properties](r,a){return{get currentFabricIndex(){return a.fabric??Jn.NO_FABRIC}}}}e.State=n})(mh||(mh={}));var Qr=de.withInterface().for(ri.Cluster);var XW=J.get("GeneralDiagnosticsServer"),M2=Qr.with(ri.Feature.DataModelTest),YW=M2.schema.extend({children:[o({name:"totalOperationalHoursCounter",type:"uint64",quality:"N"})]}),hh=class extends M2{schema=YW;initialize(){if(this.state.testEventTriggersEnabled===void 0)this.state.testEventTriggersEnabled=!1;else if(this.state.testEventTriggersEnabled){if(this.state.deviceTestEnableKey.every(n=>n===0))throw new ce("Test event triggers are enabled but no deviceTestEnableKey is set.");XW.warn("Test event triggers are enabled. Make sure to disable them in production.")}this.state.rebootCount===void 0?this.state.rebootCount=0:this.state.rebootCount++;let t=this.endpoint.lifecycle;t.online!==void 0&&this.reactTo(t.online,this.#o,{lock:!0}),this.events.activeHardwareFaults$Changed!==void 0&&this.reactTo(this.events.activeHardwareFaults$Changed,this.#t),this.events.activeRadioFaults$Changed!==void 0&&this.reactTo(this.events.activeRadioFaults$Changed,this.#n),this.events.activeNetworkFaults$Changed!==void 0&&this.reactTo(this.events.activeNetworkFaults$Changed,this.#i)}#e(t){if(t.every(n=>n===0))throw new ve("Invalid test enable key, all zeros",ue.ConstraintError);t.forEach((n,i)=>{if(n!==this.state.deviceTestEnableKey[i])throw new ve("Invalid test enable key",ue.ConstraintError)})}testEventTrigger({eventTrigger:t,enableKey:n}){this.#e(n),this.triggerTestEvent(t)}triggerTestEvent(t){throw new ve(`Unsupported test event trigger ${t}`,ue.InvalidCommand)}timeSnapshot(){let t=Ne.nowMs();return{systemTimeMs:t-this.internal.bootUpTime,posixTimeMs:t}}payloadTestRequest({enableKey:t,value:n,count:i}){if(this.#e(t),!this.state.testEventTriggersEnabled)throw new ve("Test event triggers are disabled",ue.ConstraintError);let r=new Uint8Array(i).fill(n),a=Rg.encode({suppressResponse:!1,interactionModelRevision:jt.INTERACTION_MODEL_REVISION,moreChunkedMessages:!0,invokeResponses:[{command:{commandPath:{endpointId:this.endpoint.number,clusterId:ri.Complete.id,commandId:Oo(4)},commandRef:0,commandFields:ri.TlvPayloadTestResponse.encodeTlv({payload:r})}}]}).length,s=this.context.exchange;if(s===void 0)throw new ce("Illegal operation outside exchange context");if(a>s.maxPayloadSize)throw new ve("Response too large",ue.ResourceExhausted);return{payload:r}}registerHardwareFault(t){let i=this.requireAttributeEnabled("activeHardwareFaults").filter(r=>r!==t);i.push(t),this.state.activeHardwareFaults=i}clearHardwareFault(t){let n=this.requireAttributeEnabled("activeHardwareFaults");this.state.activeHardwareFaults=n.filter(i=>i!==t)}#t(t,n){this.events.hardwareFaultChange?.emit({current:t,previous:n},this.context)}registerRadioFault(t){let i=this.requireAttributeEnabled("activeRadioFaults").filter(r=>r!==t);i.push(t),this.state.activeRadioFaults=i}clearRadioFault(t){let n=this.requireAttributeEnabled("activeRadioFaults");this.state.activeRadioFaults=n.filter(i=>i!==t)}#n(t,n){this.events.radioFaultChange?.emit({current:t,previous:n},this.context)}registerNetworkFault(t){let i=this.requireAttributeEnabled("activeNetworkFaults").filter(r=>r!==t);i.push(t),this.state.activeNetworkFaults=i}clearNetworkFault(t){let n=this.requireAttributeEnabled("activeNetworkFaults");this.state.activeNetworkFaults=n.filter(i=>i!==t)}#i(t,n){this.events.networkFaultChange?.emit({current:t,previous:n},this.context)}async#o(){this.events.bootReason.emit({bootReason:this.state.bootReason??ri.BootReason.Unspecified},this.context),this.internal.bootUpTime=Ne.nowMs(),this.internal.lastTotalOperationalHoursCounterUpdateTime=Ne.nowMs(),this.internal.lastTotalOperationalHoursTimer=Ne.getPeriodicTimer("GeneralDiagnostics.operationalHours",5*6e4,this.callback(this.#r)).start(),await this.#a()}#r(){let t=Ne.nowMs(),n=t-this.internal.lastTotalOperationalHoursCounterUpdateTime;this.state.totalOperationalHoursCounter=this.state.totalOperationalHoursCounter+n,this.internal.lastTotalOperationalHoursCounterUpdateTime=t}async#a(){let n=this.env.get(uu).limitedToNetInterface,r=await this.endpoint.behaviors.internalsOf(va).runtime.getNetworkInterfaces(),a=ri.InterfaceType.Ethernet;if(this.endpoint.behaviors.has(xu)){let c=this.agent.get(xu);"wiFiNetworkInterface"in c.features&&c.features.wiFiNetworkInterface?a=ri.InterfaceType.WiFi:"threadNetworkInterface"in c.features&&c.features.threadNetworkInterface&&(a=ri.InterfaceType.Thread)}let s=n===void 0?()=>!0:c=>c===n;this.state.networkInterfaces=r.filter(({mac:c})=>c!=="00:00:00:00:00:00").sort(({name:c},{name:l})=>s(c)&&!s(l)?-1:!s(c)&&s(l)?1:0).slice(0,8).map(({name:c,mac:l,ipV4:d,ipV6:f,type:g})=>({name:c,isOperational:s(c),offPremiseServicesReachableIPv4:null,offPremiseServicesReachableIPv6:null,hardwareAddress:we.fromHex(l.replace(/[^\da-fA-F]/g,"")),iPv4Addresses:d.slice(0,4).map(b=>Ey(b)),iPv6Addresses:f.slice(0,8).map(b=>Ey(b)),type:g??a}))}async[Symbol.asyncDispose](){this.internal.lastTotalOperationalHoursTimer?.stop(),this.#r(),await super[Symbol.asyncDispose]?.()}};(e=>{class t{bootUpTime=Ne.nowMs();lastTotalOperationalHoursCounterUpdateTime=Ne.nowMs();lastTotalOperationalHoursTimer}e.Internal=t;class n extends M2.State{totalOperationalHoursCounter=0;deviceTestEnableKey=new Uint8Array(16).fill(0);[Gi.properties](r,a){return{get upTime(){let s=r.behaviors.internalsOf(e).bootUpTime;return Math.round((Ne.nowMs()-s)/1e3)},get totalOperationalHours(){let s=r.behaviors.internalsOf(e).lastTotalOperationalHoursCounterUpdateTime,c=r.stateOf(e).totalOperationalHoursCounter;return Math.floor((Ne.nowMs()-s+c)/(60*6e4))}}}}e.State=n})(hh||(hh={}));var a1=de.withInterface().for(Zd.Cluster);var Xc=class extends a1{};var c7=de.for(pd.Cluster);var fh=class extends c7{initialize(){this.state.activeLocale===void 0&&(this.state.activeLocale=this.detectedLocale),this.state.supportedLocales===void 0&&(this.state.supportedLocales=[this.state.activeLocale])}get detectedLocale(){return Intl.DateTimeFormat().resolvedOptions().locale}};fh||(fh={});var l7=de.for(oi.Cluster);var ZW=J.get("TimeFormatLocalizationServer"),ph=class extends l7.with("CalendarFormat"){initialize(){this.state.hourFormat===void 0&&(this.state.hourFormat=this.detectedHourFormat),this.state.activeCalendarType===void 0&&(this.state.activeCalendarType=this.detectedCalendarType),this.state.supportedCalendarTypes===void 0&&(this.state.supportedCalendarTypes=[this.state.activeCalendarType])}get detectedHourFormat(){return Intl.DateTimeFormat(void 0,{hour:"numeric"}).resolvedOptions().hour12?oi.HourFormat["12Hr"]:oi.HourFormat["24Hr"]}get detectedCalendarType(){let t=Intl.DateTimeFormat().resolvedOptions().calendar;switch(t){case"buddhist":return oi.CalendarType.Buddhist;case"chinese":return oi.CalendarType.Chinese;case"coptic":return oi.CalendarType.Coptic;case"ethiopian":return oi.CalendarType.Ethiopian;case"gregory":return oi.CalendarType.Gregorian;case"ethiopic":return oi.CalendarType.Ethiopian;case"hebrew":return oi.CalendarType.Hebrew;case"indian":return oi.CalendarType.Indian;case"islamic":return oi.CalendarType.Islamic;case"japanese":return oi.CalendarType.Japanese;case"dangi":return oi.CalendarType.Korean;case"persian":return oi.CalendarType.Persian;default:return ZW.warn(`Unmapped calendar type "${t}"; falling back to Gregorian`),oi.CalendarType.Gregorian}}};ph||(ph={});var d7=de.for(_s.Cluster);var s1=class extends d7.with("TemperatureUnit"){initialize(){this.state.temperatureUnit===void 0&&(this.state.temperatureUnit=_s.TempUnit.Celsius)}};var u7=de.withInterface().for(Ql.Cluster);var c1=class extends u7{};var m7=de.withInterface().for(Hd.Cluster);var l1=class extends m7{};var h7=de.withInterface().for(nd.Cluster);var d1=class extends h7{};var f7=de.withInterface().for(tu.Cluster);var u1=class extends f7{};var p7=de.withInterface().for(Yd.Cluster);var m1=class extends p7{};var y7=de.withInterface().for(ld.Cluster);var h1=class extends y7{};var _o;(e=>{e.BasicInformationServer=dh,e.AccessControlServer=Vo,e.GroupKeyManagementServer=i1,e.GeneralCommissioningServer=uh,e.AdministratorCommissioningServer=Kc,e.OperationalCredentialsServer=mh,e.GeneralDiagnosticsServer=hh,e.PowerSourceConfigurationServer=ch,e.TimeSynchronizationServer=Xc,e.NetworkCommissioningServer=xu,e.LocalizationConfigurationServer=fh,e.TimeFormatLocalizationServer=ph,e.UnitLocalizationServer=s1,e.DiagnosticLogsServer=c1,e.SoftwareDiagnosticsServer=l1,e.EthernetNetworkDiagnosticsServer=d1,e.WiFiNetworkDiagnosticsServer=u1,e.ThreadNetworkDiagnosticsServer=m1,e.IcdManagementServer=h1,e.server={mandatory:{Parts:es,Index:Ei,BasicInformation:e.BasicInformationServer,AccessControl:e.AccessControlServer,GroupKeyManagement:e.GroupKeyManagementServer,GeneralCommissioning:e.GeneralCommissioningServer,AdministratorCommissioning:e.AdministratorCommissioningServer,OperationalCredentials:e.OperationalCredentialsServer,GeneralDiagnostics:e.GeneralDiagnosticsServer},optional:{PowerSourceConfiguration:e.PowerSourceConfigurationServer,TimeSynchronization:e.TimeSynchronizationServer,NetworkCommissioning:e.NetworkCommissioningServer,LocalizationConfiguration:e.LocalizationConfigurationServer,TimeFormatLocalization:e.TimeFormatLocalizationServer,UnitLocalization:e.UnitLocalizationServer,DiagnosticLogs:e.DiagnosticLogsServer,SoftwareDiagnostics:e.SoftwareDiagnosticsServer,EthernetNetworkDiagnostics:e.EthernetNetworkDiagnosticsServer,WiFiNetworkDiagnostics:e.WiFiNetworkDiagnosticsServer,ThreadNetworkDiagnostics:e.ThreadNetworkDiagnosticsServer,IcdManagement:e.IcdManagementServer}}})(_o||(_o={}));var QW=Ue({name:"RootNode",deviceType:22,deviceRevision:2,deviceClass:ia.Node,requirements:_o,behaviors:Be(_o.server.mandatory.Parts,_o.server.mandatory.Index,_o.server.mandatory.BasicInformation,_o.server.mandatory.AccessControl,_o.server.mandatory.GroupKeyManagement,_o.server.mandatory.GeneralCommissioning,_o.server.mandatory.AdministratorCommissioning,_o.server.mandatory.OperationalCredentials,_o.server.mandatory.GeneralDiagnostics)}),Oi=QW;var ts=class e extends An{static id="productDescription";initialize(){let t=this.state,n=this.agent.get(ah).state;t.name===""&&(t.name=n.productName),t.vendorId===-1&&(t.vendorId=n.vendorId),t.productId===-1&&(t.productId=n.productId),this.#e()}#e(){if(this.state.deviceType!==e.UNKNOWN_DEVICE_TYPE)return;let t=g7(this.agent);if(t!==void 0){this.state.deviceType=t;return}this.reactTo(this.endpoint.lifecycle.changed,this.#e,{once:!0})}};(e=>{e.UNKNOWN_DEVICE_TYPE=la(-1,!1);class t{name="";deviceType=e.UNKNOWN_DEVICE_TYPE;vendorId=Wi(-1,!1);productId=-1}e.State=t})(ts||(ts={}));function g7(e){if(!e.endpoint.behaviors.isActive(c0))return;let t=!1;for(let n of e.get(c0).state.deviceTypeList)switch(n.deviceType){case Oi.deviceType:case r7.deviceType:case t1.deviceType:t=!0;break;default:if(e.endpoint.type.deviceClass===ia.Simple)return n.deviceType}if(!(!t||!e.endpoint.hasParts))for(let n of e.endpoint.parts){let i=g7(e.context.agentFor(n));if(i!==void 0)return i}}var Ki=class{#e=new Set;#t=ht();#n=ht();get isActive(){return this.#e.size!==0}get active(){return this.#t}get inactive(){return this.#n}get actors(){return[...this.#e.values()]}begin(t,n){let i=fe.elapsed(),r={stack:[t],get elapsed(){return i},get[fe.value](){let a=Array();for(let s of this.stack)a.length&&a.push("\u25B8"),a.push(s);return a},frame(a){return this.stack.push(a),{[Symbol.dispose]:()=>{this.stack.pop()}}},close:()=>{n?.(),this.#e.delete(r),this.#e.size||this.#n.emit()},[Symbol.dispose]:()=>{r.close()}};return this.#e.add(r),this.#e.size===1&&this.#t.emit(),r}get[fe.value](){return this.#e.size?fe.list(this.actors):fe.list([fe.weak("none")])}};var JW="nodes",eH="behaviors",tH="parts",f1=class e{#e;#t=new WeakMap;#n=new WeakMap;constructor(t){this.#e=t}static[Jt.create](t){let n=new e(t);return t.set(e,n),n}forBehaviorInstance(t,n){let i=this.forBehaviorType(n),r=this.forEndpoint(t),a=r[n.id]??r[n.id.toLowerCase()];return cn(a)?{...i,...a}:i}forEndpoint(t){if(!t.lifecycle.hasId)return{};let n=this.#t.get(t);if(n!==void 0)return n;let i;if(t.owner===void 0)i=this.#e.vars.get(`${JW}.${t.id}`);else if(t.lifecycle.isInstalled){let r=this.forEndpoint(t.owner)[tH];cn(r)&&(i=r[t.id])}else return{};return cn(i)?n=i:n={},this.#t.set(t,n),n}forBehaviorType(t){let n=this.#n.get(t);if(n!==void 0)return n;let i=this.#e.vars.get(`${eH}.${t.id}`);return cn(i)?n=i:n={},this.#n.set(t,n),n}};var yh=class extends lt{constructor(t,n){super(t),this.cause=n}},p1=class extends Qu{constructor(t){super(t,"Behaviors have errors")}},y1=class extends lt{constructor(t){let n,i=[...t];i.length?n=`${i.length===1?"":"s"} ${no("and",...i.map(r=>r.toString()))}`:n="",super(`Error initializing part${n}`)}},g1=class extends lt{};var ns=class{initializeDescendent(t){}};var E2=J.get("Behaviors"),v1=class{#e;#t;#n={};#i;get supported(){return this.#t}get status(){let t={};for(let n in this.#t)t[n]=this.#n[n]?.status??ot.Status.Inactive;return t}get[fe.value](){return fe.lifecycleList(this.status)}get detailedDiagnostic(){return Object.entries(this.#t).map(([t,n])=>{let i=this.#n[t],r=[fe(i?.status??ot.Status.Inactive,t)],a=O2(n);if(!a)return r;let s=Array(),c=new rh(n),l=new Qn(a.supportedFeatures);return l.size&&s.push([fe.strong("features"),l]),c.attributes.size&&s.push([fe.strong("attributes"),c.attributes]),c.commands.size&&s.push([fe.strong("commands"),c.commands]),c.events.size&&s.push([fe.strong("events"),c.events]),s.length&&r.push(fe.list(s)),r})}constructor(t,n){let{type:i}=t;if(typeof i?.behaviors!="object")throw new ce('EndpointType "behaviors" must be an array of Behavior.Type instances');this.#e=t,this.#t=i.behaviors,this.#i=n,this.#t.descriptor||(this.#t.descriptor=qo);for(let r in this.#t){let a=this.#t[r];if(!(a.prototype instanceof An))throw new ce(`${t}.${r}" is not a Behavior.Type`);if(typeof a.id!="string")throw new ce(`${t}.${r} has no ID`);this.#c(a)}}initialize(){if(!this.#e.lifecycle.isInstalled)throw new ce("Cannot initialize behaviors because endpoint is not installed");let t=s=>{let c=s.agentFor(this.#e);for(let l of Object.values(this.supported))l.early&&this.activate(l,c);return Mt.all({[Symbol.iterator]:()=>Object.values(this.#n)[Symbol.iterator]()},l=>new p1(l))},n=this.#e.env.get(Ki),i=this.#e.env.has(Mi)?{type:Mi.ActionType.Initialize}:void 0,r=Uo.act(`initialize<${this.#e}>`,n,t,{trace:i}),a=()=>{this.#e.lifecycle.change(Tn.Change.Ready),i&&(i.path=this.#e.path,this.#e.env.get(Mi).record(i))};return r?r=r.then(a):a(),r}has(t){let n=this.#t[t.id];return n===t||n?.supports(t)}require(t,n){if(n&&(this.#i[t.id]=n),this.#t[t.id]){if(!this.has(t))throw new ce(`Cannot require ${this.#e}.${t.id} because incompatible implementation already exists`);return}this.#t===this.#e.type.behaviors&&(this.#t={...this.#t}),this.#t[t.id]=t,this.#c(t),this.#e.lifecycle.change(Tn.Change.ServersChanged),t.early&&this.#e.lifecycle.isInstalled&&this.#o(t)}createSync(t,n){let i=this.createMaybeAsync(t,n);if(Pe.is(i))throw new ce(`Synchronous access to ${this.#e}.${t.id} is impossible because it is still initializing`);return i}async createAsync(t,n){return Pe.then(()=>this.createMaybeAsync(t,n),void 0,i=>{let r=this.#n[t.id];if(!r)throw i;r.construction.assert(r.toString())})}createMaybeAsync(t,n){this.activate(t,n);let i=this.#n[t.id],r=()=>n.isLoaded(t)?n.get(t):i.createBehavior(n,t);return i.construction.status===ot.Status.Initializing?i.construction.then(()=>r()).catch(()=>(i.construction.assert(i.toString()),r())):(i.construction.assert(i.toString()),r())}activate(t,n){let i=this.#n[t.id];i||(i=this.#a(t,n))}isActive(t){let n=this.#n[t.id];return!!n&&n.type.supports(t)}async close(){let t=async n=>{let i=n.agentFor(this.#e),r=new Set(Object.keys(this.#n));for(;r.size;){for(let s in this.#n){let c=this.#n[s].type.dependencies;if(c){for(let l of c)r.delete(l.id);if(!r.size)throw new ce("Cannot destroy behaviors due to circular dependency")}}for(let s of r)await this.#n[s].close(i),delete this.#n[s];r=new Set(Object.keys(this.#n))}let a=i.context.transaction;a.status===Qa.Status.Exclusive&&await a.commit()};await Uo.act(`close<${this.#e}>`,this.#e.env.get(Ki),t)}validateRequirements(t){if(!t)return;let n=Array();for(let i of Object.values(t)){let r=xt(i.name,!0);if(this.#e.behaviors.has(i))continue;let a=O2(i);if(a){let s=this.#e.behaviors.supported[i.id];if(O2(s)?.id===a.id)continue;r=`${r} (0x${a.id.toString(16)})`}n.push(r)}if(n.length)throw new ce(`${this.#e} is missing required behaviors: ${no("and",...n)}`)}defaultsFor(t){let n,i=this.#i[t.id];if(i)for(let s in t.defaults)s in i&&(n||(n={}),n[s]=i[s]);let a=this.#e.env.get(f1).forBehaviorInstance(this.#e,t);return a!==void 0&&(n={...n,...t.supervisor.cast(a)}),n}internalsOf(t){let n=this.#n[t.id];if(!n&&(this.#o(t),n=this.#n[t.id],n===void 0))throw new Re(`Behavior ${this.#e}.${t.id} late activation did not create backing`);return n.getInternal()}#o(t){let n=Uo.act("behavior-late-activation",this.#e.env.get(Ki),i=>this.activate(t,i.agentFor(this.#e)));Pe.is(n)&&n.then(void 0,i=>{let r=this.#n[t.id];r?E2.error(`Error initializing ${r}`,i):E2.error(`Unexpected rejection initializing ${t.name}`,i)})}#r(t,n){this.#e.construction.status!==ot.Status.Initializing&&this.#e.construction.assert(this.#e.toString(),`behavior ${n.id}`);let i=this.#n[n.id];if(!i){try{this.#o(n)}catch(r){throw E2.warn(`Cannot initialize ${t}.${n.id} until node is initialized: ${r}`),new Os(`${t}.${n.id}`,"is not available until node is initialized, you may await node.construction to avoid this error")}if(i=this.#n[n.id],i===void 0)throw new Re(`Behavior ${this.#e}.${n.id} late activation did not create backing`)}return i}#a(t,n){let i=this.#s(t);if(!i)throw new yh(`Initializing ${this.#e}.${t.id}: Unsupported behavior`);let r=this.#e.env.get(ns).createBacking(this.#e,i);return this.#n[t.id]=r,r.construction.start(n),r}#s(t){let n=this.#t[t.id];if(n===void 0)return n;if(typeof n!="function"||!(n.prototype instanceof An))throw new ce(`Endpoint behavior "${t.id}" implementation is not a Behavior`);return n}#c(t){Object.defineProperty(this.#e.state,t.id,{get:()=>this.#r("state",t).stateView,set(){throw new Zu('The "state" property is read-only; you must use set() to modify state')},enumerable:!0});let n;Object.defineProperty(this.#e.events,t.id,{get:()=>(n||(n=new t.Events),n),enumerable:!0})}};function O2(e){return e?.cluster}var gh=class{#e=new mr;#t;constructor(t){this.#t=t}get(t){for(let n of this)if(n.maybeId===t)return n}add(t){t.lifecycle.hasId&&this.assertIdAvailable(t.id,t),this.#e.add(t),t.owner=this.#t,t.lifecycle.destroyed.once(()=>{this.delete(t)}),this.#e.add(t)}delete(t){return this.#e.delete(t)}clear(){this.#e.clear()}has(t){return this.#e.has(t)}get added(){return this.#e.added}get deleted(){return this.#e.deleted}get size(){return this.#e.size}[Symbol.iterator](){return this.#e[Symbol.iterator]()}async reset(){for(let t of this)await t.reset()}async close(){for(let t of this)await t.close()}assertIdAvailable(t,n){let i=this.get(t);if(i&&i!==n)throw new nc(`${i} is already defined; endpoint IDs must be unique within parent`)}get endpoint(){return this.#t}};var v7=J.get("Parts"),b1=class extends gh{#e;constructor(t){super(t);let n=this.endpoint.lifecycle;this.#e=(i,r)=>n.bubble(i,r)}add(t){let n=this.#n(t);if(!this.has(n))return this.endpoint.lifecycle.isReady&&this.#t(n,n),super.add(n),n.lifecycle.changed.on((i,r)=>this.#e(i,r)),this.endpoint.lifecycle.isPartsReady&&(n.construction.isErrorHandled||n.construction.onError(i=>v7.error(`Error initializing ${n}:`,i)),n.construction.start()),n}delete(t){let n=this.#n(t);return super.delete(this.#n(t))?(n.lifecycle.changed.off(this.#e),!0):!1}require(t){let n=this.get(t);if(n===void 0)throw new g1(`Endpoint ${this.endpoint} has no part ${t}`);return n}has(t){if(typeof t=="string"){for(let n of this)if(n.maybeId===t)return!0;return!1}return super.has(this.#n(t))}indexOf(t){let n=this.#n(t),i=0;for(let r of this){if(n===r)return i;i++}return-1}initialize(){if(!this.endpoint.lifecycle.isReady)throw new ce("Cannot initialize parts because endpoint is not ready");let t=()=>this.endpoint.lifecycle.change(Tn.Change.PartsReady);if(!this.size){t();return}for(let r of this){let a=r.construction.status===ot.Status.Inactive;(a||r.construction.status===ot.Status.Initializing)&&(r.construction.onError(s=>{v7.error(`Error initializing ${r}:`,s)}),a&&r.construction.start())}let n=r=>{let a=[...r].filter(s=>s.lifecycle.isEssential);if(a.length)return new y1(a)},i=Mt.all(this,n);return i?i=i.then(t):t(),i}#t(t,n,i){if(n.lifecycle.hasNumber&&(this.endpoint.env.get(xa).assertNumberAvailable(n.number,n),i?.has(n.number)))throw new nc(`Cannot add endpoint ${t} because descendents have conflicting definitions for endpoint number ${n.number}`);if(!n.hasParts)return;let r=n.parts;if(r.size){i||(i=new Set),n.lifecycle.hasNumber&&i.add(n.number);for(let a of r)this.#t(t,a,i)}}#n(t){return t instanceof nu&&(t=t.endpoint),t instanceof Jr||(t.type?t.owner=this.endpoint:t={type:t,owner:this.endpoint}),Jr.partFor(t)}};var D2=J.get("Endpoint"),Jr=class e{#e;#t;#n;#i;#o;#r;#a;#s;#c;#l={};#m={};#d;get id(){if(this.#t===void 0)throw new Os(this.toString(),"endpoint ID is not yet assigned; set ID or await endpoint.construction to avoid this error");return this.#t}get maybeId(){return this.#t}get number(){if(this.#n===void 0)throw new Os(this.toString(),"endpoint number is not yet assigned; set number or await endpoint.construction to avoid this error");return this.#n}get maybeNumber(){return this.#n}get owner(){return this.#i}ownerOfType(t){for(let n=this;n!==void 0;n=n.owner)if(n.type.deviceClass===t.deviceClass)return n}get env(){return this.owner?this.owner.env:Rr.default}get behaviors(){return this.#r}get state(){return this.#l}stateOf(t){if(!this.behaviors.has(t))throw new ce(`Behavior ${t.id} is not supported by ${this}`);return this.#l[t.id]}async set(t){await this.act(`set<${this}>`,async n=>{let i=n.context.transaction;await i.begin();for(let r in t){let a=n[r];if(!(a instanceof An))throw new ce(`Behavior ID ${r} does not exist`);let s=t[r];if(s===void 0)continue;await i.addResources(a);let c=a.constructor.supervisor.patch;if(typeof s!="object")throw new ce(`State values for ${r} must be an object, not ${typeof s}`);if(Array.isArray(s))throw new ce(`StateValue for ${r} must be an object, not an array`);c(s,a.state,this.path)}})}async setStateOf(t,n){await this.act(`setStateOf<${this}>`,async i=>{let r=i.get(t),a=i.context.transaction;await a.begin(),await a.addResources(r);let s=r.constructor.supervisor.patch;if(typeof n!="object")throw new ce(`State values for ${t.id} must be an object, not ${typeof n}`);if(Array.isArray(n))throw new ce(`State values for ${t.id} must be an object, not an array`);s(n,r.state,this.path)})}get events(){return this.#m}eventsOf(t){if(!this.behaviors.has(t))throw new ce(`Behavior ${t.id} is not supported by this endpoint`);return this.#m[t.id]}get construction(){return this.#c}constructor(t,n){let i=e.configurationFor(t,n);if(this.#e=i.type,this.#c=Mt(this),this.#a=this.createLifecycle(i.isEssential),this.#a.ready.on(()=>this.#u()),i.id!==void 0&&(this.id=i.id),i.number!==void 0&&(this.number=i.number),this.#r=new v1(this,i),i.owner&&(this.owner=i.owner instanceof nu?i.owner.endpoint:i.owner),i.parts)for(let r of i.parts)this.parts.add(r)}set id(t){if(this.#t!==t){if(this.#t!==void 0)throw new ce(`${this} ID is already assigned, cannot reassign`);if(typeof t!="string")throw new ce(`Illegal endpoint ID type "${typeof t}"`);if(t==="")throw new ce("Endpoint ID may not be empty");if(t.includes("."))throw new ce('Endpoint ID may not include "."');this.lifecycle.isInstalled&&this.#h.assertIdAvailable(t,this),this.#t=t,this.lifecycle.change(Tn.Change.IdAssigned)}}get container(){return this.owner?.parts}set number(t){if(this.#n!==t){if(this.#n!==void 0)throw new ce(`${this} endpoint number ${this.#n} is already assigned, cannot reassign`);if(typeof t!="number")throw new ce(`Illegal endpoint number type "${typeof t}"`);if(!Number.isInteger(t))throw new ce(`Endpoint number ${t} is not an integer`);if(t<0)throw new ce(`Endpoint number ${t} is negative`);if(t>65535)throw new ce(`Endpoint number ${t} is greater than the maximum of 65535`);if(this.type.deviceClass===Oi.deviceClass){if(t!==0)throw new ce("The root endpoint must have ID 0")}else{if(t===0)throw new ce("Only root endpoint may have ID 0");this.lifecycle.isInstalled&&this.env.get(xa).assertNumberAvailable(t,this)}this.#n=co(t),this.lifecycle.change(Tn.Change.NumberAssigned)}}set owner(t){if(this.#i!==t){if(this.#i)throw new ce("Endpoint owner cannot be reassigned");if(t===void 0)throw new ce("Endpoint owner must be defined");this.#i=t;try{this.#h.add(this)}catch(n){throw this.#h.delete(this),this.#i=void 0,n}}}async add(t,n){if(!this.lifecycle.isInstalled)throw new ce(`You may not use add() here because ${this} is not installed in a Node`);await this.construction;let i;t instanceof e?i=t:i=new e(t,n),this.#a.isPartsReady&&i.construction.onError(()=>{}),this.parts.add(i);try{await i.construction.ready}catch(r){throw i.lifecycle.isEssential&&(await i.reset(),this.parts.delete(i),i.#i=void 0),i.lifecycle.isEssential||D2.error(`Initialization error in non-essential endpoint ${i}:`,r),r}return i}get type(){return this.#e}get parts(){return this.#s||(this.#s=new b1(this)),this.#s}get hasParts(){return!!this.#s?.size}get lifecycle(){return this.#a}createLifecycle(t){return new Tn(this,t)}get agentType(){return this.#o||(this.#o=nu.for(this.type,this.behaviors.supported)),this.#o}act(t,n){let i;if(typeof t=="string"?i=t:(n=t,i="offline"),typeof n!="function")throw new ce("Actor must be a function");return this.construction.assert(this.toString()),this.#d||(this.#d=this.env.get(Ki)),Uo.act(i,this.#d,r=>n(r.agentFor(this)))}async reset(){try{this.lifecycle.resetting(),await this.parts.reset(),await this.behaviors.close(),await this.lifecycle.reset.emit(),this.construction.setStatus(ot.Status.Inactive)}catch(t){D2.error(`Unhandled error during reset of ${this}`,t)}}visit(t){let n=t(this),i=this.parts[Symbol.iterator](),r=()=>{for(let a=i.next();!a.done;a=i.next()){let s=a.value.visit(t);if(Pe.is(s))return s.then(r)}};return Pe.is(n)?n.then(r):r()}async close(){await this.#c.close()}async[Mt.destruct](){await this.#s?.close(),await this.#r?.close();for(let t of Object.values(this.#m))t[Symbol.dispose]();this.lifecycle.change(Tn.Change.Destroyed),this.#i=void 0}async[Symbol.asyncDispose](){await this.close()}toString(){return this.path.toString()}get path(){let t;return this.lifecycle?.hasId?t=this.id:this.lifecycle?.hasNumber?t=this.number:t="?",this.#i?this.#i.path.at(t,this.#e.name):Zn(t,this.type?.name)}initialize(){this.env.get(ns).initializeDescendent(this);let t=this.behaviors.initialize();return t?t=t.then(this.parts.initialize.bind(this.parts)):t=this.parts.initialize(),t}assertConstructable(){if(this.#i===void 0)throw new ce("Endpoint construction initiated without owner");if(!this.#i.#a.isInstalled)throw new ce("Endpoint construction initiated with uninstalled owner")}[Mt.construct](){return this.assertConstructable(),this.lifecycle.change(Tn.Change.Installed),this.initialize()}#u(){D2.info(fe.strong(this.toString()),"ready",this.diagnosticDict)}get[fe.value](){return[fe.strong(this.id),fe.dict({...this.#f,class:this.constructor.name}),fe.list([...this.behaviors.detailedDiagnostic,...this.parts])]}get diagnosticDict(){return fe.dict({...this.#f,behaviors:this.behaviors})}get#f(){return{"endpoint#":this.number,type:`${this.type.name} (0x${this.type.deviceType.toString(16)})`}}get#h(){let t=this.container;if(t===void 0)throw new ce(`No container for installed endpoint ${this}`);return t}};(e=>{function t(i,r){return i.deviceType?{...r,type:i}:i}e.configurationFor=t;function n(i){return i instanceof e?i:new e(i)}e.partFor=n})(Jr||(Jr={}));function b7(e,t){return{initialValues:e.initialValues[t],async set(n,i){let r=nH(n,e);r.mutations||(r.mutations={});let a=r.mutations[t];a?Object.assign(a,i):r.mutations[t]={...i}}}}function nH(e,t){let n=e.getParticipant(t);return n||(n={role:t,mutations:void 0,toString(){return t.toString()},commit1(){},async commit2(){this.mutations&&await t.set(this.mutations)},rollback(){delete this.mutations}},e.addParticipants(n),n)}var x7="__number__",u0=class e{#e;#t={};#n;#i;#o;#r={};#a=new Set;toString(){return`storage:${this.#e.thisContexts.join(".")}`}get construction(){return this.#i}get initialValues(){return this.#t}get number(){return this.#i.assert(),this.#n}set number(t){this.#i.assert(),this.#n!==t&&(this.#n=t)}constructor(t,n=!0){this.#e=t,this.#o=t.createContext("parts"),this.#i=Mt(this,()=>{if(n)return this.#s()})}async#s(){this.#a=new Set(await this.#e.contexts());for(let n of this.#a){let i=this.#t[n]={},r=this.#e.createContext(n);for(let a of await r.keys())i[a]=await r.get(a)}let t=await this.#e.get(x7,-1);t!==-1&&(this.#n=t),await this.#l()}storeForBehavior(t){return this.#i.assert(),b7(this,t)}childStoreFor(t){if(!t.lifecycle.hasId)throw new ce("Cannot access endpoint storage because endpoint has no assigned ID");return this.#c(t.id)}#c(t){this.#i.assert();let n=this.#r[t];return n===void 0&&(n=this.#r[t]=new e(this.#o.createContext(t),!1)),n}async saveNumber(){await this.#i,await this.#e.set(x7,this.number)}async set(t){await this.#i;for(let n in t){let i=t[n],r=this.#e.createContext(n);if(i===void 0){this.#a.has(n)&&(await r.clearAll(),this.#a.delete(n));continue}this.#a.has(n)||this.#a.add(n);for(let a in i)i[a]===void 0?await r.delete(a):await r.set(a,i[a])}}async delete(){await this.#i,await this.#e.clearAll()}async#l(){let t=await this.#o.contexts();for(let n of t)await this.#m(n)}async#m(t){let n=new e(this.#o.createContext(t));this.#r[t]=n,await n.construction}};var w7="__nextNumber__",iH=J.get("EndpointStoreService"),R2=class{},x1=class extends R2{#e;#t=new Set;#n;#i;#o;#r;#a;#s;#c;get construction(){return this.#n}constructor({storage:t,nextNumber:n}){super(),this.#e=t,this.#s=n??1,this.#n=Mt(this),this.#n.start()}async[Mt.construct](){this.#a=await this.#e.get(w7,this.#s)%65535,this.#a?this.#i=this.#a:this.#a=1,this.#c=await io(u0,this.#e)}async erase(){this.#o&&await this.#o,await this.#e.clearAll(),this.#n.setStatus(ot.Status.Inactive),this.#n.start(),this.#t=new Set,this.#i=this.#a=(this.#s??1)%65535,this.#c=new u0(this.#e,!1),await this.construction}async close(){this.#o&&await this.#o}assignNumber(t){if(this.#a===void 0)throw new Re("Endpoint number assigned prior to store initialization");this.#n.assert();let n=this.storeForPart(t);if(t.lifecycle.hasNumber){if(this.#t.has(t.number)){if(this.storeForPart(t).number!==t.number)throw new nc(`Endpoint ${t.id} number ${t.number} is allocated to another endpoint`);return}}else{let i=n.number;if(i)if(this.#t.has(i))iH.warn(`Stored number ${i} is already allocated to another endpoint, ignoring`);else{t.number=i;return}let r=this.#a;for(;this.#a<1||this.#t.has(this.#a);)if(this.#a=(this.#a+1)%65535,this.#a===r)throw new ce("Cannot add additional endpoints because endpoint numbers are exhausted");let a=this.#a++;t.number=a}this.#t.add(t.number),n.number=t.number,this.#l(t)}storeForPart(t){if(this.#n.assert(),!t.lifecycle.hasId)throw new Re("Endpoint storage access without assigned ID");if(t.owner)return this.storeForPart(t.owner).childStoreFor(t);if(t.number!==0)throw new Re("Endpoint storage inaccessible because endpoint is not a node and is not owned by another endpoint");if(!this.#c)throw new Re("Endpoint storage accessed prior to initialization");return this.#c}#l(t){if(this.#r){this.#r.push(t);return}this.#r=[t];let n=async()=>{await this.#n;let i=this.#r;if(i){this.#r=void 0;for(let r of i)await this.storeForPart(r).saveNumber();this.#a!==this.#i&&(await this.#e.set(w7,this.#a),this.#i=this.#a)}};this.#o?this.#o=this.#o.then(n):this.#o=n()}};var rH=J.get("ServerStore"),qr=class{#e;#t;#n;#i;#o;#r;#a;#s;#c;get construction(){return this.#c}constructor(t,n){if(n===void 0)throw new ce("ServerStore must be created with a nodeId");let i=t.get(Rs);this.#e=i.location??"(unknown location)",this.#t=n;let r=async()=>{this.#n=await i.open(n),this.#s=await io(x1,{storage:this.#n.createContext("root")}),this.#a=this.#l.createContext("events"),this.#i=await tv.create(this.eventStorage),this.#m("Opened")};this.#c=Mt(this,r)}static async create(t,n){return await io(this,t,n)}async erase(){await this.#o?.clearAll(),await this.#r?.clearAll(),await this.#a?.clearAll(),await this.#s?.erase()}async close(){await this.#c.close(async()=>{await this.#n?.close(),this.#m("Closed")})}get eventStorage(){if(!this.#a)throw new ce("Event storage accessed prior to initialization");return this.#a}get eventHandler(){if(!this.#i)throw new ce("Event handler accessed prior to initialization");return this.#i}get sessionStorage(){return this.#o||(this.#o=this.#l.createContext("sessions")),this.#o}get fabricStorage(){return this.#r||(this.#r=this.#l.createContext("fabrics")),this.#r}get endpointStores(){if(this.#s===void 0)throw new ce("Endpoint storage accessed prior to initialization");return this.#s}get#l(){if(this.#n===void 0)throw new ce("Node storage accessed prior to initialization");return this.#n}#m(t){rH.info(t,fe.strong(this.#t??"node"),"storage at",`${this.#e}/${this.#t}`)}};var N2=J.get("Datasource");function C7(e){let t=oH(e),n;return{toString(){return t.path.toString()},reference(i){let r=t.sessions?.get(i);return r||(r=T7(this,t,i)),r.managed},get version(){return t.version},validate(i,r){let a=t.supervisor.validate;a&&a(r??t.values,i,{path:t.path})},get view(){return n||(n=T7(this,t,{offline:!0,authorizedFor(r){return r===W.View},transaction:oh}).managed),n}}}function oH(e){let t=new e.type,n={...e.defaults,...e.store?.initialValues};for(let i in n)t[i]=n[i];return{...e,version:qe.getRandomUInt32(),values:t,interactionObserver(){function i(r){N2.error(`Error in ${e.path} observer:`,r)}try{let r=e.events?.interactionEnd?.emit();if(Pe.is(r))return r.then(i)}catch(r){i(r)}}}}function T7(e,t,n){let i=t.values,r,a,s=!1,c={toString(){return t.path.toString()},preCommit:S,commit1:H,commit2:oe,postCommit:z,rollback:Q},l=n.transaction;l.onShared(()=>{if(i!==t.values)try{Q()}catch(N){N2.error(`Error resetting reference to ${t.path} after reset of transaction ${l.via}:`,N)}});let d=t.supervisor.memberNames,f=t.supervisor.persistentNames,g={get original(){return t.values},get value(){if(s)throw new js(this.location);return i},set value(N){throw new Re(`Cannot set root reference for ${t.supervisor.schema.name}`)},get expired(){return s},get location(){return{path:t.path,cluster:t.cluster}},set location(N){throw new ce("Root reference location is immutable")},get rootOwner(){return t.owner},change(N){if(s)throw new js(this.location);if(w(),l.beginSync(),i===t.values){let q=i;i=new t.type;for(let G of d)i[G]=q[G];O()}N(),O()},refresh(){throw new Re(`Cannot refresh root reference for ${t.supervisor.schema.name}`)}};g.toString=()=>`ref<${e}>`;let b={managed:t.supervisor.manage(g,n),onChange(N){i===N&&(i=t.values,O())}};return t.sessions||(t.sessions=new Map),t.sessions.set(n,b),l.onClose(()=>{try{t.sessions?.delete(n),s=!0,O()}catch(N){N2.error(`Error detaching reference to ${t.path} from closed transaction ${l.via}:`,N)}}),b;function w(){l.addResourcesSync(e),l.addParticipants(c),l.beginSync(),n.interactionComplete&&!n.interactionComplete.isObservedBy(t.interactionObserver)&&(t.events?.interactionBegin?.emit(),n.interactionComplete.on(t.interactionObserver))}function O(){let N=g.subrefs;if(N)for(let q in N)N[q].refresh()}function D(){t.version++,t.version>4294967295&&(t.version=0)}function y(N){let q;r&&N in r?q=r[N]:q=t.values[N];let G=i[N];if(!Rn(q,G))return r||(r={}),r[N]=Na(G),{newValue:b.managed[N],oldValue:q}}function S(){let{events:N}=t;if(!N)return!1;let q=!1,G=Object.keys(i)[Symbol.iterator]();function te(){for(;;){let K=G.next();if(K.done)return q;let ae=K.value,pe=N?.[`${ae}$Changing`];if(!pe?.isObserved)continue;let he=y(ae);if(he){q=!0;let Ce=pe.emit(he.newValue,he.oldValue,n);if(Pe.is(Ce))return Ce.then(te)}}}return te()}function L(){if(a=void 0,t.values===i)return a;for(let N in i){let q=i[N],G=t.values[N];if(G!==q&&!Rn(q,G)){a||(a={notifications:[]}),f.has(N)&&(a.persistent===void 0&&(a.persistent={}),a.persistent[N]=i[N]);let te=t.events?.[`${N}$Changed`];te?.isObserved&&a.notifications.push({event:te,params:[i[N],t.values[N],n]})}}a&&D()}function H(){L();let N=a?.persistent;if(N)return t.store?.set(n.transaction,N)}function oe(){if(!a)return;let N=t.values;if(t.values=i,t.sessions)for(let q of t.sessions.values())q.onChange(N);if(n.trace&&a.persistent){let q=n.trace.mutations;q||(q=n.trace.mutations=[]),q.push({path:t.path,values:a.persistent})}}function z(){if(!a||!t.events)return;let N=a.notifications[Symbol.iterator]();function q(){for(;;){let G=N.next();if(G.done)return;let{event:te,params:K}=G.value,ae=te.emit(...K);if(Pe.is(ae))return Promise.resolve(ae).then(q)}}return q()}function Q(){({values:i}=t),O()}}var S7=new WeakMap;function A7(e){let t=e.endpoint.eventsOf(e.type),n=t.constructor,i=S7.get(n);return i===void 0&&(i=aH(t),S7.set(n,i)),new i(t)}var I7=Symbol("target");function aH(e){let t={};for(let n in e){let i=Symbol(n);t[n]={get(){let r=this[i];return r===void 0&&(r=this[i]=new Xy(this[I7][n])),r}}}return Nr({name:`${e.constructor.name}$Proxy`,base:Gr,instanceDescriptors:t,initialize(n){this[I7]=n}})}var P2=J.get("Reactors"),w1=class{#e;#t=new Set;#n;constructor(t){this.#e=t}get backing(){return this.#e}async close(){for(let t of this.#t)await t.close();if(this.#t.size)return new Promise(t=>this.#n=t)}add(t,n,i){for(let r of this.#t)if(r.is(t,n))return;this.#t.add(new k2(this,t,n,i??{}))}remove(t){this.#t.delete(t),this.#t.size||this.#n?.()}get resource(){return this.#e.datasource}},k2=class{#e;#t;#n;#i;#o;#r;#a;#s;#c=Array();#l;#m;#d;#u;constructor(t,n,i,{offline:r,once:a,lock:s}){this.#e=t,this.#t=t.backing.endpoint,this.#o=n,this.#r=r,this.#i=i,s&&(s===!0?s=[t.resource]:Array.isArray(s)||(s=[s]),this.#s=s);let c=(...l)=>{let d,f,g=!0;try{this.#l||(g=!1,this.#d||(this.#d=this.#t.env.get(Ki)),this.#u=this.#d.begin(this.toString()),this.#l=new Promise(b=>{this.#m=()=>{b(),this.#l=void 0}})),a?d=this.#x(l):g?d=this.#p(l):d=this.#y(l)}catch(b){b=this.#T(b),this.#o.isAsync?d=Promise.reject(b):f=b}if(g||(Pe.is(d)?Promise.resolve(d).finally(this.#v.bind(this)).catch(()=>{}):this.#v()),f)throw f;return this.#o.isAsync?d=Promise.resolve(d):Pe.is(d)&&(d.then(void 0,this.#f.bind(this)),d=void 0),d};n.on(this.#n=c)}is(t,n){return this.#o===t&&this.#i===n&&!this.#a}close(){return this.#a||this.#h(),this.#l}toString(){let t=this.#i.name?`.${this.#i.name}`:"";return`reactor<${this.#e.backing}${t}>`}#f(t){t instanceof Error||(t=new Error(`${t}`)),P2.error("Unhandled",this.#T(t))}#h(){this.#o.off(this.#n),this.#a=!0,this.#l?this.#l=this.#l.finally(()=>this.#e.remove(this)):this.#e.remove(this)}#v(){try{if(this.#c.length){this.#c.shift()().catch(n=>{P2.error("Internal error invoking next reactor",n)}).finally(this.#v.bind(this));return}this.#m?.(),this.#u?.[Symbol.dispose](),this.#u=void 0}catch(t){P2.error("Internal error after final reaction",t)}}#y(t){let n;if(this.#r||(n=Lo.contextOf(t[t.length-1])),n){let i=this.#b(n,this.#e.backing,t);if(Pe.is(i)&&!this.#o.isAsync)throw new ce(`${this} returned a Promise but the observable is synchronous; you must set the "offline" option so this reactor runs with a dedicated transaction`);return i}try{let i="react";this.#i.name&&(i=`${i}<${this.#i.name}>`);let r=s=>this.#b(s,this.#e.backing,t),a=Uo.act(this.toString(),void 0,r);return Pe.is(a)&&(a=a.then(void 0,this.#f.bind(this))),a}catch(i){this.#f(i)}}#p(t){return new Promise((n,i)=>{let r=async()=>{try{let a=await this.#y(t);n(a)}catch(a){i(a)}};this.#c.push(r)})}#x(t){this.#o.off(this.#n);let n=!1;try{let i=this.#y(t);return Pe.is(i)?(n=!0,Promise.resolve(i).finally(()=>this.#h())):i}finally{n||this.close()}}#b(t,n,i){return this.#s?this.#w(t,n,i):this.#g(t,n,i)}async#w(t,n,i){if(!this.#s)throw new Re("No locks to acquire");await t.transaction.addResources(...this.#s),await t.transaction.begin();for(let r of t.transaction.resources)if(r.lockedBy!==t.transaction)throw new Re(`Lock of ${r} should be held by ${this} but is not`);return await this.#g(t,n,i)}#g(t,n,i){let r=t.agentFor(this.#t),a=n.createBehavior(r,n.type);return this.#i.apply(a,i)}#T(t){return t instanceof Error||(t=new Error(t.toString())),t.message=`Error in ${this}: ${t.message}`,t}};var M7=J.get("BehaviorBacking"),T1=class{#e;#t;#n;#i;#o;#r;#a;#s;get construction(){return this.#s}constructor(t,n,i){this.#e=t,this.#t=n,this.#o=i,this.#s=Mt(this),this.#s.onError(r=>{t.lifecycle.isReady&&M7.error(`Error initializing ${this}:`,r)})}toString(){return this.path.toString()}get path(){return this.#e.path.at(this.type.id)}[Mt.construct](t){let n=i=>{throw new yh(`Error initializing ${this}`,i)};try{let i=this.#l(t),r=this.invokeInitializer(i,this.#o);if(r)return Promise.resolve(r).catch(n)}catch(i){n(i)}}close(t,n=!0){return this.construction.status===ot.Status.Active||(n=!1),this.construction.close(()=>{let r=Pe.then(()=>this.#a?.close(),()=>{this.#a=void 0});return n&&(r=Pe.then(r,()=>this.#c(t))),r})}invokeInitializer(t,n){return t.initialize(n)}get endpoint(){return this.#e}get type(){return this.#t}createBehavior(t,n){let i=new this.#t(t,this);if(i instanceof n)return i;throw new ce(`Cannot create ${this.#e}.${n.id} because installed implementation is incompatible`)}get datasource(){return this.#r||(this.#r=C7(this.datasourceOptions)),this.#r}get datasourceOptions(){return{path:this.#e.path.at(this.#t.id).at("state"),supervisor:this.type.supervisor,type:this.type.State,events:this.events,defaults:this.#e.behaviors.defaultsFor(this.type),store:this.store,owner:this.#e}}getInternal(){return this.#n||(this.#n=new this.#t.Internal),this.#n}get events(){return this.#i||(this.#i=A7(this)),this.#i}get status(){return this.construction.status}get stateView(){return this.#r?.view??{}}reactTo(t,n,i){this.#a||(this.#a=new w1(this)),this.#a.add(t,n,i)}#c(t){let n=this.#l(t);return Pe.finally(()=>Pe.then(()=>n?.[Symbol.asyncDispose](),void 0,i=>M7.error(`Destroying ${this}:`,i)),()=>this.#i?.[Symbol.dispose]())}#l(t){return t.isLoaded(this.#t)?t.get(this.#t):this.createBehavior(t,this.#t)}};var vh=class extends T1{#e;#t;get store(){return this.#e||(this.#e=this.#n.endpointStores.storeForPart(this.endpoint).storeForBehavior(this.type.id)),this.#e}get eventHandler(){return this.#t||(this.#t=this.#n.eventHandler),this.#t}invokeInitializer(t,n){let i=()=>{this.#i(t.state);let a=t.context;this.datasource.validate(a,t.state)},r=super.invokeInitializer(t,n);if(r)return r.then(i);i()}get#n(){return this.endpoint.env.get(qr)}#i(t){let n=this.type.schema;if(n)for(let i of n.activeMembers){let r=xt(i.name);if(t[r]===void 0){let a=zt.referenced(i.default);if(a){let s=t[xt(a)];s!==void 0&&(t[r]=s)}}}}};var F2=J.get("Behavior"),C1=class extends vh{#e;#t;get clusterServer(){return this.#t}get runtime(){return this.#e.endpoint.env.runtime}get server(){return this.#e}get type(){return super.type}constructor(t,n){super(t.endpoint,n),this.#e=t}invokeInitializer(t,n){let{id:i,name:r,attributes:a,commands:s,events:c}=this.type.cluster;n||(n={});let l=this.#t={id:i,name:r,datasource:this.#n(),attributes:{},commands:{},events:{}},d=super.invokeInitializer(t,n),f=()=>{t.state.eventList=[];let g=new rh(this.type,t);g.report(),this.#i(g.attributes,a,l.attributes,t,["attributeList"],sH),this.#i(g.commands,s,l.commands,t,["acceptedCommandList","generatedCommandList"],cH),this.#i(g.events,c,l.events,t,["eventList"],lH),this.#e.addClusterServer(l)};if(Pe.is(d))return d.then(f);f()}get datasourceOptions(){return{...super.datasourceOptions,cluster:this.type.cluster.id}}#n(){let t=this.eventHandler,n=this.datasource,i=this.endpoint.env;return{get version(){return n.version},get eventHandler(){return t},get fabrics(){return i.get(bn).getFabrics()},changed(){},increaseVersion(){return n.version}}}#i(t,n,i,r,a,s){let c=Array();a.forEach(()=>c.push(new Set));for(let l of t){let d=n[l],{ids:f,server:g}=s(l,d,this,r);f.forEach((b,w)=>c[w].add(b)),i[l]=g}a.forEach((l,d)=>{r.state[l]=[...c[d].values()]})}};function sH(e,t,n,i){function r(c,l,d,f){if(!f)return n.datasource.view[e];let g=L2(n,f);g.context.activity?.frame(`read ${e}`);let b=g.context.trace;b&&(b.path=n.path.at(e)),F2.debug("Read",fe.strong(`${n}.state.${e}`),"via",g.context.transaction.via);let w=g.state;return nh.assertDirectReadAuthorized(w,e),b&&(b.output=w[e]),w[e]}function a(c,l,d,f){let g=L2(n,f);g.context.activity?.frame(`write ${e}`),F2.info("Write",fe.strong(`${n}.state.${e}`),"via",g.context.transaction.via);let b=g.context.trace;b&&(b.path=n.path.at(e),b.input=c);let w=g.state;return w[e]=c,g.context.transaction?.status===an.Exclusive}let s=rM(n.type.cluster,t,e,i.state[e],n.clusterServer.datasource,r,a);return s instanceof Uc&&n.events[`${e}$Changed`]?.on((l,d,f)=>{let g=f.session;g instanceof za?s.updated(g):s.updatedLocal()}),s.assignToEndpoint(n.server),{ids:[t.id],server:s}}function cH(e,t,n){let i=n.type.schema?.member(xt(e,!0),[Xe.Command]);if(i===void 0)throw new ce(`There is no metadata for command ${e}`);let r=Fc(i),a=(l,d,f)=>{let g;cn(l)?g=fe.dict(l):l!==void 0?g=l:g=fe.weak("(no payload)");let b=L2(n,f),w=n.path.at(e),O=b.context.trace;O&&(O.path=n.path.at(e),O.input=l),F2.info("Invoke",fe.strong(w.toString()),b.context.transaction.via,g),r.authorizeInvoke(b.context,{path:w,cluster:b.cluster.id});let D=!1,y,S;try{y=b.context?.activity?.frame(`invoke ${e}`),S=b[e](l),Pe.is(S)?(D=!0,S=Promise.resolve(S).then(L=>(O&&(O.output=L),L)).finally(()=>y?.[Symbol.dispose]())):O&&(O.output=S)}finally{D||y?.[Symbol.dispose]()}return S},s=new Gg(t.requestId,t.responseId,e,t.requestSchema,t.responseSchema,t.timed,t.invokeAcl,a);s.debug=()=>{};let c=[t.requestId];return t.responseSchema!==ne&&c.push(t.responseId),{ids:c,server:s}}function lH(e,t,n){let i=n.events[e],r=new Pp(t.id,n.type.cluster.id,e,t.schema,t.priority,t.readAcl);i?.on((s,c)=>{let l=r.triggerEvent(s);Pe.is(l)&&n.runtime.add(l)}),r.assignToEndpoint(n.server);let a=r.bindToEventHandler(n.eventHandler);if(Pe.is(a))throw new Re("Event handler binding returned a promise");return{ids:[t.id],server:r}}function L2(e,t){let n=Lo.contextOf(t);if(!n)throw new Re("Message context not installed");return n.agentFor(e.endpoint).get(e.type)}var m0=Symbol("server"),Yc=class e{#e;#t="";#n=new Map;get endpoint(){return this.#e}get deviceType(){return this.#e.type.deviceType}constructor(t){t[m0]=this,this.#e=t,this.#t=t.type.name}createBacking(t){let n;if(t.prototype instanceof de){let i=t.cluster;if(this.#n.has(i.id))throw new Re(`${this.#e}.${i.id} initialized multiple times`);n=new C1(this,t)}else n=new vh(this.#e,t);return n}get number(){return this.#e.number}get name(){return this.#t}getNumber(){if(this.number===void 0)throw new Re("Endpoint ID has not been assigned yet");return this.number}removeFromStructure(){}updatePartsList(){return[]}getChildEndpoints(){return this.#e.hasParts?[...this.#e.parts].map(n=>e.forEndpoint(n)):[]}determineUniqueID(){return this.#e.id}verifyRequiredClusters(){this.#e.behaviors.validateRequirements(this.#e.type.requirements.server?.mandatory)}close(){}async[Symbol.asyncDispose](){this.#n.clear(),delete this.#e[m0];for(let t of this.#e.parts){let n=t[m0];n&&await n[Symbol.asyncDispose]()}}setStructureChangedCallback(){}addClusterServer(t){this.#n.set(t.id,t)}hasClusterServer(t){return this.#n.has(t.id)}getClusterServer(t){let n=this.#n.get(t.id);if(n!==void 0)return n}getClusterServerById(t){return this.#n.get(t)}getAllClusterServers(){return[...this.#n.values()]}getAllClusterClients(){return[]}addClusterClient(){throw new Yt("Cluster clients unavailable on EndpointServer")}getClusterClient(){throw new Yt("Cluster clients unavailable on EndpointServer")}addChildEndpoint(t){if(t instanceof e)this.#e.parts.add(t.#e);else throw new ce("Attempt to add unmanaged endpoint as child of Endpoint")}getChildEndpoint(t){if(this.#e.hasParts){for(let n of this.#e.parts)if(n.number===t)return e.forEndpoint(n)}}static forEndpoint(t){let n=t[m0];return n||(n=t[m0]=new e(t)),n}};function Ln(e){let t={},{tags:n}=e,i=e.id,r=e.mfgCode?Wi(e.mfgCode):null;for(let a in n){let{id:s,label:c}=e.tags[a];t[a]={namespaceId:i,mfgCode:r,tag:s,label:c}}return t}var xmt=J.get("ControllerStore");var S1=class extends Tn{#e=tr();#t=ht();#n=ht();#i=ht();#o=ht();#r=!1;#a=!1;constructor(t){super(t),this.#e.on(()=>{this.#r=!0}),this.#t.on(()=>{this.#r=!1}),this.#n.on(()=>{this.#a=!0}),this.#i.on(()=>{this.#a=!1}),this.#o.on(n=>{this.#a=n})}get isOnline(){return this.#r}get online(){return this.#e}get initialized(){return this.#o}get offline(){return this.#t}get isCommissioned(){return this.#a}get commissioned(){return this.#n}get decommissioned(){return this.#i}};var E7=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),O7=e=>{throw TypeError(e)},dH=(e,t,n)=>{if(t!=null){typeof t!="object"&&typeof t!="function"&&O7("Object expected");var i,r;n&&(i=t[E7("asyncDispose")]),i===void 0&&(i=t[E7("dispose")],n&&(r=i)),typeof i!="function"&&O7("Object not disposable"),r&&(i=function(){try{r.call(this)}catch(a){return Promise.reject(a)}}),e.push([n,i,t])}else n&&e.push([n]);return t},uH=(e,t,n)=>{var i=typeof SuppressedError=="function"?SuppressedError:function(s,c,l,d){return d=Error(l),d.name="SuppressedError",d.error=s,d.suppressed=c,d},r=s=>t=n?new i(s,t,"An error was suppressed during disposal"):(n=!0,s),a=s=>{for(;s=e.pop();)try{var c=s[1]&&s[1].call(s[2]);if(s[0])return Promise.resolve(c).then(a,l=>(r(l),a()))}catch(l){r(l)}if(n)throw t};return a()};var mH=J.get("Node"),wu=class extends Jr{#e;#t;constructor(t){let n=t.environment??t.owner?.env??Rr.default;if(t.id===void 0&&(t.id=`node${n.vars.increment("node.nextFallbackId")}`),super(t),this.#e=new Rr(t.id,n),this.#e.set(Ki,new Ki),this.lifecycle.hasNumber){if(this.number!==0)throw new ce("The root endpoint ID must be 0")}else this.number=0;this.construction.start(),this.lifecycle.online.on(()=>{this.statusUpdate("is online")}),this.lifecycle.offline.on(()=>{this.statusUpdate("is offline")})}get env(){return this.#e}createLifecycle(){return new S1(this)}async start(){this.env.runtime.add(this);try{if(await this.construction.ready,this.#t)return;this.statusUpdate("going online"),this.#t=this.createRuntime(),this.#t.construction.start(),await this.#t.construction.ready}catch(t){throw this.env.runtime.delete(this),t}}async bringOnline(){return this.start()}async run(){await this.start(),await this.construction.closed}async cancel(){this.#t&&(this.statusUpdate("going offline"),await this.#t?.close(),this.#t=void 0)}async close(){this.#t&&await this.cancel(),await super.close()}get[Da.label](){return["Runtime for",fe.strong(this.toString())]}get[fe.value](){var t=[];try{let r=this.#e.get(Ki),a=dH(t,r.begin("diagnostics"));return fe.node("\u{1F9E9}",this.id,{children:[fe.strong("Structure"),fe.list([super[fe.value]]),fe.strong("Activity"),r[fe.value]]})}catch(r){var n=r,i=!0}finally{uH(t,n,i)}}get lifecycle(){return super.lifecycle}statusUpdate(t){mH.notice(fe.strong(this.toString()),t)}async[Mt.destruct](){await this.cancel(),await super[Mt.destruct](),ta.delete(this)}};(e=>{function t(n,i,r){return r||(r={}),i===void 0?{type:n,...r}:i.deviceType!==void 0?{type:i,...r}:{type:n,...i}}e.nodeConfigFor=t,e.CommonRootEndpoint=Ue({name:Oi.name,deviceType:Oi.deviceType,deviceRevision:Oi.deviceRevision,deviceClass:Oi.deviceClass,requirements:Oi.requirements,behaviors:{parts:es,index:Ei}})})(wu||(wu={}));var hH=J.get("BehaviorInit"),I1=class extends ns{#e;constructor(t){super(),this.#e=t.get(qr)}initializeDescendent(t){t.lifecycle.hasId||(t.id=this.#t(t)),this.#e.endpointStores.assignNumber(t),t.behaviors.require(qo)}createBacking(t,n){return Yc.forEndpoint(t).createBacking(n)}#t(t){let n=t.behaviors.supported.basicInformation??t.behaviors.supported.bridgedDeviceBasicInformation;if(n){let a={...new n.State,...t.behaviors.defaultsFor(n)},s=a.uniqueId;if(s||(s=a.serialNumber,s))return s}if(!(t.owner instanceof Jr))throw new Re("Cannot determine ID for endpoint with unknown parent type");if(!t.owner.lifecycle.hasId)throw new Re("Cannot determine ID for endpoint because parent has no ID");let i=t.owner.parts.indexOf(t);if(i===-1)throw new Re("Cannot determine ID for endpoint because parent does not list as child");let r=`part${i}`;return hH.warn(`Using fallback ID of ${r} for child of ${t.owner}; assign ID to remove this warning`),r}};var D7=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),R7=e=>{throw TypeError(e)},fH=(e,t,n)=>{if(t!=null){typeof t!="object"&&typeof t!="function"&&R7("Object expected");var i,r;n&&(i=t[D7("asyncDispose")]),i===void 0&&(i=t[D7("dispose")],n&&(r=i)),typeof i!="function"&&R7("Object not disposable"),r&&(i=function(){try{r.call(this)}catch(a){return Promise.reject(a)}}),e.push([n,i,t])}else n&&e.push([n]);return t},pH=(e,t,n)=>{var i=typeof SuppressedError=="function"?SuppressedError:function(s,c,l,d){return d=Error(l),d.name="SuppressedError",d.error=s,d.suppressed=c,d},r=s=>t=n?new i(s,t,"An error was suppressed during disposal"):(n=!0,s),a=s=>{for(;s=e.pop();)try{var c=s[1]&&s[1].call(s[2]);if(s[0])return Promise.resolve(c).then(a,l=>(r(l),a()))}catch(l){r(l)}if(n)throw t};return a()};var bh=Symbol("activity"),yH=Cg.id,gH=Cg.attributes.acl.id,A1=class e extends Mv{#e;#t;#n;#i;#o=!1;#r;#a=!1;static async create(t,n){let i=new Ov;return new e(t,{sessions:n,structure:i,subscriptionOptions:t.state.network.subscriptionOptions,maxPathsPerInvoke:t.state.basicInformation.maxPathsPerInvoke,initiateExchange:(r,a)=>t.env.get(fo).initiateExchange(r,a)})}constructor(t,n){super(n);let{structure:i}=n;this.#i=t.env.get(Ki),this.#n=t,this.#e=i,this.#c(),this.#t=r=>{switch(r){case Tn.Change.PartsReady:case Tn.Change.ClientsChanged:case Tn.Change.ServersChanged:case Tn.Change.Destroyed:this.#c();break}},t.lifecycle.changed.on(this.#t)}async[Symbol.asyncDispose](){this.#n.lifecycle.changed.off(this.#t),await this.close(),this.#e.close()}blockNewActivity(){this.#o=!0}async onNewExchange(t){var n=[];try{if(this.#o||this.isClosing)return;let a=fH(n,this.#i.begin(`session#${t.session.id.toString(16)}`));return t[bh]=a,new Wc(t).handleRequest(this).finally(()=>delete t[bh])}catch(a){var i=a,r=!0}finally{pH(n,i,r)}}get aclServer(){if(this.#r!==void 0)return this.#r;let t=this.#n.act(n=>n.get(Vo));if(Pe.is(t))throw new Re("AccessControlServer should already be initialized.");return this.#r=t}async readAttribute(t,n,i,r,a,s,c=!1){let l=()=>super.readAttribute(t,n,i,r,a,s,c);return c?Uo.act("offline-read",this.#i,l):a0({activity:i[bh],fabricFiltered:r,message:a,exchange:i,tracer:this.#s,actionType:Mi.ActionType.Read,endpoint:s,root:this.#n}).act(l)}async readEvent(t,n,i,r,a,s,c){let l=d=>{if(!d.authorizedFor(i.readAcl,{cluster:t.clusterId}))throw new Bp(`Access to ${c.number}/${fe.hex(t.clusterId)} denied on ${r.session.name}.`);return super.readEvent(t,n,i,r,a,s,c)};return a0({activity:r[bh],fabricFiltered:a,message:s,exchange:r,tracer:this.#s,actionType:Mi.ActionType.Read,endpoint:c,root:this.#n}).act(l)}async handleWriteRequest(t,n,i){let r=await super.handleWriteRequest(t,n,i);return this.#a&&(this.aclServer.aclUpdateDelayed=!1,this.#a=!1),r}async writeAttribute(t,n,i,r,a,s,c=!1,l){let d=()=>super.writeAttribute(t,n,i,r,a,s,c,l);return t.endpointId===0&&t.clusterId===yH&&t.attributeId===gH?(this.aclServer.aclUpdateDelayed=!0,this.#a=!0):this.#a&&(this.aclServer.aclUpdateDelayed=!1,this.#a=!1),a0({activity:r[bh],timed:c,message:a,exchange:r,fabricFiltered:!0,tracer:this.#s,actionType:Mi.ActionType.Write,endpoint:s,root:this.#n}).act(d)}async invokeCommand(t,n,i,r,a,s,c=!1){let l=d=>{if(!d.authorizedFor(n.invokeAcl,{cluster:t.clusterId}))throw new Bp(`Access to ${s.number}/${fe.hex(t.clusterId)} denied on ${i.session.name}.`);return super.invokeCommand(t,n,i,r,a,s,c)};return a0({activity:i[bh],command:!0,timed:c,message:a,exchange:i,tracer:this.#s,actionType:Mi.ActionType.Invoke,endpoint:s,root:this.#n}).act(l)}get#s(){if(this.#n.env.has(Mi))return this.#n.env.get(Mi)}#c(){this.#n.lifecycle.isPartsReady&&this.#e.initializeFromEndpoint(Yc.forEndpoint(this.#n))}};var M1=class{#e;#t;get construction(){return this.#e}constructor(t){this.#t=t;let n=t.behaviors.internalsOf(go);if(n.runtime)throw new ce("Network is already active");n.runtime=this,this.#e=Mt(this)}async[Mt.construct](){await this.start(),await this.#t.act(t=>this.owner.lifecycle.online.emit(t.context))}async[Mt.destruct](){this.blockNewActivity();let t=this.#t.env.get(Ki);t.isActive&&await t.inactive;try{await this.stop()}finally{this.#t.behaviors.internalsOf(go).runtime=void 0}await this.#t.act(n=>this.owner.lifecycle.offline.emit(n.context))}async close(){await this.construction.close()}get owner(){return this.#t}};function vH(e){let t=typeof e=="string"?qf[e]:e;if(!(typeof t!="number"||t<1||t>4))return t}var E1=class extends M1{#e;#t;#n;#i;#o;#r;#a;get owner(){return super.owner}get mdnsBroadcaster(){return this.#n||(this.#n=this.owner.env.get(uu).createInstanceBroadcaster(this.owner.state.network.operationalPort)),this.#n}get networkInterfaceConfiguration(){let t=this.owner.env.vars.get("network.interface",{});return Object.entries(t).map(([n,{type:i}])=>({name:n,type:vH(i)}))}async getNetworkInterfaces(){let t=this.owner.env.get(nr),n=await t.getNetInterfaces(this.networkInterfaceConfiguration),i=new Array;for(let{name:r,type:a}of n){let s=await t.getIpMac(r);s!==void 0&&i.push({name:r,type:a,...s})}return i}openAdvertisementWindow(){if(!this.#t)throw new Re("Server runtime device instance is missing");return this.#t.startAnnouncement()}advertiseNow(){if(!this.#t)throw new Re("Server runtime device instance is missing");return this.#t.announce(!0)}async getPrimaryNetInterface(){if(this.#i===void 0){let t=this.owner.state.network.port;this.#i=await Ol.create(this.owner.env.get(nr),"udp6",t||void 0,this.owner.state.network.listeningAddressIpv6),await this.owner.set({network:{operationalPort:this.#i.port}})}return this.#i}get bleBroadcaster(){if(this.#o===void 0){let t=this.owner.state.commissioning.additionalBleAdvertisementData;this.#o=Lc.get().getBleBroadcaster(t)}return this.#o}get bleTransport(){return this.#r===void 0&&(this.#r=Lc.get().getBlePeripheralInterface()),this.#r}async addTransports(t){t.addTransportInterface(await this.getPrimaryNetInterface());let n=this.owner.state.network;n.ipv4&&t.addTransportInterface(await Ol.create(this.owner.env.get(nr),"udp4",n.port,n.listeningAddressIpv4)),n.ble&&t.addTransportInterface(this.bleTransport)}async addBroadcasters(t){let n=!!this.#l,i=this.owner.state.network.discoveryCapabilities;n&&(i={onIpNetwork:!0}),i.onIpNetwork&&t.addBroadcaster(this.mdnsBroadcaster),i.ble&&t.addBroadcaster(this.bleBroadcaster)}enableMdnsBroadcasting(){let t=this.mdnsBroadcaster;this.#t?.hasBroadcaster(t)||this.#t?.addBroadcaster(t)}endUncommissionedMode(){this.#o&&(this.owner.env.runtime.add(this.#s(this.#o)),this.#o=void 0),this.#r&&(this.owner.env.runtime.add(this.#c(this.#r)),this.#r=void 0)}async#s(t){await this.#t?.deleteBroadcaster(t),await t.close()}async#c(t){await this.#t?.deleteTransportInterface(t),await t.close()}get interactionServer(){if(this.#e===void 0)throw new ce("Interaction server is not available yet");return this.#e}get#l(){return this.owner.state.operationalCredentials.commissionedFabrics}get operationalPort(){return this.#i?.port??0}endCommissioning(){if(this.#t!==void 0)return this.#t.endCommissioning()}async start(){await this.owner.env.load(uu),await this.owner.act("start-network",r=>r.load(ts));let{sessionStorage:t,fabricStorage:n}=this.owner.env.get(qr),i=await Rv.create(t,n,()=>({...this.owner.state.commissioning,productDescription:this.owner.state.productDescription,ble:!!this.owner.state.network.ble}),this.owner.state.basicInformation.capabilityMinima.caseSessionsPerFabric,(r,a)=>{},r=>{},{maxPathsPerInvoke:this.owner.state.basicInformation.maxPathsPerInvoke});this.#t=i,this.#e=await A1.create(this.owner,i.sessionManager),i.addProtocolHandler(this.#e),i.fabricManager.events.added.on(r=>{let a=this.#t?.fabricManager.getFabrics()??[];a.length===1&&a[0].fabricIndex===r.fabricIndex&&this.enableMdnsBroadcasting()}),this.owner.env.set(Kn,i.sessionManager),this.owner.env.set(bn,i.fabricManager),this.owner.env.set(fo,i.exchangeManager),this.owner.env.set(ji,i.commissioner),this.owner.env.set(Ys,i.advertiser),await this.owner.act("load-sessions",r=>r.load(ba)),this.owner.eventsOf(Vr).commissioned.on(()=>this.endUncommissionedMode()),await this.addTransports(i),await this.addBroadcasters(i),await this.owner.set({network:{operationalPort:this.operationalPort}}),await this.openAdvertisementWindow()}async stop(){if(this.#t&&(this.owner.env.delete(Kn,this.#t.sessionManager),this.owner.env.delete(bn,this.#t.fabricManager),this.owner.env.delete(fo,this.#t.exchangeManager),this.owner.env.delete(ji,this.#t.commissioner),this.owner.env.delete(Ys,this.#t.advertiser),await this.#t.close(),this.#t=void 0,this.#i=void 0),this.#i&&(await this.#i.close(),this.#i=void 0),await this.#e?.[Symbol.asyncDispose](),this.#e=void 0,this.#a){let t=this.#a;this.#a=void 0,this.owner.eventsOf(Vr).commissioned.off(t)}}blockNewActivity(){this.#e?.blockNewActivity()}};var O1=class extends gh{constructor(t){super(t)}get endpoint(){return super.endpoint}};var B2=class extends lt{constructor(t,n){super(t),this.cause=dc(n)}},xh=class e extends wu{#e;constructor(t,n){super(wu.nodeConfigFor(e.RootEndpoint,t,n)),ta.add(this)}static async create(t,n){return await io(this,t,n)}createRuntime(){return new E1(this)}async[Mt.destruct](){if(await super[Mt.destruct](),this.env.has(qr)){let t=this.env.get(qr);await t.close(),this.env.delete(qr,t)}}async reset(){await super.reset(),await Yc.forEndpoint(this)[Symbol.asyncDispose]()}async factoryReset(){try{await this.construction;let t=this.lifecycle.isOnline;t&&await this.cancel(),this.statusUpdate("resetting to factory defaults"),await this.reset(),await this.resetStorage(),this.construction.start(),t?await this.start():await this.construction.ready}catch(t){throw this.construction.crash(),new B2(`Error during factory reset of ${this}`,t)}}get nodes(){return this.#e||(this.#e=new O1(this)),this.#e}async advertiseNow(){await this.act(`advertiseNow<${this}>`,t=>t.get(va).advertiseNow())}async initialize(){let t=await qr.create(this.env,this.id);return this.env.set(qr,t),this.env.set(ns,new I1(this.env)),this.env.set(xa,new xa(this)),super.initialize()}async resetStorage(){await this.env.get(qr).erase()}assertConstructable(){}};(e=>{e.RootEndpoint=Oi.with(Vr,va,ts,ba)})(xh||(xh={}));var Ght=Ln({id:1,tags:{Opening:{id:0,label:"Opening"},Closing:{id:1,label:"Closing"},Stop:{id:2,label:"Stop"}}});var Xht=Ln({id:2,tags:{Northward:{id:0,label:"Northward"},NorthEastward:{id:1,label:"North-Eastward"},Eastward:{id:2,label:"Eastward"},SouthEastward:{id:3,label:"South-Eastward"},Southward:{id:4,label:"Southward"},SouthWestward:{id:5,label:"South-Westward"},Westward:{id:6,label:"Westward"},NorthWestward:{id:7,label:"North-Westward"}}});var Qht=Ln({id:3,tags:{North:{id:0,label:"North"},NorthEast:{id:1,label:"North-East"},East:{id:2,label:"East"},SouthEast:{id:3,label:"South-East"},South:{id:4,label:"South"},SouthWest:{id:5,label:"South-West"},West:{id:6,label:"West"},NorthWest:{id:7,label:"North-West"}}});var tft=Ln({id:4,tags:{Upward:{id:0,label:"Upward"},Downward:{id:1,label:"Downward"},Leftward:{id:2,label:"Leftward"},Rightward:{id:3,label:"Rightward"},Forward:{id:4,label:"Forward"},Backward:{id:5,label:"Backward"}}});var rft=Ln({id:10,tags:{Dc:{id:0,label:"DC"},Ac:{id:1,label:"AC"},AcPhase1:{id:2,label:"ACPhase1"},AcPhase2:{id:3,label:"ACPhase2"},AcPhase3:{id:4,label:"ACPhase3"}}});var sft=Ln({id:14,tags:{Normal:{id:0,label:"Normal"},LightDry:{id:1,label:"Light Dry"},ExtraDry:{id:2,label:"Extra Dry"},NoDry:{id:3,label:"No Dry"}}});var dft=Ln({id:5,tags:{Low:{id:0,label:"Low"},Medium:{id:1,label:"Medium"},High:{id:2,label:"High"}}});var hft=Ln({id:6,tags:{Indoor:{id:0,label:"Indoor"},Outdoor:{id:1,label:"Outdoor"},Inside:{id:2,label:"Inside"},Outside:{id:3,label:"Outside"}}});var yft=Ln({id:7,tags:{Zero:{id:0,label:"Zero"},One:{id:1,label:"One"},Two:{id:2,label:"Two"},Three:{id:3,label:"Three"},Four:{id:4,label:"Four"},Five:{id:5,label:"Five"},Six:{id:6,label:"Six"},Seven:{id:7,label:"Seven"},Eight:{id:8,label:"Eight"},Nine:{id:9,label:"Nine"},Ten:{id:10,label:"Ten"}}});var bft=Ln({id:8,tags:{Left:{id:0,label:"Left"},Right:{id:1,label:"Right"},Top:{id:2,label:"Top"},Bottom:{id:3,label:"Bottom"},Middle:{id:4,label:"Middle"},Row:{id:5,label:"Row"},Column:{id:6,label:"Column"}}});var Tft=Ln({id:15,tags:{Unknown:{id:0,label:"Unknown"},Grid:{id:1,label:"Grid"},Solar:{id:2,label:"Solar"},Battery:{id:3,label:"Battery"},Ev:{id:4,label:"EV"}}});var Ift=Ln({id:65,tags:{Refrigerator:{id:0,label:"Refrigerator"},Freezer:{id:1,label:"Freezer"}}});var Eft=Ln({id:66,tags:{Evaporator:{id:0,label:"Evaporator"},Condenser:{id:1,label:"Condenser"}}});var Rft=Ln({id:67,tags:{On:{id:0,label:"On"},Off:{id:1,label:"Off"},Toggle:{id:2,label:"Toggle"},Up:{id:3,label:"Up"},Down:{id:4,label:"Down"},Next:{id:5,label:"Next"},Previous:{id:6,label:"Previous"},EnterOkSelect:{id:7,label:"Enter/OK/Select"},Custom:{id:8,label:"Custom"}}});var U2=require("util");function N7(){ga.instrumentStruct=e=>(e.prototype[U2.inspect.custom]=function(){return{...this}},e),ga.instrumentList=e=>(t,n)=>(n[U2.inspect.custom]=function(){return[...this]},e(t,n))}N7();var hi=bs(require("crypto"),1);var D1=class extends qe{encrypt(t,n,i,r){let a=hi.createCipheriv(cw,t,i,{authTagLength:_y});r!==void 0&&a.setAAD(r,{plaintextLength:n.length});let s=a.update(n);return a.final(),we.concat(s,a.getAuthTag())}decrypt(t,n,i,r){let a=hi.createDecipheriv(cw,t,i,{authTagLength:_y}),s=n.length-_y;r!==void 0&&a.setAAD(r,{plaintextLength:s}),a.setAuthTag(n.slice(s));let c=a.update(n.slice(0,s));return a.final(),new Uint8Array(c)}getRandomData(t){return new Uint8Array(hi.randomBytes(t))}ecdhGeneratePublicKey(){let t=hi.createECDH(qy);return t.generateKeys(),{publicKey:new Uint8Array(t.getPublicKey()),ecdh:t}}ecdhGeneratePublicKeyAndSecret(t){let n=hi.createECDH(qy);return n.generateKeys(),{publicKey:new Uint8Array(n.getPublicKey()),sharedSecret:new Uint8Array(n.computeSecret(t))}}ecdhGenerateSecret(t,n){return new Uint8Array(n.computeSecret(t))}hash(t){let n=hi.createHash(Ml);return Array.isArray(t)?t.forEach(i=>n.update(i)):n.update(t),new Uint8Array(n.digest())}pbkdf2(t,n,i,r){return new Promise((a,s)=>{hi.pbkdf2(t,n,i,r,Ml,(c,l)=>{c!==null&&s(c),a(new Uint8Array(l))})})}hkdf(t,n,i,r=$y){return new Promise((a,s)=>{hi.hkdf(Ml,t,n,i,r,(c,l)=>{c!==null&&s(c),a(new Uint8Array(l))})})}hmac(t,n){let i=hi.createHmac(Ml,t);return i.update(n),new Uint8Array(i.digest())}sign(t,n,i="ieee-p1363"){let r=hi.createSign(Ml);return Array.isArray(n)?n.forEach(a=>r.update(a)):r.update(n),new Uint8Array(r.sign({key:t,format:"jwk",type:"pkcs8",dsaEncoding:i}))}verify(t,n,i,r="ieee-p1363"){let a=hi.createVerify(Ml);if(a.update(n),!a.verify({key:t,format:"jwk",type:"spki",dsaEncoding:r},i))throw new Al("Signature verification failed")}createKeyPair(){let t=hi.createECDH(qy);t.generateKeys();let n=new Uint8Array(lw),i=t.getPrivateKey();return n.set(i,lw-i.length),to(n,{publicKey:t.getPublicKey()})}};var P7=!0;try{qe.get().mock!==!0&&(P7=!1)}catch(e){$r.accept(e)}P7&&(qe.get=lm(()=>new D1));var V1=require("fs"),y0=require("path");var Tu=require("os");var k7=bs(require("dgram"),1);var wh=J.get("UdpChannelNode");function bH(e,t,n){let i=k7.createSocket(n);return new Promise((r,a)=>{let s=c=>{try{i.close()}catch(l){wh.debug("Error on closing socket",l)}a(c)};i.on("error",s),i.bind(t,e,()=>{let{address:c,port:l}=i.address();wh.debug("Socket created and bound ",fe.dict({remoteAddress:`${e}:${t}`,localAddress:`${c}:${l}`})),i.removeListener("error",s),i.on("error",d=>wh.error(d)),r(i)})})}var R1=class e{constructor(t,n,i){this.type=t,this.socket=n,this.netInterface=i}static async create({listeningPort:t,type:n,listeningAddress:i,netInterface:r,membershipAddresses:a}){let s={type:n,reuseAddr:!0};n==="udp6"&&(s.ipv6Only=!0);let c=await bH(i,t,s);c.setBroadcast(!0);let l;if(r!==void 0){l=wa.getNetInterfaceZoneIpv6(r);let d;if(n==="udp4"){if(d=wa.getMulticastInterfaceIpv4(r),d===void 0)throw new zr(`No IPv4 addresses on interface: ${r}`)}else{if(l===void 0)throw new zr(`No IPv6 addresses on interface: ${r}`);d=`::%${l}`}wh.debug("Initialize multicast",fe.dict({address:`${d}:${t}`,interface:r,type:n})),c.setMulticastInterface(d)}if(a!==void 0){let d=wa.getMembershipMulticastInterfaces(r,n==="udp4");for(let f of a)for(let g of d)try{c.addMembership(f,g)}catch(b){wh.warn(`Error adding membership for address ${f}${g?` with interface ${g}`:""}: ${b}`)}}return new e(n,c,l)}maxPayloadSize=1232;onData(t){let n=(i,{address:r,port:a})=>{let s=this.netInterface??wa.getNetInterfaceForIp(r);s!==void 0&&t(s,r,a,i)};return this.socket.on("message",n),{close:async()=>{this.socket.removeListener("message",n)}}}async send(t,n,i){return new Promise((r,a)=>{this.socket.send(i,n,t,s=>{if(s!==null){let c=s instanceof Error&&"code"in s&&s.code==="EHOSTUNREACH"?new Ur(s.message):new zr(s.message);c.stack=s.stack,a(c);return}r()})})}async close(){try{this.socket.close()}catch(t){wh.debug("Error on closing socket",t)}}get port(){return this.socket.address().port}supports(t,n){return t!==_n.UDP?!1:n===void 0?!0:this.type==="udp4"?Wr(n):Dr(n)}};var xH=J.get("NetworkNode"),wa=class e extends nr{static getMulticastInterfaceIpv4(t){let n=(0,Tu.networkInterfaces)()[t];if(n===void 0)throw new zr(`Unknown interface: ${t}`);for(let{address:i,family:r}of n)if(r==="IPv4")return i}static getMembershipMulticastInterfaces(t,n){if(n)return[void 0];{let i=Object.entries((0,Tu.networkInterfaces)());t!==void 0&&(i=i.filter(([a])=>a===t));let r=i.flatMap(([a,s])=>{if(s===void 0)return[];let c=this.getNetInterfaceZoneIpv6Internal(a,s);return c===void 0?[]:[`::%${c}`]});return r.length===0&&xH.warn(`No IPv6 multicast interface found${t!==void 0?` for interface ${t}`:""}.`),r}}static getNetInterfaceZoneIpv6(t){let n=(0,Tu.networkInterfaces)()[t];if(n===void 0)throw new zr(`Unknown interface: ${t}`);return this.getNetInterfaceZoneIpv6Internal(t,n)}static getNetInterfaceForIp(t){return this.netInterfaces.get(t)}static netInterfaces=new mm("Network interface",t=>this.getNetInterfaceForRemoteAddress(t),5*60*1e3);async close(){await e.netInterfaces.close()}static getNetInterfaceForRemoteAddress(t){if(t.includes("%"))return t.split("%")[1];{let n=(0,Tu.networkInterfaces)();for(let i in n){let r=n[i];for(let{address:a,netmask:s}of r)if(YI(t,a,s))return this.getNetInterfaceZoneIpv6Internal(i,r)}return Dr(t)&&t.startsWith("fd")?"":void 0}}static getNetInterfaceZoneIpv6Internal(t,n){if(process.platform!=="win32")return t;if(n!==void 0)return n.find(({address:i,family:r})=>r==="IPv6"&&i.startsWith("fe80::"))?.scopeid?.toString()}getNetInterfaces(t=[]){let n=new Array,i=(0,Tu.networkInterfaces)();for(let r in i){let a=i[r];if(a.length===0||a[0].internal)continue;let s=qf.Ethernet;if(t.length>0){let c=t.find(({name:l})=>r===l);c!==void 0&&c.type!==void 0&&(s=c.type)}n.push({name:r,type:s})}return n}getIpMac(t){let n=(0,Tu.networkInterfaces)()[t];if(n===void 0)return;let i=n.filter(({family:a})=>a==="IPv4").map(({address:a})=>a),r=n.filter(({family:a})=>a==="IPv6").map(({address:a})=>a);return{mac:n[0].mac,ipV4:i,ipV6:r}}createUdpChannel(t){return R1.create(t)}};var _7=bs(q7(),1);var B1=class extends _f{localStorage;isInitialized=!1;constructor(t,n=!1){super(),this.localStorage=new _7.LocalStorage(t),n&&this.clear()}get initialized(){return this.isInitialized}initialize(){this.isInitialized=!0}close(){this.isInitialized=!1}clear(){this.localStorage.clear()}getContextBaseKey(t,n=!1){let i=t.join(".");if(!i.length&&!n||i.includes("..")||i.startsWith(".")||i.endsWith("."))throw new hr("Context must not be an empty and not contain dots.");return i}buildStorageKey(t,n){if(!n.length)throw new hr("Key must not be an empty string.");return`${this.getContextBaseKey(t)}.${n}`}get(t,n){let i=this.localStorage.getItem(this.buildStorageKey(t,n));if(i!==null)return eg(i)}set(t,n,i){if(typeof n=="string")this.localStorage.setItem(this.buildStorageKey(t,n),$f(i));else for(let[r,a]of Object.entries(n))this.localStorage.setItem(this.buildStorageKey(t,r),$f(a))}delete(t,n){this.localStorage.removeItem(this.buildStorageKey(t,n))}keys(t){let n=this.getContextBaseKey(t),i=[],r=`${n}.`,a=r.length;for(let s of Object.keys(this.localStorage))s.startsWith(r)&&!s.includes(".",a)&&i.push(s.substring(a));return i}values(t){let n={};for(let i of this.keys(t))n[i]=this.get(t,i);return n}contexts(t){let n=this.getContextBaseKey(t,!0),i=n.length?`${n}.`:"",r=i.length,a=new Array;for(let s of Object.keys(this.localStorage))if(s.startsWith(i)){let c=s.substring(r).split(".");if(c.length===1)continue;let l=c[0];a.includes(l)||a.push(l)}return a}clearAll(t){let n=this.getContextBaseKey(t,!0),i=n.length?`${n}.`:"";for(let r of Object.keys(this.localStorage))r.startsWith(i)&&this.localStorage.removeItem(r)}};var $7=require("fs/promises"),W7=require("path");var U1=class e extends Mi{#e;#t;#n;constructor(t){super(),this.#e=t}static configure(t){t.vars.use(()=>{if(t.has(Mi)&&t.delete(t.get(Mi).constructor),!t.vars.boolean("trace.enable"))return;let n=(0,W7.resolve)(t.vars.get("path.root","."),t.vars.get("trace.path","trace.jsonl")),i=new e(n);t.set(Mi,i),t.runtime.add(i)})}[Symbol.asyncDispose](){Pe.then(this.#n,()=>this.#t?.close())}record(t){let n={...t,path:t.path?.toString(!1),mutations:t.mutations?t.mutations.map(i=>({...i,path:i.path.toString(!1)})):void 0};this.#n=Pe.then(this.#n,()=>this.#i(n))}async#i(t){this.#t===void 0&&(this.#t=await(0,$7.open)(this.#e,"w")),await this.#t.write(JSON.stringify(t,RH)),await this.#t.write(`
`)}};function RH(e,t){return typeof t=="bigint"||ArrayBuffer.isView(t)?si(t):t}var NH=J.get("ProcessManager"),p0=class{constructor(t){this.env=t,this.runtime=t.get(Da),this.runtime.started.on(this.startListener),this.runtime.stopped.on(this.stopListener),this.runtime.crashed.on(this.crashListener),this.hasUnhandledErrorSupport&&process.addListener("uncaughtExceptionMonitor",n=>{J.reportUnhandledError(n)})}runtime;#e=!1;close(){this.runtime.started.off(this.startListener),this.runtime.stopped.off(this.stopListener),this.runtime.crashed.off(this.crashListener),this.#t()}[Symbol.dispose](){this.close()}get hasSignalSupport(){return this.env.vars.get("runtime.signals",!0)}get hasExitCodeSupport(){return this.env.vars.get("runtime.exitcode",!0)}get hasUnhandledErrorSupport(){return this.env.vars.get("runtime.unhandlederrors",!0)}startListener=()=>{this.env.vars.use(()=>{if(this.hasSignalSupport){if(this.#e)return;process.on("SIGINT",this.interruptHandler),process.on("SIGTERM",this.interruptHandler),process.on("SIGUSR2",this.diagnosticHandler),process.on("exit",this.exitHandler)}else this.#t()})};stopListener=()=>{this.#t(),this.hasExitCodeSupport&&process.exitCode===void 0&&(process.exitCode=0)};crashListener=()=>{this.hasExitCodeSupport&&(process.exitCode=1)};interruptHandler=t=>{process.off(t,this.interruptHandler),this.runtime.cancel()};exitHandler=()=>{process.exitCode===13&&NH.error("Internal error: Premature process exit because ongoing work has stalled")};diagnosticHandler=()=>{this.env.diagnose()};#t(){this.#e&&(process.off("SIGINT",this.interruptHandler),process.off("SIGTERM",this.interruptHandler),process.off("SIGUSR2",this.diagnosticHandler),process.off("exit",this.exitHandler),this.#e=!1)}};function H7(){let e=new Rr("default");return PH(e),kH(e),FH(e),LH(e),!e.vars.has("logger.format")&&J.format===_i.PLAIN&&process.stdin?.isTTY&&e.vars.set("logger.format",_i.ANSI),U1.configure(e),e}function PH(e){let t=e.vars;t.addConfigStyle(VH(t)),t.addUnixEnvStyle(process.env),t.addArgvStyle(process.argv),t.addConfigStyle(BH(t)),t.addUnixEnvStyle(process.env),t.addArgvStyle(process.argv)}function kH(e){let t=new p0(e);e.set(p0,t)}function FH(e){let t=e.get(Rs);e.vars.use(()=>{let n=e.vars.get("storage.path",e.vars.get("path.root","."));t.location=n}),t.factory=n=>new B1((0,y0.resolve)(t.location??".",n),e.vars.get("storage.clear",!1))}function LH(e){e.set(nr,new wa)}function BH(e){let t=e.get("path.config","config.json");if(!(0,V1.existsSync)(t))return{};let n;try{n=(0,V1.readFileSync)(t).toString()}catch(r){throw new ce(`Error reading configuration file ${t}: ${r.message}`)}let i;try{i=JSON.parse(n)}catch(r){throw new ce(`Error parsing configuration file ${t}: ${r.message}`)}return i}function UH(e){let t;return process.platform==="win32"?t=(0,y0.resolve)(process.env.APPDATA??".","matter"):t=(0,y0.resolve)(process.env.HOME??".",".matter"),e!=="default"&&(t=`${t}-${e}`),t}function VH(e){let t=e.get("environment","default"),n=e.get("path.root",UH(t)),i=(0,y0.resolve)(n,e.get("path.config","config.json"));return{environment:t,path:{root:n,config:i},runtime:{signals:!0,exitcode:!0}}}Rr.default=H7();try{nr.get()}catch(e){$r.accept(e),nr.get=lm(()=>new wa),process.on("beforeExit",()=>void nr.get().close())}var Qc=de.for(zd.Cluster);var Sr=class extends Qc{};var g0;(e=>{e.TemperatureMeasurementServer=Sr,e.IdentifyServer=Ke,e.server={mandatory:{TemperatureMeasurement:e.TemperatureMeasurementServer,Identify:e.IdentifyServer}}})(g0||(g0={}));var qH=Ue({name:"TemperatureSensor",deviceType:770,deviceRevision:2,requirements:g0,behaviors:Be(g0.server.mandatory.TemperatureMeasurement,g0.server.mandatory.Identify)}),j7=qH;var q1=de.withInterface().for(id.Cluster);var Wo=class extends q1{};var Xi=de.withInterface().for(sd.Cluster);var Cn=class extends Xi{};var G7=de.withInterface().for(cd.Cluster);var Th=class extends G7{};var z7=de.withInterface().for(Ul.Cluster);var Ch=class extends z7{};var v0;(e=>{e.IdentifyServer=Ke,e.FanControlServer=Wo,e.GroupsServer=Cn,e.HepaFilterMonitoringServer=Th,e.ActivatedCarbonFilterMonitoringServer=Ch,e.server={mandatory:{Identify:e.IdentifyServer,FanControl:e.FanControlServer},optional:{Groups:e.GroupsServer,HepaFilterMonitoring:e.HepaFilterMonitoringServer,ActivatedCarbonFilterMonitoring:e.ActivatedCarbonFilterMonitoringServer}}})(v0||(v0={}));var syt=Ue({name:"AirPurifier",deviceType:45,deviceRevision:1,requirements:v0,behaviors:Be(v0.server.mandatory.Identify,v0.server.mandatory.FanControl)});var K7=de.for(Vl.Cluster);var _1=class extends K7{};var $1=de.for(Ud.Cluster);var rs=class extends $1{};var X7=de.for(yt(Kl.Base));var Sh=class extends X7{};var Y7=de.for(yt(zl.Base));var W1=class extends Y7{};var Z7=de.for(yt(Td.Base));var H1=class extends Z7{};var Q7=de.for(yt(Md.Base));var j1=class extends Q7{};var J7=de.for(yt(ad.Base));var G1=class extends J7{};var eE=de.for(yt(Od.Base));var z1=class extends eE{};var tE=de.for(yt(Dd.Base));var K1=class extends tE{};var nE=de.for(yt(Ed.Base));var X1=class extends nE{};var iE=de.for(yt(Fd.Base));var Y1=class extends iE{};var rE=de.for(yt(Qd.Base));var Z1=class extends rE{};var b0;(e=>{e.IdentifyServer=Ke,e.AirQualityServer=_1,e.TemperatureMeasurementServer=Sr,e.RelativeHumidityMeasurementServer=rs,e.CarbonMonoxideConcentrationMeasurementServer=Sh,e.CarbonDioxideConcentrationMeasurementServer=W1,e.NitrogenDioxideConcentrationMeasurementServer=H1,e.OzoneConcentrationMeasurementServer=j1,e.FormaldehydeConcentrationMeasurementServer=G1,e.Pm1ConcentrationMeasurementServer=z1,e.Pm25ConcentrationMeasurementServer=K1,e.Pm10ConcentrationMeasurementServer=X1,e.RadonConcentrationMeasurementServer=Y1,e.TotalVolatileOrganicCompoundsConcentrationMeasurementServer=Z1,e.server={mandatory:{Identify:e.IdentifyServer,AirQuality:e.AirQualityServer},optional:{TemperatureMeasurement:e.TemperatureMeasurementServer,RelativeHumidityMeasurement:e.RelativeHumidityMeasurementServer,CarbonMonoxideConcentrationMeasurement:e.CarbonMonoxideConcentrationMeasurementServer,CarbonDioxideConcentrationMeasurement:e.CarbonDioxideConcentrationMeasurementServer,NitrogenDioxideConcentrationMeasurement:e.NitrogenDioxideConcentrationMeasurementServer,OzoneConcentrationMeasurement:e.OzoneConcentrationMeasurementServer,FormaldehydeConcentrationMeasurement:e.FormaldehydeConcentrationMeasurementServer,Pm1ConcentrationMeasurement:e.Pm1ConcentrationMeasurementServer,Pm25ConcentrationMeasurement:e.Pm25ConcentrationMeasurementServer,Pm10ConcentrationMeasurement:e.Pm10ConcentrationMeasurementServer,RadonConcentrationMeasurement:e.RadonConcentrationMeasurementServer,TotalVolatileOrganicCompoundsConcentrationMeasurement:e.TotalVolatileOrganicCompoundsConcentrationMeasurementServer}}})(b0||(b0={}));var _gt=Ue({name:"AirQualitySensor",deviceType:44,deviceRevision:1,requirements:b0,behaviors:Be(b0.server.mandatory.Identify,b0.server.mandatory.AirQuality)});var Yi=de.withInterface().for(uo.Cluster);var _H=Yi.with(uo.Feature.Lighting),Pt=class extends _H{initialize(){if(this.features.lighting&&this.#n()!==ri.BootReason.SoftwareUpdateCompleted){let t=this.state.startUpOnOff??null,n=this.state.onOff;if(t!==null){let i=t===uo.StartUpOnOff.Toggle?!n:t===uo.StartUpOnOff.On;i!==n&&(this.state.onOff=i)}}}async[Symbol.asyncDispose](){this.internal.timedOnTimer?.stop(),this.internal.delayedOffTimer?.stop(),await super[Symbol.asyncDispose]?.()}on(){this.state.onOff=!0,this.features.lighting&&(this.timedOnTimer.isRunning||(this.delayedOffTimer.isRunning&&this.delayedOffTimer.stop(),this.state.offWaitTime=0))}off(){this.state.onOff=!1,this.features.lighting&&(this.timedOnTimer.isRunning&&(this.timedOnTimer.stop(),(this.state.offWaitTime??0)>0&&this.delayedOffTimer.start()),this.state.onTime=0)}toggle(){return this.state.onOff?this.off():this.on()}offWithEffect(){return this.state.globalSceneControl&&(this.state.globalSceneControl=!1),this.off()}onWithRecallGlobalScene(){if(!this.state.globalSceneControl)return this.state.globalSceneControl=!0,this.state.onTime===0&&(this.state.offWaitTime=0),this.on()}onWithTimedOff({onOffControl:t,offWaitTime:n,onTime:i}){if(!(t.acceptOnlyWhenOn&&!this.state.onOff)){if(this.delayedOffTimer.isRunning&&!this.state.onOff){this.state.offWaitTime=Math.min(n??0,this.state.offWaitTime??0);return}return this.state.onTime=Math.max(i??0,this.state.onTime??0),this.state.offWaitTime=n,this.state.onTime!==0&&this.state.offWaitTime!==0&&this.timedOnTimer.start(),this.on()}}get timedOnTimer(){let t=this.internal.timedOnTimer;return t===void 0&&(t=this.internal.timedOnTimer=Ne.getPeriodicTimer("Timed on",100,this.callback(this.#e))),t}async#e(){let t=(this.state.onTime??0)-1;t<=0&&(t=0,this.internal.timedOnTimer?.stop(),this.state.offWaitTime=0,await this.off()),this.state.onTime=t}get delayedOffTimer(){let t=this.internal.delayedOffTimer;return t===void 0&&(t=this.internal.delayedOffTimer=Ne.getTimer("Delayed off",100,this.callback(this.#t))),t}#t(){let t=(this.state.offWaitTime??0)-1;t<=0&&(t=0,this.internal.delayedOffTimer?.stop()),this.state.offWaitTime=t}#n(){let t=this.endpoint.ownerOfType(Oi);if(t!==void 0&&t.behaviors.has(Qr))return t.stateOf(Qr).bootReason}};(e=>{class t{timedOnTimer;delayedOffTimer}e.Internal=t})(Pt||(Pt={}));var Ih=de.withInterface().for(vd.Cluster);var Jc=class extends Ih{};var Ah=de.withInterface().for(ud.Cluster);var el=class extends Ah{};var Mh=de.for(eu.Cluster);var Eh=class extends Mh{};var Oh=de.withInterface().for(Xl.Cluster);var tl=class extends Oh{};var Dh=de.withInterface().for(jd.Cluster);var nl=class extends Dh{};var Rh=de.withInterface().for(gd.Cluster);var Nh=class extends Rh{};var Su=de.withInterface().for(yd.Cluster);var il=class extends Su{sleep(){this.events.enterLowPowerMode.emit()}};(e=>{class t extends Su.Events{enterLowPowerMode=ht()}e.Events=t})(il||(il={}));var Ph=de.withInterface().for($l.Cluster);var kh=class extends Ph{};var Fh=de.withInterface().for(Zl.Cluster);var Lh=class extends Fh{};var Q1=de.withInterface().for(bd.Cluster);var Bh=class extends Q1{};var Uh;(e=>{e.OnOffServer=Pt,e.MediaPlaybackServer=Jc,e.KeypadInputServer=el,e.WakeOnLanServer=Eh,e.ChannelServer=tl,e.TargetNavigatorServer=nl,e.MediaInputServer=Nh,e.LowPowerServer=il,e.AudioOutputServer=kh,e.ContentControlServer=Lh,e.MessagesServer=Bh,e.server={mandatory:{OnOff:e.OnOffServer,MediaPlayback:e.MediaPlaybackServer,KeypadInput:e.KeypadInputServer},optional:{WakeOnLan:e.WakeOnLanServer,Channel:e.ChannelServer,TargetNavigator:e.TargetNavigatorServer,MediaInput:e.MediaInputServer,LowPower:e.LowPowerServer,AudioOutput:e.AudioOutputServer,ContentControl:e.ContentControlServer,Messages:e.MessagesServer}}})(Uh||(Uh={}));var h1t=Ue({name:"BasicVideoPlayer",deviceType:40,deviceRevision:2,requirements:Uh,behaviors:Be(Uh.server.mandatory.OnOff,Uh.server.mandatory.MediaPlayback,Uh.server.mandatory.KeypadInput)});var J1=de.withInterface().for(Yl.Cluster);var eb=class extends J1{};var Vh=de.withInterface().for(Do.Cluster);var tb=de.for(ql.Cluster);var Ir=de.withInterface().for(Bi.Cluster);var qh=de.withInterface().for(_l.Cluster);var _h=de.withInterface().for(Ll.Cluster);var X2;(e=>{e.ContentAppObserverServer=eb,e.OnOffBehavior=Yi,e.KeypadInputBehavior=Ah,e.ContentLauncherBehavior=Vh,e.ApplicationBasicBehavior=tb,e.LevelControlBehavior=Ir,e.WakeOnLanBehavior=Mh,e.ChannelBehavior=Oh,e.TargetNavigatorBehavior=Dh,e.MediaPlaybackBehavior=Ih,e.MediaInputBehavior=Rh,e.LowPowerBehavior=Su,e.AudioOutputBehavior=Ph,e.ApplicationLauncherBehavior=qh,e.AccountLoginBehavior=_h,e.ContentControlBehavior=Fh,e.MessagesBehavior=Q1,e.server={optional:{ContentAppObserver:e.ContentAppObserverServer},mandatory:{}},e.client={mandatory:{OnOff:e.OnOffBehavior,KeypadInput:e.KeypadInputBehavior,ContentLauncher:e.ContentLauncherBehavior,ApplicationBasic:e.ApplicationBasicBehavior},optional:{LevelControl:e.LevelControlBehavior,WakeOnLan:e.WakeOnLanBehavior,Channel:e.ChannelBehavior,TargetNavigator:e.TargetNavigatorBehavior,MediaPlayback:e.MediaPlaybackBehavior,MediaInput:e.MediaInputBehavior,LowPower:e.LowPowerBehavior,AudioOutput:e.AudioOutputBehavior,ApplicationLauncher:e.ApplicationLauncherBehavior,AccountLogin:e.AccountLoginBehavior,ContentControl:e.ContentControlBehavior,Messages:e.MessagesBehavior}}})(X2||(X2={}));var ebt=Ue({name:"CastingVideoClient",deviceType:41,deviceRevision:2,requirements:X2,behaviors:Be()});var $h=class extends Vh{};var Wh=class extends qh{};var Hh=class extends _h{};var Iu;(e=>{e.OnOffServer=Pt,e.MediaPlaybackServer=Jc,e.KeypadInputServer=el,e.ContentLauncherServer=$h,e.WakeOnLanServer=Eh,e.ChannelServer=tl,e.TargetNavigatorServer=nl,e.MediaInputServer=Nh,e.LowPowerServer=il,e.AudioOutputServer=kh,e.ApplicationLauncherServer=Wh.with("ApplicationPlatform"),e.AccountLoginServer=Hh,e.ContentControlServer=Lh,e.MessagesServer=Bh,e.server={mandatory:{OnOff:e.OnOffServer,MediaPlayback:e.MediaPlaybackServer,KeypadInput:e.KeypadInputServer,ContentLauncher:e.ContentLauncherServer},optional:{WakeOnLan:e.WakeOnLanServer,Channel:e.ChannelServer,TargetNavigator:e.TargetNavigatorServer,MediaInput:e.MediaInputServer,LowPower:e.LowPowerServer,AudioOutput:e.AudioOutputServer,ApplicationLauncher:e.ApplicationLauncherServer,AccountLogin:e.AccountLoginServer,ContentControl:e.ContentControlServer,Messages:e.MessagesServer}}})(Iu||(Iu={}));var Sbt=Ue({name:"CastingVideoPlayer",deviceType:35,deviceRevision:2,requirements:Iu,behaviors:Be(Iu.server.mandatory.OnOff,Iu.server.mandatory.MediaPlayback,Iu.server.mandatory.KeypadInput,Iu.server.mandatory.ContentLauncher)});var rl=de.withInterface().for(Qe.Cluster);var Zi=de.withInterface().for($d.Cluster);var nb;(e=>{e.IdentifyServer=Ke,e.IdentifyBehavior=zi,e.OnOffBehavior=Yi,e.LevelControlBehavior=Ir,e.ColorControlBehavior=rl,e.GroupsBehavior=Xi,e.ScenesManagementBehavior=Zi,e.server={mandatory:{Identify:e.IdentifyServer}},e.client={mandatory:{Identify:e.IdentifyBehavior,OnOff:e.OnOffBehavior,LevelControl:e.LevelControlBehavior,ColorControl:e.ColorControlBehavior},optional:{Groups:e.GroupsBehavior,ScenesManagement:e.ScenesManagementBehavior}}})(nb||(nb={}));var _bt=Ue({name:"ColorDimmerSwitch",deviceType:261,deviceRevision:3,requirements:nb,behaviors:Be(nb.server.mandatory.Identify)});var oE=!1,Y2={1e3:{x:.652750055750174,y:.34446222719737},1010:{x:.651338820005714,y:.345710187476526},1020:{x:.64993006787286,y:.346948777634801},1030:{x:.648523859077325,y:.348177799899612},1040:{x:.647120247807274,y:.349397065326079},1050:{x:.645719283115238,y:.350606393540134},1060:{x:.644321009299518,y:.351805612493099},1070:{x:.642925466265835,y:.352994558226964},1080:{x:.64153268986994,y:.3541730746497},1090:{x:.640142712241891,y:.355341013319936},1100:{x:.638755562092687,y:.356498233240403},1110:{x:.637371265003916,y:.357644600659585},1120:{x:.63598984370109,y:.358779988881019},1130:{x:.634611318311292,y:.359904278079781},1140:{x:.633235706605755,y:.361017355125666},1150:{x:.631863024228,y:.362119113412632},1160:{x:.630493284908101,y:.363209452694114},1170:{x:.629126500663671,y:.36428827892381},1180:{x:.627762681988133,y:.365355504101598},1190:{x:.626401838026807,y:.366411046124246},1200:{x:.625043976741368,y:.367454828640607},1210:{x:.623689105063183,y:.368486780911013},1220:{x:.622337229036024,y:.369506837670598},1230:{x:.620988353948665,y:.370514938996308},1240:{x:.619642484457822,y:.371511030177355},1250:{x:.618299624701903,y:.372495061588915},1260:{x:.616959778406011,y:.37346698856886},1270:{x:.61562294897864,y:.374426771297343},1280:{x:.614289139600468,y:.375374374679072},1290:{x:.612958353305667,y:.376309768228112},1300:{x:.611630593056105,y:.377232925955066},1310:{x:.610305861808828,y:.378143826256513},1320:{x:.608984162577174,y:.379042451806574},1330:{x:.607665498485884,y:.379928789450492},1340:{x:.606349872820529,y:.380802830100132},1350:{x:.605037289071589,y:.381664568631302},1360:{x:.603727750973495,y:.38251400378281},1370:{x:.60242126253892,y:.383351138057187},1380:{x:.601117828088629,y:.384175977622988},1390:{x:.599817452277141,y:.384988532218637},1400:{x:.598520140114478,y:.385788815057729},1410:{x:.597225896984257,y:.386576842735756},1420:{x:.595934728658356,y:.387352635138207},1430:{x:.594646641308391,y:.38811621535},1440:{x:.59336164151423,y:.38886760956621},1450:{x:.592079736269747,y:.389606847004059},1460:{x:.590800932986013,y:.390333959816145},1470:{x:.589525239492135,y:.391048983004883},1480:{x:.588252664033903,y:.391751954338129},1490:{x:.586983215270435,y:.392442914265982},1500:{x:.585716902268969,y:.393121905838739},1510:{x:.584453734497981,y:.393788974625991},1520:{x:.583193721818756,y:.394444168636845},1530:{x:.581936874475565,y:.395087538241273},1540:{x:.580683203084578,y:.395719136092572},1550:{x:.579432718621644,y:.396339017050928},1560:{x:.578185432409047,y:.396947238108083},1570:{x:.576941356101364,y:.397543858313098},1580:{x:.575700501670519,y:.398128938699214},1590:{x:.574462881390147,y:.398702542211806},1600:{x:.573228507819347,y:.39926473363742},1610:{x:.571997393785926,y:.399815579533917},1620:{x:.570769552369208,y:.400355148161688},1630:{x:.569544996882493,y:.400883509415978},1640:{x:.568323740855237,y:.401400734760292},1650:{x:.567105798015014,y:.401906897160888},1660:{x:.565891182269338,y:.402402071022378},1670:{x:.564679907687394,y:.402886332124401},1680:{x:.563471988481735,y:.403359757559409},1690:{x:.562267438989995,y:.403822425671539},1700:{x:.561066273656675,y:.40427441599657},1710:{x:.559868507015037,y:.404715809202991},1720:{x:.558674153669138,y:.405146687034153},1730:{x:.557483228276071,y:.405567132251513},1740:{x:.556295745528408,y:.405977228578975},1750:{x:.555111720136911,y:.406377060648321},1760:{x:.553931166813512,y:.40676671394573},1770:{x:.552754100254617,y:.407146274759384},1780:{x:.55158053512472,y:.407515830128156},1790:{x:.550410486040386,y:.407875467791389},1800:{x:.54924396755459,y:.408225276139745},1810:{x:.548080994141461,y:.40856534416712},1820:{x:.5469215801814,y:.408895761423654},1830:{x:.545765739946639,y:.409216617969775},1840:{x:.544613487587208,y:.409528004331327},1850:{x:.543464837117342,y:.409830011455734},1860:{x:.542319802402326,y:.410122730669222},1870:{x:.541178397145793,y:.410406253635074},1880:{x:.540040634877467,y:.410680672312926},1890:{x:.538906528941369,y:.410946078919076},1900:{x:.537776092484472,y:.411202565887823},1910:{x:.53664933844583,y:.411450225833805},1920:{x:.535526279546149,y:.411689151515339},1930:{x:.534406928277829,y:.411919435798755},1940:{x:.533291296895457,y:.412141171623705},1950:{x:.532179397406758,y:.412354451969443},1960:{x:.53107124156399,y:.412559369822065},1970:{x:.529966840855793,y:.412756018142703},1980:{x:.52886620649948,y:.412944489836645},1990:{x:.527769349433755,y:.413124877723394},2e3:{x:.526676280311873,y:.41329727450763},2010:{x:.52558700949522,y:.413461772751086},2020:{x:.524501547047308,y:.413618464845305},2030:{x:.523419902728187,y:.413767442985273},2040:{x:.522342085989252,y:.413908799143933},2050:{x:.521268105968449,y:.414042625047528},2060:{x:.520197971485871,y:.414169012151805},2070:{x:.519131691039726,y:.414288051619026},2080:{x:.518069272802678,y:.414399834295808},2090:{x:.51701072461855,y:.41450445069175},2100:{x:.515956053999373,y:.414601990958848},2110:{x:.514905268122789,y:.414692544871688},2120:{x:.513858373829776,y:.414776201808388},2130:{x:.512815377622702,y:.414853050732289},2140:{x:.511776285663697,y:.414923180174373},2150:{x:.510741103773325,y:.414986678216401},2160:{x:.509709837429556,y:.415043632474748},2170:{x:.508682491767023,y:.415094130084932},2180:{x:.507659071576558,y:.415138257686807},2190:{x:.506639581304996,y:.415176101410431},2200:{x:.505624025055233,y:.415207746862562},2210:{x:.504612406586543,y:.415233279113804},2220:{x:.50360472931513,y:.415252782686356},2230:{x:.502600996314909,y:.415266341542373},2240:{x:.501601210318512,y:.41527403907292},2250:{x:.500605373718514,y:.415275958087495},2260:{x:.499613488568853,y:.415272180804119},2270:{x:.498625556586457,y:.415262788839981},2280:{x:.497641579153048,y:.415247863202608},2290:{x:.496661557317139,y:.415227484281571},2300:{x:.495685491796189,y:.415201731840687},2310:{x:.494713382978936,y:.415170685010734},2320:{x:.49374523092787,y:.415134422282633},2330:{x:.492781035381868,y:.415093021501115},2340:{x:.491820795758963,y:.415046559858839},2350:{x:.490864511159246,y:.414995113890958},2360:{x:.489912180367896,y:.414938759470118},2370:{x:.488963801858331,y:.414877571801882},2380:{x:.488019373795462,y:.414811625420557},2390:{x:.48707889403907,y:.41474099418543},2400:{x:.486142360147258,y:.414665751277374},2410:{x:.485209769380024,y:.414585969195845},2420:{x:.484281118702893,y:.41450171975623},2430:{x:.483356404790651,y:.414413074087558},2440:{x:.482435624031141,y:.41432010263054},2450:{x:.481518772529133,y:.414222875135951},2460:{x:.480605846110259,y:.414121460663327},2470:{x:.479696840325004,y:.414015927579967},2480:{x:.478791750452749,y:.413906343560247},2490:{x:.477890571505866,y:.413792775585208},2500:{x:.476993298233858,y:.413675289942435},2510:{x:.476099925127525,y:.413553952226202},2520:{x:.475210446423188,y:.413428827337877},2530:{x:.474324856106916,y:.413299979486579},2540:{x:.473443147918802,y:.413167472190078},2550:{x:.472565315357245,y:.413031368275923},2560:{x:.471691351683258,y:.412891729882807},2570:{x:.470821249924792,y:.412748618462133},2580:{x:.469955002881062,y:.412602094779799},2590:{x:.469092603126886,y:.412452218918178},2600:{x:.468234043017033,y:.41229905027829},2610:{x:.46737931469056,y:.412142647582159},2620:{x:.466528410075157,y:.411983068875347},2630:{x:.465681320891482,y:.411820371529656},2640:{x:.464838038657489,y:.411654612245991},2650:{x:.463998554692746,y:.411485847057383},2660:{x:.463162860122743,y:.411314131332149},2670:{x:.462330945883173,y:.411139519777208},2680:{x:.461502802724214,y:.41096206644152},2690:{x:.460678421214773,y:.410781824719658},2700:{x:.459857791746717,y:.410598847355503},2710:{x:.459040904539081,y:.410413186446054},2720:{x:.458227749642249,y:.410224893445347},2730:{x:.457418316942099,y:.410034019168485},2740:{x:.456612596164132,y:.409840613795755},2750:{x:.455810576877562,y:.409644726876854},2760:{x:.455012248499377,y:.409446407335191},2770:{x:.45421760029836,y:.40924570347228},2780:{x:.453426621399085,y:.409042662972206},2790:{x:.452639300785869,y:.408837332906172},2800:{x:.451855627306685,y:.408629759737106},2810:{x:.451075589677048,y:.408419989324343},2820:{x:.450299176483844,y:.408208066928357},2830:{x:.449526376189136,y:.407994037215556},2840:{x:.448757177133914,y:.407777944263126},2850:{x:.447991567541816,y:.407559831563923},2860:{x:.447229535522791,y:.407339742031414},2870:{x:.446471069076735,y:.407117718004646},2880:{x:.445716156097067,y:.406893801253269},2890:{x:.444964784374273,y:.406668032982576},2900:{x:.444216941599399,y:.406440453838584},2910:{x:.443472615367494,y:.406211103913138},2920:{x:.442731793181017,y:.405980022749035},2930:{x:.441994462453189,y:.405747249345174},2940:{x:.441260610511305,y:.405512822161723},2950:{x:.440530224599989,y:.405276779125295},2960:{x:.439803291884415,y:.405039157634144},2970:{x:.439079799453468,y:.404799994563365},2980:{x:.438359734322871,y:.404559326270101},2990:{x:.437643083438248,y:.404317188598758},3e3:{x:.436929833678155,y:.404073616886221},3010:{x:.436219971857052,y:.403828645967064},3020:{x:.435513484728235,y:.403582310178768},3030:{x:.434810358986718,y:.403334643366923},3040:{x:.434110581272061,y:.403085678890438},3050:{x:.433414138171168,y:.402835449626724},3060:{x:.432721016221012,y:.402583987976887},3070:{x:.43203120191134,y:.402331325870893},3080:{x:.431344681687312,y:.402077494772728},3090:{x:.4306614419521,y:.401822525685539},3100:{x:.429981469069442,y:.401566449156763},3110:{x:.429304749366147,y:.401309295283229},3120:{x:.428631269134558,y:.401051093716253},3130:{x:.427961014634963,y:.400791873666696},3140:{x:.427293972097967,y:.400531663910017},3150:{x:.426630127726814,y:.400270492791288},3160:{x:.425969467699671,y:.400008388230194},3170:{x:.425311978171859,y:.399745377726},3180:{x:.424657645278049,y:.399481488362498},3190:{x:.424006455134406,y:.399216746812922},3200:{x:.423358393840696,y:.398951179344833},3210:{x:.422713447482352,y:.39868481182498},3220:{x:.422071602132489,y:.398417669724122},3230:{x:.421432843853882,y:.39814977812183},3240:{x:.420797158700909,y:.397881161711245},3250:{x:.42016453272144,y:.39761184480381},3260:{x:.419534951958697,y:.397341851333969},3270:{x:.418908402453069,y:.397071204863828},3280:{x:.418284870243884,y:.396799928587787},3290:{x:.41766434137115,y:.396528045337128},3300:{x:.417046801877253,y:.396255577584578},3310:{x:.416432237808611,y:.395982547448827},3320:{x:.415820635217303,y:.395708976699012},3330:{x:.415211980162654,y:.395434886759171},3340:{x:.414606258712775,y:.395160298712644},3350:{x:.414003456946084,y:.394885233306455},3360:{x:.41340356095278,y:.394609710955639},3370:{x:.41280655683628,y:.394333751747546},3380:{x:.412212430714629,y:.39405737544609},3390:{x:.411621168721873,y:.393780601495975},3400:{x:.411032757009395,y:.393503449026874},3410:{x:.410447181747219,y:.393225936857565},3420:{x:.409864429125286,y:.392948083500039},3430:{x:.409284485354692,y:.392669907163558},3440:{x:.408707336668894,y:.39239142575868},3450:{x:.408132969324891,y:.39211265690124},3460:{x:.407561369604368,y:.391833617916295},3470:{x:.406992523814813,y:.391554325842027},3480:{x:.406426418290599,y:.391274797433607},3490:{x:.405863039394048,y:.390995049167019},3500:{x:.405302373516452,y:.390715097242847},3510:{x:.404744407079075,y:.390434957590016},3520:{x:.404189126534126,y:.390154645869498},3530:{x:.403636518365702,y:.389874177477982},3540:{x:.403086569090702,y:.389593567551495},3550:{x:.402539265259722,y:.389312830968992},3560:{x:.401994593457919,y:.389031982355903},3570:{x:.401452540305847,y:.388751036087639},3580:{x:.400913092460274,y:.388470006293066},3590:{x:.400376236614968,y:.388188906857933},3600:{x:.399841959501467,y:.387907751428262},3610:{x:.399310247889814,y:.387626553413704},3620:{x:.398781088589278,y:.387345325990855},3630:{x:.398254468449049,y:.387064082106531},3640:{x:.397730374358909,y:.386782834481003},3650:{x:.397208793249882,y:.386501595611205},3660:{x:.396689712094866,y:.386220377773894},3670:{x:.396173117909235,y:.385939193028774},3680:{x:.395658997751428,y:.385658053221589},3690:{x:.395147338723516,y:.385376969987172},3700:{x:.394638127971748,y:.38509595475246},3710:{x:.394131352687072,y:.384815018739475},3720:{x:.393627000105649,y:.384534172968266},3730:{x:.393125057509339,y:.384253428259816},3740:{x:.392625512226168,y:.383972795238911},3750:{x:.392128351630781,y:.383692284336979},3760:{x:.391633563144876,y:.383411905794889},3770:{x:.391141134237623,y:.383131669665717},3780:{x:.390651052426057,y:.382851585817475},3790:{x:.390163305275465,y:.382571663935814},3800:{x:.389677880399752,y:.382291913526683},3810:{x:.389194765461792,y:.382012343918955},3820:{x:.388713948173757,y:.38173296426703},3830:{x:.388235416297444,y:.381453783553394},3840:{x:.387759157644574,y:.38117481059115},3850:{x:.387285160077084,y:.380896054026513},3860:{x:.386813411507402,y:.380617522341278},3870:{x:.386343899898705,y:.380339223855255},3880:{x:.385876613265173,y:.380061166728665},3890:{x:.385411539672215,y:.379783358964516},3900:{x:.384948667236696,y:.37950580841094},3910:{x:.384487984127144,y:.3792285227635},3920:{x:.384029478563943,y:.378951509567474},3930:{x:.383573138819519,y:.378674776220096},3940:{x:.383118953218507,y:.37839832997278},3950:{x:.382666910137919,y:.378122177933306},3960:{x:.382216998007281,y:.377846327067982},3970:{x:.38176920530878,y:.377570784203772},3980:{x:.381323520577382,y:.377295556030402},3990:{x:.380879932400953,y:.377020649102431},4e3:{x:.380438429420364,y:.376746069841299},4010:{x:.379999000329579,y:.376471824537343},4020:{x:.379561633875749,y:.376197919351794},4030:{x:.37912631885928,y:.375924360318735},4040:{x:.378693044133903,y:.37565115334704},4050:{x:.378261798606731,y:.375378304222286},4060:{x:.377832571238301,y:.37510581860864},4070:{x:.377405351042622,y:.374833702050712},4080:{x:.376980127087195,y:.374561959975396},4090:{x:.376556888493043,y:.37429059769367},4100:{x:.376135624434723,y:.374019620402386},4110:{x:.37571632414033,y:.373749033186026},4120:{x:.375298976891495,y:.373478841018437},4130:{x:.37488357202338,y:.373209048764539},4140:{x:.374470098924658,y:.372939661182012},4150:{x:.374058547037489,y:.372670682922962},4160:{x:.373648905857491,y:.372402118535558},4170:{x:.373241164933703,y:.372133972465647},4180:{x:.372835313868541,y:.371866249058352},4190:{x:.372431342317747,y:.371598952559641},4200:{x:.372029239990332,y:.371332087117875},4210:{x:.371628996648516,y:.371065656785341},4220:{x:.371230602107658,y:.370799665519753},4230:{x:.37083404623618,y:.370534117185738},4240:{x:.370439318955492,y:.370269015556301},4250:{x:.370046410239904,y:.370004364314267},4260:{x:.369655310116535,y:.369740167053704},4270:{x:.369266008665223,y:.369476427281325},4280:{x:.368878496018416,y:.369213148417869},4290:{x:.368492762361075,y:.368950333799466},4300:{x:.368108797930561,y:.368687986678976},4310:{x:.36772659301652,y:.36842611022732},4320:{x:.367346137960767,y:.368164707534776},4330:{x:.36696742315716,y:.36790378161227},4340:{x:.366590439051477,y:.367643335392644},4350:{x:.366215176141282,y:.367383371731904},4360:{x:.36584162497579,y:.36712389341045},4370:{x:.365469776155733,y:.366864903134292},4380:{x:.365099620333213,y:.366606403536243},4390:{x:.364731148211558,y:.366348397177103},4400:{x:.364364350545175,y:.366090886546814},4410:{x:.363999218139393,y:.365833874065608},4420:{x:.363635741850315,y:.365577362085137},4430:{x:.363273912584652,y:.365321352889581},4440:{x:.362913721299567,y:.365065848696745},4450:{x:.362555159002508,y:.36481085165914},4460:{x:.362198216751042,y:.364556363865043},4470:{x:.361842885652686,y:.36430238733955},4480:{x:.361489156864733,y:.364048924045607},4490:{x:.36113702159408,y:.363795975885023},4500:{x:.360786471097048,y:.363543544699483},4510:{x:.360437496679207,y:.363291632271526},4520:{x:.36009008969519,y:.363040240325526},4530:{x:.359744241548512,y:.362789370528647},4540:{x:.359399943691386,y:.362539024491787},4550:{x:.35905718762453,y:.362289203770517},4560:{x:.358715964896985,y:.36203990986599},4570:{x:.35837626710592,y:.361791144225849},4580:{x:.358038085896437,y:.361542908245116},4590:{x:.357701412961382,y:.361295203267073},4600:{x:.357366240041146,y:.361048030584121},4610:{x:.357032558923467,y:.360801391438638},4620:{x:.356700361443233,y:.360555287023811},4630:{x:.356369639482281,y:.360309718484469},4640:{x:.356040384969197,y:.360064686917893},4650:{x:.355712589879109,y:.359820193374621},4660:{x:.35538624623349,y:.359576238859237},4670:{x:.355061346099949,y:.359332824331149},4680:{x:.354737881592023,y:.359089950705356},4690:{x:.354415844868975,y:.358847618853204},4700:{x:.354095228135586,y:.358605829603133},4710:{x:.353776023641942,y:.358364583741404},4720:{x:.353458223683228,y:.358123882012824},4730:{x:.353141820599519,y:.357883725121459},4740:{x:.352826806775565,y:.357644113731333},4750:{x:.352513174640586,y:.357405048467119},4760:{x:.35220091666805,y:.357166529914816},4770:{x:.351890025375474,y:.356928558622422},4780:{x:.351580493324198,y:.356691135100592},4790:{x:.351272313119179,y:.356454259823288},4800:{x:.350965477408777,y:.356217933228418},4810:{x:.350659978884535,y:.355982155718466},4820:{x:.350355810280973,y:.355746927661114},4830:{x:.350052964375366,y:.355512249389855},4840:{x:.349751433987532,y:.355278121204588},4850:{x:.349451211979616,y:.355044543372218},4860:{x:.349152291255876,y:.35481151612724},4870:{x:.348854664762465,y:.354579039672309},4880:{x:.348558325487217,y:.35434711417881},4890:{x:.348263266459433,y:.354115739787415},4900:{x:.347969480749661,y:.353884916608634},4910:{x:.347676961469483,y:.353654644723354},4920:{x:.3473857017713,y:.353424924183371},4930:{x:.347095694848114,y:.353195755011921},4940:{x:.346806933933317,y:.352967137204187},4950:{x:.346519412300469,y:.352739070727817},4960:{x:.346233123263089,y:.352511555523418},4970:{x:.345948060174438,y:.352284591505058},4980:{x:.345664216427301,y:.352058178560741},4990:{x:.345381585453779,y:.351832316552895},5e3:{x:.345100160725069,y:.35160700531884},5010:{x:.344819935751253,y:.35138224467125},5020:{x:.344540904081086,y:.351158034398612},5030:{x:.344263059301778,y:.350934374265679},5040:{x:.343986395038783,y:.350711264013907},5050:{x:.343710904955591,y:.350488703361895},5060:{x:.34343658275351,y:.350266692005812},5070:{x:.343163422171456,y:.350045229619827},5080:{x:.342891416985746,y:.349824315856515},5090:{x:.34262056100988,y:.349603950347275},5100:{x:.342350848094336,y:.349384132702732},5110:{x:.342082272126361,y:.349164862513132},5120:{x:.341814827029758,y:.348946139348737},5130:{x:.34154850676468,y:.348727962760208},5140:{x:.341283305327422,y:.348510332278986},5150:{x:.341019216750211,y:.348293247417664},5160:{x:.340756235101003,y:.348076707670355},5170:{x:.340494354483275,y:.347860712513058},5180:{x:.340233569035817,y:.347645261404009},5190:{x:.339973872932533,y:.347430353784033},5200:{x:.339715260382228,y:.347215989076895},5210:{x:.339457725628414,y:.347002166689633},5220:{x:.339201262949099,y:.346788886012898},5230:{x:.33894586665659,y:.346576146421281},5240:{x:.338691531097289,y:.346363947273638},5250:{x:.338438250651491,y:.346152287913411},5260:{x:.338186019733187,y:.345941167668941},5270:{x:.337934832789862,y:.34573058585378},5280:{x:.337684684302299,y:.345520541766991},5290:{x:.337435568784377,y:.345311034693453},5300:{x:.337187480782876,y:.345102063904155},5310:{x:.336940414877284,y:.344893628656486},5320:{x:.336694365679595,y:.344685728194521},5330:{x:.336449327834117,y:.344478361749302},5340:{x:.336205296017281,y:.34427152853912},5350:{x:.335962264937442,y:.344065227769781},5360:{x:.335720229334691,y:.34385945863488},5370:{x:.335479183980662,y:.343654220316063},5380:{x:.335239123678341,y:.343449511983289},5390:{x:.335000043261875,y:.343245332795082},5400:{x:.334761937596386,y:.343041681898789},5410:{x:.334524801577778,y:.342838558430825},5420:{x:.334288630132555,y:.342635961516917},5430:{x:.33405341821763,y:.342433890272344},5440:{x:.33381916082014,y:.342232343802175},5450:{x:.333585852957265,y:.342031321201502},5460:{x:.333353489676037,y:.341830821555668},5470:{x:.333122066053165,y:.341630843940493},5480:{x:.332891577194843,y:.341431387422495},5490:{x:.33266201823658,y:.341232451059109},5500:{x:.332433384343009,y:.341034033898904},5510:{x:.332205670707715,y:.34083613498179},5520:{x:.331978872553048,y:.34063875333923},5530:{x:.331752985129957,y:.340441887994442},5540:{x:.3315280037178,y:.340245537962605},5550:{x:.331303923624177,y:.340049702251049},5560:{x:.331080740184751,y:.339854379859459},5570:{x:.330858448763073,y:.339659569780063},5580:{x:.330637044750413,y:.339465270997818},5590:{x:.330416523565582,y:.339271482490602},5600:{x:.330196880654761,y:.339078203229392},5610:{x:.329978111491335,y:.338885432178446},5620:{x:.329760211575718,y:.338693168295479},5630:{x:.329543176435188,y:.338501410531837},5640:{x:.329327001623714,y:.338310157832671},5650:{x:.329111682721794,y:.338119409137101},5660:{x:.328897215336285,y:.337929163378386},5670:{x:.32868359510024,y:.337739419484084},5680:{x:.328470817672741,y:.337550176376214},5690:{x:.328258878738739,y:.337361432971415},5700:{x:.328047774008889,y:.337173188181098},5710:{x:.327837499219387,y:.3369854409116},5720:{x:.32762805013181,y:.336798190064338},5730:{x:.32741942253296,y:.33661143453595},5740:{x:.327211612234699,y:.336425173218445},5750:{x:.327004615073793,y:.336239404999346},5760:{x:.326798426911756,y:.336054128761828},5770:{x:.326593043634692,y:.335869343384858},5780:{x:.326388461153141,y:.33568504774333},5790:{x:.326184675401921,y:.3355012407082},5800:{x:.325981682339978,y:.335317921146619},5810:{x:.325779477950234,y:.335135087922056},5820:{x:.325578058239428,y:.334952739894432},5830:{x:.325377419237973,y:.334770875920243},5840:{x:.325177556999802,y:.334589494852681},5850:{x:.324978467602219,y:.334408595541759},5860:{x:.324780147145748,y:.334228176834424},5870:{x:.324582591753991,y:.33404823757468},5880:{x:.324385797573479,y:.333868776603699},5890:{x:.324189760773522,y:.333689792759937},5900:{x:.323994477546069,y:.333511284879243},5910:{x:.323799944105563,y:.333333251794967},5920:{x:.323606156688797,y:.33315569233807},5930:{x:.32341311155477,y:.332978605337232},5940:{x:.323220804984549,y:.332801989618949},5950:{x:.323029233281125,y:.33262584400764},5960:{x:.322838392769274,y:.332450167325745},5970:{x:.322648279795422,y:.332274958393826},5980:{x:.322458890727498,y:.332100216030663},5990:{x:.322270221954808,y:.331925939053347},6e3:{x:.322082269887888,y:.331752126277376},6010:{x:.321895030958374,y:.331578776516748},6020:{x:.321708501618868,y:.331405888584047},6030:{x:.321522678342801,y:.331233461290538},6040:{x:.3213375576243,y:.331061493446248},6050:{x:.32115313597806,y:.330889983860056},6060:{x:.320969409939206,y:.330718931339777},6070:{x:.320786376063166,y:.330548334692243},6080:{x:.320604030925542,y:.330378192723386},6090:{x:.32042237112198,y:.330208504238316},6100:{x:.32024139326804,y:.330039268041404},6110:{x:.320061093999071,y:.329870482936352},6120:{x:.319881469970083,y:.329702147726276},6130:{x:.319702517855622,y:.329534261213777},6140:{x:.319524234349642,y:.329366822201013},6150:{x:.319346616165388,y:.329199829489774},6160:{x:.319169660035263,y:.32903328188155},6170:{x:.318993362710712,y:.328867178177603},6180:{x:.3188177209621,y:.328701517179031},6190:{x:.318642731578585,y:.32853629768684},6200:{x:.318468391368004,y:.328371518502004},6210:{x:.318294697156752,y:.328207178425535},6220:{x:.31812164578966,y:.328043276258542},6230:{x:.31794923412988,y:.327879810802294},6240:{x:.317777459058767,y:.327716780858286},6250:{x:.317606317475763,y:.32755418522829},6260:{x:.317435806298278,y:.32739202271442},6270:{x:.317265922461579,y:.327230292119189},6280:{x:.317096662918675,y:.327068992245565},6290:{x:.316928024640201,y:.326908121897025},6300:{x:.316760004614306,y:.326747679877612},6310:{x:.316592599846543,y:.326587664991987},6320:{x:.316425807359756,y:.326428076045483},6330:{x:.316259624193968,y:.326268911844154},6340:{x:.316094047406274,y:.326110171194829},6350:{x:.315929074070729,y:.325951852905159},6360:{x:.315764701278241,y:.325793955783666},6370:{x:.315600926136464,y:.325636478639792},6380:{x:.315437745769688,y:.325479420283945},6390:{x:.315275157318735,y:.325322779527545},6400:{x:.315113157940854,y:.325166555183068},6410:{x:.314951744809611,y:.325010746064094},6420:{x:.314790915114793,y:.324855350985344},6430:{x:.314630666062295,y:.324700368762729},6440:{x:.314470994874025,y:.324545798213387},6450:{x:.314311898787797,y:.324391638155726},6460:{x:.314153375057231,y:.324237887409465},6470:{x:.31399542095165,y:.324084544795669},6480:{x:.313838033755984,y:.323931609136792},6490:{x:.313681210770667,y:.323779079256713},6500:{x:.313524949311538,y:.323626953980771},6510:{x:.313369246709745,y:.323475232135805},6520:{x:.313214100311644,y:.323323912550187},6530:{x:.313059507478705,y:.323172994053855},6540:{x:.312905465587415,y:.323022475478352},6550:{x:.31275197202918,y:.322872355656855},6560:{x:.312599024210234,y:.322722633424208},6570:{x:.312446619551539,y:.322573307616957},6580:{x:.312294755488698,y:.322424377073377},6590:{x:.312143429471856,y:.322275840633505},6600:{x:.311992638965609,y:.322127697139172},6610:{x:.311842381448913,y:.321979945434026},6620:{x:.311692654414993,y:.321832584363568},6630:{x:.31154345537125,y:.321685612775174},6640:{x:.311394781839175,y:.321539029518129},6650:{x:.311246631354252,y:.321392833443645},6660:{x:.311099001465878,y:.321247023404895},6670:{x:.310951889737268,y:.321101598257035},6680:{x:.31080529374537,y:.320956556857231},6690:{x:.310659211080778,y:.320811898064682},6700:{x:.310513639347644,y:.320667620740643},6710:{x:.310368576163594,y:.320523723748453},6720:{x:.310224019159638,y:.320380205953551},6730:{x:.310079965980093,y:.320237066223504},6740:{x:.309936414282491,y:.320094303428028},6750:{x:.309793361737498,y:.319951916439007},6760:{x:.309650806028835,y:.319809904130516},6770:{x:.309508744853186,y:.319668265378839},6780:{x:.309367175920125,y:.319526999062492},6790:{x:.309226096952031,y:.31938610406224},6800:{x:.309085505684005,y:.319245579261116},6810:{x:.308945399863794,y:.319105423544441},6820:{x:.308805777251706,y:.318965635799842},6830:{x:.308666635620536,y:.318826214917265},6840:{x:.308527972755481,y:.318687159788999},6850:{x:.308389786454069,y:.318548469309687},6860:{x:.308252074526075,y:.318410142376346},6870:{x:.308114834793446,y:.318272177888381},6880:{x:.307978065090227,y:.3181345747476},6890:{x:.307841763262478,y:.317997331858229},6900:{x:.307705927168207,y:.317860448126929},6910:{x:.307570554677287,y:.317723922462805},6920:{x:.307435643671386,y:.317587753777427},6930:{x:.307301192043892,y:.317451940984837},6940:{x:.307167197699838,y:.317316483001564},6950:{x:.30703365855583,y:.317181378746639},6960:{x:.306900572539974,y:.317046627141604},6970:{x:.306767937591803,y:.316912227110525},6980:{x:.306635751662207,y:.316778177580004},6990:{x:.306504012713361,y:.316644477479192},7e3:{x:.306372718718652,y:.316511125739794},7010:{x:.306241867662613,y:.316378121296087},7020:{x:.306111457540851,y:.316245463084923},7030:{x:.305981486359977,y:.316113150045747},7040:{x:.305851952137536,y:.315981181120599},7050:{x:.305722852901944,y:.315849555254126},7060:{x:.305594186692414,y:.315718271393593},7070:{x:.305465951558892,y:.315587328488887},7080:{x:.305338145561988,y:.315456725492532},7090:{x:.305210766772912,y:.315326461359691},7100:{x:.305083813273404,y:.315196535048174},7110:{x:.304957283155673,y:.315066945518451},7120:{x:.304831174522328,y:.314937691733654},7130:{x:.304705485486314,y:.314808772659583},7140:{x:.304580214170851,y:.31468018726472},7150:{x:.304455358709365,y:.314551934520226},7160:{x:.304330917245426,y:.314424013399953},7170:{x:.304206887932689,y:.314296422880449},7180:{x:.304083268934824,y:.314169161940962},7190:{x:.303960058425462,y:.314042229563446},7200:{x:.303837254588126,y:.313915624732567},7210:{x:.303714855616174,y:.313789346435707},7220:{x:.303592859712737,y:.313663393662969},7230:{x:.303471265090658,y:.313537765407179},7240:{x:.303350069972432,y:.313412460663896},7250:{x:.303229272590146,y:.313287478431408},7260:{x:.30310887118542,y:.313162817710744},7270:{x:.302988864009348,y:.313038477505671},7280:{x:.30286924932244,y:.312914456822699},7290:{x:.302750025394565,y:.312790754671087},7300:{x:.302631190504886,y:.31266737006284},7310:{x:.302512742941815,y:.31254430201272},7320:{x:.302394681002945,y:.312421549538238},7330:{x:.302277002994998,y:.312299111659668},7340:{x:.302159707233771,y:.312176987400037},7350:{x:.302042792044074,y:.312055175785137},7360:{x:.30192625575968,y:.31193367584352},7370:{x:.301810096723269,y:.311812486606503},7380:{x:.30169431328637,y:.311691607108169},7390:{x:.301578903809311,y:.311571036385366},7400:{x:.301463866661161,y:.31145077347771},7410:{x:.301349200219681,y:.311330817427585},7420:{x:.301234902871264,y:.311211167280144},7430:{x:.301120973010891,y:.31109182208331},7440:{x:.30100740904207,y:.310972780887773},7450:{x:.300894209376788,y:.310854042746996},7460:{x:.300781372435461,y:.310735606717209},7470:{x:.300668896646876,y:.310617471857414},7480:{x:.300556780448148,y:.31049963722938},7490:{x:.300445022284661,y:.310382101897646},7500:{x:.300333620610026,y:.310264864929518},7510:{x:.300222573886023,y:.310147925395073},7520:{x:.300111880582555,y:.310031282367149},7530:{x:.300001539177601,y:.309914934921353},7540:{x:.299891548157161,y:.309798882136056},7550:{x:.299781906015211,y:.309683123092391},7560:{x:.299672611253656,y:.309567656874254},7570:{x:.299563662382277,y:.3094524825683},7580:{x:.299455057918686,y:.309337599263943},7590:{x:.299346796388279,y:.309223006053353},7600:{x:.299238876324188,y:.309108702031455},7610:{x:.299131296267236,y:.308994686295927},7620:{x:.299024054765886,y:.308880957947196},7630:{x:.298917150376198,y:.30876751608844},7640:{x:.298810581661782,y:.308654359825579},7650:{x:.298704347193756,y:.308541488267281},7660:{x:.298598445550693,y:.30842890052495},7670:{x:.298492875318583,y:.308316595712732},7680:{x:.298387635090787,y:.308204572947506},7690:{x:.298282723467988,y:.308092831348884},7700:{x:.298178139058152,y:.307981370039207},7710:{x:.298073880476482,y:.307870188143544},7720:{x:.297969946345376,y:.307759284789684},7730:{x:.29786633529438,y:.307648659108138},7740:{x:.297763045960149,y:.307538310232133},7750:{x:.297660076986403,y:.307428237297609},7760:{x:.297557427023885,y:.307318439443216},7770:{x:.297455094730317,y:.307208915810307},7780:{x:.29735307877036,y:.307099665542941},7790:{x:.297251377815571,y:.306990687787871},7800:{x:.297149990544364,y:.306881981694548},7810:{x:.297048915641968,y:.306773546415111},7820:{x:.296948151800384,y:.306665381104387},7830:{x:.296847697718348,y:.306557484919884},7840:{x:.296747552101289,y:.306449857021788},7850:{x:.296647713661287,y:.306342496572958},7860:{x:.296548181117039,y:.306235402738925},7870:{x:.296448953193814,y:.306128574687882},7880:{x:.296350028623417,y:.306022011590684},7890:{x:.296251406144149,y:.305915712620842},7900:{x:.296153084500768,y:.305809676954518},7910:{x:.29605506244445,y:.305703903770521},7920:{x:.295957338732757,y:.3055983922503},7930:{x:.295859912129586,y:.305493141577943},7940:{x:.295762781405147,y:.305388150940171},7950:{x:.295665945335915,y:.305283419526329},7960:{x:.295569402704596,y:.305178946528389},7970:{x:.295473152300089,y:.305074731140935},7980:{x:.295377192917454,y:.304970772561169},7990:{x:.295281523357868,y:.304867069988894},8e3:{x:.295186142428596,y:.304763622626521},8010:{x:.29509104894295,y:.304660429679051},8020:{x:.294996241720257,y:.304557490354083},8030:{x:.29490171958582,y:.304454803861798},8040:{x:.294807481370887,y:.304352369414959},8050:{x:.294713525912612,y:.304250186228902},8060:{x:.294619852054023,y:.304148253521536},8070:{x:.294526458643984,y:.304046570513333},8080:{x:.294433344537166,y:.303945136427322},8090:{x:.294340508594008,y:.303843950489089},8100:{x:.294247949680687,y:.303743011926761},8110:{x:.294155666669081,y:.303642319971013},8120:{x:.294063658436738,y:.303541873855053},8130:{x:.293971923866841,y:.303441672814619},8140:{x:.293880461848177,y:.303341716087973},8150:{x:.293789271275103,y:.303242002915899},8160:{x:.293698351047513,y:.30314253254169},8170:{x:.293607700070806,y:.303043304211147},8180:{x:.293517317255857,y:.302944317172572},8190:{x:.293427201518978,y:.302845570676761},8200:{x:.293337351781895,y:.302747063977001},8210:{x:.293247766971707,y:.302648796329059},8220:{x:.293158446020866,y:.302550766991182},8230:{x:.293069387867134,y:.302452975224084},8240:{x:.292980591453561,y:.302355420290948},8250:{x:.29289205572845,y:.302258101457411},8260:{x:.292803779645329,y:.302161017991565},8270:{x:.292715762162918,y:.302064169163948},8280:{x:.2926280022451,y:.301967554247537},8290:{x:.292540498860893,y:.301871172517742},8300:{x:.292453250984416,y:.301775023252403},8310:{x:.292366257594866,y:.301679105731779},8320:{x:.292279517676482,y:.301583419238544},8330:{x:.292193030218519,y:.30148796305778},8340:{x:.292106794215219,y:.301392736476973},8350:{x:.292020808665784,y:.301297738786003},8360:{x:.291935072574342,y:.301202969277141},8370:{x:.291849584949925,y:.301108427245038},8380:{x:.291764344806436,y:.301014111986725},8390:{x:.291679351162625,y:.300920022801602},8400:{x:.291594603042056,y:.300826158991431},8410:{x:.291510099473085,y:.300732519860334},8420:{x:.291425839488828,y:.300639104714781},8430:{x:.291341822127138,y:.300545912863589},8440:{x:.291258046430574,y:.300452943617909},8450:{x:.291174511446374,y:.300360196291229},8460:{x:.291091216226434,y:.300267670199355},8470:{x:.291008159827273,y:.300175364660416},8480:{x:.290925341310012,y:.300083278994851},8490:{x:.290842759740348,y:.299991412525404},8500:{x:.290760414188525,y:.299899764577117},8510:{x:.290678303729309,y:.299808334477325},8520:{x:.290596427441963,y:.299717121555647},8530:{x:.290514784410223,y:.299626125143983},8540:{x:.290433373722268,y:.299535344576503},8550:{x:.290352194470698,y:.299444779189643},8560:{x:.29027124575251,y:.299354428322098},8570:{x:.290190526669069,y:.299264291314815},8580:{x:.290110036326088,y:.299174367510987},8590:{x:.290029773833599,y:.299084656256047},8600:{x:.289949738305931,y:.298995156897657},8610:{x:.289869928861685,y:.29890586878571},8620:{x:.28979034462371,y:.298816791272313},8630:{x:.28971098471908,y:.298727923711788},8640:{x:.289631848279069,y:.298639265460663},8650:{x:.289552934439125,y:.298550815877663},8660:{x:.289474242338851,y:.298462574323709},8670:{x:.289395771121979,y:.298374540161904},8680:{x:.289317519936349,y:.298286712757532},8690:{x:.289239487933881,y:.29819909147805},8700:{x:.289161674270557,y:.298111675693081},8710:{x:.289084078106396,y:.298024464774405},8720:{x:.289006698605431,y:.297937458095957},8730:{x:.288929534935688,y:.297850655033815},8740:{x:.288852586269164,y:.2977640549662},8750:{x:.2887758517818,y:.297677657273462},8760:{x:.288699330653466,y:.29759146133808},8770:{x:.288623022067933,y:.29750546654465},8780:{x:.288546925212856,y:.29741967227988},8790:{x:.288471039279747,y:.297334077932587},8800:{x:.28839536346396,y:.297248682893685},8810:{x:.288319896964663,y:.297163486556181},8820:{x:.288244638984821,y:.297078488315167},8830:{x:.288169588731173,y:.296993687567818},8840:{x:.288094745414214,y:.296909083713378},8850:{x:.288020108248168,y:.296824676153158},8860:{x:.287945676450972,y:.29674046429053},8870:{x:.287871449244258,y:.296656447530918},8880:{x:.287797425853324,y:.296572625281792},8890:{x:.287723605507121,y:.296488996952662},8900:{x:.28764998743823,y:.296405561955071},8910:{x:.287576570882842,y:.296322319702588},8920:{x:.287503355080738,y:.296239269610805},8930:{x:.287430339275271,y:.296156411097322},8940:{x:.287357522713342,y:.29607374358175},8950:{x:.287284904645384,y:.2959912664857},8960:{x:.287212484325343,y:.295908979232774},8970:{x:.287140261010655,y:.295826881248565},8980:{x:.287068233962231,y:.295744971960642},8990:{x:.286996402444435,y:.295663250798553},9e3:{x:.286924765725065,y:.295581717193809},9010:{x:.286853323075337,y:.295500370579886},9020:{x:.286782073769861,y:.295419210392211},9030:{x:.28671101708663,y:.295338236068163},9040:{x:.286640152306992,y:.295257447047059},9050:{x:.28656947871564,y:.295176842770153},9060:{x:.286498995600591,y:.295096422680627},9070:{x:.286428702253164,y:.295016186223586},9080:{x:.286358597967967,y:.294936132846049},9090:{x:.286288682042877,y:.294856261996946},9100:{x:.286218953779022,y:.29477657312711},9110:{x:.286149412480764,y:.29469706568927},9120:{x:.286080057455679,y:.294617739138044},9130:{x:.286010888014543,y:.294538592929935},9140:{x:.285941903471314,y:.294459626523322},9150:{x:.285873103143111,y:.294380839378458},9160:{x:.285804486350202,y:.294302230957458},9170:{x:.285736052415981,y:.294223800724294},9180:{x:.285667800666959,y:.294145548144794},9190:{x:.285599730432738,y:.294067472686628},9200:{x:.285531841046001,y:.293989573819307},9210:{x:.285464131842494,y:.293911851014174},9220:{x:.285396602161005,y:.293834303744401},9230:{x:.285329251343354,y:.293756931484977},9240:{x:.285262078734374,y:.293679733712708},9250:{x:.28519508368189,y:.293602709906207},9260:{x:.285128265536713,y:.293525859545888},9270:{x:.285061623652614,y:.293449182113962},9280:{x:.284995157386314,y:.293372677094427},9290:{x:.284928866097465,y:.293296343973068},9300:{x:.284862749148637,y:.293220182237442},9310:{x:.284796805905298,y:.293144191376881},9320:{x:.284731035735806,y:.293068370882479},9330:{x:.284665438011384,y:.29299272024709},9340:{x:.284600012106111,y:.292917238965319},9350:{x:.284534757396907,y:.292841926533518},9360:{x:.284469673263512,y:.29276678244978},9370:{x:.284404759088479,y:.29269180621393},9380:{x:.28434001425715,y:.292616997327523},9390:{x:.28427543815765,y:.292542355293834},9400:{x:.284211030180865,y:.292467879617856},9410:{x:.284146789720432,y:.292393569806291},9420:{x:.284082716172722,y:.292319425367545},9430:{x:.284018808936825,y:.29224544581172},9440:{x:.283955067414537,y:.292171630650613},9450:{x:.283891491010347,y:.292097979397706},9460:{x:.283828079131417,y:.292024491568159},9470:{x:.283764831187574,y:.291951166678808},9480:{x:.283701746591293,y:.291878004248157},9490:{x:.283638824757684,y:.291805003796371},9500:{x:.283576065104475,y:.291732164845274},9510:{x:.283513467052003,y:.291659486918337},9520:{x:.283451030023197,y:.291586969540678},9530:{x:.283388753443564,y:.291514612239054},9540:{x:.283326636741177,y:.291442414541852},9550:{x:.283264679346662,y:.291370375979089},9560:{x:.283202880693181,y:.291298496082403},9570:{x:.283141240216422,y:.291226774385047},9580:{x:.283079757354586,y:.291155210421883},9590:{x:.28301843154837,y:.291083803729378},9600:{x:.282957262240958,y:.291012553845598},9610:{x:.282896248878006,y:.290941460310199},9620:{x:.282835390907627,y:.290870522664427},9630:{x:.282774687780384,y:.290799740451108},9640:{x:.282714138949271,y:.290729113214642},9650:{x:.282653743869704,y:.290658640501001},9660:{x:.282593501999504,y:.29058832185772},9670:{x:.282533412798892,y:.290518156833893},9680:{x:.282473475730468,y:.290448144980167},9690:{x:.282413690259205,y:.290378285848737},9700:{x:.282354055852432,y:.290308578993338},9710:{x:.282294571979826,y:.290239023969243},9720:{x:.282235238113395,y:.290169620333256},9730:{x:.282176053727471,y:.290100367643704},9740:{x:.282117018298692,y:.290031265460436},9750:{x:.282058131305996,y:.289962313344814},9760:{x:.281999392230606,y:.289893510859708},9770:{x:.281940800556016,y:.289824857569495},9780:{x:.281882355767985,y:.289756353040044},9790:{x:.281824057354519,y:.289687996838722},9800:{x:.281765904805865,y:.289619788534379},9810:{x:.281707897614492,y:.289551727697349},9820:{x:.28165003527509,y:.28948381389944},9830:{x:.281592317284549,y:.289416046713933},9840:{x:.281534743141951,y:.289348425715574},9850:{x:.28147731234856,y:.289280950480568},9860:{x:.281420024407811,y:.289213620586576},9870:{x:.281362878825294,y:.289146435612708},9880:{x:.281305875108749,y:.289079395139519},9890:{x:.281249012768051,y:.289012498749002},9900:{x:.281192291315202,y:.288945746024584},9910:{x:.281135710264316,y:.28887913655112},9920:{x:.281079269131611,y:.288812669914892},9930:{x:.2810229674354,y:.288746345703594},9940:{x:.280966804696075,y:.288680163506339},9950:{x:.280910780436102,y:.288614122913642},9960:{x:.280854894180004,y:.288548223517426},9970:{x:.280799145454357,y:.288482464911009},9980:{x:.280743533787776,y:.288416846689099},9990:{x:.280688058710905,y:.288351368447796},1e4:{x:.280632719756407,y:.288286029784579},10010:{x:.280577516458952,y:.288220830298306},10020:{x:.280522448355212,y:.288155769589205},10030:{x:.280467514983842,y:.288090847258873},10040:{x:.28041271588548,y:.288026062910267},10050:{x:.280358050602727,y:.287961416147704},10060:{x:.280303518680147,y:.28789690657685},10070:{x:.280249119664247,y:.28783253380472},10080:{x:.280194853103475,y:.287768297439671},10090:{x:.280140718548207,y:.287704197091395},10100:{x:.280086715550736,y:.28764023237092},10110:{x:.280032843665265,y:.287576402890597},10120:{x:.279979102447896,y:.287512708264105},10130:{x:.27992549145662,y:.287449148106435},10140:{x:.279872010251307,y:.287385722033893},10150:{x:.279818658393699,y:.287322429664096},10160:{x:.279765435447398,y:.287259270615958},10170:{x:.279712340977858,y:.287196244509697},10180:{x:.279659374552374,y:.28713335096682},10190:{x:.279606535740076,y:.287070589610126},10200:{x:.279553824111915,y:.287007960063697},10210:{x:.27950123924066,y:.286945461952894},10220:{x:.279448780700881,y:.286883094904353},10230:{x:.279396448068949,y:.286820858545978},10240:{x:.279344240923019,y:.286758752506941},10250:{x:.279292158843026,y:.286696776417673},10260:{x:.279240201410673,y:.286634929909859},10270:{x:.279188368209425,y:.286573212616439},10280:{x:.279136658824498,y:.286511624171597},10290:{x:.279085072842851,y:.286450164210758},10300:{x:.279033609853177,y:.286388832370588},10310:{x:.278982269445897,y:.286327628288983},10320:{x:.278931051213145,y:.286266551605066},10330:{x:.278879954748767,y:.286205601959187},10340:{x:.278828979648306,y:.286144778992913},10350:{x:.278778125509,y:.286084082349025},10360:{x:.278727391929767,y:.286023511671516},10370:{x:.278676778511201,y:.285963066605585},10380:{x:.278626284855561,y:.285902746797628},10390:{x:.278575910566767,y:.285842551895243},10400:{x:.278525655250387,y:.285782481547216},10410:{x:.278475518513629,y:.285722535403524},10420:{x:.278425499965339,y:.285662713115326},10430:{x:.278375599215984,y:.285603014334959},10440:{x:.278325815877652,y:.285543438715937},10450:{x:.278276149564037,y:.285483985912942},10460:{x:.278226599890438,y:.285424655581824},10470:{x:.278177166473744,y:.285365447379593},10480:{x:.278127848932433,y:.285306360964418},10490:{x:.27807864688656,y:.285247395995619},10500:{x:.278029559957749,y:.285188552133665},10510:{x:.277980587769188,y:.285129829040174},10520:{x:.277931729945617,y:.285071226377896},10530:{x:.277882986113327,y:.285012743810724},10540:{x:.277834355900146,y:.284954381003681},10550:{x:.277785838935434,y:.284896137622915},10560:{x:.277737434850077,y:.2848380133357},10570:{x:.277689143276476,y:.28478000781043},10580:{x:.277640963848543,y:.28472212071661},10590:{x:.277592896201691,y:.284664351724861},10600:{x:.277544939972829,y:.284606700506907},10610:{x:.277497094800353,y:.284549166735576},10620:{x:.27744936032414,y:.284491750084795},10630:{x:.277401736185538,y:.284434450229585},10640:{x:.277354222027362,y:.284377266846058},10650:{x:.277306817493887,y:.284320199611411},10660:{x:.277259522230838,y:.284263248203924},10670:{x:.277212335885385,y:.284206412302958},10680:{x:.277165258106137,y:.284149691588943},10690:{x:.27711828854313,y:.284093085743384},10700:{x:.277071426847826,y:.284036594448849},10710:{x:.277024672673105,y:.283980217388971},10720:{x:.276978025673255,y:.283923954248441},10730:{x:.276931485503966,y:.283867804713002},10740:{x:.276885051822327,y:.283811768469451},10750:{x:.276838724286814,y:.283755845205629},10760:{x:.276792502557287,y:.283700034610422},10770:{x:.276746386294983,y:.283644336373752},10780:{x:.276700375162506,y:.28358875018658},10790:{x:.276654468823826,y:.283533275740893},10800:{x:.276608666944266,y:.283477912729711},10810:{x:.276562969190499,y:.283422660847074},10820:{x:.276517375230546,y:.283367519788041},10830:{x:.276471884733758,y:.283312489248691},10840:{x:.276426497370822,y:.283257568926111},10850:{x:.276381212813745,y:.283202758518398},10860:{x:.276336030735854,y:.283148057724654},10870:{x:.276290950811787,y:.283093466244981},10880:{x:.276245972717486,y:.28303898378048},10890:{x:.276201096130193,y:.282984610033243},10900:{x:.276156320728442,y:.282930344706354},10910:{x:.276111646192053,y:.282876187503881},10920:{x:.276067072202126,y:.282822138130877},10930:{x:.276022598441038,y:.282768196293371},10940:{x:.275978224592431,y:.282714361698368},10950:{x:.275933950341209,y:.282660634053847},10960:{x:.275889775373534,y:.282607013068752},10970:{x:.275845699376817,y:.282553498452992},10980:{x:.275801722039712,y:.282500089917437},10990:{x:.275757843052114,y:.282446787173914},11e3:{x:.275714062105148,y:.282393589935205},11010:{x:.275670378891165,y:.282340497915039},11020:{x:.275626793103739,y:.282287510828095},11030:{x:.275583304437658,y:.282234628389992},11040:{x:.275539912588917,y:.282181850317292},11050:{x:.275496617254717,y:.282129176327489},11060:{x:.275453418133457,y:.282076606139012},11070:{x:.275410314924724,y:.28202413947122},11080:{x:.275367307329296,y:.281971776044394},11090:{x:.27532439504913,y:.281919515579741},11100:{x:.275281577787359,y:.281867357799386},11110:{x:.275238855248283,y:.281815302426367},11120:{x:.27519622713737,y:.281763349184636},11130:{x:.275153693161244,y:.281711497799054},11140:{x:.275111253027683,y:.281659747995386},11150:{x:.275068906445614,y:.281608099500299},11160:{x:.275026653125104,y:.281556552041359},11170:{x:.274984492777361,y:.281505105347028},11180:{x:.27494242511472,y:.281453759146658},11190:{x:.274900449850647,y:.28140251317049},11200:{x:.274858566699725,y:.281351367149652},11210:{x:.274816775377656,y:.281300320816152},11220:{x:.274775075601253,y:.281249373902877},11230:{x:.274733467088432,y:.281198526143592},11240:{x:.27469194955821,y:.28114777727293},11250:{x:.274650522730702,y:.281097127026396},11260:{x:.27460918632711,y:.281046575140359},11270:{x:.274567940069723,y:.280996121352052},11280:{x:.274526783681909,y:.280945765399568},11290:{x:.274485716888111,y:.280895507021853},11300:{x:.274444739413842,y:.28084534595871},11310:{x:.274403850985682,y:.280795281950789},11320:{x:.274363051331268,y:.280745314739587},11330:{x:.274322340179295,y:.280695444067445},11340:{x:.274281717259505,y:.280645669677546},11350:{x:.27424118230269,y:.280595991313908},11360:{x:.274200735040677,y:.280546408721385},11370:{x:.274160375206335,y:.280496921645661},11380:{x:.274120102533558,y:.280447529833248},11390:{x:.274079916757271,y:.280398233031483},11400:{x:.274039817613418,y:.280349030988528},11410:{x:.27399980483896,y:.280299923453359},11420:{x:.27395987817187,y:.280250910175772},11430:{x:.27392003735113,y:.280201990906373},11440:{x:.273880282116723,y:.280153165396579},11450:{x:.273840612209631,y:.280104433398616},11460:{x:.27380102737183,y:.28005579466551},11470:{x:.273761527346283,y:.280007248951091},11480:{x:.273722111876941,y:.279958796009987},11490:{x:.273682780708732,y:.279910435597618},11500:{x:.273643533587561,y:.279862167470199},11510:{x:.273604370260303,y:.279813991384734},11520:{x:.273565290474801,y:.279765907099012},11530:{x:.273526293979859,y:.279717914371607},11540:{x:.273487380525239,y:.279670012961871},11550:{x:.273448549861657,y:.279622202629937},11560:{x:.273409801740777,y:.279574483136711},11570:{x:.27337113591521,y:.27952685424387},11580:{x:.273332552138504,y:.279479315713862},11590:{x:.273294050165145,y:.279431867309899},11600:{x:.273255629750553,y:.279384508795959},11610:{x:.273217290651071,y:.279337239936779},11620:{x:.273179032623969,y:.279290060497854},11630:{x:.273140855427435,y:.279242970245434},11640:{x:.273102758820573,y:.279195968946522},11650:{x:.273064742563397,y:.279149056368869},11660:{x:.273026806416827,y:.279102232280974},11670:{x:.272988950142688,y:.279055496452081},11680:{x:.272951173503701,y:.279008848652172},11690:{x:.272913476263484,y:.278962288651971},11700:{x:.272875858186544,y:.278915816222935},11710:{x:.272838319038276,y:.278869431137256},11720:{x:.272800858584954,y:.278823133167856},11730:{x:.272763476593735,y:.278776922088384},11740:{x:.272726172832647,y:.278730797673214},11750:{x:.272688947070591,y:.278684759697444},11760:{x:.272651799077334,y:.278638807936891},11770:{x:.272614728623504,y:.278592942168089},11780:{x:.272577735480592,y:.278547162168285},11790:{x:.272540819420939,y:.27850146771544},11800:{x:.272503980217742,y:.278455858588224},11810:{x:.272467217645041,y:.278410334566013},11820:{x:.272430531477724,y:.278364895428887},11830:{x:.272393921491516,y:.278319540957628},11840:{x:.272357387462979,y:.278274270933717},11850:{x:.272320929169506,y:.278229085139331},11860:{x:.272284546389322,y:.27818398335734},11870:{x:.272248238901473,y:.278138965371308},11880:{x:.272212006485828,y:.278094030965484},11890:{x:.272175848923075,y:.278049179924807},11900:{x:.272139765994714,y:.278004412034898},11910:{x:.272103757483055,y:.277959727082058},11920:{x:.272067823171217,y:.277915124853268},11930:{x:.272031962843121,y:.277870605136187},11940:{x:.271996176283486,y:.277826167719145},11950:{x:.271960463277829,y:.277781812391144},11960:{x:.271924823612459,y:.277737538941856},11970:{x:.271889257074474,y:.277693347161619},11980:{x:.271853763451757,y:.277649236841434},11990:{x:.271818342532974,y:.277605207772966},12e3:{x:.271782994107569,y:.277561259748537},12010:{x:.271747717965761,y:.277517392561125},12020:{x:.27171251389854,y:.277473606004366},12030:{x:.271677381697667,y:.277429899872545},12040:{x:.271642321155663,y:.277386273960597},12050:{x:.271607332065816,y:.277342728064107},12060:{x:.271572414222168,y:.2772992619793},12070:{x:.271537567419519,y:.277255875503048},12080:{x:.271502791453418,y:.277212568432862},12090:{x:.271468086120163,y:.27716934056689},12100:{x:.271433451216798,y:.277126191703915},12110:{x:.271398886541106,y:.277083121643356},12120:{x:.271364391891612,y:.277040130185262},12130:{x:.271329967067575,y:.276997217130308},12140:{x:.271295611868982,y:.2769543822798},12150:{x:.271261326096555,y:.276911625435664},12160:{x:.271227109551738,y:.27686894640045},12170:{x:.271192962036696,y:.276826344977328},12180:{x:.271158883354318,y:.276783820970085},12190:{x:.271124873308204,y:.276741374183121},12200:{x:.27109093170267,y:.276699004421453},12210:{x:.271057058342741,y:.276656711490705},12220:{x:.271023253034148,y:.276614495197111},12230:{x:.270989515583328,y:.276572355347512},12240:{x:.270955845797416,y:.276530291749352},12250:{x:.270922243484246,y:.276488304210678},12260:{x:.270888708452346,y:.276446392540135},12270:{x:.270855240510936,y:.276404556546967},12280:{x:.270821839469924,y:.276362796041013},12290:{x:.270788505139903,y:.276321110832705},12300:{x:.270755237332151,y:.276279500733067},12310:{x:.270722035858623,y:.276237965553711},12320:{x:.270688900531952,y:.276196505106837},12330:{x:.270655831165444,y:.276155119205228},12340:{x:.270622827573076,y:.27611380766225},12350:{x:.270589889569494,y:.276072570291852},12360:{x:.270557016970008,y:.276031406908559},12370:{x:.27052420959059,y:.275990317327473},12380:{x:.270491467247872,y:.275949301364269},12390:{x:.270458789759142,y:.275908358835196},12400:{x:.270426176942343,y:.275867489557074},12410:{x:.270393628616067,y:.275826693347289},12420:{x:.270361144599554,y:.275785970023793},12430:{x:.270328724712692,y:.275745319405104},12440:{x:.270296368776009,y:.2757047413103},12450:{x:.270264076610672,y:.27566423555902},12460:{x:.270231848038489,y:.27562380197146},12470:{x:.270199682881898,y:.275583440368375},12480:{x:.270167580963971,y:.27554315057107},12490:{x:.270135542108408,y:.275502932401403},12500:{x:.270103566139535,y:.275462785681784},12510:{x:.270071652882303,y:.27542271023517},12520:{x:.270039802162282,y:.275382705885063},12530:{x:.270008013805662,y:.27534277245551},12540:{x:.269976287639245,y:.2753029097711},12550:{x:.269944623490451,y:.275263117656963},12560:{x:.269913021187308,y:.275223395938766},12570:{x:.26988148055845,y:.275183744442712},12580:{x:.269850001433119,y:.275144162995541},12590:{x:.269818583641157,y:.275104651424524},12600:{x:.269787227013009,y:.275065209557461},12610:{x:.269755931379714,y:.275025837222683},12620:{x:.26972469657291,y:.274986534249048},12630:{x:.269693522424824,y:.274947300465937},12640:{x:.269662408768274,y:.274908135703255},12650:{x:.269631355436667,y:.27486903979143},12660:{x:.269600362263992,y:.274830012561405},12670:{x:.269569429084823,y:.274791053844646},12680:{x:.269538555734313,y:.274752163473131},12690:{x:.269507742048192,y:.274713341279352},12700:{x:.269476987862767,y:.274674587096315},12710:{x:.269446293014916,y:.274635900757534},12720:{x:.269415657342087,y:.274597282097033},12730:{x:.269385080682298,y:.274558730949341},12740:{x:.269354562874131,y:.274520247149494},12750:{x:.26932410375673,y:.274481830533028},12760:{x:.269293703169804,y:.274443480935982},12770:{x:.269263360953615,y:.274405198194895},12780:{x:.269233076948985,y:.274366982146803},12790:{x:.269202850997288,y:.274328832629237},12800:{x:.26917268294045,y:.274290749480221},12810:{x:.269142572620946,y:.274252732538276},12820:{x:.269112519881797,y:.274214781642409},12830:{x:.269082524566571,y:.274176896632118},12840:{x:.269052586519376,y:.274139077347387},12850:{x:.26902270558486,y:.274101323628687},12860:{x:.268992881608211,y:.27406363531697},12870:{x:.268963114435149,y:.274026012253673},12880:{x:.268933403911931,y:.273988454280711},12890:{x:.268903749885341,y:.27395096124048},12900:{x:.268874152202697,y:.27391353297585},12910:{x:.268844610711839,y:.273876169330168},12920:{x:.268815125261133,y:.273838870147253},12930:{x:.268785695699469,y:.273801635271398},12940:{x:.268756321876255,y:.273764464547366},12950:{x:.268727003641417,y:.273727357820384},12960:{x:.268697740845399,y:.273690314936154},12970:{x:.268668533339156,y:.273653335740835},12980:{x:.268639380974156,y:.273616420081054},12990:{x:.268610283602376,y:.2735795678039},13e3:{x:.268581241076301,y:.273542778756921},13010:{x:.268552253248921,y:.273506052788124},13020:{x:.268523319973729,y:.273469389745973},13030:{x:.268494441104718,y:.273432789479388},13040:{x:.268465616496381,y:.273396251837743},13050:{x:.26843684600371,y:.273359776670862},13060:{x:.268408129482189,y:.273323363829024},13070:{x:.268379466787795,y:.273287013162952},13080:{x:.268350857776998,y:.273250724523822},13090:{x:.268322302306755,y:.27321449776325},13100:{x:.26829380023451,y:.273178332733301},13110:{x:.268265351418193,y:.273142229286482},13120:{x:.268236955716216,y:.273106187275739},13130:{x:.268208612987472,y:.27307020655446},13140:{x:.268180323091333,y:.27303428697647},13150:{x:.268152085887648,y:.272998428396032},13160:{x:.26812390123674,y:.272962630667843},13170:{x:.268095768999407,y:.272926893647034},13180:{x:.268067689036918,y:.272891217189167},13190:{x:.268039661211008,y:.272855601150237},13200:{x:.268011685383883,y:.272820045386665},13210:{x:.267983761418212,y:.272784549755302},13220:{x:.26795588917713,y:.272749114113424},13230:{x:.267928068524232,y:.272713738318733},13240:{x:.267900299323571,y:.272678422229351},13250:{x:.267872581439662,y:.272643165703826},13260:{x:.267844914737473,y:.272607968601121},13270:{x:.267817299082426,y:.272572830780623},13280:{x:.267789734340397,y:.272537752102133},13290:{x:.267762220377712,y:.272502732425867},13300:{x:.267734757061145,y:.272467771612459},13310:{x:.267707344257917,y:.272432869522953},13320:{x:.267679981835695,y:.272398026018805},13330:{x:.267652669662587,y:.272363240961881},13340:{x:.267625407607146,y:.272328514214457},13350:{x:.267598195538361,y:.272293845639214},13360:{x:.267571033325661,y:.272259235099241},13370:{x:.267543920838911,y:.272224682458029},13380:{x:.267516857948409,y:.272190187579474},13390:{x:.267489844524888,y:.272155750327873},13400:{x:.26746288043951,y:.272121370567922},13410:{x:.267435965563866,y:.272087048164718},13420:{x:.267409099769975,y:.272052782983753},13430:{x:.267382282930284,y:.272018574890918},13440:{x:.267355514917659,y:.271984423752495},13450:{x:.267328795605392,y:.271950329435162},13460:{x:.267302124867195,y:.271916291805988},13470:{x:.267275502577199,y:.271882310732432},13480:{x:.267248928609951,y:.271848386082345},13490:{x:.267222402840415,y:.271814517723962},13500:{x:.267195925143968,y:.271780705525908},13510:{x:.2671694953964,y:.27174694935719},13520:{x:.267143113473911,y:.271713249087201},13530:{x:.267116779253111,y:.271679604585716},13540:{x:.267090492611015,y:.271646015722892},13550:{x:.267064253425046,y:.271612482369265},13560:{x:.26703806157303,y:.27157900439575},13570:{x:.267011916933197,y:.271545581673638},13580:{x:.266985819384176,y:.271512214074599},13590:{x:.266959768804997,y:.271478901470675},13600:{x:.266933765075085,y:.271445643734283},13610:{x:.266907808074265,y:.271412440738211},13620:{x:.266881897682753,y:.271379292355619},13630:{x:.266856033781161,y:.271346198460036},13640:{x:.266830216250489,y:.271313158925359},13650:{x:.266804444972131,y:.271280173625852},13660:{x:.266778719827866,y:.271247242436147},13670:{x:.266753040699862,y:.271214365231238},13680:{x:.266727407470671,y:.271181541886483},13690:{x:.266701820023228,y:.271148772277603},13700:{x:.266676278240854,y:.271116056280678},13710:{x:.266650782007245,y:.271083393772149},13720:{x:.266625331206483,y:.271050784628815},13730:{x:.266599925723021,y:.271018228727834},13740:{x:.266574565441694,y:.270985725946716},13750:{x:.266549250247707,y:.270953276163328},13760:{x:.266523980026643,y:.270920879255891},13770:{x:.266498754664453,y:.270888535102978},13780:{x:.266473574047459,y:.270856243583511},13790:{x:.266448438062355,y:.270824004576766},13800:{x:.266423346596199,y:.270791817962364},13810:{x:.266398299536416,y:.270759683620274},13820:{x:.266373296770797,y:.270727601430813},13830:{x:.266348338187495,y:.270695571274643},13840:{x:.266323423675024,y:.270663593032768},13850:{x:.266298553122261,y:.270631666586537},13860:{x:.266273726418439,y:.270599791817639},13870:{x:.266248943453149,y:.270567968608104},13880:{x:.266224204116342,y:.270536196840302},13890:{x:.266199508298318,y:.27050447639694},13900:{x:.266174855889734,y:.270472807161063},13910:{x:.266150246781598,y:.270441189016052},13920:{x:.26612568086527,y:.270409621845622},13930:{x:.266101158032457,y:.270378105533821},13940:{x:.266076678175215,y:.270346639965031},13950:{x:.266052241185947,y:.270315225023965},13960:{x:.266027846957401,y:.270283860595665},13970:{x:.266003495382668,y:.270252546565504},13980:{x:.265979186355184,y:.270221282819181},13990:{x:.265954919768722,y:.270190069242723},14e3:{x:.2659306955174,y:.270158905722483},14010:{x:.265906513495671,y:.270127792145138},14020:{x:.265882373598326,y:.27009672839769},14030:{x:.265858275720492,y:.270065714367461},14040:{x:.265834219757632,y:.270034749942096},14050:{x:.265810205605542,y:.27000383500956},14060:{x:.265786233160348,y:.269972969458138},14070:{x:.265762302318509,y:.269942153176432},14080:{x:.265738412976813,y:.269911386053361},14090:{x:.265714565032377,y:.269880667978163},14100:{x:.265690758382642,y:.269849998840385},14110:{x:.26566699292538,y:.269819378529894},14120:{x:.265643268558683,y:.269788806936865},14130:{x:.265619585180968,y:.26975828395179},14140:{x:.265595942690974,y:.269727809465467},14150:{x:.26557234098776,y:.269697383369006},14160:{x:.265548779970706,y:.269667005553824},14170:{x:.26552525953951,y:.269636675911649},14180:{x:.265501779594186,y:.269606394334511},14190:{x:.265478340035065,y:.26957616071475},14200:{x:.265454940762793,y:.269545974945007},14210:{x:.265431581678328,y:.26951583691823},14220:{x:.265408262682941,y:.269485746527665},14230:{x:.265384983678215,y:.269455703666863},14240:{x:.265361744566042,y:.269425708229675},14250:{x:.265338545248624,y:.26939576011025},14260:{x:.265315385628468,y:.269365859203038},14270:{x:.26529226560839,y:.269336005402783},14280:{x:.26526918509151,y:.269306198604529},14290:{x:.265246143981253,y:.269276438703614},14300:{x:.265223142181345,y:.269246725595669},14310:{x:.265200179595817,y:.269217059176621},14320:{x:.265177256128996,y:.269187439342688},14330:{x:.265154371685515,y:.269157865990381},14340:{x:.265131526170298,y:.269128339016499},14350:{x:.265108719488572,y:.269098858318135},14360:{x:.265085951545858,y:.269069423792665},14370:{x:.265063222247971,y:.269040035337759},14380:{x:.265040531501021,y:.269010692851367},14390:{x:.26501787921141,y:.268981396231731},14400:{x:.264995265285834,y:.268952145377374},14410:{x:.264972689631277,y:.268922940187105},14420:{x:.264950152155012,y:.268893780560014},14430:{x:.264927652764604,y:.268864666395474},14440:{x:.264905191367902,y:.26883559759314},14450:{x:.264882767873041,y:.268806574052946},14460:{x:.264860382188444,y:.268777595675106},14470:{x:.264838034222816,y:.268748662360111},14480:{x:.264815723885145,y:.268719774008731},14490:{x:.264793451084702,y:.268690930522011},14500:{x:.264771215731037,y:.268662131801274},14510:{x:.264749017733983,y:.268633377748114},14520:{x:.264726857003648,y:.268604668264403},14530:{x:.26470473345042,y:.268576003252281},14540:{x:.264682646984965,y:.268547382614163},14550:{x:.26466059751822,y:.268518806252737},14560:{x:.264638584961403,y:.268490274070956},14570:{x:.264616609225999,y:.268461785972046},14580:{x:.264594670223771,y:.2684333418595},14590:{x:.26457276786675,y:.268404941637079},14600:{x:.26455090206724,y:.26837658520881},14610:{x:.264529072737813,y:.268348272478987},14620:{x:.264507279791309,y:.268320003352168},14630:{x:.264485523140839,y:.268291777733174},14640:{x:.264463802699776,y:.268263595527091},14650:{x:.264442118381762,y:.268235456639265},14660:{x:.264420470100702,y:.268207360975306},14670:{x:.264398857770764,y:.268179308441084},14680:{x:.264377281306381,y:.268151298942726},14690:{x:.264355740622245,y:.26812333238662},14700:{x:.26433423563331,y:.268095408679413},14710:{x:.264312766254791,y:.268067527728008},14720:{x:.264291332402158,y:.268039689439562},14730:{x:.264269933991143,y:.268011893721492},14740:{x:.264248570937733,y:.267984140481466},14750:{x:.26422724315817,y:.267956429627408},14760:{x:.264205950568951,y:.267928761067493},14770:{x:.26418469308683,y:.267901134710149},14780:{x:.264163470628811,y:.267873550464056},14790:{x:.264142283112151,y:.267846008238144},14800:{x:.264121130454358,y:.267818507941593},14810:{x:.264100012573191,y:.26779104948383},14820:{x:.264078929386659,y:.267763632774532},14830:{x:.264057880813016,y:.267736257723624},14840:{x:.264036866770768,y:.267708924241275},14850:{x:.264015887178665,y:.2676816322379},14860:{x:.263994941955703,y:.267654381624161},14870:{x:.263974031021124,y:.267627172310963},14880:{x:.263953154294413,y:.267600004209452},14890:{x:.263932311695297,y:.267572877231021},14900:{x:.263911503143748,y:.267545791287299},14910:{x:.263890728559977,y:.26751874629016},14920:{x:.263869987864436,y:.267491742151718},14930:{x:.263849280977816,y:.267464778784324},14940:{x:.263828607821048,y:.26743785610057},14950:{x:.263807968315299,y:.267410974013283},14960:{x:.263787362381975,y:.26738413243553},14970:{x:.263766789942716,y:.267357331280613},14980:{x:.263746250919399,y:.267330570462068},14990:{x:.263725745234133,y:.267303849893667},15e3:{x:.263705272809263,y:.267277169489418},15010:{x:.263684833567364,y:.267250529163557},15020:{x:.263664427431246,y:.267223928830558},15030:{x:.263644054323948,y:.267197368405124},15040:{x:.263623714168738,y:.267170847802188},15050:{x:.263603406889116,y:.267144366936916},15060:{x:.263583132408809,y:.2671179257247},15070:{x:.26356289065177,y:.267091524081164},15080:{x:.263542681542182,y:.267065161922158},15090:{x:.263522505004451,y:.26703883916376},15100:{x:.263502360963211,y:.267012555722274},15110:{x:.263482249343318,y:.26698631151423},15120:{x:.263462170069853,y:.266960106456383},15130:{x:.263442123068119,y:.266933940465714},15140:{x:.26342210826364,y:.266907813459424},15150:{x:.263402125582164,y:.266881725354939},15160:{x:.263382174949655,y:.266855676069909},15170:{x:.263362256292302,y:.266829665522202},15180:{x:.263342369536507,y:.266803693629909},15190:{x:.263322514608895,y:.26677776031134},15200:{x:.263302691436304,y:.266751865485026},15210:{x:.263282899945792,y:.266726009069714},15220:{x:.263263140064629,y:.266700190984371},15230:{x:.263243411720303,y:.26667441114818},15240:{x:.263223714840515,y:.266648669480541},15250:{x:.26320404935318,y:.266622965901072},15260:{x:.263184415186422,y:.266597300329601},15270:{x:.263164812268581,y:.266571672686177},15280:{x:.263145240528207,y:.266546082891056},15290:{x:.263125699894058,y:.266520530864714},15300:{x:.263106190295106,y:.266495016527833},15310:{x:.263086711660527,y:.266469539801311},15320:{x:.263067263919708,y:.266444100606256},15330:{x:.263047847002242,y:.266418698863987},15340:{x:.263028460837929,y:.26639333449603},15350:{x:.263009105356775,y:.266368007424123},15360:{x:.262989780488991,y:.266342717570212},15370:{x:.262970486164991,y:.266317464856449},15380:{x:.262951222315396,y:.266292249205195},15390:{x:.262931988871026,y:.266267070539018},15400:{x:.262912785762906,y:.266241928780688},15410:{x:.262893612922261,y:.266216823853184},15420:{x:.262874470280517,y:.266191755679688},15430:{x:.2628553577693,y:.266166724183585},15440:{x:.262836275320436,y:.266141729288465},15450:{x:.26281722286595,y:.266116770918119},15460:{x:.262798200338063,y:.266091848996542},15470:{x:.262779207669195,y:.266066963447927},15480:{x:.262760244791961,y:.266042114196669},15490:{x:.262741311639174,y:.266017301167365},15500:{x:.26272240814384,y:.265992524284809},15510:{x:.26270353423916,y:.265967783473994},15520:{x:.262684689858531,y:.265943078660112},15530:{x:.262665874935539,y:.265918409768552},15540:{x:.262647089403967,y:.265893776724899},15550:{x:.262628333197785,y:.265869179454936},15560:{x:.262609606251158,y:.26584461788464},15570:{x:.26259090849844,y:.265820091940183},15580:{x:.262572239874173,y:.265795601547934},15590:{x:.262553600313091,y:.265771146634452},15600:{x:.262534989750115,y:.265746727126491},15610:{x:.262516408120354,y:.265722342950998},15620:{x:.262497855359103,y:.265697994035111},15630:{x:.262479331401845,y:.265673680306161},15640:{x:.262460836184247,y:.265649401691667},15650:{x:.262442369642164,y:.265625158119339},15660:{x:.262423931711633,y:.265600949517079},15670:{x:.262405522328874,y:.265576775812975},15680:{x:.262387141430294,y:.265552636935305},15690:{x:.262368788952479,y:.265528532812533},15700:{x:.262350464832198,y:.265504463373313},15710:{x:.262332169006403,y:.265480428546484},15720:{x:.262313901412223,y:.265456428261069},15730:{x:.262295661986971,y:.26543246244628},15740:{x:.262277450668136,y:.265408531031512},15750:{x:.262259267393388,y:.265384633946344},15760:{x:.262241112100575,y:.26536077112054},15770:{x:.262222984727721,y:.265336942484046},15780:{x:.262204885213029,y:.265313147966991},15790:{x:.262186813494877,y:.265289387499685},15800:{x:.262168769511818,y:.265265661012622},15810:{x:.262150753202582,y:.265241968436473},15820:{x:.262132764506073,y:.265218309702093},15830:{x:.262114803361367,y:.265194684740516},15840:{x:.262096869707716,y:.265171093482951},15850:{x:.262078963484542,y:.265147535860792},15860:{x:.262061084631441,y:.265124011805607},15870:{x:.262043233088181,y:.265100521249142},15880:{x:.262025408794698,y:.26507706412332},15890:{x:.262007611691102,y:.265053640360243},15900:{x:.261989841717669,y:.265030249892184},15910:{x:.261972098814847,y:.265006892651596},15920:{x:.261954382923252,y:.264983568571103},15930:{x:.261936693983667,y:.264960277583506},15940:{x:.261919031937043,y:.264937019621779},15950:{x:.261901396724498,y:.264913794619068},15960:{x:.261883788287315,y:.264890602508693},15970:{x:.261866206566945,y:.264867443224144},15980:{x:.261848651505002,y:.264844316699086},15990:{x:.261831123043266,y:.264821222867351},16e3:{x:.26181362112368,y:.264798161662946},16010:{x:.26179614568835,y:.264775133020042},16020:{x:.261778696679547,y:.264752136872987},16030:{x:.261761274039702,y:.26472917315629},16040:{x:.26174387771141,y:.264706241804634},16050:{x:.261726507637424,y:.264683342752869},16060:{x:.261709163760662,y:.264660475936009},16070:{x:.261691846024196,y:.26463764128924},16080:{x:.261674554371265,y:.264614838747909},16090:{x:.261657288745261,y:.264592068247532},16100:{x:.261640049089738,y:.264569329723791},16110:{x:.261622835348406,y:.264546623112531},16120:{x:.261605647465133,y:.26452394834976},16130:{x:.261588485383944,y:.264501305371654},16140:{x:.26157134904902,y:.264478694114549},16150:{x:.261554238404698,y:.264456114514944},16160:{x:.261537153395472,y:.264433566509502},16170:{x:.261520093965986,y:.264411050035046},16180:{x:.261503060061044,y:.264388565028561},16190:{x:.261486051625599,y:.264366111427192},16200:{x:.261469068604761,y:.264343689168247},16210:{x:.26145211094379,y:.26432129818919},16220:{x:.261435178588098,y:.264298938427648},16230:{x:.261418271483251,y:.264276609821404},16240:{x:.261401389574964,y:.2642543123084},16250:{x:.261384532809103,y:.264232045826737},16260:{x:.261367701131686,y:.264209810314673},16270:{x:.261350894488877,y:.264187605710622},16280:{x:.261334112826992,y:.264165431953155},16290:{x:.261317356092495,y:.264143288980999},16300:{x:.261300624231997,y:.264121176733038},16310:{x:.261283917192258,y:.264099095148307},16320:{x:.261267234920184,y:.264077044165999},16330:{x:.261250577362829,y:.26405502372546},16340:{x:.261233944467391,y:.264033033766191},16350:{x:.261217336181216,y:.264011074227843},16360:{x:.261200752451793,y:.263989145050222},16370:{x:.261184193226756,y:.263967246173285},16380:{x:.261167658453885,y:.263945377537143},16390:{x:.261151148081102,y:.263923539082056},16400:{x:.261134662056472,y:.263901730748434},16410:{x:.261118200328204,y:.263879952476841},16420:{x:.261101762844648,y:.263858204207988},16430:{x:.261085349554297,y:.263836485882735},16440:{x:.261068960405785,y:.263814797442095},16450:{x:.261052595347885,y:.263793138827223},16460:{x:.261036254329512,y:.263771509979429},16470:{x:.261019937299721,y:.263749910840166},16480:{x:.261003644207707,y:.263728341351037},16490:{x:.260987375002802,y:.263706801453789},16500:{x:.260971129634477,y:.263685291090317},16510:{x:.260954908052343,y:.263663810202662},16520:{x:.260938710206146,y:.26364235873301},16530:{x:.260922536045771,y:.263620936623693},16540:{x:.260906385521238,y:.263599543817186},16550:{x:.260890258582705,y:.263578180256108},16560:{x:.260874155180465,y:.263556845883224},16570:{x:.260858075264945,y:.263535540641439},16580:{x:.260842018786708,y:.263514264473804},16590:{x:.260825985696453,y:.263493017323511},16600:{x:.26080997594501,y:.263471799133894},16610:{x:.260793989483345,y:.263450609848427},16620:{x:.260778026262555,y:.263429449410728},16630:{x:.260762086233871,y:.263408317764554},16640:{x:.260746169348656,y:.263387214853803},16650:{x:.260730275558405,y:.263366140622512},16660:{x:.260714404814743,y:.263345095014858},16670:{x:.260698557069427,y:.263324077975157},16680:{x:.260682732274345,y:.263303089447863},16690:{x:.260666930381514,y:.26328212937757},16700:{x:.260651151343082,y:.263261197709007},16710:{x:.260635395111323,y:.263240294387043},16720:{x:.260619661638644,y:.263219419356682},16730:{x:.260603950877577,y:.263198572563066},16740:{x:.260588262780783,y:.263177753951473},16750:{x:.260572597301053,y:.263156963467314},16760:{x:.2605569543913,y:.26313620105614},16770:{x:.260541334004568,y:.263115466663633},16780:{x:.260525736094025,y:.263094760235613},16790:{x:.260510160612966,y:.263074081718029},16800:{x:.260494607514811,y:.263053431056969},16810:{x:.260479076753105,y:.263032808198652},16820:{x:.260463568281517,y:.26301221308943},16830:{x:.260448082053841,y:.262991645675787},16840:{x:.260432618023995,y:.26297110590434},16850:{x:.26041717614602,y:.262950593721837},16860:{x:.260401756374079,y:.26293010907516},16870:{x:.26038635866246,y:.262909651911318},16880:{x:.260370982965572,y:.262889222177453},16890:{x:.260355629237944,y:.262868819820835},16900:{x:.260340297434228,y:.262848444788868},16910:{x:.260324987509198,y:.262828097029082},16920:{x:.260309699417747,y:.262807776489136},16930:{x:.260294433114889,y:.262787483116819},16940:{x:.260279188555758,y:.262767216860047},16950:{x:.260263965695606,y:.262746977666867},16960:{x:.260248764489806,y:.262726765485449},16970:{x:.260233584893849,y:.262706580264093},16980:{x:.260218426863343,y:.262686421951225},16990:{x:.260203290354015,y:.262666290495397},17e3:{x:.26018817532171,y:.262646185845289},17010:{x:.260173081722391,y:.262626107949704},17020:{x:.260158009512134,y:.262606056757572},17030:{x:.260142958647135,y:.262586032217947},17040:{x:.260127929083704,y:.262566034280008},17050:{x:.260112920778268,y:.262546062893057},17060:{x:.260097933687369,y:.262526118006523},17070:{x:.260082967767663,y:.262506199569955},17080:{x:.260068022975922,y:.262486307533027},17090:{x:.260053099269029,y:.262466441845534},17100:{x:.260038196603986,y:.262446602457395},17110:{x:.260023314937903,y:.262426789318651},17120:{x:.260008454228006,y:.262407002379463},17130:{x:.259993614431634,y:.262387241590116},17140:{x:.259978795506238,y:.262367506901013},17150:{x:.259963997409378,y:.262347798262679},17160:{x:.259949220098731,y:.26232811562576},17170:{x:.25993446353208,y:.262308458941021},17180:{x:.259919727667323,y:.262288828159345},17190:{x:.259905012462466,y:.262269223231737},17200:{x:.259890317875626,y:.262249644109319},17210:{x:.25987564386503,y:.262230090743332},17220:{x:.259860990389014,y:.262210563085136},17230:{x:.259846357406024,y:.262191061086207},17240:{x:.259831744874614,y:.262171584698139},17250:{x:.259817152753446,y:.262152133872644},17260:{x:.259802581001291,y:.262132708561551},17270:{x:.259788029577029,y:.262113308716803},17280:{x:.259773498439643,y:.262093934290461},17290:{x:.25975898754823,y:.262074585234703},17300:{x:.259744496861986,y:.262055261501819},17310:{x:.259730026340219,y:.262035963044217},17320:{x:.259715575942341,y:.262016689814418},17330:{x:.259701145627869,y:.261997441765059},17340:{x:.259686735356427,y:.261978218848889},17350:{x:.259672345087744,y:.261959021018772},17360:{x:.259657974781652,y:.261939848227686},17370:{x:.259643624398088,y:.26192070042872},17380:{x:.259629293897095,y:.261901577575079},17390:{x:.259614983238816,y:.261882479620077},17400:{x:.259600692383502,y:.261863406517142},17410:{x:.259586421291502,y:.261844358219814},17420:{x:.259572169923273,y:.261825334681743},17430:{x:.25955793823937,y:.261806335856691},17440:{x:.259543726200452,y:.261787361698531},17450:{x:.25952953376728,y:.261768412161246},17460:{x:.259515360900716,y:.26174948719893},17470:{x:.259501207561723,y:.261730586765787},17480:{x:.259487073711365,y:.261711710816127},17490:{x:.259472959310808,y:.261692859304375},17500:{x:.259458864321314,y:.26167403218506},17510:{x:.25944478870425,y:.261655229412822},17520:{x:.259430732421078,y:.26163645094241},17530:{x:.259416695433363,y:.261617696728679},17540:{x:.259402677702767,y:.261598966726591},17550:{x:.259388679191049,y:.261580260891218},17560:{x:.259374699860071,y:.261561579177738},17570:{x:.259360739671788,y:.261542921541436},17580:{x:.259346798588256,y:.261524287937701},17590:{x:.259332876571626,y:.261505678322031},17600:{x:.259318973584149,y:.261487092650029},17610:{x:.25930508958817,y:.261468530877405},17620:{x:.259291224546132,y:.261449992959969},17630:{x:.259277378420574,y:.261431478853643},17640:{x:.259263551174129,y:.261412988514447},17650:{x:.259249742769529,y:.261394521898511},17660:{x:.259235953169599,y:.261376078962065},17670:{x:.259222182337258,y:.261357659661444},17680:{x:.259208430235524,y:.261339263953088},17690:{x:.259194696827504,y:.261320891793536},17700:{x:.259180982076402,y:.261302543139435},17710:{x:.259167285945517,y:.26128421794753},17720:{x:.259153608398238,y:.261265916174672},17730:{x:.25913994939805,y:.261247637777811},17740:{x:.25912630890853,y:.261229382713999},17750:{x:.259112686893347,y:.261211150940392},17760:{x:.259099083316264,y:.261192942414244},17770:{x:.259085498141135,y:.261174757092912},17780:{x:.259071931331905,y:.261156594933852},17790:{x:.259058382852613,y:.26113845589462},17800:{x:.259044852667386,y:.261120339932874},17810:{x:.259031340740445,y:.261102247006369},17820:{x:.259017847036098,y:.261084177072962},17830:{x:.259004371518748,y:.261066130090606},17840:{x:.258990914152885,y:.261048106017357},17850:{x:.258977474903089,y:.261030104811364},17860:{x:.258964053734029,y:.26101212643088},17870:{x:.258950650610467,y:.260994170834252},17880:{x:.258937265497248,y:.260976237979926},17890:{x:.258923898359312,y:.260958327826446},17900:{x:.258910549161683,y:.260940440332451},17910:{x:.258897217869474,y:.26092257545668},17920:{x:.258883904447887,y:.260904733157965},17930:{x:.258870608862212,y:.260886913395239},17940:{x:.258857331077825,y:.260869116127525},17950:{x:.258844071060188,y:.260851341313948},17960:{x:.258830828774854,y:.260833588913723},17970:{x:.258817604187457,y:.260815858886165},17980:{x:.258804397263723,y:.26079815119068},17990:{x:.25879120796946,y:.260780465786771},18e3:{x:.258778036270563,y:.260762802634035},18010:{x:.258764882133012,y:.260745161692162},18020:{x:.258751745522874,y:.260727542920938},18030:{x:.258738626406298,y:.260709946280241},18040:{x:.258725524749522,y:.260692371730043},18050:{x:.258712440518863,y:.260674819230409},18060:{x:.258699373680727,y:.260657288741496},18070:{x:.258686324201602,y:.260639780223555},18080:{x:.258673292048059,y:.260622293636929},18090:{x:.258660277186754,y:.260604828942052},18100:{x:.258647279584424,y:.260587386099451},18110:{x:.258634299207892,y:.260569965069744},18120:{x:.25862133602406,y:.26055256581364},18130:{x:.258608389999916,y:.26053518829194},18140:{x:.258595461102528,y:.260517832465535},18150:{x:.258582549299047,y:.260500498295406},18160:{x:.258569654556704,y:.260483185742626},18170:{x:.258556776842814,y:.260465894768356},18180:{x:.25854391612477,y:.260448625333848},18190:{x:.25853107237005,y:.260431377400444},18200:{x:.258518245546209,y:.260414150929574},18210:{x:.258505435620883,y:.260396945882758},18220:{x:.258492642561791,y:.260379762221603},18230:{x:.258479866336729,y:.260362599907807},18240:{x:.258467106913574,y:.260345458903155},18250:{x:.258454364260281,y:.260328339169519},18260:{x:.258441638344887,y:.260311240668861},18270:{x:.258428929135505,y:.26029416336323},18280:{x:.25841623660033,y:.26027710721476},18290:{x:.258403560707632,y:.260260072185675},18300:{x:.258390901425763,y:.260243058238284},18310:{x:.258378258723148,y:.260226065334984},18320:{x:.258365632568296,y:.260209093438257},18330:{x:.258353022929788,y:.260192142510671},18340:{x:.258340429776286,y:.260175212514881},18350:{x:.258327853076529,y:.260158303413627},18360:{x:.258315292799329,y:.260141415169734},18370:{x:.25830274891358,y:.260124547746113},18380:{x:.258290221388248,y:.260107701105759},18390:{x:.258277710192379,y:.260090875211753},18400:{x:.258265215295091,y:.260074070027258},18410:{x:.258252736665581,y:.260057285515525},18420:{x:.258240274273119,y:.260040521639884},18430:{x:.258227828087054,y:.260023778363754},18440:{x:.258215398076806,y:.260007055650633},18450:{x:.25820298421187,y:.259990353464105},18460:{x:.25819058646182,y:.259973671767836},18470:{x:.2581782047963,y:.259957010525575},18480:{x:.25816583918503,y:.259940369701154},18490:{x:.258153489597802,y:.259923749258486},18500:{x:.258141156004486,y:.259907149161569},18510:{x:.25812883837502,y:.259890569374479},18520:{x:.25811653667942,y:.259874009861378},18530:{x:.258104250887773,y:.259857470586504},18540:{x:.258091980970238,y:.259840951514182},18550:{x:.258079726897049,y:.259824452608815},18560:{x:.25806748863851,y:.259807973834886},18570:{x:.258055266164998,y:.259791515156961},18580:{x:.258043059446963,y:.259775076539684},18590:{x:.258030868454926,y:.259758657947781},18600:{x:.258018693159479,y:.259742259346056},18610:{x:.258006533531287,y:.259725880699395},18620:{x:.257994389541084,y:.259709521972761},18630:{x:.257982261159677,y:.259693183131199},18640:{x:.257970148357942,y:.25967686413983},18650:{x:.257958051106826,y:.259660564963857},18660:{x:.257945969377347,y:.259644285568558},18670:{x:.257933903140592,y:.259628025919292},18680:{x:.25792185236772,y:.259611785981496},18690:{x:.257909817029957,y:.259595565720684},18700:{x:.2578977970986,y:.259579365102448},18710:{x:.257885792545014,y:.259563184092458},18720:{x:.257873803340636,y:.259547022656461},18730:{x:.257861829456969,y:.25953088076028},18740:{x:.257849870865584,y:.259514758369818},18750:{x:.257837927538124,y:.259498655451051},18760:{x:.257825999446298,y:.259482571970033},18770:{x:.257814086561882,y:.259466507892896},18780:{x:.257802188856721,y:.259450463185845},18790:{x:.25779030630273,y:.259434437815163},18800:{x:.257778438871888,y:.259418431747208},18810:{x:.257766586536243,y:.259402444948413},18820:{x:.257754749267908,y:.259386477385287},18830:{x:.257742927039066,y:.259370529024414},18840:{x:.257731119821965,y:.259354599832451},18850:{x:.257719327588919,y:.259338689776134},18860:{x:.257707550312309,y:.259322798822267},18870:{x:.257695787964582,y:.259306926937735},18880:{x:.257684040518252,y:.259291074089492},18890:{x:.257672307945896,y:.259275240244568},18900:{x:.257660590220158,y:.259259425370066},18910:{x:.257648887313749,y:.259243629433164},18920:{x:.257637199199442,y:.25922785240111},18930:{x:.257625525850076,y:.259212094241229},18940:{x:.257613867238557,y:.259196354920914},18950:{x:.257602223337853,y:.259180634407636},18960:{x:.257590594120997,y:.259164932668935},18970:{x:.257578979561086,y:.259149249672424},18980:{x:.257567379631282,y:.259133585385787},18990:{x:.25755579430481,y:.259117939776782},19e3:{x:.257544223554958,y:.259102312813239},19010:{x:.257532667355079,y:.259086704463055},19020:{x:.257521125678588,y:.259071114694204},19030:{x:.257509598498963,y:.259055543474727},19040:{x:.257498085789747,y:.259039990772738},19050:{x:.257486587524543,y:.259024456556421},19060:{x:.257475103677018,y:.25900894079403},19070:{x:.2574636342209,y:.25899344345389},19080:{x:.257452179129982,y:.258977964504397},19090:{x:.257440738378116,y:.258962503914014},19100:{x:.257429311939216,y:.258947061651277},19110:{x:.257417899787261,y:.258931637684791},19120:{x:.257406501896287,y:.258916231983227},19130:{x:.257395118240394,y:.258900844515331},19140:{x:.257383748793742,y:.258885475249912},19150:{x:.257372393530554,y:.258870124155853},19160:{x:.25736105242511,y:.258854791202102},19170:{x:.257349725451753,y:.258839476357677},19180:{x:.257338412584887,y:.258824179591664},19190:{x:.257327113798975,y:.258808900873217},19200:{x:.257315829068539,y:.258793640171559},19210:{x:.257304558368164,y:.258778397455978},19220:{x:.257293301672492,y:.258763172695833},19230:{x:.257282058956225,y:.258747965860548},19240:{x:.257270830194126,y:.258732776919614},19250:{x:.257259615361015,y:.258717605842592},19260:{x:.257248414431772,y:.258702452599105},19270:{x:.257237227381336,y:.258687317158848},19280:{x:.257226054184705,y:.258672199491578},19290:{x:.257214894816934,y:.258657099567121},19300:{x:.257203749253138,y:.258642017355368},19310:{x:.25719261746849,y:.258626952826277},19320:{x:.257181499438221,y:.258611905949869},19330:{x:.257170395137617,y:.258596876696235},19340:{x:.257159304542027,y:.258581865035527},19350:{x:.257148227626853,y:.258566870937966},19360:{x:.257137164367556,y:.258551894373835},19370:{x:.257126114739655,y:.258536935313483},19380:{x:.257115078718724,y:.258521993727325},19390:{x:.257104056280397,y:.25850706958584},19400:{x:.257093047400361,y:.258492162859569},19410:{x:.257082052054362,y:.258477273519121},19420:{x:.257071070218202,y:.258462401535166},19430:{x:.257060101867739,y:.258447546878439},19440:{x:.257049146978886,y:.25843270951974},19450:{x:.257038205527614,y:.25841788942993},19460:{x:.257027277489949,y:.258403086579935},19470:{x:.25701636284197,y:.258388300940744},19480:{x:.257005461559816,y:.25837353248341},19490:{x:.256994573619678,y:.258358781179047},19500:{x:.256983698997804,y:.258344046998832},19510:{x:.256972837670494,y:.258329329914005},19520:{x:.256961989614107,y:.25831462989587},19530:{x:.256951154805053,y:.258299946915789},19540:{x:.256940333219798,y:.258285280945192},19550:{x:.256929524834864,y:.258270631955565},19560:{x:.256918729626823,y:.258255999918459},19570:{x:.256907947572306,y:.258241384805487},19580:{x:.256897178647994,y:.258226786588321},19590:{x:.256886422830623,y:.258212205238696},19600:{x:.256875680096984,y:.258197640728408},19610:{x:.256864950423918,y:.258183093029313},19620:{x:.256854233788324,y:.258168562113328},19630:{x:.256843530167149,y:.258154047952432},19640:{x:.256832839537398,y:.258139550518662},19650:{x:.256822161876125,y:.258125069784118},19660:{x:.256811497160438,y:.258110605720958},19670:{x:.256800845367498,y:.2580961583014},19680:{x:.256790206474518,y:.258081727497724},19690:{x:.256779580458763,y:.258067313282268},19700:{x:.256768967297551,y:.258052915627428},19710:{x:.256758366968249,y:.258038534505663},19720:{x:.256747779448281,y:.258024169889488},19730:{x:.256737204715118,y:.258009821751479},19740:{x:.256726642746284,y:.25799549006427},19750:{x:.256716093519356,y:.257981174800553},19760:{x:.256705557011959,y:.257966875933081},19770:{x:.256695033201772,y:.257952593434662},19780:{x:.256684522066524,y:.257938327278166},19790:{x:.256674023583995,y:.257924077436518},19800:{x:.256663537732014,y:.257909843882703},19810:{x:.256653064488462,y:.257895626589762},19820:{x:.256642603831271,y:.257881425530795},19830:{x:.256632155738421,y:.25786724067896},19840:{x:.256621720187945,y:.257853072007472},19850:{x:.256611297157924,y:.257838919489601},19860:{x:.256600886626489,y:.257824783098676},19870:{x:.25659048857182,y:.257810662808085},19880:{x:.25658010297215,y:.257796558591268},19890:{x:.256569729805756,y:.257782470421726},19900:{x:.256559369050969,y:.257768398273014},19910:{x:.256549020686167,y:.257754342118744},19920:{x:.256538684689777,y:.257740301932583},19930:{x:.256528361040274,y:.257726277688258},19940:{x:.256518049716184,y:.257712269359547},19950:{x:.256507750696081,y:.257698276920286},19960:{x:.256497463958585,y:.257684300344367},19970:{x:.256487189482368,y:.257670339605737},19980:{x:.256476927246147,y:.257656394678398},19990:{x:.256466677228689,y:.257642465536408},2e4:{x:.256456439408808,y:.257628552153879}};function $H(){for(let[e,t]of Object.entries(Y2))for(let n=1;n<10;n++)Y2[parseInt(e)+n]=t}function aE(e){return oE||($H(),oE=!0),Y2[Math.round(e)]}function ib(e,t){let[n,i,r]=HH(e,t),[a,s]=GH(n,i,r);return[jn(a,0,1),jn(s,0,1)]}function WH(e,t){let[n,i,r]=zH(e,t),[a,s]=jH(n,i,r);return[a,s]}function sE(e,t){let[n,i]=ib(e,t);return J2(n,i)}function cE(e){let[t,n]=e4(e)??[-1,-1];if(!(t===-1||n===-1))return WH(t,n)}function HH(e,t,n=1){e=e/360;let i,r,a,s=Math.floor(e*6),c=e*6-s,l=n*(1-t),d=n*(1-c*t),f=n*(1-(1-c)*t);switch(s%6){case 0:i=n,r=f,a=l;break;case 1:i=d,r=n,a=l;break;case 2:i=l,r=n,a=f;break;case 3:i=l,r=d,a=n;break;case 4:i=f,r=l,a=n;break;case 5:default:i=n,r=l,a=d}return[i,r,a]}function jH(e,t,n){let i=Math.max(e,t,n),r=Math.min(e,t,n),a=i-r,s,c=i===0?0:a/i,l=i;switch(i){case r:s=0;break;case e:s=t-n+a*(t<n?6:0),s/=6*a;break;case t:s=n-e+a*2,s/=6*a;break;case n:default:s=e-t+a*4,s/=6*a;break}return[s*360,c,l]}function GH(e,t,n){e=e>.04045?Math.pow((e+.055)/(1+.055),2.4):e/12.92,t=t>.04045?Math.pow((t+.055)/(1+.055),2.4):t/12.92,n=n>.04045?Math.pow((n+.055)/(1+.055),2.4):n/12.92;let i=e*.664511+t*.154324+n*.162028,r=e*.283881+t*.668433+n*.047685,a=e*88e-6+t*.07231+n*.986039,s=i+r+a,c=s==0?0:i/s,l=s==0?0:r/s;return[c,l]}function zH(e,t){t=t===0?1e-11:t;let i=1-e-t,r=Number((254/254).toFixed(2)),a=r/t*e,s=r/t*i,c=[a*1.656492-r*.354851-s*.255038,-a*.707196+r*1.655397+s*.036152,a*.051713-r*.121364+s*1.01153];c=c.map(d=>d<=.0031308?12.92*d:(1+.055)*Math.pow(d,1/2.4)-.055),c=c.map(d=>Math.max(0,d));let l=Math.max(...c);return l>1&&(c=c.map(d=>d/l)),c=c.map(d=>isNaN(d)||d<0?0:d),[c[0],c[1],c[2]]}function Z2(e){return 1e6/e}function Q2(e){return 1e6/e}function J2(e,t){let n=(e-.332)/(.1858-t),i=Math.abs(437*Math.pow(n,3)+3601*Math.pow(n,2)+6861*n+5517);return Q2(i)}function e4(e){let t=Z2(e),n=aE(Math.round(t));if(n!==void 0)return[n.x,n.y]}var or=J.get("ColorControlServer"),uE=rl.with(Qe.Feature.HueSaturation,Qe.Feature.EnhancedHue,Qe.Feature.ColorLoop,Qe.Feature.Xy,Qe.Feature.ColorTemperature),Ho=0,eo=65279,KH=0,XH=65279,ic=0,x0=254,jh=65535,Au=0,Mu=254,lE=1,dE=254,w0=class extends uE{get x(){return this.#v(this.state.currentX)}set x(t){this.#p("currentX",t)}get y(){return this.#v(this.state.currentY)}set y(t){this.#p("currentY",t)}get hue(){return this.state.currentHue*360/254}set hue(t){this.state.currentHue=jn(Math.round(t*254/360),ic,x0)}get enhancedHue(){return this.state.enhancedCurrentHue}set enhancedHue(t){this.state.enhancedCurrentHue=jn(t,ic,jh)}get saturation(){return this.state.currentSaturation/254}set saturation(t){this.state.currentSaturation=jn(Math.round(t*254),Au,Mu)}get mireds(){return this.state.colorTemperatureMireds}set mireds(t){this.state.colorTemperatureMireds=jn(t,this.minimumColorTemperatureMireds,this.maximumColorTemperatureMireds)}get kelvin(){return Z2(this.mireds)}set kelvin(t){this.mireds=Q2(t)}get minimumColorTemperatureMireds(){return this.state.colorTempPhysicalMinMireds===0?KH:this.state.colorTempPhysicalMinMireds}get maximumColorTemperatureMireds(){return this.state.colorTempPhysicalMaxMireds===0?XH:this.state.colorTempPhysicalMaxMireds}get whitePointX(){return this.#y(this.state.whitePointX)}set whitePointX(t){this.#p("whitePointX",t)}get whitePointY(){return this.#y(this.state.whitePointY)}set whitePointY(t){this.#p("whitePointY",t)}get colorPointRx(){return this.#y(this.state.colorPointRx)}set colorPointRx(t){this.#p("colorPointRx",t)}get colorPointRy(){return this.#y(this.state.colorPointRy)}set colorPointRy(t){this.#p("colorPointRy",t)}get colorPointGx(){return this.#y(this.state.colorPointGx)}set colorPointGx(t){this.#p("colorPointGx",t)}get colorPointGy(){return this.#y(this.state.colorPointGy)}set colorPointGy(t){this.#p("colorPointGy",t)}get colorPointBx(){return this.#y(this.state.colorPointBx)}set colorPointBx(t){this.#p("colorPointBx",t)}initialize(){if(this.#o(),this.state.colorCapabilities=this.features,this.features.colorTemperature&&this.#r()!==ri.BootReason.SoftwareUpdateCompleted){let t=this.state.startUpColorTemperatureMireds??null,n=this.state.colorTemperatureMireds,i;switch(t){case null:i=n;break;default:i=t;break}i!==n&&(this.state.colorMode=Qe.ColorMode.ColorTemperatureMireds,this.state.enhancedColorMode=Qe.EnhancedColorMode.ColorTemperatureMireds,this.state.colorTemperatureMireds=i)}}moveToHue({optionsMask:t,optionsOverride:n,hue:i,direction:r,transitionTime:a}){if(this.#s(t,n))return Pe.then(this.setColorMode(Qe.ColorMode.CurrentHueAndCurrentSaturation),()=>this.moveToHueLogic(i,r,a))}moveToHueLogic(t,n,i,r=!1){if(!this.state.managedTransitionTimeHandling||i===0){this.internal.stopHueTransition(),r?this.state.enhancedCurrentHue=t:this.state.currentHue=t,this.state.remainingTime=0;return}let a=r?this.state.enhancedCurrentHue:this.state.currentHue,s=r?jh:x0,c=Math.ceil(this.#i(a,t,n,s)/i*10);this.#c(r?"enhancedHue":"hue",c,ic,s,t)}moveHue({optionsMask:t,optionsOverride:n,moveMode:i,rate:r}){if(this.#n(i,r),!!this.#s(t,n))return Pe.then(this.setColorMode(Qe.ColorMode.CurrentHueAndCurrentSaturation),()=>i===Qe.MoveMode.Stop?this.stopHueAndSaturationMovement():this.moveHueLogic(i,r))}moveHueLogic(t,n,i=!1){let r=i?jh:x0;if(!this.state.managedTransitionTimeHandling){this.internal.stopHueTransition(),i?this.state.enhancedCurrentHue=If(this.state.enhancedCurrentHue,n,ic,r):this.state.currentHue=If(this.state.currentHue,n,ic,r),this.state.remainingTime=0;return}this.#c(i?"enhancedHue":"hue",n*(t===Qe.MoveMode.Up?1:-1),ic,r)}stopHueAndSaturationMovement(){this.internal.stopHueTransition(),this.internal.stopSaturationTransition()}stepHue({optionsMask:t,optionsOverride:n,stepMode:i,stepSize:r,transitionTime:a}){if(this.#s(t,n))return Pe.then(this.setColorMode(Qe.ColorMode.CurrentHueAndCurrentSaturation),()=>this.stepHueLogic(i,r,a))}stepHueLogic(t,n,i,r=!1){let a=r?this.state.enhancedCurrentHue:this.state.currentHue,s=r?jh:x0,c=If(a,t===Qe.StepMode.Up?n:-n,ic,s);if(!this.state.managedTransitionTimeHandling||i===0){this.internal.stopHueTransition(),r?this.state.enhancedCurrentHue=c:this.state.currentHue=c,this.state.remainingTime=0;return}let l=Math.ceil(n/i*10)*(t===Qe.StepMode.Up?1:-1);this.#c(r?"enhancedHue":"hue",l,ic,s,c)}moveToSaturation({optionsMask:t,optionsOverride:n,saturation:i,transitionTime:r}){if(this.#s(t,n))return Pe.then(this.setColorMode(Qe.ColorMode.CurrentHueAndCurrentSaturation),()=>this.moveToSaturationLogic(i,r))}moveToSaturationLogic(t,n){if(!this.state.managedTransitionTimeHandling||n===0){this.internal.stopSaturationTransition(),this.state.currentSaturation=t,this.state.remainingTime=0;return}let i=Math.ceil((t-this.state.currentSaturation)/n*10);this.#c("saturation",i,Au,Mu,t)}moveSaturation({optionsMask:t,optionsOverride:n,moveMode:i,rate:r}){if(this.#n(i,r),!!this.#s(t,n))return Pe.then(this.setColorMode(Qe.ColorMode.CurrentHueAndCurrentSaturation),()=>i===Qe.MoveMode.Stop?this.stopHueAndSaturationMovement():this.moveSaturationLogic(i,r))}moveSaturationLogic(t,n){if(!this.state.managedTransitionTimeHandling){this.internal.stopSaturationTransition(),this.state.currentSaturation=t===Qe.MoveMode.Up?Mu:Au,this.state.remainingTime=0;return}this.#c("saturation",n*(t===Qe.MoveMode.Up?1:-1),Au,Mu)}stepSaturation({optionsMask:t,optionsOverride:n,stepMode:i,stepSize:r,transitionTime:a}){if(this.#s(t,n))return Pe.then(this.setColorMode(Qe.ColorMode.CurrentHueAndCurrentSaturation),()=>this.stepSaturationLogic(i,r,a))}stepSaturationLogic(t,n,i){let r=Math.ceil(n/i*10)*(t===Qe.StepMode.Up?1:-1),a=jn(t===Qe.StepMode.Up?this.state.currentSaturation+n:this.state.currentSaturation-n,Au,Mu);if(!this.state.managedTransitionTimeHandling||i===0||this.state.currentSaturation===a){this.internal.stopSaturationTransition(),this.state.currentSaturation=a,this.state.remainingTime=0;return}this.#c("saturation",r,Au,Mu,a)}moveToHueAndSaturation({optionsOverride:t,optionsMask:n,saturation:i,hue:r,transitionTime:a}){if(this.#s(n,t))return Pe.then(this.setColorMode(Qe.ColorMode.CurrentHueAndCurrentSaturation),()=>this.moveToHueAndSaturationLogic(r,i,a))}moveToHueAndSaturationLogic(t,n,i){return Pe.then(this.moveToHueLogic(t,Qe.Direction.ShortestDistance,i,!1),()=>this.moveToSaturationLogic(n,i))}moveToColor({optionsMask:t,optionsOverride:n,colorX:i,colorY:r,transitionTime:a}){if(this.#s(t,n))return Pe.then(this.setColorMode(Qe.ColorMode.CurrentXAndCurrentY),()=>this.moveToColorLogic(i,r,a))}moveToColorLogic(t,n,i){if(!this.state.managedTransitionTimeHandling||i===0){this.internal.stopXTransition(),this.internal.stopYTransition(),this.state.currentX=jn(t,Ho,eo),this.state.currentY=jn(n,Ho,eo),this.state.remainingTime=0;return}let r=Math.floor((t-this.state.currentX)/i*10),a=Math.floor((n-this.state.currentY)/i*10);this.#c("x",r,Ho,eo,t),this.#c("y",a,Ho,eo,n)}moveColor({optionsOverride:t,optionsMask:n,rateX:i,rateY:r}){if(this.#s(n,t))return i===0&&r===0?this.stopAllColorMovement():Pe.then(this.setColorMode(Qe.ColorMode.CurrentXAndCurrentY),()=>this.moveColorLogic(i,r))}stopAllColorMovement(){this.internal.stopXTransition(),this.internal.stopYTransition(),this.internal.stopHueTransition(),this.internal.stopSaturationTransition(),this.internal.stopColorTemperatureTransition(),this.state.remainingTime=0}moveColorLogic(t,n){if(!this.state.managedTransitionTimeHandling){this.internal.stopXTransition(),this.internal.stopYTransition(),t!==0&&(this.state.currentX=eo),n!==0&&(this.state.currentY=eo),this.state.remainingTime=0;return}t!==0&&this.#c("x",t,Ho,eo),n!==0&&this.#c("y",n,Ho,eo)}stepColor({optionsOverride:t,optionsMask:n,stepX:i,stepY:r,transitionTime:a}){if(this.#s(n,t))return Pe.then(this.setColorMode(Qe.ColorMode.CurrentXAndCurrentY),()=>this.stepColorLogic(i,r,a))}stepColorLogic(t,n,i){let r=jn(this.state.currentX+t,Ho,eo),a=jn(this.state.currentY+n,Ho,eo);if(!this.state.managedTransitionTimeHandling||i===0){this.internal.stopXTransition(),this.internal.stopYTransition(),this.state.currentX=r,this.state.currentY=a,this.state.remainingTime=0;return}if(t!==0){let s=Math.floor(t/i*10);this.#c("x",s,Ho,eo,r)}if(n!==0){let s=Math.floor(n/i*10);this.#c("y",s,Ho,eo,a)}}moveToColorTemperature({optionsOverride:t,optionsMask:n,colorTemperatureMireds:i,transitionTime:r}){if(this.#s(n,t))return Pe.then(this.setColorMode(Qe.ColorMode.ColorTemperatureMireds),()=>this.moveToColorTemperatureLogic(i,r))}moveToColorTemperatureLogic(t,n){if(!this.state.managedTransitionTimeHandling||n===0){this.internal.stopColorTemperatureTransition(),this.state.colorTemperatureMireds=t,this.state.remainingTime=0;return}let i=Math.ceil((t-this.state.colorTemperatureMireds)/n*10);this.#c("colorTemperature",i,this.minimumColorTemperatureMireds,this.maximumColorTemperatureMireds,t)}enhancedMoveToHue({optionsMask:t,optionsOverride:n,enhancedHue:i,direction:r,transitionTime:a}){if(this.#s(t,n))return Pe.then(this.setEnhancedColorMode(Qe.EnhancedColorMode.EnhancedCurrentHueAndCurrentSaturation),()=>this.moveToHueLogic(i,r,a,!0))}enhancedMoveHue({optionsMask:t,optionsOverride:n,moveMode:i,rate:r}){if(this.#n(i,r),!!this.#s(t,n))return Pe.then(this.setEnhancedColorMode(Qe.EnhancedColorMode.EnhancedCurrentHueAndCurrentSaturation),()=>i===Qe.MoveMode.Stop?this.stopHueAndSaturationMovement():this.moveHueLogic(i,r,!0))}enhancedStepHue({optionsMask:t,optionsOverride:n,stepMode:i,stepSize:r,transitionTime:a}){if(this.#s(t,n))return Pe.then(this.setEnhancedColorMode(Qe.EnhancedColorMode.EnhancedCurrentHueAndCurrentSaturation),()=>this.stepHueLogic(i,r,a,!0))}enhancedMoveToHueAndSaturation({optionsOverride:t,optionsMask:n,enhancedHue:i,saturation:r,transitionTime:a}){if(this.#s(n,t))return Pe.then(this.setEnhancedColorMode(Qe.EnhancedColorMode.EnhancedCurrentHueAndCurrentSaturation),()=>this.moveToEnhancedHueAndSaturationLogic(i,r,a))}moveToEnhancedHueAndSaturationLogic(t,n,i){return Pe.then(this.moveToHueLogic(t,Qe.Direction.ShortestDistance,i,!0),()=>this.moveToSaturationLogic(n,i))}colorLoopSet({optionsMask:t,optionsOverride:n,updateFlags:i,action:r,direction:a,time:s,startHue:c}){if(this.#s(t,n)&&(i.updateDirection&&(this.state.colorLoopDirection=a),i.updateTime&&(this.state.colorLoopTime=s),i.updateStartHue&&(this.state.colorLoopStartEnhancedHue=c),i.updateAction))return r===Qe.Action.DeActivateTheColorLoop?this.#e():Pe.then(this.setEnhancedColorMode(Qe.EnhancedColorMode.EnhancedCurrentHueAndCurrentSaturation),()=>{if(this.state.colorLoopStoredEnhancedHue=this.state.enhancedCurrentHue,this.state.colorLoopActive=Qe.ColorLoopActive.Active,r===Qe.Action.ActivateTheColorLoopFromTheValueInTheColorLoopStartEnhancedHueField)return this.startColorLoopLogic(this.state.colorLoopStartEnhancedHue);if(r===Qe.Action.ActivateTheColorLoopFromTheValueOfTheEnhancedCurrentHueAttribute)return this.startColorLoopLogic(this.state.enhancedCurrentHue)})}#e(){return Pe.then(this.stopColorLoopLogic(),()=>{this.state.colorLoopActive===Qe.ColorLoopActive.Active&&(this.state.colorLoopActive=Qe.ColorLoopActive.Inactive,this.state.enhancedCurrentHue=this.state.colorLoopStoredEnhancedHue)})}stopColorLoopLogic(){this.internal.stopHueTransition()}startColorLoopLogic(t){return this.state.enhancedCurrentHue=t,this.moveHueLogic(this.state.colorLoopDirection===Qe.ColorLoopDirection.Decrement?Qe.MoveMode.Down:Qe.MoveMode.Up,Math.floor(jh/this.state.colorLoopTime),!0)}stopMoveStep({optionsOverride:t,optionsMask:n}){if(this.#s(n,t))return this.stopMoveStepLogic()}stopMoveStepLogic(){this.state.colorLoopActive===Qe.ColorLoopActive.Inactive&&this.internal.stopHueTransition(),this.internal.stopSaturationTransition(),this.internal.stopColorTemperatureTransition(),this.internal.stopXTransition(),this.internal.stopYTransition()}moveColorTemperature({optionsOverride:t,optionsMask:n,moveMode:i,colorTemperatureMinimumMireds:r,colorTemperatureMaximumMireds:a,rate:s}){if(this.#n(i,s),!!this.#s(n,t))return Pe.then(this.setColorMode(Qe.ColorMode.ColorTemperatureMireds),()=>i===Qe.MoveMode.Stop?this.stopHueAndSaturationMovement():(r===0&&(r=this.minimumColorTemperatureMireds),a===0&&(a=this.maximumColorTemperatureMireds),r=jn(r,this.minimumColorTemperatureMireds,this.maximumColorTemperatureMireds),a=jn(a,this.minimumColorTemperatureMireds,this.maximumColorTemperatureMireds),this.moveColorTemperatureLogic(i,s,r,a)))}moveColorTemperatureLogic(t,n,i,r){if(!this.state.managedTransitionTimeHandling){this.internal.stopColorTemperatureTransition(),this.state.colorTemperatureMireds=t===Qe.MoveMode.Up?r:i,this.state.remainingTime=0;return}let a=n*(t===Qe.MoveMode.Up?1:-1);this.#c("colorTemperature",a,i,r)}stepColorTemperature({optionsOverride:t,optionsMask:n,stepMode:i,stepSize:r,transitionTime:a,colorTemperatureMinimumMireds:s,colorTemperatureMaximumMireds:c}){if(this.#s(n,t))return Pe.then(this.setColorMode(Qe.ColorMode.ColorTemperatureMireds),()=>(s===0&&(s=this.minimumColorTemperatureMireds),c===0&&(c=this.maximumColorTemperatureMireds),s=jn(s,this.minimumColorTemperatureMireds,this.maximumColorTemperatureMireds),c=jn(c,this.minimumColorTemperatureMireds,this.maximumColorTemperatureMireds),this.stepColorTemperatureLogic(i,r,a,s,c)))}stepColorTemperatureLogic(t,n,i,r,a){let s=jn(this.state.colorTemperatureMireds+(t===Qe.StepMode.Up?n:-n),r,a);if(!this.state.managedTransitionTimeHandling||i===0){this.internal.stopColorTemperatureTransition(),this.state.colorTemperatureMireds=s,this.state.remainingTime=0;return}let c=Math.ceil(n/i*10)*(t===Qe.StepMode.Up?1:-1);this.#c("colorTemperature",c,r,a)}setColorMode(t){if(this.state.colorMode!==t)return Pe.then(this.switchColorMode(this.state.colorMode,t),()=>{this.state.colorMode=t,this.state.enhancedColorMode=t})}setEnhancedColorMode(t){if(this.state.enhancedColorMode===t)return;let n;return t===Qe.EnhancedColorMode.EnhancedCurrentHueAndCurrentSaturation?n=this.setColorMode(Qe.ColorMode.CurrentHueAndCurrentSaturation):n=this.setColorMode(t),Pe.then(n,()=>{this.state.enhancedColorMode=t})}switchColorMode(t,n){t!==n&&Pe.then(this.stopAllColorMovement(),()=>{switch(t){case Qe.ColorMode.CurrentHueAndCurrentSaturation:switch(n){case Qe.ColorMode.CurrentXAndCurrentY:let[i,r]=ib(this.hue,this.saturation);this.x=i,this.y=r;break;case Qe.ColorMode.ColorTemperatureMireds:let a=sE(this.hue,this.saturation);a===void 0?or.warn(`Could not convert hue/saturation (${this.hue}/${this.saturation}) to color temperature`):this.mireds=a;break}break;case Qe.ColorMode.CurrentXAndCurrentY:switch(n){case Qe.ColorMode.CurrentHueAndCurrentSaturation:let[i,r]=ib(this.x,this.y);this.hue=i,this.saturation=r;break;case Qe.ColorMode.ColorTemperatureMireds:let a=J2(this.x,this.y);a===void 0?or.warn(`Could not convert xy ${this.x/this.y} to color temperature`):this.mireds=a;break}break;case Qe.ColorMode.ColorTemperatureMireds:switch(n){case Qe.ColorMode.CurrentHueAndCurrentSaturation:let i=cE(this.mireds);if(i===void 0)or.warn(`Could not convert color temperature ${this.mireds} to hue/saturation`);else{let[a,s]=i;this.hue=a,this.saturation=s}break;case Qe.ColorMode.CurrentXAndCurrentY:let r=e4(this.mireds);if(r===void 0)or.warn("Could not convert color temperature to xy");else{let[a,s]=r;this.x=a,this.y=s}break}break}})}#t(){let t=0;switch(this.state.colorMode){case Qe.ColorMode.CurrentHueAndCurrentSaturation:this.internal.hueTransitionIntervalTimer?.isRunning&&(t=this.internal.currentHueTransitionData?.remainingTime??0),this.internal.saturationTransitionIntervalTimer?.isRunning&&(t=Math.max(t,this.internal.currentSaturationTransitionData?.remainingTime??0));break;case Qe.ColorMode.CurrentXAndCurrentY:this.internal.xTransitionIntervalTimer?.isRunning&&(t=this.internal.currentXTransitionData?.remainingTime??0),this.internal.yTransitionIntervalTimer?.isRunning&&(t=Math.max(t,this.internal.currentYTransitionData?.remainingTime??0));break;case Qe.ColorMode.ColorTemperatureMireds:this.internal.colorTemperatureTransitionIntervalTimer?.isRunning&&(t=this.internal.currentColorTemperatureTransitionData?.remainingTime??0);break}this.state.remainingTime=t}syncColorTemperatureWithLevel(t){if(this.state.colorMode===Qe.ColorMode.ColorTemperatureMireds||this.state.enhancedColorMode===Qe.EnhancedColorMode.ColorTemperatureMireds)return this.syncColorTemperatureWithLevelLogic(t)}syncColorTemperatureWithLevelLogic(t){if(this.state.colorMode!==Qe.ColorMode.ColorTemperatureMireds&&this.state.enhancedColorMode!==Qe.EnhancedColorMode.ColorTemperatureMireds)return;let n=this.state.coupleColorTempToLevelMinMireds??this.minimumColorTemperatureMireds,i=this.maximumColorTemperatureMireds,r;if(t<=lE)r=i;else if(t>=dE)r=n;else{let a=Math.floor((i-n)*t/(dE-lE+1));r=i-a}return or.debug(`Synced color temperature with level: ${t}, new color temperature: ${r}`),this.moveToColorTemperatureLogic(r,0)}#n(t,n){if((t===Qe.MoveMode.Up||t===Qe.MoveMode.Down)&&n===0)throw new ve("Rate must not be 0 when moving Up or Down",ue.InvalidCommand)}#i(t,n,i,r){let a=(n>t?n:r+n)-t;if(or.info(`Distance: ${a}, direction: ${i}, max/2: ${r/2}, max-distance: ${r-a}`),a===0)return 0;if(i===Qe.Direction.Up)return a;if(i===Qe.Direction.Down)return-(r-a);if(i===Qe.Direction.ShortestDistance)return Math.abs(a)>r/2?-(r-a):a;if(i===Qe.Direction.LongestDistance)return Math.abs(a)>r/2?a:-(r-a);throw new ce(`Unknown direction: ${i}`)}#o(){this.state.managedTransitionTimeHandling&&(this.internal.hueTransitionIntervalTimer=Ne.getPeriodicTimer("ColorControl.hue.transition",1e3,this.callback(this.#l)),this.internal.saturationTransitionIntervalTimer=Ne.getPeriodicTimer("ColorControl.saturation.transition",1e3,this.callback(this.#m)),this.internal.colorTemperatureTransitionIntervalTimer=Ne.getPeriodicTimer("ColorControl.colorTemperature.transition",1e3,this.callback(this.#d)),this.internal.xTransitionIntervalTimer=Ne.getPeriodicTimer("ColorControl.x.transition",1e3,this.callback(this.#u)),this.internal.yTransitionIntervalTimer=Ne.getPeriodicTimer("ColorControl.y.transition",1e3,this.callback(this.#f)))}#r(){let t=this.endpoint.ownerOfType(Oi);if(t!==void 0&&t.behaviors.has(Qr))return t.stateOf(Qr).bootReason}#a(t,n){let i=this.state.options??{};return{executeIfOff:t.executeIfOff?n.executeIfOff:i.executeIfOff}}#s(t,n){return this.#a(t,n).executeIfOff||!this.agent.has(Pt)||this.agent.get(Pt).state.onOff}#c(t,n,i,r,a){n===0&&or.warn(`Change rate for ${t} is 0, nothing to do.`);let s;switch(t){case"hue":s=this.state.currentHue;break;case"enhancedHue":s=this.state.enhancedCurrentHue;break;case"saturation":s=this.state.currentSaturation;break;case"colorTemperature":s=this.state.colorTemperatureMireds;break;case"x":s=this.state.currentX;break;case"y":s=this.state.currentY;break}let c,l=65535;if(t==="enhancedHue"||t==="hue"){if(a!==void 0){let f=n>0?Qe.Direction.Up:Qe.Direction.Down;c=this.#i(s,a,f,r),l=Math.floor(Math.ceil(c/n)*10)}}else n>0?l=Math.floor(Math.ceil((r-s)/n)*10):l=Math.floor(Math.ceil((s-i)/-n)*10);let d={changeRate:n,targetValue:a,minValue:i,maxValue:r,remainingTime:l};switch(or.debug(`Starting ${t} transition interval with stepSize: ${n}.`),t){case"hue":this.internal.hueTransitionIntervalTimer?.stop(),this.internal.currentHueTransitionData={...d,isEnhancedHue:!1,distanceLeft:c!==void 0?Math.abs(c):void 0},this.internal.hueTransitionIntervalTimer?.start();break;case"enhancedHue":this.internal.hueTransitionIntervalTimer?.stop(),this.internal.currentHueTransitionData={...d,isEnhancedHue:!0,distanceLeft:c!==void 0?Math.abs(c):void 0},this.internal.hueTransitionIntervalTimer?.start();break;case"saturation":this.internal.saturationTransitionIntervalTimer?.stop(),this.internal.currentSaturationTransitionData=d,this.internal.saturationTransitionIntervalTimer?.start();break;case"colorTemperature":this.internal.colorTemperatureTransitionIntervalTimer?.stop(),this.internal.currentColorTemperatureTransitionData=d,this.internal.colorTemperatureTransitionIntervalTimer?.start();break;case"x":this.internal.xTransitionIntervalTimer?.stop(),this.internal.currentXTransitionData=d,this.internal.xTransitionIntervalTimer?.start();break;case"y":this.internal.yTransitionIntervalTimer?.stop(),this.internal.currentYTransitionData=d,this.internal.yTransitionIntervalTimer?.start();break}}#l(){let t=this.internal.currentHueTransitionData;this.#h(t?.isEnhancedHue?"enhancedHue":"hue",this.internal.hueTransitionIntervalTimer,t,t?.isEnhancedHue?this.state.enhancedCurrentHue:this.state.currentHue)}#m(){this.#h("saturation",this.internal.saturationTransitionIntervalTimer,this.internal.currentSaturationTransitionData,this.state.currentSaturation)}#d(){this.#h("colorTemperature",this.internal.colorTemperatureTransitionIntervalTimer,this.internal.currentColorTemperatureTransitionData,this.state.colorTemperatureMireds)}#u(){this.#h("x",this.internal.xTransitionIntervalTimer,this.internal.currentXTransitionData,this.state.currentX)}#f(){this.#h("y",this.internal.yTransitionIntervalTimer,this.internal.currentYTransitionData,this.state.currentY)}#h(t,n,i,r){if(i===void 0){n?.stop();return}if(n===void 0){i.remainingTime=0;return}if("isEnhancedHue"in i&&i.isEnhancedHue&&t!=="enhancedHue")throw new ce("Transition data is for enhanced hue, but transition type is not enhanced hue");let{changeRate:a,targetValue:s,minValue:c,maxValue:l}=i,d;switch(t){case"hue":case"enhancedHue":d=If(r,a,c??ic,l??(t==="hue"?x0:jh));break;case"saturation":d=jn(r+a,c??Au,l??Mu);break;case"colorTemperature":d=jn(r+a,c??this.minimumColorTemperatureMireds,l??this.maximumColorTemperatureMireds);break;case"x":case"y":d=jn(r+a,c??Ho,l??eo);break;default:throw new ce(`Unknown transition type: ${t}`)}if(t==="hue"||t==="enhancedHue"){or.info(`Setting new value in ${t} transition interval: ${d}, target: ${s}, changeRate: ${a}`);let g=i.distanceLeft;s!==void 0&&g!==void 0&&(g-=Math.abs(a),g<=0?(or.debug(`Stopping ${t} transition interval at targetLevel: ${s}.`),n?.stop(),i.remainingTime=0,d=s):i.distanceLeft=g),n.isRunning&&(or.debug(`Setting new value in ${t} transition interval: ${d} (distance left ${g})`),g===void 0?i.remainingTime=65535:i.remainingTime=Math.floor(Math.ceil(g/Math.abs(a))*10))}else c!==void 0&&d===c?(or.debug(`Stopping ${t} transition interval at minValue: ${c}.`),n?.stop(),i.remainingTime=0):l!==void 0&&d===l?(or.debug(`Stopping ${t} transition interval at maxLevel: ${l}.`),n?.stop(),i.remainingTime=0):(or.info(`Setting new value in ${t} transition interval: ${d}, target: ${s}, changeRate: ${a}`),s!==void 0&&(a>0&&d>=s?(or.debug(`Stopping ${t} transition interval at targetLevel: ${s}.`),n?.stop(),i.remainingTime=0,d=s):a<0&&d<=s&&(or.debug(`Stopping ${t} transition interval at targetLevel: ${s}.`),n?.stop(),i.remainingTime=0,d=s)),n.isRunning&&(or.debug(`Setting new value in ${t} transition interval: ${d}`),s===void 0?i.remainingTime=65535:a>0?i.remainingTime=Math.floor(Math.ceil(((s??l)-d)/a)*10):i.remainingTime=Math.floor(Math.ceil((d-(s??c))/-a)*10)));switch(t){case"hue":this.state.currentHue=d;break;case"enhancedHue":this.state.enhancedCurrentHue=d;break;case"saturation":this.state.currentSaturation=d;break;case"colorTemperature":this.state.colorTemperatureMireds=d;break;case"x":this.state.currentX=d;break;case"y":this.state.currentY=d;break}this.#t()}#v(t){return t/65536}#y(t){if(t!==void 0)return this.#v(t)}#p(t,n){if(n===void 0){if(this.state[t]===void 0)return;throw new ce(`${t} cannot be set to undefined while being enabled.`)}this.state[t]=jn(Math.round(n*65536),Ho,eo)}async[Symbol.asyncDispose](){this.internal.stopHueTransition(),this.internal.stopSaturationTransition(),this.internal.stopColorTemperatureTransition(),this.internal.stopXTransition(),this.internal.stopYTransition(),await super[Symbol.asyncDispose]?.()}};(e=>{class t{hueTransitionIntervalTimer;saturationTransitionIntervalTimer;colorTemperatureTransitionIntervalTimer;xTransitionIntervalTimer;yTransitionIntervalTimer;currentHueTransitionData;currentSaturationTransitionData;currentColorTemperatureTransitionData;currentXTransitionData;currentYTransitionData;stopHueTransition(){this.hueTransitionIntervalTimer?.stop(),this.currentHueTransitionData!==void 0&&(this.currentHueTransitionData.remainingTime=0)}stopSaturationTransition(){this.saturationTransitionIntervalTimer?.stop(),this.currentSaturationTransitionData!==void 0&&(this.currentSaturationTransitionData.remainingTime=0)}stopColorTemperatureTransition(){this.colorTemperatureTransitionIntervalTimer?.stop(),this.currentColorTemperatureTransitionData!==void 0&&(this.currentColorTemperatureTransitionData.remainingTime=0)}stopXTransition(){this.xTransitionIntervalTimer?.stop(),this.currentXTransitionData!==void 0&&(this.currentXTransitionData.remainingTime=0)}stopYTransition(){this.yTransitionIntervalTimer?.stop(),this.currentYTransitionData!==void 0&&(this.currentYTransitionData.remainingTime=0)}}e.Internal=t;class n extends uE.State{managedTransitionTimeHandling=!1}e.State=n})(w0||(w0={}));var rc=class extends w0.for(yt(Qe.Base)){};var oc=J.get("LevelControlServer"),mE=Ir.with(Bi.Feature.OnOff,Bi.Feature.Lighting),T0=class extends mE{get minLevel(){return this.state.minLevel??(this.features.lighting?1:0)}get maxLevel(){return this.state.maxLevel??254}get currentLevel(){if(this.state.currentLevel===null)throw new ve("The currentLevel value is null, so we cannot operate on it.",ue.Failure);return this.state.currentLevel}initialize(){if(this.state.managedTransitionTimeHandling&&(this.internal.transitionIntervalTimer=Ne.getPeriodicTimer("LevelControl.step/move",1e3,this.callback(this.#o))),this.features.lighting&&(this.state.currentLevel===0&&oc.warn(`The currentLevel value of ${this.state.currentLevel} is invalid according to Matter specification. The value must not be 0.`),this.minLevel!==1&&oc.warn(`The minLevel value of ${this.minLevel} is invalid according to Matter specification. The value should be 1.`),this.maxLevel!==254&&oc.warn(`The maxLevel value of ${this.maxLevel} is invalid according to Matter specification. The value should be 254.`),this.#r()!==ri.BootReason.SoftwareUpdateCompleted)){let t=this.state.startUpCurrentLevel??null,n=this.state.currentLevel,i;switch(t){case 0:i=this.minLevel;break;case null:i=n;break;default:i=t;break}i!==n&&(this.state.currentLevel=i)}this.features.onOff&&this.agent.has(Pt)&&this.reactTo(this.agent.get(Pt).events.onOff$Changed,this.handleOnOffChange)}moveToLevel({level:t,transitionTime:n,optionsMask:i,optionsOverride:r}){let a=this.#e(i,r);if(this.#t(a))return this.#n(t),this.moveToLevelLogic(t,n,!1,a)}moveToLevelWithOnOff({level:t,transitionTime:n}){return this.#n(t),this.moveToLevelLogic(t,n,!0)}moveToLevelLogic(t,n,i,r={}){let a=n??this.state.onOffTransitionTime??null;if(t=jn(t,this.minLevel,this.maxLevel),!this.state.managedTransitionTimeHandling||a===null||a===0||this.currentLevel===t)return this.setRemainingTime(0),this.setLevel(t,i,r);let s=Math.ceil((t-this.currentLevel)/a*10);return this.#i(s,i,t,r)}move({moveMode:t,rate:n,optionsMask:i,optionsOverride:r}){let a=this.#e(i,r);if(this.#t(a))return this.moveLogic(t,n,!1,a)}moveWithOnOff({moveMode:t,rate:n}){return this.moveLogic(t,n,!0)}moveLogic(t,n,i,r={}){let a=n??this.state.defaultMoveRate??null;if(!this.state.managedTransitionTimeHandling||a===null||a===0){let s=a===0?this.currentLevel:t===Bi.MoveMode.Up?this.maxLevel:this.minLevel;return this.setRemainingTime(0),this.setLevel(s,i,r)}return this.#i(a*(t===Bi.MoveMode.Up?1:-1),i,void 0,r)}step({stepMode:t,stepSize:n,transitionTime:i,optionsMask:r,optionsOverride:a}){let s=this.#e(r,a);if(this.#t(s))return this.stepLogic(t,n,i,!1,s)}stepWithOnOff({stepMode:t,stepSize:n,transitionTime:i}){return this.stepLogic(t,n,i,!0)}stepLogic(t,n,i,r,a={}){let s=jn(t===Bi.StepMode.Up?this.currentLevel+n:this.currentLevel-n,this.minLevel,this.maxLevel);if(!this.state.managedTransitionTimeHandling||i===null||i===0)return this.setRemainingTime(0),this.setLevel(s,r,a);let c=Math.ceil(n/i*10)*(t===Bi.StepMode.Up?1:-1);return this.#i(c,r,s,a)}stop({optionsMask:t,optionsOverride:n}){let i=this.#e(t,n);if(this.#t(i))return this.stopLogic(i)}stopWithOnOff(){return this.stopLogic()}stopLogic(t={}){this.internal.transitionIntervalTimer?.stop(),this.setRemainingTime(0)}setRemainingTime(t){this.features.lighting&&(this.state.remainingTime=t)}setLevel(t,n,i={}){let r=this.features.onOff&&n&&this.agent.has(Pt)?this.agent.get(Pt):void 0;if(r!==void 0&&t===this.minLevel&&r.state.onOff){let s=r.off();return Pe.then(s,()=>{this.state.currentLevel=t})}this.state.currentLevel=t;let a;return this.features.lighting&&i.coupleColorTempToLevel&&this.agent.has(rc)&&(a=this.agent.get(rc).syncColorTemperatureWithLevel(t)),r!==void 0&&t>this.minLevel&&!r.state.onOff?Pe.then(a,()=>r.on()):a}#e(t,n){let i=this.state.options??{};return{executeIfOff:t.executeIfOff?n.executeIfOff:i.executeIfOff,coupleColorTempToLevel:this.features.lighting?t.coupleColorTempToLevel?n.coupleColorTempToLevel:i.coupleColorTempToLevel:!1}}#t(t){return t.executeIfOff||!this.features.onOff||!this.agent.has(Pt)||this.agent.get(Pt).state.onOff}#n(t){if(t<this.minLevel)throw new ve(`The level value of ${t} is invalid. It must be greater or equal to ${this.minLevel}.`,ue.ConstraintError);if(t>this.maxLevel)throw new ve(`The level value of ${t} is invalid. It must be less or equal to ${this.maxLevel}.`,ue.ConstraintError)}handleOnOffChange(t){!t||this.state.onLevel===null||(this.state.currentLevel=this.state.onLevel)}#i(t,n,i,r={}){return this.internal.transitionIntervalTimer?.stop(),this.internal.currentTransitionData={changeRate:t,withOnOff:n,targetLevel:i,options:r},oc.debug(`Starting transition interval with changeRate: ${this.internal.currentTransitionData.changeRate}`),this.internal.transitionIntervalTimer?.start(),this.setLevel(this.currentLevel,n,r)}async#o(){if(this.internal.currentTransitionData===void 0||this.state.currentLevel===null){this.internal.transitionIntervalTimer?.stop();return}let{changeRate:t,withOnOff:n,targetLevel:i,options:r}=this.internal.currentTransitionData,a=this.state.currentLevel+t;if(a<=this.minLevel)oc.debug(`Stopping transition interval at minLevel: ${this.minLevel}.`),await this.setLevel(this.minLevel,n,r),this.internal.transitionIntervalTimer?.stop(),this.setRemainingTime(0);else if(a>=this.maxLevel)oc.debug(`Stopping transition interval at maxLevel: ${this.maxLevel}.`),await this.setLevel(this.maxLevel,n,r),this.internal.transitionIntervalTimer?.stop(),this.setRemainingTime(0);else{if(i!==void 0){if(t>0&&a>=i){oc.debug(`Stopping transition interval at targetLevel: ${i}.`),await this.setLevel(i,n,r),this.internal.transitionIntervalTimer?.stop(),this.setRemainingTime(0);return}else if(t<0&&a<=i){oc.debug(`Stopping transition interval at targetLevel: ${i}.`),await this.setLevel(i,n,r),this.internal.transitionIntervalTimer?.stop(),this.setRemainingTime(0);return}}oc.debug(`Setting new level in transition interval: ${a}.`),await this.setLevel(a,n,r),t>0?this.setRemainingTime(Math.floor(Math.ceil(((i??this.maxLevel)-a)/t)*10)):this.setRemainingTime(Math.floor(Math.ceil((a-(i??this.minLevel))/-t)*10))}}#r(){let t=this.endpoint.ownerOfType(Oi);if(t!==void 0&&t.behaviors.has(Qr))return t.stateOf(Qr).bootReason}async[Symbol.asyncDispose](){this.internal.transitionIntervalTimer?.stop(),await super[Symbol.asyncDispose]?.()}};(e=>{class t{transitionIntervalTimer;currentTransitionData}e.Internal=t;class n extends mE.State{managedTransitionTimeHandling=!1}e.State=n})(T0||(T0={}));var Qi=class extends T0.with(Bi.Feature.OnOff){};var ni=class extends Zi{};var Di=de.for($a.Cluster);var ol;(e=>{e.IdentifyServer=Ke.alter({commands:{triggerEffect:{optional:!1}}}),e.GroupsServer=Cn,e.OnOffServer=Pt.with("Lighting"),e.LevelControlServer=Qi.with("OnOff","Lighting").alter({attributes:{currentLevel:{min:1,max:254},minLevel:{default:1,min:1,max:2},maxLevel:{default:254,min:254,max:255}}}),e.ColorControlServer=rc.with("ColorTemperature").alter({attributes:{remainingTime:{optional:!1}}}),e.ScenesManagementServer=ni,e.OccupancySensingBehavior=Di,e.server={mandatory:{Identify:e.IdentifyServer,Groups:e.GroupsServer,OnOff:e.OnOffServer,LevelControl:e.LevelControlServer,ColorControl:e.ColorControlServer},optional:{ScenesManagement:e.ScenesManagementServer}},e.client={optional:{OccupancySensing:e.OccupancySensingBehavior},mandatory:{}}})(ol||(ol={}));var Bxt=Ue({name:"ColorTemperatureLight",deviceType:268,deviceRevision:4,requirements:ol,behaviors:Be(ol.server.mandatory.Identify,ol.server.mandatory.Groups,ol.server.mandatory.OnOff,ol.server.mandatory.LevelControl,ol.server.mandatory.ColorControl)});var hE=de.for(Hl.Cluster);var os=class extends hE{initialize(){this.reactTo(this.events.stateValue$Changed,this.#e)}#e(t){this.events.stateChange?.emit({stateValue:t},this.context)}};var fE=de.withInterface().for(jl.Cluster);var as=class extends fE{};var C0;(e=>{e.IdentifyServer=Ke,e.BooleanStateServer=os,e.BooleanStateConfigurationServer=as,e.server={mandatory:{Identify:e.IdentifyServer,BooleanState:e.BooleanStateServer},optional:{BooleanStateConfiguration:e.BooleanStateConfigurationServer}}})(C0||(C0={}));var ewt=Ue({name:"ContactSensor",deviceType:21,deviceRevision:2,requirements:C0,behaviors:Be(C0.server.mandatory.Identify,C0.server.mandatory.BooleanState)});var rb=class extends tb{};var ob=de.for(Wl.Cluster);var ab=class extends ob{};var Gh;(e=>{e.KeypadInputServer=el,e.ApplicationLauncherServer=Wh,e.ApplicationBasicServer=rb,e.BindingServer=ab,e.ChannelServer=tl,e.TargetNavigatorServer=nl,e.MediaPlaybackServer=Jc,e.ContentLauncherServer=$h,e.AccountLoginServer=Hh,e.ContentAppObserverBehavior=J1,e.server={mandatory:{KeypadInput:e.KeypadInputServer,ApplicationLauncher:e.ApplicationLauncherServer,ApplicationBasic:e.ApplicationBasicServer},optional:{Binding:e.BindingServer,Channel:e.ChannelServer,TargetNavigator:e.TargetNavigatorServer,MediaPlayback:e.MediaPlaybackServer,ContentLauncher:e.ContentLauncherServer,AccountLogin:e.AccountLoginServer}},e.client={optional:{ContentAppObserver:e.ContentAppObserverBehavior},mandatory:{}}})(Gh||(Gh={}));var wwt=Ue({name:"ContentApp",deviceType:36,deviceRevision:2,requirements:Gh,behaviors:Be(Gh.server.mandatory.KeypadInput,Gh.server.mandatory.ApplicationLauncher,Gh.server.mandatory.ApplicationBasic)});var sb=de.for(dd.Cluster);var cb;(e=>{e.IdentifyServer=Ke,e.IdentifyBehavior=zi,e.GroupsBehavior=Xi,e.OnOffBehavior=Yi,e.LevelControlBehavior=Ir,e.ColorControlBehavior=rl,e.ScenesManagementBehavior=Zi,e.IlluminanceMeasurementBehavior=sb,e.OccupancySensingBehavior=Di,e.server={mandatory:{Identify:e.IdentifyServer}},e.client={mandatory:{Identify:e.IdentifyBehavior,Groups:e.GroupsBehavior,OnOff:e.OnOffBehavior,LevelControl:e.LevelControlBehavior,ColorControl:e.ColorControlBehavior},optional:{ScenesManagement:e.ScenesManagementBehavior,IlluminanceMeasurement:e.IlluminanceMeasurementBehavior,OccupancySensing:e.OccupancySensingBehavior}}})(cb||(cb={}));var Bwt=Ue({name:"ControlBridge",deviceType:2112,deviceRevision:3,requirements:cb,behaviors:Be(cb.server.mandatory.Identify)});var pE=de.withInterface().for(yt(Gd.Base));var jo=class extends pE{};var t4;(e=>{e.TemperatureControlServer=jo,e.TemperatureMeasurementServer=Sr,e.OnOffServer=Pt.with("OffOnly"),e.server={optional:{TemperatureControl:e.TemperatureControlServer,TemperatureMeasurement:e.TemperatureMeasurementServer,OnOff:e.OnOffServer},mandatory:{}}})(t4||(t4={}));var Ywt=Ue({name:"CookSurface",deviceType:119,deviceRevision:1,requirements:t4,behaviors:Be()});var lb;(e=>{e.OnOffServer=Pt.with("OffOnly"),e.IdentifyServer=Ke,e.server={mandatory:{OnOff:e.OnOffServer},optional:{Identify:e.IdentifyServer}}})(lb||(lb={}));var nTt=Ue({name:"Cooktop",deviceType:120,deviceRevision:1,requirements:lb,behaviors:Be(lb.server.mandatory.OnOff)});var Eu;(e=>{e.IdentifyServer=Ke.alter({commands:{triggerEffect:{optional:!1}}}),e.GroupsServer=Cn,e.OnOffServer=Pt.with("Lighting"),e.LevelControlServer=Qi.with("Lighting","OnOff").alter({attributes:{currentLevel:{min:1,max:254},minLevel:{default:1,min:1,max:2},maxLevel:{default:254,min:254,max:255}}}),e.ScenesManagementServer=ni,e.OccupancySensingBehavior=Di,e.server={mandatory:{Identify:e.IdentifyServer,Groups:e.GroupsServer,OnOff:e.OnOffServer,LevelControl:e.LevelControlServer},optional:{ScenesManagement:e.ScenesManagementServer}},e.client={optional:{OccupancySensing:e.OccupancySensingBehavior},mandatory:{}}})(Eu||(Eu={}));var mTt=Ue({name:"DimmableLight",deviceType:257,deviceRevision:3,requirements:Eu,behaviors:Be(Eu.server.mandatory.Identify,Eu.server.mandatory.Groups,Eu.server.mandatory.OnOff,Eu.server.mandatory.LevelControl)});var Ou;(e=>{e.IdentifyServer=Ke.alter({commands:{triggerEffect:{optional:!1}}}),e.GroupsServer=Cn,e.OnOffServer=Pt.with("Lighting"),e.LevelControlServer=Qi.with("OnOff","Lighting").alter({attributes:{currentLevel:{min:1,max:254},minLevel:{default:1,min:1,max:2},maxLevel:{default:254,min:254,max:255}}}),e.ScenesManagementServer=ni,e.OccupancySensingBehavior=Di,e.server={mandatory:{Identify:e.IdentifyServer,Groups:e.GroupsServer,OnOff:e.OnOffServer,LevelControl:e.LevelControlServer},optional:{ScenesManagement:e.ScenesManagementServer}},e.client={optional:{OccupancySensing:e.OccupancySensingBehavior},mandatory:{}}})(Ou||(Ou={}));var YH=Ue({name:"DimmablePlugInUnit",deviceType:267,deviceRevision:4,requirements:Ou,behaviors:Be(Ou.server.mandatory.Identify,Ou.server.mandatory.Groups,Ou.server.mandatory.OnOff,Ou.server.mandatory.LevelControl)}),yE=YH;var db;(e=>{e.IdentifyServer=Ke,e.IdentifyBehavior=zi,e.OnOffBehavior=Yi,e.LevelControlBehavior=Ir,e.GroupsBehavior=Xi,e.ScenesManagementBehavior=Zi,e.server={mandatory:{Identify:e.IdentifyServer}},e.client={mandatory:{Identify:e.IdentifyBehavior,OnOff:e.OnOffBehavior,LevelControl:e.LevelControlBehavior},optional:{Groups:e.GroupsBehavior,ScenesManagement:e.ScenesManagementBehavior}}})(db||(db={}));var RTt=Ue({name:"DimmerSwitch",deviceType:260,deviceRevision:3,requirements:db,behaviors:Be(db.server.mandatory.Identify)});var gE=de.withInterface().for(Hi.Cluster);var ss=class extends gE{};var vE=de.for(ed.Cluster);var ub=class extends vE{};var bE=de.for(Jl.Cluster);var mb=class extends bE{};var hb;(e=>{e.OperationalStateServer=ss,e.IdentifyServer=Ke,e.OnOffServer=Pt.with("DeadFrontBehavior"),e.TemperatureControlServer=jo,e.DishwasherModeServer=ub,e.DishwasherAlarmServer=mb,e.server={mandatory:{OperationalState:e.OperationalStateServer},optional:{Identify:e.IdentifyServer,OnOff:e.OnOffServer,TemperatureControl:e.TemperatureControlServer,DishwasherMode:e.DishwasherModeServer,DishwasherAlarm:e.DishwasherAlarmServer}}})(hb||(hb={}));var nCt=Ue({name:"Dishwasher",deviceType:117,deviceRevision:1,requirements:hb,behaviors:Be(hb.server.mandatory.OperationalState)});var fb=de.withInterface().for(Vs.Cluster);var n4;(e=>{e.TimeSynchronizationServer=Xc,e.DoorLockBehavior=fb,e.GroupsBehavior=Xi,e.ScenesManagementBehavior=Zi,e.server={optional:{TimeSynchronization:e.TimeSynchronizationServer},mandatory:{}},e.client={mandatory:{DoorLock:e.DoorLockBehavior},optional:{Groups:e.GroupsBehavior,ScenesManagement:e.ScenesManagementBehavior}}})(n4||(n4={}));var hCt=Ue({name:"DoorLockController",deviceType:11,deviceRevision:3,requirements:n4,behaviors:Be()});var xE=Vs.LockState,pb=class extends fb{lockDoor(){this.state.lockState=xE.Locked}unlockDoor(){this.state.lockState=xE.Unlocked}};var S0;(e=>{e.IdentifyServer=Ke,e.DoorLockServer=pb,e.GroupsServer=Cn,e.ScenesManagementServer=ni,e.server={mandatory:{Identify:e.IdentifyServer,DoorLock:e.DoorLockServer},optional:{Groups:e.GroupsServer,ScenesManagement:e.ScenesManagementServer}}})(S0||(S0={}));var SCt=Ue({name:"DoorLock",deviceType:10,deviceRevision:3,requirements:S0,behaviors:Be(S0.server.mandatory.Identify,S0.server.mandatory.DoorLock)});var al;(e=>{e.IdentifyServer=Ke.alter({commands:{triggerEffect:{optional:!1}}}),e.GroupsServer=Cn,e.OnOffServer=Pt.with("Lighting"),e.LevelControlServer=Qi.with("OnOff","Lighting").alter({attributes:{currentLevel:{min:1,max:254},minLevel:{default:1,min:1,max:2},maxLevel:{default:254,min:254,max:255}}}),e.ColorControlServer=rc.with("Xy","ColorTemperature").alter({attributes:{remainingTime:{optional:!1}}}),e.ScenesManagementServer=ni,e.OccupancySensingBehavior=Di,e.server={mandatory:{Identify:e.IdentifyServer,Groups:e.GroupsServer,OnOff:e.OnOffServer,LevelControl:e.LevelControlServer,ColorControl:e.ColorControlServer},optional:{ScenesManagement:e.ScenesManagementServer}},e.client={optional:{OccupancySensing:e.OccupancySensingBehavior},mandatory:{}}})(al||(al={}));var FCt=Ue({name:"ExtendedColorLight",deviceType:269,deviceRevision:4,requirements:al,behaviors:Be(al.server.mandatory.Identify,al.server.mandatory.Groups,al.server.mandatory.OnOff,al.server.mandatory.LevelControl,al.server.mandatory.ColorControl)});var yb;(e=>{e.FanControlServer=Wo,e.IdentifyServer=Ke,e.HepaFilterMonitoringServer=Th,e.ActivatedCarbonFilterMonitoringServer=Ch,e.server={mandatory:{FanControl:e.FanControlServer},optional:{Identify:e.IdentifyServer,HepaFilterMonitoring:e.HepaFilterMonitoringServer,ActivatedCarbonFilterMonitoring:e.ActivatedCarbonFilterMonitoringServer}}})(yb||(yb={}));var WCt=Ue({name:"ExtractorHood",deviceType:122,deviceRevision:1,requirements:yb,behaviors:Be(yb.server.mandatory.FanControl)});var zh;(e=>{e.IdentifyServer=Ke,e.GroupsServer=Cn,e.FanControlServer=Wo,e.server={mandatory:{Identify:e.IdentifyServer,Groups:e.GroupsServer,FanControl:e.FanControlServer}}})(zh||(zh={}));var YCt=Ue({name:"Fan",deviceType:43,deviceRevision:2,requirements:zh,behaviors:Be(zh.server.mandatory.Identify,zh.server.mandatory.Groups,zh.server.mandatory.FanControl)});var sl=de.for(od.Cluster);var cl=class extends sl{};var I0;(e=>{e.FlowMeasurementServer=cl,e.IdentifyServer=Ke,e.server={mandatory:{FlowMeasurement:e.FlowMeasurementServer,Identify:e.IdentifyServer}}})(I0||(I0={}));var sSt=Ue({name:"FlowSensor",deviceType:774,deviceRevision:2,requirements:I0,behaviors:Be(I0.server.mandatory.FlowMeasurement,I0.server.mandatory.Identify)});var wE=de.for(yt(Lr.Base));var gb=wE.for(Lr.Complete).with(Lr.Feature.LatchingSwitch,Lr.Feature.MomentarySwitch,Lr.Feature.MomentarySwitchRelease,Lr.Feature.MomentarySwitchLongPress,Lr.Feature.MomentarySwitchMultiPress),ZH=gb.schema.extend({children:[o({name:"longPressDelay",type:"uint32",quality:"M",conformance:"MSL"}),o({name:"multiPressDelay",type:"uint32",quality:"M",conformance:"MSM"}),o({name:"momentaryNeutralPosition",type:"uint8",quality:"O",conformance:"MS"})]}),A0=class extends gb{schema=ZH;initialize(){this.state.rawPosition=this.state.currentPosition,this.internal.currentUnstablePosition=this.state.currentPosition,this.internal.previouslyReportedPosition=this.state.currentPosition,this.reactTo(this.events.rawPosition$Changing,this.#e),this.reactTo(this.events.currentPosition$Changing,this.#e),this.reactTo(this.events.rawPosition$Changed,this.#t),this.reactTo(this.events.currentPosition$Changed,this.#i)}#e(t){if(t<0||t>=this.state.numberOfPositions)throw new ve(`Position ${t} invalid`,ue.ConstraintError)}#t(t){this.state.debounceDelay!==0?(this.internal.debounceTimer?.stop(),this.internal.currentUnstablePosition=t,this.internal.debounceTimer=Ne.getTimer("debounce",this.state.debounceDelay,this.callback(this.#n)).start()):this.state.currentPosition=t}#n(){this.state.currentPosition=this.internal.currentUnstablePosition}#i(t){if(this.features.latchingSwitch){this.events.switchLatched?.emit({newPosition:t},this.context);return}t!==this.state.momentaryNeutralPosition&&this.events.initialPress?.emit({newPosition:t},this.context),this.features.momentarySwitchLongPress?(t===this.state.momentaryNeutralPosition&&(this.internal.longPressTimer?.isRunning?this.events.shortRelease?.emit({previousPosition:this.internal.previouslyReportedPosition},this.context):this.internal.currentIsLongPress&&this.events.longRelease?.emit({previousPosition:this.internal.previouslyReportedPosition},this.context)),this.internal.longPressTimer?.stop(),this.internal.currentIsLongPress=!1,this.internal.currentLongPressPosition=null,t!==this.state.momentaryNeutralPosition&&(this.internal.currentLongPressPosition=t,this.internal.longPressTimer=Ne.getTimer("longPress",this.state.longPressDelay,this.callback(this.#o)).start())):this.features.momentarySwitchRelease&&t===this.state.momentaryNeutralPosition&&this.events.shortRelease?.emit({previousPosition:this.internal.previouslyReportedPosition},this.context),this.features.momentarySwitchMultiPress&&(this.internal.multiPressTimer?.isRunning&&t!==this.state.momentaryNeutralPosition&&(this.internal.currentNumberOfPressesCounter++,this.events.multiPressOngoing?.emit({newPosition:t,currentNumberOfPressesCounted:this.internal.currentNumberOfPressesCounter},this.context)),this.internal.multiPressTimer?.stop(),this.internal.multiPressTimer=Ne.getTimer("multiPress",this.state.multiPressDelay,this.callback(this.#r)).start(),this.internal.previouslyReportedPosition!==this.state.momentaryNeutralPosition&&(this.internal.previousMultiPressPosition=this.internal.previouslyReportedPosition)),this.internal.previouslyReportedPosition=t}#o(){this.internal.currentLongPressPosition!==null&&(this.events.longPress?.emit({newPosition:this.internal.currentLongPressPosition},this.context),this.internal.currentIsLongPress=!0)}#r(){this.internal.previousMultiPressPosition!==null&&(this.events.multiPressComplete?.emit({previousPosition:this.internal.previousMultiPressPosition,totalNumberOfPressesCounted:this.internal.currentNumberOfPressesCounter},this.context),this.internal.currentNumberOfPressesCounter=1,this.internal.previousMultiPressPosition=null)}async[Symbol.asyncDispose](){this.internal.debounceTimer?.stop(),this.internal.longPressTimer?.stop(),this.internal.multiPressTimer?.stop(),await super[Symbol.asyncDispose]?.()}};(e=>{class t{debounceTimer;longPressTimer;multiPressTimer;currentNumberOfPressesCounter=1;previouslyReportedPosition=0;previousMultiPressPosition=null;currentLongPressPosition=null;currentIsLongPress=!1;currentUnstablePosition=0}e.Internal=t;class n extends gb.State{rawPosition=0;debounceDelay=0;longPressDelay=0;multiPressDelay=0;momentaryNeutralPosition=0}e.State=n;class i extends gb.Events{rawPosition$Changed=ht();rawPosition$Changing=ht()}e.Events=i})(A0||(A0={}));var vb=class extends A0.for(yt(Lr.Base)){};var bb;(e=>{e.IdentifyServer=Ke,e.SwitchServer=vb,e.server={mandatory:{Identify:e.IdentifyServer,Switch:e.SwitchServer}}})(bb||(bb={}));var CSt=Ue({name:"GenericSwitch",deviceType:15,deviceRevision:3,requirements:bb,behaviors:Be(bb.server.mandatory.Identify)});var M0;(e=>{e.IdentifyServer=Ke,e.RelativeHumidityMeasurementServer=rs,e.server={mandatory:{Identify:e.IdentifyServer,RelativeHumidityMeasurement:e.RelativeHumidityMeasurementServer}}})(M0||(M0={}));var OSt=Ue({name:"HumiditySensor",deviceType:775,deviceRevision:2,requirements:M0,behaviors:Be(M0.server.mandatory.Identify,M0.server.mandatory.RelativeHumidityMeasurement)});var TE=de.for(fd.Cluster);var Kh=class extends TE{};var CE=de.for(md.Cluster);var xb=class extends CE{};var wb;(e=>{e.OperationalStateServer=ss,e.IdentifyServer=Ke,e.LaundryWasherModeServer=Kh,e.OnOffServer=Pt.with("DeadFrontBehavior"),e.LaundryDryerControlsServer=xb,e.TemperatureControlServer=jo,e.server={mandatory:{OperationalState:e.OperationalStateServer},optional:{Identify:e.IdentifyServer,LaundryWasherMode:e.LaundryWasherModeServer,OnOff:e.OnOffServer,LaundryDryerControls:e.LaundryDryerControlsServer,TemperatureControl:e.TemperatureControlServer}}})(wb||(wb={}));var XSt=Ue({name:"LaundryDryer",deviceType:124,deviceRevision:1,requirements:wb,behaviors:Be(wb.server.mandatory.OperationalState)});var SE=de.for(hd.Cluster);var Tb=class extends SE{};var Cb;(e=>{e.OperationalStateServer=ss,e.IdentifyServer=Ke,e.LaundryWasherModeServer=Kh,e.OnOffServer=Pt.with("DeadFrontBehavior"),e.LaundryWasherControlsServer=Tb,e.TemperatureControlServer=jo,e.server={mandatory:{OperationalState:e.OperationalStateServer},optional:{Identify:e.IdentifyServer,LaundryWasherMode:e.LaundryWasherModeServer,OnOff:e.OnOffServer,LaundryWasherControls:e.LaundryWasherControlsServer,TemperatureControl:e.TemperatureControlServer}}})(Cb||(Cb={}));var d3t=Ue({name:"LaundryWasher",deviceType:115,deviceRevision:1,requirements:Cb,behaviors:Be(Cb.server.mandatory.OperationalState)});var Sb=class extends sb{};var E0;(e=>{e.IdentifyServer=Ke,e.IlluminanceMeasurementServer=Sb,e.server={mandatory:{Identify:e.IdentifyServer,IlluminanceMeasurement:e.IlluminanceMeasurementServer}}})(E0||(E0={}));var v3t=Ue({name:"LightSensor",deviceType:262,deviceRevision:3,requirements:E0,behaviors:Be(E0.server.mandatory.Identify,E0.server.mandatory.IlluminanceMeasurement)});var IE=de.withInterface().for(wd.Cluster);var Ib=class extends IE{};var AE=de.withInterface().for(yt(xd.Base));var Ab=class extends AE{};var O0;(e=>{e.OperationalStateServer=ss.alter({attributes:{countdownTime:{optional:!1}}}),e.MicrowaveOvenModeServer=Ib,e.MicrowaveOvenControlServer=Ab,e.IdentifyServer=Ke,e.FanControlServer=Wo,e.server={mandatory:{OperationalState:e.OperationalStateServer,MicrowaveOvenMode:e.MicrowaveOvenModeServer,MicrowaveOvenControl:e.MicrowaveOvenControlServer},optional:{Identify:e.IdentifyServer,FanControl:e.FanControlServer}}})(O0||(O0={}));var U3t=Ue({name:"MicrowaveOven",deviceType:121,deviceRevision:1,requirements:O0,behaviors:Be(O0.server.mandatory.OperationalState,O0.server.mandatory.MicrowaveOvenMode)});var ME=de.withInterface().for(_a.Cluster);var QH=J.get("ModeSelectServer"),JH=ME.with(_a.Feature.OnOff),i4=class extends JH{initialize(){this.#e(),this.#t(),this.#n();let t=!1;if(this.features.onOff&&this.state.onMode!==void 0&&this.state.onMode!==null){let n=this.agent.get(Pt);n!==void 0?(n.features.lighting&&n.state.startUpOnOff===uo.StartUpOnOff.On&&(this.state.currentMode=this.state.onMode,t=!0),this.reactTo(n.events.onOff$Changed,this.#o)):QH.warn("OnOffServer not found on endpoint, but OnMode is set.")}!t&&this.state.startUpMode!==void 0&&this.state.startUpMode!==null&&this.#r()!==ri.BootReason.SoftwareUpdateCompleted&&(this.state.currentMode=this.state.startUpMode)}changeToMode({newMode:t}){this.#i("NewMode",t),this.state.currentMode=t}#e(){this.#i("currentMode",this.state.currentMode)}#t(){this.state.startUpMode!==void 0&&this.state.startUpMode!==null&&this.#i("startUpMode",this.state.startUpMode)}#n(){this.state.onMode!==void 0&&this.state.onMode!==null&&this.#i("onMode",this.state.onMode)}#i(t,n){if(!this.state.supportedModes.some(({mode:i})=>i===n))throw new ve(`Mode ${n} provided in ${t} is not supported`,ue.InvalidCommand)}#o(t,n){t&&!n&&this.state.onMode!==void 0&&this.state.onMode!==null&&(this.state.currentMode=this.state.onMode)}#r(){let t=this.endpoint.ownerOfType(Oi);if(t!==void 0&&t.behaviors.has(Qr))return t.stateOf(Qr).bootReason}},Mb=class extends i4.for(yt(_a.Base)){};var Eb;(e=>{e.ModeSelectServer=Mb,e.server={mandatory:{ModeSelect:e.ModeSelectServer}}})(Eb||(Eb={}));var n6t=Ue({name:"ModeSelect",deviceType:39,deviceRevision:1,requirements:Eb,behaviors:Be(Eb.server.mandatory.ModeSelect)});var Ob=class extends Di{};var D0;(e=>{e.IdentifyServer=Ke,e.OccupancySensingServer=Ob,e.server={mandatory:{Identify:e.IdentifyServer,OccupancySensing:e.OccupancySensingServer}}})(D0||(D0={}));var d6t=Ue({name:"OccupancySensor",deviceType:263,deviceRevision:3,requirements:D0,behaviors:Be(D0.server.mandatory.Identify,D0.server.mandatory.OccupancySensing)});var Xh;(e=>{e.IdentifyServer=Ke.alter({commands:{triggerEffect:{optional:!1}}}),e.GroupsServer=Cn,e.OnOffServer=Pt.with("Lighting"),e.ScenesManagementServer=ni,e.LevelControlServer=Qi.with("OnOff","Lighting").alter({attributes:{currentLevel:{min:1,max:254},minLevel:{default:1,min:1,max:2},maxLevel:{default:254,min:254,max:255}}}),e.OccupancySensingBehavior=Di,e.server={mandatory:{Identify:e.IdentifyServer,Groups:e.GroupsServer,OnOff:e.OnOffServer},optional:{ScenesManagement:e.ScenesManagementServer,LevelControl:e.LevelControlServer}},e.client={optional:{OccupancySensing:e.OccupancySensingBehavior},mandatory:{}}})(Xh||(Xh={}));var x6t=Ue({name:"OnOffLight",deviceType:256,deviceRevision:3,requirements:Xh,behaviors:Be(Xh.server.mandatory.Identify,Xh.server.mandatory.Groups,Xh.server.mandatory.OnOff)});var Db;(e=>{e.IdentifyServer=Ke,e.IdentifyBehavior=zi,e.OnOffBehavior=Yi,e.GroupsBehavior=Xi,e.ScenesManagementBehavior=Zi,e.server={mandatory:{Identify:e.IdentifyServer}},e.client={mandatory:{Identify:e.IdentifyBehavior,OnOff:e.OnOffBehavior},optional:{Groups:e.GroupsBehavior,ScenesManagement:e.ScenesManagementBehavior}}})(Db||(Db={}));var O6t=Ue({name:"OnOffLightSwitch",deviceType:259,deviceRevision:3,requirements:Db,behaviors:Be(Db.server.mandatory.Identify)});var Yh;(e=>{e.IdentifyServer=Ke.alter({commands:{triggerEffect:{optional:!1}}}),e.GroupsServer=Cn,e.OnOffServer=Pt.with("Lighting"),e.ScenesManagementServer=ni,e.LevelControlServer=Qi.with("OnOff","Lighting").alter({attributes:{currentLevel:{min:1,max:254},minLevel:{default:1,min:1,max:2},maxLevel:{default:254,min:254,max:255}}}),e.OccupancySensingBehavior=Di,e.server={mandatory:{Identify:e.IdentifyServer,Groups:e.GroupsServer,OnOff:e.OnOffServer},optional:{ScenesManagement:e.ScenesManagementServer,LevelControl:e.LevelControlServer}},e.client={optional:{OccupancySensing:e.OccupancySensingBehavior},mandatory:{}}})(Yh||(Yh={}));var ej=Ue({name:"OnOffPlugInUnit",deviceType:266,deviceRevision:3,requirements:Yh,behaviors:Be(Yh.server.mandatory.Identify,Yh.server.mandatory.Groups,Yh.server.mandatory.OnOff)}),EE=ej;var Rb;(e=>{e.IdentifyServer=Ke,e.IdentifyBehavior=zi,e.OnOffBehavior=Yi,e.GroupsBehavior=Xi,e.ScenesManagementBehavior=Zi,e.LevelControlBehavior=Ir,e.ColorControlBehavior=rl,e.server={mandatory:{Identify:e.IdentifyServer}},e.client={mandatory:{Identify:e.IdentifyBehavior,OnOff:e.OnOffBehavior},optional:{Groups:e.GroupsBehavior,ScenesManagement:e.ScenesManagementBehavior,LevelControl:e.LevelControlBehavior,ColorControl:e.ColorControlBehavior}}})(Rb||(Rb={}));var X6t=Ue({name:"OnOffSensor",deviceType:2128,deviceRevision:3,requirements:Rb,behaviors:Be(Rb.server.mandatory.Identify)});var r4;(e=>{e.IdentifyServer=Ke,e.server={optional:{Identify:e.IdentifyServer},mandatory:{}}})(r4||(r4={}));var e5t=Ue({name:"Oven",deviceType:123,deviceRevision:1,requirements:r4,behaviors:Be()});var Zh=de.for(Pd.Cluster);var Qh=class extends Zh{};var R0;(e=>{e.PressureMeasurementServer=Qh,e.IdentifyServer=Ke,e.server={mandatory:{PressureMeasurement:e.PressureMeasurementServer,Identify:e.IdentifyServer}}})(R0||(R0={}));var u5t=Ue({name:"PressureSensor",deviceType:773,deviceRevision:2,requirements:R0,behaviors:Be(R0.server.mandatory.PressureMeasurement,R0.server.mandatory.Identify)});var Nb=de.for(yt(kd.Base));var Pb;(e=>{e.IdentifyServer=Ke,e.BindingBehavior=ob,e.OnOffBehavior=Yi,e.PumpConfigurationAndControlBehavior=Nb,e.IdentifyBehavior=zi,e.GroupsBehavior=Xi,e.LevelControlBehavior=Ir,e.ScenesManagementBehavior=Zi,e.TemperatureMeasurementBehavior=Qc,e.PressureMeasurementBehavior=Zh,e.FlowMeasurementBehavior=sl,e.server={mandatory:{Identify:e.IdentifyServer}},e.client={mandatory:{Binding:e.BindingBehavior,OnOff:e.OnOffBehavior,PumpConfigurationAndControl:e.PumpConfigurationAndControlBehavior},optional:{Identify:e.IdentifyBehavior,Groups:e.GroupsBehavior,LevelControl:e.LevelControlBehavior,ScenesManagement:e.ScenesManagementBehavior,TemperatureMeasurement:e.TemperatureMeasurementBehavior,PressureMeasurement:e.PressureMeasurementBehavior,FlowMeasurement:e.FlowMeasurementBehavior}}})(Pb||(Pb={}));var D5t=Ue({name:"PumpController",deviceType:772,deviceRevision:3,requirements:Pb,behaviors:Be(Pb.server.mandatory.Identify)});var kb=class extends Nb{};var N0;(e=>{e.OnOffServer=Pt,e.PumpConfigurationAndControlServer=kb,e.IdentifyServer=Ke,e.LevelControlServer=Qi,e.GroupsServer=Cn,e.ScenesManagementServer=ni,e.TemperatureMeasurementServer=Sr,e.PressureMeasurementServer=Qh,e.FlowMeasurementServer=cl,e.TemperatureMeasurementBehavior=Qc,e.PressureMeasurementBehavior=Zh,e.FlowMeasurementBehavior=sl,e.OccupancySensingBehavior=Di,e.server={mandatory:{OnOff:e.OnOffServer,PumpConfigurationAndControl:e.PumpConfigurationAndControlServer,Identify:e.IdentifyServer},optional:{LevelControl:e.LevelControlServer,Groups:e.GroupsServer,ScenesManagement:e.ScenesManagementServer,TemperatureMeasurement:e.TemperatureMeasurementServer,PressureMeasurement:e.PressureMeasurementServer,FlowMeasurement:e.FlowMeasurementServer}},e.client={optional:{TemperatureMeasurement:e.TemperatureMeasurementBehavior,PressureMeasurement:e.PressureMeasurementBehavior,FlowMeasurement:e.FlowMeasurementBehavior,OccupancySensing:e.OccupancySensingBehavior},mandatory:{}}})(N0||(N0={}));var X5t=Ue({name:"Pump",deviceType:771,deviceRevision:3,requirements:N0,behaviors:Be(N0.server.mandatory.OnOff,N0.server.mandatory.Identify)});var P0;(e=>{e.IdentifyServer=Ke,e.BooleanStateServer=os.alter({events:{stateChange:{optional:!1}}}),e.BooleanStateConfigurationServer=as,e.server={mandatory:{Identify:e.IdentifyServer,BooleanState:e.BooleanStateServer},optional:{BooleanStateConfiguration:e.BooleanStateConfigurationServer}}})(P0||(P0={}));var n2t=Ue({name:"RainSensor",deviceType:68,deviceRevision:1,requirements:P0,behaviors:Be(P0.server.mandatory.Identify,P0.server.mandatory.BooleanState)});var OE=de.for(Bd.Cluster);var Jh=class extends OE{};var DE=de.withInterface().for(Ld.Cluster);var Fb=class extends DE{};var o4;(e=>{e.IdentifyServer=Ke,e.RefrigeratorAndTemperatureControlledCabinetModeServer=Jh,e.RefrigeratorAlarmServer=Fb,e.server={optional:{Identify:e.IdentifyServer,RefrigeratorAndTemperatureControlledCabinetMode:e.RefrigeratorAndTemperatureControlledCabinetModeServer,RefrigeratorAlarm:e.RefrigeratorAlarmServer},mandatory:{}}})(o4||(o4={}));var b2t=Ue({name:"Refrigerator",deviceType:112,deviceRevision:1,requirements:o4,behaviors:Be()});var RE=de.for(_d.Cluster);var Lb=class extends RE{};var NE=de.withInterface().for(qd.Cluster);var Bb=class extends NE{};var PE=de.for(Vd.Cluster);var Ub=class extends PE{};var ef;(e=>{e.IdentifyServer=Ke,e.RvcRunModeServer=Lb,e.RvcOperationalStateServer=Bb,e.RvcCleanModeServer=Ub,e.server={mandatory:{Identify:e.IdentifyServer,RvcRunMode:e.RvcRunModeServer,RvcOperationalState:e.RvcOperationalStateServer},optional:{RvcCleanMode:e.RvcCleanModeServer}}})(ef||(ef={}));var $2t=Ue({name:"RoboticVacuumCleaner",deviceType:116,deviceRevision:2,requirements:ef,behaviors:Be(ef.server.mandatory.Identify,ef.server.mandatory.RvcRunMode,ef.server.mandatory.RvcOperationalState)});var kE=de.withInterface().for(yt(Kd.Base));var tf=class extends kE{};var FE=de.for(Xd.Cluster);var nf=class extends FE{};var k0;(e=>{e.IdentifyServer=Ke,e.OnOffServer=Pt.with("DeadFrontBehavior"),e.ThermostatServer=tf,e.GroupsServer=Cn,e.ScenesManagementServer=ni,e.FanControlServer=Wo,e.ThermostatUserInterfaceConfigurationServer=nf,e.TemperatureMeasurementServer=Sr,e.RelativeHumidityMeasurementServer=rs,e.server={mandatory:{Identify:e.IdentifyServer,OnOff:e.OnOffServer,Thermostat:e.ThermostatServer},optional:{Groups:e.GroupsServer,ScenesManagement:e.ScenesManagementServer,FanControl:e.FanControlServer,ThermostatUserInterfaceConfiguration:e.ThermostatUserInterfaceConfigurationServer,TemperatureMeasurement:e.TemperatureMeasurementServer,RelativeHumidityMeasurement:e.RelativeHumidityMeasurementServer}}})(k0||(k0={}));var m4t=Ue({name:"RoomAirConditioner",deviceType:114,deviceRevision:2,requirements:k0,behaviors:Be(k0.server.mandatory.Identify,k0.server.mandatory.OnOff)});var LE=de.withInterface().for(yt(Wd.Base));var Vb=class extends LE{};var qb;(e=>{e.IdentifyServer=Ke,e.SmokeCoAlarmServer=Vb,e.GroupsServer=Cn,e.RelativeHumidityMeasurementServer=rs,e.TemperatureMeasurementServer=Sr,e.CarbonMonoxideConcentrationMeasurementServer=Sh,e.server={mandatory:{Identify:e.IdentifyServer,SmokeCoAlarm:e.SmokeCoAlarmServer},optional:{Groups:e.GroupsServer,RelativeHumidityMeasurement:e.RelativeHumidityMeasurementServer,TemperatureMeasurement:e.TemperatureMeasurementServer,CarbonMonoxideConcentrationMeasurement:e.CarbonMonoxideConcentrationMeasurementServer}}})(qb||(qb={}));var E4t=Ue({name:"SmokeCoAlarm",deviceType:118,deviceRevision:1,requirements:qb,behaviors:Be(qb.server.mandatory.Identify)});var F0;(e=>{e.OnOffServer=Pt,e.LevelControlServer=Qi,e.server={mandatory:{OnOff:e.OnOffServer,LevelControl:e.LevelControlServer}}})(F0||(F0={}));var k4t=Ue({name:"Speaker",deviceType:34,deviceRevision:1,requirements:F0,behaviors:Be(F0.server.mandatory.OnOff,F0.server.mandatory.LevelControl)});var BE=de.for(Ad.Cluster);var _b=class extends BE{};var UE=de.for(Id.Cluster);var $b=class extends UE{};var a4;(e=>{e.TemperatureControlServer=jo,e.TemperatureMeasurementServer=Sr,e.RefrigeratorAndTemperatureControlledCabinetModeServer=Jh,e.OvenModeServer=_b,e.OvenCavityOperationalStateServer=$b,e.server={mandatory:{TemperatureControl:e.TemperatureControlServer},optional:{TemperatureMeasurement:e.TemperatureMeasurementServer,RefrigeratorAndTemperatureControlledCabinetMode:e.RefrigeratorAndTemperatureControlledCabinetModeServer,OvenMode:e.OvenModeServer,OvenCavityOperationalState:e.OvenCavityOperationalStateServer}}})(a4||(a4={}));var J4t=Ue({name:"TemperatureControlledCabinet",deviceType:113,deviceRevision:2,requirements:a4,behaviors:Be()});var VE=de.for(yt(td.Base));var Wb=class extends VE{};var Hb;(e=>{e.IdentifyServer=Ke,e.ThermostatServer=tf,e.GroupsServer=Cn,e.ScenesManagementServer=ni,e.ThermostatUserInterfaceConfigurationServer=nf,e.EnergyPreferenceServer=Wb,e.TimeSynchronizationServer=Xc,e.RelativeHumidityMeasurementBehavior=$1,e.TimeSynchronizationBehavior=a1,e.FanControlBehavior=q1,e.TemperatureMeasurementBehavior=Qc,e.OccupancySensingBehavior=Di,e.server={mandatory:{Identify:e.IdentifyServer,Thermostat:e.ThermostatServer},optional:{Groups:e.GroupsServer,ScenesManagement:e.ScenesManagementServer,ThermostatUserInterfaceConfiguration:e.ThermostatUserInterfaceConfigurationServer,EnergyPreference:e.EnergyPreferenceServer,TimeSynchronization:e.TimeSynchronizationServer}},e.client={optional:{RelativeHumidityMeasurement:e.RelativeHumidityMeasurementBehavior,TimeSynchronization:e.TimeSynchronizationBehavior,FanControl:e.FanControlBehavior,TemperatureMeasurement:e.TemperatureMeasurementBehavior,OccupancySensing:e.OccupancySensingBehavior},mandatory:{}}})(Hb||(Hb={}));var wIt=Ue({name:"Thermostat",deviceType:769,deviceRevision:3,requirements:Hb,behaviors:Be(Hb.server.mandatory.Identify)});var s4;(e=>{e.OnOffBehavior=Yi,e.MediaPlaybackBehavior=Ih,e.KeypadInputBehavior=Ah,e.LevelControlBehavior=Ir,e.WakeOnLanBehavior=Mh,e.ChannelBehavior=Oh,e.TargetNavigatorBehavior=Dh,e.MediaInputBehavior=Rh,e.LowPowerBehavior=Su,e.ContentLauncherBehavior=Vh,e.AudioOutputBehavior=Ph,e.ApplicationLauncherBehavior=qh,e.AccountLoginBehavior=_h,e.ContentControlBehavior=Fh,e.client={mandatory:{OnOff:e.OnOffBehavior,MediaPlayback:e.MediaPlaybackBehavior,KeypadInput:e.KeypadInputBehavior},optional:{LevelControl:e.LevelControlBehavior,WakeOnLan:e.WakeOnLanBehavior,Channel:e.ChannelBehavior,TargetNavigator:e.TargetNavigatorBehavior,MediaInput:e.MediaInputBehavior,LowPower:e.LowPowerBehavior,ContentLauncher:e.ContentLauncherBehavior,AudioOutput:e.AudioOutputBehavior,ApplicationLauncher:e.ApplicationLauncherBehavior,AccountLogin:e.AccountLoginBehavior,ContentControl:e.ContentControlBehavior}}})(s4||(s4={}));var VIt=Ue({name:"VideoRemoteControl",deviceType:42,deviceRevision:2,requirements:s4,behaviors:Be()});var L0;(e=>{e.IdentifyServer=Ke,e.BooleanStateServer=os.alter({events:{stateChange:{optional:!1}}}),e.BooleanStateConfigurationServer=as,e.server={mandatory:{Identify:e.IdentifyServer,BooleanState:e.BooleanStateServer},optional:{BooleanStateConfiguration:e.BooleanStateConfigurationServer}}})(L0||(L0={}));var GIt=Ue({name:"WaterFreezeDetector",deviceType:65,deviceRevision:1,requirements:L0,behaviors:Be(L0.server.mandatory.Identify,L0.server.mandatory.BooleanState)});var B0;(e=>{e.IdentifyServer=Ke,e.BooleanStateServer=os.alter({events:{stateChange:{optional:!1}}}),e.BooleanStateConfigurationServer=as,e.server={mandatory:{Identify:e.IdentifyServer,BooleanState:e.BooleanStateServer},optional:{BooleanStateConfiguration:e.BooleanStateConfigurationServer}}})(B0||(B0={}));var JIt=Ue({name:"WaterLeakDetector",deviceType:67,deviceRevision:1,requirements:B0,behaviors:Be(B0.server.mandatory.Identify,B0.server.mandatory.BooleanState)});var qE=de.withInterface().for(Jd.Cluster);var jb=class extends qE{};var U0;(e=>{e.IdentifyServer=Ke,e.ValveConfigurationAndControlServer=jb,e.FlowMeasurementServer=cl,e.FlowMeasurementBehavior=sl,e.server={mandatory:{Identify:e.IdentifyServer,ValveConfigurationAndControl:e.ValveConfigurationAndControlServer},optional:{FlowMeasurement:e.FlowMeasurementServer}},e.client={optional:{FlowMeasurement:e.FlowMeasurementBehavior},mandatory:{}}})(U0||(U0={}));var m8t=Ue({name:"WaterValve",deviceType:66,deviceRevision:1,requirements:U0,behaviors:Be(U0.server.mandatory.Identify,U0.server.mandatory.ValveConfigurationAndControl)});var Gb=de.withInterface().for(yt(wn.Base));var c4;(e=>{e.IdentifyServer=Ke,e.WindowCoveringBehavior=Gb,e.IdentifyBehavior=zi,e.GroupsBehavior=Xi,e.ScenesManagementBehavior=Zi,e.server={optional:{Identify:e.IdentifyServer},mandatory:{}},e.client={mandatory:{WindowCovering:e.WindowCoveringBehavior},optional:{Identify:e.IdentifyBehavior,Groups:e.GroupsBehavior,ScenesManagement:e.ScenesManagementBehavior}}})(c4||(c4={}));var I8t=Ue({name:"WindowCoveringController",deviceType:515,deviceRevision:3,requirements:c4,behaviors:Be()});var ll=J.get("WindowCoveringServer"),$E=Gb.with(wn.Feature.Lift,wn.Feature.Tilt,wn.Feature.PositionAwareLift,wn.Feature.PositionAwareTilt,wn.Feature.AbsolutePosition);var zb=0,Kb=1e4,_E=100,V0=class extends $E{initialize(){this.internal.inMaintenanceMode=!!this.state.mode.maintenanceMode,this.internal.calibrationMode=this.state.mode.calibrationMode&&!this.state.mode.maintenanceMode?0:2,this.reactTo(this.events.mode$Changing,this.#e);let t=this.state.configStatus;t.operational=!this.internal.inMaintenanceMode&&!this.state.mode.calibrationMode,this.features.lift&&this.features.positionAwareLift&&(t.liftPositionAware=!0),this.features.tilt&&this.features.positionAwareTilt&&(t.tiltPositionAware=!0),Rn(t,this.state.configStatus)||(this.state.configStatus=t),this.features.tilt&&(this.state.targetPositionTiltPercent100ths=this.state.currentPositionTiltPercent100ths),this.features.lift&&(this.state.targetPositionLiftPercent100ths=this.state.currentPositionLiftPercent100ths),this.reactTo(this.events.currentPositionLiftPercent100ths$Changing,this.#o),this.reactTo(this.events.currentPositionTiltPercent100ths$Changing,this.#r),this.reactTo(this.events.targetPositionLiftPercent100ths$Changing,this.#n),this.reactTo(this.events.targetPositionTiltPercent100ths$Changing,this.#i),this.reactTo(this.events.operationalStatus$Changing,this.#t)}#e(t){if(t.maintenanceMode&&t.calibrationMode&&(t.calibrationMode=!1),t.maintenanceMode&&!this.state.supportsMaintenanceMode)throw new ve("Maintenance mode not supported",ue.ConstraintError);if(this.internal.inMaintenanceMode=!!t.maintenanceMode,t.calibrationMode){if(!this.state.supportsCalibration)throw new ve("Calibration not supported",ue.ConstraintError);this.internal.calibrationMode===1||(this.internal.calibrationMode=0)}else this.internal.calibrationMode=2;let n=this.state.configStatus;n.operational=!t.maintenanceMode||t.calibrationMode&&!this.state.supportsCalibration,n.liftMovementReversed=!!t.motorDirectionReversed,Rn(n,this.state.configStatus)&&this.asAdmin(()=>{this.state.configStatus=n}),ll.debug(`Mode changed to ${J.toJSON(t)} and config status to ${J.toJSON(n)} and internal calibration mode to ${this.internal.calibrationMode}`)}#t(t){let n=t.lift!==wn.MovementStatus.Stopped?t.lift:t.tilt;t.global=n,ll.debug(`Operational status changed to ${J.toJSON(t)} with new global status ${n}`),this.state.operationalStatus=t}#n(t){this.features.positionAwareLift&&(this.state.operationalStatus.lift=this.#a(t,this.state.currentPositionLiftPercent100ths))}#i(t){this.features.positionAwareTilt&&(this.state.operationalStatus.tilt=this.#a(t,this.state.currentPositionTiltPercent100ths))}#o(t){this.features.positionAwareLift&&(this.state.currentPositionLiftPercentage=t===null?t:Math.floor(t/_E),this.state.operationalStatus.lift!==wn.MovementStatus.Stopped&&t===this.state.targetPositionLiftPercent100ths&&(this.state.operationalStatus.lift=wn.MovementStatus.Stopped,ll.debug("Lift movement stopped, target value reached"))),this.features.absolutePosition&&(this.state.currentPositionLift=t===null?null:this.#y(t)),ll.debug(`Syncing lift position ${this.state.currentPositionLiftPercent100ths===null?null:(this.state.currentPositionLiftPercent100ths/100).toFixed(2)} to ${this.state.currentPositionLiftPercentage}% (${this.state.currentPositionLift})`)}#r(t){this.features.positionAwareTilt&&(this.state.currentPositionTiltPercentage=t===null?t:Math.floor(t/_E),this.state.operationalStatus.tilt!==wn.MovementStatus.Stopped&&t===this.state.targetPositionTiltPercent100ths&&(this.state.operationalStatus.tilt=wn.MovementStatus.Stopped,ll.debug("Tilt movement stopped, target value reached"))),this.features.absolutePosition&&(this.state.currentPositionTilt=t===null?null:this.#x(t)),ll.debug(`Syncing tilt position ${this.state.currentPositionTiltPercent100ths===null?null:(this.state.currentPositionTiltPercent100ths/100).toFixed(2)} to ${this.state.currentPositionTiltPercentage}% (${this.state.currentPositionTilt})`)}#a(t,n){return n===null||t===null?wn.MovementStatus.Stopped:n===t?wn.MovementStatus.Stopped:n<t?wn.MovementStatus.Closing:wn.MovementStatus.Opening}#s(){if(this.internal.inMaintenanceMode)throw new ve("Device is in maintenance mode",ue.Busy);switch(this.internal.calibrationMode){case 0:if(!this.state.supportsCalibration)throw new ve("Calibration not implemented",ue.Failure);break;case 1:break;case 2:break}if(!this.state.configStatus.operational)throw new ve("Device is not operational",ue.Failure)}executeCalibration(){}async handleMovement(t,n,i,r){switch(t){case 0:if(this.features.positionAwareLift){if(r===void 0)throw new ce("Target position must be defined for position aware lift");this.state.currentPositionLiftPercent100ths=r}break;case 1:if(this.features.positionAwareTilt){if(r===void 0)throw new ce("Target position must be defined for position aware lift");this.state.currentPositionTiltPercent100ths=r}break}let a=i===2?" in direction by position":` in direction ${i===1?"Close":"Open"}`,s=r===void 0?"":` to target position ${(r/100).toFixed(2)}`;ll.debug(`Moving the device ${t===0?"Lift":"Tilt"}${a} (reversed=${n})${s}`)}#c(t,n,i){if(this.state.supportsCalibration&&this.internal.calibrationMode===0)return this.env.runtime.add(this.#l(t,n,i));switch(t===0&&this.state.configStatus.liftMovementReversed&&ll.debug("Lift movement is reversed"),t){case 0:this.state.numberOfActuationsLift=(this.state.numberOfActuationsLift??0)+1,this.features.positionAwareLift&&n===2&&i!==void 0&&this.state.currentPositionLiftPercent100ths!==null&&(n=i>this.state.currentPositionLiftPercent100ths?1:0),n!==2&&(this.state.operationalStatus.lift=n===1?wn.MovementStatus.Closing:wn.MovementStatus.Opening);break;case 1:this.state.numberOfActuationsTilt=(this.state.numberOfActuationsTilt??0)+1,this.features.positionAwareLift&&n===2&&i!==void 0&&this.state.currentPositionTiltPercent100ths!==null&&(n=i>this.state.currentPositionTiltPercent100ths?1:0),n!==2&&(this.state.operationalStatus.tilt=n===1?wn.MovementStatus.Closing:wn.MovementStatus.Opening);break}this.env.runtime.add(this.handleMovement(t,t===0&&!!this.state.configStatus.liftMovementReversed,n,i))}#l(t,n,i){let r;return this.internal.calibrationMode===0&&this.state.supportsCalibration&&(this.internal.calibrationMode=1,r=this.executeCalibration()),Pe.then(r,()=>(this.internal.calibrationMode=2,this.#c(t,n,i)))}handleStopMovement(){this.features.positionAwareLift&&(this.state.targetPositionLiftPercent100ths=this.state.currentPositionLiftPercent100ths),this.features.positionAwareTilt&&(this.state.targetPositionTiltPercent100ths=this.state.currentPositionTiltPercent100ths),!this.features.positionAwareLift&&!this.features.positionAwareTilt&&(this.state.operationalStatus={global:wn.MovementStatus.Stopped,lift:wn.MovementStatus.Stopped,tilt:wn.MovementStatus.Stopped})}#m(t,n){this.#c(0,t,n)}#d(t,n){this.#c(1,t,n)}upOrOpen(){this.#s();let t,n;this.features.positionAwareLift&&(this.state.targetPositionLiftPercent100ths=t=zb),this.features.positionAwareTilt&&(this.state.targetPositionTiltPercent100ths=n=zb),this.features.lift&&this.#m(0,t),this.features.tilt&&this.#d(0,n)}downOrClose(){this.#s();let t,n;this.features.positionAwareLift&&(this.state.targetPositionLiftPercent100ths=t=Kb),this.features.positionAwareTilt&&(this.state.targetPositionTiltPercent100ths=n=Kb),this.features.lift&&this.#m(1,t),this.features.tilt&&this.#d(1,n)}stopMotion(){return this.#s(),this.handleStopMovement()}goToLiftValue({liftValue:t}){this.#s(),this.state.targetPositionLiftPercent100ths=this.#v(t),this.#m(2,this.state.targetPositionLiftPercent100ths)}goToLiftPercentage({liftPercent100thsValue:t}){this.#s(),this.features.positionAwareLift?(this.state.targetPositionLiftPercent100ths=t,this.#m(2,this.state.targetPositionLiftPercent100ths??void 0)):t===0?this.upOrOpen():this.downOrClose()}goToTiltValue({tiltValue:t}){this.#s(),this.state.targetPositionTiltPercent100ths=this.#p(t),this.#d(2,this.state.targetPositionTiltPercent100ths)}goToTiltPercentage({tiltPercent100thsValue:t}){this.#s(),this.features.positionAwareTilt?(this.state.targetPositionTiltPercent100ths=t??null,this.#d(2,this.state.targetPositionTiltPercent100ths??void 0)):t===0?this.upOrOpen():this.downOrClose()}#u(t,n,i,r,a){let s=t,c=n,l=i,d=r;t>n&&(s=n,c=t),i>r&&(l=r,d=i);let f=c-s,g=d-l;return a<s?l:a>c?d:f>0?Math.round(l+g*(a-s)/f):d}#f(t,n){return this.#u(t.open,t.closed,zb,Kb,n)}#h(t,n){return this.#u(zb,Kb,t.open,t.closed,n)}#v(t){return this.#f({open:this.state.installedOpenLimitLift,closed:this.state.installedClosedLimitLift},t)}#y(t){return this.#h({open:this.state.installedOpenLimitLift,closed:this.state.installedClosedLimitLift},t)}#p(t){return this.#f({open:this.state.installedOpenLimitTilt,closed:this.state.installedClosedLimitTilt},t)}#x(t){return this.#h({open:this.state.installedOpenLimitTilt,closed:this.state.installedClosedLimitTilt},t)}};(e=>{class t{calibrationMode=2;inMaintenanceMode=!1}e.Internal=t;class n extends $E.State{supportsCalibration=!1;supportsMaintenanceMode=!0}e.State=n})(V0||(V0={}));var Xb=class extends V0.for(yt(wn.Base)){};var Yb;(e=>{e.IdentifyServer=Ke,e.WindowCoveringServer=Xb,e.GroupsServer=Cn,e.ScenesManagementServer=ni,e.server={mandatory:{Identify:e.IdentifyServer,WindowCovering:e.WindowCoveringServer},optional:{Groups:e.GroupsServer,ScenesManagement:e.ScenesManagementServer}}})(Yb||(Yb={}));var U8t=Ue({name:"WindowCovering",deviceType:514,deviceRevision:3,requirements:Yb,behaviors:Be(Yb.server.mandatory.Identify)});var RO=bs(require("net"),1),eI=bs(require("dgram"),1);var CO=bs(TO(),1),{applyExtends:dG,cjsPlatformShim:uG,Parser:mG,processArgv:hG,Yargs:yx}=CO.default;yx.applyExtends=(e,t,n)=>dG(e,t,n,uG);yx.hideBin=hG.hideBin;yx.Parser=mG;var SO=yx;var gx=class e{static ALPHABET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";payload;constructor(t){this.payload=t}integer(){return this.crc(this.payload)}base35(){return this.base35encode(this.integer())}inspect(){return{payload:this.payload,base35:this.base35(),integer:this.integer()}}base35encode(t){let n="";for(;t>1;){let i;[t,i]=[Math.floor(t/35),t%35],i===24&&(i=35),n=n+e.ALPHABET[i]}return n}base35decode(t){let n=0;return Array.from(t).reverse().forEach((i,r)=>{n+=e.ALPHABET.indexOf(i)*35**r}),n}crc(t){let n=0;for(let i of t)n^=(n<<5)+(n>>2)+i.charCodeAt(0),n&=65535;return n}};var X4=class extends Error{constructor(t){super(t),this.name="JuiceboxException"}},Y0=class extends X4{constructor(t){super(t),this.name="InvalidMessageFormat"}};var IO=bs(Z4(),1),Z0=class{payload_str=null;checksum_str=null;offline_amperage=0;instant_amperage=0;command=6;counter=1;time=(0,IO.default)();constructor(){}fromString(t){let n=t.match(/((?<payload>.*)!(?<checksum>[A-Z0-9]{3})(?:\$|:))/);if(!n||!n.groups)throw new Y0(`Unable to parse message: '${t}'`);return this.payload_str=n.groups.payload,this.checksum_str=n.groups.checksum,this}checksum(){if(!this.payload_str)throw new Y0("Payload is missing");return new gx(this.payload_str)}checksumComputed(){return this.checksum().base35()}buildPayload(){if(this.payload_str)return;let t=this.time.format("E");this.payload_str=`CMD${t}${this.time.format("HHmm")}A${this.offline_amperage.toString().padStart(2,"0")}M${this.instant_amperage.toString().padStart(2,"0")}C${this.command.toString().padStart(3,"0")}S${this.counter.toString().padStart(3,"0")}`,this.checksum_str=this.checksumComputed()}build(){return this.buildPayload(),`${this.payload_str}!${this.checksum_str}$`}inspect(){return{offline_amperage:this.offline_amperage,instant_amperage:this.instant_amperage,payload_str:this.payload_str,checksum_str:this.checksum_str,checksum_computed:this.checksumComputed()}}toString(){return this.build()}};var Q4=bs(Z4(),1);function AO(e){let t={type:"basic",current:0,energy_session:0,data_from_juicebox:""},n=!0,i=new TextDecoder("utf-8").decode(e).split(/,|!|:/);i.shift(),i.pop(),i.pop();for(let r of i)switch(r[0]){case"S":t.status={S0:"Unplugged",S1:"Plugged In",S2:"Charging",S5:"Error",S00:"Unplugged",S01:"Plugged In",S02:"Charging",S05:"Error"}[r]||`unknown ${r}`,n=t.status.toLowerCase()==="charging";break;case"A":t.current=n?+(parseFloat(r.split("A")[1])*.1).toFixed(2):0;break;case"m":t.current_rating=parseFloat(r.split("m")[1]);break;case"M":t.current_setting=parseFloat(r.split("M")[1]);break;case"f":t.frequency=+(parseFloat(r.split("f")[1])*.01).toFixed(2);break;case"L":t.energy_lifetime=parseFloat(r.split("L")[1]);break;case"v":t.protocol_version=r.split("v")[1];break;case"E":t.energy_session=n?parseFloat(r.split("E")[1]):0;break;case"t":t.report_time=r.split("t")[1];break;case"i":t.interval=r.split("i")[1];break;case"u":t.loop_counter=r.split("u")[1];break;case"T":t.temperature=+(parseFloat(r.split("T")[1])*1.8+32).toFixed(2);break;case"V":t.voltage=+(parseFloat(r.split("V")[1])*.1).toFixed(2);break;default:t[`unknown_${r[0]}`]=r.substring(1)}return t.voltage!==void 0&&t.current!==void 0?t.power=+(t.voltage*t.current).toFixed(2):t.power=0,t.data_from_juicebox=new TextDecoder("utf-8").decode(e),t}var J0=SO(process.argv).parse(),J4=J0.juicebox_host,fG=J0.juicebox_telnet_port??2e3,pG=J0.juicebox_poll_seconds??30,MO=8042,EO=eI.createSocket("udp4"),OO=J0.matter_host,NO=J0.matter_port??8047,hl,Q0=!1;async function yG(){let{deviceName:e,vendorName:t,passcode:n,discriminator:i,vendorId:r,productName:a,productId:s,port:c,uniqueId:l}=await vG(),d=await xh.create({id:l,network:{port:c},commissioning:{passcode:n,discriminator:i},productDescription:{name:e,deviceType:la(EE.deviceType)},basicInformation:{vendorName:t,vendorId:Wi(r),nodeLabel:a,productName:a,productLabel:a,productId:s,serialNumber:`matterjs-${l}`,uniqueId:l}}),f=new Jr(yE,{id:"onoff"});await d.add(f),f.set({levelControl:{minLevel:1}}),f.set({levelControl:{maxLevel:40}});let g=new Jr(j7,{id:"tempsensor",temperatureMeasurement:{measuredValue:null}});await d.add(g),f.events.onOff.onOff$Changed.on(w=>{let O=new Z0;O.time=(0,Q4.default)();let D=O.build();console.log(`OnOff is now ${w?"ON":"OFF"}`)}),f.events.levelControl.currentLevel$Changed.on(w=>{let O=new Z0;O.time=(0,Q4.default)(),O.offline_amperage=20,O.instant_amperage=w??0;let D=O.build();console.log(D),console.log(O.inspect());let y=Buffer.from(D);EO.send(y,0,y.length,MO,J4,S=>{S?console.error("Error sending message:",S):console.log("Message sent to JuiceBox:",J4,MO),EO.close()}),console.log(`Plug level is now ${w}`)}),gG(f,g),DO();let b=setInterval(DO,pG*1e3);await d.start()}function DO(){Q0||(hl=new RO.default.Socket,hl.connect(fG,J4,()=>{hl.on("close",()=>{console.log("Connection closed"),Q0=!1}),hl.on("error",e=>{console.error("Telnet Error: ",e)}),Q0=!0,console.log("Telnet connection to JuiceBox "),hl.write(`list
`),hl.on("data",e=>{if(Q0){for(let t of e.toString().split(`
`).filter(n=>n.trim()!==""))if(t.includes("UDPC")){t.includes(OO)||(hl.write(`close ${t.split(" ")[1]}
udpc ${OO} ${NO}
exit
`),console.log("UDPC change")),Q0=!1,hl.end();break}}})}))}function gG(e,t){var n=eI.createSocket("udp4");n.bind(NO),n.on("message",function(i,r){let a=AO(i);console.log(JSON.stringify(a,null,2)),console.log("Setting onOff to "+(a.power>0)),e.set({onOff:{onOff:a.power>0}}),e.set({levelControl:{maxLevel:a.current_setting}}),t.set({temperatureMeasurement:{measuredValue:(a.temperature-32)*5/9*100}})})}async function vG(){let e=Rr.default,n=(await e.get(Rs).open("device")).createContext("data"),i="Matter JuiceBox",r="matter-node.js",a=e.vars.number("passcode")??await n.get("passcode",20202021),s=e.vars.number("discriminator")??await n.get("discriminator",3840),c=e.vars.number("vendorid")??await n.get("vendorid",65521),l="matter.js JuiceBox",d=e.vars.number("productid")??await n.get("productid",32768),f=e.vars.number("port")??5540,g=e.vars.string("uniqueid")??(await n.get("uniqueid",Ne.nowMs())).toString();return await n.set({passcode:a,discriminator:s,vendorid:c,productid:d,uniqueid:g}),{deviceName:i,vendorName:r,passcode:a,discriminator:s,vendorId:c,productName:l,productId:d,port:f,uniqueId:g}}yG();
/*! Bundled license information:

imurmurhash/imurmurhash.js:
  (**
   * @preserve
   * JS Implementation of incremental MurmurHash3 (r150) (as of May 10, 2013)
   *
   * @author <a href="mailto:jensyt@gmail.com">Jens Taylor</a>
   * @see http://github.com/homebrewing/brauhaus-diff
   * @author <a href="mailto:gary.court@gmail.com">Gary Court</a>
   * @see http://github.com/garycourt/murmurhash-js
   * @author <a href="mailto:aappleby@gmail.com">Austin Appleby</a>
   * @see http://sites.google.com/site/murmurhash/
   *)

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.30.1 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)

@matter/general/dist/esm/codec/Base64Codec.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/util/Error.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/MatterError.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/util/Bytes.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/util/DataReader.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/util/Number.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/util/Type.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/codec/DerCodec.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/codec/DerTypes.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/util/DataWriter.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/util/Ip.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/codec/DnsCodec.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/codec/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/p256.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@matter/general/dist/esm/crypto/Crypto.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/crypto/CryptoConstants.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/crypto/Key.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/crypto/Spake2p.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/crypto/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/log/LogLevel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/log/Diagnostic.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/log/DiagnosticSource.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/time/Time.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/util/Lifecycle.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/util/String.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/log/LogFormat.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/log/Logger.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/polyfills/disposable.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/util/Promises.js:
  (**
   * Utils for promises.
   *
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/util/Observable.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/environment/Environmental.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/environment/RuntimeService.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/environment/VariableService.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/environment/Environment.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/environment/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/log/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/math/ReedSolomon.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/math/Verhoeff.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/math/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/net/Channel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/net/Network.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/net/UdpChannel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/util/Singleton.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/net/mock/NetworkSimulator.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/net/mock/MockUdpChannel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/net/mock/MockNetwork.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/util/Set.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/net/TransportInterface.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/net/NetInterface.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/net/ServerAddress.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/net/UdpInterface.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/util/Cache.js:
  (**
   * Cache computed values or resources for a specified duration to improve performances.
   *
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/net/UdpMulticastServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/net/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/storage/Storage.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/storage/StorageBackendMemory.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/storage/StorageContext.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/storage/StorageManager.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/storage/StorageService.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/storage/StringifyTools.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/storage/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/time/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/util/Array.js:
  (**
   * Array types
   *
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/util/Construction.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/util/Stream.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/util/DataReadQueue.js:
  (**
   * Promise-based blocking queue.
   *
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/util/DeepCopy.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/util/DeepEqual.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/util/GeneratedClass.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/util/Mutex.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/util/NamedHandler.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/util/PromiseQueue.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/util/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/polyfills/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/general/dist/esm/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/aspects/Aspect.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/aspects/Access.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/common/DataModelPath.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/common/DefinitionError.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/common/DeviceClassification.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/common/ElementTag.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/common/errors.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/common/FeatureSet.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/common/FieldValue.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/common/Metatype.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/common/Specification.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/common/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/parser/Lexer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/parser/Token.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/parser/TokenStream.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/parser/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/aspects/Conformance.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/aspects/Constraint.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/aspects/Quality.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/aspects/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/elements/AnyElement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/elements/AnyValueElement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/elements/BaseElement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/elements/ValueElement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/elements/AttributeElement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/elements/ClusterElement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/elements/CommandElement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/elements/FieldElement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/elements/DatatypeElement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/elements/DeviceTypeElement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/elements/EndpointElement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/elements/EventElement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/elements/FabricElement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/elements/MatterElement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/elements/NodeElement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/elements/RequirementElement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/elements/SemanticNamespaceElement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/elements/SemanticTagElement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/elements/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/MatterDefinition.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/Identify.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/Groups.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ScenesManagement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/OnOff.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/LevelControl.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/PulseWidthModulation.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/BooleanState.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/BooleanStateConfiguration.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ModeSelect.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ModeBase.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/LowPower.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/WakeOnLan.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/Switch.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/OperationalState.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/AlarmBase.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/Messages.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/IlluminanceMeasurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/TemperatureMeasurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/PressureMeasurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/FlowMeasurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/RelativeHumidityMeasurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/OccupancySensing.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ResourceMonitoring.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/HepaFilterMonitoring.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ActivatedCarbonFilterMonitoring.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/AirQuality.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ConcentrationMeasurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/CarbonMonoxideConcentrationMeasurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/CarbonDioxideConcentrationMeasurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/NitrogenDioxideConcentrationMeasurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/OzoneConcentrationMeasurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/Pm25ConcentrationMeasurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/FormaldehydeConcentrationMeasurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/Pm1ConcentrationMeasurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/Pm10ConcentrationMeasurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/TotalVolatileOrganicCompoundsConcentrationMeasurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/RadonConcentrationMeasurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/SmokeCoAlarm.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ElectricalEnergyMeasurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ElectricalPowerMeasurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ColorControl.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/BallastConfiguration.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/PumpConfigurationAndControl.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/Thermostat.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/FanControl.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ThermostatUserInterfaceConfiguration.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ValveConfigurationAndControl.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/DoorLock.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/WindowCovering.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/AccountLogin.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ApplicationBasic.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ApplicationLauncher.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/AudioOutput.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/Channel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ContentLauncher.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/KeypadInput.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/MediaInput.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/MediaPlayback.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/TargetNavigator.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ContentAppObserver.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ContentControl.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/RvcRunMode.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/RvcCleanMode.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/RvcOperationalState.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/TemperatureControl.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/DishwasherMode.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/DishwasherAlarm.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/LaundryWasherMode.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/LaundryWasherControls.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/RefrigeratorAndTemperatureControlledCabinetMode.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/RefrigeratorAlarm.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/LaundryDryerControls.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/OvenCavityOperationalState.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/OvenMode.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/MicrowaveOvenMode.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/MicrowaveOvenControl.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/DeviceEnergyManagement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/EnergyEvse.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/EnergyEvseMode.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/EnergyPreference.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/DeviceEnergyManagementMode.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/Descriptor.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/Binding.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/Label.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/FixedLabel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/UserLabel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/AccessControl.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/BridgedDeviceBasicInformation.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/Actions.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ProxyDiscovery.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ProxyConfiguration.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ValidProxies.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/IcdManagement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/BasicInformation.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/GroupKeyManagement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/LocalizationConfiguration.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/TimeFormatLocalization.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/UnitLocalization.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/PowerSourceConfiguration.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/PowerSource.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/PowerTopology.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/NetworkCommissioning.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/GeneralCommissioning.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/DiagnosticLogs.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/GeneralDiagnostics.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/SoftwareDiagnostics.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ThreadNetworkDiagnostics.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/WiFiNetworkDiagnostics.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/EthernetNetworkDiagnostics.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/TimeSynchronization.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/OperationalCredentials.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/AdministratorCommissioning.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/OtaSoftwareUpdateProvider.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/OtaSoftwareUpdateRequestor.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/MeasurementTypeEnum.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/MeasurementAccuracyRangeStruct.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/MeasurementAccuracyStruct.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/bool.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/map8.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/map16.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/map32.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/map64.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/uint8.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/uint16.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/uint24.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/uint32.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/uint40.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/uint48.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/uint56.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/uint64.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/int8.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/int16.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/int24.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/int32.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/int40.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/int48.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/int56.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/int64.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/single.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/double.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/octstr.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/list.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/struct.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/percent.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/percent100ths.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/tod.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/date.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/epoch-us.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/epoch-s.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/posix-ms.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/systime-us.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/systime-ms.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/elapsed-s.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/temperature.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/power-mW.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/amperage-mA.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/voltage-mV.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/energy-mWh.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/enum8.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/enum16.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/priority.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/status.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/group-id.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/endpoint-no.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/vendor-id.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/devtype-id.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/fabric-id.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/fabric-idx.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/cluster-id.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/attrib-id.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/field-id.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/event-id.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/command-id.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/action-id.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/trans-id.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/node-id.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/entry-idx.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/data-ver.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/event-no.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/string.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ipadr.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ipv4adr.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ipv6adr.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ipv6pre.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/hwadr.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/semtag.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/namespace.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/tag.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/WildcardPathFlagsBitmap.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/SoftwareVersionCertificationStatusEnum.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/any.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/subject-id.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ClusterRevision.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/FeatureMap.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/AttributeList.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/EventList.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/AcceptedCommandList.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/GeneratedCommandList.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/FabricIndex.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/BaseDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/RootNodeDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/PowerSourceDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/OtaRequestorDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/OtaProviderDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/BridgedNodeDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ElectricalSensorDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/DeviceEnergyManagementDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/OnOffLightDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/DimmableLightDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ColorTemperatureLightDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ExtendedColorLightDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/OnOffPlugInUnitDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/DimmablePlugInUnitDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/PumpDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/WaterValveDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/OnOffLightSwitchDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/DimmerSwitchDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ColorDimmerSwitchDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ControlBridgeDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/PumpControllerDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/GenericSwitchDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ContactSensorDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/LightSensorDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/OccupancySensorDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/TemperatureSensorDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/PressureSensorDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/FlowSensorDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/HumiditySensorDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/OnOffSensorDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/SmokeCoAlarmDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/AirQualitySensorDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/WaterFreezeDetectorDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/WaterLeakDetectorDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/RainSensorDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/DoorLockDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/DoorLockControllerDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/WindowCoveringDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/WindowCoveringControllerDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ThermostatDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/FanDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/AirPurifierDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/BasicVideoPlayerDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/CastingVideoPlayerDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/SpeakerDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ContentAppDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/CastingVideoClientDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/VideoRemoteControlDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ModeSelectDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/AggregatorDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/RoboticVacuumCleanerDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/LaundryWasherDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/RefrigeratorDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/RoomAirConditionerDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/TemperatureControlledCabinetDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/DishwasherDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/LaundryDryerDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/CookSurfaceDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/CooktopDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/OvenDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ExtractorHoodDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/MicrowaveOvenDT.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ClosureNS.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/CompassDirectionNS.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/CompassLocationNS.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/DirectionNS.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/LevelNS.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/LocationNS.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/NumberNS.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/PositionNS.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/ElectricalMeasurementNS.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/LaundryNS.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/PowerSourceNS.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/RefrigeratorNS.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/RoomAirConditionerNS.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/SwitchesNS.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/definitions.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/ModelTraversal.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/models/Children.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/models/Model.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/models/Aspects.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/DefaultValue.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/models/ValueModel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/models/PropertyModel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/models/AttributeModel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/models/CommandModel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/models/DatatypeModel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/models/EventModel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/models/ClusterModel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/models/RequirementModel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/models/DeviceTypeModel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/models/EndpointModel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/models/FabricModel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/models/FieldModel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/models/SemanticNamespaceModel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/elements/models.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/models/Globals.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/models/MatterModel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/models/NodeModel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/models/SemanticTagModel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/models/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/cluster-variance/FeatureBitmap.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/cluster-variance/IllegalFeatureCombinations.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/cluster-variance/InferredComponents.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/cluster-variance/NamedComponents.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/cluster-variance/VarianceCondition.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/ClusterVariance.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/ModelVariantTraversal.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/MergedModel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/definition-validation/ModelValidator.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/ValidateModel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/definition-validation/ValidationExceptions.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/definition-validation/ValueValidator.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/definition-validation/AttributeValidator.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/definition-validation/ClusterValidator.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/definition-validation/CommandValidator.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/definition-validation/DatatypeValidator.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/definition-validation/DeviceTypeValidator.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/definition-validation/EndpointValidator.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/definition-validation/EventValidator.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/definition-validation/FabricValidator.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/definition-validation/FieldValidator.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/definition-validation/MatterValidator.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/definition-validation/NodeValidator.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/definition-validation/RequirementValidator.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/definition-validation/SemanticNamespaceValidator.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/definition-validation/SemanticTagValidator.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/definition-validation/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/logic/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/Matter.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/standard/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/model/dist/esm/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/globals/Status.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/common/StatusCode.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/common/ValidationError.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/schema/Schema.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/schema/BitmapSchema.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/tlv/TlvCodec.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/tlv/TlvSchema.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/tlv/TlvWrapper.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/tlv/TlvNumber.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/datatype/VendorId.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/datatype/ManufacturerExtensibleIdentifier.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/datatype/ClusterId.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/datatype/AttributeId.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/datatype/CommandId.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/datatype/EventId.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/tlv/TlvAny.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/tlv/TlvArray.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/tlv/TlvVoid.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/cluster/Cluster.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/cluster/ClusterType.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/cluster/mutation/ClusterComposer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/cluster/mutation/ElementModifier.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/cluster/mutation/MutableCluster.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/tlv/TlvObject.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/datatype/CaseAuthenticatedTag.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/datatype/NodeId.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/datatype/SubjectId.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/tlv/TlvString.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/tlv/TlvNullable.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/datatype/EndpointNumber.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/datatype/DeviceTypeId.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/datatype/FabricIndex.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/cluster/ClusterRegistry.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/access-control.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/account-login.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/actions.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/tlv/TlvBoolean.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/tlv/TlvNoArguments.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/resource-monitoring.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/activated-carbon-filter-monitoring.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/administrator-commissioning.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/air-quality.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/alarm-base.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/application-basic.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/application-launcher.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/audio-output.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/ballast-configuration.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/basic-information.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/datatype/GroupId.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/binding.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/boolean-state.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/boolean-state-configuration.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/bridged-device-basic-information.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/concentration-measurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/carbon-dioxide-concentration-measurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/carbon-monoxide-concentration-measurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/content-launcher.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/channel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/color-control.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/content-app-observer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/content-control.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/globals/Semtag.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/descriptor.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/device-energy-management.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/mode-base.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/device-energy-management-mode.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/diagnostic-logs.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/dishwasher-alarm.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/dishwasher-mode.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/door-lock.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/globals/MeasurementAccuracyRange.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/globals/MeasurementAccuracy.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/electrical-energy-measurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/electrical-power-measurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/energy-evse.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/energy-evse-mode.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/energy-preference.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/ethernet-network-diagnostics.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/fan-control.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/label.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/fixed-label.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/flow-measurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/formaldehyde-concentration-measurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/general-commissioning.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/general-diagnostics.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/group-key-management.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/groups.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/hepa-filter-monitoring.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/icd-management.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/identify.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/illuminance-measurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/keypad-input.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/laundry-dryer-controls.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/laundry-washer-controls.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/laundry-washer-mode.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/level-control.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/localization-configuration.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/low-power.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/media-input.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/media-playback.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/messages.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/microwave-oven-control.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/microwave-oven-mode.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/mode-select.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/network-commissioning.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/nitrogen-dioxide-concentration-measurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/occupancy-sensing.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/on-off.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/datatype/FabricId.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/operational-credentials.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/operational-state.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/ota-software-update-provider.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/ota-software-update-requestor.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/oven-cavity-operational-state.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/oven-mode.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/ozone-concentration-measurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/pm10-concentration-measurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/pm1-concentration-measurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/pm25-concentration-measurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/power-source.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/power-source-configuration.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/power-topology.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/pressure-measurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/proxy-configuration.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/proxy-discovery.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/pulse-width-modulation.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/pump-configuration-and-control.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/radon-concentration-measurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/refrigerator-alarm.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/refrigerator-and-temperature-controlled-cabinet-mode.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/relative-humidity-measurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/rvc-clean-mode.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/rvc-operational-state.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/rvc-run-mode.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/scenes-management.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/smoke-co-alarm.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/software-diagnostics.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/switch.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/target-navigator.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/temperature-control.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/temperature-measurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/thermostat.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/thermostat-user-interface-configuration.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/thread-network-diagnostics.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/time-format-localization.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/time-synchronization.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/total-volatile-organic-compounds-concentration-measurement.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/unit-localization.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/user-label.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/valid-proxies.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/valve-configuration-and-control.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/wake-on-lan.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/wi-fi-network-diagnostics.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/window-covering.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/clusters/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/cluster/ClusterHelper.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/cluster/mutation/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/cluster/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/commissioning/CommissioningConstants.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/commissioning/CommissioningOptions.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/commissioning/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/common/ProductDescription.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/common/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/datatype/DataVersion.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/datatype/EntryIndex.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/datatype/EventNumber.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/datatype/FieldId.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/datatype/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/globals/MeasurementType.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/globals/SoftwareVersionCertificationStatus.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/globals/WildcardPathFlags.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/globals/Priority.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/globals/Tod.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/globals/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/definitions/interaction.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/definitions/secure-channel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/definitions/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/types/WildcardPathFlagsBitmap.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/types/TlvAttributePath.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/types/TlvAttributeReportData.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/types/TlvStatus.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/types/TlvAttributeStatus.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/types/TlvAttributeReport.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/types/TlvEventPath.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/types/TlvEventData.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/types/TlvEventStatus.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/types/TlvEventReport.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/messages/TlvDataReport.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/messages/TlvDataReportForSend.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/types/TlvCommandPath.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/types/TlvCommandData.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/messages/TlvInvokeRequest.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/types/TlvCommandStatus.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/types/TlvInvokeResponseData.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/messages/TlvInvokeResponse.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/messages/TlvInvokeResponseForSend.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/types/TlvClusterPath.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/types/TlvDataVersionFilter.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/types/TlvEventFilter.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/messages/TlvReadRequest.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/messages/TlvStatusResponse.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/messages/TlvSubscribeRequest.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/messages/TlvSubscribeResponse.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/messages/TlvTimedRequest.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/types/TlvAttributeData.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/messages/TlvWriteRequest.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/messages/TlvWriteResponse.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/messages/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/types/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/protocol/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/schema/Base38Schema.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/schema/PairingCodeSchema.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/schema/QrCodeSchema.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/schema/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/tlv/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/types/dist/esm/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/errors.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/AccessControl.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/endpoint/Agent.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/ble/BleConsts.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/ble/Ble.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/codec/BtpCodec.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/ble/BtpSessionHandler.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/ble/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/certificate/CertificateManager.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/certificate/ChipPAAuthorities.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/certificate/AttestationCertificateManager.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/certificate/CertificationDeclarationManager.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/certificate/DeviceCertification.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/certificate/RootCertificateManager.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/certificate/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/peer/PeerAddress.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/codec/MessageCodec.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/protocol/MessageCounter.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/protocol/MessageReceptionState.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/session/Session.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/session/SecureSession.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/cluster/client/AttributeClient.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/cluster/client/EventClient.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/cluster/client/ClusterClient.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/cluster/client/ClusterClientTypes.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/cluster/client/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/cluster/server/AttributeServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/cluster/server/ClusterDatasource.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/cluster/server/ClusterServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/cluster/server/CommandServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/cluster/server/EventServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/cluster/server/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/cluster/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/codec/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/fabric/Fabric.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/common/FailsafeTimer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/common/FailsafeContext.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/common/InstanceBroadcaster.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/common/OperationalCredentialsTypes.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/common/Scanner.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/common/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/endpoint/EndpointInterface.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/endpoint/EndpointStructureLogger.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/endpoint/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/fabric/FabricManager.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/fabric/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/interaction/AccessControlManager.js:
  (**
   * @license
   * Copyright 2022-2023 Project CHIP Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/interaction/AttributeDataDecoder.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/interaction/AttributeDataEncoder.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/interaction/EventDataDecoder.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/interaction/EventHandler.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/securechannel/SecureChannelStatusMessageSchema.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/securechannel/SecureChannelMessenger.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/session/InsecureSession.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/session/SessionManager.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/protocol/ChannelManager.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/session/pase/PaseMessages.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/session/case/CaseMessages.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/session/case/CaseMessenger.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/session/case/CaseServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/session/pase/PaseMessenger.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/session/pase/PaseServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/securechannel/SecureChannelProtocol.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/protocol/MessageExchange.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/protocol/ExchangeManager.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/interaction/InteractionMessenger.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/interaction/Subscription.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/interaction/ServerSubscription.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/interaction/SubscriptionOptions.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/interaction/InteractionServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/interaction/InteractionClient.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/interaction/InteractionEndpointStructure.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/interaction/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/protocol/DeviceAdvertiser.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/session/case/CaseClient.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/session/pase/PaseClient.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/session/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/protocol/DeviceCommissioner.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/MatterDevice.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/mdns/MdnsConsts.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/mdns/MdnsInstanceBroadcaster.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/mdns/MdnsServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/mdns/MdnsBroadcaster.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/mdns/MdnsScanner.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/mdns/MdnsService.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/mdns/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/peer/ControllerCommissioningFlow.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/peer/ControllerDiscovery.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/peer/PeerStore.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/peer/PeerSet.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/peer/ControllerCommissioner.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/peer/OperationalPeer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/peer/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/protocol/ProtocolHandler.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/protocol/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/securechannel/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/protocol/dist/esm/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/StateType.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/transaction/Resource.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/managed/values/ValueCaster.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/validation/assertions.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/managed/Instrumentation.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/managed/Internal.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/managed/values/BitmapManager.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/managed/ManagedReference.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/managed/values/PrimitiveManager.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/managed/values/ListManager.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/Val.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/managed/values/StructManager.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/managed/values/ValueManager.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/managed/values/ValuePatcher.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/validation/conformance-util.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/validation/conformance-compiler.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/validation/conformance.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/validation/constraint.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/validation/ValueValidator.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/supervision/RootSupervisor.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/supervision/Schema.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/supervision/BehaviorSupervisor.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/Behavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/system/network/NetworkBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/cluster/ClusterBehaviorUtil.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/cluster/ClusterInterface.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/cluster/ClusterBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/cluster/ClusterEvents.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/cluster/ClusterState.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/cluster/ValidatedElements.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/cluster/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/context/ActionContext.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/context/ActionTracer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/context/Contextual.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/transaction/Errors.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/transaction/Status.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/transaction/ResourceSet.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/transaction/Tx.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/transaction/Transaction.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/context/server/ContextAgents.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/access-control/AccessControlBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/access-control/AccessControlServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/context/server/OnlineContext.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/context/server/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/context/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/Reactor.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/managed/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/transaction/Participant.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/transaction/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/supervision/ValueSupervisor.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/supervision/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/basic-information/BasicInformationBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/operational-credentials/OperationalCredentialsBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/system/network/NetworkServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/system/sessions/SessionsBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/system/commissioning/CommissioningBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/system/commissioning/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/endpoint/properties/EndpointLifecycle.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/node/server/IdentityService.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/system/index/IndexBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/system/index/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/system/network/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/system/parts/PartsBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/system/parts/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/descriptor/DescriptorBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/actions/ActionsBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/actions/ActionsServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/identify/IdentifyBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/identify/IdentifyServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/endpoint/properties/SupportedBehaviors.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/endpoint/type/EndpointType.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/endpoint/type/MutableEndpoint.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/endpoints/aggregator.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/descriptor/DescriptorServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/descriptor/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/bridged-device-basic-information/BridgedDeviceBasicInformationBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/bridged-device-basic-information/BridgedDeviceBasicInformationServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/power-source-configuration/PowerSourceConfigurationBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/power-source-configuration/PowerSourceConfigurationServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/power-source/PowerSourceBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/power-source/PowerSourceServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/endpoints/bridged-node.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/basic-information/BasicInformationServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/group-key-management/GroupKeyManagementBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/group-key-management/GroupKeyManagementServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/administrator-commissioning/AdministratorCommissioningInterface.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/administrator-commissioning/AdministratorCommissioningBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/administrator-commissioning/AdministratorCommissioningServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/administrator-commissioning/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/basic-information/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/general-commissioning/GeneralCommissioningBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/network-commissioning/NetworkCommissioningInterface.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/network-commissioning/NetworkCommissioningBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/network-commissioning/NetworkCommissioningServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/network-commissioning/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/general-commissioning/ServerNodeFailsafeContext.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/general-commissioning/GeneralCommissioningServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/access-control/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/operational-credentials/OperationalCredentialsServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/general-diagnostics/GeneralDiagnosticsBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/general-diagnostics/GeneralDiagnosticsServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/time-synchronization/TimeSynchronizationBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/time-synchronization/TimeSynchronizationServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/localization-configuration/LocalizationConfigurationBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/localization-configuration/LocalizationConfigurationServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/time-format-localization/TimeFormatLocalizationBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/time-format-localization/TimeFormatLocalizationServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/unit-localization/UnitLocalizationBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/unit-localization/UnitLocalizationServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/diagnostic-logs/DiagnosticLogsBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/diagnostic-logs/DiagnosticLogsServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/software-diagnostics/SoftwareDiagnosticsBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/software-diagnostics/SoftwareDiagnosticsServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/ethernet-network-diagnostics/EthernetNetworkDiagnosticsBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/ethernet-network-diagnostics/EthernetNetworkDiagnosticsServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/wi-fi-network-diagnostics/WiFiNetworkDiagnosticsBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/wi-fi-network-diagnostics/WiFiNetworkDiagnosticsServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/thread-network-diagnostics/ThreadNetworkDiagnosticsBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/thread-network-diagnostics/ThreadNetworkDiagnosticsServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/icd-management/IcdManagementBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/icd-management/IcdManagementServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/endpoints/root.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/system/product-description/ProductDescriptionServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/system/product-description/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/system/sessions/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/system/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/context/NodeActivity.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/endpoint/EndpointVariableService.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/endpoint/errors.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/endpoint/properties/EndpointInitializer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/endpoint/properties/Behaviors.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/endpoint/properties/EndpointContainer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/endpoint/properties/Parts.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/endpoint/Endpoint.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/endpoint/storage/DatasourceStore.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/node/storage/EndpointStoreService.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/node/storage/NodeStore.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/state/managed/Datasource.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/internal/BackingEvents.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/internal/Reactors.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/internal/BehaviorBacking.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/internal/ServerBehaviorBacking.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/internal/ClusterServerBacking.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/endpoint/EndpointServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/endpoint/properties/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/endpoint/storage/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/endpoint/type/SemanticNamespace.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/endpoint/type/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/endpoint/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/node/client/storage/ControllerStore.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/node/client/storage/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/node/client/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/node/NodeLifecycle.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/node/Node.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/node/server/ServerEndpointInitializer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/node/server/TransactionalInteractionServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/node/server/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/system/network/NetworkRuntime.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behavior/system/network/ServerNetworkRuntime.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/node/Nodes.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/node/ServerNode.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/node/storage/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/node/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/tags/ClosureTag.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/tags/CompassDirectionTag.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/tags/CompassLocationTag.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/tags/DirectionTag.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/tags/ElectricalMeasurementTag.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/tags/LaundryTag.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/tags/LevelTag.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/tags/LocationTag.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/tags/NumberTag.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/tags/PositionTag.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/tags/PowerSourceTag.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/tags/RefrigeratorTag.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/tags/RoomAirConditionerTag.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/tags/SwitchesTag.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/tags/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/nodejs/dist/esm/behavior/instrumentation.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/nodejs/dist/esm/behavior/register.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/nodejs/dist/esm/behavior/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/nodejs/dist/esm/crypto/NodeJsCrypto.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/nodejs/dist/esm/crypto/register.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/nodejs/dist/esm/crypto/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/nodejs/dist/esm/net/NodeJsUdpChannel.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/nodejs/dist/esm/net/NodeJsNetwork.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/nodejs/dist/esm/storage/StorageBackendDisk.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/nodejs/dist/esm/environment/NodeJsActionTracer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/nodejs/dist/esm/environment/ProcessManager.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/nodejs/dist/esm/environment/NodeJsEnvironment.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/nodejs/dist/esm/environment/register.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/nodejs/dist/esm/environment/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/nodejs/dist/esm/log/FileLogger.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/nodejs/dist/esm/log/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/nodejs/dist/esm/net/register.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/nodejs/dist/esm/net/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/nodejs/dist/esm/storage/StorageBackendJsonFile.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/nodejs/dist/esm/storage/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/nodejs/dist/esm/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/main/dist/esm/platform/nodejs.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/main/dist/esm/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/temperature-measurement/TemperatureMeasurementBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/temperature-measurement/TemperatureMeasurementServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/temperature-sensor.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/main/dist/esm/forwards/devices/temperature-sensor.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/fan-control/FanControlBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/fan-control/FanControlServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/groups/GroupsBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/groups/GroupsServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/hepa-filter-monitoring/HepaFilterMonitoringBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/hepa-filter-monitoring/HepaFilterMonitoringServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/activated-carbon-filter-monitoring/ActivatedCarbonFilterMonitoringBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/activated-carbon-filter-monitoring/ActivatedCarbonFilterMonitoringServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/air-purifier.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/air-quality/AirQualityBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/air-quality/AirQualityServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/relative-humidity-measurement/RelativeHumidityMeasurementBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/relative-humidity-measurement/RelativeHumidityMeasurementServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/carbon-monoxide-concentration-measurement/CarbonMonoxideConcentrationMeasurementBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/carbon-monoxide-concentration-measurement/CarbonMonoxideConcentrationMeasurementServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/carbon-dioxide-concentration-measurement/CarbonDioxideConcentrationMeasurementBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/carbon-dioxide-concentration-measurement/CarbonDioxideConcentrationMeasurementServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/nitrogen-dioxide-concentration-measurement/NitrogenDioxideConcentrationMeasurementBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/nitrogen-dioxide-concentration-measurement/NitrogenDioxideConcentrationMeasurementServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/ozone-concentration-measurement/OzoneConcentrationMeasurementBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/ozone-concentration-measurement/OzoneConcentrationMeasurementServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/formaldehyde-concentration-measurement/FormaldehydeConcentrationMeasurementBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/formaldehyde-concentration-measurement/FormaldehydeConcentrationMeasurementServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/pm1-concentration-measurement/Pm1ConcentrationMeasurementBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/pm1-concentration-measurement/Pm1ConcentrationMeasurementServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/pm25-concentration-measurement/Pm25ConcentrationMeasurementBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/pm25-concentration-measurement/Pm25ConcentrationMeasurementServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/pm10-concentration-measurement/Pm10ConcentrationMeasurementBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/pm10-concentration-measurement/Pm10ConcentrationMeasurementServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/radon-concentration-measurement/RadonConcentrationMeasurementBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/radon-concentration-measurement/RadonConcentrationMeasurementServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/total-volatile-organic-compounds-concentration-measurement/TotalVolatileOrganicCompoundsConcentrationMeasurementBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/total-volatile-organic-compounds-concentration-measurement/TotalVolatileOrganicCompoundsConcentrationMeasurementServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/air-quality-sensor.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/general-diagnostics/GeneralDiagnosticsInterface.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/general-diagnostics/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/on-off/OnOffBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/on-off/OnOffServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/media-playback/MediaPlaybackBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/media-playback/MediaPlaybackServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/keypad-input/KeypadInputBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/keypad-input/KeypadInputServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/wake-on-lan/WakeOnLanBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/wake-on-lan/WakeOnLanServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/channel/ChannelBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/channel/ChannelServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/target-navigator/TargetNavigatorBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/target-navigator/TargetNavigatorServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/media-input/MediaInputBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/media-input/MediaInputServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/low-power/LowPowerBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/low-power/LowPowerServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/audio-output/AudioOutputBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/audio-output/AudioOutputServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/content-control/ContentControlBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/content-control/ContentControlServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/messages/MessagesBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/messages/MessagesServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/basic-video-player.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/content-app-observer/ContentAppObserverBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/content-app-observer/ContentAppObserverServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/content-launcher/ContentLauncherBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/application-basic/ApplicationBasicBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/level-control/LevelControlBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/application-launcher/ApplicationLauncherBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/account-login/AccountLoginBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/casting-video-client.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/content-launcher/ContentLauncherServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/application-launcher/ApplicationLauncherServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/account-login/AccountLoginServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/casting-video-player.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/color-control/ColorControlBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/scenes-management/ScenesManagementBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/color-dimmer-switch.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/color-control/ColorControlInterface.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/on-off/OnOffInterface.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/on-off/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/color-control/kelvinToXy.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/color-control/ColorConversionUtils.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/color-control/ColorControlServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/color-control/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/level-control/LevelControlServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/scenes-management/ScenesManagementServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/occupancy-sensing/OccupancySensingBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/color-temperature-light.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/boolean-state/BooleanStateBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/boolean-state/BooleanStateServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/boolean-state-configuration/BooleanStateConfigurationBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/boolean-state-configuration/BooleanStateConfigurationServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/contact-sensor.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/application-basic/ApplicationBasicServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/binding/BindingBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/binding/BindingServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/content-app.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/illuminance-measurement/IlluminanceMeasurementBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/control-bridge.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/temperature-control/TemperatureControlBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/temperature-control/TemperatureControlServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/cook-surface.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/cooktop.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/dimmable-light.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/dimmable-plug-in-unit.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/dimmer-switch.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/operational-state/OperationalStateBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/operational-state/OperationalStateServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/dishwasher-mode/DishwasherModeBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/dishwasher-mode/DishwasherModeServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/dishwasher-alarm/DishwasherAlarmBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/dishwasher-alarm/DishwasherAlarmServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/dishwasher.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/door-lock/DoorLockBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/door-lock-controller.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/door-lock/DoorLockServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/door-lock.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/extended-color-light.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/extractor-hood.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/fan.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/flow-measurement/FlowMeasurementBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/flow-measurement/FlowMeasurementServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/flow-sensor.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/switch/SwitchBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/switch/SwitchServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/generic-switch.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/humidity-sensor.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/laundry-washer-mode/LaundryWasherModeBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/laundry-washer-mode/LaundryWasherModeServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/laundry-dryer-controls/LaundryDryerControlsBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/laundry-dryer-controls/LaundryDryerControlsServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/laundry-dryer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/laundry-washer-controls/LaundryWasherControlsBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/laundry-washer-controls/LaundryWasherControlsServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/laundry-washer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/illuminance-measurement/IlluminanceMeasurementServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/light-sensor.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/microwave-oven-mode/MicrowaveOvenModeBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/microwave-oven-mode/MicrowaveOvenModeServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/microwave-oven-control/MicrowaveOvenControlBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/microwave-oven-control/MicrowaveOvenControlServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/microwave-oven.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/mode-select/ModeSelectBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/mode-select/ModeSelectServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/mode-select.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/occupancy-sensing/OccupancySensingServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/occupancy-sensor.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/on-off-light.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/on-off-light-switch.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/on-off-plug-in-unit.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/on-off-sensor.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/oven.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/pressure-measurement/PressureMeasurementBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/pressure-measurement/PressureMeasurementServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/pressure-sensor.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/pump-configuration-and-control/PumpConfigurationAndControlBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/pump-controller.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/pump-configuration-and-control/PumpConfigurationAndControlServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/pump.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/rain-sensor.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/refrigerator-and-temperature-controlled-cabinet-mode/RefrigeratorAndTemperatureControlledCabinetModeBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/refrigerator-and-temperature-controlled-cabinet-mode/RefrigeratorAndTemperatureControlledCabinetModeServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/refrigerator-alarm/RefrigeratorAlarmBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/refrigerator-alarm/RefrigeratorAlarmServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/refrigerator.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/rvc-run-mode/RvcRunModeBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/rvc-run-mode/RvcRunModeServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/rvc-operational-state/RvcOperationalStateBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/rvc-operational-state/RvcOperationalStateServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/rvc-clean-mode/RvcCleanModeBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/rvc-clean-mode/RvcCleanModeServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/robotic-vacuum-cleaner.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/thermostat/ThermostatBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/thermostat/ThermostatServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/thermostat-user-interface-configuration/ThermostatUserInterfaceConfigurationBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/thermostat-user-interface-configuration/ThermostatUserInterfaceConfigurationServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/room-air-conditioner.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/smoke-co-alarm/SmokeCoAlarmBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/smoke-co-alarm/SmokeCoAlarmServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/smoke-co-alarm.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/speaker.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/oven-mode/OvenModeBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/oven-mode/OvenModeServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/oven-cavity-operational-state/OvenCavityOperationalStateBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/oven-cavity-operational-state/OvenCavityOperationalStateServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/temperature-controlled-cabinet.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/energy-preference/EnergyPreferenceBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/energy-preference/EnergyPreferenceServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/thermostat.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/video-remote-control.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/water-freeze-detector.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/water-leak-detector.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/valve-configuration-and-control/ValveConfigurationAndControlBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/valve-configuration-and-control/ValveConfigurationAndControlServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/water-valve.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/window-covering/WindowCoveringBehavior.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/window-covering-controller.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/behaviors/window-covering/WindowCoveringServer.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/window-covering.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/node/dist/esm/devices/index.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)

@matter/main/dist/esm/devices.js:
  (**
   * @license
   * Copyright 2022-2024 Matter.js Authors
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
//# sourceMappingURL=index.cjs.map
